var W8e=Object.defineProperty;var G8e=(e,t,n)=>t in e?W8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gl=(e,t,n)=>G8e(e,typeof t!="symbol"?t+"":t,n);function Y8e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uve(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var CF={exports:{}},QE={},SF={exports:{}},qn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gre;function K8e(){if(Gre)return qn;Gre=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function f(F){return F===null||typeof F!="object"?null:(F=d&&F[d]||F["@@iterator"],typeof F=="function"?F:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(F,W,q){this.props=F,this.context=W,this.refs=m,this.updater=q||h}g.prototype.isReactComponent={},g.prototype.setState=function(F,W){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,W,"setState")},g.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function v(){}v.prototype=g.prototype;function y(F,W,q){this.props=F,this.context=W,this.refs=m,this.updater=q||h}var w=y.prototype=new v;w.constructor=y,p(w,g.prototype),w.isPureReactComponent=!0;var E=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(F,W,q){var K,J={},te=null,le=null;if(W!=null)for(K in W.ref!==void 0&&(le=W.ref),W.key!==void 0&&(te=""+W.key),W)C.call(W,K)&&!T.hasOwnProperty(K)&&(J[K]=W[K]);var oe=arguments.length-2;if(oe===1)J.children=q;else if(1<oe){for(var ie=Array(oe),he=0;he<oe;he++)ie[he]=arguments[he+2];J.children=ie}if(F&&F.defaultProps)for(K in oe=F.defaultProps,oe)J[K]===void 0&&(J[K]=oe[K]);return{$$typeof:e,type:F,key:te,ref:le,props:J,_owner:S.current}}function I(F,W){return{$$typeof:e,type:F.type,key:W,ref:F.ref,props:F.props,_owner:F._owner}}function R(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function O(F){var W={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(q){return W[q]})}var M=/\/+/g;function $(F,W){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):W.toString(36)}function L(F,W,q,K,J){var te=typeof F;(te==="undefined"||te==="boolean")&&(F=null);var le=!1;if(F===null)le=!0;else switch(te){case"string":case"number":le=!0;break;case"object":switch(F.$$typeof){case e:case t:le=!0}}if(le)return le=F,J=J(le),F=K===""?"."+$(le,0):K,E(J)?(q="",F!=null&&(q=F.replace(M,"$&/")+"/"),L(J,W,q,"",function(he){return he})):J!=null&&(R(J)&&(J=I(J,q+(!J.key||le&&le.key===J.key?"":(""+J.key).replace(M,"$&/")+"/")+F)),W.push(J)),1;if(le=0,K=K===""?".":K+":",E(F))for(var oe=0;oe<F.length;oe++){te=F[oe];var ie=K+$(te,oe);le+=L(te,W,q,ie,J)}else if(ie=f(F),typeof ie=="function")for(F=ie.call(F),oe=0;!(te=F.next()).done;)te=te.value,ie=K+$(te,oe++),le+=L(te,W,q,ie,J);else if(te==="object")throw W=String(F),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return le}function U(F,W,q){if(F==null)return F;var K=[],J=0;return L(F,K,"","",function(te){return W.call(q,te,J++)}),K}function B(F){if(F._status===-1){var W=F._result;W=W(),W.then(function(q){(F._status===0||F._status===-1)&&(F._status=1,F._result=q)},function(q){(F._status===0||F._status===-1)&&(F._status=2,F._result=q)}),F._status===-1&&(F._status=0,F._result=W)}if(F._status===1)return F._result.default;throw F._result}var V={current:null},G={transition:null},Y={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:G,ReactCurrentOwner:S};function z(){throw Error("act(...) is not supported in production builds of React.")}return qn.Children={map:U,forEach:function(F,W,q){U(F,function(){W.apply(this,arguments)},q)},count:function(F){var W=0;return U(F,function(){W++}),W},toArray:function(F){return U(F,function(W){return W})||[]},only:function(F){if(!R(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},qn.Component=g,qn.Fragment=n,qn.Profiler=i,qn.PureComponent=y,qn.StrictMode=r,qn.Suspense=l,qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,qn.act=z,qn.cloneElement=function(F,W,q){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var K=p({},F.props),J=F.key,te=F.ref,le=F._owner;if(W!=null){if(W.ref!==void 0&&(te=W.ref,le=S.current),W.key!==void 0&&(J=""+W.key),F.type&&F.type.defaultProps)var oe=F.type.defaultProps;for(ie in W)C.call(W,ie)&&!T.hasOwnProperty(ie)&&(K[ie]=W[ie]===void 0&&oe!==void 0?oe[ie]:W[ie])}var ie=arguments.length-2;if(ie===1)K.children=q;else if(1<ie){oe=Array(ie);for(var he=0;he<ie;he++)oe[he]=arguments[he+2];K.children=oe}return{$$typeof:e,type:F.type,key:J,ref:te,props:K,_owner:le}},qn.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},qn.createElement=k,qn.createFactory=function(F){var W=k.bind(null,F);return W.type=F,W},qn.createRef=function(){return{current:null}},qn.forwardRef=function(F){return{$$typeof:a,render:F}},qn.isValidElement=R,qn.lazy=function(F){return{$$typeof:c,_payload:{_status:-1,_result:F},_init:B}},qn.memo=function(F,W){return{$$typeof:u,type:F,compare:W===void 0?null:W}},qn.startTransition=function(F){var W=G.transition;G.transition={};try{F()}finally{G.transition=W}},qn.unstable_act=z,qn.useCallback=function(F,W){return V.current.useCallback(F,W)},qn.useContext=function(F){return V.current.useContext(F)},qn.useDebugValue=function(){},qn.useDeferredValue=function(F){return V.current.useDeferredValue(F)},qn.useEffect=function(F,W){return V.current.useEffect(F,W)},qn.useId=function(){return V.current.useId()},qn.useImperativeHandle=function(F,W,q){return V.current.useImperativeHandle(F,W,q)},qn.useInsertionEffect=function(F,W){return V.current.useInsertionEffect(F,W)},qn.useLayoutEffect=function(F,W){return V.current.useLayoutEffect(F,W)},qn.useMemo=function(F,W){return V.current.useMemo(F,W)},qn.useReducer=function(F,W,q){return V.current.useReducer(F,W,q)},qn.useRef=function(F){return V.current.useRef(F)},qn.useState=function(F){return V.current.useState(F)},qn.useSyncExternalStore=function(F,W,q){return V.current.useSyncExternalStore(F,W,q)},qn.useTransition=function(){return V.current.useTransition()},qn.version="18.3.1",qn}var Yre;function SN(){return Yre||(Yre=1,SF.exports=K8e()),SF.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kre;function X8e(){if(Kre)return QE;Kre=1;var e=SN(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var c,d={},f=null,h=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(h=l.ref);for(c in l)r.call(l,c)&&!s.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:t,type:a,key:f,ref:h,props:d,_owner:i.current}}return QE.Fragment=n,QE.jsx=o,QE.jsxs=o,QE}var Xre;function Q8e(){return Xre||(Xre=1,CF.exports=X8e()),CF.exports}var x=Q8e(),D=SN();const sr=qs(D),J8e=Y8e({__proto__:null,default:sr},[D]);var SI={},TF={exports:{}},yl={},kF={exports:{}},AF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qre;function Z8e(){return Qre||(Qre=1,(function(e){function t(G,Y){var z=G.length;G.push(Y);e:for(;0<z;){var F=z-1>>>1,W=G[F];if(0<i(W,Y))G[F]=Y,G[z]=W,z=F;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],z=G.pop();if(z!==Y){G[0]=z;e:for(var F=0,W=G.length,q=W>>>1;F<q;){var K=2*(F+1)-1,J=G[K],te=K+1,le=G[te];if(0>i(J,z))te<W&&0>i(le,J)?(G[F]=le,G[te]=z,F=te):(G[F]=J,G[K]=z,F=K);else if(te<W&&0>i(le,z))G[F]=le,G[te]=z,F=te;else break e}}return Y}function i(G,Y){var z=G.sortIndex-Y.sortIndex;return z!==0?z:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=G)r(u),Y.sortIndex=Y.expirationTime,t(l,Y);else break;Y=n(u)}}function E(G){if(m=!1,w(G),!p)if(n(l)!==null)p=!0,B(C);else{var Y=n(u);Y!==null&&V(E,Y.startTime-G)}}function C(G,Y){p=!1,m&&(m=!1,v(k),k=-1),h=!0;var z=f;try{for(w(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||G&&!O());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var W=F(d.expirationTime<=Y);Y=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),w(Y)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var K=n(u);K!==null&&V(E,K.startTime-Y),q=!1}return q}finally{d=null,f=z,h=!1}}var S=!1,T=null,k=-1,I=5,R=-1;function O(){return!(e.unstable_now()-R<I)}function M(){if(T!==null){var G=e.unstable_now();R=G;var Y=!0;try{Y=T(!0,G)}finally{Y?$():(S=!1,T=null)}}else S=!1}var $;if(typeof y=="function")$=function(){y(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=M,$=function(){U.postMessage(null)}}else $=function(){g(M,0)};function B(G){T=G,S||(S=!0,$())}function V(G,Y){k=g(function(){G(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,B(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var z=f;f=Y;try{return G()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var z=f;f=G;try{return Y()}finally{f=z}},e.unstable_scheduleCallback=function(G,Y,z){var F=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?F+z:F):z=F,G){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=z+W,G={id:c++,callback:Y,priorityLevel:G,startTime:z,expirationTime:W,sortIndex:-1},z>F?(G.sortIndex=z,t(u,G),n(l)===null&&G===n(u)&&(m?(v(k),k=-1):m=!0,V(E,z-F))):(G.sortIndex=W,t(l,G),p||h||(p=!0,B(C))),G},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(G){var Y=f;return function(){var z=f;f=Y;try{return G.apply(this,arguments)}finally{f=z}}}})(AF)),AF}var Jre;function eFe(){return Jre||(Jre=1,kF.exports=Z8e()),kF.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zre;function tFe(){if(Zre)return yl;Zre=1;var e=SN(),t=eFe();function n(b){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+b,A=1;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+b+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(b,_){o(b,_),o(b+"Capture",_)}function o(b,_){for(i[b]=_,b=0;b<_.length;b++)r.add(_[b])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function f(b){return l.call(d,b)?!0:l.call(c,b)?!1:u.test(b)?d[b]=!0:(c[b]=!0,!1)}function h(b,_,A,N){if(A!==null&&A.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return N?!1:A!==null?!A.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function p(b,_,A,N){if(_===null||typeof _>"u"||h(b,_,A,N))return!0;if(N)return!1;if(A!==null)switch(A.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function m(b,_,A,N,H,Q,re){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=N,this.attributeNamespace=H,this.mustUseProperty=A,this.propertyName=b,this.type=_,this.sanitizeURL=Q,this.removeEmptyString=re}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){g[b]=new m(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var _=b[0];g[_]=new m(_,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){g[b]=new m(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){g[b]=new m(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){g[b]=new m(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){g[b]=new m(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){g[b]=new m(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){g[b]=new m(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){g[b]=new m(b,5,!1,b.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var _=b.replace(v,y);g[_]=new m(_,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var _=b.replace(v,y);g[_]=new m(_,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var _=b.replace(v,y);g[_]=new m(_,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){g[b]=new m(b,1,!1,b.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){g[b]=new m(b,1,!1,b.toLowerCase(),null,!0,!0)});function w(b,_,A,N){var H=g.hasOwnProperty(_)?g[_]:null;(H!==null?H.type!==0:N||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(p(_,A,H,N)&&(A=null),N||H===null?f(_)&&(A===null?b.removeAttribute(_):b.setAttribute(_,""+A)):H.mustUseProperty?b[H.propertyName]=A===null?H.type===3?!1:"":A:(_=H.attributeName,N=H.attributeNamespace,A===null?b.removeAttribute(_):(H=H.type,A=H===3||H===4&&A===!0?"":""+A,N?b.setAttributeNS(N,_,A):b.setAttribute(_,A))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),G=Symbol.iterator;function Y(b){return b===null||typeof b!="object"?null:(b=G&&b[G]||b["@@iterator"],typeof b=="function"?b:null)}var z=Object.assign,F;function W(b){if(F===void 0)try{throw Error()}catch(A){var _=A.stack.trim().match(/\n( *(at )?)/);F=_&&_[1]||""}return`
`+F+b}var q=!1;function K(b,_){if(!b||q)return"";q=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(qe){var N=qe}Reflect.construct(b,[],_)}else{try{_.call()}catch(qe){N=qe}b.call(_.prototype)}else{try{throw Error()}catch(qe){N=qe}b()}}catch(qe){if(qe&&N&&typeof qe.stack=="string"){for(var H=qe.stack.split(`
`),Q=N.stack.split(`
`),re=H.length-1,ye=Q.length-1;1<=re&&0<=ye&&H[re]!==Q[ye];)ye--;for(;1<=re&&0<=ye;re--,ye--)if(H[re]!==Q[ye]){if(re!==1||ye!==1)do if(re--,ye--,0>ye||H[re]!==Q[ye]){var Se=`
`+H[re].replace(" at new "," at ");return b.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",b.displayName)),Se}while(1<=re&&0<=ye);break}}}finally{q=!1,Error.prepareStackTrace=A}return(b=b?b.displayName||b.name:"")?W(b):""}function J(b){switch(b.tag){case 5:return W(b.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return b=K(b.type,!1),b;case 11:return b=K(b.type.render,!1),b;case 1:return b=K(b.type,!0),b;default:return""}}function te(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case T:return"Fragment";case S:return"Portal";case I:return"Profiler";case k:return"StrictMode";case $:return"Suspense";case L:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case O:return(b.displayName||"Context")+".Consumer";case R:return(b._context.displayName||"Context")+".Provider";case M:var _=b.render;return b=b.displayName,b||(b=_.displayName||_.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case U:return _=b.displayName||null,_!==null?_:te(b.type)||"Memo";case B:_=b._payload,b=b._init;try{return te(b(_))}catch{}}return null}function le(b){var _=b.type;switch(b.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=_.render,b=b.displayName||b.name||"",_.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(_);case 8:return _===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function oe(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function ie(b){var _=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function he(b){var _=ie(b)?"checked":"value",A=Object.getOwnPropertyDescriptor(b.constructor.prototype,_),N=""+b[_];if(!b.hasOwnProperty(_)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var H=A.get,Q=A.set;return Object.defineProperty(b,_,{configurable:!0,get:function(){return H.call(this)},set:function(re){N=""+re,Q.call(this,re)}}),Object.defineProperty(b,_,{enumerable:A.enumerable}),{getValue:function(){return N},setValue:function(re){N=""+re},stopTracking:function(){b._valueTracker=null,delete b[_]}}}}function ee(b){b._valueTracker||(b._valueTracker=he(b))}function ne(b){if(!b)return!1;var _=b._valueTracker;if(!_)return!0;var A=_.getValue(),N="";return b&&(N=ie(b)?b.checked?"true":"false":b.value),b=N,b!==A?(_.setValue(b),!0):!1}function ue(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function ve(b,_){var A=_.checked;return z({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??b._wrapperState.initialChecked})}function xe(b,_){var A=_.defaultValue==null?"":_.defaultValue,N=_.checked!=null?_.checked:_.defaultChecked;A=oe(_.value!=null?_.value:A),b._wrapperState={initialChecked:N,initialValue:A,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function Re(b,_){_=_.checked,_!=null&&w(b,"checked",_,!1)}function Te(b,_){Re(b,_);var A=oe(_.value),N=_.type;if(A!=null)N==="number"?(A===0&&b.value===""||b.value!=A)&&(b.value=""+A):b.value!==""+A&&(b.value=""+A);else if(N==="submit"||N==="reset"){b.removeAttribute("value");return}_.hasOwnProperty("value")?He(b,_.type,A):_.hasOwnProperty("defaultValue")&&He(b,_.type,oe(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(b.defaultChecked=!!_.defaultChecked)}function we(b,_,A){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var N=_.type;if(!(N!=="submit"&&N!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+b._wrapperState.initialValue,A||_===b.value||(b.value=_),b.defaultValue=_}A=b.name,A!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,A!==""&&(b.name=A)}function He(b,_,A){(_!=="number"||ue(b.ownerDocument)!==b)&&(A==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+A&&(b.defaultValue=""+A))}var Xe=Array.isArray;function tt(b,_,A,N){if(b=b.options,_){_={};for(var H=0;H<A.length;H++)_["$"+A[H]]=!0;for(A=0;A<b.length;A++)H=_.hasOwnProperty("$"+b[A].value),b[A].selected!==H&&(b[A].selected=H),H&&N&&(b[A].defaultSelected=!0)}else{for(A=""+oe(A),_=null,H=0;H<b.length;H++){if(b[H].value===A){b[H].selected=!0,N&&(b[H].defaultSelected=!0);return}_!==null||b[H].disabled||(_=b[H])}_!==null&&(_.selected=!0)}}function ft(b,_){if(_.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},_,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function rt(b,_){var A=_.value;if(A==null){if(A=_.children,_=_.defaultValue,A!=null){if(_!=null)throw Error(n(92));if(Xe(A)){if(1<A.length)throw Error(n(93));A=A[0]}_=A}_==null&&(_=""),A=_}b._wrapperState={initialValue:oe(A)}}function Pe(b,_){var A=oe(_.value),N=oe(_.defaultValue);A!=null&&(A=""+A,A!==b.value&&(b.value=A),_.defaultValue==null&&b.defaultValue!==A&&(b.defaultValue=A)),N!=null&&(b.defaultValue=""+N)}function Le(b){var _=b.textContent;_===b._wrapperState.initialValue&&_!==""&&_!==null&&(b.value=_)}function ge(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(b,_){return b==null||b==="http://www.w3.org/1999/xhtml"?ge(_):b==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var ze,it=(function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,A,N,H){MSApp.execUnsafeLocalFunction(function(){return b(_,A,N,H)})}:b})(function(b,_){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=_;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=ze.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;_.firstChild;)b.appendChild(_.firstChild)}});function st(b,_){if(_){var A=b.firstChild;if(A&&A===b.lastChild&&A.nodeType===3){A.nodeValue=_;return}}b.textContent=_}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},un=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(b){un.forEach(function(_){_=_+b.charAt(0).toUpperCase()+b.substring(1),wt[_]=wt[b]})});function Rn(b,_,A){return _==null||typeof _=="boolean"||_===""?"":A||typeof _!="number"||_===0||wt.hasOwnProperty(b)&&wt[b]?(""+_).trim():_+"px"}function Mn(b,_){b=b.style;for(var A in _)if(_.hasOwnProperty(A)){var N=A.indexOf("--")===0,H=Rn(A,_[A],N);A==="float"&&(A="cssFloat"),N?b.setProperty(A,H):b[A]=H}}var Lt=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wn(b,_){if(_){if(Lt[b]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(n(137,b));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(n(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(n(61))}if(_.style!=null&&typeof _.style!="object")throw Error(n(62))}}function Gn(b,_){if(b.indexOf("-")===-1)return typeof _.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fn=null;function Bi(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var Zn=null,Mr=null,Kr=null;function Yn(b){if(b=ME(b)){if(typeof Zn!="function")throw Error(n(280));var _=b.stateNode;_&&(_=BA(_),Zn(b.stateNode,b.type,_))}}function Ji(b){Mr?Kr?Kr.push(b):Kr=[b]:Mr=b}function Go(){if(Mr){var b=Mr,_=Kr;if(Kr=Mr=null,Yn(b),_)for(b=0;b<_.length;b++)Yn(_[b])}}function Es(b,_){return b(_)}function rr(){}var Ct=!1;function zr(b,_,A){if(Ct)return b(_,A);Ct=!0;try{return Es(b,_,A)}finally{Ct=!1,(Mr!==null||Kr!==null)&&(rr(),Go())}}function dn(b,_){var A=b.stateNode;if(A===null)return null;var N=BA(A);if(N===null)return null;A=N[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(b=b.type,N=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!N;break e;default:b=!1}if(b)return null;if(A&&typeof A!="function")throw Error(n(231,_,typeof A));return A}var Rr=!1;if(a)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Rr=!1}function br(b,_,A,N,H,Q,re,ye,Se){var qe=Array.prototype.slice.call(arguments,3);try{_.apply(A,qe)}catch(dt){this.onError(dt)}}var ni=!1,Ei=null,wo=!1,kc=null,lf={onError:function(b){ni=!0,Ei=b}};function Ac(b,_,A,N,H,Q,re,ye,Se){ni=!1,Ei=null,br.apply(lf,arguments)}function uf(b,_,A,N,H,Q,re,ye,Se){if(Ac.apply(this,arguments),ni){if(ni){var qe=Ei;ni=!1,Ei=null}else throw Error(n(198));wo||(wo=!0,kc=qe)}}function Tn(b){var _=b,A=b;if(b.alternate)for(;_.return;)_=_.return;else{b=_;do _=b,(_.flags&4098)!==0&&(A=_.return),b=_.return;while(b)}return _.tag===3?A:null}function Ta(b){if(b.tag===13){var _=b.memoizedState;if(_===null&&(b=b.alternate,b!==null&&(_=b.memoizedState)),_!==null)return _.dehydrated}return null}function Gs(b){if(Tn(b)!==b)throw Error(n(188))}function Ic(b){var _=b.alternate;if(!_){if(_=Tn(b),_===null)throw Error(n(188));return _!==b?null:b}for(var A=b,N=_;;){var H=A.return;if(H===null)break;var Q=H.alternate;if(Q===null){if(N=H.return,N!==null){A=N;continue}break}if(H.child===Q.child){for(Q=H.child;Q;){if(Q===A)return Gs(H),b;if(Q===N)return Gs(H),_;Q=Q.sibling}throw Error(n(188))}if(A.return!==N.return)A=H,N=Q;else{for(var re=!1,ye=H.child;ye;){if(ye===A){re=!0,A=H,N=Q;break}if(ye===N){re=!0,N=H,A=Q;break}ye=ye.sibling}if(!re){for(ye=Q.child;ye;){if(ye===A){re=!0,A=Q,N=H;break}if(ye===N){re=!0,N=Q,A=H;break}ye=ye.sibling}if(!re)throw Error(n(189))}}if(A.alternate!==N)throw Error(n(190))}if(A.tag!==3)throw Error(n(188));return A.stateNode.current===A?b:_}function Rc(b){return b=Ic(b),b!==null?cf(b):null}function cf(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var _=cf(b);if(_!==null)return _;b=b.sibling}return null}var df=t.unstable_scheduleCallback,Dc=t.unstable_cancelCallback,Pm=t.unstable_shouldYield,Pc=t.unstable_requestPaint,er=t.unstable_now,Wh=t.unstable_getCurrentPriorityLevel,Cs=t.unstable_ImmediatePriority,Wl=t.unstable_UserBlockingPriority,Ss=t.unstable_NormalPriority,Oc=t.unstable_LowPriority,Om=t.unstable_IdlePriority,Su=null,Ts=null;function Nm(b){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(Su,b,void 0,(b.current.flags&128)===128)}catch{}}var ks=Math.clz32?Math.clz32:de,se=Math.log,Ee=Math.LN2;function de(b){return b>>>=0,b===0?32:31-(se(b)/Ee|0)|0}var Ae=64,De=4194304;function ke(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Qe(b,_){var A=b.pendingLanes;if(A===0)return 0;var N=0,H=b.suspendedLanes,Q=b.pingedLanes,re=A&268435455;if(re!==0){var ye=re&~H;ye!==0?N=ke(ye):(Q&=re,Q!==0&&(N=ke(Q)))}else re=A&~H,re!==0?N=ke(re):Q!==0&&(N=ke(Q));if(N===0)return 0;if(_!==0&&_!==N&&(_&H)===0&&(H=N&-N,Q=_&-_,H>=Q||H===16&&(Q&4194240)!==0))return _;if((N&4)!==0&&(N|=A&16),_=b.entangledLanes,_!==0)for(b=b.entanglements,_&=N;0<_;)A=31-ks(_),H=1<<A,N|=b[A],_&=~H;return N}function ot(b,_){switch(b){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lt(b,_){for(var A=b.suspendedLanes,N=b.pingedLanes,H=b.expirationTimes,Q=b.pendingLanes;0<Q;){var re=31-ks(Q),ye=1<<re,Se=H[re];Se===-1?((ye&A)===0||(ye&N)!==0)&&(H[re]=ot(ye,_)):Se<=_&&(b.expiredLanes|=ye),Q&=~ye}}function at(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function vt(){var b=Ae;return Ae<<=1,(Ae&4194240)===0&&(Ae=64),b}function Bt(b){for(var _=[],A=0;31>A;A++)_.push(b);return _}function vn(b,_,A){b.pendingLanes|=_,_!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,_=31-ks(_),b[_]=A}function Zt(b,_){var A=b.pendingLanes&~_;b.pendingLanes=_,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=_,b.mutableReadLanes&=_,b.entangledLanes&=_,_=b.entanglements;var N=b.eventTimes;for(b=b.expirationTimes;0<A;){var H=31-ks(A),Q=1<<H;_[H]=0,N[H]=-1,b[H]=-1,A&=~Q}}function jn(b,_){var A=b.entangledLanes|=_;for(b=b.entanglements;A;){var N=31-ks(A),H=1<<N;H&_|b[N]&_&&(b[N]|=_),A&=~H}}var tn=0;function wr(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var As,ol,Tu,$m,ff,Mm=!1,xo=[],Di=null,Ys=null,ka=null,hf=new Map,Aa=new Map,al=[],ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(b,_){switch(b){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":hf.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(_.pointerId)}}function hs(b,_,A,N,H,Q){return b===null||b.nativeEvent!==Q?(b={blockedOn:_,domEventName:A,eventSystemFlags:N,nativeEvent:Q,targetContainers:[H]},_!==null&&(_=ME(_),_!==null&&ol(_)),b):(b.eventSystemFlags|=N,_=b.targetContainers,H!==null&&_.indexOf(H)===-1&&_.push(H),b)}function SE(b,_,A,N,H){switch(_){case"focusin":return Di=hs(Di,b,_,A,N,H),!0;case"dragenter":return Ys=hs(Ys,b,_,A,N,H),!0;case"mouseover":return ka=hs(ka,b,_,A,N,H),!0;case"pointerover":var Q=H.pointerId;return hf.set(Q,hs(hf.get(Q)||null,b,_,A,N,H)),!0;case"gotpointercapture":return Q=H.pointerId,Aa.set(Q,hs(Aa.get(Q)||null,b,_,A,N,H)),!0}return!1}function ry(b){var _=sy(b.target);if(_!==null){var A=Tn(_);if(A!==null){if(_=A.tag,_===13){if(_=Ta(A),_!==null){b.blockedOn=_,ff(b.priority,function(){Tu(A)});return}}else if(_===3&&A.stateNode.current.memoizedState.isDehydrated){b.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}b.blockedOn=null}function Nc(b){if(b.blockedOn!==null)return!1;for(var _=b.targetContainers;0<_.length;){var A=cr(b.domEventName,b.eventSystemFlags,_[0],b.nativeEvent);if(A===null){A=b.nativeEvent;var N=new A.constructor(A.type,A);Fn=N,A.target.dispatchEvent(N),Fn=null}else return _=ME(A),_!==null&&ol(_),b.blockedOn=A,!1;_.shift()}return!0}function pf(b,_,A){Nc(b)&&A.delete(_)}function ab(){Mm=!1,Di!==null&&Nc(Di)&&(Di=null),Ys!==null&&Nc(Ys)&&(Ys=null),ka!==null&&Nc(ka)&&(ka=null),hf.forEach(pf),Aa.forEach(pf)}function Gl(b,_){b.blockedOn===_&&(b.blockedOn=null,Mm||(Mm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ab)))}function ll(b){function _(H){return Gl(H,b)}if(0<xo.length){Gl(xo[0],b);for(var A=1;A<xo.length;A++){var N=xo[A];N.blockedOn===b&&(N.blockedOn=null)}}for(Di!==null&&Gl(Di,b),Ys!==null&&Gl(Ys,b),ka!==null&&Gl(ka,b),hf.forEach(_),Aa.forEach(_),A=0;A<al.length;A++)N=al[A],N.blockedOn===b&&(N.blockedOn=null);for(;0<al.length&&(A=al[0],A.blockedOn===null);)ry(A),A.blockedOn===null&&al.shift()}var $c=E.ReactCurrentBatchConfig,fe=!0;function Ce(b,_,A,N){var H=tn,Q=$c.transition;$c.transition=null;try{tn=1,Ht(b,_,A,N)}finally{tn=H,$c.transition=Q}}function Ve(b,_,A,N){var H=tn,Q=$c.transition;$c.transition=null;try{tn=4,Ht(b,_,A,N)}finally{tn=H,$c.transition=Q}}function Ht(b,_,A,N){if(fe){var H=cr(b,_,A,N);if(H===null)p8(b,_,N,Dn,A),ku(b,N);else if(SE(H,b,_,A,N))N.stopPropagation();else if(ku(b,N),_&4&&-1<ob.indexOf(b)){for(;H!==null;){var Q=ME(H);if(Q!==null&&As(Q),Q=cr(b,_,A,N),Q===null&&p8(b,_,N,Dn,A),Q===H)break;H=Q}H!==null&&N.stopPropagation()}else p8(b,_,N,null,A)}}var Dn=null;function cr(b,_,A,N){if(Dn=null,b=Bi(N),b=sy(b),b!==null)if(_=Tn(b),_===null)b=null;else if(A=_.tag,A===13){if(b=Ta(_),b!==null)return b;b=null}else if(A===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;b=null}else _!==b&&(b=null);return Dn=b,null}function Fr(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wh()){case Cs:return 1;case Wl:return 4;case Ss:case Oc:return 16;case Om:return 536870912;default:return 16}default:return 16}}var kn=null,Dr=null,ai=null;function Is(){if(ai)return ai;var b,_=Dr,A=_.length,N,H="value"in kn?kn.value:kn.textContent,Q=H.length;for(b=0;b<A&&_[b]===H[b];b++);var re=A-b;for(N=1;N<=re&&_[A-N]===H[Q-N];N++);return ai=H.slice(b,1<N?1-N:void 0)}function Au(b){var _=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&_===13&&(b=13)):b=_,b===10&&(b=13),32<=b||b===13?b:0}function ul(){return!0}function Gh(){return!1}function ps(b){function _(A,N,H,Q,re){this._reactName=A,this._targetInst=H,this.type=N,this.nativeEvent=Q,this.target=re,this.currentTarget=null;for(var ye in b)b.hasOwnProperty(ye)&&(A=b[ye],this[ye]=A?A(Q):Q[ye]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?ul:Gh,this.isPropagationStopped=Gh,this}return z(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),_}var Mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lb=ps(Mc),mf=z({},Mc,{view:0,detail:0}),i8=ps(mf),ub,Yh,Fm,iy=z({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==Fm&&(Fm&&b.type==="mousemove"?(ub=b.screenX-Fm.screenX,Yh=b.screenY-Fm.screenY):Yh=ub=0,Fm=b),ub)},movementY:function(b){return"movementY"in b?b.movementY:Yh}}),cb=ps(iy),TE=z({},iy,{dataTransfer:0}),TA=ps(TE),db=z({},mf,{relatedTarget:0}),fb=ps(db),kA=z({},Mc,{animationName:0,elapsedTime:0,pseudoElement:0}),Kh=ps(kA),AA=z({},Mc,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),IA=ps(AA),RA=z({},Mc,{data:0}),kE=ps(RA),cl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lm(b){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(b):(b=PA[b])?!!_[b]:!1}function P(){return Lm}var X=z({},mf,{key:function(b){if(b.key){var _=cl[b.key]||b.key;if(_!=="Unidentified")return _}return b.type==="keypress"?(b=Au(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?DA[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P,charCode:function(b){return b.type==="keypress"?Au(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?Au(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),Z=ps(X),ae=z({},iy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ne=ps(ae),Ge=z({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P}),At=ps(Ge),Ur=z({},Mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rs=ps(Ur),dr=z({},iy,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Ks=ps(dr),Xs=[9,13,27,32],gf=a&&"CompositionEvent"in window,_o=null;a&&"documentMode"in document&&(_o=document.documentMode);var hb=a&&"TextEvent"in window&&!_o,pb=a&&(!gf||_o&&8<_o&&11>=_o),Bte=" ",zte=!1;function Ute(b,_){switch(b){case"keyup":return Xs.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qte(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var mb=!1;function qMe(b,_){switch(b){case"compositionend":return qte(_);case"keypress":return _.which!==32?null:(zte=!0,Bte);case"textInput":return b=_.data,b===Bte&&zte?null:b;default:return null}}function HMe(b,_){if(mb)return b==="compositionend"||!gf&&Ute(b,_)?(b=Is(),ai=Dr=kn=null,mb=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return pb&&_.locale!=="ko"?null:_.data;default:return null}}var VMe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hte(b){var _=b&&b.nodeName&&b.nodeName.toLowerCase();return _==="input"?!!VMe[b.type]:_==="textarea"}function Vte(b,_,A,N){Ji(N),_=FA(_,"onChange"),0<_.length&&(A=new lb("onChange","change",null,A,N),b.push({event:A,listeners:_}))}var AE=null,IE=null;function WMe(b){une(b,0)}function OA(b){var _=wb(b);if(ne(_))return b}function GMe(b,_){if(b==="change")return _}var Wte=!1;if(a){var s8;if(a){var o8="oninput"in document;if(!o8){var Gte=document.createElement("div");Gte.setAttribute("oninput","return;"),o8=typeof Gte.oninput=="function"}s8=o8}else s8=!1;Wte=s8&&(!document.documentMode||9<document.documentMode)}function Yte(){AE&&(AE.detachEvent("onpropertychange",Kte),IE=AE=null)}function Kte(b){if(b.propertyName==="value"&&OA(IE)){var _=[];Vte(_,IE,b,Bi(b)),zr(WMe,_)}}function YMe(b,_,A){b==="focusin"?(Yte(),AE=_,IE=A,AE.attachEvent("onpropertychange",Kte)):b==="focusout"&&Yte()}function KMe(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return OA(IE)}function XMe(b,_){if(b==="click")return OA(_)}function QMe(b,_){if(b==="input"||b==="change")return OA(_)}function JMe(b,_){return b===_&&(b!==0||1/b===1/_)||b!==b&&_!==_}var Fc=typeof Object.is=="function"?Object.is:JMe;function RE(b,_){if(Fc(b,_))return!0;if(typeof b!="object"||b===null||typeof _!="object"||_===null)return!1;var A=Object.keys(b),N=Object.keys(_);if(A.length!==N.length)return!1;for(N=0;N<A.length;N++){var H=A[N];if(!l.call(_,H)||!Fc(b[H],_[H]))return!1}return!0}function Xte(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Qte(b,_){var A=Xte(b);b=0;for(var N;A;){if(A.nodeType===3){if(N=b+A.textContent.length,b<=_&&N>=_)return{node:A,offset:_-b};b=N}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=Xte(A)}}function Jte(b,_){return b&&_?b===_?!0:b&&b.nodeType===3?!1:_&&_.nodeType===3?Jte(b,_.parentNode):"contains"in b?b.contains(_):b.compareDocumentPosition?!!(b.compareDocumentPosition(_)&16):!1:!1}function Zte(){for(var b=window,_=ue();_ instanceof b.HTMLIFrameElement;){try{var A=typeof _.contentWindow.location.href=="string"}catch{A=!1}if(A)b=_.contentWindow;else break;_=ue(b.document)}return _}function a8(b){var _=b&&b.nodeName&&b.nodeName.toLowerCase();return _&&(_==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||_==="textarea"||b.contentEditable==="true")}function ZMe(b){var _=Zte(),A=b.focusedElem,N=b.selectionRange;if(_!==A&&A&&A.ownerDocument&&Jte(A.ownerDocument.documentElement,A)){if(N!==null&&a8(A)){if(_=N.start,b=N.end,b===void 0&&(b=_),"selectionStart"in A)A.selectionStart=_,A.selectionEnd=Math.min(b,A.value.length);else if(b=(_=A.ownerDocument||document)&&_.defaultView||window,b.getSelection){b=b.getSelection();var H=A.textContent.length,Q=Math.min(N.start,H);N=N.end===void 0?Q:Math.min(N.end,H),!b.extend&&Q>N&&(H=N,N=Q,Q=H),H=Qte(A,Q);var re=Qte(A,N);H&&re&&(b.rangeCount!==1||b.anchorNode!==H.node||b.anchorOffset!==H.offset||b.focusNode!==re.node||b.focusOffset!==re.offset)&&(_=_.createRange(),_.setStart(H.node,H.offset),b.removeAllRanges(),Q>N?(b.addRange(_),b.extend(re.node,re.offset)):(_.setEnd(re.node,re.offset),b.addRange(_)))}}for(_=[],b=A;b=b.parentNode;)b.nodeType===1&&_.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<_.length;A++)b=_[A],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var e8e=a&&"documentMode"in document&&11>=document.documentMode,gb=null,l8=null,DE=null,u8=!1;function ene(b,_,A){var N=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;u8||gb==null||gb!==ue(N)||(N=gb,"selectionStart"in N&&a8(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),DE&&RE(DE,N)||(DE=N,N=FA(l8,"onSelect"),0<N.length&&(_=new lb("onSelect","select",null,_,A),b.push({event:_,listeners:N}),_.target=gb)))}function NA(b,_){var A={};return A[b.toLowerCase()]=_.toLowerCase(),A["Webkit"+b]="webkit"+_,A["Moz"+b]="moz"+_,A}var yb={animationend:NA("Animation","AnimationEnd"),animationiteration:NA("Animation","AnimationIteration"),animationstart:NA("Animation","AnimationStart"),transitionend:NA("Transition","TransitionEnd")},c8={},tne={};a&&(tne=document.createElement("div").style,"AnimationEvent"in window||(delete yb.animationend.animation,delete yb.animationiteration.animation,delete yb.animationstart.animation),"TransitionEvent"in window||delete yb.transitionend.transition);function $A(b){if(c8[b])return c8[b];if(!yb[b])return b;var _=yb[b],A;for(A in _)if(_.hasOwnProperty(A)&&A in tne)return c8[b]=_[A];return b}var nne=$A("animationend"),rne=$A("animationiteration"),ine=$A("animationstart"),sne=$A("transitionend"),one=new Map,ane="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jm(b,_){one.set(b,_),s(_,[b])}for(var d8=0;d8<ane.length;d8++){var f8=ane[d8],t8e=f8.toLowerCase(),n8e=f8[0].toUpperCase()+f8.slice(1);jm(t8e,"on"+n8e)}jm(nne,"onAnimationEnd"),jm(rne,"onAnimationIteration"),jm(ine,"onAnimationStart"),jm("dblclick","onDoubleClick"),jm("focusin","onFocus"),jm("focusout","onBlur"),jm(sne,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var PE="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r8e=new Set("cancel close invalid load scroll toggle".split(" ").concat(PE));function lne(b,_,A){var N=b.type||"unknown-event";b.currentTarget=A,uf(N,_,void 0,b),b.currentTarget=null}function une(b,_){_=(_&4)!==0;for(var A=0;A<b.length;A++){var N=b[A],H=N.event;N=N.listeners;e:{var Q=void 0;if(_)for(var re=N.length-1;0<=re;re--){var ye=N[re],Se=ye.instance,qe=ye.currentTarget;if(ye=ye.listener,Se!==Q&&H.isPropagationStopped())break e;lne(H,ye,qe),Q=Se}else for(re=0;re<N.length;re++){if(ye=N[re],Se=ye.instance,qe=ye.currentTarget,ye=ye.listener,Se!==Q&&H.isPropagationStopped())break e;lne(H,ye,qe),Q=Se}}}if(wo)throw b=kc,wo=!1,kc=null,b}function pi(b,_){var A=_[w8];A===void 0&&(A=_[w8]=new Set);var N=b+"__bubble";A.has(N)||(cne(_,b,2,!1),A.add(N))}function h8(b,_,A){var N=0;_&&(N|=4),cne(A,b,N,_)}var MA="_reactListening"+Math.random().toString(36).slice(2);function OE(b){if(!b[MA]){b[MA]=!0,r.forEach(function(A){A!=="selectionchange"&&(r8e.has(A)||h8(A,!1,b),h8(A,!0,b))});var _=b.nodeType===9?b:b.ownerDocument;_===null||_[MA]||(_[MA]=!0,h8("selectionchange",!1,_))}}function cne(b,_,A,N){switch(Fr(_)){case 1:var H=Ce;break;case 4:H=Ve;break;default:H=Ht}A=H.bind(null,_,A,b),H=void 0,!Rr||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(H=!0),N?H!==void 0?b.addEventListener(_,A,{capture:!0,passive:H}):b.addEventListener(_,A,!0):H!==void 0?b.addEventListener(_,A,{passive:H}):b.addEventListener(_,A,!1)}function p8(b,_,A,N,H){var Q=N;if((_&1)===0&&(_&2)===0&&N!==null)e:for(;;){if(N===null)return;var re=N.tag;if(re===3||re===4){var ye=N.stateNode.containerInfo;if(ye===H||ye.nodeType===8&&ye.parentNode===H)break;if(re===4)for(re=N.return;re!==null;){var Se=re.tag;if((Se===3||Se===4)&&(Se=re.stateNode.containerInfo,Se===H||Se.nodeType===8&&Se.parentNode===H))return;re=re.return}for(;ye!==null;){if(re=sy(ye),re===null)return;if(Se=re.tag,Se===5||Se===6){N=Q=re;continue e}ye=ye.parentNode}}N=N.return}zr(function(){var qe=Q,dt=Bi(A),mt=[];e:{var ut=one.get(b);if(ut!==void 0){var qt=lb,Gt=b;switch(b){case"keypress":if(Au(A)===0)break e;case"keydown":case"keyup":qt=Z;break;case"focusin":Gt="focus",qt=fb;break;case"focusout":Gt="blur",qt=fb;break;case"beforeblur":case"afterblur":qt=fb;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qt=cb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qt=TA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qt=At;break;case nne:case rne:case ine:qt=Kh;break;case sne:qt=Rs;break;case"scroll":qt=i8;break;case"wheel":qt=Ks;break;case"copy":case"cut":case"paste":qt=IA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qt=Ne}var Yt=(_&4)!==0,Zi=!Yt&&b==="scroll",Me=Yt?ut!==null?ut+"Capture":null:ut;Yt=[];for(var Ie=qe,je;Ie!==null;){je=Ie;var St=je.stateNode;if(je.tag===5&&St!==null&&(je=St,Me!==null&&(St=dn(Ie,Me),St!=null&&Yt.push(NE(Ie,St,je)))),Zi)break;Ie=Ie.return}0<Yt.length&&(ut=new qt(ut,Gt,null,A,dt),mt.push({event:ut,listeners:Yt}))}}if((_&7)===0){e:{if(ut=b==="mouseover"||b==="pointerover",qt=b==="mouseout"||b==="pointerout",ut&&A!==Fn&&(Gt=A.relatedTarget||A.fromElement)&&(sy(Gt)||Gt[Xh]))break e;if((qt||ut)&&(ut=dt.window===dt?dt:(ut=dt.ownerDocument)?ut.defaultView||ut.parentWindow:window,qt?(Gt=A.relatedTarget||A.toElement,qt=qe,Gt=Gt?sy(Gt):null,Gt!==null&&(Zi=Tn(Gt),Gt!==Zi||Gt.tag!==5&&Gt.tag!==6)&&(Gt=null)):(qt=null,Gt=qe),qt!==Gt)){if(Yt=cb,St="onMouseLeave",Me="onMouseEnter",Ie="mouse",(b==="pointerout"||b==="pointerover")&&(Yt=Ne,St="onPointerLeave",Me="onPointerEnter",Ie="pointer"),Zi=qt==null?ut:wb(qt),je=Gt==null?ut:wb(Gt),ut=new Yt(St,Ie+"leave",qt,A,dt),ut.target=Zi,ut.relatedTarget=je,St=null,sy(dt)===qe&&(Yt=new Yt(Me,Ie+"enter",Gt,A,dt),Yt.target=je,Yt.relatedTarget=Zi,St=Yt),Zi=St,qt&&Gt)t:{for(Yt=qt,Me=Gt,Ie=0,je=Yt;je;je=vb(je))Ie++;for(je=0,St=Me;St;St=vb(St))je++;for(;0<Ie-je;)Yt=vb(Yt),Ie--;for(;0<je-Ie;)Me=vb(Me),je--;for(;Ie--;){if(Yt===Me||Me!==null&&Yt===Me.alternate)break t;Yt=vb(Yt),Me=vb(Me)}Yt=null}else Yt=null;qt!==null&&dne(mt,ut,qt,Yt,!1),Gt!==null&&Zi!==null&&dne(mt,Zi,Gt,Yt,!0)}}e:{if(ut=qe?wb(qe):window,qt=ut.nodeName&&ut.nodeName.toLowerCase(),qt==="select"||qt==="input"&&ut.type==="file")var en=GMe;else if(Hte(ut))if(Wte)en=QMe;else{en=KMe;var fn=YMe}else(qt=ut.nodeName)&&qt.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(en=XMe);if(en&&(en=en(b,qe))){Vte(mt,en,A,dt);break e}fn&&fn(b,ut,qe),b==="focusout"&&(fn=ut._wrapperState)&&fn.controlled&&ut.type==="number"&&He(ut,"number",ut.value)}switch(fn=qe?wb(qe):window,b){case"focusin":(Hte(fn)||fn.contentEditable==="true")&&(gb=fn,l8=qe,DE=null);break;case"focusout":DE=l8=gb=null;break;case"mousedown":u8=!0;break;case"contextmenu":case"mouseup":case"dragend":u8=!1,ene(mt,A,dt);break;case"selectionchange":if(e8e)break;case"keydown":case"keyup":ene(mt,A,dt)}var hn;if(gf)e:{switch(b){case"compositionstart":var _n="onCompositionStart";break e;case"compositionend":_n="onCompositionEnd";break e;case"compositionupdate":_n="onCompositionUpdate";break e}_n=void 0}else mb?Ute(b,A)&&(_n="onCompositionEnd"):b==="keydown"&&A.keyCode===229&&(_n="onCompositionStart");_n&&(pb&&A.locale!=="ko"&&(mb||_n!=="onCompositionStart"?_n==="onCompositionEnd"&&mb&&(hn=Is()):(kn=dt,Dr="value"in kn?kn.value:kn.textContent,mb=!0)),fn=FA(qe,_n),0<fn.length&&(_n=new kE(_n,b,null,A,dt),mt.push({event:_n,listeners:fn}),hn?_n.data=hn:(hn=qte(A),hn!==null&&(_n.data=hn)))),(hn=hb?qMe(b,A):HMe(b,A))&&(qe=FA(qe,"onBeforeInput"),0<qe.length&&(dt=new kE("onBeforeInput","beforeinput",null,A,dt),mt.push({event:dt,listeners:qe}),dt.data=hn))}une(mt,_)})}function NE(b,_,A){return{instance:b,listener:_,currentTarget:A}}function FA(b,_){for(var A=_+"Capture",N=[];b!==null;){var H=b,Q=H.stateNode;H.tag===5&&Q!==null&&(H=Q,Q=dn(b,A),Q!=null&&N.unshift(NE(b,Q,H)),Q=dn(b,_),Q!=null&&N.push(NE(b,Q,H))),b=b.return}return N}function vb(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function dne(b,_,A,N,H){for(var Q=_._reactName,re=[];A!==null&&A!==N;){var ye=A,Se=ye.alternate,qe=ye.stateNode;if(Se!==null&&Se===N)break;ye.tag===5&&qe!==null&&(ye=qe,H?(Se=dn(A,Q),Se!=null&&re.unshift(NE(A,Se,ye))):H||(Se=dn(A,Q),Se!=null&&re.push(NE(A,Se,ye)))),A=A.return}re.length!==0&&b.push({event:_,listeners:re})}var i8e=/\r\n?/g,s8e=/\u0000|\uFFFD/g;function fne(b){return(typeof b=="string"?b:""+b).replace(i8e,`
`).replace(s8e,"")}function LA(b,_,A){if(_=fne(_),fne(b)!==_&&A)throw Error(n(425))}function jA(){}var m8=null,g8=null;function y8(b,_){return b==="textarea"||b==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var v8=typeof setTimeout=="function"?setTimeout:void 0,o8e=typeof clearTimeout=="function"?clearTimeout:void 0,hne=typeof Promise=="function"?Promise:void 0,a8e=typeof queueMicrotask=="function"?queueMicrotask:typeof hne<"u"?function(b){return hne.resolve(null).then(b).catch(l8e)}:v8;function l8e(b){setTimeout(function(){throw b})}function b8(b,_){var A=_,N=0;do{var H=A.nextSibling;if(b.removeChild(A),H&&H.nodeType===8)if(A=H.data,A==="/$"){if(N===0){b.removeChild(H),ll(_);return}N--}else A!=="$"&&A!=="$?"&&A!=="$!"||N++;A=H}while(A);ll(_)}function Bm(b){for(;b!=null;b=b.nextSibling){var _=b.nodeType;if(_===1||_===3)break;if(_===8){if(_=b.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return b}function pne(b){b=b.previousSibling;for(var _=0;b;){if(b.nodeType===8){var A=b.data;if(A==="$"||A==="$!"||A==="$?"){if(_===0)return b;_--}else A==="/$"&&_++}b=b.previousSibling}return null}var bb=Math.random().toString(36).slice(2),yf="__reactFiber$"+bb,$E="__reactProps$"+bb,Xh="__reactContainer$"+bb,w8="__reactEvents$"+bb,u8e="__reactListeners$"+bb,c8e="__reactHandles$"+bb;function sy(b){var _=b[yf];if(_)return _;for(var A=b.parentNode;A;){if(_=A[Xh]||A[yf]){if(A=_.alternate,_.child!==null||A!==null&&A.child!==null)for(b=pne(b);b!==null;){if(A=b[yf])return A;b=pne(b)}return _}b=A,A=b.parentNode}return null}function ME(b){return b=b[yf]||b[Xh],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function wb(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(n(33))}function BA(b){return b[$E]||null}var x8=[],xb=-1;function zm(b){return{current:b}}function mi(b){0>xb||(b.current=x8[xb],x8[xb]=null,xb--)}function li(b,_){xb++,x8[xb]=b.current,b.current=_}var Um={},Yo=zm(Um),dl=zm(!1),oy=Um;function _b(b,_){var A=b.type.contextTypes;if(!A)return Um;var N=b.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===_)return N.__reactInternalMemoizedMaskedChildContext;var H={},Q;for(Q in A)H[Q]=_[Q];return N&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=_,b.__reactInternalMemoizedMaskedChildContext=H),H}function fl(b){return b=b.childContextTypes,b!=null}function zA(){mi(dl),mi(Yo)}function mne(b,_,A){if(Yo.current!==Um)throw Error(n(168));li(Yo,_),li(dl,A)}function gne(b,_,A){var N=b.stateNode;if(_=_.childContextTypes,typeof N.getChildContext!="function")return A;N=N.getChildContext();for(var H in N)if(!(H in _))throw Error(n(108,le(b)||"Unknown",H));return z({},A,N)}function UA(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Um,oy=Yo.current,li(Yo,b),li(dl,dl.current),!0}function yne(b,_,A){var N=b.stateNode;if(!N)throw Error(n(169));A?(b=gne(b,_,oy),N.__reactInternalMemoizedMergedChildContext=b,mi(dl),mi(Yo),li(Yo,b)):mi(dl),li(dl,A)}var Qh=null,qA=!1,_8=!1;function vne(b){Qh===null?Qh=[b]:Qh.push(b)}function d8e(b){qA=!0,vne(b)}function qm(){if(!_8&&Qh!==null){_8=!0;var b=0,_=tn;try{var A=Qh;for(tn=1;b<A.length;b++){var N=A[b];do N=N(!0);while(N!==null)}Qh=null,qA=!1}catch(H){throw Qh!==null&&(Qh=Qh.slice(b+1)),df(Cs,qm),H}finally{tn=_,_8=!1}}return null}var Eb=[],Cb=0,HA=null,VA=0,Iu=[],Ru=0,ay=null,Jh=1,Zh="";function ly(b,_){Eb[Cb++]=VA,Eb[Cb++]=HA,HA=b,VA=_}function bne(b,_,A){Iu[Ru++]=Jh,Iu[Ru++]=Zh,Iu[Ru++]=ay,ay=b;var N=Jh;b=Zh;var H=32-ks(N)-1;N&=~(1<<H),A+=1;var Q=32-ks(_)+H;if(30<Q){var re=H-H%5;Q=(N&(1<<re)-1).toString(32),N>>=re,H-=re,Jh=1<<32-ks(_)+H|A<<H|N,Zh=Q+b}else Jh=1<<Q|A<<H|N,Zh=b}function E8(b){b.return!==null&&(ly(b,1),bne(b,1,0))}function C8(b){for(;b===HA;)HA=Eb[--Cb],Eb[Cb]=null,VA=Eb[--Cb],Eb[Cb]=null;for(;b===ay;)ay=Iu[--Ru],Iu[Ru]=null,Zh=Iu[--Ru],Iu[Ru]=null,Jh=Iu[--Ru],Iu[Ru]=null}var Yl=null,Kl=null,Ci=!1,Lc=null;function wne(b,_){var A=Nu(5,null,null,0);A.elementType="DELETED",A.stateNode=_,A.return=b,_=b.deletions,_===null?(b.deletions=[A],b.flags|=16):_.push(A)}function xne(b,_){switch(b.tag){case 5:var A=b.type;return _=_.nodeType!==1||A.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(b.stateNode=_,Yl=b,Kl=Bm(_.firstChild),!0):!1;case 6:return _=b.pendingProps===""||_.nodeType!==3?null:_,_!==null?(b.stateNode=_,Yl=b,Kl=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?(A=ay!==null?{id:Jh,overflow:Zh}:null,b.memoizedState={dehydrated:_,treeContext:A,retryLane:1073741824},A=Nu(18,null,null,0),A.stateNode=_,A.return=b,b.child=A,Yl=b,Kl=null,!0):!1;default:return!1}}function S8(b){return(b.mode&1)!==0&&(b.flags&128)===0}function T8(b){if(Ci){var _=Kl;if(_){var A=_;if(!xne(b,_)){if(S8(b))throw Error(n(418));_=Bm(A.nextSibling);var N=Yl;_&&xne(b,_)?wne(N,A):(b.flags=b.flags&-4097|2,Ci=!1,Yl=b)}}else{if(S8(b))throw Error(n(418));b.flags=b.flags&-4097|2,Ci=!1,Yl=b}}}function _ne(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;Yl=b}function WA(b){if(b!==Yl)return!1;if(!Ci)return _ne(b),Ci=!0,!1;var _;if((_=b.tag!==3)&&!(_=b.tag!==5)&&(_=b.type,_=_!=="head"&&_!=="body"&&!y8(b.type,b.memoizedProps)),_&&(_=Kl)){if(S8(b))throw Ene(),Error(n(418));for(;_;)wne(b,_),_=Bm(_.nextSibling)}if(_ne(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));e:{for(b=b.nextSibling,_=0;b;){if(b.nodeType===8){var A=b.data;if(A==="/$"){if(_===0){Kl=Bm(b.nextSibling);break e}_--}else A!=="$"&&A!=="$!"&&A!=="$?"||_++}b=b.nextSibling}Kl=null}}else Kl=Yl?Bm(b.stateNode.nextSibling):null;return!0}function Ene(){for(var b=Kl;b;)b=Bm(b.nextSibling)}function Sb(){Kl=Yl=null,Ci=!1}function k8(b){Lc===null?Lc=[b]:Lc.push(b)}var f8e=E.ReactCurrentBatchConfig;function FE(b,_,A){if(b=A.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(n(309));var N=A.stateNode}if(!N)throw Error(n(147,b));var H=N,Q=""+b;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===Q?_.ref:(_=function(re){var ye=H.refs;re===null?delete ye[Q]:ye[Q]=re},_._stringRef=Q,_)}if(typeof b!="string")throw Error(n(284));if(!A._owner)throw Error(n(290,b))}return b}function GA(b,_){throw b=Object.prototype.toString.call(_),Error(n(31,b==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":b))}function Cne(b){var _=b._init;return _(b._payload)}function Sne(b){function _(Me,Ie){if(b){var je=Me.deletions;je===null?(Me.deletions=[Ie],Me.flags|=16):je.push(Ie)}}function A(Me,Ie){if(!b)return null;for(;Ie!==null;)_(Me,Ie),Ie=Ie.sibling;return null}function N(Me,Ie){for(Me=new Map;Ie!==null;)Ie.key!==null?Me.set(Ie.key,Ie):Me.set(Ie.index,Ie),Ie=Ie.sibling;return Me}function H(Me,Ie){return Me=Qm(Me,Ie),Me.index=0,Me.sibling=null,Me}function Q(Me,Ie,je){return Me.index=je,b?(je=Me.alternate,je!==null?(je=je.index,je<Ie?(Me.flags|=2,Ie):je):(Me.flags|=2,Ie)):(Me.flags|=1048576,Ie)}function re(Me){return b&&Me.alternate===null&&(Me.flags|=2),Me}function ye(Me,Ie,je,St){return Ie===null||Ie.tag!==6?(Ie=vF(je,Me.mode,St),Ie.return=Me,Ie):(Ie=H(Ie,je),Ie.return=Me,Ie)}function Se(Me,Ie,je,St){var en=je.type;return en===T?dt(Me,Ie,je.props.children,St,je.key):Ie!==null&&(Ie.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===B&&Cne(en)===Ie.type)?(St=H(Ie,je.props),St.ref=FE(Me,Ie,je),St.return=Me,St):(St=yI(je.type,je.key,je.props,null,Me.mode,St),St.ref=FE(Me,Ie,je),St.return=Me,St)}function qe(Me,Ie,je,St){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==je.containerInfo||Ie.stateNode.implementation!==je.implementation?(Ie=bF(je,Me.mode,St),Ie.return=Me,Ie):(Ie=H(Ie,je.children||[]),Ie.return=Me,Ie)}function dt(Me,Ie,je,St,en){return Ie===null||Ie.tag!==7?(Ie=gy(je,Me.mode,St,en),Ie.return=Me,Ie):(Ie=H(Ie,je),Ie.return=Me,Ie)}function mt(Me,Ie,je){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=vF(""+Ie,Me.mode,je),Ie.return=Me,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case C:return je=yI(Ie.type,Ie.key,Ie.props,null,Me.mode,je),je.ref=FE(Me,null,Ie),je.return=Me,je;case S:return Ie=bF(Ie,Me.mode,je),Ie.return=Me,Ie;case B:var St=Ie._init;return mt(Me,St(Ie._payload),je)}if(Xe(Ie)||Y(Ie))return Ie=gy(Ie,Me.mode,je,null),Ie.return=Me,Ie;GA(Me,Ie)}return null}function ut(Me,Ie,je,St){var en=Ie!==null?Ie.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return en!==null?null:ye(Me,Ie,""+je,St);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case C:return je.key===en?Se(Me,Ie,je,St):null;case S:return je.key===en?qe(Me,Ie,je,St):null;case B:return en=je._init,ut(Me,Ie,en(je._payload),St)}if(Xe(je)||Y(je))return en!==null?null:dt(Me,Ie,je,St,null);GA(Me,je)}return null}function qt(Me,Ie,je,St,en){if(typeof St=="string"&&St!==""||typeof St=="number")return Me=Me.get(je)||null,ye(Ie,Me,""+St,en);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case C:return Me=Me.get(St.key===null?je:St.key)||null,Se(Ie,Me,St,en);case S:return Me=Me.get(St.key===null?je:St.key)||null,qe(Ie,Me,St,en);case B:var fn=St._init;return qt(Me,Ie,je,fn(St._payload),en)}if(Xe(St)||Y(St))return Me=Me.get(je)||null,dt(Ie,Me,St,en,null);GA(Ie,St)}return null}function Gt(Me,Ie,je,St){for(var en=null,fn=null,hn=Ie,_n=Ie=0,Zs=null;hn!==null&&_n<je.length;_n++){hn.index>_n?(Zs=hn,hn=null):Zs=hn.sibling;var xr=ut(Me,hn,je[_n],St);if(xr===null){hn===null&&(hn=Zs);break}b&&hn&&xr.alternate===null&&_(Me,hn),Ie=Q(xr,Ie,_n),fn===null?en=xr:fn.sibling=xr,fn=xr,hn=Zs}if(_n===je.length)return A(Me,hn),Ci&&ly(Me,_n),en;if(hn===null){for(;_n<je.length;_n++)hn=mt(Me,je[_n],St),hn!==null&&(Ie=Q(hn,Ie,_n),fn===null?en=hn:fn.sibling=hn,fn=hn);return Ci&&ly(Me,_n),en}for(hn=N(Me,hn);_n<je.length;_n++)Zs=qt(hn,Me,_n,je[_n],St),Zs!==null&&(b&&Zs.alternate!==null&&hn.delete(Zs.key===null?_n:Zs.key),Ie=Q(Zs,Ie,_n),fn===null?en=Zs:fn.sibling=Zs,fn=Zs);return b&&hn.forEach(function(Jm){return _(Me,Jm)}),Ci&&ly(Me,_n),en}function Yt(Me,Ie,je,St){var en=Y(je);if(typeof en!="function")throw Error(n(150));if(je=en.call(je),je==null)throw Error(n(151));for(var fn=en=null,hn=Ie,_n=Ie=0,Zs=null,xr=je.next();hn!==null&&!xr.done;_n++,xr=je.next()){hn.index>_n?(Zs=hn,hn=null):Zs=hn.sibling;var Jm=ut(Me,hn,xr.value,St);if(Jm===null){hn===null&&(hn=Zs);break}b&&hn&&Jm.alternate===null&&_(Me,hn),Ie=Q(Jm,Ie,_n),fn===null?en=Jm:fn.sibling=Jm,fn=Jm,hn=Zs}if(xr.done)return A(Me,hn),Ci&&ly(Me,_n),en;if(hn===null){for(;!xr.done;_n++,xr=je.next())xr=mt(Me,xr.value,St),xr!==null&&(Ie=Q(xr,Ie,_n),fn===null?en=xr:fn.sibling=xr,fn=xr);return Ci&&ly(Me,_n),en}for(hn=N(Me,hn);!xr.done;_n++,xr=je.next())xr=qt(hn,Me,_n,xr.value,St),xr!==null&&(b&&xr.alternate!==null&&hn.delete(xr.key===null?_n:xr.key),Ie=Q(xr,Ie,_n),fn===null?en=xr:fn.sibling=xr,fn=xr);return b&&hn.forEach(function(V8e){return _(Me,V8e)}),Ci&&ly(Me,_n),en}function Zi(Me,Ie,je,St){if(typeof je=="object"&&je!==null&&je.type===T&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case C:e:{for(var en=je.key,fn=Ie;fn!==null;){if(fn.key===en){if(en=je.type,en===T){if(fn.tag===7){A(Me,fn.sibling),Ie=H(fn,je.props.children),Ie.return=Me,Me=Ie;break e}}else if(fn.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===B&&Cne(en)===fn.type){A(Me,fn.sibling),Ie=H(fn,je.props),Ie.ref=FE(Me,fn,je),Ie.return=Me,Me=Ie;break e}A(Me,fn);break}else _(Me,fn);fn=fn.sibling}je.type===T?(Ie=gy(je.props.children,Me.mode,St,je.key),Ie.return=Me,Me=Ie):(St=yI(je.type,je.key,je.props,null,Me.mode,St),St.ref=FE(Me,Ie,je),St.return=Me,Me=St)}return re(Me);case S:e:{for(fn=je.key;Ie!==null;){if(Ie.key===fn)if(Ie.tag===4&&Ie.stateNode.containerInfo===je.containerInfo&&Ie.stateNode.implementation===je.implementation){A(Me,Ie.sibling),Ie=H(Ie,je.children||[]),Ie.return=Me,Me=Ie;break e}else{A(Me,Ie);break}else _(Me,Ie);Ie=Ie.sibling}Ie=bF(je,Me.mode,St),Ie.return=Me,Me=Ie}return re(Me);case B:return fn=je._init,Zi(Me,Ie,fn(je._payload),St)}if(Xe(je))return Gt(Me,Ie,je,St);if(Y(je))return Yt(Me,Ie,je,St);GA(Me,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,Ie!==null&&Ie.tag===6?(A(Me,Ie.sibling),Ie=H(Ie,je),Ie.return=Me,Me=Ie):(A(Me,Ie),Ie=vF(je,Me.mode,St),Ie.return=Me,Me=Ie),re(Me)):A(Me,Ie)}return Zi}var Tb=Sne(!0),Tne=Sne(!1),YA=zm(null),KA=null,kb=null,A8=null;function I8(){A8=kb=KA=null}function R8(b){var _=YA.current;mi(YA),b._currentValue=_}function D8(b,_,A){for(;b!==null;){var N=b.alternate;if((b.childLanes&_)!==_?(b.childLanes|=_,N!==null&&(N.childLanes|=_)):N!==null&&(N.childLanes&_)!==_&&(N.childLanes|=_),b===A)break;b=b.return}}function Ab(b,_){KA=b,A8=kb=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&_)!==0&&(hl=!0),b.firstContext=null)}function Du(b){var _=b._currentValue;if(A8!==b)if(b={context:b,memoizedValue:_,next:null},kb===null){if(KA===null)throw Error(n(308));kb=b,KA.dependencies={lanes:0,firstContext:b}}else kb=kb.next=b;return _}var uy=null;function P8(b){uy===null?uy=[b]:uy.push(b)}function kne(b,_,A,N){var H=_.interleaved;return H===null?(A.next=A,P8(_)):(A.next=H.next,H.next=A),_.interleaved=A,ep(b,N)}function ep(b,_){b.lanes|=_;var A=b.alternate;for(A!==null&&(A.lanes|=_),A=b,b=b.return;b!==null;)b.childLanes|=_,A=b.alternate,A!==null&&(A.childLanes|=_),A=b,b=b.return;return A.tag===3?A.stateNode:null}var Hm=!1;function O8(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ane(b,_){b=b.updateQueue,_.updateQueue===b&&(_.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function tp(b,_){return{eventTime:b,lane:_,tag:0,payload:null,callback:null,next:null}}function Vm(b,_,A){var N=b.updateQueue;if(N===null)return null;if(N=N.shared,(mr&2)!==0){var H=N.pending;return H===null?_.next=_:(_.next=H.next,H.next=_),N.pending=_,ep(b,A)}return H=N.interleaved,H===null?(_.next=_,P8(N)):(_.next=H.next,H.next=_),N.interleaved=_,ep(b,A)}function XA(b,_,A){if(_=_.updateQueue,_!==null&&(_=_.shared,(A&4194240)!==0)){var N=_.lanes;N&=b.pendingLanes,A|=N,_.lanes=A,jn(b,A)}}function Ine(b,_){var A=b.updateQueue,N=b.alternate;if(N!==null&&(N=N.updateQueue,A===N)){var H=null,Q=null;if(A=A.firstBaseUpdate,A!==null){do{var re={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};Q===null?H=Q=re:Q=Q.next=re,A=A.next}while(A!==null);Q===null?H=Q=_:Q=Q.next=_}else H=Q=_;A={baseState:N.baseState,firstBaseUpdate:H,lastBaseUpdate:Q,shared:N.shared,effects:N.effects},b.updateQueue=A;return}b=A.lastBaseUpdate,b===null?A.firstBaseUpdate=_:b.next=_,A.lastBaseUpdate=_}function QA(b,_,A,N){var H=b.updateQueue;Hm=!1;var Q=H.firstBaseUpdate,re=H.lastBaseUpdate,ye=H.shared.pending;if(ye!==null){H.shared.pending=null;var Se=ye,qe=Se.next;Se.next=null,re===null?Q=qe:re.next=qe,re=Se;var dt=b.alternate;dt!==null&&(dt=dt.updateQueue,ye=dt.lastBaseUpdate,ye!==re&&(ye===null?dt.firstBaseUpdate=qe:ye.next=qe,dt.lastBaseUpdate=Se))}if(Q!==null){var mt=H.baseState;re=0,dt=qe=Se=null,ye=Q;do{var ut=ye.lane,qt=ye.eventTime;if((N&ut)===ut){dt!==null&&(dt=dt.next={eventTime:qt,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var Gt=b,Yt=ye;switch(ut=_,qt=A,Yt.tag){case 1:if(Gt=Yt.payload,typeof Gt=="function"){mt=Gt.call(qt,mt,ut);break e}mt=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Yt.payload,ut=typeof Gt=="function"?Gt.call(qt,mt,ut):Gt,ut==null)break e;mt=z({},mt,ut);break e;case 2:Hm=!0}}ye.callback!==null&&ye.lane!==0&&(b.flags|=64,ut=H.effects,ut===null?H.effects=[ye]:ut.push(ye))}else qt={eventTime:qt,lane:ut,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},dt===null?(qe=dt=qt,Se=mt):dt=dt.next=qt,re|=ut;if(ye=ye.next,ye===null){if(ye=H.shared.pending,ye===null)break;ut=ye,ye=ut.next,ut.next=null,H.lastBaseUpdate=ut,H.shared.pending=null}}while(!0);if(dt===null&&(Se=mt),H.baseState=Se,H.firstBaseUpdate=qe,H.lastBaseUpdate=dt,_=H.shared.interleaved,_!==null){H=_;do re|=H.lane,H=H.next;while(H!==_)}else Q===null&&(H.shared.lanes=0);fy|=re,b.lanes=re,b.memoizedState=mt}}function Rne(b,_,A){if(b=_.effects,_.effects=null,b!==null)for(_=0;_<b.length;_++){var N=b[_],H=N.callback;if(H!==null){if(N.callback=null,N=A,typeof H!="function")throw Error(n(191,H));H.call(N)}}}var LE={},vf=zm(LE),jE=zm(LE),BE=zm(LE);function cy(b){if(b===LE)throw Error(n(174));return b}function N8(b,_){switch(li(BE,_),li(jE,b),li(vf,LE),b=_.nodeType,b){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:$e(null,"");break;default:b=b===8?_.parentNode:_,_=b.namespaceURI||null,b=b.tagName,_=$e(_,b)}mi(vf),li(vf,_)}function Ib(){mi(vf),mi(jE),mi(BE)}function Dne(b){cy(BE.current);var _=cy(vf.current),A=$e(_,b.type);_!==A&&(li(jE,b),li(vf,A))}function $8(b){jE.current===b&&(mi(vf),mi(jE))}var Pi=zm(0);function JA(b){for(var _=b;_!==null;){if(_.tag===13){var A=_.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===b)break;for(;_.sibling===null;){if(_.return===null||_.return===b)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var M8=[];function F8(){for(var b=0;b<M8.length;b++)M8[b]._workInProgressVersionPrimary=null;M8.length=0}var ZA=E.ReactCurrentDispatcher,L8=E.ReactCurrentBatchConfig,dy=0,Oi=null,Ds=null,Qs=null,eI=!1,zE=!1,UE=0,h8e=0;function Ko(){throw Error(n(321))}function j8(b,_){if(_===null)return!1;for(var A=0;A<_.length&&A<b.length;A++)if(!Fc(b[A],_[A]))return!1;return!0}function B8(b,_,A,N,H,Q){if(dy=Q,Oi=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,ZA.current=b===null||b.memoizedState===null?y8e:v8e,b=A(N,H),zE){Q=0;do{if(zE=!1,UE=0,25<=Q)throw Error(n(301));Q+=1,Qs=Ds=null,_.updateQueue=null,ZA.current=b8e,b=A(N,H)}while(zE)}if(ZA.current=rI,_=Ds!==null&&Ds.next!==null,dy=0,Qs=Ds=Oi=null,eI=!1,_)throw Error(n(300));return b}function z8(){var b=UE!==0;return UE=0,b}function bf(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qs===null?Oi.memoizedState=Qs=b:Qs=Qs.next=b,Qs}function Pu(){if(Ds===null){var b=Oi.alternate;b=b!==null?b.memoizedState:null}else b=Ds.next;var _=Qs===null?Oi.memoizedState:Qs.next;if(_!==null)Qs=_,Ds=b;else{if(b===null)throw Error(n(310));Ds=b,b={memoizedState:Ds.memoizedState,baseState:Ds.baseState,baseQueue:Ds.baseQueue,queue:Ds.queue,next:null},Qs===null?Oi.memoizedState=Qs=b:Qs=Qs.next=b}return Qs}function qE(b,_){return typeof _=="function"?_(b):_}function U8(b){var _=Pu(),A=_.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=b;var N=Ds,H=N.baseQueue,Q=A.pending;if(Q!==null){if(H!==null){var re=H.next;H.next=Q.next,Q.next=re}N.baseQueue=H=Q,A.pending=null}if(H!==null){Q=H.next,N=N.baseState;var ye=re=null,Se=null,qe=Q;do{var dt=qe.lane;if((dy&dt)===dt)Se!==null&&(Se=Se.next={lane:0,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),N=qe.hasEagerState?qe.eagerState:b(N,qe.action);else{var mt={lane:dt,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null};Se===null?(ye=Se=mt,re=N):Se=Se.next=mt,Oi.lanes|=dt,fy|=dt}qe=qe.next}while(qe!==null&&qe!==Q);Se===null?re=N:Se.next=ye,Fc(N,_.memoizedState)||(hl=!0),_.memoizedState=N,_.baseState=re,_.baseQueue=Se,A.lastRenderedState=N}if(b=A.interleaved,b!==null){H=b;do Q=H.lane,Oi.lanes|=Q,fy|=Q,H=H.next;while(H!==b)}else H===null&&(A.lanes=0);return[_.memoizedState,A.dispatch]}function q8(b){var _=Pu(),A=_.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=b;var N=A.dispatch,H=A.pending,Q=_.memoizedState;if(H!==null){A.pending=null;var re=H=H.next;do Q=b(Q,re.action),re=re.next;while(re!==H);Fc(Q,_.memoizedState)||(hl=!0),_.memoizedState=Q,_.baseQueue===null&&(_.baseState=Q),A.lastRenderedState=Q}return[Q,N]}function Pne(){}function One(b,_){var A=Oi,N=Pu(),H=_(),Q=!Fc(N.memoizedState,H);if(Q&&(N.memoizedState=H,hl=!0),N=N.queue,H8(Mne.bind(null,A,N,b),[b]),N.getSnapshot!==_||Q||Qs!==null&&Qs.memoizedState.tag&1){if(A.flags|=2048,HE(9,$ne.bind(null,A,N,H,_),void 0,null),Js===null)throw Error(n(349));(dy&30)!==0||Nne(A,_,H)}return H}function Nne(b,_,A){b.flags|=16384,b={getSnapshot:_,value:A},_=Oi.updateQueue,_===null?(_={lastEffect:null,stores:null},Oi.updateQueue=_,_.stores=[b]):(A=_.stores,A===null?_.stores=[b]:A.push(b))}function $ne(b,_,A,N){_.value=A,_.getSnapshot=N,Fne(_)&&Lne(b)}function Mne(b,_,A){return A(function(){Fne(_)&&Lne(b)})}function Fne(b){var _=b.getSnapshot;b=b.value;try{var A=_();return!Fc(b,A)}catch{return!0}}function Lne(b){var _=ep(b,1);_!==null&&Uc(_,b,1,-1)}function jne(b){var _=bf();return typeof b=="function"&&(b=b()),_.memoizedState=_.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qE,lastRenderedState:b},_.queue=b,b=b.dispatch=g8e.bind(null,Oi,b),[_.memoizedState,b]}function HE(b,_,A,N){return b={tag:b,create:_,destroy:A,deps:N,next:null},_=Oi.updateQueue,_===null?(_={lastEffect:null,stores:null},Oi.updateQueue=_,_.lastEffect=b.next=b):(A=_.lastEffect,A===null?_.lastEffect=b.next=b:(N=A.next,A.next=b,b.next=N,_.lastEffect=b)),b}function Bne(){return Pu().memoizedState}function tI(b,_,A,N){var H=bf();Oi.flags|=b,H.memoizedState=HE(1|_,A,void 0,N===void 0?null:N)}function nI(b,_,A,N){var H=Pu();N=N===void 0?null:N;var Q=void 0;if(Ds!==null){var re=Ds.memoizedState;if(Q=re.destroy,N!==null&&j8(N,re.deps)){H.memoizedState=HE(_,A,Q,N);return}}Oi.flags|=b,H.memoizedState=HE(1|_,A,Q,N)}function zne(b,_){return tI(8390656,8,b,_)}function H8(b,_){return nI(2048,8,b,_)}function Une(b,_){return nI(4,2,b,_)}function qne(b,_){return nI(4,4,b,_)}function Hne(b,_){if(typeof _=="function")return b=b(),_(b),function(){_(null)};if(_!=null)return b=b(),_.current=b,function(){_.current=null}}function Vne(b,_,A){return A=A!=null?A.concat([b]):null,nI(4,4,Hne.bind(null,_,b),A)}function V8(){}function Wne(b,_){var A=Pu();_=_===void 0?null:_;var N=A.memoizedState;return N!==null&&_!==null&&j8(_,N[1])?N[0]:(A.memoizedState=[b,_],b)}function Gne(b,_){var A=Pu();_=_===void 0?null:_;var N=A.memoizedState;return N!==null&&_!==null&&j8(_,N[1])?N[0]:(b=b(),A.memoizedState=[b,_],b)}function Yne(b,_,A){return(dy&21)===0?(b.baseState&&(b.baseState=!1,hl=!0),b.memoizedState=A):(Fc(A,_)||(A=vt(),Oi.lanes|=A,fy|=A,b.baseState=!0),_)}function p8e(b,_){var A=tn;tn=A!==0&&4>A?A:4,b(!0);var N=L8.transition;L8.transition={};try{b(!1),_()}finally{tn=A,L8.transition=N}}function Kne(){return Pu().memoizedState}function m8e(b,_,A){var N=Km(b);if(A={lane:N,action:A,hasEagerState:!1,eagerState:null,next:null},Xne(b))Qne(_,A);else if(A=kne(b,_,A,N),A!==null){var H=Ra();Uc(A,b,N,H),Jne(A,_,N)}}function g8e(b,_,A){var N=Km(b),H={lane:N,action:A,hasEagerState:!1,eagerState:null,next:null};if(Xne(b))Qne(_,H);else{var Q=b.alternate;if(b.lanes===0&&(Q===null||Q.lanes===0)&&(Q=_.lastRenderedReducer,Q!==null))try{var re=_.lastRenderedState,ye=Q(re,A);if(H.hasEagerState=!0,H.eagerState=ye,Fc(ye,re)){var Se=_.interleaved;Se===null?(H.next=H,P8(_)):(H.next=Se.next,Se.next=H),_.interleaved=H;return}}catch{}finally{}A=kne(b,_,H,N),A!==null&&(H=Ra(),Uc(A,b,N,H),Jne(A,_,N))}}function Xne(b){var _=b.alternate;return b===Oi||_!==null&&_===Oi}function Qne(b,_){zE=eI=!0;var A=b.pending;A===null?_.next=_:(_.next=A.next,A.next=_),b.pending=_}function Jne(b,_,A){if((A&4194240)!==0){var N=_.lanes;N&=b.pendingLanes,A|=N,_.lanes=A,jn(b,A)}}var rI={readContext:Du,useCallback:Ko,useContext:Ko,useEffect:Ko,useImperativeHandle:Ko,useInsertionEffect:Ko,useLayoutEffect:Ko,useMemo:Ko,useReducer:Ko,useRef:Ko,useState:Ko,useDebugValue:Ko,useDeferredValue:Ko,useTransition:Ko,useMutableSource:Ko,useSyncExternalStore:Ko,useId:Ko,unstable_isNewReconciler:!1},y8e={readContext:Du,useCallback:function(b,_){return bf().memoizedState=[b,_===void 0?null:_],b},useContext:Du,useEffect:zne,useImperativeHandle:function(b,_,A){return A=A!=null?A.concat([b]):null,tI(4194308,4,Hne.bind(null,_,b),A)},useLayoutEffect:function(b,_){return tI(4194308,4,b,_)},useInsertionEffect:function(b,_){return tI(4,2,b,_)},useMemo:function(b,_){var A=bf();return _=_===void 0?null:_,b=b(),A.memoizedState=[b,_],b},useReducer:function(b,_,A){var N=bf();return _=A!==void 0?A(_):_,N.memoizedState=N.baseState=_,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:_},N.queue=b,b=b.dispatch=m8e.bind(null,Oi,b),[N.memoizedState,b]},useRef:function(b){var _=bf();return b={current:b},_.memoizedState=b},useState:jne,useDebugValue:V8,useDeferredValue:function(b){return bf().memoizedState=b},useTransition:function(){var b=jne(!1),_=b[0];return b=p8e.bind(null,b[1]),bf().memoizedState=b,[_,b]},useMutableSource:function(){},useSyncExternalStore:function(b,_,A){var N=Oi,H=bf();if(Ci){if(A===void 0)throw Error(n(407));A=A()}else{if(A=_(),Js===null)throw Error(n(349));(dy&30)!==0||Nne(N,_,A)}H.memoizedState=A;var Q={value:A,getSnapshot:_};return H.queue=Q,zne(Mne.bind(null,N,Q,b),[b]),N.flags|=2048,HE(9,$ne.bind(null,N,Q,A,_),void 0,null),A},useId:function(){var b=bf(),_=Js.identifierPrefix;if(Ci){var A=Zh,N=Jh;A=(N&~(1<<32-ks(N)-1)).toString(32)+A,_=":"+_+"R"+A,A=UE++,0<A&&(_+="H"+A.toString(32)),_+=":"}else A=h8e++,_=":"+_+"r"+A.toString(32)+":";return b.memoizedState=_},unstable_isNewReconciler:!1},v8e={readContext:Du,useCallback:Wne,useContext:Du,useEffect:H8,useImperativeHandle:Vne,useInsertionEffect:Une,useLayoutEffect:qne,useMemo:Gne,useReducer:U8,useRef:Bne,useState:function(){return U8(qE)},useDebugValue:V8,useDeferredValue:function(b){var _=Pu();return Yne(_,Ds.memoizedState,b)},useTransition:function(){var b=U8(qE)[0],_=Pu().memoizedState;return[b,_]},useMutableSource:Pne,useSyncExternalStore:One,useId:Kne,unstable_isNewReconciler:!1},b8e={readContext:Du,useCallback:Wne,useContext:Du,useEffect:H8,useImperativeHandle:Vne,useInsertionEffect:Une,useLayoutEffect:qne,useMemo:Gne,useReducer:q8,useRef:Bne,useState:function(){return q8(qE)},useDebugValue:V8,useDeferredValue:function(b){var _=Pu();return Ds===null?_.memoizedState=b:Yne(_,Ds.memoizedState,b)},useTransition:function(){var b=q8(qE)[0],_=Pu().memoizedState;return[b,_]},useMutableSource:Pne,useSyncExternalStore:One,useId:Kne,unstable_isNewReconciler:!1};function jc(b,_){if(b&&b.defaultProps){_=z({},_),b=b.defaultProps;for(var A in b)_[A]===void 0&&(_[A]=b[A]);return _}return _}function W8(b,_,A,N){_=b.memoizedState,A=A(N,_),A=A==null?_:z({},_,A),b.memoizedState=A,b.lanes===0&&(b.updateQueue.baseState=A)}var iI={isMounted:function(b){return(b=b._reactInternals)?Tn(b)===b:!1},enqueueSetState:function(b,_,A){b=b._reactInternals;var N=Ra(),H=Km(b),Q=tp(N,H);Q.payload=_,A!=null&&(Q.callback=A),_=Vm(b,Q,H),_!==null&&(Uc(_,b,H,N),XA(_,b,H))},enqueueReplaceState:function(b,_,A){b=b._reactInternals;var N=Ra(),H=Km(b),Q=tp(N,H);Q.tag=1,Q.payload=_,A!=null&&(Q.callback=A),_=Vm(b,Q,H),_!==null&&(Uc(_,b,H,N),XA(_,b,H))},enqueueForceUpdate:function(b,_){b=b._reactInternals;var A=Ra(),N=Km(b),H=tp(A,N);H.tag=2,_!=null&&(H.callback=_),_=Vm(b,H,N),_!==null&&(Uc(_,b,N,A),XA(_,b,N))}};function Zne(b,_,A,N,H,Q,re){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(N,Q,re):_.prototype&&_.prototype.isPureReactComponent?!RE(A,N)||!RE(H,Q):!0}function ere(b,_,A){var N=!1,H=Um,Q=_.contextType;return typeof Q=="object"&&Q!==null?Q=Du(Q):(H=fl(_)?oy:Yo.current,N=_.contextTypes,Q=(N=N!=null)?_b(b,H):Um),_=new _(A,Q),b.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=iI,b.stateNode=_,_._reactInternals=b,N&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=H,b.__reactInternalMemoizedMaskedChildContext=Q),_}function tre(b,_,A,N){b=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(A,N),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(A,N),_.state!==b&&iI.enqueueReplaceState(_,_.state,null)}function G8(b,_,A,N){var H=b.stateNode;H.props=A,H.state=b.memoizedState,H.refs={},O8(b);var Q=_.contextType;typeof Q=="object"&&Q!==null?H.context=Du(Q):(Q=fl(_)?oy:Yo.current,H.context=_b(b,Q)),H.state=b.memoizedState,Q=_.getDerivedStateFromProps,typeof Q=="function"&&(W8(b,_,Q,A),H.state=b.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(_=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),_!==H.state&&iI.enqueueReplaceState(H,H.state,null),QA(b,A,H,N),H.state=b.memoizedState),typeof H.componentDidMount=="function"&&(b.flags|=4194308)}function Rb(b,_){try{var A="",N=_;do A+=J(N),N=N.return;while(N);var H=A}catch(Q){H=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:b,source:_,stack:H,digest:null}}function Y8(b,_,A){return{value:b,source:null,stack:A??null,digest:_??null}}function K8(b,_){try{console.error(_.value)}catch(A){setTimeout(function(){throw A})}}var w8e=typeof WeakMap=="function"?WeakMap:Map;function nre(b,_,A){A=tp(-1,A),A.tag=3,A.payload={element:null};var N=_.value;return A.callback=function(){dI||(dI=!0,cF=N),K8(b,_)},A}function rre(b,_,A){A=tp(-1,A),A.tag=3;var N=b.type.getDerivedStateFromError;if(typeof N=="function"){var H=_.value;A.payload=function(){return N(H)},A.callback=function(){K8(b,_)}}var Q=b.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(A.callback=function(){K8(b,_),typeof N!="function"&&(Gm===null?Gm=new Set([this]):Gm.add(this));var re=_.stack;this.componentDidCatch(_.value,{componentStack:re!==null?re:""})}),A}function ire(b,_,A){var N=b.pingCache;if(N===null){N=b.pingCache=new w8e;var H=new Set;N.set(_,H)}else H=N.get(_),H===void 0&&(H=new Set,N.set(_,H));H.has(A)||(H.add(A),b=N8e.bind(null,b,_,A),_.then(b,b))}function sre(b){do{var _;if((_=b.tag===13)&&(_=b.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return b;b=b.return}while(b!==null);return null}function ore(b,_,A,N,H){return(b.mode&1)===0?(b===_?b.flags|=65536:(b.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(_=tp(-1,1),_.tag=2,Vm(A,_,1))),A.lanes|=1),b):(b.flags|=65536,b.lanes=H,b)}var x8e=E.ReactCurrentOwner,hl=!1;function Ia(b,_,A,N){_.child=b===null?Tne(_,null,A,N):Tb(_,b.child,A,N)}function are(b,_,A,N,H){A=A.render;var Q=_.ref;return Ab(_,H),N=B8(b,_,A,N,Q,H),A=z8(),b!==null&&!hl?(_.updateQueue=b.updateQueue,_.flags&=-2053,b.lanes&=~H,np(b,_,H)):(Ci&&A&&E8(_),_.flags|=1,Ia(b,_,N,H),_.child)}function lre(b,_,A,N,H){if(b===null){var Q=A.type;return typeof Q=="function"&&!yF(Q)&&Q.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(_.tag=15,_.type=Q,ure(b,_,Q,N,H)):(b=yI(A.type,null,N,_,_.mode,H),b.ref=_.ref,b.return=_,_.child=b)}if(Q=b.child,(b.lanes&H)===0){var re=Q.memoizedProps;if(A=A.compare,A=A!==null?A:RE,A(re,N)&&b.ref===_.ref)return np(b,_,H)}return _.flags|=1,b=Qm(Q,N),b.ref=_.ref,b.return=_,_.child=b}function ure(b,_,A,N,H){if(b!==null){var Q=b.memoizedProps;if(RE(Q,N)&&b.ref===_.ref)if(hl=!1,_.pendingProps=N=Q,(b.lanes&H)!==0)(b.flags&131072)!==0&&(hl=!0);else return _.lanes=b.lanes,np(b,_,H)}return X8(b,_,A,N,H)}function cre(b,_,A){var N=_.pendingProps,H=N.children,Q=b!==null?b.memoizedState:null;if(N.mode==="hidden")if((_.mode&1)===0)_.memoizedState={baseLanes:0,cachePool:null,transitions:null},li(Pb,Xl),Xl|=A;else{if((A&1073741824)===0)return b=Q!==null?Q.baseLanes|A:A,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:b,cachePool:null,transitions:null},_.updateQueue=null,li(Pb,Xl),Xl|=b,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=Q!==null?Q.baseLanes:A,li(Pb,Xl),Xl|=N}else Q!==null?(N=Q.baseLanes|A,_.memoizedState=null):N=A,li(Pb,Xl),Xl|=N;return Ia(b,_,H,A),_.child}function dre(b,_){var A=_.ref;(b===null&&A!==null||b!==null&&b.ref!==A)&&(_.flags|=512,_.flags|=2097152)}function X8(b,_,A,N,H){var Q=fl(A)?oy:Yo.current;return Q=_b(_,Q),Ab(_,H),A=B8(b,_,A,N,Q,H),N=z8(),b!==null&&!hl?(_.updateQueue=b.updateQueue,_.flags&=-2053,b.lanes&=~H,np(b,_,H)):(Ci&&N&&E8(_),_.flags|=1,Ia(b,_,A,H),_.child)}function fre(b,_,A,N,H){if(fl(A)){var Q=!0;UA(_)}else Q=!1;if(Ab(_,H),_.stateNode===null)oI(b,_),ere(_,A,N),G8(_,A,N,H),N=!0;else if(b===null){var re=_.stateNode,ye=_.memoizedProps;re.props=ye;var Se=re.context,qe=A.contextType;typeof qe=="object"&&qe!==null?qe=Du(qe):(qe=fl(A)?oy:Yo.current,qe=_b(_,qe));var dt=A.getDerivedStateFromProps,mt=typeof dt=="function"||typeof re.getSnapshotBeforeUpdate=="function";mt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ye!==N||Se!==qe)&&tre(_,re,N,qe),Hm=!1;var ut=_.memoizedState;re.state=ut,QA(_,N,re,H),Se=_.memoizedState,ye!==N||ut!==Se||dl.current||Hm?(typeof dt=="function"&&(W8(_,A,dt,N),Se=_.memoizedState),(ye=Hm||Zne(_,A,ye,N,ut,Se,qe))?(mt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(_.flags|=4194308)):(typeof re.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=N,_.memoizedState=Se),re.props=N,re.state=Se,re.context=qe,N=ye):(typeof re.componentDidMount=="function"&&(_.flags|=4194308),N=!1)}else{re=_.stateNode,Ane(b,_),ye=_.memoizedProps,qe=_.type===_.elementType?ye:jc(_.type,ye),re.props=qe,mt=_.pendingProps,ut=re.context,Se=A.contextType,typeof Se=="object"&&Se!==null?Se=Du(Se):(Se=fl(A)?oy:Yo.current,Se=_b(_,Se));var qt=A.getDerivedStateFromProps;(dt=typeof qt=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ye!==mt||ut!==Se)&&tre(_,re,N,Se),Hm=!1,ut=_.memoizedState,re.state=ut,QA(_,N,re,H);var Gt=_.memoizedState;ye!==mt||ut!==Gt||dl.current||Hm?(typeof qt=="function"&&(W8(_,A,qt,N),Gt=_.memoizedState),(qe=Hm||Zne(_,A,qe,N,ut,Gt,Se)||!1)?(dt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(N,Gt,Se),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(N,Gt,Se)),typeof re.componentDidUpdate=="function"&&(_.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof re.componentDidUpdate!="function"||ye===b.memoizedProps&&ut===b.memoizedState||(_.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ye===b.memoizedProps&&ut===b.memoizedState||(_.flags|=1024),_.memoizedProps=N,_.memoizedState=Gt),re.props=N,re.state=Gt,re.context=Se,N=qe):(typeof re.componentDidUpdate!="function"||ye===b.memoizedProps&&ut===b.memoizedState||(_.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ye===b.memoizedProps&&ut===b.memoizedState||(_.flags|=1024),N=!1)}return Q8(b,_,A,N,Q,H)}function Q8(b,_,A,N,H,Q){dre(b,_);var re=(_.flags&128)!==0;if(!N&&!re)return H&&yne(_,A,!1),np(b,_,Q);N=_.stateNode,x8e.current=_;var ye=re&&typeof A.getDerivedStateFromError!="function"?null:N.render();return _.flags|=1,b!==null&&re?(_.child=Tb(_,b.child,null,Q),_.child=Tb(_,null,ye,Q)):Ia(b,_,ye,Q),_.memoizedState=N.state,H&&yne(_,A,!0),_.child}function hre(b){var _=b.stateNode;_.pendingContext?mne(b,_.pendingContext,_.pendingContext!==_.context):_.context&&mne(b,_.context,!1),N8(b,_.containerInfo)}function pre(b,_,A,N,H){return Sb(),k8(H),_.flags|=256,Ia(b,_,A,N),_.child}var J8={dehydrated:null,treeContext:null,retryLane:0};function Z8(b){return{baseLanes:b,cachePool:null,transitions:null}}function mre(b,_,A){var N=_.pendingProps,H=Pi.current,Q=!1,re=(_.flags&128)!==0,ye;if((ye=re)||(ye=b!==null&&b.memoizedState===null?!1:(H&2)!==0),ye?(Q=!0,_.flags&=-129):(b===null||b.memoizedState!==null)&&(H|=1),li(Pi,H&1),b===null)return T8(_),b=_.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((_.mode&1)===0?_.lanes=1:b.data==="$!"?_.lanes=8:_.lanes=1073741824,null):(re=N.children,b=N.fallback,Q?(N=_.mode,Q=_.child,re={mode:"hidden",children:re},(N&1)===0&&Q!==null?(Q.childLanes=0,Q.pendingProps=re):Q=vI(re,N,0,null),b=gy(b,N,A,null),Q.return=_,b.return=_,Q.sibling=b,_.child=Q,_.child.memoizedState=Z8(A),_.memoizedState=J8,b):eF(_,re));if(H=b.memoizedState,H!==null&&(ye=H.dehydrated,ye!==null))return _8e(b,_,re,N,ye,H,A);if(Q){Q=N.fallback,re=_.mode,H=b.child,ye=H.sibling;var Se={mode:"hidden",children:N.children};return(re&1)===0&&_.child!==H?(N=_.child,N.childLanes=0,N.pendingProps=Se,_.deletions=null):(N=Qm(H,Se),N.subtreeFlags=H.subtreeFlags&14680064),ye!==null?Q=Qm(ye,Q):(Q=gy(Q,re,A,null),Q.flags|=2),Q.return=_,N.return=_,N.sibling=Q,_.child=N,N=Q,Q=_.child,re=b.child.memoizedState,re=re===null?Z8(A):{baseLanes:re.baseLanes|A,cachePool:null,transitions:re.transitions},Q.memoizedState=re,Q.childLanes=b.childLanes&~A,_.memoizedState=J8,N}return Q=b.child,b=Q.sibling,N=Qm(Q,{mode:"visible",children:N.children}),(_.mode&1)===0&&(N.lanes=A),N.return=_,N.sibling=null,b!==null&&(A=_.deletions,A===null?(_.deletions=[b],_.flags|=16):A.push(b)),_.child=N,_.memoizedState=null,N}function eF(b,_){return _=vI({mode:"visible",children:_},b.mode,0,null),_.return=b,b.child=_}function sI(b,_,A,N){return N!==null&&k8(N),Tb(_,b.child,null,A),b=eF(_,_.pendingProps.children),b.flags|=2,_.memoizedState=null,b}function _8e(b,_,A,N,H,Q,re){if(A)return _.flags&256?(_.flags&=-257,N=Y8(Error(n(422))),sI(b,_,re,N)):_.memoizedState!==null?(_.child=b.child,_.flags|=128,null):(Q=N.fallback,H=_.mode,N=vI({mode:"visible",children:N.children},H,0,null),Q=gy(Q,H,re,null),Q.flags|=2,N.return=_,Q.return=_,N.sibling=Q,_.child=N,(_.mode&1)!==0&&Tb(_,b.child,null,re),_.child.memoizedState=Z8(re),_.memoizedState=J8,Q);if((_.mode&1)===0)return sI(b,_,re,null);if(H.data==="$!"){if(N=H.nextSibling&&H.nextSibling.dataset,N)var ye=N.dgst;return N=ye,Q=Error(n(419)),N=Y8(Q,N,void 0),sI(b,_,re,N)}if(ye=(re&b.childLanes)!==0,hl||ye){if(N=Js,N!==null){switch(re&-re){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=(H&(N.suspendedLanes|re))!==0?0:H,H!==0&&H!==Q.retryLane&&(Q.retryLane=H,ep(b,H),Uc(N,b,H,-1))}return gF(),N=Y8(Error(n(421))),sI(b,_,re,N)}return H.data==="$?"?(_.flags|=128,_.child=b.child,_=$8e.bind(null,b),H._reactRetry=_,null):(b=Q.treeContext,Kl=Bm(H.nextSibling),Yl=_,Ci=!0,Lc=null,b!==null&&(Iu[Ru++]=Jh,Iu[Ru++]=Zh,Iu[Ru++]=ay,Jh=b.id,Zh=b.overflow,ay=_),_=eF(_,N.children),_.flags|=4096,_)}function gre(b,_,A){b.lanes|=_;var N=b.alternate;N!==null&&(N.lanes|=_),D8(b.return,_,A)}function tF(b,_,A,N,H){var Q=b.memoizedState;Q===null?b.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:N,tail:A,tailMode:H}:(Q.isBackwards=_,Q.rendering=null,Q.renderingStartTime=0,Q.last=N,Q.tail=A,Q.tailMode=H)}function yre(b,_,A){var N=_.pendingProps,H=N.revealOrder,Q=N.tail;if(Ia(b,_,N.children,A),N=Pi.current,(N&2)!==0)N=N&1|2,_.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=_.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&gre(b,A,_);else if(b.tag===19)gre(b,A,_);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===_)break e;for(;b.sibling===null;){if(b.return===null||b.return===_)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}N&=1}if(li(Pi,N),(_.mode&1)===0)_.memoizedState=null;else switch(H){case"forwards":for(A=_.child,H=null;A!==null;)b=A.alternate,b!==null&&JA(b)===null&&(H=A),A=A.sibling;A=H,A===null?(H=_.child,_.child=null):(H=A.sibling,A.sibling=null),tF(_,!1,H,A,Q);break;case"backwards":for(A=null,H=_.child,_.child=null;H!==null;){if(b=H.alternate,b!==null&&JA(b)===null){_.child=H;break}b=H.sibling,H.sibling=A,A=H,H=b}tF(_,!0,A,null,Q);break;case"together":tF(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function oI(b,_){(_.mode&1)===0&&b!==null&&(b.alternate=null,_.alternate=null,_.flags|=2)}function np(b,_,A){if(b!==null&&(_.dependencies=b.dependencies),fy|=_.lanes,(A&_.childLanes)===0)return null;if(b!==null&&_.child!==b.child)throw Error(n(153));if(_.child!==null){for(b=_.child,A=Qm(b,b.pendingProps),_.child=A,A.return=_;b.sibling!==null;)b=b.sibling,A=A.sibling=Qm(b,b.pendingProps),A.return=_;A.sibling=null}return _.child}function E8e(b,_,A){switch(_.tag){case 3:hre(_),Sb();break;case 5:Dne(_);break;case 1:fl(_.type)&&UA(_);break;case 4:N8(_,_.stateNode.containerInfo);break;case 10:var N=_.type._context,H=_.memoizedProps.value;li(YA,N._currentValue),N._currentValue=H;break;case 13:if(N=_.memoizedState,N!==null)return N.dehydrated!==null?(li(Pi,Pi.current&1),_.flags|=128,null):(A&_.child.childLanes)!==0?mre(b,_,A):(li(Pi,Pi.current&1),b=np(b,_,A),b!==null?b.sibling:null);li(Pi,Pi.current&1);break;case 19:if(N=(A&_.childLanes)!==0,(b.flags&128)!==0){if(N)return yre(b,_,A);_.flags|=128}if(H=_.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),li(Pi,Pi.current),N)break;return null;case 22:case 23:return _.lanes=0,cre(b,_,A)}return np(b,_,A)}var vre,nF,bre,wre;vre=function(b,_){for(var A=_.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===_)break;for(;A.sibling===null;){if(A.return===null||A.return===_)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},nF=function(){},bre=function(b,_,A,N){var H=b.memoizedProps;if(H!==N){b=_.stateNode,cy(vf.current);var Q=null;switch(A){case"input":H=ve(b,H),N=ve(b,N),Q=[];break;case"select":H=z({},H,{value:void 0}),N=z({},N,{value:void 0}),Q=[];break;case"textarea":H=ft(b,H),N=ft(b,N),Q=[];break;default:typeof H.onClick!="function"&&typeof N.onClick=="function"&&(b.onclick=jA)}wn(A,N);var re;A=null;for(qe in H)if(!N.hasOwnProperty(qe)&&H.hasOwnProperty(qe)&&H[qe]!=null)if(qe==="style"){var ye=H[qe];for(re in ye)ye.hasOwnProperty(re)&&(A||(A={}),A[re]="")}else qe!=="dangerouslySetInnerHTML"&&qe!=="children"&&qe!=="suppressContentEditableWarning"&&qe!=="suppressHydrationWarning"&&qe!=="autoFocus"&&(i.hasOwnProperty(qe)?Q||(Q=[]):(Q=Q||[]).push(qe,null));for(qe in N){var Se=N[qe];if(ye=H!=null?H[qe]:void 0,N.hasOwnProperty(qe)&&Se!==ye&&(Se!=null||ye!=null))if(qe==="style")if(ye){for(re in ye)!ye.hasOwnProperty(re)||Se&&Se.hasOwnProperty(re)||(A||(A={}),A[re]="");for(re in Se)Se.hasOwnProperty(re)&&ye[re]!==Se[re]&&(A||(A={}),A[re]=Se[re])}else A||(Q||(Q=[]),Q.push(qe,A)),A=Se;else qe==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ye=ye?ye.__html:void 0,Se!=null&&ye!==Se&&(Q=Q||[]).push(qe,Se)):qe==="children"?typeof Se!="string"&&typeof Se!="number"||(Q=Q||[]).push(qe,""+Se):qe!=="suppressContentEditableWarning"&&qe!=="suppressHydrationWarning"&&(i.hasOwnProperty(qe)?(Se!=null&&qe==="onScroll"&&pi("scroll",b),Q||ye===Se||(Q=[])):(Q=Q||[]).push(qe,Se))}A&&(Q=Q||[]).push("style",A);var qe=Q;(_.updateQueue=qe)&&(_.flags|=4)}},wre=function(b,_,A,N){A!==N&&(_.flags|=4)};function VE(b,_){if(!Ci)switch(b.tailMode){case"hidden":_=b.tail;for(var A=null;_!==null;)_.alternate!==null&&(A=_),_=_.sibling;A===null?b.tail=null:A.sibling=null;break;case"collapsed":A=b.tail;for(var N=null;A!==null;)A.alternate!==null&&(N=A),A=A.sibling;N===null?_||b.tail===null?b.tail=null:b.tail.sibling=null:N.sibling=null}}function Xo(b){var _=b.alternate!==null&&b.alternate.child===b.child,A=0,N=0;if(_)for(var H=b.child;H!==null;)A|=H.lanes|H.childLanes,N|=H.subtreeFlags&14680064,N|=H.flags&14680064,H.return=b,H=H.sibling;else for(H=b.child;H!==null;)A|=H.lanes|H.childLanes,N|=H.subtreeFlags,N|=H.flags,H.return=b,H=H.sibling;return b.subtreeFlags|=N,b.childLanes=A,_}function C8e(b,_,A){var N=_.pendingProps;switch(C8(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(_),null;case 1:return fl(_.type)&&zA(),Xo(_),null;case 3:return N=_.stateNode,Ib(),mi(dl),mi(Yo),F8(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(b===null||b.child===null)&&(WA(_)?_.flags|=4:b===null||b.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,Lc!==null&&(hF(Lc),Lc=null))),nF(b,_),Xo(_),null;case 5:$8(_);var H=cy(BE.current);if(A=_.type,b!==null&&_.stateNode!=null)bre(b,_,A,N,H),b.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!N){if(_.stateNode===null)throw Error(n(166));return Xo(_),null}if(b=cy(vf.current),WA(_)){N=_.stateNode,A=_.type;var Q=_.memoizedProps;switch(N[yf]=_,N[$E]=Q,b=(_.mode&1)!==0,A){case"dialog":pi("cancel",N),pi("close",N);break;case"iframe":case"object":case"embed":pi("load",N);break;case"video":case"audio":for(H=0;H<PE.length;H++)pi(PE[H],N);break;case"source":pi("error",N);break;case"img":case"image":case"link":pi("error",N),pi("load",N);break;case"details":pi("toggle",N);break;case"input":xe(N,Q),pi("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!Q.multiple},pi("invalid",N);break;case"textarea":rt(N,Q),pi("invalid",N)}wn(A,Q),H=null;for(var re in Q)if(Q.hasOwnProperty(re)){var ye=Q[re];re==="children"?typeof ye=="string"?N.textContent!==ye&&(Q.suppressHydrationWarning!==!0&&LA(N.textContent,ye,b),H=["children",ye]):typeof ye=="number"&&N.textContent!==""+ye&&(Q.suppressHydrationWarning!==!0&&LA(N.textContent,ye,b),H=["children",""+ye]):i.hasOwnProperty(re)&&ye!=null&&re==="onScroll"&&pi("scroll",N)}switch(A){case"input":ee(N),we(N,Q,!0);break;case"textarea":ee(N),Le(N);break;case"select":case"option":break;default:typeof Q.onClick=="function"&&(N.onclick=jA)}N=H,_.updateQueue=N,N!==null&&(_.flags|=4)}else{re=H.nodeType===9?H:H.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=ge(A)),b==="http://www.w3.org/1999/xhtml"?A==="script"?(b=re.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof N.is=="string"?b=re.createElement(A,{is:N.is}):(b=re.createElement(A),A==="select"&&(re=b,N.multiple?re.multiple=!0:N.size&&(re.size=N.size))):b=re.createElementNS(b,A),b[yf]=_,b[$E]=N,vre(b,_,!1,!1),_.stateNode=b;e:{switch(re=Gn(A,N),A){case"dialog":pi("cancel",b),pi("close",b),H=N;break;case"iframe":case"object":case"embed":pi("load",b),H=N;break;case"video":case"audio":for(H=0;H<PE.length;H++)pi(PE[H],b);H=N;break;case"source":pi("error",b),H=N;break;case"img":case"image":case"link":pi("error",b),pi("load",b),H=N;break;case"details":pi("toggle",b),H=N;break;case"input":xe(b,N),H=ve(b,N),pi("invalid",b);break;case"option":H=N;break;case"select":b._wrapperState={wasMultiple:!!N.multiple},H=z({},N,{value:void 0}),pi("invalid",b);break;case"textarea":rt(b,N),H=ft(b,N),pi("invalid",b);break;default:H=N}wn(A,H),ye=H;for(Q in ye)if(ye.hasOwnProperty(Q)){var Se=ye[Q];Q==="style"?Mn(b,Se):Q==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&it(b,Se)):Q==="children"?typeof Se=="string"?(A!=="textarea"||Se!=="")&&st(b,Se):typeof Se=="number"&&st(b,""+Se):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?Se!=null&&Q==="onScroll"&&pi("scroll",b):Se!=null&&w(b,Q,Se,re))}switch(A){case"input":ee(b),we(b,N,!1);break;case"textarea":ee(b),Le(b);break;case"option":N.value!=null&&b.setAttribute("value",""+oe(N.value));break;case"select":b.multiple=!!N.multiple,Q=N.value,Q!=null?tt(b,!!N.multiple,Q,!1):N.defaultValue!=null&&tt(b,!!N.multiple,N.defaultValue,!0);break;default:typeof H.onClick=="function"&&(b.onclick=jA)}switch(A){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return Xo(_),null;case 6:if(b&&_.stateNode!=null)wre(b,_,b.memoizedProps,N);else{if(typeof N!="string"&&_.stateNode===null)throw Error(n(166));if(A=cy(BE.current),cy(vf.current),WA(_)){if(N=_.stateNode,A=_.memoizedProps,N[yf]=_,(Q=N.nodeValue!==A)&&(b=Yl,b!==null))switch(b.tag){case 3:LA(N.nodeValue,A,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&LA(N.nodeValue,A,(b.mode&1)!==0)}Q&&(_.flags|=4)}else N=(A.nodeType===9?A:A.ownerDocument).createTextNode(N),N[yf]=_,_.stateNode=N}return Xo(_),null;case 13:if(mi(Pi),N=_.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Ci&&Kl!==null&&(_.mode&1)!==0&&(_.flags&128)===0)Ene(),Sb(),_.flags|=98560,Q=!1;else if(Q=WA(_),N!==null&&N.dehydrated!==null){if(b===null){if(!Q)throw Error(n(318));if(Q=_.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(n(317));Q[yf]=_}else Sb(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;Xo(_),Q=!1}else Lc!==null&&(hF(Lc),Lc=null),Q=!0;if(!Q)return _.flags&65536?_:null}return(_.flags&128)!==0?(_.lanes=A,_):(N=N!==null,N!==(b!==null&&b.memoizedState!==null)&&N&&(_.child.flags|=8192,(_.mode&1)!==0&&(b===null||(Pi.current&1)!==0?Ps===0&&(Ps=3):gF())),_.updateQueue!==null&&(_.flags|=4),Xo(_),null);case 4:return Ib(),nF(b,_),b===null&&OE(_.stateNode.containerInfo),Xo(_),null;case 10:return R8(_.type._context),Xo(_),null;case 17:return fl(_.type)&&zA(),Xo(_),null;case 19:if(mi(Pi),Q=_.memoizedState,Q===null)return Xo(_),null;if(N=(_.flags&128)!==0,re=Q.rendering,re===null)if(N)VE(Q,!1);else{if(Ps!==0||b!==null&&(b.flags&128)!==0)for(b=_.child;b!==null;){if(re=JA(b),re!==null){for(_.flags|=128,VE(Q,!1),N=re.updateQueue,N!==null&&(_.updateQueue=N,_.flags|=4),_.subtreeFlags=0,N=A,A=_.child;A!==null;)Q=A,b=N,Q.flags&=14680066,re=Q.alternate,re===null?(Q.childLanes=0,Q.lanes=b,Q.child=null,Q.subtreeFlags=0,Q.memoizedProps=null,Q.memoizedState=null,Q.updateQueue=null,Q.dependencies=null,Q.stateNode=null):(Q.childLanes=re.childLanes,Q.lanes=re.lanes,Q.child=re.child,Q.subtreeFlags=0,Q.deletions=null,Q.memoizedProps=re.memoizedProps,Q.memoizedState=re.memoizedState,Q.updateQueue=re.updateQueue,Q.type=re.type,b=re.dependencies,Q.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),A=A.sibling;return li(Pi,Pi.current&1|2),_.child}b=b.sibling}Q.tail!==null&&er()>Ob&&(_.flags|=128,N=!0,VE(Q,!1),_.lanes=4194304)}else{if(!N)if(b=JA(re),b!==null){if(_.flags|=128,N=!0,A=b.updateQueue,A!==null&&(_.updateQueue=A,_.flags|=4),VE(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!re.alternate&&!Ci)return Xo(_),null}else 2*er()-Q.renderingStartTime>Ob&&A!==1073741824&&(_.flags|=128,N=!0,VE(Q,!1),_.lanes=4194304);Q.isBackwards?(re.sibling=_.child,_.child=re):(A=Q.last,A!==null?A.sibling=re:_.child=re,Q.last=re)}return Q.tail!==null?(_=Q.tail,Q.rendering=_,Q.tail=_.sibling,Q.renderingStartTime=er(),_.sibling=null,A=Pi.current,li(Pi,N?A&1|2:A&1),_):(Xo(_),null);case 22:case 23:return mF(),N=_.memoizedState!==null,b!==null&&b.memoizedState!==null!==N&&(_.flags|=8192),N&&(_.mode&1)!==0?(Xl&1073741824)!==0&&(Xo(_),_.subtreeFlags&6&&(_.flags|=8192)):Xo(_),null;case 24:return null;case 25:return null}throw Error(n(156,_.tag))}function S8e(b,_){switch(C8(_),_.tag){case 1:return fl(_.type)&&zA(),b=_.flags,b&65536?(_.flags=b&-65537|128,_):null;case 3:return Ib(),mi(dl),mi(Yo),F8(),b=_.flags,(b&65536)!==0&&(b&128)===0?(_.flags=b&-65537|128,_):null;case 5:return $8(_),null;case 13:if(mi(Pi),b=_.memoizedState,b!==null&&b.dehydrated!==null){if(_.alternate===null)throw Error(n(340));Sb()}return b=_.flags,b&65536?(_.flags=b&-65537|128,_):null;case 19:return mi(Pi),null;case 4:return Ib(),null;case 10:return R8(_.type._context),null;case 22:case 23:return mF(),null;case 24:return null;default:return null}}var aI=!1,Qo=!1,T8e=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Db(b,_){var A=b.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(N){zi(b,_,N)}else A.current=null}function rF(b,_,A){try{A()}catch(N){zi(b,_,N)}}var xre=!1;function k8e(b,_){if(m8=fe,b=Zte(),a8(b)){if("selectionStart"in b)var A={start:b.selectionStart,end:b.selectionEnd};else e:{A=(A=b.ownerDocument)&&A.defaultView||window;var N=A.getSelection&&A.getSelection();if(N&&N.rangeCount!==0){A=N.anchorNode;var H=N.anchorOffset,Q=N.focusNode;N=N.focusOffset;try{A.nodeType,Q.nodeType}catch{A=null;break e}var re=0,ye=-1,Se=-1,qe=0,dt=0,mt=b,ut=null;t:for(;;){for(var qt;mt!==A||H!==0&&mt.nodeType!==3||(ye=re+H),mt!==Q||N!==0&&mt.nodeType!==3||(Se=re+N),mt.nodeType===3&&(re+=mt.nodeValue.length),(qt=mt.firstChild)!==null;)ut=mt,mt=qt;for(;;){if(mt===b)break t;if(ut===A&&++qe===H&&(ye=re),ut===Q&&++dt===N&&(Se=re),(qt=mt.nextSibling)!==null)break;mt=ut,ut=mt.parentNode}mt=qt}A=ye===-1||Se===-1?null:{start:ye,end:Se}}else A=null}A=A||{start:0,end:0}}else A=null;for(g8={focusedElem:b,selectionRange:A},fe=!1,Vt=_;Vt!==null;)if(_=Vt,b=_.child,(_.subtreeFlags&1028)!==0&&b!==null)b.return=_,Vt=b;else for(;Vt!==null;){_=Vt;try{var Gt=_.alternate;if((_.flags&1024)!==0)switch(_.tag){case 0:case 11:case 15:break;case 1:if(Gt!==null){var Yt=Gt.memoizedProps,Zi=Gt.memoizedState,Me=_.stateNode,Ie=Me.getSnapshotBeforeUpdate(_.elementType===_.type?Yt:jc(_.type,Yt),Zi);Me.__reactInternalSnapshotBeforeUpdate=Ie}break;case 3:var je=_.stateNode.containerInfo;je.nodeType===1?je.textContent="":je.nodeType===9&&je.documentElement&&je.removeChild(je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(St){zi(_,_.return,St)}if(b=_.sibling,b!==null){b.return=_.return,Vt=b;break}Vt=_.return}return Gt=xre,xre=!1,Gt}function WE(b,_,A){var N=_.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var H=N=N.next;do{if((H.tag&b)===b){var Q=H.destroy;H.destroy=void 0,Q!==void 0&&rF(_,A,Q)}H=H.next}while(H!==N)}}function lI(b,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var A=_=_.next;do{if((A.tag&b)===b){var N=A.create;A.destroy=N()}A=A.next}while(A!==_)}}function iF(b){var _=b.ref;if(_!==null){var A=b.stateNode;switch(b.tag){case 5:b=A;break;default:b=A}typeof _=="function"?_(b):_.current=b}}function _re(b){var _=b.alternate;_!==null&&(b.alternate=null,_re(_)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(_=b.stateNode,_!==null&&(delete _[yf],delete _[$E],delete _[w8],delete _[u8e],delete _[c8e])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function Ere(b){return b.tag===5||b.tag===3||b.tag===4}function Cre(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||Ere(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function sF(b,_,A){var N=b.tag;if(N===5||N===6)b=b.stateNode,_?A.nodeType===8?A.parentNode.insertBefore(b,_):A.insertBefore(b,_):(A.nodeType===8?(_=A.parentNode,_.insertBefore(b,A)):(_=A,_.appendChild(b)),A=A._reactRootContainer,A!=null||_.onclick!==null||(_.onclick=jA));else if(N!==4&&(b=b.child,b!==null))for(sF(b,_,A),b=b.sibling;b!==null;)sF(b,_,A),b=b.sibling}function oF(b,_,A){var N=b.tag;if(N===5||N===6)b=b.stateNode,_?A.insertBefore(b,_):A.appendChild(b);else if(N!==4&&(b=b.child,b!==null))for(oF(b,_,A),b=b.sibling;b!==null;)oF(b,_,A),b=b.sibling}var Eo=null,Bc=!1;function Wm(b,_,A){for(A=A.child;A!==null;)Sre(b,_,A),A=A.sibling}function Sre(b,_,A){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(Su,A)}catch{}switch(A.tag){case 5:Qo||Db(A,_);case 6:var N=Eo,H=Bc;Eo=null,Wm(b,_,A),Eo=N,Bc=H,Eo!==null&&(Bc?(b=Eo,A=A.stateNode,b.nodeType===8?b.parentNode.removeChild(A):b.removeChild(A)):Eo.removeChild(A.stateNode));break;case 18:Eo!==null&&(Bc?(b=Eo,A=A.stateNode,b.nodeType===8?b8(b.parentNode,A):b.nodeType===1&&b8(b,A),ll(b)):b8(Eo,A.stateNode));break;case 4:N=Eo,H=Bc,Eo=A.stateNode.containerInfo,Bc=!0,Wm(b,_,A),Eo=N,Bc=H;break;case 0:case 11:case 14:case 15:if(!Qo&&(N=A.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){H=N=N.next;do{var Q=H,re=Q.destroy;Q=Q.tag,re!==void 0&&((Q&2)!==0||(Q&4)!==0)&&rF(A,_,re),H=H.next}while(H!==N)}Wm(b,_,A);break;case 1:if(!Qo&&(Db(A,_),N=A.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=A.memoizedProps,N.state=A.memoizedState,N.componentWillUnmount()}catch(ye){zi(A,_,ye)}Wm(b,_,A);break;case 21:Wm(b,_,A);break;case 22:A.mode&1?(Qo=(N=Qo)||A.memoizedState!==null,Wm(b,_,A),Qo=N):Wm(b,_,A);break;default:Wm(b,_,A)}}function Tre(b){var _=b.updateQueue;if(_!==null){b.updateQueue=null;var A=b.stateNode;A===null&&(A=b.stateNode=new T8e),_.forEach(function(N){var H=M8e.bind(null,b,N);A.has(N)||(A.add(N),N.then(H,H))})}}function zc(b,_){var A=_.deletions;if(A!==null)for(var N=0;N<A.length;N++){var H=A[N];try{var Q=b,re=_,ye=re;e:for(;ye!==null;){switch(ye.tag){case 5:Eo=ye.stateNode,Bc=!1;break e;case 3:Eo=ye.stateNode.containerInfo,Bc=!0;break e;case 4:Eo=ye.stateNode.containerInfo,Bc=!0;break e}ye=ye.return}if(Eo===null)throw Error(n(160));Sre(Q,re,H),Eo=null,Bc=!1;var Se=H.alternate;Se!==null&&(Se.return=null),H.return=null}catch(qe){zi(H,_,qe)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)kre(_,b),_=_.sibling}function kre(b,_){var A=b.alternate,N=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(zc(_,b),wf(b),N&4){try{WE(3,b,b.return),lI(3,b)}catch(Yt){zi(b,b.return,Yt)}try{WE(5,b,b.return)}catch(Yt){zi(b,b.return,Yt)}}break;case 1:zc(_,b),wf(b),N&512&&A!==null&&Db(A,A.return);break;case 5:if(zc(_,b),wf(b),N&512&&A!==null&&Db(A,A.return),b.flags&32){var H=b.stateNode;try{st(H,"")}catch(Yt){zi(b,b.return,Yt)}}if(N&4&&(H=b.stateNode,H!=null)){var Q=b.memoizedProps,re=A!==null?A.memoizedProps:Q,ye=b.type,Se=b.updateQueue;if(b.updateQueue=null,Se!==null)try{ye==="input"&&Q.type==="radio"&&Q.name!=null&&Re(H,Q),Gn(ye,re);var qe=Gn(ye,Q);for(re=0;re<Se.length;re+=2){var dt=Se[re],mt=Se[re+1];dt==="style"?Mn(H,mt):dt==="dangerouslySetInnerHTML"?it(H,mt):dt==="children"?st(H,mt):w(H,dt,mt,qe)}switch(ye){case"input":Te(H,Q);break;case"textarea":Pe(H,Q);break;case"select":var ut=H._wrapperState.wasMultiple;H._wrapperState.wasMultiple=!!Q.multiple;var qt=Q.value;qt!=null?tt(H,!!Q.multiple,qt,!1):ut!==!!Q.multiple&&(Q.defaultValue!=null?tt(H,!!Q.multiple,Q.defaultValue,!0):tt(H,!!Q.multiple,Q.multiple?[]:"",!1))}H[$E]=Q}catch(Yt){zi(b,b.return,Yt)}}break;case 6:if(zc(_,b),wf(b),N&4){if(b.stateNode===null)throw Error(n(162));H=b.stateNode,Q=b.memoizedProps;try{H.nodeValue=Q}catch(Yt){zi(b,b.return,Yt)}}break;case 3:if(zc(_,b),wf(b),N&4&&A!==null&&A.memoizedState.isDehydrated)try{ll(_.containerInfo)}catch(Yt){zi(b,b.return,Yt)}break;case 4:zc(_,b),wf(b);break;case 13:zc(_,b),wf(b),H=b.child,H.flags&8192&&(Q=H.memoizedState!==null,H.stateNode.isHidden=Q,!Q||H.alternate!==null&&H.alternate.memoizedState!==null||(uF=er())),N&4&&Tre(b);break;case 22:if(dt=A!==null&&A.memoizedState!==null,b.mode&1?(Qo=(qe=Qo)||dt,zc(_,b),Qo=qe):zc(_,b),wf(b),N&8192){if(qe=b.memoizedState!==null,(b.stateNode.isHidden=qe)&&!dt&&(b.mode&1)!==0)for(Vt=b,dt=b.child;dt!==null;){for(mt=Vt=dt;Vt!==null;){switch(ut=Vt,qt=ut.child,ut.tag){case 0:case 11:case 14:case 15:WE(4,ut,ut.return);break;case 1:Db(ut,ut.return);var Gt=ut.stateNode;if(typeof Gt.componentWillUnmount=="function"){N=ut,A=ut.return;try{_=N,Gt.props=_.memoizedProps,Gt.state=_.memoizedState,Gt.componentWillUnmount()}catch(Yt){zi(N,A,Yt)}}break;case 5:Db(ut,ut.return);break;case 22:if(ut.memoizedState!==null){Rre(mt);continue}}qt!==null?(qt.return=ut,Vt=qt):Rre(mt)}dt=dt.sibling}e:for(dt=null,mt=b;;){if(mt.tag===5){if(dt===null){dt=mt;try{H=mt.stateNode,qe?(Q=H.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none"):(ye=mt.stateNode,Se=mt.memoizedProps.style,re=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ye.style.display=Rn("display",re))}catch(Yt){zi(b,b.return,Yt)}}}else if(mt.tag===6){if(dt===null)try{mt.stateNode.nodeValue=qe?"":mt.memoizedProps}catch(Yt){zi(b,b.return,Yt)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===b)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===b)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===b)break e;dt===mt&&(dt=null),mt=mt.return}dt===mt&&(dt=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:zc(_,b),wf(b),N&4&&Tre(b);break;case 21:break;default:zc(_,b),wf(b)}}function wf(b){var _=b.flags;if(_&2){try{e:{for(var A=b.return;A!==null;){if(Ere(A)){var N=A;break e}A=A.return}throw Error(n(160))}switch(N.tag){case 5:var H=N.stateNode;N.flags&32&&(st(H,""),N.flags&=-33);var Q=Cre(b);oF(b,Q,H);break;case 3:case 4:var re=N.stateNode.containerInfo,ye=Cre(b);sF(b,ye,re);break;default:throw Error(n(161))}}catch(Se){zi(b,b.return,Se)}b.flags&=-3}_&4096&&(b.flags&=-4097)}function A8e(b,_,A){Vt=b,Are(b)}function Are(b,_,A){for(var N=(b.mode&1)!==0;Vt!==null;){var H=Vt,Q=H.child;if(H.tag===22&&N){var re=H.memoizedState!==null||aI;if(!re){var ye=H.alternate,Se=ye!==null&&ye.memoizedState!==null||Qo;ye=aI;var qe=Qo;if(aI=re,(Qo=Se)&&!qe)for(Vt=H;Vt!==null;)re=Vt,Se=re.child,re.tag===22&&re.memoizedState!==null?Dre(H):Se!==null?(Se.return=re,Vt=Se):Dre(H);for(;Q!==null;)Vt=Q,Are(Q),Q=Q.sibling;Vt=H,aI=ye,Qo=qe}Ire(b)}else(H.subtreeFlags&8772)!==0&&Q!==null?(Q.return=H,Vt=Q):Ire(b)}}function Ire(b){for(;Vt!==null;){var _=Vt;if((_.flags&8772)!==0){var A=_.alternate;try{if((_.flags&8772)!==0)switch(_.tag){case 0:case 11:case 15:Qo||lI(5,_);break;case 1:var N=_.stateNode;if(_.flags&4&&!Qo)if(A===null)N.componentDidMount();else{var H=_.elementType===_.type?A.memoizedProps:jc(_.type,A.memoizedProps);N.componentDidUpdate(H,A.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var Q=_.updateQueue;Q!==null&&Rne(_,Q,N);break;case 3:var re=_.updateQueue;if(re!==null){if(A=null,_.child!==null)switch(_.child.tag){case 5:A=_.child.stateNode;break;case 1:A=_.child.stateNode}Rne(_,re,A)}break;case 5:var ye=_.stateNode;if(A===null&&_.flags&4){A=ye;var Se=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&A.focus();break;case"img":Se.src&&(A.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var qe=_.alternate;if(qe!==null){var dt=qe.memoizedState;if(dt!==null){var mt=dt.dehydrated;mt!==null&&ll(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qo||_.flags&512&&iF(_)}catch(ut){zi(_,_.return,ut)}}if(_===b){Vt=null;break}if(A=_.sibling,A!==null){A.return=_.return,Vt=A;break}Vt=_.return}}function Rre(b){for(;Vt!==null;){var _=Vt;if(_===b){Vt=null;break}var A=_.sibling;if(A!==null){A.return=_.return,Vt=A;break}Vt=_.return}}function Dre(b){for(;Vt!==null;){var _=Vt;try{switch(_.tag){case 0:case 11:case 15:var A=_.return;try{lI(4,_)}catch(Se){zi(_,A,Se)}break;case 1:var N=_.stateNode;if(typeof N.componentDidMount=="function"){var H=_.return;try{N.componentDidMount()}catch(Se){zi(_,H,Se)}}var Q=_.return;try{iF(_)}catch(Se){zi(_,Q,Se)}break;case 5:var re=_.return;try{iF(_)}catch(Se){zi(_,re,Se)}}}catch(Se){zi(_,_.return,Se)}if(_===b){Vt=null;break}var ye=_.sibling;if(ye!==null){ye.return=_.return,Vt=ye;break}Vt=_.return}}var I8e=Math.ceil,uI=E.ReactCurrentDispatcher,aF=E.ReactCurrentOwner,Ou=E.ReactCurrentBatchConfig,mr=0,Js=null,ms=null,Co=0,Xl=0,Pb=zm(0),Ps=0,GE=null,fy=0,cI=0,lF=0,YE=null,pl=null,uF=0,Ob=1/0,rp=null,dI=!1,cF=null,Gm=null,fI=!1,Ym=null,hI=0,KE=0,dF=null,pI=-1,mI=0;function Ra(){return(mr&6)!==0?er():pI!==-1?pI:pI=er()}function Km(b){return(b.mode&1)===0?1:(mr&2)!==0&&Co!==0?Co&-Co:f8e.transition!==null?(mI===0&&(mI=vt()),mI):(b=tn,b!==0||(b=window.event,b=b===void 0?16:Fr(b.type)),b)}function Uc(b,_,A,N){if(50<KE)throw KE=0,dF=null,Error(n(185));vn(b,A,N),((mr&2)===0||b!==Js)&&(b===Js&&((mr&2)===0&&(cI|=A),Ps===4&&Xm(b,Co)),ml(b,N),A===1&&mr===0&&(_.mode&1)===0&&(Ob=er()+500,qA&&qm()))}function ml(b,_){var A=b.callbackNode;lt(b,_);var N=Qe(b,b===Js?Co:0);if(N===0)A!==null&&Dc(A),b.callbackNode=null,b.callbackPriority=0;else if(_=N&-N,b.callbackPriority!==_){if(A!=null&&Dc(A),_===1)b.tag===0?d8e(Ore.bind(null,b)):vne(Ore.bind(null,b)),a8e(function(){(mr&6)===0&&qm()}),A=null;else{switch(wr(N)){case 1:A=Cs;break;case 4:A=Wl;break;case 16:A=Ss;break;case 536870912:A=Om;break;default:A=Ss}A=zre(A,Pre.bind(null,b))}b.callbackPriority=_,b.callbackNode=A}}function Pre(b,_){if(pI=-1,mI=0,(mr&6)!==0)throw Error(n(327));var A=b.callbackNode;if(Nb()&&b.callbackNode!==A)return null;var N=Qe(b,b===Js?Co:0);if(N===0)return null;if((N&30)!==0||(N&b.expiredLanes)!==0||_)_=gI(b,N);else{_=N;var H=mr;mr|=2;var Q=$re();(Js!==b||Co!==_)&&(rp=null,Ob=er()+500,py(b,_));do try{P8e();break}catch(ye){Nre(b,ye)}while(!0);I8(),uI.current=Q,mr=H,ms!==null?_=0:(Js=null,Co=0,_=Ps)}if(_!==0){if(_===2&&(H=at(b),H!==0&&(N=H,_=fF(b,H))),_===1)throw A=GE,py(b,0),Xm(b,N),ml(b,er()),A;if(_===6)Xm(b,N);else{if(H=b.current.alternate,(N&30)===0&&!R8e(H)&&(_=gI(b,N),_===2&&(Q=at(b),Q!==0&&(N=Q,_=fF(b,Q))),_===1))throw A=GE,py(b,0),Xm(b,N),ml(b,er()),A;switch(b.finishedWork=H,b.finishedLanes=N,_){case 0:case 1:throw Error(n(345));case 2:my(b,pl,rp);break;case 3:if(Xm(b,N),(N&130023424)===N&&(_=uF+500-er(),10<_)){if(Qe(b,0)!==0)break;if(H=b.suspendedLanes,(H&N)!==N){Ra(),b.pingedLanes|=b.suspendedLanes&H;break}b.timeoutHandle=v8(my.bind(null,b,pl,rp),_);break}my(b,pl,rp);break;case 4:if(Xm(b,N),(N&4194240)===N)break;for(_=b.eventTimes,H=-1;0<N;){var re=31-ks(N);Q=1<<re,re=_[re],re>H&&(H=re),N&=~Q}if(N=H,N=er()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*I8e(N/1960))-N,10<N){b.timeoutHandle=v8(my.bind(null,b,pl,rp),N);break}my(b,pl,rp);break;case 5:my(b,pl,rp);break;default:throw Error(n(329))}}}return ml(b,er()),b.callbackNode===A?Pre.bind(null,b):null}function fF(b,_){var A=YE;return b.current.memoizedState.isDehydrated&&(py(b,_).flags|=256),b=gI(b,_),b!==2&&(_=pl,pl=A,_!==null&&hF(_)),b}function hF(b){pl===null?pl=b:pl.push.apply(pl,b)}function R8e(b){for(var _=b;;){if(_.flags&16384){var A=_.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var N=0;N<A.length;N++){var H=A[N],Q=H.getSnapshot;H=H.value;try{if(!Fc(Q(),H))return!1}catch{return!1}}}if(A=_.child,_.subtreeFlags&16384&&A!==null)A.return=_,_=A;else{if(_===b)break;for(;_.sibling===null;){if(_.return===null||_.return===b)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Xm(b,_){for(_&=~lF,_&=~cI,b.suspendedLanes|=_,b.pingedLanes&=~_,b=b.expirationTimes;0<_;){var A=31-ks(_),N=1<<A;b[A]=-1,_&=~N}}function Ore(b){if((mr&6)!==0)throw Error(n(327));Nb();var _=Qe(b,0);if((_&1)===0)return ml(b,er()),null;var A=gI(b,_);if(b.tag!==0&&A===2){var N=at(b);N!==0&&(_=N,A=fF(b,N))}if(A===1)throw A=GE,py(b,0),Xm(b,_),ml(b,er()),A;if(A===6)throw Error(n(345));return b.finishedWork=b.current.alternate,b.finishedLanes=_,my(b,pl,rp),ml(b,er()),null}function pF(b,_){var A=mr;mr|=1;try{return b(_)}finally{mr=A,mr===0&&(Ob=er()+500,qA&&qm())}}function hy(b){Ym!==null&&Ym.tag===0&&(mr&6)===0&&Nb();var _=mr;mr|=1;var A=Ou.transition,N=tn;try{if(Ou.transition=null,tn=1,b)return b()}finally{tn=N,Ou.transition=A,mr=_,(mr&6)===0&&qm()}}function mF(){Xl=Pb.current,mi(Pb)}function py(b,_){b.finishedWork=null,b.finishedLanes=0;var A=b.timeoutHandle;if(A!==-1&&(b.timeoutHandle=-1,o8e(A)),ms!==null)for(A=ms.return;A!==null;){var N=A;switch(C8(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&zA();break;case 3:Ib(),mi(dl),mi(Yo),F8();break;case 5:$8(N);break;case 4:Ib();break;case 13:mi(Pi);break;case 19:mi(Pi);break;case 10:R8(N.type._context);break;case 22:case 23:mF()}A=A.return}if(Js=b,ms=b=Qm(b.current,null),Co=Xl=_,Ps=0,GE=null,lF=cI=fy=0,pl=YE=null,uy!==null){for(_=0;_<uy.length;_++)if(A=uy[_],N=A.interleaved,N!==null){A.interleaved=null;var H=N.next,Q=A.pending;if(Q!==null){var re=Q.next;Q.next=H,N.next=re}A.pending=N}uy=null}return b}function Nre(b,_){do{var A=ms;try{if(I8(),ZA.current=rI,eI){for(var N=Oi.memoizedState;N!==null;){var H=N.queue;H!==null&&(H.pending=null),N=N.next}eI=!1}if(dy=0,Qs=Ds=Oi=null,zE=!1,UE=0,aF.current=null,A===null||A.return===null){Ps=1,GE=_,ms=null;break}e:{var Q=b,re=A.return,ye=A,Se=_;if(_=Co,ye.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var qe=Se,dt=ye,mt=dt.tag;if((dt.mode&1)===0&&(mt===0||mt===11||mt===15)){var ut=dt.alternate;ut?(dt.updateQueue=ut.updateQueue,dt.memoizedState=ut.memoizedState,dt.lanes=ut.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var qt=sre(re);if(qt!==null){qt.flags&=-257,ore(qt,re,ye,Q,_),qt.mode&1&&ire(Q,qe,_),_=qt,Se=qe;var Gt=_.updateQueue;if(Gt===null){var Yt=new Set;Yt.add(Se),_.updateQueue=Yt}else Gt.add(Se);break e}else{if((_&1)===0){ire(Q,qe,_),gF();break e}Se=Error(n(426))}}else if(Ci&&ye.mode&1){var Zi=sre(re);if(Zi!==null){(Zi.flags&65536)===0&&(Zi.flags|=256),ore(Zi,re,ye,Q,_),k8(Rb(Se,ye));break e}}Q=Se=Rb(Se,ye),Ps!==4&&(Ps=2),YE===null?YE=[Q]:YE.push(Q),Q=re;do{switch(Q.tag){case 3:Q.flags|=65536,_&=-_,Q.lanes|=_;var Me=nre(Q,Se,_);Ine(Q,Me);break e;case 1:ye=Se;var Ie=Q.type,je=Q.stateNode;if((Q.flags&128)===0&&(typeof Ie.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(Gm===null||!Gm.has(je)))){Q.flags|=65536,_&=-_,Q.lanes|=_;var St=rre(Q,ye,_);Ine(Q,St);break e}}Q=Q.return}while(Q!==null)}Fre(A)}catch(en){_=en,ms===A&&A!==null&&(ms=A=A.return);continue}break}while(!0)}function $re(){var b=uI.current;return uI.current=rI,b===null?rI:b}function gF(){(Ps===0||Ps===3||Ps===2)&&(Ps=4),Js===null||(fy&268435455)===0&&(cI&268435455)===0||Xm(Js,Co)}function gI(b,_){var A=mr;mr|=2;var N=$re();(Js!==b||Co!==_)&&(rp=null,py(b,_));do try{D8e();break}catch(H){Nre(b,H)}while(!0);if(I8(),mr=A,uI.current=N,ms!==null)throw Error(n(261));return Js=null,Co=0,Ps}function D8e(){for(;ms!==null;)Mre(ms)}function P8e(){for(;ms!==null&&!Pm();)Mre(ms)}function Mre(b){var _=Bre(b.alternate,b,Xl);b.memoizedProps=b.pendingProps,_===null?Fre(b):ms=_,aF.current=null}function Fre(b){var _=b;do{var A=_.alternate;if(b=_.return,(_.flags&32768)===0){if(A=C8e(A,_,Xl),A!==null){ms=A;return}}else{if(A=S8e(A,_),A!==null){A.flags&=32767,ms=A;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Ps=6,ms=null;return}}if(_=_.sibling,_!==null){ms=_;return}ms=_=b}while(_!==null);Ps===0&&(Ps=5)}function my(b,_,A){var N=tn,H=Ou.transition;try{Ou.transition=null,tn=1,O8e(b,_,A,N)}finally{Ou.transition=H,tn=N}return null}function O8e(b,_,A,N){do Nb();while(Ym!==null);if((mr&6)!==0)throw Error(n(327));A=b.finishedWork;var H=b.finishedLanes;if(A===null)return null;if(b.finishedWork=null,b.finishedLanes=0,A===b.current)throw Error(n(177));b.callbackNode=null,b.callbackPriority=0;var Q=A.lanes|A.childLanes;if(Zt(b,Q),b===Js&&(ms=Js=null,Co=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||fI||(fI=!0,zre(Ss,function(){return Nb(),null})),Q=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||Q){Q=Ou.transition,Ou.transition=null;var re=tn;tn=1;var ye=mr;mr|=4,aF.current=null,k8e(b,A),kre(A,b),ZMe(g8),fe=!!m8,g8=m8=null,b.current=A,A8e(A),Pc(),mr=ye,tn=re,Ou.transition=Q}else b.current=A;if(fI&&(fI=!1,Ym=b,hI=H),Q=b.pendingLanes,Q===0&&(Gm=null),Nm(A.stateNode),ml(b,er()),_!==null)for(N=b.onRecoverableError,A=0;A<_.length;A++)H=_[A],N(H.value,{componentStack:H.stack,digest:H.digest});if(dI)throw dI=!1,b=cF,cF=null,b;return(hI&1)!==0&&b.tag!==0&&Nb(),Q=b.pendingLanes,(Q&1)!==0?b===dF?KE++:(KE=0,dF=b):KE=0,qm(),null}function Nb(){if(Ym!==null){var b=wr(hI),_=Ou.transition,A=tn;try{if(Ou.transition=null,tn=16>b?16:b,Ym===null)var N=!1;else{if(b=Ym,Ym=null,hI=0,(mr&6)!==0)throw Error(n(331));var H=mr;for(mr|=4,Vt=b.current;Vt!==null;){var Q=Vt,re=Q.child;if((Vt.flags&16)!==0){var ye=Q.deletions;if(ye!==null){for(var Se=0;Se<ye.length;Se++){var qe=ye[Se];for(Vt=qe;Vt!==null;){var dt=Vt;switch(dt.tag){case 0:case 11:case 15:WE(8,dt,Q)}var mt=dt.child;if(mt!==null)mt.return=dt,Vt=mt;else for(;Vt!==null;){dt=Vt;var ut=dt.sibling,qt=dt.return;if(_re(dt),dt===qe){Vt=null;break}if(ut!==null){ut.return=qt,Vt=ut;break}Vt=qt}}}var Gt=Q.alternate;if(Gt!==null){var Yt=Gt.child;if(Yt!==null){Gt.child=null;do{var Zi=Yt.sibling;Yt.sibling=null,Yt=Zi}while(Yt!==null)}}Vt=Q}}if((Q.subtreeFlags&2064)!==0&&re!==null)re.return=Q,Vt=re;else e:for(;Vt!==null;){if(Q=Vt,(Q.flags&2048)!==0)switch(Q.tag){case 0:case 11:case 15:WE(9,Q,Q.return)}var Me=Q.sibling;if(Me!==null){Me.return=Q.return,Vt=Me;break e}Vt=Q.return}}var Ie=b.current;for(Vt=Ie;Vt!==null;){re=Vt;var je=re.child;if((re.subtreeFlags&2064)!==0&&je!==null)je.return=re,Vt=je;else e:for(re=Ie;Vt!==null;){if(ye=Vt,(ye.flags&2048)!==0)try{switch(ye.tag){case 0:case 11:case 15:lI(9,ye)}}catch(en){zi(ye,ye.return,en)}if(ye===re){Vt=null;break e}var St=ye.sibling;if(St!==null){St.return=ye.return,Vt=St;break e}Vt=ye.return}}if(mr=H,qm(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(Su,b)}catch{}N=!0}return N}finally{tn=A,Ou.transition=_}}return!1}function Lre(b,_,A){_=Rb(A,_),_=nre(b,_,1),b=Vm(b,_,1),_=Ra(),b!==null&&(vn(b,1,_),ml(b,_))}function zi(b,_,A){if(b.tag===3)Lre(b,b,A);else for(;_!==null;){if(_.tag===3){Lre(_,b,A);break}else if(_.tag===1){var N=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Gm===null||!Gm.has(N))){b=Rb(A,b),b=rre(_,b,1),_=Vm(_,b,1),b=Ra(),_!==null&&(vn(_,1,b),ml(_,b));break}}_=_.return}}function N8e(b,_,A){var N=b.pingCache;N!==null&&N.delete(_),_=Ra(),b.pingedLanes|=b.suspendedLanes&A,Js===b&&(Co&A)===A&&(Ps===4||Ps===3&&(Co&130023424)===Co&&500>er()-uF?py(b,0):lF|=A),ml(b,_)}function jre(b,_){_===0&&((b.mode&1)===0?_=1:(_=De,De<<=1,(De&130023424)===0&&(De=4194304)));var A=Ra();b=ep(b,_),b!==null&&(vn(b,_,A),ml(b,A))}function $8e(b){var _=b.memoizedState,A=0;_!==null&&(A=_.retryLane),jre(b,A)}function M8e(b,_){var A=0;switch(b.tag){case 13:var N=b.stateNode,H=b.memoizedState;H!==null&&(A=H.retryLane);break;case 19:N=b.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(_),jre(b,A)}var Bre;Bre=function(b,_,A){if(b!==null)if(b.memoizedProps!==_.pendingProps||dl.current)hl=!0;else{if((b.lanes&A)===0&&(_.flags&128)===0)return hl=!1,E8e(b,_,A);hl=(b.flags&131072)!==0}else hl=!1,Ci&&(_.flags&1048576)!==0&&bne(_,VA,_.index);switch(_.lanes=0,_.tag){case 2:var N=_.type;oI(b,_),b=_.pendingProps;var H=_b(_,Yo.current);Ab(_,A),H=B8(null,_,N,b,H,A);var Q=z8();return _.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,fl(N)?(Q=!0,UA(_)):Q=!1,_.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,O8(_),H.updater=iI,_.stateNode=H,H._reactInternals=_,G8(_,N,b,A),_=Q8(null,_,N,!0,Q,A)):(_.tag=0,Ci&&Q&&E8(_),Ia(null,_,H,A),_=_.child),_;case 16:N=_.elementType;e:{switch(oI(b,_),b=_.pendingProps,H=N._init,N=H(N._payload),_.type=N,H=_.tag=L8e(N),b=jc(N,b),H){case 0:_=X8(null,_,N,b,A);break e;case 1:_=fre(null,_,N,b,A);break e;case 11:_=are(null,_,N,b,A);break e;case 14:_=lre(null,_,N,jc(N.type,b),A);break e}throw Error(n(306,N,""))}return _;case 0:return N=_.type,H=_.pendingProps,H=_.elementType===N?H:jc(N,H),X8(b,_,N,H,A);case 1:return N=_.type,H=_.pendingProps,H=_.elementType===N?H:jc(N,H),fre(b,_,N,H,A);case 3:e:{if(hre(_),b===null)throw Error(n(387));N=_.pendingProps,Q=_.memoizedState,H=Q.element,Ane(b,_),QA(_,N,null,A);var re=_.memoizedState;if(N=re.element,Q.isDehydrated)if(Q={element:N,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},_.updateQueue.baseState=Q,_.memoizedState=Q,_.flags&256){H=Rb(Error(n(423)),_),_=pre(b,_,N,A,H);break e}else if(N!==H){H=Rb(Error(n(424)),_),_=pre(b,_,N,A,H);break e}else for(Kl=Bm(_.stateNode.containerInfo.firstChild),Yl=_,Ci=!0,Lc=null,A=Tne(_,null,N,A),_.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Sb(),N===H){_=np(b,_,A);break e}Ia(b,_,N,A)}_=_.child}return _;case 5:return Dne(_),b===null&&T8(_),N=_.type,H=_.pendingProps,Q=b!==null?b.memoizedProps:null,re=H.children,y8(N,H)?re=null:Q!==null&&y8(N,Q)&&(_.flags|=32),dre(b,_),Ia(b,_,re,A),_.child;case 6:return b===null&&T8(_),null;case 13:return mre(b,_,A);case 4:return N8(_,_.stateNode.containerInfo),N=_.pendingProps,b===null?_.child=Tb(_,null,N,A):Ia(b,_,N,A),_.child;case 11:return N=_.type,H=_.pendingProps,H=_.elementType===N?H:jc(N,H),are(b,_,N,H,A);case 7:return Ia(b,_,_.pendingProps,A),_.child;case 8:return Ia(b,_,_.pendingProps.children,A),_.child;case 12:return Ia(b,_,_.pendingProps.children,A),_.child;case 10:e:{if(N=_.type._context,H=_.pendingProps,Q=_.memoizedProps,re=H.value,li(YA,N._currentValue),N._currentValue=re,Q!==null)if(Fc(Q.value,re)){if(Q.children===H.children&&!dl.current){_=np(b,_,A);break e}}else for(Q=_.child,Q!==null&&(Q.return=_);Q!==null;){var ye=Q.dependencies;if(ye!==null){re=Q.child;for(var Se=ye.firstContext;Se!==null;){if(Se.context===N){if(Q.tag===1){Se=tp(-1,A&-A),Se.tag=2;var qe=Q.updateQueue;if(qe!==null){qe=qe.shared;var dt=qe.pending;dt===null?Se.next=Se:(Se.next=dt.next,dt.next=Se),qe.pending=Se}}Q.lanes|=A,Se=Q.alternate,Se!==null&&(Se.lanes|=A),D8(Q.return,A,_),ye.lanes|=A;break}Se=Se.next}}else if(Q.tag===10)re=Q.type===_.type?null:Q.child;else if(Q.tag===18){if(re=Q.return,re===null)throw Error(n(341));re.lanes|=A,ye=re.alternate,ye!==null&&(ye.lanes|=A),D8(re,A,_),re=Q.sibling}else re=Q.child;if(re!==null)re.return=Q;else for(re=Q;re!==null;){if(re===_){re=null;break}if(Q=re.sibling,Q!==null){Q.return=re.return,re=Q;break}re=re.return}Q=re}Ia(b,_,H.children,A),_=_.child}return _;case 9:return H=_.type,N=_.pendingProps.children,Ab(_,A),H=Du(H),N=N(H),_.flags|=1,Ia(b,_,N,A),_.child;case 14:return N=_.type,H=jc(N,_.pendingProps),H=jc(N.type,H),lre(b,_,N,H,A);case 15:return ure(b,_,_.type,_.pendingProps,A);case 17:return N=_.type,H=_.pendingProps,H=_.elementType===N?H:jc(N,H),oI(b,_),_.tag=1,fl(N)?(b=!0,UA(_)):b=!1,Ab(_,A),ere(_,N,H),G8(_,N,H,A),Q8(null,_,N,!0,b,A);case 19:return yre(b,_,A);case 22:return cre(b,_,A)}throw Error(n(156,_.tag))};function zre(b,_){return df(b,_)}function F8e(b,_,A,N){this.tag=b,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(b,_,A,N){return new F8e(b,_,A,N)}function yF(b){return b=b.prototype,!(!b||!b.isReactComponent)}function L8e(b){if(typeof b=="function")return yF(b)?1:0;if(b!=null){if(b=b.$$typeof,b===M)return 11;if(b===U)return 14}return 2}function Qm(b,_){var A=b.alternate;return A===null?(A=Nu(b.tag,_,b.key,b.mode),A.elementType=b.elementType,A.type=b.type,A.stateNode=b.stateNode,A.alternate=b,b.alternate=A):(A.pendingProps=_,A.type=b.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=b.flags&14680064,A.childLanes=b.childLanes,A.lanes=b.lanes,A.child=b.child,A.memoizedProps=b.memoizedProps,A.memoizedState=b.memoizedState,A.updateQueue=b.updateQueue,_=b.dependencies,A.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},A.sibling=b.sibling,A.index=b.index,A.ref=b.ref,A}function yI(b,_,A,N,H,Q){var re=2;if(N=b,typeof b=="function")yF(b)&&(re=1);else if(typeof b=="string")re=5;else e:switch(b){case T:return gy(A.children,H,Q,_);case k:re=8,H|=8;break;case I:return b=Nu(12,A,_,H|2),b.elementType=I,b.lanes=Q,b;case $:return b=Nu(13,A,_,H),b.elementType=$,b.lanes=Q,b;case L:return b=Nu(19,A,_,H),b.elementType=L,b.lanes=Q,b;case V:return vI(A,H,Q,_);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case R:re=10;break e;case O:re=9;break e;case M:re=11;break e;case U:re=14;break e;case B:re=16,N=null;break e}throw Error(n(130,b==null?b:typeof b,""))}return _=Nu(re,A,_,H),_.elementType=b,_.type=N,_.lanes=Q,_}function gy(b,_,A,N){return b=Nu(7,b,N,_),b.lanes=A,b}function vI(b,_,A,N){return b=Nu(22,b,N,_),b.elementType=V,b.lanes=A,b.stateNode={isHidden:!1},b}function vF(b,_,A){return b=Nu(6,b,null,_),b.lanes=A,b}function bF(b,_,A){return _=Nu(4,b.children!==null?b.children:[],b.key,_),_.lanes=A,_.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},_}function j8e(b,_,A,N,H){this.tag=_,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.identifierPrefix=N,this.onRecoverableError=H,this.mutableSourceEagerHydrationData=null}function wF(b,_,A,N,H,Q,re,ye,Se){return b=new j8e(b,_,A,ye,Se),_===1?(_=1,Q===!0&&(_|=8)):_=0,Q=Nu(3,null,null,_),b.current=Q,Q.stateNode=b,Q.memoizedState={element:N,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},O8(Q),b}function B8e(b,_,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:N==null?null:""+N,children:b,containerInfo:_,implementation:A}}function Ure(b){if(!b)return Um;b=b._reactInternals;e:{if(Tn(b)!==b||b.tag!==1)throw Error(n(170));var _=b;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(fl(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(n(171))}if(b.tag===1){var A=b.type;if(fl(A))return gne(b,A,_)}return _}function qre(b,_,A,N,H,Q,re,ye,Se){return b=wF(A,N,!0,b,H,Q,re,ye,Se),b.context=Ure(null),A=b.current,N=Ra(),H=Km(A),Q=tp(N,H),Q.callback=_??null,Vm(A,Q,H),b.current.lanes=H,vn(b,H,N),ml(b,N),b}function bI(b,_,A,N){var H=_.current,Q=Ra(),re=Km(H);return A=Ure(A),_.context===null?_.context=A:_.pendingContext=A,_=tp(Q,re),_.payload={element:b},N=N===void 0?null:N,N!==null&&(_.callback=N),b=Vm(H,_,re),b!==null&&(Uc(b,H,re,Q),XA(b,H,re)),re}function wI(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function Hre(b,_){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var A=b.retryLane;b.retryLane=A!==0&&A<_?A:_}}function xF(b,_){Hre(b,_),(b=b.alternate)&&Hre(b,_)}function z8e(){return null}var Vre=typeof reportError=="function"?reportError:function(b){console.error(b)};function _F(b){this._internalRoot=b}xI.prototype.render=_F.prototype.render=function(b){var _=this._internalRoot;if(_===null)throw Error(n(409));bI(b,_,null,null)},xI.prototype.unmount=_F.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var _=b.containerInfo;hy(function(){bI(null,b,null,null)}),_[Xh]=null}};function xI(b){this._internalRoot=b}xI.prototype.unstable_scheduleHydration=function(b){if(b){var _=$m();b={blockedOn:null,target:b,priority:_};for(var A=0;A<al.length&&_!==0&&_<al[A].priority;A++);al.splice(A,0,b),A===0&&ry(b)}};function EF(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function _I(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function Wre(){}function U8e(b,_,A,N,H){if(H){if(typeof N=="function"){var Q=N;N=function(){var qe=wI(re);Q.call(qe)}}var re=qre(_,N,b,0,null,!1,!1,"",Wre);return b._reactRootContainer=re,b[Xh]=re.current,OE(b.nodeType===8?b.parentNode:b),hy(),re}for(;H=b.lastChild;)b.removeChild(H);if(typeof N=="function"){var ye=N;N=function(){var qe=wI(Se);ye.call(qe)}}var Se=wF(b,0,!1,null,null,!1,!1,"",Wre);return b._reactRootContainer=Se,b[Xh]=Se.current,OE(b.nodeType===8?b.parentNode:b),hy(function(){bI(_,Se,A,N)}),Se}function EI(b,_,A,N,H){var Q=A._reactRootContainer;if(Q){var re=Q;if(typeof H=="function"){var ye=H;H=function(){var Se=wI(re);ye.call(Se)}}bI(_,re,b,H)}else re=U8e(A,_,b,H,N);return wI(re)}As=function(b){switch(b.tag){case 3:var _=b.stateNode;if(_.current.memoizedState.isDehydrated){var A=ke(_.pendingLanes);A!==0&&(jn(_,A|1),ml(_,er()),(mr&6)===0&&(Ob=er()+500,qm()))}break;case 13:hy(function(){var N=ep(b,1);if(N!==null){var H=Ra();Uc(N,b,1,H)}}),xF(b,1)}},ol=function(b){if(b.tag===13){var _=ep(b,134217728);if(_!==null){var A=Ra();Uc(_,b,134217728,A)}xF(b,134217728)}},Tu=function(b){if(b.tag===13){var _=Km(b),A=ep(b,_);if(A!==null){var N=Ra();Uc(A,b,_,N)}xF(b,_)}},$m=function(){return tn},ff=function(b,_){var A=tn;try{return tn=b,_()}finally{tn=A}},Zn=function(b,_,A){switch(_){case"input":if(Te(b,A),_=A.name,A.type==="radio"&&_!=null){for(A=b;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<A.length;_++){var N=A[_];if(N!==b&&N.form===b.form){var H=BA(N);if(!H)throw Error(n(90));ne(N),Te(N,H)}}}break;case"textarea":Pe(b,A);break;case"select":_=A.value,_!=null&&tt(b,!!A.multiple,_,!1)}},Es=pF,rr=hy;var q8e={usingClientEntryPoint:!1,Events:[ME,wb,BA,Ji,Go,pF]},XE={findFiberByHostInstance:sy,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H8e={bundleType:XE.bundleType,version:XE.version,rendererPackageName:XE.rendererPackageName,rendererConfig:XE.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=Rc(b),b===null?null:b.stateNode},findFiberByHostInstance:XE.findFiberByHostInstance||z8e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var CI=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!CI.isDisabled&&CI.supportsFiber)try{Su=CI.inject(H8e),Ts=CI}catch{}}return yl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q8e,yl.createPortal=function(b,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!EF(_))throw Error(n(200));return B8e(b,_,null,A)},yl.createRoot=function(b,_){if(!EF(b))throw Error(n(299));var A=!1,N="",H=Vre;return _!=null&&(_.unstable_strictMode===!0&&(A=!0),_.identifierPrefix!==void 0&&(N=_.identifierPrefix),_.onRecoverableError!==void 0&&(H=_.onRecoverableError)),_=wF(b,1,!1,null,null,A,!1,N,H),b[Xh]=_.current,OE(b.nodeType===8?b.parentNode:b),new _F(_)},yl.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var _=b._reactInternals;if(_===void 0)throw typeof b.render=="function"?Error(n(188)):(b=Object.keys(b).join(","),Error(n(268,b)));return b=Rc(_),b=b===null?null:b.stateNode,b},yl.flushSync=function(b){return hy(b)},yl.hydrate=function(b,_,A){if(!_I(_))throw Error(n(200));return EI(null,b,_,!0,A)},yl.hydrateRoot=function(b,_,A){if(!EF(b))throw Error(n(405));var N=A!=null&&A.hydratedSources||null,H=!1,Q="",re=Vre;if(A!=null&&(A.unstable_strictMode===!0&&(H=!0),A.identifierPrefix!==void 0&&(Q=A.identifierPrefix),A.onRecoverableError!==void 0&&(re=A.onRecoverableError)),_=qre(_,null,b,1,A??null,H,!1,Q,re),b[Xh]=_.current,OE(b),N)for(b=0;b<N.length;b++)A=N[b],H=A._getVersion,H=H(A._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[A,H]:_.mutableSourceEagerHydrationData.push(A,H);return new xI(_)},yl.render=function(b,_,A){if(!_I(_))throw Error(n(200));return EI(null,b,_,!1,A)},yl.unmountComponentAtNode=function(b){if(!_I(b))throw Error(n(40));return b._reactRootContainer?(hy(function(){EI(null,null,b,!1,function(){b._reactRootContainer=null,b[Xh]=null})}),!0):!1},yl.unstable_batchedUpdates=pF,yl.unstable_renderSubtreeIntoContainer=function(b,_,A,N){if(!_I(A))throw Error(n(200));if(b==null||b._reactInternals===void 0)throw Error(n(38));return EI(b,_,A,!1,N)},yl.version="18.3.1-next-f1338f8080-20240426",yl}var eie;function cve(){if(eie)return TF.exports;eie=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),TF.exports=tFe(),TF.exports}var tie;function nFe(){if(tie)return SI;tie=1;var e=cve();return SI.createRoot=e.createRoot,SI.hydrateRoot=e.hydrateRoot,SI}var rFe=nFe();const iFe=qs(rFe);var Ff=function(){return Ff=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ff.apply(this,arguments)};function $T(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function PP(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function sFe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var V3="right-scroll-bar-position",W3="width-before-scroll-bar",oFe="with-scroll-bars-hidden",aFe="--removed-body-scroll-bar-size";function IF(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lFe(e,t){var n=D.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var uFe=typeof window<"u"?D.useLayoutEffect:D.useEffect,nie=new WeakMap;function cFe(e,t){var n=lFe(null,function(r){return e.forEach(function(i){return IF(i,r)})});return uFe(function(){var r=nie.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||IF(a,null)}),s.forEach(function(a){i.has(a)||IF(a,o)})}nie.set(n,e)},[e]),n}function dFe(e){return e}function fFe(e,t){t===void 0&&(t=dFe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var c=o;o=[],c.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),n}}}};return i}function hFe(e){e===void 0&&(e={});var t=fFe(null);return t.options=Ff({async:!0,ssr:!1},e),t}var dve=function(e){var t=e.sideCar,n=$T(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return D.createElement(r,Ff({},n))};dve.isSideCarExport=!0;function pFe(e,t){return e.useMedium(t),dve}var fve=hFe(),RF=function(){},TN=D.forwardRef(function(e,t){var n=D.useRef(null),r=D.useState({onScrollCapture:RF,onWheelCapture:RF,onTouchMoveCapture:RF}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noRelative,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,w=e.gapMode,E=$T(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,S=cFe([n,t]),T=Ff(Ff({},E),i);return D.createElement(D.Fragment,null,c&&D.createElement(C,{sideCar:fve,removeScrollBar:u,shards:d,noRelative:h,noIsolation:p,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:w}),o?D.cloneElement(D.Children.only(a),Ff(Ff({},T),{ref:S})):D.createElement(y,Ff({},T,{className:l,ref:S}),a))});TN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};TN.classNames={fullWidth:W3,zeroRight:V3};var mFe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gFe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mFe();return t&&e.setAttribute("nonce",t),e}function yFe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vFe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bFe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=gFe())&&(yFe(t,n),vFe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wFe=function(){var e=bFe();return function(t,n){D.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},hve=function(){var e=wFe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},xFe={left:0,top:0,right:0,gap:0},DF=function(e){return parseInt(e||"",10)||0},_Fe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[DF(n),DF(r),DF(i)]},EFe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xFe;var t=_Fe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},CFe=hve(),qw="data-scroll-locked",SFe=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(oFe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(qw,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(V3,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(W3,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(V3," .").concat(V3,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(W3," .").concat(W3,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qw,`] {
    `).concat(aFe,": ").concat(a,`px;
  }
`)},rie=function(){var e=parseInt(document.body.getAttribute(qw)||"0",10);return isFinite(e)?e:0},TFe=function(){D.useEffect(function(){return document.body.setAttribute(qw,(rie()+1).toString()),function(){var e=rie()-1;e<=0?document.body.removeAttribute(qw):document.body.setAttribute(qw,e.toString())}},[])},kFe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;TFe();var s=D.useMemo(function(){return EFe(i)},[i]);return D.createElement(CFe,{styles:SFe(s,!t,i,n?"":"!important")})},F7=!1;if(typeof window<"u")try{var TI=Object.defineProperty({},"passive",{get:function(){return F7=!0,!0}});window.addEventListener("test",TI,TI),window.removeEventListener("test",TI,TI)}catch{F7=!1}var $b=F7?{passive:!1}:!1,AFe=function(e){return e.tagName==="TEXTAREA"},pve=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!AFe(e)&&n[t]==="visible")},IFe=function(e){return pve(e,"overflowY")},RFe=function(e){return pve(e,"overflowX")},iie=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=mve(e,r);if(i){var s=gve(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},DFe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},PFe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},mve=function(e,t){return e==="v"?IFe(t):RFe(t)},gve=function(e,t){return e==="v"?DFe(t):PFe(t)},OFe=function(e,t){return e==="h"&&t==="rtl"?-1:1},NFe=function(e,t,n,r,i){var s=OFe(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),u=!1,c=o>0,d=0,f=0;do{if(!a)break;var h=gve(e,a),p=h[0],m=h[1],g=h[2],v=m-g-s*p;(p||v)&&mve(e,a)&&(d+=v,f+=p);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(d)<1||!c&&Math.abs(f)<1)&&(u=!0),u},kI=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sie=function(e){return[e.deltaX,e.deltaY]},oie=function(e){return e&&"current"in e?e.current:e},$Fe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},MFe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FFe=0,Mb=[];function LFe(e){var t=D.useRef([]),n=D.useRef([0,0]),r=D.useRef(),i=D.useState(FFe++)[0],s=D.useState(hve)[0],o=D.useRef(e);D.useEffect(function(){o.current=e},[e]),D.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=sFe([e.lockRef.current],(e.shards||[]).map(oie),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=D.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=kI(m),y=n.current,w="deltaX"in m?m.deltaX:y[0]-v[0],E="deltaY"in m?m.deltaY:y[1]-v[1],C,S=m.target,T=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in m&&T==="h"&&S.type==="range")return!1;var k=iie(T,S);if(!k)return!0;if(k?C=T:(C=T==="v"?"h":"v",k=iie(T,S)),!k)return!1;if(!r.current&&"changedTouches"in m&&(w||E)&&(r.current=C),!C)return!0;var I=r.current||C;return NFe(I,g,m,I==="h"?w:E)},[]),l=D.useCallback(function(m){var g=m;if(!(!Mb.length||Mb[Mb.length-1]!==s)){var v="deltaY"in g?sie(g):kI(g),y=t.current.filter(function(C){return C.name===g.type&&(C.target===g.target||g.target===C.shadowParent)&&$Fe(C.delta,v)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(oie).filter(Boolean).filter(function(C){return C.contains(g.target)}),E=w.length>0?a(g,w[0]):!o.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),u=D.useCallback(function(m,g,v,y){var w={name:m,delta:g,target:v,should:y,shadowParent:jFe(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(E){return E!==w})},1)},[]),c=D.useCallback(function(m){n.current=kI(m),r.current=void 0},[]),d=D.useCallback(function(m){u(m.type,sie(m),m.target,a(m,e.lockRef.current))},[]),f=D.useCallback(function(m){u(m.type,kI(m),m.target,a(m,e.lockRef.current))},[]);D.useEffect(function(){return Mb.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,$b),document.addEventListener("touchmove",l,$b),document.addEventListener("touchstart",c,$b),function(){Mb=Mb.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,$b),document.removeEventListener("touchmove",l,$b),document.removeEventListener("touchstart",c,$b)}},[]);var h=e.removeScrollBar,p=e.inert;return D.createElement(D.Fragment,null,p?D.createElement(s,{styles:MFe(i)}):null,h?D.createElement(kFe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function jFe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BFe=pFe(fve,LFe);var wx=D.forwardRef(function(e,t){return D.createElement(TN,Ff({},e,{ref:t,sideCar:BFe}))});wx.classNames=TN.classNames;function si(e){return Object.keys(e)}function PF(e){return e&&typeof e=="object"&&!Array.isArray(e)}function CV(e,t){const n={...e},r=t;return PF(e)&&PF(t)&&Object.keys(t).forEach(i=>{PF(r[i])&&i in e?n[i]=CV(n[i],r[i]):n[i]=r[i]}),n}function zFe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function UFe(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function C2(e){const t=UFe(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function OF(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function yve(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?OF(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(e))return t?OF(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${e}`;return t?OF(s):s}}return r}return n}const Be=yve("rem",{shouldScale:!0}),OP=yve("em");function _g(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function vve(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function fm(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==D.Fragment:!1}function xs(e){const t=D.createContext(null);return[({children:i,value:s})=>x.jsx(t.Provider,{value:s,children:i}),()=>{const i=D.useContext(t);if(i===null)throw new Error(e);return i}]}function hm(e=null){const t=D.createContext(e);return[({children:i,value:s})=>x.jsx(t.Provider,{value:s,children:i}),()=>D.useContext(t)]}function NP(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function $P(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function qFe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function HFe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function VFe(e,t,n){return $P(e,n)===$P(t,n)}function SV({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var p;n==null||n(a);const l=Array.from(((p=$P(a.currentTarget,e))==null?void 0:p.querySelectorAll(t))||[]).filter(m=>VFe(a.currentTarget,m,e)),u=l.findIndex(m=>a.currentTarget===m),c=HFe(u,l,r),d=qFe(u,l,r),f=s==="rtl"?d:c,h=s==="rtl"?c:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}const WFe={app:100,modal:200,popover:300,overlay:400,max:9999};function go(e){return WFe[e]}const MP=()=>{};function GFe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||MP:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function gn(e,t="size",n=!0){if(e!==void 0)return vve(e)?n?Be(e):e:`var(--${t}-${e})`}function wi(e){return gn(e,"mantine-spacing")}function vr(e){return e===void 0?"var(--mantine-radius-default)":gn(e,"mantine-radius")}function Yi(e){return gn(e,"mantine-font-size")}function bve(e){return gn(e,"mantine-line-height",!1)}function TV(e){if(e)return gn(e,"mantine-shadow",!1)}function oo(e,t){return n=>{e==null||e(n),t==null||t(n)}}function kV(e,t){return e in t?C2(t[e]):C2(e)}function S2(e,t){const n=e.map(r=>({value:r,px:kV(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function od(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function YFe(e,t,n){var r;return n?Array.from(((r=$P(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function KFe(){const[e,t]=D.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Gf(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function Hw(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function w0(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function kN(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,i=w0(e),s=D.useRef(0),o=D.useRef(()=>{}),a=Object.assign(D.useCallback((...l)=>{window.clearTimeout(s.current);const u=()=>{s.current!==0&&(s.current=0,i(...l))};o.current=u,a.flush=u,s.current=window.setTimeout(u,n)},[i,n]),{flush:o.current});return D.useEffect(()=>()=>{window.clearTimeout(s.current),r&&a.flush()},[a,r]),a}const aie=["mousedown","touchstart"];function wve(e,t,n){const r=D.useRef(null);return D.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(u=>!!u&&!s.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||aie).forEach(s=>document.addEventListener(s,i)),()=>{(t||aie).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function XFe({timeout:e=2e3}={}){const[t,n]=D.useState(null),[r,i]=D.useState(!1),[s,o]=D.useState(null),a=c=>{window.clearTimeout(s),o(window.setTimeout(()=>i(!1),e)),i(c)};return{copy:c=>{"clipboard"in navigator?navigator.clipboard.writeText(c).then(()=>a(!0)).catch(d=>n(d)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),n(null),window.clearTimeout(s)},error:t,copied:r}}function QFe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function JFe(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function T2(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=D.useState(n?t:JFe(e)),s=D.useRef(null);return D.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),QFe(s.current,o=>i(o.matches))},[e]),r}function ZFe(e,t){return T2("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}function xve(e,t,n={leading:!1}){const[r,i]=D.useState(e),s=D.useRef(!1),o=D.useRef(null),a=D.useRef(!1),l=()=>window.clearTimeout(o.current);return D.useEffect(()=>{s.current&&(!a.current&&n.leading?(a.current=!0,i(e)):(l(),o.current=window.setTimeout(()=>{a.current=!1,i(e)},t)))},[e,n.leading,t]),D.useEffect(()=>(s.current=!0,l),[]),[r,l]}const x1=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Td(e,t){const n=D.useRef(!1);D.useEffect(()=>()=>{n.current=!1},[]),D.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function _ve({opened:e,shouldReturnFocus:t=!0}){const n=D.useRef(null),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Td(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const eLe=/input|select|textarea|button|object/,Eve="a, input, select, textarea, button, object, [tabindex]";function tLe(e){return e.style.display==="none"}function nLe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(tLe(n))return!1;n=n.parentNode}return!0}function Cve(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function L7(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(Cve(e));return(eLe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&nLe(e)}function Sve(e){const t=Cve(e);return(Number.isNaN(t)||t>=0)&&L7(e)}function rLe(e){return Array.from(e.querySelectorAll(Eve)).filter(Sve)}function iLe(e,t){const n=rLe(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let s=r===i.activeElement||e===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function sLe(e=!0){const t=D.useRef(null),n=i=>{let s=i.querySelector("[data-autofocus]");if(!s){const o=Array.from(i.querySelectorAll(Eve));s=o.find(Sve)||o.find(L7)||null,!s&&L7(i)&&(s=i)}s&&s.focus({preventScroll:!0})},r=D.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return D.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=s=>{s.key==="Tab"&&t.current&&iLe(t.current,s)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}const oLe=e=>(e+1)%1e6;function aLe(){const[,e]=D.useReducer(oLe,0);return e}const lLe=sr.useId||(()=>{});function uLe(){const e=lLe();return e?`mantine-${e.replace(/:/g,"")}`:""}function xa(e){const t=uLe(),[n,r]=D.useState(t);return x1(()=>{r(Hw())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function Tve(e,t,n){D.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function FP(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function kve(...e){const t=new Map;return n=>{if(e.forEach(r=>{const i=FP(r,n);i&&t.set(r,i)}),t.size>0)return()=>{e.forEach(r=>{const i=t.get(r);i?i():FP(r,null)}),t.clear()}}}function _s(...e){return D.useCallback(kve(...e),e)}function AV(e,t,n="ltr"){const r=D.useRef(null),i=D.useRef(!1),s=D.useRef(!1),o=D.useRef(0),[a,l]=D.useState(!1);return D.useEffect(()=>{i.current=!0},[]),D.useEffect(()=>{const u=r.current,c=({x:w,y:E})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&u){u.style.userSelect="none";const C=u.getBoundingClientRect();if(C.width&&C.height){const S=Gf((w-C.left)/C.width,0,1);e({x:n==="ltr"?S:1-S,y:Gf((E-C.top)/C.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",y),document.addEventListener("touchend",p)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",p)},h=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),d())},p=()=>{s.current&&i.current&&(s.current=!1,l(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},m=w=>{h(),w.preventDefault(),g(w)},g=w=>c({x:w.clientX,y:w.clientY}),v=w=>{w.cancelable&&w.preventDefault(),h(),y(w)},y=w=>{w.cancelable&&w.preventDefault(),c({x:w.changedTouches[0].clientX,y:w.changedTouches[0].clientY})};return u==null||u.addEventListener("mousedown",m),u==null||u.addEventListener("touchstart",v,{passive:!1}),()=>{u&&(u.removeEventListener("mousedown",m),u.removeEventListener("touchstart",v))}},[n,e]),{ref:r,active:a}}function ji({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=D.useState(t!==void 0?t:n),o=(a,...l)=>{s(a),r==null||r(a,...l)};return e!==void 0?[e,r,!0]:[i,o,!1]}function Zm(e,t){const n=t-e+1;return Array.from({length:n},(r,i)=>i+e)}const AI="dots";function cLe({total:e,siblings:t=1,boundaries:n=1,page:r,initialPage:i=1,onChange:s}){const o=Math.max(Math.trunc(e),0),[a,l]=ji({value:r,onChange:s,defaultValue:i,finalValue:i}),u=m=>{m<=0?l(1):m>o?l(o):l(m)},c=()=>u(a+1),d=()=>u(a-1),f=()=>u(1),h=()=>u(o);return{range:D.useMemo(()=>{if(t*2+3+n*2>=o)return Zm(1,o);const g=Math.max(a-t,n),v=Math.min(a+t,o-n),y=g>n+2,w=v<o-(n+1);if(!y&&w){const E=t*2+n+2;return[...Zm(1,E),AI,...Zm(o-(n-1),o)]}if(y&&!w){const E=n+1+2*t;return[...Zm(1,n),AI,...Zm(o-E,o)]}return[...Zm(1,n),AI,...Zm(g,v),AI,...Zm(o-n+1,o)]},[o,t,a]),active:a,setPage:u,next:c,previous:d,first:f,last:h}}function AN(e,t){return T2("(prefers-reduced-motion: reduce)",e,t)}const dLe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function MT(e){const t=D.useRef(0),n=D.useRef(null),[r,i]=D.useState(dLe),s=D.useMemo(()=>typeof window<"u"?new ResizeObserver(o=>{const a=o[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{var l,u;if(n.current){const c=((l=a.borderBoxSize)==null?void 0:l[0])||((u=a.contentBoxSize)==null?void 0:u[0]);if(c){const d=c.inlineSize,f=c.blockSize;i({width:d,height:f,x:a.contentRect.x,y:a.contentRect.y,top:a.contentRect.top,left:a.contentRect.left,bottom:a.contentRect.bottom,right:a.contentRect.right})}else i(a.contentRect)}}))}):null,[]);return D.useEffect(()=>(n.current&&(s==null||s.observe(n.current,e)),()=>{s==null||s.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function fLe(e){const[t,{width:n,height:r}]=MT(e);return{ref:t,width:n,height:r}}function hLe(){const[e,t]=D.useState(!1),n=D.useRef(null),r=D.useCallback(()=>t(!0),[]),i=D.useCallback(()=>t(!1),[]);return D.useEffect(()=>{const s=n.current;if(s)return s.addEventListener("mouseenter",r),s.addEventListener("mouseleave",i),()=>{s==null||s.removeEventListener("mouseenter",r),s==null||s.removeEventListener("mouseleave",i)}},[n.current]),{ref:n,hovered:e}}function IV(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,s]=D.useState(e),o=D.useCallback(()=>{s(u=>u||(n==null||n(),!0))},[n]),a=D.useCallback(()=>{s(u=>u&&(r==null||r(),!1))},[r]),l=D.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:l}]}function pLe(e){const t=D.useRef(void 0);return D.useEffect(()=>{t.current=e},[e]),t.current}function mLe(e,t){const n=w0(e),r=D.useRef(null),i=D.useRef(null),s=D.useRef(!0),o=D.useRef(t),a=D.useRef(-1),l=()=>window.clearTimeout(a.current),u=D.useCallback((...f)=>{n(...f),r.current=f,i.current=f,s.current=!1},[n]),c=D.useCallback(()=>{r.current&&r.current!==i.current?(u(...r.current),a.current=window.setTimeout(c,o.current)):s.current=!0},[u]),d=D.useCallback((...f)=>{s.current?(u(...f),a.current=window.setTimeout(c,o.current)):r.current=f},[u,c]);return D.useEffect(()=>{o.current=t},[t]),[d,l]}function gLe(e,t){return mLe(e,t)[0]}function yLe(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function vLe(e){function t(r){const i=Object.keys(r).reduce((s,o)=>(s[`${e}:${o}`]=a=>r[o](a.detail),s),{});x1(()=>(Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s]),window.addEventListener(s,i[s])}),()=>Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s])})),[i])}function n(r){return(...i)=>yLe(`${e}:${String(r)}`,i[0])}return[t,n]}var bLe={};function wLe(){return typeof process<"u"&&bLe?"production":"development"}function j7(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function IN(e){var n;const t=sr.version;return typeof sr.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(n=e==null?void 0:e.props)==null?void 0:n.ref}function Ave(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ave(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Dt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ave(e))&&(r&&(r+=" "),r+=t);return r}const xLe={};function _Le(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=Dt(t[r],i):t[r]=i})}),t}function RN({theme:e,classNames:t,props:n,stylesCtx:r}){const s=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,n,r):o||xLe);return _Le(s)}function LP({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((s,o)=>typeof o=="function"?{...s,...o(e,n,r)}:{...s,...o},{})}const RV=D.createContext(null);function pm(){const e=D.useContext(RV);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function ELe(){return pm().cssVariablesResolver}function CLe(){return pm().classNamesPrefix}function DN(){return pm().getStyleNonce}function SLe(){return pm().withStaticClasses}function TLe(){return pm().headless}function kLe(){var e;return(e=pm().stylesTransform)==null?void 0:e.sx}function ALe(){var e;return(e=pm().stylesTransform)==null?void 0:e.styles}function Ive(){return pm().env||"default"}function ILe(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function RLe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function DLe(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i===void 0?1:i}}function PLe(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=s-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=u,h=0):l>=1&&l<2?(d=u,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=u):l>=3&&l<4?(d=0,f=u,h=a):l>=4&&l<5?(d=u,f=0,h=a):(d=a,f=0,h=u),{r:Math.round((d+c)*255),g:Math.round((f+c)*255),b:Math.round((h+c)*255),a:o||1}}function PN(e){return ILe(e)?RLe(e):e.startsWith("rgb")?DLe(e):e.startsWith("hsl")?PLe(e):{r:0,g:0,b:0,a:1}}function XC(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:s}=PN(e),o=1-t,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function k2(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function NF(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function OLe(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function NLe(e){if(e.startsWith("oklch("))return(OLe(e)||0)/100;const{r:t,g:n,b:r}=PN(e),i=t/255,s=n/255,o=r/255,a=NF(i),l=NF(s),u=NF(o);return .2126*a+.7152*l+.0722*u}function JE(e,t=.179){return e.startsWith("var(")?!1:NLe(e)>t}function jd({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:JE(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:JE(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:JE(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),s=i?Number(i):void 0,o=r in t.colors;if(o){const a=s!==void 0?t.colors[r][s]:t.colors[r][k2(t,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:JE(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:JE(e,t.luminanceThreshold),shade:s,variable:void 0}}function Sr(e,t){const n=jd({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function B7(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},r=Sr(n.from,t),i=Sr(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Tf(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=PN(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const Fb=Tf,$Le=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const s=jd({color:e,theme:t}),o=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Be(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${Be(1)} solid transparent`}:{background:e,hover:XC(e,.1),color:a,border:`${Be(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Be(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:Tf(a,.1),hover:Tf(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Be(1)} solid transparent`}}return{background:Tf(e,.1),hover:Tf(e,.12),color:e,border:`${Be(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Be(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Tf(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Be(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:Tf(e,.05),color:e,border:`${Be(1)} solid ${e}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Be(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:"transparent",hover:Tf(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Be(1)} solid transparent`}}return{background:"transparent",hover:Tf(e,.12),color:e,border:`${Be(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Be(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Be(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Be(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:XC(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Be(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:XC(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Be(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:XC(t.white,.01),color:e,border:`${Be(1)} solid transparent`}:n==="gradient"?{background:B7(r,t),hover:B7(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Be(1)} solid var(--mantine-color-default-border)`}:{}},MLe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},lie="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",DV={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:MLe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:$Le,autoContrast:!1,luminanceThreshold:.3,fontFamily:lie,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:lie,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Be(34),lineHeight:"1.3"},h2:{fontSize:Be(26),lineHeight:"1.35"},h3:{fontSize:Be(22),lineHeight:"1.4"},h4:{fontSize:Be(18),lineHeight:"1.45"},h5:{fontSize:Be(16),lineHeight:"1.5"},h6:{fontSize:Be(14),lineHeight:"1.5"}}},fontSizes:{xs:Be(12),sm:Be(14),md:Be(16),lg:Be(18),xl:Be(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Be(2),sm:Be(4),md:Be(8),lg:Be(16),xl:Be(32)},spacing:{xs:Be(10),sm:Be(12),md:Be(16),lg:Be(20),xl:Be(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Be(1)} ${Be(3)} rgba(0, 0, 0, 0.05), 0 ${Be(1)} ${Be(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Be(1)} ${Be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Be(10)} ${Be(15)} ${Be(-5)}, rgba(0, 0, 0, 0.04) 0 ${Be(7)} ${Be(7)} ${Be(-5)}`,md:`0 ${Be(1)} ${Be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Be(20)} ${Be(25)} ${Be(-5)}, rgba(0, 0, 0, 0.04) 0 ${Be(10)} ${Be(10)} ${Be(-5)}`,lg:`0 ${Be(1)} ${Be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Be(28)} ${Be(23)} ${Be(-7)}, rgba(0, 0, 0, 0.04) 0 ${Be(12)} ${Be(12)} ${Be(-7)}`,xl:`0 ${Be(1)} ${Be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Be(36)} ${Be(28)} ${Be(-7)}, rgba(0, 0, 0, 0.04) 0 ${Be(17)} ${Be(17)} ${Be(-7)}`},other:{},components:{}};function uie(e){return e==="auto"||e==="dark"||e==="light"}function FLe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return uie(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&uie(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const LLe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",cie="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function $F(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function die(e){if(!(e.primaryColor in e.colors))throw new Error(LLe);if(typeof e.primaryShade=="object"&&(!$F(e.primaryShade.dark)||!$F(e.primaryShade.light)))throw new Error(cie);if(typeof e.primaryShade=="number"&&!$F(e.primaryShade))throw new Error(cie)}function jLe(e,t){var r;if(!t)return die(e),e;const n=CV(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),die(n),n}const PV=D.createContext(null),BLe=()=>D.useContext(PV)||DV;function Xi(){const e=D.useContext(PV);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function Rve({theme:e,children:t,inherit:n=!0}){const r=BLe(),i=D.useMemo(()=>jLe(n?r:DV,e),[e,r,n]);return x.jsx(PV.Provider,{value:i,children:t})}Rve.displayName="@mantine/core/MantineThemeProvider";function zLe(){const e=Xi(),t=DN(),n=si(e.breakpoints).reduce((r,i)=>{const s=e.breakpoints[i].includes("px"),o=C2(e.breakpoints[i]),a=s?`${o-.1}px`:OP(o-.1),l=s?`${o}px`:OP(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return x.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function MF(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function ZE(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function ULe(e,t){const n=MF(e.variables),r=n?ZE(t,n):"",i=MF(e.dark),s=MF(e.light),o=i?ZE(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=s?ZE(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function mm({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&jd({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function fie(e,t){return mm({color:e.colors[e.primaryColor][k2(e,t)],theme:e,autoContrast:null})}function II({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=k2(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:Fb(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:Fb(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:Fb(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const s=k2(e,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:Fb(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:Fb(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Fb(e.colors[t][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...o}:o}function qLe(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Lb(e,t,n){si(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const Dve=e=>{const t=k2(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Be(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":fie(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":fie(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Lb(r.variables,e.breakpoints,"breakpoint"),Lb(r.variables,e.spacing,"spacing"),Lb(r.variables,e.fontSizes,"font-size"),Lb(r.variables,e.lineHeights,"line-height"),Lb(r.variables,e.shadows,"shadow"),Lb(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),si(e.colors).forEach(s=>{const o=e.colors[s];if(qLe(o)){Object.assign(r.light,II({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,II({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,l)=>{r.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(r.light,II({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,II({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return si(i).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=i[s].fontSize,r.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||e.headings.fontWeight}),r};function HLe({theme:e,generator:t}){const n=Dve(e),r=t==null?void 0:t(e);return r?CV(n,r):n}const FF=Dve(DV);function VLe(e){const t={variables:{},light:{},dark:{}};return si(e.variables).forEach(n=>{FF.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),si(e.light).forEach(n=>{FF.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),si(e.dark).forEach(n=>{FF.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function WLe(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function Pve({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Xi(),r=DN(),i=ELe(),s=HLe({theme:n,generator:i}),o=e===":root"&&t,a=o?VLe(s):s,l=ULe(a,e);return l?x.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${o?"":WLe(e)}`}}):null}Pve.displayName="@mantine/CssVariables";function GLe(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function jb(e,t){var i,s;const n=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),r=e!=="auto"?e:n?"dark":"light";(s=t())==null||s.setAttribute("data-mantine-color-scheme",r)}function YLe({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=D.useRef(null),[s,o]=D.useState(()=>e.get(t)),a=r||s,l=D.useCallback(c=>{r||(jb(c,n),o(c),e.set(c))},[e.set,a,r]),u=D.useCallback(()=>{o(t),jb(t,n),e.clear()},[e.clear,t]);return D.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),x1(()=>{jb(e.get(t),n)},[]),D.useEffect(()=>{var d;if(r)return jb(r,n),()=>{};r===void 0&&jb(s,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const c=f=>{s==="auto"&&jb(f.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",c),()=>{var f;return(f=i.current)==null?void 0:f.removeEventListener("change",c)}},[s,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function KLe({respectReducedMotion:e,getRootElement:t}){x1(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}GLe();function Ove({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=FLe(),defaultColorScheme:c="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:p,env:m}){const{colorScheme:g,setColorScheme:v,clearColorScheme:y}=YLe({defaultColorScheme:c,forceColorScheme:h,manager:u,getRootElement:d});return KLe({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:d}),x.jsx(RV.Provider,{value:{colorScheme:g,setColorScheme:v,clearColorScheme:y,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:p,env:m},children:x.jsxs(Rve,{theme:e,children:[o&&x.jsx(Pve,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&x.jsx(zLe,{}),t]})})}Ove.displayName="@mantine/core/MantineProvider";function Eh({classNames:e,styles:t,props:n,stylesCtx:r}){const i=Xi();return{resolvedClassNames:RN({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:LP({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const XLe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function QLe({theme:e,options:t,unstyled:n}){return Dt((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||XLe[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function JLe({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return RN({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function hie({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return RN({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function ZLe({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function eje({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function tje({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function nje({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(s=>{var o,a;return(a=RN({theme:t,classNames:(o=t.components[s])==null?void 0:o.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function rje({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function ije({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:p}){return Dt(QLe({theme:e,options:t,unstyled:a||h}),nje({theme:e,themeName:n,selector:r,props:c,stylesCtx:d}),rje({options:t,classes:o,selector:r,unstyled:a}),hie({selector:r,stylesCtx:d,theme:e,classNames:s,props:c}),hie({selector:r,stylesCtx:d,theme:e,classNames:p,props:c}),JLe({selector:r,stylesCtx:d,options:t,props:c,theme:e}),ZLe({rootSelector:u,selector:r,className:l}),eje({selector:r,classes:o,unstyled:a||h}),f&&!h&&tje({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function sje({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(s=>{var o;return LP({theme:e,styles:(o=e.components[s])==null?void 0:o.styles,props:n,stylesCtx:r})[i]}).reduce((s,o)=>({...s,...o}),{})}function z7({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...z7({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function oje(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],..._g(n[r])}}),t),{})}function aje({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:s,themeName:o,headless:a}){var l;return(l=oje([a?{}:t==null?void 0:t(n,r,i),...o.map(u=>{var c,d,f;return(f=(d=(c=n.components)==null?void 0:c[u])==null?void 0:d.vars)==null?void 0:f.call(d,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:l[s]}function lje({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:s,rootSelector:o,styles:a,style:l,vars:u,varsResolver:c,headless:d,withStylesTransform:f}){return{...!f&&sje({theme:e,themeName:t,props:i,stylesCtx:s,selector:n}),...!f&&LP({theme:e,styles:a,props:i,stylesCtx:s})[n],...!f&&LP({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:s})[n],...aje({theme:e,props:i,stylesCtx:s,vars:u,varsResolver:c,selector:n,themeName:t,headless:d}),...o===n?z7({style:l,theme:e}):null,...z7({style:r==null?void 0:r.style,theme:e})}}function uje({props:e,stylesCtx:t,themeName:n}){var o;const r=Xi(),i=(o=ALe())==null?void 0:o();return{getTransformedStyles:a=>i?[...a.map(u=>i(u,{props:e,theme:r,ctx:t})),...n.map(u=>{var c;return i((c=r.components[u])==null?void 0:c.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function kt({name:e,classes:t,props:n,stylesCtx:r,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const f=Xi(),h=CLe(),p=SLe(),m=TLe(),g=(Array.isArray(e)?e:[e]).filter(w=>w),{withStylesTransform:v,getTransformedStyles:y}=uje({props:n,stylesCtx:r,themeName:g});return(w,E)=>({className:ije({theme:f,options:E,themeName:g,selector:w,classNamesPrefix:h,classNames:l,classes:t,unstyled:a,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:p,headless:m,transformedStyles:y([E==null?void 0:E.styles,u])}),style:lje({theme:f,themeName:g,selector:w,options:E,props:n,stylesCtx:r,rootSelector:o,styles:u,style:s,vars:c,varsResolver:d,headless:m,withStylesTransform:v})})}function cje(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, white ${t*100}%)`;const{r:n,g:r,b:i,a:s}=PN(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function Eg(e,t){return typeof e=="boolean"?e:t.autoContrast}function pie(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function dje({keepTransitions:e}={}){const t=D.useRef(MP),n=D.useRef(-1),r=D.useContext(RV),i=DN(),s=D.useRef(i==null?void 0:i());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const o=d=>{r.setColorScheme(d),t.current=e?()=>{}:pie(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var f;(f=t.current)==null||f.call(t)},10)},a=()=>{r.clearColorScheme(),t.current=e?()=>{}:pie(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var d;(d=t.current)==null||d.call(t)},10)},l=ZFe("light",{getInitialValueInEffect:!1}),u=r.colorScheme==="auto"?l:r.colorScheme,c=D.useCallback(()=>o(u==="light"?"dark":"light"),[o,u]);return D.useEffect(()=>()=>{var d;(d=t.current)==null||d.call(t),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:o,clearColorScheme:a,toggleColorScheme:c}}function Oe(e,t,n){var o;const r=Xi(),i=(o=r.components[e])==null?void 0:o.defaultProps,s=typeof i=="function"?i(r):i;return{...t,...s,..._g(n)}}function LF(e){return si(e).reduce((t,n)=>e[n]!==void 0?`${t}${zFe(n)}:${e[n]};`:t,"").trim()}function fje({selector:e,styles:t,media:n,container:r}){const i=t?LF(t):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${LF(a.styles)}}}`):[],o=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${LF(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${s.join("")}${o.join("")}`.trim()}function _1(e){const t=DN();return x.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:fje(e)}})}function E1(e){const{m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:v,ps:y,bd:w,bg:E,c:C,opacity:S,ff:T,fz:k,fw:I,lts:R,ta:O,lh:M,fs:$,tt:L,td:U,w:B,miw:V,maw:G,h:Y,mih:z,mah:F,bgsz:W,bgp:q,bgr:K,bga:J,pos:te,top:le,left:oe,bottom:ie,right:he,inset:ee,display:ne,flex:ue,hiddenFrom:ve,visibleFrom:xe,lightHidden:Re,darkHidden:Te,sx:we,...He}=e;return{styleProps:_g({m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:v,ps:y,bd:w,bg:E,c:C,opacity:S,ff:T,fz:k,fw:I,lts:R,ta:O,lh:M,fs:$,tt:L,td:U,w:B,miw:V,maw:G,h:Y,mih:z,mah:F,bgsz:W,bgp:q,bgr:K,bga:J,pos:te,top:le,left:oe,bottom:ie,right:he,inset:ee,display:ne,flex:ue,hiddenFrom:ve,visibleFrom:xe,lightHidden:Re,darkHidden:Te,sx:we}),rest:He}}const hje={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function OV(e,t){const n=jd({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function pje(e,t){const n=jd({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:OV(e,t)}function mje(e,t){if(typeof e=="number")return Be(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(o=>o.trim()!=="");let s=`${Be(n)}`;return r&&(s+=` ${r}`),i.length>0&&(s+=` ${OV(i.join(" "),t)}`),s.trim()}return e}const mie={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function gje(e){return typeof e=="string"&&e in mie?mie[e]:e}const yje=["h1","h2","h3","h4","h5","h6"];function vje(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&yje.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Be(e):e}function bje(e){return e}const wje=["h1","h2","h3","h4","h5","h6"];function xje(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&wje.includes(e)?`var(--mantine-${e}-line-height)`:e}function _je(e){return typeof e=="number"?Be(e):e}function Eje(e,t){if(typeof e=="number")return Be(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Be(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const jF={color:OV,textColor:pje,fontSize:vje,spacing:Eje,identity:bje,size:_je,lineHeight:xje,fontFamily:gje,border:mje};function gie(e){return e.replace("(min-width: ","").replace("em)","")}function Cje({media:e,...t}){const r=Object.keys(e).sort((i,s)=>Number(gie(i))-Number(gie(s))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function Sje(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function Tje(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function kje(e){return typeof e=="object"&&e!==null?si(e).filter(t=>t!=="base"):[]}function Aje(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function Nve({styleProps:e,data:t,theme:n}){return Cje(si(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const s=t[i],o=Array.isArray(s.property)?s.property:[s.property],a=Tje(e[i]);if(!Sje(e[i]))return o.forEach(u=>{r.inlineStyles[u]=jF[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=kje(e[i]);return o.forEach(u=>{a&&(r.styles[u]=jF[s.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:jF[s.type](Aje(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function FT(){return`__m__-${D.useId().replace(/:/g,"")}`}function NV(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...NV(r,t)}),{}):typeof e=="function"?e(t):e??{}}function $ve(e){return e.startsWith("data-")?e:`data-${e}`}function Ije(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[$ve(n)]=e[n]),t},{})}function Mve(e){return e?typeof e=="string"?{[$ve(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...Mve(n)}),{}):Ije(e):null}function U7(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...U7(r,t)}),{}):typeof e=="function"?e(t):e??{}}function Rje({theme:e,style:t,vars:n,styleProps:r}){const i=U7(t,e),s=U7(n,e);return{...i,...s,...r}}const Fve=D.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,__size:f,...h},p)=>{var k;const m=Xi(),g=e||"div",{styleProps:v,rest:y}=E1(h),w=kLe(),E=(k=w==null?void 0:w())==null?void 0:k(v.sx),C=FT(),S=Nve({styleProps:v,theme:m,data:hje}),T={ref:p,style:Rje({theme:m,style:t,vars:n,styleProps:S.inlineStyles}),className:Dt(r,E,{[C]:S.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":vve(o)?void 0:o||void 0,size:f,...Mve(s),...y};return x.jsxs(x.Fragment,{children:[S.hasResponsiveStyles&&x.jsx(_1,{selector:`.${C}`,styles:S.styles,media:S.media}),typeof d=="function"?d(T):x.jsx(g,{...T})]})});Fve.displayName="@mantine/core/Box";const _e=Fve;function Lve(e){return e}function jve(e){const t=e;return n=>{const r=D.forwardRef((i,s)=>x.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function We(e){const t=D.forwardRef(e);return t.extend=Lve,t.withProps=n=>{const r=D.forwardRef((i,s)=>x.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function ds(e){const t=D.forwardRef(e);return t.withProps=n=>{const r=D.forwardRef((i,s)=>x.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=Lve,t}const Dje=D.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function tl(){return D.useContext(Dje)}var LT=cve();const QC=qs(LT);function Pje(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function BF(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const eC=typeof window<"u"&&window.requestAnimationFrame;function Oje({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=D.useRef(null),s=0,o={height:0,overflow:"hidden"},[a,l]=D.useState(r?{}:o),u=p=>{LT.flushSync(()=>l(p))},c=p=>{u(m=>({...m,...p}))};function d(p){const m=e||Pje(p);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}Td(()=>{typeof eC=="function"&&eC(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),eC(()=>{const p=BF(i);c({...d(p),height:p})})}:()=>{const p=BF(i);c({...d(p),willChange:"height",height:p}),eC(()=>c({height:s,overflow:"hidden"}))})},[r]);const f=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=BF(i);m===a.height?u({}):c({height:m}),n()}else a.height===s&&(u(o),n())};function h({style:p={},refKey:m="ref",...g}={}){const v=g[m],y={"aria-hidden":!r,...g,[m]:kve(i,v),onTransitionEnd:f,style:{boxSizing:"border-box",...p,...a}};return sr.version.startsWith("18")?r||(y.inert=""):y.inert=!r,y}return h}const Nje={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},gm=We((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:s,style:o,onTransitionEnd:a,animateOpacity:l,...u}=Oe("Collapse",Nje,e),c=Xi(),d=AN(),h=(c.respectReducedMotion?d:!1)?0:i,p=Oje({opened:r,transitionDuration:h,transitionTimingFunction:s,onTransitionEnd:a});return h===0?r?x.jsx(_e,{...u,children:n}):null:x.jsx(_e,{...p({style:{opacity:r||!l?1:0,transition:l?`opacity ${h}ms ${s}`:"none",...NV(o,c)},ref:t,...u}),children:n})});gm.displayName="@mantine/core/Collapse";function ON(){return typeof window<"u"}function E_(e){return Bve(e)?(e.nodeName||"").toLowerCase():"#document"}function Dl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ch(e){var t;return(t=(Bve(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Bve(e){return ON()?e instanceof Node||e instanceof Dl(e).Node:!1}function gi(e){return ON()?e instanceof Element||e instanceof Dl(e).Element:!1}function fu(e){return ON()?e instanceof HTMLElement||e instanceof Dl(e).HTMLElement:!1}function q7(e){return!ON()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dl(e).ShadowRoot}const $je=new Set(["inline","contents"]);function jT(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=nc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!$je.has(i)}const Mje=new Set(["table","td","th"]);function Fje(e){return Mje.has(E_(e))}const Lje=[":popover-open",":modal"];function NN(e){return Lje.some(t=>{try{return e.matches(t)}catch{return!1}})}const jje=["transform","translate","scale","rotate","perspective"],Bje=["transform","translate","scale","rotate","perspective","filter"],zje=["paint","layout","strict","content"];function $V(e){const t=$N(),n=gi(e)?nc(e):e;return jje.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Bje.some(r=>(n.willChange||"").includes(r))||zje.some(r=>(n.contain||"").includes(r))}function Uje(e){let t=Kp(e);for(;fu(t)&&!Z0(t);){if($V(t))return t;if(NN(t))return null;t=Kp(t)}return null}function $N(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qje=new Set(["html","body","#document"]);function Z0(e){return qje.has(E_(e))}function nc(e){return Dl(e).getComputedStyle(e)}function MN(e){return gi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Kp(e){if(E_(e)==="html")return e;const t=e.assignedSlot||e.parentNode||q7(e)&&e.host||Ch(e);return q7(t)?t.host:t}function zve(e){const t=Kp(e);return Z0(t)?e.ownerDocument?e.ownerDocument.body:e.body:fu(t)&&jT(t)?t:zve(t)}function $p(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=zve(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Dl(i);if(s){const a=H7(o);return t.concat(o,o.visualViewport||[],jT(i)?i:[],a&&n?$p(a):[])}return t.concat(i,$p(i,[],n))}function H7(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yie(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function A2(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&q7(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Uve(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function qve(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Hje(e){return Gje()?!1:!vie()&&e.width===0&&e.height===0||vie()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Vje(){return/apple/i.test(navigator.vendor)}function vie(){const e=/android/i;return e.test(Uve())||e.test(qve())}function Wje(){return Uve().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Gje(){return qve().includes("jsdom/")}function V7(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function Yje(e){return"nativeEvent"in e}function Kje(e){return e.matches("html,body")}function sv(e){return(e==null?void 0:e.ownerDocument)||document}function zF(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function _w(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Xje="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Qje(e){return fu(e)&&e.matches(Xje)}const kd=Math.min,aa=Math.max,jP=Math.round,RI=Math.floor,Yf=e=>({x:e,y:e}),Jje={left:"right",right:"left",bottom:"top",top:"bottom"},Zje={start:"end",end:"start"};function W7(e,t,n){return aa(e,kd(t,n))}function Xp(e,t){return typeof e=="function"?e(t):e}function Ad(e){return e.split("-")[0]}function C_(e){return e.split("-")[1]}function MV(e){return e==="x"?"y":"x"}function FV(e){return e==="y"?"height":"width"}const e9e=new Set(["top","bottom"]);function ad(e){return e9e.has(Ad(e))?"y":"x"}function LV(e){return MV(ad(e))}function t9e(e,t,n){n===void 0&&(n=!1);const r=C_(e),i=LV(e),s=FV(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=BP(o)),[o,BP(o)]}function n9e(e){const t=BP(e);return[G7(e),t,G7(t)]}function G7(e){return e.replace(/start|end/g,t=>Zje[t])}const bie=["left","right"],wie=["right","left"],r9e=["top","bottom"],i9e=["bottom","top"];function s9e(e,t,n){switch(e){case"top":case"bottom":return n?t?wie:bie:t?bie:wie;case"left":case"right":return t?r9e:i9e;default:return[]}}function o9e(e,t,n,r){const i=C_(e);let s=s9e(Ad(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(G7)))),s}function BP(e){return e.replace(/left|right|bottom|top/g,t=>Jje[t])}function a9e(e){return{top:0,right:0,bottom:0,left:0,...e}}function jV(e){return typeof e!="number"?a9e(e):{top:e,right:e,bottom:e,left:e}}function xx(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function xie(e,t,n){let{reference:r,floating:i}=e;const s=ad(t),o=LV(t),a=FV(o),l=Ad(t),u=s==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(C_(t)){case"start":h[o]-=f*(n&&u?-1:1);break;case"end":h[o]+=f*(n&&u?-1:1);break}return h}const l9e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=xie(u,r,l),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:v}=a[m],{x:y,y:w,data:E,reset:C}=await v({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=y??c,d=w??d,h={...h,[g]:{...h[g],...E}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:c,y:d}=xie(u,f,l)),m=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function BV(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Xp(t,e),p=jV(h),g=a[f?d==="floating"?"reference":"floating":d],v=xx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},C=xx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-C.top+p.top)/E.y,bottom:(C.bottom-v.bottom+p.bottom)/E.y,left:(v.left-C.left+p.left)/E.x,right:(C.right-v.right+p.right)/E.x}}const u9e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Xp(e,t)||{};if(u==null)return{};const d=jV(c),f={x:n,y:r},h=LV(i),p=FV(h),m=await o.getDimensions(u),g=h==="y",v=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",E=s.reference[p]+s.reference[h]-f[h]-s.floating[p],C=f[h]-s.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=S?S[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(S)))&&(T=a.floating[w]||s.floating[p]);const k=E/2-C/2,I=T/2-m[p]/2-1,R=kd(d[v],I),O=kd(d[y],I),M=R,$=T-m[p]-O,L=T/2-m[p]/2+k,U=W7(M,L,$),B=!l.arrow&&C_(i)!=null&&L!==U&&s.reference[p]/2-(L<M?R:O)-m[p]/2<0,V=B?L<M?L-M:L-$:0;return{[h]:f[h]+V,data:{[h]:U,centerOffset:L-U-V,...B&&{alignmentOffset:V}},reset:B}}}),c9e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Xp(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Ad(i),y=ad(a),w=Ad(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=f||(w||!m?[BP(a)]:n9e(a)),S=p!=="none";!f&&S&&C.push(...o9e(a,m,p,E));const T=[a,...C],k=await BV(t,g),I=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&I.push(k[v]),d){const L=t9e(i,o,E);I.push(k[L[0]],k[L[1]])}if(R=[...R,{placement:i,overflows:I}],!I.every(L=>L<=0)){var O,M;const L=(((O=s.flip)==null?void 0:O.index)||0)+1,U=T[L];if(U&&(!(d==="alignment"?y!==ad(U):!1)||R.every(G=>ad(G.placement)===y?G.overflows[0]>0:!0)))return{data:{index:L,overflows:R},reset:{placement:U}};let B=(M=R.filter(V=>V.overflows[0]<=0).sort((V,G)=>V.overflows[1]-G.overflows[1])[0])==null?void 0:M.placement;if(!B)switch(h){case"bestFit":{var $;const V=($=R.filter(G=>{if(S){const Y=ad(G.placement);return Y===y||Y==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(Y=>Y>0).reduce((Y,z)=>Y+z,0)]).sort((G,Y)=>G[1]-Y[1])[0])==null?void 0:$[0];V&&(B=V);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function Hve(e){const t=kd(...e.map(s=>s.left)),n=kd(...e.map(s=>s.top)),r=aa(...e.map(s=>s.right)),i=aa(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function d9e(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>xx(Hve(i)))}const f9e=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:l,y:u}=Xp(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),d=d9e(c),f=xx(Hve(c)),h=jV(a);function p(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(g=>l>g.left-h.left&&l<g.right+h.right&&u>g.top-h.top&&u<g.bottom+h.bottom)||f;if(d.length>=2){if(ad(n)==="y"){const R=d[0],O=d[d.length-1],M=Ad(n)==="top",$=R.top,L=O.bottom,U=M?R.left:O.left,B=M?R.right:O.right,V=B-U,G=L-$;return{top:$,bottom:L,left:U,right:B,width:V,height:G,x:U,y:$}}const g=Ad(n)==="left",v=aa(...d.map(R=>R.right)),y=kd(...d.map(R=>R.left)),w=d.filter(R=>g?R.left===y:R.right===v),E=w[0].top,C=w[w.length-1].bottom,S=y,T=v,k=T-S,I=C-E;return{top:E,bottom:C,left:S,right:T,width:k,height:I,x:S,y:E}}return f}const m=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}},Vve=new Set(["left","top"]);async function h9e(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ad(n),a=C_(n),l=ad(n)==="y",u=Vve.has(o)?-1:1,c=s&&l?-1:1,d=Xp(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const p9e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await h9e(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},m9e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...l}=Xp(e,t),u={x:n,y:r},c=await BV(t,l),d=ad(Ad(i)),f=MV(d);let h=u[f],p=u[d];if(s){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=h+c[g],w=h-c[v];h=W7(y,h,w)}if(o){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=p+c[g],w=p-c[v];p=W7(y,p,w)}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:s,[d]:o}}}}}},g9e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Xp(e,t),c={x:n,y:r},d=ad(i),f=MV(d);let h=c[f],p=c[d];const m=Xp(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=f==="y"?"height":"width",E=s.reference[f]-s.floating[w]+g.mainAxis,C=s.reference[f]+s.reference[w]-g.mainAxis;h<E?h=E:h>C&&(h=C)}if(u){var v,y;const w=f==="y"?"width":"height",E=Vve.has(Ad(i)),C=s.reference[d]-s.floating[w]+(E&&((v=o.offset)==null?void 0:v[d])||0)+(E?0:g.crossAxis),S=s.reference[d]+s.reference[w]+(E?0:((y=o.offset)==null?void 0:y[d])||0)-(E?g.crossAxis:0);p<C?p=C:p>S&&(p=S)}return{[f]:h,[d]:p}}}},y9e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...u}=Xp(e,t),c=await BV(t,u),d=Ad(i),f=C_(i),h=ad(i)==="y",{width:p,height:m}=s.floating;let g,v;d==="top"||d==="bottom"?(g=d,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g=f==="end"?"top":"bottom");const y=m-c.top-c.bottom,w=p-c.left-c.right,E=kd(m-c[g],y),C=kd(p-c[v],w),S=!t.middlewareData.shift;let T=E,k=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=y),S&&!f){const R=aa(c.left,0),O=aa(c.right,0),M=aa(c.top,0),$=aa(c.bottom,0);h?k=p-2*(R!==0||O!==0?R+O:aa(c.left,c.right)):T=m-2*(M!==0||$!==0?M+$:aa(c.top,c.bottom))}await l({...t,availableWidth:k,availableHeight:T});const I=await o.getDimensions(a.floating);return p!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function Wve(e){const t=nc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=fu(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=jP(n)!==s||jP(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function zV(e){return gi(e)?e:e.contextElement}function Vw(e){const t=zV(e);if(!fu(t))return Yf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Wve(t);let o=(s?jP(n.width):n.width)/r,a=(s?jP(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const v9e=Yf(0);function Gve(e){const t=Dl(e);return!$N()||!t.visualViewport?v9e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function b9e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Dl(e)?!1:t}function Fv(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=zV(e);let o=Yf(1);t&&(r?gi(r)&&(o=Vw(r)):o=Vw(e));const a=b9e(s,n,r)?Gve(s):Yf(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s){const f=Dl(s),h=r&&gi(r)?Dl(r):r;let p=f,m=H7(p);for(;m&&r&&h!==p;){const g=Vw(m),v=m.getBoundingClientRect(),y=nc(m),w=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,E=v.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=w,u+=E,p=Dl(m),m=H7(p)}}return xx({width:c,height:d,x:l,y:u})}function FN(e,t){const n=MN(e).scrollLeft;return t?t.left+n:Fv(Ch(e)).left+n}function Yve(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-FN(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function w9e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Ch(r),a=t?NN(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Yf(1);const c=Yf(0),d=fu(r);if((d||!d&&!s)&&((E_(r)!=="body"||jT(o))&&(l=MN(r)),fu(r))){const h=Fv(r);u=Vw(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const f=o&&!d&&!s?Yve(o,l):Yf(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function x9e(e){return Array.from(e.getClientRects())}function _9e(e){const t=Ch(e),n=MN(e),r=e.ownerDocument.body,i=aa(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=aa(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+FN(e);const a=-n.scrollTop;return nc(r).direction==="rtl"&&(o+=aa(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const _ie=25;function E9e(e,t){const n=Dl(e),r=Ch(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=$N();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=FN(r);if(u<=0){const c=r.ownerDocument,d=c.body,f=getComputedStyle(d),h=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-h);p<=_ie&&(s-=p)}else u<=_ie&&(s+=u);return{width:s,height:o,x:a,y:l}}const C9e=new Set(["absolute","fixed"]);function S9e(e,t){const n=Fv(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=fu(e)?Vw(e):Yf(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Eie(e,t,n){let r;if(t==="viewport")r=E9e(e,n);else if(t==="document")r=_9e(Ch(e));else if(gi(t))r=S9e(t,n);else{const i=Gve(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return xx(r)}function Kve(e,t){const n=Kp(e);return n===t||!gi(n)||Z0(n)?!1:nc(n).position==="fixed"||Kve(n,t)}function T9e(e,t){const n=t.get(e);if(n)return n;let r=$p(e,[],!1).filter(a=>gi(a)&&E_(a)!=="body"),i=null;const s=nc(e).position==="fixed";let o=s?Kp(e):e;for(;gi(o)&&!Z0(o);){const a=nc(o),l=$V(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&C9e.has(i.position)||jT(o)&&!l&&Kve(e,o))?r=r.filter(c=>c!==o):i=a,o=Kp(o)}return t.set(e,r),r}function k9e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?NN(t)?[]:T9e(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=Eie(t,c,i);return u.top=aa(d.top,u.top),u.right=kd(d.right,u.right),u.bottom=kd(d.bottom,u.bottom),u.left=aa(d.left,u.left),u},Eie(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function A9e(e){const{width:t,height:n}=Wve(e);return{width:t,height:n}}function I9e(e,t,n){const r=fu(t),i=Ch(t),s=n==="fixed",o=Fv(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Yf(0);function u(){l.x=FN(i)}if(r||!r&&!s)if((E_(t)!=="body"||jT(i))&&(a=MN(t)),r){const h=Fv(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&u();s&&!r&&i&&u();const c=i&&!r&&!s?Yve(i,a):Yf(0),d=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function UF(e){return nc(e).position==="static"}function Cie(e,t){if(!fu(e)||nc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ch(e)===n&&(n=n.ownerDocument.body),n}function Xve(e,t){const n=Dl(e);if(NN(e))return n;if(!fu(e)){let i=Kp(e);for(;i&&!Z0(i);){if(gi(i)&&!UF(i))return i;i=Kp(i)}return n}let r=Cie(e,t);for(;r&&Fje(r)&&UF(r);)r=Cie(r,t);return r&&Z0(r)&&UF(r)&&!$V(r)?n:r||Uje(e)||n}const R9e=async function(e){const t=this.getOffsetParent||Xve,n=this.getDimensions,r=await n(e.floating);return{reference:I9e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function D9e(e){return nc(e).direction==="rtl"}const P9e={convertOffsetParentRelativeRectToViewportRelativeRect:w9e,getDocumentElement:Ch,getClippingRect:k9e,getOffsetParent:Xve,getElementRects:R9e,getClientRects:x9e,getDimensions:A9e,getScale:Vw,isElement:gi,isRTL:D9e};function Qve(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function O9e(e,t){let n=null,r;const i=Ch(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=u;if(a||t(),!f||!h)return;const p=RI(d),m=RI(i.clientWidth-(c+f)),g=RI(i.clientHeight-(d+h)),v=RI(c),w={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:aa(0,kd(1,l))||1};let E=!0;function C(S){const T=S[0].intersectionRatio;if(T!==l){if(!E)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!Qve(u,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(e)}return o(!0),s}function N9e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=zV(e),c=i||s?[...u?$p(u):[],...$p(t)]:[];c.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=u&&a?O9e(u,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,m=l?Fv(e):null;l&&g();function g(){const v=Fv(e);m&&!Qve(m,v)&&n(),m=v,p=requestAnimationFrame(g)}return n(),()=>{var v;c.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const $9e=p9e,M9e=m9e,F9e=c9e,L9e=y9e,Sie=u9e,j9e=f9e,B9e=g9e,z9e=(e,t,n)=>{const r=new Map,i={platform:P9e,...n},s={...i.platform,_c:r};return l9e(e,t,{...i,platform:s})};var U9e=typeof document<"u",q9e=function(){},G3=U9e?D.useLayoutEffect:q9e;function zP(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zP(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!zP(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Jve(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tie(e,t){const n=Jve(e);return Math.round(t*n)/n}function qF(e){const t=D.useRef(e);return G3(()=>{t.current=e}),t}function H9e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=D.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=D.useState(r);zP(f,r)||h(r);const[p,m]=D.useState(null),[g,v]=D.useState(null),y=D.useCallback(G=>{G!==S.current&&(S.current=G,m(G))},[]),w=D.useCallback(G=>{G!==T.current&&(T.current=G,v(G))},[]),E=s||p,C=o||g,S=D.useRef(null),T=D.useRef(null),k=D.useRef(c),I=l!=null,R=qF(l),O=qF(i),M=qF(u),$=D.useCallback(()=>{if(!S.current||!T.current)return;const G={placement:t,strategy:n,middleware:f};O.current&&(G.platform=O.current),z9e(S.current,T.current,G).then(Y=>{const z={...Y,isPositioned:M.current!==!1};L.current&&!zP(k.current,z)&&(k.current=z,LT.flushSync(()=>{d(z)}))})},[f,t,n,O,M]);G3(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(G=>({...G,isPositioned:!1})))},[u]);const L=D.useRef(!1);G3(()=>(L.current=!0,()=>{L.current=!1}),[]),G3(()=>{if(E&&(S.current=E),C&&(T.current=C),E&&C){if(R.current)return R.current(E,C,$);$()}},[E,C,$,R,I]);const U=D.useMemo(()=>({reference:S,floating:T,setReference:y,setFloating:w}),[y,w]),B=D.useMemo(()=>({reference:E,floating:C}),[E,C]),V=D.useMemo(()=>{const G={position:n,left:0,top:0};if(!B.floating)return G;const Y=Tie(B.floating,c.x),z=Tie(B.floating,c.y);return a?{...G,transform:"translate("+Y+"px, "+z+"px)",...Jve(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:z}},[n,a,B.floating,c.x,c.y]);return D.useMemo(()=>({...c,update:$,refs:U,elements:B,floatingStyles:V}),[c,$,U,B,V])}const V9e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Sie({element:r.current,padding:i}).fn(n):{}:r?Sie({element:r,padding:i}).fn(n):{}}}},Zve=(e,t)=>({...$9e(e),options:[e,t]}),UV=(e,t)=>({...M9e(e),options:[e,t]}),kie=(e,t)=>({...B9e(e),options:[e,t]}),UP=(e,t)=>({...F9e(e),options:[e,t]}),W9e=(e,t)=>({...L9e(e),options:[e,t]}),LS=(e,t)=>({...j9e(e),options:[e,t]}),e1e=(e,t)=>({...V9e(e),options:[e,t]});function G9e(e){return D.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const t1e={...J8e},Y9e=t1e.useInsertionEffect,K9e=Y9e||(e=>e());function bp(e){const t=D.useRef(()=>{});return K9e(()=>{t.current=e}),D.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Kf=typeof document<"u"?D.useLayoutEffect:D.useEffect;let Aie=!1,X9e=0;const Iie=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+X9e++;function Q9e(){const[e,t]=D.useState(()=>Aie?Iie():void 0);return Kf(()=>{e==null&&t(Iie())},[]),D.useEffect(()=>{Aie=!0},[]),e}const J9e=t1e.useId,n1e=J9e||Q9e;function Z9e(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const eBe=D.createContext(null),tBe=D.createContext(null),qV=()=>{var e;return((e=D.useContext(eBe))==null?void 0:e.id)||null},HV=()=>D.useContext(tBe);function VV(e){return"data-floating-ui-"+e}function HF(e){const t=D.useRef(e);return Kf(()=>{t.current=e}),t}const Rie=VV("safe-polygon");function Y3(e,t,n){return n&&!V7(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function nBe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:d=0,move:f=!0}=t,h=HV(),p=qV(),m=HF(u),g=HF(l),v=HF(n),y=D.useRef(),w=D.useRef(-1),E=D.useRef(),C=D.useRef(-1),S=D.useRef(!0),T=D.useRef(!1),k=D.useRef(()=>{}),I=D.useRef(!1),R=D.useCallback(()=>{var V;const G=(V=i.current.openEvent)==null?void 0:V.type;return(G==null?void 0:G.includes("mouse"))&&G!=="mousedown"},[i]);D.useEffect(()=>{if(!a)return;function V(G){let{open:Y}=G;Y||(clearTimeout(w.current),clearTimeout(C.current),S.current=!0,I.current=!1)}return s.on("openchange",V),()=>{s.off("openchange",V)}},[a,s]),D.useEffect(()=>{if(!a||!m.current||!n)return;function V(Y){R()&&r(!1,Y,"hover")}const G=sv(o.floating).documentElement;return G.addEventListener("mouseleave",V),()=>{G.removeEventListener("mouseleave",V)}},[o.floating,n,r,a,m,R]);const O=D.useCallback(function(V,G,Y){G===void 0&&(G=!0),Y===void 0&&(Y="hover");const z=Y3(g.current,"close",y.current);z&&!E.current?(clearTimeout(w.current),w.current=window.setTimeout(()=>r(!1,V,Y),z)):G&&(clearTimeout(w.current),r(!1,V,Y))},[g,r]),M=bp(()=>{k.current(),E.current=void 0}),$=bp(()=>{if(T.current){const V=sv(o.floating).body;V.style.pointerEvents="",V.removeAttribute(Rie),T.current=!1}}),L=bp(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);D.useEffect(()=>{if(!a)return;function V(F){if(clearTimeout(w.current),S.current=!1,c&&!V7(y.current)||d>0&&!Y3(g.current,"open"))return;const W=Y3(g.current,"open",y.current);W?w.current=window.setTimeout(()=>{v.current||r(!0,F,"hover")},W):n||r(!0,F,"hover")}function G(F){if(L())return;k.current();const W=sv(o.floating);if(clearTimeout(C.current),I.current=!1,m.current&&i.current.floatingContext){n||clearTimeout(w.current),E.current=m.current({...i.current.floatingContext,tree:h,x:F.clientX,y:F.clientY,onClose(){$(),M(),L()||O(F,!0,"safe-polygon")}});const K=E.current;W.addEventListener("mousemove",K),k.current=()=>{W.removeEventListener("mousemove",K)};return}(y.current==="touch"?!A2(o.floating,F.relatedTarget):!0)&&O(F)}function Y(F){L()||i.current.floatingContext&&(m.current==null||m.current({...i.current.floatingContext,tree:h,x:F.clientX,y:F.clientY,onClose(){$(),M(),L()||O(F)}})(F))}if(gi(o.domReference)){var z;const F=o.domReference;return n&&F.addEventListener("mouseleave",Y),(z=o.floating)==null||z.addEventListener("mouseleave",Y),f&&F.addEventListener("mousemove",V,{once:!0}),F.addEventListener("mouseenter",V),F.addEventListener("mouseleave",G),()=>{var W;n&&F.removeEventListener("mouseleave",Y),(W=o.floating)==null||W.removeEventListener("mouseleave",Y),f&&F.removeEventListener("mousemove",V),F.removeEventListener("mouseenter",V),F.removeEventListener("mouseleave",G)}}},[o,a,e,c,d,f,O,M,$,r,n,v,h,g,m,i,L]),Kf(()=>{var V;if(a&&n&&(V=m.current)!=null&&V.__options.blockPointerEvents&&R()){T.current=!0;const Y=o.floating;if(gi(o.domReference)&&Y){var G;const z=sv(o.floating).body;z.setAttribute(Rie,"");const F=o.domReference,W=h==null||(G=h.nodesRef.current.find(q=>q.id===p))==null||(G=G.context)==null?void 0:G.elements.floating;return W&&(W.style.pointerEvents=""),z.style.pointerEvents="none",F.style.pointerEvents="auto",Y.style.pointerEvents="auto",()=>{z.style.pointerEvents="",F.style.pointerEvents="",Y.style.pointerEvents=""}}}},[a,n,p,o,h,m,R]),Kf(()=>{n||(y.current=void 0,I.current=!1,M(),$())},[n,M,$]),D.useEffect(()=>()=>{M(),clearTimeout(w.current),clearTimeout(C.current),$()},[a,o.domReference,M,$]);const U=D.useMemo(()=>{function V(G){y.current=G.pointerType}return{onPointerDown:V,onPointerEnter:V,onMouseMove(G){const{nativeEvent:Y}=G;function z(){!S.current&&!v.current&&r(!0,Y,"hover")}c&&!V7(y.current)||n||d===0||I.current&&G.movementX**2+G.movementY**2<2||(clearTimeout(C.current),y.current==="touch"?z():(I.current=!0,C.current=window.setTimeout(z,d)))}}},[c,r,n,v,d]),B=D.useMemo(()=>({onMouseEnter(){clearTimeout(w.current)},onMouseLeave(V){L()||O(V.nativeEvent,!1)}}),[O,L]);return D.useMemo(()=>a?{reference:U,floating:B}:{},[a,U,B])}const Y7=()=>{},r1e=D.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Y7,setState:Y7,isInstantPhase:!1}),rBe=()=>D.useContext(r1e);function iBe(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,s]=D.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=D.useRef(null),a=D.useCallback(l=>{s({currentId:l})},[]);return Kf(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),D.createElement(r1e.Provider,{value:D.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,a])},t)}function sBe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:s,enabled:o=!0}=t,a=s??i,l=rBe(),{currentId:u,setCurrentId:c,initialDelay:d,setState:f,timeoutMs:h}=l;return Kf(()=>{o&&u&&(f({delay:{open:1,close:Y3(d,"close")}}),u!==a&&r(!1))},[o,a,r,f,u,d]),Kf(()=>{function p(){r(!1),f({delay:d,currentId:null})}if(o&&u&&!n&&u===a){if(h){const m=window.setTimeout(p,h);return()=>{clearTimeout(m)}}p()}},[o,n,f,u,a,r,d,h]),Kf(()=>{o&&(c===Y7||!n||c(a))},[o,n,c,a]),l}function VF(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const oBe="data-floating-ui-focusable",aBe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},lBe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Die=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function uBe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=e,{enabled:o=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:p}=t,m=HV(),g=bp(typeof l=="function"?l:()=>!1),v=typeof l=="function"?g:l,y=D.useRef(!1),w=D.useRef(!1),{escapeKey:E,outsidePress:C}=Die(h),{escapeKey:S,outsidePress:T}=Die(p),k=D.useRef(!1),I=bp(U=>{var B;if(!n||!o||!a||U.key!=="Escape"||k.current)return;const V=(B=s.current.floatingContext)==null?void 0:B.nodeId,G=m?VF(m.nodesRef.current,V):[];if(!E&&(U.stopPropagation(),G.length>0)){let Y=!0;if(G.forEach(z=>{var F;if((F=z.context)!=null&&F.open&&!z.context.dataRef.current.__escapeKeyBubbles){Y=!1;return}}),!Y)return}r(!1,Yje(U)?U.nativeEvent:U,"escape-key")}),R=bp(U=>{var B;const V=()=>{var G;I(U),(G=_w(U))==null||G.removeEventListener("keydown",V)};(B=_w(U))==null||B.addEventListener("keydown",V)}),O=bp(U=>{var B;const V=y.current;y.current=!1;const G=w.current;if(w.current=!1,u==="click"&&G||V||typeof v=="function"&&!v(U))return;const Y=_w(U),z="["+VV("inert")+"]",F=sv(i.floating).querySelectorAll(z);let W=gi(Y)?Y:null;for(;W&&!Z0(W);){const te=Kp(W);if(Z0(te)||!gi(te))break;W=te}if(F.length&&gi(Y)&&!Kje(Y)&&!A2(Y,i.floating)&&Array.from(F).every(te=>!A2(W,te)))return;if(fu(Y)&&L){const te=Y.clientWidth>0&&Y.scrollWidth>Y.clientWidth,le=Y.clientHeight>0&&Y.scrollHeight>Y.clientHeight;let oe=le&&U.offsetX>Y.clientWidth;if(le&&nc(Y).direction==="rtl"&&(oe=U.offsetX<=Y.offsetWidth-Y.clientWidth),oe||te&&U.offsetY>Y.clientHeight)return}const q=(B=s.current.floatingContext)==null?void 0:B.nodeId,K=m&&VF(m.nodesRef.current,q).some(te=>{var le;return zF(U,(le=te.context)==null?void 0:le.elements.floating)});if(zF(U,i.floating)||zF(U,i.domReference)||K)return;const J=m?VF(m.nodesRef.current,q):[];if(J.length>0){let te=!0;if(J.forEach(le=>{var oe;if((oe=le.context)!=null&&oe.open&&!le.context.dataRef.current.__outsidePressBubbles){te=!1;return}}),!te)return}r(!1,U,"outside-press")}),M=bp(U=>{var B;const V=()=>{var G;O(U),(G=_w(U))==null||G.removeEventListener(u,V)};(B=_w(U))==null||B.addEventListener(u,V)});D.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=E,s.current.__outsidePressBubbles=C;let U=-1;function B(F){r(!1,F,"ancestor-scroll")}function V(){window.clearTimeout(U),k.current=!0}function G(){U=window.setTimeout(()=>{k.current=!1},$N()?5:0)}const Y=sv(i.floating);a&&(Y.addEventListener("keydown",S?R:I,S),Y.addEventListener("compositionstart",V),Y.addEventListener("compositionend",G)),v&&Y.addEventListener(u,T?M:O,T);let z=[];return f&&(gi(i.domReference)&&(z=$p(i.domReference)),gi(i.floating)&&(z=z.concat($p(i.floating))),!gi(i.reference)&&i.reference&&i.reference.contextElement&&(z=z.concat($p(i.reference.contextElement)))),z=z.filter(F=>{var W;return F!==((W=Y.defaultView)==null?void 0:W.visualViewport)}),z.forEach(F=>{F.addEventListener("scroll",B,{passive:!0})}),()=>{a&&(Y.removeEventListener("keydown",S?R:I,S),Y.removeEventListener("compositionstart",V),Y.removeEventListener("compositionend",G)),v&&Y.removeEventListener(u,T?M:O,T),z.forEach(F=>{F.removeEventListener("scroll",B)}),window.clearTimeout(U)}},[s,i,a,v,u,n,r,f,o,E,C,I,S,R,O,T,M]),D.useEffect(()=>{y.current=!1},[v,u]);const $=D.useMemo(()=>({onKeyDown:I,[aBe[d]]:U=>{c&&r(!1,U.nativeEvent,"reference-press")}}),[I,r,c,d]),L=D.useMemo(()=>({onKeyDown:I,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[lBe[u]]:()=>{y.current=!0}}),[I,u]);return D.useMemo(()=>o?{reference:$,floating:L}:{},[o,$,L])}function cBe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=n1e(),s=D.useRef({}),[o]=D.useState(()=>Z9e()),a=qV()!=null,[l,u]=D.useState(r.reference),c=bp((h,p,m)=>{s.current.openEvent=h?p:void 0,o.emit("openchange",{open:h,event:p,reason:m,nested:a}),n==null||n(h,p,m)}),d=D.useMemo(()=>({setPositionReference:u}),[]),f=D.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return D.useMemo(()=>({dataRef:s,open:t,onOpenChange:c,elements:f,events:o,floatingId:i,refs:d}),[t,c,f,o,i,d])}function WV(e){e===void 0&&(e={});const{nodeId:t}=e,n=cBe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=D.useState(null),[a,l]=D.useState(null),c=(i==null?void 0:i.domReference)||s,d=D.useRef(null),f=HV();Kf(()=>{c&&(d.current=c)},[c]);const h=H9e({...e,elements:{...i,...a&&{reference:a}}}),p=D.useCallback(w=>{const E=gi(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(E),h.refs.setReference(E)},[h.refs]),m=D.useCallback(w=>{(gi(w)||w===null)&&(d.current=w,o(w)),(gi(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!gi(w))&&h.refs.setReference(w)},[h.refs]),g=D.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),v=D.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),y=D.useMemo(()=>({...h,...r,refs:g,elements:v,nodeId:t}),[h,g,v,t,r]);return Kf(()=>{r.dataRef.current.floatingContext=y;const w=f==null?void 0:f.nodesRef.current.find(E=>E.id===t);w&&(w.context=y)}),D.useMemo(()=>({...h,context:y,refs:g,elements:v}),[h,g,v,y])}function dBe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=D.useRef(!1),c=D.useRef(),d=D.useRef(!0);D.useEffect(()=>{if(!a)return;const h=Dl(o.domReference);function p(){!n&&fu(o.domReference)&&o.domReference===yie(sv(o.domReference))&&(u.current=!0)}function m(){d.current=!0}return h.addEventListener("blur",p),h.addEventListener("keydown",m,!0),()=>{h.removeEventListener("blur",p),h.removeEventListener("keydown",m,!0)}},[o.domReference,n,a]),D.useEffect(()=>{if(!a)return;function h(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(u.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),D.useEffect(()=>()=>{clearTimeout(c.current)},[]);const f=D.useMemo(()=>({onPointerDown(h){Hje(h.nativeEvent)||(d.current=!1)},onMouseLeave(){u.current=!1},onFocus(h){if(u.current)return;const p=_w(h.nativeEvent);if(l&&gi(p))try{if(Vje()&&Wje())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!d.current&&!Qje(p))return}r(!0,h.nativeEvent,"focus")},onBlur(h){u.current=!1;const p=h.relatedTarget,m=h.nativeEvent,g=gi(p)&&p.hasAttribute(VV("focus-guard"))&&p.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var v;const y=yie(o.domReference?o.domReference.ownerDocument:document);!p&&y===o.domReference||A2((v=s.current.floatingContext)==null?void 0:v.refs.floating.current,y)||A2(o.domReference,y)||g||r(!1,m,"focus")})}}),[s,o.domReference,r,l]);return D.useMemo(()=>a?{reference:f}:{},[a,f])}const Pie="active",Oie="selected";function WF(e,t,n){const r=new Map,i=n==="item";let s=e;if(i&&e){const{[Pie]:o,[Oie]:a,...l}=e;s=l}return{...n==="floating"&&{tabIndex:-1,[oBe]:""},...s,...t.map(o=>{const a=o?o[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[Pie,Oie].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),o[u]=function(){for(var f,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(f=r.get(u))==null?void 0:f.map(g=>g(...p)).find(g=>g!==void 0)}}}else o[u]=c}),o),{})}}function fBe(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=D.useCallback(a=>WF(a,e,"reference"),t),s=D.useCallback(a=>WF(a,e,"floating"),n),o=D.useCallback(a=>WF(a,e,"item"),r);return D.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const hBe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function pBe(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:s=!0,role:o="dialog"}=t,a=(n=hBe.get(o))!=null?n:o,l=n1e(),c=qV()!=null,d=D.useMemo(()=>a==="tooltip"||o==="label"?{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,o]),f=D.useMemo(()=>{const p={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?p:{...p,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,o]),h=D.useCallback(p=>{let{active:m,selected:g}=p;const v={role:"option",...m&&{id:i+"-option"}};switch(o){case"select":return{...v,"aria-selected":m&&g};case"combobox":return{...v,...m&&{"aria-selected":!0}}}return{}},[i,o]);return D.useMemo(()=>s?{reference:d,floating:f,item:h}:{},[s,d,f,h])}const[mBe,pc]=xs("ScrollArea.Root component was not found in tree");function _x(e,t){const n=w0(t);x1(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const gBe=D.forwardRef((e,t)=>{const{style:n,...r}=e,i=pc(),[s,o]=D.useState(0),[a,l]=D.useState(0),u=!!(s&&a);return _x(i.scrollbarX,()=>{var d;const c=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),_x(i.scrollbarY,()=>{var d;const c=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(c),o(c)}),u?x.jsx("div",{...r,ref:t,style:{...n,width:s,height:a}}):null}),yBe=D.forwardRef((e,t)=>{const n=pc(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?x.jsx(gBe,{...e,ref:t}):null}),vBe={scrollHideDelay:1e3,type:"hover"},i1e=D.forwardRef((e,t)=>{const n=Oe("ScrollAreaRoot",vBe,e),{type:r,scrollHideDelay:i,scrollbars:s,...o}=n,[a,l]=D.useState(null),[u,c]=D.useState(null),[d,f]=D.useState(null),[h,p]=D.useState(null),[m,g]=D.useState(null),[v,y]=D.useState(0),[w,E]=D.useState(0),[C,S]=D.useState(!1),[T,k]=D.useState(!1),I=_s(t,R=>l(R));return x.jsx(mBe,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:C,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:T,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:E},children:x.jsx(_e,{...o,ref:I,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${v}px`,"--sa-corner-height":s!=="xy"?"0px":`${w}px`}})})});i1e.displayName="@mantine/core/ScrollAreaRoot";function s1e(e,t){const n=e/t;return Number.isNaN(n)?0:n}function LN(e){const t=s1e(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function o1e(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function bBe(e,[t,n]){return Math.min(n,Math.max(t,e))}function Nie(e,t,n="ltr"){const r=LN(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],u=bBe(e,l);return o1e([0,o],[0,a])(u)}function wBe(e,t,n,r="ltr"){const i=LN(n),s=i/2,o=t||s,a=i-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return o1e([l,u],d)(e)}function a1e(e,t){return e>0&&e<t}function qP(e){return e?parseInt(e,10):0}function bv(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[xBe,l1e]=xs("ScrollAreaScrollbar was not found in tree"),u1e=D.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=e,f=pc(),[h,p]=D.useState(null),m=_s(t,k=>p(k)),g=D.useRef(null),v=D.useRef(""),{viewport:y}=f,w=n.content-n.viewport,E=w0(u),C=w0(a),S=kN(c,10),T=k=>{if(g.current){const I=k.clientX-g.current.left,R=k.clientY-g.current.top;l({x:I,y:R})}};return D.useEffect(()=>{const k=I=>{const R=I.target;(h==null?void 0:h.contains(R))&&E(I,w)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[y,h,w,E]),D.useEffect(C,[n,C]),_x(h,S),_x(f.content,S),x.jsx(xBe,{value:{scrollbar:h,hasThumb:r,onThumbChange:w0(i),onThumbPointerUp:w0(s),onThumbPositionChange:C,onThumbPointerDown:w0(o)},children:x.jsx("div",{...d,ref:m,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:bv(e.onPointerDown,k=>{k.preventDefault(),k.button===0&&(k.target.setPointerCapture(k.pointerId),g.current=h.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T(k))}),onPointerMove:bv(e.onPointerMove,T),onPointerUp:bv(e.onPointerUp,k=>{const I=k.target;I.hasPointerCapture(k.pointerId)&&(k.preventDefault(),I.releasePointerCapture(k.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=v.current,g.current=null}})})}),c1e=D.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=pc(),[a,l]=D.useState(),u=D.useRef(null),c=_s(t,u,o.onScrollbarXChange);return D.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),x.jsx(u1e,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${LN(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),a1e(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:qP(a.paddingLeft),paddingEnd:qP(a.paddingRight)}})}})});c1e.displayName="@mantine/core/ScrollAreaScrollbarX";const d1e=D.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=pc(),[a,l]=D.useState(),u=D.useRef(null),c=_s(t,u,o.onScrollbarYChange);return D.useEffect(()=>{u.current&&l(window.getComputedStyle(u.current))},[]),x.jsx(u1e,{...s,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${LN(n)}px`,...i},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),a1e(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:qP(a.paddingTop),paddingEnd:qP(a.paddingBottom)}})}})});d1e.displayName="@mantine/core/ScrollAreaScrollbarY";const jN=D.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=tl(),s=pc(),o=D.useRef(null),a=D.useRef(0),[l,u]=D.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=s1e(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>{o.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,p)=>wBe(h,a.current,l,p);return n==="horizontal"?x.jsx(c1e,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=Nie(h,l,i);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,i))}}):n==="vertical"?x.jsx(d1e,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=Nie(h,l);l.scrollbar.size===0?o.current.style.setProperty("--thumb-opacity","0"):o.current.style.setProperty("--thumb-opacity","1"),o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null});jN.displayName="@mantine/core/ScrollAreaScrollbarVisible";const GV=D.forwardRef((e,t)=>{const n=pc(),{forceMount:r,...i}=e,[s,o]=D.useState(!1),a=e.orientation==="horizontal",l=kN(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:c)}},10);return _x(n.viewport,l),_x(n.content,l),r||s?x.jsx(jN,{"data-state":s?"visible":"hidden",...i,ref:t}):null});GV.displayName="@mantine/core/ScrollAreaScrollbarAuto";const f1e=D.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=pc(),[s,o]=D.useState(!1);return D.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},c=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||s?x.jsx(GV,{"data-state":s?"visible":"hidden",...r,ref:t}):null});f1e.displayName="@mantine/core/ScrollAreaScrollbarHover";const _Be=D.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=pc(),s=e.orientation==="horizontal",[o,a]=D.useState("hidden"),l=kN(()=>a("idle"),100);return D.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay]),D.useEffect(()=>{const{viewport:u}=i,c=s?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(a("scrolling"),l()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,s,l]),n||o!=="hidden"?x.jsx(jN,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:bv(e.onPointerEnter,()=>a("interacting")),onPointerLeave:bv(e.onPointerLeave,()=>a("idle"))}):null}),K7=D.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=pc(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return D.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?x.jsx(f1e,{...r,ref:t,forceMount:n}):i.type==="scroll"?x.jsx(_Be,{...r,ref:t,forceMount:n}):i.type==="auto"?x.jsx(GV,{...r,ref:t,forceMount:n}):i.type==="always"?x.jsx(jN,{...r,ref:t}):null});K7.displayName="@mantine/core/ScrollAreaScrollbar";function EBe(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}const h1e=D.forwardRef((e,t)=>{const{style:n,...r}=e,i=pc(),s=l1e(),{onThumbPositionChange:o}=s,a=_s(t,c=>s.onThumbChange(c)),l=D.useRef(void 0),u=kN(()=>{l.current&&(l.current(),l.current=void 0)},100);return D.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const f=EBe(c,o);l.current=f,o()}};return o(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,o]),x.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:bv(e.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),h=c.clientX-f.left,p=c.clientY-f.top;s.onThumbPointerDown({x:h,y:p})}),onPointerUp:bv(e.onPointerUp,s.onThumbPointerUp)})});h1e.displayName="@mantine/core/ScrollAreaThumb";const X7=D.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=l1e();return n||i.hasThumb?x.jsx(h1e,{ref:t,...r}):null});X7.displayName="@mantine/core/ScrollAreaThumb";const p1e=D.forwardRef(({children:e,style:t,...n},r)=>{const i=pc(),s=_s(r,i.onViewportChange);return x.jsx(_e,{...n,ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:x.jsx("div",{style:{minWidth:"100%"},ref:i.onContentChange,children:e})})});p1e.displayName="@mantine/core/ScrollAreaViewport";var YV={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const m1e={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},CBe=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Be(t),"--scrollarea-over-scroll-behavior":n}}),Id=We((e,t)=>{const n=Oe("ScrollArea",m1e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:g,scrollbars:v,onBottomReached:y,onTopReached:w,overscrollBehavior:E,...C}=n,[S,T]=D.useState(!1),[k,I]=D.useState(!1),[R,O]=D.useState(!1),M=kt({name:"ScrollArea",props:n,classes:YV,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:CBe}),$=D.useRef(null),L=G9e([h,$]);return D.useEffect(()=>{if(!$.current||g!=="present")return;const U=$.current,B=new ResizeObserver(()=>{const{scrollHeight:V,clientHeight:G,scrollWidth:Y,clientWidth:z}=U;I(V>G),O(Y>z)});return B.observe(U),()=>B.disconnect()},[$,g]),x.jsxs(i1e,{type:c==="never"?"always":c,scrollHideDelay:d,ref:t,scrollbars:v,...M("root"),...C,children:[x.jsx(p1e,{...f,...M("viewport",{style:f==null?void 0:f.style}),ref:L,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":v||void 0,"data-horizontal-hidden":g==="present"&&!R?"true":void 0,"data-vertical-hidden":g==="present"&&!k?"true":void 0,onScroll:U=>{var Y;(Y=f==null?void 0:f.onScroll)==null||Y.call(f,U),p==null||p({x:U.currentTarget.scrollLeft,y:U.currentTarget.scrollTop});const{scrollTop:B,scrollHeight:V,clientHeight:G}=U.currentTarget;B-(V-G)>=-.6&&(y==null||y()),B===0&&(w==null||w())},children:m}),(v==="xy"||v==="x")&&x.jsx(K7,{...M("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||g==="present"&&!R?!0:void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:x.jsx(X7,{...M("thumb")})}),(v==="xy"||v==="y")&&x.jsx(K7,{...M("scrollbar"),orientation:"vertical","data-hidden":c==="never"||g==="present"&&!k?!0:void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:x.jsx(X7,{...M("thumb")})}),x.jsx(yBe,{...M("corner"),"data-hovered":S||void 0,"data-hidden":c==="never"||void 0})]})});Id.displayName="@mantine/core/ScrollArea";const KV=We((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:s,scrollHideDelay:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,scrollbars:m,style:g,vars:v,onBottomReached:y,onTopReached:w,...E}=Oe("ScrollAreaAutosize",m1e,e);return x.jsx(_e,{...E,ref:t,style:[{display:"flex",overflow:"auto"},g],children:x.jsx(_e,{style:{display:"flex",flexDirection:"column",flex:1},children:x.jsx(Id,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,vars:v,scrollbars:m,onBottomReached:y,onTopReached:w,children:n})})})});Id.classes=YV;KV.displayName="@mantine/core/ScrollAreaAutosize";KV.classes=YV;Id.Autosize=KV;var g1e={root:"m_87cf2631"};const SBe={__staticSelector:"UnstyledButton"},ss=ds((e,t)=>{const n=Oe("UnstyledButton",SBe,e),{className:r,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:l,style:u,...c}=n,d=kt({name:s,props:n,classes:g1e,className:r,style:u,classNames:a,styles:l,unstyled:o});return x.jsx(_e,{...d("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});ss.classes=g1e;ss.displayName="@mantine/core/UnstyledButton";var y1e={root:"m_515a97f8"};const TBe={},XV=We((e,t)=>{const n=Oe("VisuallyHidden",TBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,...u}=n,c=kt({name:"VisuallyHidden",classes:y1e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a});return x.jsx(_e,{component:"span",ref:t,...c("root"),...u})});XV.classes=y1e;XV.displayName="@mantine/core/VisuallyHidden";var v1e={root:"m_1b7284a3"};const kBe={},ABe=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:vr(t),"--paper-shadow":TV(n)}}),Sh=ds((e,t)=>{const n=Oe("Paper",kBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,withBorder:l,vars:u,radius:c,shadow:d,variant:f,mod:h,...p}=n,m=kt({name:"Paper",props:n,classes:v1e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:ABe});return x.jsx(_e,{ref:t,mod:[{"data-with-border":l},h],...m("root"),variant:f,...p})});Sh.classes=v1e;Sh.displayName="@mantine/core/Paper";function b1e(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function $ie(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Mie(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const IBe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function RBe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:s,arrowY:o,dir:a}){const[l,u="center"]=e.split("-"),c={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[IBe[l]]:r},d=-t/2;return l==="left"?{...c,...$ie(u,o,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...c,...$ie(u,o,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...c,...Mie(u,s,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...c,...Mie(u,s,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const QV=D.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:s,arrowX:o,arrowY:a,style:l,...u},c)=>{const{dir:d}=tl();return s?x.jsx("div",{...u,ref:c,style:{...l,...RBe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:o,arrowY:a})}}):null});QV.displayName="@mantine/core/FloatingArrow";var w1e={root:"m_9814e45f"};const DBe={zIndex:go("modal")},PBe=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:s,zIndex:o})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Tf(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Be(i)})`:void 0,"--overlay-radius":s===void 0?void 0:vr(s),"--overlay-z-index":o==null?void 0:o.toString()}}),Ex=ds((e,t)=>{const n=Oe("Overlay",DBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fixed:u,center:c,children:d,radius:f,zIndex:h,gradient:p,blur:m,color:g,backgroundOpacity:v,mod:y,...w}=n,E=kt({name:"Overlay",props:n,classes:w1e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:PBe});return x.jsx(_e,{ref:t,...E("root"),mod:[{center:c,fixed:u},y],...w,children:d})});Ex.classes=w1e;Ex.displayName="@mantine/core/Overlay";function GF(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function OBe({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||GF(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=GF(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return GF(n)}const NBe={},x1e=We((e,t)=>{const{children:n,target:r,reuseTargetNode:i,...s}=Oe("Portal",NBe,e),[o,a]=D.useState(!1),l=D.useRef(null);return x1(()=>(a(!0),l.current=OBe({target:r,reuseTargetNode:i,...s}),FP(t,l.current),!r&&!i&&l.current&&document.body.appendChild(l.current),()=>{!r&&!i&&l.current&&document.body.removeChild(l.current)}),[r]),!o||!l.current?null:LT.createPortal(x.jsx(x.Fragment,{children:n}),l.current)});x1e.displayName="@mantine/core/Portal";const Cg=We(({withinPortal:e=!0,children:t,...n},r)=>Ive()==="test"||!e?x.jsx(x.Fragment,{children:t}):x.jsx(x1e,{ref:r,...n,children:t}));Cg.displayName="@mantine/core/OptionalPortal";const tC=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),DI={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...tC("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...tC("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...tC("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...tC("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...tC("top"),common:{transformOrigin:"top right"}}},Fie={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function $Be({transition:e,state:t,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in DI?{transitionProperty:DI[e].transitionProperty,...i,...DI[e].common,...DI[e][Fie[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[Fie[t]]}}function MBe({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a,enterDelay:l,exitDelay:u}){const c=Xi(),d=AN(),f=c.respectReducedMotion?d:!1,[h,p]=D.useState(f?0:e),[m,g]=D.useState(r?"entered":"exited"),v=D.useRef(-1),y=D.useRef(-1),w=D.useRef(-1);function E(){window.clearTimeout(v.current),window.clearTimeout(y.current),cancelAnimationFrame(w.current)}const C=T=>{E();const k=T?i:s,I=T?o:a,R=f?0:T?e:t;p(R),R===0?(typeof k=="function"&&k(),typeof I=="function"&&I(),g(T?"entered":"exited")):w.current=requestAnimationFrame(()=>{QC.flushSync(()=>{g(T?"pre-entering":"pre-exiting")}),w.current=requestAnimationFrame(()=>{typeof k=="function"&&k(),g(T?"entering":"exiting"),v.current=window.setTimeout(()=>{typeof I=="function"&&I(),g(T?"entered":"exited")},R)})})},S=T=>{if(E(),typeof(T?l:u)!="number"){C(T);return}y.current=window.setTimeout(()=>{C(T)},T?l:u)};return Td(()=>{S(r)},[r]),D.useEffect(()=>()=>{E()},[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||"ease"}}function mc({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f}){const h=Ive(),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:g}=MBe({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f});return p===0||h==="test"?i?x.jsx(x.Fragment,{children:s({})}):e?s({display:"none"}):null:m==="exited"?e?s({display:"none"}):null:x.jsx(x.Fragment,{children:s($Be({transition:t,duration:p,state:m,timingFunction:g}))})}mc.displayName="@mantine/core/Transition";const[FBe,_1e]=xs("Popover component was not found in the tree");function BT({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const i=sLe(t),s=_s(i,r);return fm(e)?D.cloneElement(e,{[n]:s}):e}function E1e(e){return x.jsx(XV,{tabIndex:-1,"data-autofocus":!0,...e})}BT.displayName="@mantine/core/FocusTrap";E1e.displayName="@mantine/core/FocusTrapInitialFocus";BT.InitialFocus=E1e;var C1e={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const LBe={},JV=We((e,t)=>{var g,v,y,w;const n=Oe("PopoverDropdown",LBe,e),{className:r,style:i,vars:s,children:o,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,f=_1e(),h=_ve({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=_s(t,f.floating);return f.disabled?null:x.jsx(Cg,{...f.portalProps,withinPortal:f.withinPortal,children:x.jsx(mc,{mounted:f.opened,...f.transitionProps,transition:((g=f.transitionProps)==null?void 0:g.transition)||"fade",duration:((v=f.transitionProps)==null?void 0:v.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((y=f.transitionProps)==null?void 0:y.exitDuration)=="number"?f.transitionProps.exitDuration:(w=f.transitionProps)==null?void 0:w.duration,children:E=>x.jsx(BT,{active:f.trapFocus&&f.opened,innerRef:m,children:x.jsxs(_e,{...p,...d,variant:l,onKeyDownCapture:GFe(()=>{var C,S;(C=f.onClose)==null||C.call(f),(S=f.onDismiss)==null||S.call(f)},{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...E,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:Be(f.width)},f.resolvedStyles.dropdown,c==null?void 0:c.dropdown,i]}),children:[o,x.jsx(QV,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:u,styles:c})})]})})})})});JV.classes=C1e;JV.displayName="@mantine/core/PopoverDropdown";const jBe={refProp:"ref",popupType:"dialog"},S1e=We((e,t)=>{const{children:n,refProp:r,popupType:i,...s}=Oe("PopoverTarget",jBe,e);if(!fm(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=_1e(),l=_s(a.reference,IN(n),t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return D.cloneElement(n,{...o,...u,...a.targetProps,className:Dt(a.targetProps.className,o.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});S1e.displayName="@mantine/core/PopoverTarget";function T1e({opened:e,floating:t,position:n,positionDependencies:r}){const[i,s]=D.useState(0);D.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return N9e(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),Td(()=>{t.update()},r),Td(()=>{s(o=>o+1)},[e])}function BBe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function zBe(e,t){const n=BBe(e.middlewares),r=[Zve(e.offset)];return n.shift&&r.push(UV(typeof n.shift=="boolean"?{limiter:kie(),padding:5}:{limiter:kie(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?UP():UP(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?LS():LS(n.inline)),r.push(e1e({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(W9e({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:s,availableHeight:o,...a}){var c;const u=((c=t().refs.floating.current)==null?void 0:c.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:s,availableHeight:o,...a}):Object.assign(u,{maxWidth:`${s}px`,maxHeight:`${o}px`})),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function UBe(e){const[t,n]=ji({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=D.useRef(t),i=()=>{t&&!e.disabled&&n(!1)},s=()=>!e.disabled&&n(!t),o=WV({strategy:e.strategy,placement:e.position,middleware:zBe(e,()=>o)});return T1e({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:o}),Td(()=>{var a;(a=e.onPositionChange)==null||a.call(e,o.placement)},[o.placement]),Td(()=>{var a,l;t!==r.current&&(t?(l=e.onOpen)==null||l.call(e):(a=e.onClose)==null||a.call(e)),r.current=t},[t,e.onClose,e.onOpen]),{floating:o,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:s}}const qBe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:go("popover"),__staticSelector:"Popover",width:"max-content"},HBe=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:vr(t),"--popover-shadow":TV(n)}});function Li(e){var Le,ge,$e,ze,it,st;const t=Oe("Popover",qBe,e),{children:n,position:r,offset:i,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:l,onExitTransitionEnd:u,onEnterTransitionEnd:c,width:d,middlewares:f,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:v,unstyled:y,classNames:w,styles:E,closeOnClickOutside:C,withinPortal:S,portalProps:T,closeOnEscape:k,clickOutsideEvents:I,trapFocus:R,onClose:O,onDismiss:M,onOpen:$,onChange:L,zIndex:U,radius:B,shadow:V,id:G,defaultOpened:Y,__staticSelector:z,withRoles:F,disabled:W,returnFocus:q,variant:K,keepMounted:J,vars:te,floatingStrategy:le,withOverlay:oe,overlayProps:ie,...he}=t,ee=kt({name:z,props:t,classes:C1e,classNames:w,styles:E,unstyled:y,rootSelector:"dropdown",vars:te,varsResolver:HBe}),{resolvedStyles:ne}=Eh({classNames:w,styles:E,props:t}),ue=D.useRef(null),[ve,xe]=D.useState(null),[Re,Te]=D.useState(null),{dir:we}=tl(),He=xa(G),Xe=UBe({middlewares:f,width:d,position:b1e(we,r),offset:typeof i=="number"?i+(h?p/2:0):i,arrowRef:ue,arrowOffset:m,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:Y,onChange:L,onOpen:$,onClose:O,onDismiss:M,strategy:le,disabled:W});wve(()=>{C&&(Xe.onClose(),M==null||M())},I,[ve,Re]);const tt=D.useCallback(wt=>{xe(wt),Xe.floating.refs.setReference(wt)},[Xe.floating.refs.setReference]),ft=D.useCallback(wt=>{Te(wt),Xe.floating.refs.setFloating(wt)},[Xe.floating.refs.setFloating]),rt=D.useCallback(()=>{var wt;(wt=l==null?void 0:l.onExited)==null||wt.call(l),u==null||u()},[l==null?void 0:l.onExited,u]),Pe=D.useCallback(()=>{var wt;(wt=l==null?void 0:l.onEntered)==null||wt.call(l),c==null||c()},[l==null?void 0:l.onEntered,c]);return x.jsxs(FBe,{value:{returnFocus:q,disabled:W,controlled:Xe.controlled,reference:tt,floating:ft,x:Xe.floating.x,y:Xe.floating.y,arrowX:($e=(ge=(Le=Xe.floating)==null?void 0:Le.middlewareData)==null?void 0:ge.arrow)==null?void 0:$e.x,arrowY:(st=(it=(ze=Xe.floating)==null?void 0:ze.middlewareData)==null?void 0:it.arrow)==null?void 0:st.y,opened:Xe.opened,arrowRef:ue,transitionProps:{...l,onExited:rt,onEntered:Pe},width:d,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:v,placement:Xe.floating.placement,trapFocus:R,withinPortal:S,portalProps:T,zIndex:U,radius:B,shadow:V,closeOnEscape:k,onDismiss:M,onClose:Xe.onClose,onToggle:Xe.onToggle,getTargetId:()=>`${He}-target`,getDropdownId:()=>`${He}-dropdown`,withRoles:F,targetProps:he,__staticSelector:z,classNames:w,styles:E,unstyled:y,variant:K,keepMounted:J,getStyles:ee,resolvedStyles:ne,floatingStrategy:le},children:[n,oe&&x.jsx(mc,{transition:"fade",mounted:Xe.opened,duration:(l==null?void 0:l.duration)||250,exitDuration:(l==null?void 0:l.exitDuration)||250,children:wt=>x.jsx(Cg,{withinPortal:S,children:x.jsx(Ex,{...ie,...ee("overlay",{className:ie==null?void 0:ie.className,style:[wt,ie==null?void 0:ie.style]})})})})]})}Li.Target=S1e;Li.Dropdown=JV;Li.displayName="@mantine/core/Popover";Li.extend=e=>e;var ld={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const k1e=D.forwardRef(({className:e,...t},n)=>x.jsxs(_e,{component:"span",className:Dt(ld.barsLoader,e),...t,ref:n,children:[x.jsx("span",{className:ld.bar}),x.jsx("span",{className:ld.bar}),x.jsx("span",{className:ld.bar})]}));k1e.displayName="@mantine/core/Bars";const A1e=D.forwardRef(({className:e,...t},n)=>x.jsxs(_e,{component:"span",className:Dt(ld.dotsLoader,e),...t,ref:n,children:[x.jsx("span",{className:ld.dot}),x.jsx("span",{className:ld.dot}),x.jsx("span",{className:ld.dot})]}));A1e.displayName="@mantine/core/Dots";const I1e=D.forwardRef(({className:e,...t},n)=>x.jsx(_e,{component:"span",className:Dt(ld.ovalLoader,e),...t,ref:n}));I1e.displayName="@mantine/core/Oval";const R1e={bars:k1e,oval:I1e,dots:A1e},VBe={loaders:R1e,type:"oval"},WBe=(e,{size:t,color:n})=>({root:{"--loader-size":gn(t,"loader-size"),"--loader-color":n?Sr(n,e):void 0}}),Bd=We((e,t)=>{const n=Oe("Loader",VBe,e),{size:r,color:i,type:s,vars:o,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:f,variant:h,children:p,...m}=n,g=kt({name:"Loader",props:n,classes:ld,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:o,varsResolver:WBe});return p?x.jsx(_e,{...g("root"),ref:t,...m,children:p}):x.jsx(_e,{...g("root"),ref:t,component:f[s],variant:h,size:r,...m})});Bd.defaultLoaders=R1e;Bd.classes=ld;Bd.displayName="@mantine/core/Loader";var S_={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Lie={orientation:"horizontal"},GBe=(e,{borderWidth:t})=>({group:{"--ai-border-width":Be(t)}}),ZV=We((e,t)=>{const n=Oe("ActionIconGroup",Lie,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=Oe("ActionIconGroup",Lie,e),p=kt({name:"ActionIconGroup",props:n,classes:S_,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:GBe,rootSelector:"group"});return x.jsx(_e,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});ZV.classes=S_;ZV.displayName="@mantine/core/ActionIconGroup";const jie={},YBe=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:s,size:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{groupSection:{"--section-height":gn(o,"section-height"),"--section-padding-x":gn(o,"section-padding-x"),"--section-fz":Yi(o),"--section-radius":t===void 0?void 0:vr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},eW=We((e,t)=>{const n=Oe("ActionIconGroupSection",jie,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=Oe("ActionIconGroupSection",jie,e),p=kt({name:"ActionIconGroupSection",props:n,classes:S_,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:YBe,rootSelector:"groupSection"});return x.jsx(_e,{...p("groupSection"),ref:t,variant:u,...h})});eW.classes=S_;eW.displayName="@mantine/core/ActionIconGroupSection";const KBe={},XBe=(e,{size:t,radius:n,variant:r,gradient:i,color:s,autoContrast:o})=>{const a=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ai-size":gn(t,"ai-size"),"--ai-radius":n===void 0?void 0:vr(n),"--ai-bg":s||r?a.background:void 0,"--ai-hover":s||r?a.hover:void 0,"--ai-hover-color":s||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":s||r?a.border:void 0}}},tr=ds((e,t)=>{const n=Oe("ActionIcon",KBe,e),{className:r,unstyled:i,variant:s,classNames:o,styles:a,style:l,loading:u,loaderProps:c,size:d,color:f,radius:h,__staticSelector:p,gradient:m,vars:g,children:v,disabled:y,"data-disabled":w,autoContrast:E,mod:C,...S}=n,T=kt({name:["ActionIcon",p],props:n,className:r,style:l,classes:S_,classNames:o,styles:a,unstyled:i,vars:g,varsResolver:XBe});return x.jsxs(ss,{...T("root",{active:!y&&!u&&!w}),...S,unstyled:i,variant:s,size:d,disabled:y||u,ref:t,mod:[{loading:u,disabled:y||w},C],children:[x.jsx(mc,{mounted:!!u,transition:"slide-down",duration:150,children:k=>x.jsx(_e,{component:"span",...T("loader",{style:k}),"aria-hidden":!0,children:x.jsx(Bd,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),x.jsx(_e,{component:"span",mod:{loading:u},...T("icon"),children:v})]})});tr.classes=S_;tr.displayName="@mantine/core/ActionIcon";tr.Group=ZV;tr.GroupSection=eW;const D1e=D.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>x.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:x.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));D1e.displayName="@mantine/core/CloseIcon";var P1e={root:"m_86a44da5","root--subtle":"m_220c80f2"};const QBe={variant:"subtle"},JBe=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":gn(t,"cb-size"),"--cb-radius":n===void 0?void 0:vr(n),"--cb-icon-size":Be(r)}}),lh=ds((e,t)=>{const n=Oe("CloseButton",QBe,e),{iconSize:r,children:i,vars:s,radius:o,className:a,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:m,mod:g,__staticSelector:v,...y}=n,w=kt({name:v||"CloseButton",props:n,className:a,style:u,classes:P1e,classNames:l,styles:c,unstyled:d,vars:s,varsResolver:JBe});return x.jsxs(ss,{ref:t,...y,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},g],...w("root",{variant:p,active:!h&&!f}),children:[m||x.jsx(D1e,{}),i]})});lh.classes=P1e;lh.displayName="@mantine/core/CloseButton";function ZBe(e){return D.Children.toArray(e).filter(Boolean)}var O1e={root:"m_4081bf90"};const e7e={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},t7e=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":wi(r),"--group-align":i,"--group-justify":s,"--group-wrap":o}}),_i=We((e,t)=>{const n=Oe("Group",e7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,children:l,gap:u,align:c,justify:d,wrap:f,grow:h,preventGrowOverflow:p,vars:m,variant:g,__size:v,mod:y,...w}=n,E=ZBe(l),C=E.length,S=wi(u??"md"),k={childWidth:`calc(${100/C}% - (${S} - ${S} / ${C}))`},I=kt({name:"Group",props:n,stylesCtx:k,className:i,style:s,classes:O1e,classNames:r,styles:o,unstyled:a,vars:m,varsResolver:t7e});return x.jsx(_e,{...I("root"),ref:t,variant:g,mod:[{grow:h},y],size:v,...w,children:E})});_i.classes=O1e;_i.displayName="@mantine/core/Group";const[n7e,ym]=xs("ModalBase component was not found in tree");function r7e({opened:e,transitionDuration:t}){const[n,r]=D.useState(e),i=D.useRef(-1),o=AN()?0:t;return D.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[e,o]),n}function i7e({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:s,returnFocus:o}){const a=xa(e),[l,u]=D.useState(!1),[c,d]=D.useState(!1),f=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,h=r7e({opened:n,transitionDuration:f});return Tve("keydown",p=>{var m;p.key==="Escape"&&i&&!p.isComposing&&n&&((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&s()},{capture:!0}),_ve({opened:n,shouldReturnFocus:r&&o}),{_id:a,titleMounted:l,bodyMounted:c,shouldLockScroll:h,setTitleMounted:u,setBodyMounted:d}}const tW=D.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:s,onEnterTransitionEnd:o,trapFocus:a,closeOnEscape:l,returnFocus:u,closeOnClickOutside:c,withinPortal:d,portalProps:f,lockScroll:h,children:p,zIndex:m,shadow:g,padding:v,__vars:y,unstyled:w,removeScrollProps:E,...C},S)=>{const{_id:T,titleMounted:k,bodyMounted:I,shouldLockScroll:R,setTitleMounted:O,setBodyMounted:M}=i7e({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:l,onClose:n,returnFocus:u}),{key:$,...L}=E||{};return x.jsx(Cg,{...f,withinPortal:d,children:x.jsx(n7e,{value:{opened:t,onClose:n,closeOnClickOutside:c,onExitTransitionEnd:s,onEnterTransitionEnd:o,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${T}-title`,getBodyId:()=>`${T}-body`,titleMounted:k,bodyMounted:I,setTitleMounted:O,setBodyMounted:M,trapFocus:a,closeOnEscape:l,zIndex:m,unstyled:w},children:x.jsx(wx,{enabled:R&&h,...L,children:x.jsx(_e,{ref:S,...C,__vars:{...y,"--mb-z-index":(m||go("modal")).toString(),"--mb-shadow":TV(g),"--mb-padding":wi(v)},children:p})},$)})})});tW.displayName="@mantine/core/ModalBase";function s7e(){const e=ym();return D.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Cx={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const nW=D.forwardRef(({className:e,...t},n)=>{const r=s7e(),i=ym();return x.jsx(_e,{ref:n,...t,id:r,className:Dt({[Cx.body]:!i.unstyled},e)})});nW.displayName="@mantine/core/ModalBaseBody";const rW=D.forwardRef(({className:e,onClick:t,...n},r)=>{const i=ym();return x.jsx(lh,{ref:r,...n,onClick:s=>{i.onClose(),t==null||t(s)},className:Dt({[Cx.close]:!i.unstyled},e),unstyled:i.unstyled})});rW.displayName="@mantine/core/ModalBaseCloseButton";const iW=D.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...s},o)=>{const a=ym();return x.jsx(mc,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{var l,u,c;(l=a.onExitTransitionEnd)==null||l.call(a),(c=(u=a.transitionProps)==null?void 0:u.onExited)==null||c.call(u)},onEntered:()=>{var l,u,c;(l=a.onEnterTransitionEnd)==null||l.call(a),(c=(u=a.transitionProps)==null?void 0:u.onEntered)==null||c.call(u)},...e,children:l=>x.jsx("div",{...n,className:Dt({[Cx.inner]:!a.unstyled},n.className),children:x.jsx(BT,{active:a.opened&&a.trapFocus,innerRef:o,children:x.jsx(Sh,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,l],className:Dt({[Cx.content]:!a.unstyled},t),unstyled:a.unstyled,children:s.children})})})})});iW.displayName="@mantine/core/ModalBaseContent";const sW=D.forwardRef(({className:e,...t},n)=>{const r=ym();return x.jsx(_e,{component:"header",ref:n,className:Dt({[Cx.header]:!r.unstyled},e),...t})});sW.displayName="@mantine/core/ModalBaseHeader";const o7e={duration:200,timingFunction:"ease",transition:"fade"};function a7e(e){const t=ym();return{...o7e,...t.transitionProps,...e}}const oW=D.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...i},s)=>{const o=ym(),a=a7e(t);return x.jsx(mc,{mounted:r!==void 0?r:o.opened,...a,transition:"fade",children:l=>x.jsx(Ex,{ref:s,fixed:!0,style:[n,l],zIndex:o.zIndex,unstyled:o.unstyled,onClick:u=>{e==null||e(u),o.closeOnClickOutside&&o.onClose()},...i})})});oW.displayName="@mantine/core/ModalBaseOverlay";function l7e(){const e=ym();return D.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const aW=D.forwardRef(({className:e,...t},n)=>{const r=l7e(),i=ym();return x.jsx(_e,{component:"h2",ref:n,className:Dt({[Cx.title]:!i.unstyled},e),...t,id:r})});aW.displayName="@mantine/core/ModalBaseTitle";function N1e({children:e}){return x.jsx(x.Fragment,{children:e})}const[u7e,c7e]=hm({size:"sm"}),d7e={},$1e=We((e,t)=>{const n=Oe("InputClearButton",d7e,e),{size:r,variant:i,vars:s,classNames:o,styles:a,...l}=n,u=c7e(),{resolvedClassNames:c,resolvedStyles:d}=Eh({classNames:o,styles:a,props:n});return x.jsx(lh,{variant:i||"transparent",ref:t,size:r||(u==null?void 0:u.size)||"sm",classNames:c,styles:d,__staticSelector:"InputClearButton",...l})});$1e.displayName="@mantine/core/InputClearButton";const[f7e,T_]=hm({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var gc={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Bie={},h7e=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Yi(t)} - ${Be(2)})`}}),BN=We((e,t)=>{const n=Oe("InputDescription",Bie,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=Oe("InputDescription",Bie,n),p=T_(),m=kt({name:["InputWrapper",c],props:n,classes:gc,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"description",vars:l,varsResolver:h7e}),g=d&&(p==null?void 0:p.getStyles)||m;return x.jsx(_e,{component:"p",ref:t,variant:f,size:u,...g("description",p!=null&&p.getStyles?{className:i,style:s}:void 0),...h})});BN.classes=gc;BN.displayName="@mantine/core/InputDescription";const p7e={},m7e=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Yi(t)} - ${Be(2)})`}}),zN=We((e,t)=>{const n=Oe("InputError",p7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=n,p=kt({name:["InputWrapper",c],props:n,classes:gc,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"error",vars:l,varsResolver:m7e}),m=T_(),g=d&&(m==null?void 0:m.getStyles)||p;return x.jsx(_e,{component:"p",ref:t,variant:f,size:u,...g("error",m!=null&&m.getStyles?{className:i,style:s}:void 0),...h})});zN.classes=gc;zN.displayName="@mantine/core/InputError";const zie={labelElement:"label"},g7e=(e,{size:t})=>({label:{"--input-label-size":Yi(t),"--input-asterisk-color":void 0}}),UN=We((e,t)=>{const n=Oe("InputLabel",zie,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,labelElement:u,size:c,required:d,htmlFor:f,onMouseDown:h,children:p,__staticSelector:m,variant:g,mod:v,...y}=Oe("InputLabel",zie,n),w=kt({name:["InputWrapper",m],props:n,classes:gc,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"label",vars:l,varsResolver:g7e}),E=T_(),C=(E==null?void 0:E.getStyles)||w;return x.jsxs(_e,{...C("label",E!=null&&E.getStyles?{className:i,style:s}:void 0),component:u,variant:g,size:c,ref:t,htmlFor:u==="label"?f:void 0,mod:[{required:d},v],onMouseDown:S=>{h==null||h(S),!S.defaultPrevented&&S.detail>1&&S.preventDefault()},...y,children:[p,d&&x.jsx("span",{...C("required"),"aria-hidden":!0,children:" *"})]})});UN.classes=gc;UN.displayName="@mantine/core/InputLabel";const Uie={},lW=We((e,t)=>{const n=Oe("InputPlaceholder",Uie,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,variant:c,error:d,mod:f,...h}=Oe("InputPlaceholder",Uie,n),p=kt({name:["InputPlaceholder",u],props:n,classes:gc,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"placeholder"});return x.jsx(_e,{...p("placeholder"),mod:[{error:!!d},f],component:"span",variant:c,ref:t,...h})});lW.classes=gc;lW.displayName="@mantine/core/InputPlaceholder";function y7e(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e.slice(0,r),s=e.slice(r+1),o=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:o}}const v7e={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},b7e=(e,{size:t})=>({label:{"--input-label-size":Yi(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Yi(t)} - ${Be(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Yi(t)} - ${Be(2)})`}}),uW=We((e,t)=>{const n=Oe("InputWrapper",v7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:p,error:m,description:g,labelProps:v,descriptionProps:y,errorProps:w,labelElement:E,children:C,withAsterisk:S,id:T,required:k,__stylesApiProps:I,mod:R,...O}=n,M=kt({name:["InputWrapper",d],props:I||n,classes:gc,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:b7e}),$={size:u,variant:c,__staticSelector:d},L=xa(T),U=typeof S=="boolean"?S:k,B=(w==null?void 0:w.id)||`${L}-error`,V=(y==null?void 0:y.id)||`${L}-description`,G=L,Y=!!m&&typeof m!="boolean",z=!!g,F=`${Y?B:""} ${z?V:""}`,W=F.trim().length>0?F.trim():void 0,q=(v==null?void 0:v.id)||`${L}-label`,K=p&&x.jsx(UN,{labelElement:E,id:q,htmlFor:G,required:U,...$,...v,children:p},"label"),J=z&&x.jsx(BN,{...y,...$,size:(y==null?void 0:y.size)||$.size,id:(y==null?void 0:y.id)||V,children:g},"description"),te=x.jsx(D.Fragment,{children:f(C)},"input"),le=Y&&D.createElement(zN,{...w,...$,size:(w==null?void 0:w.size)||$.size,key:"error",id:(w==null?void 0:w.id)||B},m),oe=h.map(ie=>{switch(ie){case"label":return K;case"input":return te;case"description":return J;case"error":return le;default:return null}});return x.jsx(f7e,{value:{getStyles:M,describedBy:W,inputId:G,labelId:q,...y7e(h,{hasDescription:z,hasError:Y})},children:x.jsx(_e,{ref:t,variant:c,size:u,mod:[{error:!!m},R],...M("root"),...O,children:oe})})});uW.classes=gc;uW.displayName="@mantine/core/InputWrapper";const w7e={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},x7e=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":gn(t.size,"input-height"),"--input-fz":Yi(t.size),"--input-radius":t.radius===void 0?void 0:vr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Be(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Be(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?gn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),$r=ds((e,t)=>{const n=Oe("Input",w7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:f,error:h,disabled:p,leftSection:m,leftSectionProps:g,leftSectionWidth:v,rightSection:y,rightSectionProps:w,rightSectionWidth:E,rightSectionPointerEvents:C,leftSectionPointerEvents:S,variant:T,vars:k,pointer:I,multiline:R,radius:O,id:M,withAria:$,withErrorStyles:L,mod:U,inputSize:B,__clearSection:V,__clearable:G,__defaultRightSection:Y,...z}=n,{styleProps:F,rest:W}=E1(z),q=T_(),K={offsetBottom:q==null?void 0:q.offsetBottom,offsetTop:q==null?void 0:q.offsetTop},J=kt({name:["Input",u],props:c||n,classes:gc,className:i,style:s,classNames:r,styles:o,unstyled:a,stylesCtx:K,rootSelector:"wrapper",vars:k,varsResolver:x7e}),te=$?{required:l,disabled:p,"aria-invalid":!!h,"aria-describedby":q==null?void 0:q.describedBy,id:(q==null?void 0:q.inputId)||M}:{},le=y||G&&V||Y;return x.jsx(u7e,{value:{size:d||"sm"},children:x.jsxs(_e,{...J("wrapper"),...F,...f,mod:[{error:!!h&&L,pointer:I,disabled:p,multiline:R,"data-with-right-section":!!le,"data-with-left-section":!!m},U],variant:T,size:d,children:[m&&x.jsx("div",{...g,"data-position":"left",...J("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:m}),x.jsx(_e,{component:"input",...W,...te,ref:t,required:l,mod:{disabled:p,error:!!h&&L},variant:T,__size:B,...J("input")}),le&&x.jsx("div",{...w,"data-position":"right",...J("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),children:le})]})})});$r.classes=gc;$r.Wrapper=uW;$r.Label=UN;$r.Error=zN;$r.Description=BN;$r.Placeholder=lW;$r.ClearButton=$1e;$r.displayName="@mantine/core/Input";function M1e(e,t,n){const r=Oe(e,t,n),{label:i,description:s,error:o,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:v,id:y,size:w,style:E,inputContainer:C,inputWrapperOrder:S,withAsterisk:T,variant:k,vars:I,mod:R,...O}=r,{styleProps:M,rest:$}=E1(O),L={label:i,description:s,error:o,required:a,classNames:l,className:c,__staticSelector:f,__stylesApiProps:h||r,errorProps:p,labelProps:m,descriptionProps:g,unstyled:d,styles:u,size:w,style:E,inputContainer:C,inputWrapperOrder:S,withAsterisk:T,variant:k,id:y,mod:R,...v};return{...$,classNames:l,styles:u,unstyled:d,wrapperProps:{...L,...M},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:w,__staticSelector:f,__stylesApiProps:h||r,error:o,variant:k,id:y}}}const _7e={__staticSelector:"InputBase",withAria:!0},_a=ds((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=M1e("InputBase",_7e,e);return x.jsx($r.Wrapper,{...r,children:x.jsx($r,{...n,...i,ref:t})})});_a.classes={...$r.classes,...$r.Wrapper.classes};_a.displayName="@mantine/core/InputBase";const E7e={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var F1e={root:"m_8bffd616"};const C7e={},Rt=ds((e,t)=>{const n=Oe("Flex",C7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m,...g}=n,v=kt({name:"Flex",classes:F1e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l}),y=Xi(),w=FT(),E=Nve({styleProps:{gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m},theme:y,data:E7e});return x.jsxs(x.Fragment,{children:[E.hasResponsiveStyles&&x.jsx(_1,{selector:`.${w}`,styles:E.styles,media:E.media}),x.jsx(_e,{ref:t,...v("root",{className:w,style:_g(E.inlineStyles)}),...g})]})});Rt.classes=F1e;Rt.displayName="@mantine/core/Flex";const[S7e,cW]=xs("Accordion component was not found in the tree");function Sx({style:e,size:t=16,...n}){return x.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Be(t),height:Be(t),display:"block"},...n,children:x.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}Sx.displayName="@mantine/core/AccordionChevron";const[T7e,L1e]=xs("Accordion.Item component was not found in the tree");var zT={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const k7e={},dW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,chevron:a,icon:l,onClick:u,onKeyDown:c,children:d,disabled:f,mod:h,...p}=Oe("AccordionControl",k7e,e),{value:m}=L1e(),g=cW(),v=g.isItemActive(m),y=typeof g.order=="number",w=`h${g.order}`,E=x.jsxs(ss,{...p,...g.getStyles("control",{className:r,classNames:n,style:i,styles:s,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:v,"chevron-position":g.chevronPosition,disabled:f},h],ref:t,onClick:C=>{u==null||u(C),g.onChange(m)},type:"button",disabled:f,"aria-expanded":v,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:SV({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c}),children:[x.jsx(_e,{component:"span",mod:{rotate:!g.disableChevronRotation&&v,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:s}),children:a||g.chevron}),x.jsx("span",{...g.getStyles("label",{classNames:n,styles:s}),children:d}),l&&x.jsx(_e,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:s}),children:l})]});return y?x.jsx(w,{...g.getStyles("itemTitle",{classNames:n,styles:s}),children:E}):E});dW.displayName="@mantine/core/AccordionControl";dW.classes=zT;const A7e={},fW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,mod:l,...u}=Oe("AccordionItem",A7e,e),c=cW();return x.jsx(T7e,{value:{value:a},children:x.jsx(_e,{ref:t,mod:[{active:c.isItemActive(a)},l],...c.getStyles("item",{className:r,classNames:n,styles:s,style:i,variant:c.variant}),...u})})});fW.displayName="@mantine/core/AccordionItem";fW.classes=zT;const I7e={},hW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,...l}=Oe("AccordionPanel",I7e,e),{value:u}=L1e(),c=cW();return x.jsx(gm,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:s}),...l,in:c.isItemActive(u),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(u),"aria-labelledby":c.getControlId(u),children:x.jsx("div",{...c.getStyles("content",{classNames:n,styles:s}),children:a})})});hW.displayName="@mantine/core/AccordionPanel";hW.classes=zT;const R7e={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:x.jsx(Sx,{})},D7e=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:Be(n),"--accordion-radius":r===void 0?void 0:vr(r)}});function oa(e){const t=Oe("Accordion",R7e,e),{classNames:n,className:r,style:i,styles:s,unstyled:o,vars:a,children:l,multiple:u,value:c,defaultValue:d,onChange:f,id:h,loop:p,transitionDuration:m,disableChevronRotation:g,chevronPosition:v,chevronSize:y,order:w,chevron:E,variant:C,radius:S,...T}=t,k=xa(h),[I,R]=ji({value:c,defaultValue:d,finalValue:u?[]:null,onChange:f}),O=L=>Array.isArray(I)?I.includes(L):L===I,M=L=>{const U=Array.isArray(I)?I.includes(L)?I.filter(B=>B!==L):[...I,L]:L===I?null:L;R(U)},$=kt({name:"Accordion",classes:zT,props:t,className:r,style:i,classNames:n,styles:s,unstyled:o,vars:a,varsResolver:D7e});return x.jsx(S7e,{value:{isItemActive:O,onChange:M,getControlId:NP(`${k}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:NP(`${k}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:g,chevronPosition:v,order:w,chevron:E,loop:p,getStyles:$,variant:C,unstyled:o},children:x.jsx(_e,{...$("root"),id:k,...T,variant:C,"data-accordion":!0,children:l})})}const P7e=e=>e;oa.extend=P7e;oa.withProps=jve(oa);oa.classes=zT;oa.displayName="@mantine/core/Accordion";oa.Item=fW;oa.Panel=hW;oa.Control=dW;oa.Chevron=Sx;var j1e={root:"m_7f854edf"};const O7e={position:{bottom:0,right:0},zIndex:go("modal"),withinPortal:!0},N7e=(e,{zIndex:t,position:n})=>({root:{"--affix-z-index":t==null?void 0:t.toString(),"--affix-top":wi(n==null?void 0:n.top),"--affix-left":wi(n==null?void 0:n.left),"--affix-bottom":wi(n==null?void 0:n.bottom),"--affix-right":wi(n==null?void 0:n.right)}}),pW=We((e,t)=>{const n=Oe("Affix",O7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,portalProps:u,zIndex:c,withinPortal:d,position:f,...h}=n,p=kt({name:"Affix",classes:j1e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:N7e});return x.jsx(Cg,{...u,withinPortal:d,children:x.jsx(_e,{ref:t,...p("root"),...h})})});pW.classes=j1e;pW.displayName="@mantine/core/Affix";var B1e={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const $7e={},M7e=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:vr(t),"--alert-bg":n||r?s.background:void 0,"--alert-color":s.color,"--alert-bd":n||r?s.border:void 0}}},Xf=We((e,t)=>{const n=Oe("Alert",$7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,radius:u,color:c,title:d,children:f,id:h,icon:p,withCloseButton:m,onClose:g,closeButtonLabel:v,variant:y,autoContrast:w,...E}=n,C=kt({name:"Alert",classes:B1e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:M7e}),S=xa(h),T=d&&`${S}-title`||void 0,k=`${S}-body`;return x.jsx(_e,{id:S,...C("root",{variant:y}),variant:y,ref:t,...E,role:"alert","aria-describedby":k,"aria-labelledby":T,children:x.jsxs("div",{...C("wrapper"),children:[p&&x.jsx("div",{...C("icon"),children:p}),x.jsxs("div",{...C("body"),children:[d&&x.jsx("div",{...C("title"),"data-with-close-button":m||void 0,children:x.jsx("span",{id:T,...C("label"),children:d})}),f&&x.jsx("div",{id:k,...C("message"),"data-variant":y,children:f})]}),m&&x.jsx(lh,{...C("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":v,unstyled:a})]})})});Xf.classes=B1e;Xf.displayName="@mantine/core/Alert";var z1e={root:"m_b6d8b162"};function F7e(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const L7e={inherit:!1},j7e=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:s})=>({root:{"--text-fz":Yi(i),"--text-lh":bve(i),"--text-gradient":t==="gradient"?B7(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":s?Sr(s,e):void 0}}),Ue=ds((e,t)=>{const n=Oe("Text",L7e,e),{lineClamp:r,truncate:i,inline:s,inherit:o,gradient:a,span:l,__staticSelector:u,vars:c,className:d,style:f,classNames:h,styles:p,unstyled:m,variant:g,mod:v,size:y,...w}=n,E=kt({name:["Text",u],props:n,classes:z1e,className:d,style:f,classNames:h,styles:p,unstyled:m,vars:c,varsResolver:j7e});return x.jsx(_e,{...E("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:g,mod:[{"data-truncate":F7e(i),"data-line-clamp":typeof r=="number","data-inline":s,"data-inherit":o},v],size:y,...w})});Ue.classes=z1e;Ue.displayName="@mantine/core/Text";var U1e={root:"m_849cf0da"};const B7e={underline:"hover"},C1=ds((e,t)=>{const{underline:n,className:r,unstyled:i,mod:s,...o}=Oe("Anchor",B7e,e);return x.jsx(Ue,{component:"a",ref:t,className:Dt({[U1e.root]:!i},r),...o,mod:[{underline:n},s],__staticSelector:"Anchor",unstyled:i})});C1.classes=U1e;C1.displayName="@mantine/core/Anchor";const[z7e,k_]=xs("AppShell was not found in tree");var Sg={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const U7e={},mW=We((e,t)=>{const n=Oe("AppShellAside",U7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=k_();return h.disabled?null:x.jsx(_e,{component:"aside",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("aside",{className:i,classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});mW.classes=Sg;mW.displayName="@mantine/core/AppShellAside";const q7e={},gW=We((e,t)=>{var p;const n=Oe("AppShellFooter",q7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=k_();return h.disabled?null:x.jsx(_e,{component:"footer",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("footer",{className:Dt({[wx.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-footer-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});gW.classes=Sg;gW.displayName="@mantine/core/AppShellFooter";const H7e={},yW=We((e,t)=>{var p;const n=Oe("AppShellHeader",H7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=k_();return h.disabled?null:x.jsx(_e,{component:"header",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("header",{className:Dt({[wx.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-header-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});yW.classes=Sg;yW.displayName="@mantine/core/AppShellHeader";const V7e={},vW=We((e,t)=>{const n=Oe("AppShellMain",V7e,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=k_();return x.jsx(_e,{component:"main",ref:t,...u.getStyles("main",{className:i,style:s,classNames:r,styles:o}),...l})});vW.classes=Sg;vW.displayName="@mantine/core/AppShellMain";function UT(e){return typeof e=="object"?e.base:e}function qT(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function HT(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function W7e({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){var l,u,c;const s=r==null?void 0:r.width,o="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),qT(s)){const d=Be(UT(s));e["--app-shell-aside-width"]=d,e["--app-shell-aside-offset"]=d}if(HT(s)&&(typeof s.base<"u"&&(e["--app-shell-aside-width"]=Be(s.base),e["--app-shell-aside-offset"]=Be(s.base)),si(s).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-aside-width"]=Be(s[d]),t[d]["--app-shell-aside-offset"]=Be(s[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-aside-transform"]=o,t[d]["--app-shell-aside-transform-rtl"]=a,t[d]["--app-shell-aside-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=kV(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-aside-width"]="100%",n[d]["--app-shell-aside-offset"]="0px",n[d]["--app-shell-aside-transform"]=o,n[d]["--app-shell-aside-transform-rtl"]=a}}function G7e({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,i="translateY(var(--app-shell-footer-height))",s=(n==null?void 0:n.offset)??!0;if(qT(r)){const o=Be(UT(r));e["--app-shell-footer-height"]=o,s&&(e["--app-shell-footer-offset"]=o)}HT(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=Be(r.base),s&&(e["--app-shell-footer-offset"]=Be(r.base))),si(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-footer-height"]=Be(r[o]),s&&(t[o]["--app-shell-footer-offset"]=Be(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function Y7e({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,i="translateY(calc(var(--app-shell-header-height) * -1))",s=(n==null?void 0:n.offset)??!0;if(qT(r)){const o=Be(UT(r));e["--app-shell-header-height"]=o,s&&(e["--app-shell-header-offset"]=o)}HT(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=Be(r.base),s&&(e["--app-shell-header-offset"]=Be(r.base))),si(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-header-height"]=Be(r[o]),s&&(t[o]["--app-shell-header-offset"]=Be(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function K7e({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){var l,u,c;const s=r==null?void 0:r.width,o="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),qT(s)){const d=Be(UT(s));e["--app-shell-navbar-width"]=d,e["--app-shell-navbar-offset"]=d}if(HT(s)&&(typeof s.base<"u"&&(e["--app-shell-navbar-width"]=Be(s.base),e["--app-shell-navbar-offset"]=Be(s.base)),si(s).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-navbar-width"]=Be(s[d]),t[d]["--app-shell-navbar-offset"]=Be(s[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-navbar-transform"]=o,t[d]["--app-shell-navbar-transform-rtl"]=a,t[d]["--app-shell-navbar-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=kV(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-navbar-width"]="100%",n[d]["--app-shell-navbar-offset"]="0px",n[d]["--app-shell-navbar-transform"]=o,n[d]["--app-shell-navbar-transform-rtl"]=a}}function YF(e){return Number(e)===0?"0px":wi(e)}function X7e({padding:e,baseStyles:t,minMediaStyles:n}){qT(e)&&(t["--app-shell-padding"]=YF(UT(e))),HT(e)&&(e.base&&(t["--app-shell-padding"]=YF(e.base)),si(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=YF(e[r]))}))}function Q7e({navbar:e,header:t,footer:n,aside:r,padding:i,theme:s}){const o={},a={},l={};K7e({baseStyles:l,minMediaStyles:o,maxMediaStyles:a,navbar:e,theme:s}),W7e({baseStyles:l,minMediaStyles:o,maxMediaStyles:a,aside:r,theme:s}),Y7e({baseStyles:l,minMediaStyles:o,header:t}),G7e({baseStyles:l,minMediaStyles:o,footer:n}),X7e({baseStyles:l,minMediaStyles:o,padding:i});const u=S2(si(o),s.breakpoints).map(f=>({query:`(min-width: ${OP(f.px)})`,styles:o[f.value]})),c=S2(si(a),s.breakpoints).map(f=>({query:`(max-width: ${OP(f.px)})`,styles:a[f.value]})),d=[...u,...c];return{baseStyles:l,media:d}}function J7e({navbar:e,header:t,aside:n,footer:r,padding:i}){const s=Xi(),o=pm(),{media:a,baseStyles:l}=Q7e({navbar:e,header:t,footer:r,aside:n,padding:i,theme:s});return x.jsx(_1,{media:a,styles:l,selector:o.cssVariablesSelector})}const Z7e={},bW=We((e,t)=>{const n=Oe("AppShellNavbar",Z7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=k_();return h.disabled?null:x.jsx(_e,{component:"nav",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("navbar",{className:i,classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});bW.classes=Sg;bW.displayName="@mantine/core/AppShellNavbar";const eze={},wW=ds((e,t)=>{const n=Oe("AppShellSection",eze,e),{classNames:r,className:i,style:s,styles:o,vars:a,grow:l,mod:u,...c}=n,d=k_();return x.jsx(_e,{ref:t,mod:[{grow:l},u],...d.getStyles("section",{className:i,style:s,classNames:r,styles:o}),...c})});wW.classes=Sg;wW.displayName="@mantine/core/AppShellSection";function tze({transitionDuration:e,disabled:t}){const[n,r]=D.useState(!0),i=D.useRef(-1),s=D.useRef(-1);return Tve("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>D.startTransition(()=>{r(!1)}),200)}),x1(()=>{r(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>D.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const nze={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:go("app")},rze=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Qr=We((e,t)=>{const n=Oe("AppShell",nze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,navbar:u,withBorder:c,padding:d,transitionDuration:f,transitionTimingFunction:h,header:p,zIndex:m,layout:g,disabled:v,aside:y,footer:w,offsetScrollbars:E=g!=="alt",mod:C,...S}=n,T=kt({name:"AppShell",classes:Sg,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:rze}),k=tze({disabled:v,transitionDuration:f});return x.jsxs(z7e,{value:{getStyles:T,withBorder:c,zIndex:m,disabled:v,offsetScrollbars:E},children:[x.jsx(J7e,{navbar:u,header:p,aside:y,footer:w,padding:d}),x.jsx(_e,{ref:t,...T("root"),mod:[{resizing:k,layout:g,disabled:v},C],...S})]})});Qr.classes=Sg;Qr.displayName="@mantine/core/AppShell";Qr.Navbar=bW;Qr.Header=yW;Qr.Main=vW;Qr.Aside=mW;Qr.Footer=gW;Qr.Section=wW;function q1e(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>q1e(t))}:e}function qN(e){return e?e.map(t=>q1e(t)):[]}function HN(e){return e.reduce((t,n)=>"group"in n?{...t,...HN(n.items)}:(t[n.value]=n,t),{})}var Ml={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const ize={error:null},sze=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":gn(t,"combobox-chevron-size"),"--combobox-chevron-color":n?Sr(n,e):void 0}}),VN=We((e,t)=>{const n=Oe("ComboboxChevron",ize,e),{size:r,error:i,style:s,className:o,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...f}=n,h=kt({name:"ComboboxChevron",classes:Ml,props:n,style:s,className:o,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:sze,rootSelector:"chevron"});return x.jsx(_e,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:t,children:x.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});VN.classes=Ml;VN.displayName="@mantine/core/ComboboxChevron";const[oze,yc]=xs("Combobox component was not found in tree"),H1e=D.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},s)=>x.jsx($r.ClearButton,{ref:s,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{r(),n==null||n(o)}}));H1e.displayName="@mantine/core/ComboboxClearButton";const aze={},xW=We((e,t)=>{const{classNames:n,styles:r,className:i,style:s,hidden:o,...a}=Oe("ComboboxDropdown",aze,e),l=yc();return x.jsx(Li.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...l.getStyles("dropdown",{className:i,style:s,classNames:n,styles:r})})});xW.classes=Ml;xW.displayName="@mantine/core/ComboboxDropdown";const lze={refProp:"ref"},V1e=We((e,t)=>{const{children:n,refProp:r}=Oe("ComboboxDropdownTarget",lze,e);if(yc(),!fm(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return x.jsx(Li.Target,{ref:t,refProp:r,children:n})});V1e.displayName="@mantine/core/ComboboxDropdownTarget";const uze={},_W=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Oe("ComboboxEmpty",uze,e),l=yc();return x.jsx(_e,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:s,style:i}),...a})});_W.classes=Ml;_W.displayName="@mantine/core/ComboboxEmpty";function EW({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:s}){const o=yc(),[a,l]=D.useState(null),u=d=>{if(e==null||e(d),!o.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&f!==-1?(d.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),o.store.openDropdown("keyboard"))}d.key==="Escape"&&o.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.dropdownOpened?o.store.listId:void 0,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:u}}const cze={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},W1e=We((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...u}=Oe("ComboboxEventsTarget",cze,e);if(!fm(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=yc(),d=EW({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l});return D.cloneElement(n,{...d,...u,[r]:_s(t,c.store.targetRef,IN(n))})});W1e.displayName="@mantine/core/ComboboxEventsTarget";const dze={},CW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Oe("ComboboxFooter",dze,e),l=yc();return x.jsx(_e,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});CW.classes=Ml;CW.displayName="@mantine/core/ComboboxFooter";const fze={},SW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,label:l,...u}=Oe("ComboboxGroup",fze,e),c=yc();return x.jsxs(_e,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:s}),...u,children:[l&&x.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:s}),children:l}),a]})});SW.classes=Ml;SW.displayName="@mantine/core/ComboboxGroup";const hze={},TW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Oe("ComboboxHeader",hze,e),l=yc();return x.jsx(_e,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});TW.classes=Ml;TW.displayName="@mantine/core/ComboboxHeader";function G1e({value:e,valuesDivider:t=",",...n}){return x.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}G1e.displayName="@mantine/core/ComboboxHiddenInput";const pze={},kW=We((e,t)=>{const n=Oe("ComboboxOption",pze,e),{classNames:r,className:i,style:s,styles:o,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:p,mod:m,...g}=n,v=yc(),y=D.useId(),w=u||y;return x.jsx(_e,{...v.getStyles("option",{className:i,classNames:r,styles:o,style:s}),...g,ref:t,id:w,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":p},m],role:"option",onClick:E=>{var C;h?E.preventDefault():((C=v.onOptionSubmit)==null||C.call(v,n.value,n),l==null||l(E))},onMouseDown:E=>{E.preventDefault(),d==null||d(E)},onMouseOver:E=>{v.resetSelectionOnOptionHover&&v.store.resetSelectedOption(),f==null||f(E)}})});kW.classes=Ml;kW.displayName="@mantine/core/ComboboxOption";const mze={},AW=We((e,t)=>{const n=Oe("ComboboxOptions",mze,e),{classNames:r,className:i,style:s,styles:o,id:a,onMouseDown:l,labelledBy:u,...c}=n,d=yc(),f=xa(a);return D.useEffect(()=>{d.store.setListId(f)},[f]),x.jsx(_e,{ref:t,...d.getStyles("options",{className:i,style:s,classNames:r,styles:o}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});AW.classes=Ml;AW.displayName="@mantine/core/ComboboxOptions";const gze={withAriaAttributes:!0,withKeyboardNavigation:!0},IW=We((e,t)=>{const n=Oe("ComboboxSearch",gze,e),{classNames:r,styles:i,unstyled:s,vars:o,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,f=yc(),h=f.getStyles("search"),p=EW({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return x.jsx($r,{ref:_s(t,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||f.size,...p,...d,__staticSelector:"Combobox"})});IW.classes=Ml;IW.displayName="@mantine/core/ComboboxSearch";const yze={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Y1e=We((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...u}=Oe("ComboboxTarget",yze,e);if(!fm(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=yc(),d=EW({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l}),f=D.cloneElement(n,{...d,...u});return x.jsx(Li.Target,{ref:_s(t,c.store.targetRef),children:f})});Y1e.displayName="@mantine/core/ComboboxTarget";function vze(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function bze(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function wze(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function WN({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:s=!0,scrollBehavior:o="instant"}={}){const[a,l]=ji({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=D.useRef(null),c=D.useRef(-1),d=D.useRef(null),f=D.useRef(null),h=D.useRef(-1),p=D.useRef(-1),m=D.useRef(-1),g=D.useCallback((B="unknown")=>{a||(l(!0),i==null||i(B))},[l,i,a]),v=D.useCallback((B="unknown")=>{a&&(l(!1),r==null||r(B))},[l,r,a]),y=D.useCallback((B="unknown")=>{a?v(B):g(B)},[v,g,a]),w=D.useCallback(()=>{const B=document.querySelector(`#${u.current} [data-combobox-selected]`);B==null||B.removeAttribute("data-combobox-selected"),B==null||B.removeAttribute("aria-selected")},[]),E=D.useCallback(B=>{const V=document.getElementById(u.current),G=V==null?void 0:V.querySelectorAll("[data-combobox-option]");if(!G)return null;const Y=B>=G.length?0:B<0?G.length-1:B;return c.current=Y,G!=null&&G[Y]&&!G[Y].hasAttribute("data-combobox-disabled")?(w(),G[Y].setAttribute("data-combobox-selected","true"),G[Y].setAttribute("aria-selected","true"),G[Y].scrollIntoView({block:"nearest",behavior:o}),G[Y].id):null},[o,w]),C=D.useCallback(()=>{const B=document.querySelector(`#${u.current} [data-combobox-active]`);if(B){const V=document.querySelectorAll(`#${u.current} [data-combobox-option]`),G=Array.from(V).findIndex(Y=>Y===B);return E(G)}return E(0)},[E]),S=D.useCallback(()=>E(bze(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[E,s]),T=D.useCallback(()=>E(vze(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[E,s]),k=D.useCallback(()=>E(wze(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[E]),I=D.useCallback((B="selected",V)=>{m.current=window.setTimeout(()=>{var z;const G=document.querySelectorAll(`#${u.current} [data-combobox-option]`),Y=Array.from(G).findIndex(F=>F.hasAttribute(`data-combobox-${B}`));c.current=Y,V!=null&&V.scrollIntoView&&((z=G[Y])==null||z.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),R=D.useCallback(()=>{c.current=-1,w()},[w]),O=D.useCallback(()=>{const B=document.querySelectorAll(`#${u.current} [data-combobox-option]`),V=B==null?void 0:B[c.current];V==null||V.click()},[]),M=D.useCallback(B=>{u.current=B},[]),$=D.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),L=D.useCallback(()=>{p.current=window.setTimeout(()=>f.current.focus(),0)},[]),U=D.useCallback(()=>c.current,[]);return D.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(p.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:v,toggleDropdown:y,selectedOptionIndex:c.current,getSelectedOptionIndex:U,selectOption:E,selectFirstOption:k,selectActiveOption:C,selectNextOption:S,selectPreviousOption:T,resetSelectedOption:R,updateSelectedOptionIndex:I,listId:u.current,setListId:M,clickSelectedOption:O,searchRef:d,focusSearchInput:$,targetRef:f,focusTarget:L}}const xze={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},_ze=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Yi(t),"--combobox-option-padding":gn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Be(n),"--combobox-option-fz":Yi(t),"--combobox-option-padding":gn(t,"combobox-option-padding")}});function Un(e){const t=Oe("Combobox",xze,e),{classNames:n,styles:r,unstyled:i,children:s,store:o,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:p,...m}=t,g=WN(),v=o||g,y=kt({name:h||"Combobox",classes:Ml,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:_ze}),w=()=>{u==null||u(),v.closeDropdown()};return x.jsx(oze,{value:{getStyles:y,store:v,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:f,readOnly:p},children:x.jsx(Li,{opened:v.dropdownOpened,...m,onChange:E=>!E&&w(),withRoles:!1,unstyled:i,children:s})})}const Eze=e=>e;Un.extend=Eze;Un.classes=Ml;Un.displayName="@mantine/core/Combobox";Un.Target=Y1e;Un.Dropdown=xW;Un.Options=AW;Un.Option=kW;Un.Search=IW;Un.Empty=_W;Un.Chevron=VN;Un.Footer=CW;Un.Header=TW;Un.EventsTarget=W1e;Un.DropdownTarget=V1e;Un.Group=SW;Un.ClearButton=H1e;Un.HiddenInput=G1e;var K1e={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const X1e=K1e,GN=D.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:s,children:o,label:a,description:l,id:u,disabled:c,error:d,size:f,labelPosition:h="left",bodyElement:p="div",labelElement:m="label",variant:g,style:v,vars:y,mod:w,...E},C)=>{const S=kt({name:e,props:t,className:n,style:v,classes:K1e,classNames:r,styles:i,unstyled:s});return x.jsx(_e,{...S("root"),ref:C,__vars:{"--label-fz":Yi(f),"--label-lh":gn(f,"label-lh")},mod:[{"label-position":h},w],variant:g,size:f,...E,children:x.jsxs(_e,{component:p,htmlFor:p==="label"?u:void 0,...S("body"),children:[o,x.jsxs("div",{...S("labelWrapper"),"data-disabled":c||void 0,children:[a&&x.jsx(_e,{component:m,htmlFor:m==="label"?u:void 0,...S("label"),"data-disabled":c||void 0,children:a}),l&&x.jsx($r.Description,{size:f,__inheritStyles:!1,...S("description"),children:l}),d&&typeof d!="boolean"&&x.jsx($r.Error,{size:f,__inheritStyles:!1,...S("error"),children:d})]})]})})});GN.displayName="@mantine/core/InlineInput";const Q1e=D.createContext(null),Cze=Q1e.Provider,J1e=()=>D.useContext(Q1e),[Sze,Tze]=hm();var Z1e={card:"m_26775b0a"};const kze={withBorder:!0},Aze=(e,{radius:t})=>({card:{"--card-radius":vr(t)}}),RW=We((e,t)=>{const n=Oe("CheckboxCard",kze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,defaultChecked:p,onChange:m,...g}=n,v=kt({name:"CheckboxCard",classes:Z1e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Aze,rootSelector:"card"}),y=J1e(),w=typeof u=="boolean"?u:y?y.value.includes(f||""):void 0,[E,C]=ji({value:w,defaultValue:p,finalValue:!1,onChange:m});return x.jsx(Sze,{value:{checked:E},children:x.jsx(ss,{ref:t,mod:[{"with-border":d,checked:E},c],...v("card"),...g,role:"checkbox","aria-checked":E,onClick:S=>{h==null||h(S),y==null||y.onChange(f||""),C(!E)}})})});RW.displayName="@mantine/core/CheckboxCard";RW.classes=Z1e;function DW({children:e,role:t}){const n=T_();return n?x.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):x.jsx(x.Fragment,{children:e})}const Ize={},PW=We((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:l,...u}=Oe("CheckboxGroup",Ize,e),[c,d]=ji({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=typeof h=="string"?h:h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return x.jsx(Cze,{value:{value:c,onChange:f,size:s},children:x.jsx($r.Wrapper,{size:s,ref:t,...o,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:x.jsx(DW,{role:"group",children:a})})})});PW.classes=$r.Wrapper.classes;PW.displayName="@mantine/core/CheckboxGroup";function ebe({size:e,style:t,...n}){const r=e!==void 0?{width:Be(e),height:Be(e),...t}:t;return x.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:x.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function tbe({indeterminate:e,...t}){return e?x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:x.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):x.jsx(ebe,{...t})}var nbe={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const Rze={icon:tbe},Dze=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=jd({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":gn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:vr(t),"--checkbox-color":s==="outline"?l:Sr(n,e),"--checkbox-icon-color":i?Sr(i,e):Eg(o,e)?mm({color:n,theme:e,autoContrast:o}):void 0}}},OW=We((e,t)=>{const n=Oe("CheckboxIndicator",Rze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,icon:u,indeterminate:c,radius:d,color:f,iconColor:h,autoContrast:p,checked:m,mod:g,variant:v,disabled:y,...w}=n,E=u,C=kt({name:"CheckboxIndicator",classes:nbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Dze,rootSelector:"indicator"}),S=Tze(),T=typeof m=="boolean"||typeof c=="boolean"?m||c:(S==null?void 0:S.checked)||!1;return x.jsx(_e,{ref:t,...C("indicator",{variant:v}),variant:v,mod:[{checked:T,disabled:y},g],...w,children:x.jsx(E,{indeterminate:c,...C("icon")})})});OW.displayName="@mantine/core/CheckboxIndicator";OW.classes=nbe;var rbe={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const Pze={labelPosition:"right",icon:tbe},Oze=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=jd({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":gn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:vr(t),"--checkbox-color":s==="outline"?l:Sr(n,e),"--checkbox-icon-color":i?Sr(i,e):Eg(o,e)?mm({color:n,theme:e,autoContrast:o}):void 0}}},Fo=We((e,t)=>{const n=Oe("Checkbox",Pze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,label:c,id:d,size:f,radius:h,wrapperProps:p,checked:m,labelPosition:g,description:v,error:y,disabled:w,variant:E,indeterminate:C,icon:S,rootRef:T,iconColor:k,onChange:I,autoContrast:R,mod:O,...M}=n,$=J1e(),L=f||($==null?void 0:$.size),U=S,B=kt({name:"Checkbox",props:n,classes:rbe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Oze}),{styleProps:V,rest:G}=E1(M),Y=xa(d),z=$?{checked:$.value.includes(G.value),onChange:q=>{$.onChange(q),I==null||I(q)}}:{},F=D.useRef(null),W=t||F;return D.useEffect(()=>{W&&"current"in W&&W.current&&(W.current.indeterminate=C||!1)},[C,W]),x.jsx(GN,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:Y,size:L,labelPosition:g,label:c,description:v,error:y,disabled:w,classNames:r,styles:o,unstyled:a,"data-checked":z.checked||m||void 0,variant:E,ref:T,mod:O,...V,...p,children:x.jsxs(_e,{...B("inner"),mod:{"data-label-position":g},children:[x.jsx(_e,{component:"input",id:Y,ref:W,checked:m,disabled:w,mod:{error:!!y,indeterminate:C},...B("input",{focusable:!0,variant:E}),onChange:I,...G,...z,type:"checkbox"}),x.jsx(U,{indeterminate:C,...B("icon")})]})})});Fo.classes={...rbe,...X1e};Fo.displayName="@mantine/core/Checkbox";Fo.Group=PW;Fo.Indicator=OW;Fo.Card=RW;function Tx(e){return"group"in e}function ibe({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let s=0;s<e.length;s+=1){const o=e[s];if(i.length===n)return i;Tx(o)&&i.push({group:o.group,items:ibe({options:o.items,search:t,limit:n-i.length})}),Tx(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function Nze(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function sbe(e,t=new Set){if(Array.isArray(e))for(const n of e)if(Tx(n))sbe(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function $ze(e,t){return Array.isArray(e)?e.includes(t):e===t}function obe({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:s}){if(!Tx(e)){const a=$ze(n,e.value),l=t&&a&&x.jsx(ebe,{className:Ml.optionsDropdownCheckIcon}),u=x.jsxs(x.Fragment,{children:[r==="left"&&l,x.jsx("span",{children:e.label}),r==="right"&&l]});return x.jsx(Un.Option,{value:e.value,disabled:e.disabled,className:Dt({[Ml.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:e,checked:a}):u})}const o=e.items.map(a=>x.jsx(obe,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:s},a.value));return x.jsx(Un.Group,{label:e.group,children:o})}function NW({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:s,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:p,renderOption:m,scrollAreaProps:g,"aria-label":v}){sbe(e);const w=typeof i=="string"?(r||ibe)({options:e,search:l?i:"",limit:s??1/0}):e,E=Nze(w),C=w.map(S=>x.jsx(obe,{data:S,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h,renderOption:m},Tx(S)?S.group:S.value));return x.jsx(Un.Dropdown,{hidden:t||n&&E,"data-composed":!0,children:x.jsxs(Un.Options,{labelledBy:p,"aria-label":v,children:[a?x.jsx(Id.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:C}):C,E&&f&&x.jsx(Un.Empty,{children:f})]})})}const Mze={},$W=We((e,t)=>{const n=Oe("Autocomplete",Mze,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:v,selectFirstOptionOnChange:y,onOptionSubmit:w,comboboxProps:E,readOnly:C,disabled:S,filter:T,limit:k,withScrollArea:I,maxDropdownHeight:R,size:O,id:M,renderOption:$,autoComplete:L,scrollAreaProps:U,onClear:B,clearButtonProps:V,error:G,clearable:Y,rightSection:z,...F}=n,W=xa(M),q=qN(m),K=HN(q),[J,te]=ji({value:g,defaultValue:v,finalValue:"",onChange:p}),le=WN({opened:a,defaultOpened:l,onDropdownOpen:c,onDropdownClose:()=>{u==null||u(),le.resetSelectedOption()}}),oe=ne=>{te(ne),le.resetSelectedOption()},{resolvedClassNames:ie,resolvedStyles:he}=Eh({props:n,styles:i,classNames:r});D.useEffect(()=>{y&&le.selectFirstOption()},[y,J]);const ee=x.jsx(Un.ClearButton,{...V,onClear:()=>{oe(""),B==null||B()}});return x.jsxs(Un,{store:le,__staticSelector:"Autocomplete",classNames:ie,styles:he,unstyled:s,readOnly:C,onOptionSubmit:ne=>{w==null||w(ne),oe(K[ne].label),le.closeDropdown()},size:O,...E,children:[x.jsx(Un.Target,{autoComplete:L,children:x.jsx(_a,{ref:t,...F,size:O,__staticSelector:"Autocomplete",__clearSection:ee,__clearable:Y&&!!J&&!S&&!C,rightSection:z,disabled:S,readOnly:C,value:J,error:G,onChange:ne=>{oe(ne.currentTarget.value),le.openDropdown(),y&&le.selectFirstOption()},onFocus:ne=>{le.openDropdown(),d==null||d(ne)},onBlur:ne=>{le.closeDropdown(),f==null||f(ne)},onClick:ne=>{le.openDropdown(),h==null||h(ne)},classNames:ie,styles:he,unstyled:s,id:W})}),x.jsx(NW,{data:q,hidden:C||S,filter:T,search:J,limit:k,hiddenWhenEmpty:!0,withScrollArea:I,maxDropdownHeight:R,unstyled:s,labelId:F.label?`${W}-label`:void 0,"aria-label":F.label?void 0:F["aria-label"],renderOption:$,scrollAreaProps:U})]})});$W.classes={..._a.classes,...Un.classes};$W.displayName="@mantine/core/Autocomplete";var abe={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const Fze={},Lze=(e,{radius:t,color:n,gradient:r,variant:i,size:s,autoContrast:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{root:{"--badge-height":gn(s,"badge-height"),"--badge-padding-x":gn(s,"badge-padding-x"),"--badge-fz":gn(s,"badge-fz"),"--badge-radius":t===void 0?void 0:vr(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?Sr(n,e):void 0}}},lu=ds((e,t)=>{const n=Oe("Badge",Fze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,radius:u,color:c,gradient:d,leftSection:f,rightSection:h,children:p,variant:m,fullWidth:g,autoContrast:v,circle:y,mod:w,...E}=n,C=kt({name:"Badge",props:n,classes:abe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Lze});return x.jsxs(_e,{variant:m,mod:[{block:g,circle:y,"with-right-section":!!h,"with-left-section":!!f},w],...C("root",{variant:m}),ref:t,...E,children:[f&&x.jsx("span",{...C("section"),"data-position":"left",children:f}),x.jsx("span",{...C("label"),children:p}),h&&x.jsx("span",{...C("section"),"data-position":"right",children:h})]})});lu.classes=abe;lu.displayName="@mantine/core/Badge";var lbe={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const jze={},Bze=(e,{color:t,size:n,lineSize:r,transitionDuration:i,transitionTimingFunction:s})=>({root:{"--burger-color":t?Sr(t,e):void 0,"--burger-size":gn(n,"burger-size"),"--burger-line-size":r?Be(r):void 0,"--burger-transition-duration":i===void 0?void 0:`${i}ms`,"--burger-transition-timing-function":s}}),MW=We((e,t)=>{const n=Oe("Burger",jze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,opened:u,children:c,transitionDuration:d,transitionTimingFunction:f,lineSize:h,...p}=n,m=kt({name:"Burger",classes:lbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Bze});return x.jsxs(ss,{...m("root"),ref:t,...p,children:[x.jsx(_e,{mod:["reduce-motion",{opened:u}],...m("burger")}),c]})});MW.classes=lbe;MW.displayName="@mantine/core/Burger";var A_={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const qie={orientation:"horizontal"},zze=(e,{borderWidth:t})=>({group:{"--button-border-width":Be(t)}}),FW=We((e,t)=>{const n=Oe("ButtonGroup",qie,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=Oe("ButtonGroup",qie,e),p=kt({name:"ButtonGroup",props:n,classes:A_,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:zze,rootSelector:"group"});return x.jsx(_e,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});FW.classes=A_;FW.displayName="@mantine/core/ButtonGroup";const Hie={},Uze=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:s,size:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{groupSection:{"--section-height":gn(o,"section-height"),"--section-padding-x":gn(o,"section-padding-x"),"--section-fz":o!=null&&o.includes("compact")?Yi(o.replace("compact-","")):Yi(o),"--section-radius":t===void 0?void 0:vr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},LW=We((e,t)=>{const n=Oe("ButtonGroupSection",Hie,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=Oe("ButtonGroupSection",Hie,e),p=kt({name:"ButtonGroupSection",props:n,classes:A_,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:Uze,rootSelector:"groupSection"});return x.jsx(_e,{...p("groupSection"),ref:t,variant:u,...h})});LW.classes=A_;LW.displayName="@mantine/core/ButtonGroupSection";const qze={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Be(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Hze={},Vze=(e,{radius:t,color:n,gradient:r,variant:i,size:s,justify:o,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":gn(s,"button-height"),"--button-padding-x":gn(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Yi(s.replace("compact-","")):Yi(s),"--button-radius":t===void 0?void 0:vr(t),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},Wt=ds((e,t)=>{const n=Oe("Button",Hze,e),{style:r,vars:i,className:s,color:o,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:m,gradient:g,classNames:v,styles:y,unstyled:w,"data-disabled":E,autoContrast:C,mod:S,...T}=n,k=kt({name:"Button",props:n,classes:A_,className:s,style:r,classNames:v,styles:y,unstyled:w,vars:i,varsResolver:Vze}),I=!!u,R=!!c;return x.jsxs(ss,{ref:t,...k("root",{active:!a&&!p&&!E}),unstyled:w,variant:f,disabled:a||p,mod:[{disabled:a||E,loading:p,block:d,"with-left-section":I,"with-right-section":R},S],...T,children:[x.jsx(mc,{mounted:!!p,transition:qze,duration:150,children:O=>x.jsx(_e,{component:"span",...k("loader",{style:O}),"aria-hidden":!0,children:x.jsx(Bd,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),x.jsxs("span",{...k("inner"),children:[u&&x.jsx(_e,{component:"span",...k("section"),mod:{position:"left"},children:u}),x.jsx(_e,{component:"span",mod:{loading:p},...k("label"),children:l}),c&&x.jsx(_e,{component:"span",...k("section"),mod:{position:"right"},children:c})]})]})});Wt.classes=A_;Wt.displayName="@mantine/core/Button";Wt.Group=FW;Wt.GroupSection=LW;const[Wze,Gze]=xs("Card component was not found in tree");var jW={root:"m_e615b15f",section:"m_599a2148"};const Yze={},YN=ds((e,t)=>{const n=Oe("CardSection",Yze,e),{classNames:r,className:i,style:s,styles:o,vars:a,withBorder:l,inheritPadding:u,mod:c,...d}=n,f=Gze();return x.jsx(_e,{ref:t,mod:[{"with-border":l,"inherit-padding":u},c],...f.getStyles("section",{className:i,style:s,styles:o,classNames:r}),...d})});YN.classes=jW;YN.displayName="@mantine/core/CardSection";const Kze={},Xze=(e,{padding:t})=>({root:{"--card-padding":wi(t)}}),Tg=ds((e,t)=>{const n=Oe("Card",Kze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,padding:c,...d}=n,f=kt({name:"Card",props:n,classes:jW,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Xze}),h=D.Children.toArray(u),p=h.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===YN?D.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):m);return x.jsx(Wze,{value:{getStyles:f},children:x.jsx(Sh,{ref:t,unstyled:a,...f("root"),...d,children:p})})});Tg.classes=jW;Tg.displayName="@mantine/core/Card";Tg.Section=YN;var ube={root:"m_4451eb3a"};const Qze={},Ga=ds((e,t)=>{const n=Oe("Center",Qze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,inline:u,mod:c,...d}=n,f=kt({name:"Center",props:n,classes:ube,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l});return x.jsx(_e,{ref:t,mod:[{inline:u},c],...f("root"),...d})});Ga.classes=ube;Ga.displayName="@mantine/core/Center";var cbe={root:"m_b183c0a2"};const Jze={},Zze=(e,{color:t})=>({root:{"--code-bg":t?Sr(t,e):void 0}}),Lf=We((e,t)=>{const n=Oe("Code",Jze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,block:c,variant:d,mod:f,...h}=n,p=kt({name:"Code",props:n,classes:cbe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Zze});return x.jsx(_e,{component:c?"pre":"code",variant:d,ref:t,mod:[{block:c},f],...p("root"),...h,dir:"ltr"})});Lf.classes=cbe;Lf.displayName="@mantine/core/Code";var dbe={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const Vie={withShadow:!0},eUe=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:vr(t),"--cs-size":Be(n)}}),KN=ds((e,t)=>{const n=Oe("ColorSwatch",Vie,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,size:c,radius:d,withShadow:f,children:h,variant:p,...m}=Oe("ColorSwatch",Vie,n),g=kt({name:"ColorSwatch",props:n,classes:dbe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:eUe});return x.jsxs(_e,{ref:t,variant:p,size:c,...g("root",{focusable:!0}),...m,children:[x.jsx("span",{...g("alphaOverlay")}),f&&x.jsx("span",{...g("shadowOverlay")}),x.jsx("span",{...g("colorOverlay",{style:{backgroundColor:u}})}),x.jsx("span",{...g("childrenOverlay"),children:h})]})});KN.classes=dbe;KN.displayName="@mantine/core/ColorSwatch";var fbe={root:"m_7485cace"};const tUe={},nUe=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:gn(t,"container-size")}}),kg=We((e,t)=>{const n=Oe("Container",tUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,f=kt({name:"Container",classes:fbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:nUe});return x.jsx(_e,{ref:t,mod:[{fluid:u},c],...f("root"),...d})});kg.classes=fbe;kg.displayName="@mantine/core/Container";const rUe={timeout:1e3};function hbe(e){const{children:t,timeout:n,value:r,...i}=Oe("CopyButton",rUe,e),s=XFe({timeout:n}),o=()=>s.copy(r);return x.jsx(x.Fragment,{children:t({copy:o,copied:s.copied,...i})})}hbe.displayName="@mantine/core/CopyButton";var pbe={root:"m_3eebeb36",label:"m_9e365f20"};const iUe={orientation:"horizontal"},sUe=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?Sr(t,e):void 0,"--divider-border-style":n,"--divider-size":gn(r,"divider-size")}}),I_=We((e,t)=>{const n=Oe("Divider",iUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,orientation:c,label:d,labelPosition:f,mod:h,...p}=n,m=kt({name:"Divider",classes:pbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:sUe});return x.jsx(_e,{ref:t,mod:[{orientation:c,"with-label":!!d},h],...m("root"),...p,role:"separator",children:d&&x.jsx(_e,{component:"span",mod:{position:f},...m("label"),children:d})})});I_.classes=pbe;I_.displayName="@mantine/core/Divider";const[oUe,R_]=xs("Drawer component was not found in tree");var vm={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const aUe={},XN=We((e,t)=>{const n=Oe("DrawerBody",aUe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=R_();return x.jsx(nW,{ref:t,...u.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...l})});XN.classes=vm;XN.displayName="@mantine/core/DrawerBody";const lUe={},QN=We((e,t)=>{const n=Oe("DrawerCloseButton",lUe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=R_();return x.jsx(rW,{ref:t,...u.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...l})});QN.classes=vm;QN.displayName="@mantine/core/DrawerCloseButton";const uUe={},JN=We((e,t)=>{const n=Oe("DrawerContent",uUe,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:l,radius:u,__hidden:c,...d}=n,f=R_(),h=f.scrollAreaComponent||N1e;return x.jsx(iW,{...f.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:f.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),ref:t,...d,radius:u||f.radius||0,"data-hidden":c||void 0,children:x.jsx(h,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:l})})});JN.classes=vm;JN.displayName="@mantine/core/DrawerContent";const cUe={},ZN=We((e,t)=>{const n=Oe("DrawerHeader",cUe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=R_();return x.jsx(sW,{ref:t,...u.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...l})});ZN.classes=vm;ZN.displayName="@mantine/core/DrawerHeader";const dUe={},e$=We((e,t)=>{const n=Oe("DrawerOverlay",dUe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=R_();return x.jsx(oW,{ref:t,...u.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...l})});e$.classes=vm;e$.displayName="@mantine/core/DrawerOverlay";function fUe(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function hUe(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const pUe={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},mUe={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},gUe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:go("modal"),position:"left"},yUe=(e,{position:t,size:n,offset:r})=>({root:{"--drawer-size":gn(n,"drawer-size"),"--drawer-flex":hUe(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":fUe(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":Be(r)}}),t$=We((e,t)=>{const n=Oe("DrawerRoot",gUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,scrollAreaComponent:u,position:c,transitionProps:d,radius:f,...h}=n,{dir:p}=tl(),m=kt({name:"Drawer",classes:vm,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:yUe}),g=(p==="rtl"?mUe:pUe)[c];return x.jsx(oUe,{value:{scrollAreaComponent:u,getStyles:m,radius:f},children:x.jsx(tW,{ref:t,...m("root"),transitionProps:{transition:g,...d},"data-offset-scrollbars":u===Id.Autosize||void 0,unstyled:a,...h})})});t$.classes=vm;t$.displayName="@mantine/core/DrawerRoot";const[vUe,bUe]=hm();function mbe({children:e}){const[t,n]=D.useState([]),[r,i]=D.useState(go("modal"));return x.jsx(vUe,{value:{stack:t,addModal:(s,o)=>{n(a=>[...new Set([...a,s])]),i(a=>typeof o=="number"&&typeof a=="number"?Math.max(a,o):a)},removeModal:s=>n(o=>o.filter(a=>a!==s)),getZIndex:s=>`calc(${r} + ${t.indexOf(s)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}mbe.displayName="@mantine/core/DrawerStack";const wUe={},n$=We((e,t)=>{const n=Oe("DrawerTitle",wUe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=R_();return x.jsx(aW,{ref:t,...u.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...l})});n$.classes=vm;n$.displayName="@mantine/core/DrawerTitle";const xUe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:go("modal"),withOverlay:!0,withCloseButton:!0},zd=We((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,opened:l,stackId:u,zIndex:c,...d}=Oe("Drawer",xUe,e),f=bUe(),h=!!n||s,p=f&&u?{closeOnEscape:f.currentId===u,trapFocus:f.currentId===u,zIndex:f.getZIndex(u)}:{},m=r===!1?!1:u&&f?f.currentId===u:l;return D.useEffect(()=>{f&&u&&(l?f.addModal(u,c||go("modal")):f.removeModal(u))},[l,u,c]),x.jsxs(t$,{ref:t,opened:l,zIndex:f&&u?f.getZIndex(u):c,...d,...p,children:[r&&x.jsx(e$,{visible:m,transitionProps:f&&u?{duration:0}:void 0,...i}),x.jsxs(JN,{__hidden:f&&u&&l?u!==f.currentId:!1,children:[h&&x.jsxs(ZN,{children:[n&&x.jsx(n$,{children:n}),s&&x.jsx(QN,{...o})]}),x.jsx(XN,{children:a})]})]})});zd.classes=vm;zd.displayName="@mantine/core/Drawer";zd.Root=t$;zd.Overlay=e$;zd.Content=JN;zd.Body=XN;zd.Header=ZN;zd.Title=n$;zd.CloseButton=QN;zd.Stack=mbe;function gbe({open:e,close:t,openDelay:n,closeDelay:r}){const i=D.useRef(-1),s=D.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},l=()=>{o(),r===0||r===void 0?t():s.current=window.setTimeout(t,r)};return D.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:l}}const[Wie,ybe]=xs("Grid component was not found in tree"),Q7=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,Gie=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":Q7(e,t),Yie=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},Kie=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function _Ue({span:e,order:t,offset:n,selector:r}){var h;const i=Xi(),s=ybe(),o=s.breakpoints||i.breakpoints,l=od(e)===void 0?12:od(e),u=_g({"--col-order":(h=od(t))==null?void 0:h.toString(),"--col-flex-grow":Yie(l,s.grow),"--col-flex-basis":Q7(l,s.columns),"--col-width":l==="content"?"auto":void 0,"--col-max-width":Gie(l,s.columns,s.grow),"--col-offset":Kie(od(n),s.columns)}),c=si(o).reduce((p,m)=>{var g;return p[m]||(p[m]={}),typeof t=="object"&&t[m]!==void 0&&(p[m]["--col-order"]=(g=t[m])==null?void 0:g.toString()),typeof e=="object"&&e[m]!==void 0&&(p[m]["--col-flex-grow"]=Yie(e[m],s.grow),p[m]["--col-flex-basis"]=Q7(e[m],s.columns),p[m]["--col-width"]=e[m]==="content"?"auto":void 0,p[m]["--col-max-width"]=Gie(e[m],s.columns,s.grow)),typeof n=="object"&&n[m]!==void 0&&(p[m]["--col-offset"]=Kie(n[m],s.columns)),p},{}),f=S2(si(c),o).filter(p=>si(c[p.value]).length>0).map(p=>({query:s.type==="container"?`mantine-grid (min-width: ${o[p.value]})`:`(min-width: ${o[p.value]})`,styles:c[p.value]}));return x.jsx(_1,{styles:u,media:s.type==="container"?void 0:f,container:s.type==="container"?f:void 0,selector:r})}var BW={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const EUe={span:12},zW=We((e,t)=>{const n=Oe("GridCol",EUe,e),{classNames:r,className:i,style:s,styles:o,vars:a,span:l,order:u,offset:c,...d}=n,f=ybe(),h=FT();return x.jsxs(x.Fragment,{children:[x.jsx(_Ue,{selector:`.${h}`,span:l,order:u,offset:c}),x.jsx(_e,{ref:t,...f.getStyles("col",{className:Dt(i,h),style:s,classNames:r,styles:o}),...d})]})});zW.classes=BW;zW.displayName="@mantine/core/GridCol";function Xie({gutter:e,selector:t,breakpoints:n,type:r}){const i=Xi(),s=n||i.breakpoints,o=_g({"--grid-gutter":wi(od(e))}),a=si(s).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--grid-gutter"]=wi(e[d])),c),{}),u=S2(si(a),s).filter(c=>si(a[c.value]).length>0).map(c=>({query:r==="container"?`mantine-grid (min-width: ${s[c.value]})`:`(min-width: ${s[c.value]})`,styles:a[c.value]}));return x.jsx(_1,{styles:o,media:r==="container"?void 0:u,container:r==="container"?u:void 0,selector:t})}const CUe={gutter:"md",grow:!1,columns:12},SUe=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),js=We((e,t)=>{const n=Oe("Grid",CUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,grow:u,gutter:c,columns:d,align:f,justify:h,children:p,breakpoints:m,type:g,...v}=n,y=kt({name:"Grid",classes:BW,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:SUe}),w=FT();return g==="container"&&m?x.jsxs(Wie,{value:{getStyles:y,grow:u,columns:d||12,breakpoints:m,type:g},children:[x.jsx(Xie,{selector:`.${w}`,...n}),x.jsx("div",{...y("container"),children:x.jsx(_e,{ref:t,...y("root",{className:w}),...v,children:x.jsx("div",{...y("inner"),children:p})})})]}):x.jsxs(Wie,{value:{getStyles:y,grow:u,columns:d||12,breakpoints:m,type:g},children:[x.jsx(Xie,{selector:`.${w}`,...n}),x.jsx(_e,{ref:t,...y("root",{className:w}),...v,children:x.jsx("div",{...y("inner"),children:p})})]})});js.classes=BW;js.displayName="@mantine/core/Grid";js.Col=zW;function Qie({color:e,theme:t,defaultShade:n}){const r=jd({color:e,theme:t});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:e}var vbe={root:"m_bcb3f3c2"};const TUe={color:"yellow"},kUe=(e,{color:t})=>({root:{"--mark-bg-dark":Qie({color:t,theme:e,defaultShade:5}),"--mark-bg-light":Qie({color:t,theme:e,defaultShade:2})}}),UW=We((e,t)=>{const n=Oe("Mark",TUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,variant:c,...d}=n,f=kt({name:"Mark",props:n,className:i,style:s,classes:vbe,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:kUe});return x.jsx(_e,{component:"mark",ref:t,variant:c,...f("root"),...d})});UW.classes=vbe;UW.displayName="@mantine/core/Mark";function Jie(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function AUe(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(Jie):Jie(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).sort((a,l)=>l.length-a.length).join("|"),s=new RegExp(`(${i})`,"gi");return e.split(s).map(a=>({chunk:a,highlighted:s.test(a)})).filter(({chunk:a})=>a)}const IUe={},qW=ds((e,t)=>{const{unstyled:n,children:r,highlight:i,highlightStyles:s,color:o,...a}=Oe("Highlight",IUe,e),l=AUe(r,i);return x.jsx(Ue,{unstyled:n,ref:t,...a,__staticSelector:"Highlight",children:l.map(({chunk:u,highlighted:c},d)=>c?x.jsx(UW,{unstyled:n,color:o,style:s,"data-highlight":u,children:u},d):x.jsx("span",{children:u},d))})});qW.classes=Ue.classes;qW.displayName="@mantine/core/Highlight";const[RUe,bbe]=xs("HoverCard component was not found in the tree"),DUe={};function wbe(e){const{children:t,onMouseEnter:n,onMouseLeave:r,...i}=Oe("HoverCardDropdown",DUe,e),s=bbe(),o=oo(n,s.openDropdown),a=oo(r,s.closeDropdown);return x.jsx(Li.Dropdown,{onMouseEnter:o,onMouseLeave:a,...i,children:t})}wbe.displayName="@mantine/core/HoverCardDropdown";const PUe={refProp:"ref"},xbe=D.forwardRef((e,t)=>{const{children:n,refProp:r,eventPropsWrapperName:i,...s}=Oe("HoverCardTarget",PUe,e);if(!fm(n))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=bbe(),a=oo(n.props.onMouseEnter,o.openDropdown),l=oo(n.props.onMouseLeave,o.closeDropdown),u={onMouseEnter:a,onMouseLeave:l};return x.jsx(Li.Target,{refProp:r,ref:t,...s,children:D.cloneElement(n,i?{[i]:u}:u)})});xbe.displayName="@mantine/core/HoverCardTarget";const OUe={openDelay:0,closeDelay:150,initiallyOpened:!1};function wv(e){const{children:t,onOpen:n,onClose:r,openDelay:i,closeDelay:s,initiallyOpened:o,...a}=Oe("HoverCard",OUe,e),[l,{open:u,close:c}]=IV(o,{onClose:r,onOpen:n}),{openDropdown:d,closeDropdown:f}=gbe({open:u,close:c,openDelay:i,closeDelay:s});return x.jsx(RUe,{value:{openDropdown:d,closeDropdown:f},children:x.jsx(Li,{...a,opened:l,__staticSelector:"HoverCard",children:t})})}wv.displayName="@mantine/core/HoverCard";wv.Target=xbe;wv.Dropdown=wbe;wv.extend=e=>e;var _be={root:"m_9e117634"};const NUe={},$Ue=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:vr(t),"--image-object-fit":n}}),Th=ds((e,t)=>{const n=Oe("Image",NUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,onError:u,src:c,radius:d,fit:f,fallbackSrc:h,mod:p,...m}=n,[g,v]=D.useState(!c);D.useEffect(()=>v(!c),[c]);const y=kt({name:"Image",classes:_be,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:$Ue});return g&&h?x.jsx(_e,{component:"img",ref:t,src:h,...y("root"),onError:u,mod:["fallback",p],...m}):x.jsx(_e,{component:"img",ref:t,...y("root"),src:c,onError:w=>{u==null||u(w),v(!0)},mod:p,...m})});Th.classes=_be;Th.displayName="@mantine/core/Image";function MUe(e="top-end",t=0){const n={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},r=Be(t),[i,s]=e.split("-");return i==="top"&&(n["--indicator-top"]=r,n["--indicator-translate-y"]="-50%"),i==="middle"&&(n["--indicator-top"]="50%",n["--indicator-translate-y"]="-50%"),i==="bottom"&&(n["--indicator-bottom"]=r,n["--indicator-translate-y"]="50%"),s==="start"&&(n["--indicator-left"]=r,n["--indicator-translate-x"]="-50%"),s==="center"&&(n["--indicator-left"]="50%",n["--indicator-translate-x"]="-50%"),s==="end"&&(n["--indicator-right"]=r,n["--indicator-translate-x"]="50%"),n}var Ebe={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const FUe={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},LUe=(e,{color:t,position:n,offset:r,size:i,radius:s,zIndex:o,autoContrast:a})=>({root:{"--indicator-color":t?Sr(t,e):void 0,"--indicator-text-color":Eg(a,e)?mm({color:t,theme:e,autoContrast:a}):void 0,"--indicator-size":Be(i),"--indicator-radius":s===void 0?void 0:vr(s),"--indicator-z-index":o==null?void 0:o.toString(),...MUe(n,r)}}),HW=We((e,t)=>{const n=Oe("Indicator",FUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,position:c,offset:d,inline:f,label:h,radius:p,color:m,withBorder:g,disabled:v,processing:y,zIndex:w,autoContrast:E,mod:C,...S}=n,T=kt({name:"Indicator",classes:Ebe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:LUe});return x.jsxs(_e,{ref:t,...T("root"),mod:[{inline:f},C],...S,children:[!v&&x.jsx(_e,{mod:{"with-label":!!h,"with-border":g,processing:y},...T("indicator"),children:h}),u]})});HW.classes=Ebe;HW.displayName="@mantine/core/Indicator";function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HP.apply(null,arguments)}function VW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jUe=D.useLayoutEffect,BUe=function(t){var n=sr.useRef(t);return jUe(function(){n.current=t}),n},Zie=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},zUe=function(t,n){var r=sr.useRef();return sr.useCallback(function(i){t.current=i,r.current&&Zie(r.current,null),r.current=n,n&&Zie(n,i)},[n])},ese={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},UUe=function(t){Object.keys(ese).forEach(function(n){t.style.setProperty(n,ese[n],"important")})},tse=UUe,Da=null,nse=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function qUe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Da||(Da=document.createElement("textarea"),Da.setAttribute("tabindex","-1"),Da.setAttribute("aria-hidden","true"),tse(Da)),Da.parentNode===null&&document.body.appendChild(Da);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var h=f;Da.style[h]=o[h]}),tse(Da),Da.value=t;var l=nse(Da,e);Da.value=t,l=nse(Da,e),Da.value="x";var u=Da.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+s),l=Math.min(d,l),[l,u]}var rse=function(){},HUe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},VUe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],WUe=!!document.documentElement.currentStyle,GUe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=HUe(VUe,n),i=r.boxSizing;if(i==="")return null;WUe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},YUe=GUe;function WW(e,t,n){var r=BUe(n);D.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var KUe=function(t,n){WW(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},XUe=function(t){WW(window,"resize",t)},QUe=function(t){WW(document.fonts,"loadingdone",t)},JUe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ZUe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?rse:o,l=t.onHeightChange,u=l===void 0?rse:l,c=VW(t,JUe),d=c.value!==void 0,f=D.useRef(null),h=zUe(f,n),p=D.useRef(0),m=D.useRef(),g=function(){var w=f.current,E=r&&m.current?m.current:YUe(w);if(E){m.current=E;var C=qUe(E,w.value||w.placeholder||"x",s,i),S=C[0],T=C[1];p.current!==S&&(p.current=S,w.style.setProperty("height",S+"px","important"),u(S,{rowHeight:T}))}},v=function(w){d||g(),a(w)};return D.useLayoutEffect(g),KUe(f,function(){if(!d){var y=f.current.value;requestAnimationFrame(function(){var w=f.current;w&&y!==w.value&&g()})}}),XUe(g),QUe(g),D.createElement("textarea",HP({},c,{onChange:v,ref:h}))},eqe=D.forwardRef(ZUe);const tqe={},GW=We((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:s,resize:o,...a}=Oe("Textarea",tqe,e),l=n&&wLe()!=="test",u=l?{maxRows:r,minRows:i}:{};return x.jsx(_a,{component:l?eqe:"textarea",ref:t,...a,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...u})});GW.classes=_a.classes;GW.displayName="@mantine/core/Textarea";const[nqe,rqe]=xs("List component was not found in tree");var YW={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const iqe={},KW=We((e,t)=>{const n=Oe("ListItem",iqe,e),{classNames:r,className:i,style:s,styles:o,vars:a,icon:l,children:u,mod:c,...d}=n,f=rqe(),h=l||f.icon,p={classNames:r,styles:o};return x.jsx(_e,{...f.getStyles("item",{...p,className:i,style:s}),component:"li",mod:[{"with-icon":!!h,centered:f.center},c],ref:t,...d,children:x.jsxs("div",{...f.getStyles("itemWrapper",p),children:[h&&x.jsx("span",{...f.getStyles("itemIcon",p),children:h}),x.jsx("span",{...f.getStyles("itemLabel",p),children:u})]})})});KW.classes=YW;KW.displayName="@mantine/core/ListItem";const sqe={type:"unordered"},oqe=(e,{size:t,spacing:n})=>({root:{"--list-fz":Yi(t),"--list-lh":bve(t),"--list-spacing":wi(n)}}),gd=We((e,t)=>{const n=Oe("List",sqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,type:c,withPadding:d,icon:f,spacing:h,center:p,listStyleType:m,mod:g,...v}=n,y=kt({name:"List",classes:YW,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:oqe});return x.jsx(nqe,{value:{center:p,icon:f,getStyles:y},children:x.jsx(_e,{...y("root",{style:{listStyleType:m}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":d},g],ref:t,...v,children:u})})});gd.classes=YW;gd.displayName="@mantine/core/List";gd.Item=KW;var Cbe={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const ise={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:go("overlay")},aqe=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),rc=We((e,t)=>{const n=Oe("LoadingOverlay",ise,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,transitionProps:u,loaderProps:c,overlayProps:d,visible:f,zIndex:h,...p}=n,m=Xi(),g=kt({name:"LoadingOverlay",classes:Cbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:aqe}),v={...ise.overlayProps,...d};return x.jsx(mc,{transition:"fade",...u,mounted:!!f,children:y=>x.jsxs(_e,{...g("root",{style:y}),ref:t,...p,children:[x.jsx(Bd,{...g("loader"),unstyled:a,...c}),x.jsx(Ex,{...v,...g("overlay"),darkHidden:!0,unstyled:a,color:(d==null?void 0:d.color)||m.white}),x.jsx(Ex,{...v,...g("overlay"),lightHidden:!0,unstyled:a,color:(d==null?void 0:d.color)||m.colors.dark[5]})]})})});rc.classes=Cbe;rc.displayName="@mantine/core/LoadingOverlay";const[lqe,VT]=xs("Menu component was not found in the tree");var D_={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const uqe={},XW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Oe("MenuDivider",uqe,e),l=VT();return x.jsx(_e,{ref:t,...l.getStyles("divider",{className:r,style:i,styles:s,classNames:n}),...a})});XW.classes=D_;XW.displayName="@mantine/core/MenuDivider";const cqe={},QW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,onMouseEnter:a,onMouseLeave:l,onKeyDown:u,children:c,...d}=Oe("MenuDropdown",cqe,e),f=D.useRef(null),h=VT(),p=oo(u,v=>{var y,w;(v.key==="ArrowUp"||v.key==="ArrowDown")&&(v.preventDefault(),(w=(y=f.current)==null?void 0:y.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||w.focus())}),m=oo(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),g=oo(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return x.jsxs(Li.Dropdown,{...d,onMouseEnter:m,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:_s(t,f),...h.getStyles("dropdown",{className:r,style:i,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:p,children:[h.withInitialFocusPlaceholder&&x.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),c]})});QW.classes=D_;QW.displayName="@mantine/core/MenuDropdown";const dqe={},JW=ds((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:f,"data-disabled":h,...p}=Oe("MenuItem",dqe,e),m=VT(),g=Xi(),{dir:v}=tl(),y=D.useRef(null),w=m.getItemIndex(y.current),E=p,C=oo(E.onMouseLeave,()=>m.setHovered(-1)),S=oo(E.onMouseEnter,()=>m.setHovered(m.getItemIndex(y.current))),T=oo(E.onClick,()=>{h||(typeof l=="boolean"?l&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately())}),k=oo(E.onFocus,()=>m.setHovered(m.getItemIndex(y.current))),I=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,R=a?jd({color:a,theme:g}):null;return x.jsxs(ss,{...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:k,...m.getStyles("item",{className:r,style:i,styles:s,classNames:n}),ref:_s(y,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-hovered":m.hovered===w?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:S,onMouseLeave:C,onClick:T,onKeyDown:SV({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:v,orientation:"vertical",onKeyDown:E.onKeyDown}),__vars:{"--menu-item-color":R!=null&&R.isThemeColor&&(R==null?void 0:R.shade)===void 0?`var(--mantine-color-${R.color}-6)`:I==null?void 0:I.color,"--menu-item-hover":I==null?void 0:I.hover},children:[u&&x.jsx("div",{...m.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:u}),d&&x.jsx("div",{...m.getStyles("itemLabel",{styles:s,classNames:n}),children:d}),c&&x.jsx("div",{...m.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:c})]})});JW.classes=D_;JW.displayName="@mantine/core/MenuItem";const fqe={},ZW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Oe("MenuLabel",fqe,e),l=VT();return x.jsx(_e,{ref:t,...l.getStyles("label",{className:r,style:i,styles:s,classNames:n}),...a})});ZW.classes=D_;ZW.displayName="@mantine/core/MenuLabel";const hqe={refProp:"ref"},Sbe=D.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=Oe("MenuTarget",hqe,e);if(!fm(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=VT(),o=n.props,a=oo(o.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),l=oo(o.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),u=oo(o.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return x.jsx(Li.Target,{refProp:r,popupType:"menu",ref:t,...i,children:D.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":s.opened?!0:void 0})})});Sbe.displayName="@mantine/core/MenuTarget";const pqe={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function pn(e){const t=Oe("Menu",pqe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:m,styles:g,unstyled:v,variant:y,vars:w,menuItemTabIndex:E,keepMounted:C,withInitialFocusPlaceholder:S,...T}=t,k=kt({name:"Menu",classes:D_,props:t,classNames:m,styles:g,unstyled:v}),[I,{setHovered:R,resetHovered:O}]=KFe(),[M,$]=ji({value:s,defaultValue:o,finalValue:!1,onChange:l}),[L,U]=D.useState(!1),B=()=>{$(!1),U(!1),M&&(i==null||i())},V=()=>{$(!0),!M&&(r==null||r())},G=()=>{M?B():V()},{openDropdown:Y,closeDropdown:z}=gbe({open:V,close:B,closeDelay:p,openDelay:h}),F=K=>YFe("[data-menu-item]","[data-menu-dropdown]",K),{resolvedClassNames:W,resolvedStyles:q}=Eh({classNames:m,styles:g,props:t});return Td(()=>{O()},[M]),x.jsx(lqe,{value:{getStyles:k,opened:M,toggleDropdown:G,getItemIndex:F,hovered:I,setHovered:R,openedViaClick:L,setOpenedViaClick:U,closeOnItemClick:u,closeDropdown:f==="click"?B:z,openDropdown:f==="click"?V:Y,closeDropdownImmediately:B,loop:c,trigger:f,unstyled:v,menuItemTabIndex:E,withInitialFocusPlaceholder:S},children:x.jsx(Li,{...T,opened:M,onChange:G,defaultOpened:o,trapFocus:C?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:W,styles:q,unstyled:v,variant:y,keepMounted:C,children:n})})}pn.extend=e=>e;pn.withProps=jve(pn);pn.classes=D_;pn.displayName="@mantine/core/Menu";pn.Item=JW;pn.Label=ZW;pn.Dropdown=QW;pn.Target=Sbe;pn.Divider=XW;const[mqe,P_]=xs("Modal component was not found in tree");var bm={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const gqe={},r$=We((e,t)=>{const n=Oe("ModalBody",gqe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=P_();return x.jsx(nW,{ref:t,...u.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...l})});r$.classes=bm;r$.displayName="@mantine/core/ModalBody";const yqe={},i$=We((e,t)=>{const n=Oe("ModalCloseButton",yqe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=P_();return x.jsx(rW,{ref:t,...u.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...l})});i$.classes=bm;i$.displayName="@mantine/core/ModalCloseButton";const vqe={},s$=We((e,t)=>{const n=Oe("ModalContent",vqe,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:l,__hidden:u,...c}=n,d=P_(),f=d.scrollAreaComponent||N1e;return x.jsx(iW,{...d.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:t,...c,children:x.jsx(f,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${Be(d.yOffset)} * 2))`},children:l})})});s$.classes=bm;s$.displayName="@mantine/core/ModalContent";const bqe={},o$=We((e,t)=>{const n=Oe("ModalHeader",bqe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=P_();return x.jsx(sW,{ref:t,...u.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...l})});o$.classes=bm;o$.displayName="@mantine/core/ModalHeader";const wqe={},a$=We((e,t)=>{const n=Oe("ModalOverlay",wqe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=P_();return x.jsx(oW,{ref:t,...u.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...l})});a$.classes=bm;a$.displayName="@mantine/core/ModalOverlay";const xqe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:go("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},_qe=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:vr(t),"--modal-size":gn(n,"modal-size"),"--modal-y-offset":Be(r),"--modal-x-offset":Be(i)}}),l$=We((e,t)=>{const n=Oe("ModalRoot",xqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:f,centered:h,xOffset:p,__staticSelector:m,...g}=n,v=kt({name:m,classes:bm,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:_qe});return x.jsx(mqe,{value:{yOffset:u,scrollAreaComponent:c,getStyles:v,fullScreen:f},children:x.jsx(tW,{ref:t,...v("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,"data-offset-scrollbars":c===Id.Autosize||void 0,unstyled:a,...g})})});l$.classes=bm;l$.displayName="@mantine/core/ModalRoot";const[Eqe,Cqe]=hm();function Tbe({children:e}){const[t,n]=D.useState([]),[r,i]=D.useState(go("modal"));return x.jsx(Eqe,{value:{stack:t,addModal:(s,o)=>{n(a=>[...new Set([...a,s])]),i(a=>typeof o=="number"&&typeof a=="number"?Math.max(a,o):a)},removeModal:s=>n(o=>o.filter(a=>a!==s)),getZIndex:s=>`calc(${r} + ${t.indexOf(s)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}Tbe.displayName="@mantine/core/ModalStack";const Sqe={},u$=We((e,t)=>{const n=Oe("ModalTitle",Sqe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=P_();return x.jsx(aW,{ref:t,...u.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...l})});u$.classes=bm;u$.displayName="@mantine/core/ModalTitle";const Tqe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:go("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},xi=We((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,radius:l,opened:u,stackId:c,zIndex:d,...f}=Oe("Modal",Tqe,e),h=Cqe(),p=!!n||s,m=h&&c?{closeOnEscape:h.currentId===c,trapFocus:h.currentId===c,zIndex:h.getZIndex(c)}:{},g=r===!1?!1:c&&h?h.currentId===c:u;return D.useEffect(()=>{h&&c&&(u?h.addModal(c,d||go("modal")):h.removeModal(c))},[u,c,d]),x.jsxs(l$,{ref:t,radius:l,opened:u,zIndex:h&&c?h.getZIndex(c):d,...f,...m,children:[r&&x.jsx(a$,{visible:g,transitionProps:h&&c?{duration:0}:void 0,...i}),x.jsxs(s$,{radius:l,__hidden:h&&c&&u?c!==h.currentId:!1,children:[p&&x.jsxs(o$,{children:[n&&x.jsx(u$,{children:n}),s&&x.jsx(i$,{...o})]}),x.jsx(r$,{children:a})]})]})});xi.classes=bm;xi.displayName="@mantine/core/Modal";xi.Root=l$;xi.Overlay=a$;xi.Content=s$;xi.Body=r$;xi.Header=o$;xi.Title=u$;xi.CloseButton=i$;xi.Stack=Tbe;const[kqe,eG]=hm(),[Aqe,Iqe]=hm();var c$={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const Rqe={},Dqe=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?gn(t):gn(n,"pg-gap")}}),tG=We((e,t)=>{const n=Oe("PillGroup",Rqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,disabled:c,...d}=n,f=eG(),h=(f==null?void 0:f.size)||u||void 0,p=kt({name:"PillGroup",classes:c$,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Dqe,stylesCtx:{size:h},rootSelector:"group"});return x.jsx(Aqe,{value:{size:h,disabled:c},children:x.jsx(_e,{ref:t,size:h,...p("group"),...d})})});tG.classes=c$;tG.displayName="@mantine/core/PillGroup";const Pqe={variant:"default"},Oqe=(e,{radius:t},{size:n})=>({root:{"--pill-fz":gn(n,"pill-fz"),"--pill-height":gn(n,"pill-height"),"--pill-radius":t===void 0?void 0:vr(t)}}),I2=We((e,t)=>{const n=Oe("Pill",Pqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,variant:u,children:c,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:p,size:m,disabled:g,mod:v,...y}=n,w=Iqe(),E=eG(),C=m||(w==null?void 0:w.size)||void 0,S=(E==null?void 0:E.variant)==="filled"?"contrast":u||"default",T=kt({name:"Pill",classes:c$,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Oqe,stylesCtx:{size:C}});return x.jsxs(_e,{component:"span",ref:t,variant:S,size:C,...T("root",{variant:S}),mod:[{"with-remove":d&&!g,disabled:g||(w==null?void 0:w.disabled)},v],...y,children:[x.jsx("span",{...T("label"),children:c}),d&&x.jsx(lh,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...T("remove",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onMouseDown:k=>{var I;k.preventDefault(),k.stopPropagation(),(I=h==null?void 0:h.onMouseDown)==null||I.call(h,k)},onClick:k=>{var I;k.stopPropagation(),f==null||f(),(I=h==null?void 0:h.onClick)==null||I.call(h,k)}})]})});I2.classes=c$;I2.displayName="@mantine/core/Pill";I2.Group=tG;var kbe={field:"m_45c4369d"};const Nqe={type:"visible"},nG=We((e,t)=>{const n=Oe("PillsInputField",Nqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,type:u,disabled:c,id:d,pointer:f,mod:h,...p}=n,m=eG(),g=T_(),v=kt({name:"PillsInputField",classes:kbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"field"}),y=c||(m==null?void 0:m.disabled);return x.jsx(_e,{component:"input",ref:_s(t,m==null?void 0:m.fieldRef),"data-type":u,disabled:y,mod:[{disabled:y,pointer:f},h],...v("field"),...p,id:(g==null?void 0:g.inputId)||d,"aria-invalid":m==null?void 0:m.hasError,"aria-describedby":g==null?void 0:g.describedBy,type:"text",onMouseDown:w=>!f&&w.stopPropagation()})});nG.classes=kbe;nG.displayName="@mantine/core/PillsInputField";const $qe={},VP=We((e,t)=>{const n=Oe("PillsInput",$qe,e),{children:r,onMouseDown:i,onClick:s,size:o,disabled:a,__staticSelector:l,error:u,variant:c,...d}=n,f=D.useRef(null);return x.jsx(kqe,{value:{fieldRef:f,size:o,disabled:a,hasError:!!u,variant:c},children:x.jsx(_a,{size:o,error:u,variant:c,component:"div",ref:t,onMouseDown:h=>{var p;h.preventDefault(),i==null||i(h),(p=f.current)==null||p.focus()},onClick:h=>{var m;h.preventDefault();const p=h.currentTarget.closest("fieldset");p!=null&&p.disabled||((m=f.current)==null||m.focus(),s==null||s(h))},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});VP.displayName="@mantine/core/PillsInput";VP.Field=nG;function Mqe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,s)=>(Tx(s)?i.push({group:s.group,items:s.items.filter(o=>n.indexOf(o.value.toLowerCase().trim())===-1)}):n.indexOf(s.value.toLowerCase().trim())===-1&&i.push(s),i),[])}const Fqe={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},WT=We((e,t)=>{const n=Oe("MultiSelect",Fqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,value:c,defaultValue:d,onChange:f,onKeyDown:h,variant:p,data:m,dropdownOpened:g,defaultDropdownOpened:v,onDropdownOpen:y,onDropdownClose:w,selectFirstOptionOnChange:E,onOptionSubmit:C,comboboxProps:S,filter:T,limit:k,withScrollArea:I,maxDropdownHeight:R,searchValue:O,defaultSearchValue:M,onSearchChange:$,readOnly:L,disabled:U,onFocus:B,onBlur:V,radius:G,rightSection:Y,rightSectionWidth:z,rightSectionPointerEvents:F,rightSectionProps:W,leftSection:q,leftSectionWidth:K,leftSectionPointerEvents:J,leftSectionProps:te,inputContainer:le,inputWrapperOrder:oe,withAsterisk:ie,labelProps:he,descriptionProps:ee,errorProps:ne,wrapperProps:ue,description:ve,label:xe,error:Re,maxValues:Te,searchable:we,nothingFoundMessage:He,withCheckIcon:Xe,checkIconPosition:tt,hidePickedOptions:ft,withErrorStyles:rt,name:Pe,form:Le,id:ge,clearable:$e,clearButtonProps:ze,hiddenInputProps:it,placeholder:st,hiddenInputValuesDivider:wt,required:un,mod:Rn,renderOption:Mn,onRemove:Lt,onClear:wn,scrollAreaProps:Gn,chevronColor:Fn,...Bi}=n,Zn=xa(ge),Mr=qN(m),Kr=HN(Mr),Yn=WN({opened:g,defaultOpened:v,onDropdownOpen:y,onDropdownClose:()=>{w==null||w(),Yn.resetSelectedOption()}}),{styleProps:Ji,rest:{type:Go,autoComplete:Es,...rr}}=E1(Bi),[Ct,zr]=ji({value:c,defaultValue:d,finalValue:[],onChange:f}),[dn,Rr]=ji({value:O,defaultValue:M,finalValue:"",onChange:$}),Sn=Tn=>{Rr(Tn),Yn.resetSelectedOption()},br=kt({name:"MultiSelect",classes:{},props:n,classNames:r,styles:o,unstyled:a}),{resolvedClassNames:ni,resolvedStyles:Ei}=Eh({props:n,styles:o,classNames:r}),wo=Tn=>{h==null||h(Tn),Tn.key===" "&&!we&&(Tn.preventDefault(),Yn.toggleDropdown()),Tn.key==="Backspace"&&dn.length===0&&Ct.length>0&&(Lt==null||Lt(Ct[Ct.length-1]),zr(Ct.slice(0,Ct.length-1)))},kc=Ct.map((Tn,Ta)=>{var Gs,Ic;return x.jsx(I2,{withRemoveButton:!L&&!((Gs=Kr[Tn])!=null&&Gs.disabled),onRemove:()=>{zr(Ct.filter(Rc=>Tn!==Rc)),Lt==null||Lt(Tn)},unstyled:a,disabled:U,...br("pill"),children:((Ic=Kr[Tn])==null?void 0:Ic.label)||Tn},`${Tn}-${Ta}`)});D.useEffect(()=>{E&&Yn.selectFirstOption()},[E,dn]);const lf=x.jsx(Un.ClearButton,{...ze,onClear:()=>{wn==null||wn(),zr([]),Sn("")}}),Ac=Mqe({data:Mr,value:Ct}),uf=$e&&Ct.length>0&&!U&&!L;return x.jsxs(x.Fragment,{children:[x.jsxs(Un,{store:Yn,classNames:ni,styles:Ei,unstyled:a,size:u,readOnly:L,__staticSelector:"MultiSelect",onOptionSubmit:Tn=>{C==null||C(Tn),Sn(""),Yn.updateSelectedOptionIndex("selected"),Ct.includes(Kr[Tn].value)?(zr(Ct.filter(Ta=>Ta!==Kr[Tn].value)),Lt==null||Lt(Kr[Tn].value)):Ct.length<Te&&zr([...Ct,Kr[Tn].value])},...S,children:[x.jsx(Un.DropdownTarget,{children:x.jsx(VP,{...Ji,__staticSelector:"MultiSelect",classNames:ni,styles:Ei,unstyled:a,size:u,className:i,style:s,variant:p,disabled:U,radius:G,__defaultRightSection:x.jsx(Un.Chevron,{size:u,error:Re,unstyled:a,color:Fn}),__clearSection:lf,__clearable:uf,rightSection:Y,rightSectionPointerEvents:F||(lf?"all":"none"),rightSectionWidth:z,rightSectionProps:W,leftSection:q,leftSectionWidth:K,leftSectionPointerEvents:J,leftSectionProps:te,inputContainer:le,inputWrapperOrder:oe,withAsterisk:ie,labelProps:he,descriptionProps:ee,errorProps:ne,wrapperProps:ue,description:ve,label:xe,error:Re,withErrorStyles:rt,__stylesApiProps:{...n,rightSectionPointerEvents:F||(uf?"all":"none"),multiline:!0},pointer:!we,onClick:()=>we?Yn.openDropdown():Yn.toggleDropdown(),"data-expanded":Yn.dropdownOpened||void 0,id:Zn,required:un,mod:Rn,children:x.jsxs(I2.Group,{disabled:U,unstyled:a,...br("pillsList"),children:[kc,x.jsx(Un.EventsTarget,{autoComplete:Es,children:x.jsx(VP.Field,{...rr,ref:t,id:Zn,placeholder:st,type:!we&&!st?"hidden":"visible",...br("inputField"),unstyled:a,onFocus:Tn=>{B==null||B(Tn),we&&Yn.openDropdown()},onBlur:Tn=>{V==null||V(Tn),Yn.closeDropdown(),Sn("")},onKeyDown:wo,value:dn,onChange:Tn=>{Sn(Tn.currentTarget.value),we&&Yn.openDropdown(),E&&Yn.selectFirstOption()},disabled:U,readOnly:L||!we,pointer:!we})})]})})}),x.jsx(NW,{data:ft?Ac:Mr,hidden:L||U,filter:T,search:dn,limit:k,hiddenWhenEmpty:!He,withScrollArea:I,maxDropdownHeight:R,filterOptions:we,value:Ct,checkIconPosition:tt,withCheckIcon:Xe,nothingFoundMessage:He,unstyled:a,labelId:xe?`${Zn}-label`:void 0,"aria-label":xe?void 0:Bi["aria-label"],renderOption:Mn,scrollAreaProps:Gn})]}),x.jsx(Un.HiddenInput,{name:Pe,valuesDivider:wt,value:Ct,form:Le,disabled:U,...it})]})});WT.classes={..._a.classes,...Un.classes};WT.displayName="@mantine/core/MultiSelect";function Lqe(e){return"group"in e}function rG({data:e}){if(Lqe(e)){const i=e.items.map(s=>x.jsx(rG,{data:s},s.value));return x.jsx("optgroup",{label:e.group,children:i})}const{value:t,label:n,...r}=e;return x.jsx("option",{value:e.value,...r,children:e.label},e.value)}rG.displayName="@mantine/core/NativeSelectOption";const jqe={rightSectionPointerEvents:"none"},Ky=We((e,t)=>{const{data:n,children:r,size:i,error:s,rightSection:o,unstyled:a,...l}=Oe("NativeSelect",jqe,e),u=qN(n).map((c,d)=>x.jsx(rG,{data:c},d));return x.jsx(_a,{component:"select",ref:t,...l,__staticSelector:"NativeSelect",size:i,pointer:!0,error:s,unstyled:a,rightSection:o||x.jsx(VN,{size:i,error:s,unstyled:a}),children:r||u})});Ky.classes=_a.classes;Ky.displayName="@mantine/core/NativeSelect";var Abe={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const Bqe={},zqe=(e,{variant:t,color:n,childrenOffset:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":n||t?s.background:void 0,"--nl-hover":n||t?s.hover:void 0,"--nl-color":n||t?s.color:void 0},children:{"--nl-offset":wi(r)}}},d$=ds((e,t)=>{const n=Oe("NavLink",Bqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,opened:u,defaultOpened:c,onChange:d,children:f,onClick:h,active:p,disabled:m,leftSection:g,rightSection:v,label:y,description:w,disableRightSectionRotation:E,noWrap:C,childrenOffset:S,onKeyDown:T,autoContrast:k,mod:I,...R}=n,O=kt({name:"NavLink",props:n,classes:Abe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:zqe}),[M,$]=ji({value:u,defaultValue:c,finalValue:!1,onChange:d}),L=!!f,U=B=>{h==null||h(B),L&&(B.preventDefault(),$(!M))};return x.jsxs(x.Fragment,{children:[x.jsxs(ss,{...O("root"),component:"a",ref:t,onClick:U,onKeyDown:B=>{T==null||T(B),B.nativeEvent.code==="Space"&&L&&(B.preventDefault(),$(!M))},unstyled:a,mod:[{disabled:m,active:p,expanded:M},I],...R,children:[g&&x.jsx(_e,{component:"span",...O("section"),mod:{position:"left"},children:g}),x.jsxs(_e,{...O("body"),mod:{"no-wrap":C},children:[x.jsx(_e,{component:"span",...O("label"),children:y}),x.jsx(_e,{component:"span",mod:{active:p},...O("description"),children:w})]}),(L||v!==void 0)&&x.jsx(_e,{...O("section"),component:"span",mod:{rotate:M&&!E,position:"right"},children:L?v!==void 0?v:x.jsx(Sx,{...O("chevron")}):v})]}),L&&x.jsx(gm,{in:M,...O("collapse"),children:x.jsx("div",{...O("children"),children:f})})]})});d$.classes=Abe;d$.displayName="@mantine/core/NavLink";var Ibe={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const Uqe={withCloseButton:!0},qqe=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:vr(t),"--notification-color":n?Sr(n,e):void 0}}),iG=We((e,t)=>{const n=Oe("Notification",Uqe,e),{className:r,color:i,radius:s,loading:o,withCloseButton:a,withBorder:l,title:u,icon:c,children:d,onClose:f,closeButtonProps:h,classNames:p,style:m,styles:g,unstyled:v,variant:y,vars:w,mod:E,loaderProps:C,role:S,...T}=n,k=kt({name:"Notification",classes:Ibe,props:n,className:r,style:m,classNames:p,styles:g,unstyled:v,vars:w,varsResolver:qqe});return x.jsxs(_e,{...k("root"),mod:[{"data-with-icon":!!c||o,"data-with-border":l},E],ref:t,variant:y,role:S||"alert",...T,children:[c&&!o&&x.jsx("div",{...k("icon"),children:c}),o&&x.jsx(Bd,{size:28,color:i,...C,...k("loader")}),x.jsxs("div",{...k("body"),children:[u&&x.jsx("div",{...k("title"),children:u}),x.jsx(_e,{...k("description"),mod:{"data-with-title":!!u},children:d})]}),a&&x.jsx(lh,{iconSize:16,color:"gray",...h,unstyled:v,onClick:f,...k("closeButton")})]})});iG.classes=Ibe;iG.displayName="@mantine/core/Notification";function Rbe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var R2;(function(e){e.event="event",e.props="prop"})(R2||(R2={}));function x0(){}function Hqe(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(s,o){return s===t[o]})||(t=r,n=e.apply(void 0,r)),n}}function D2(e){return!!(e||"").match(/\d/)}function Ww(e){return e==null}function Vqe(e){return typeof e=="number"&&isNaN(e)}function Dbe(e){return Ww(e)||Vqe(e)||typeof e=="number"&&!isFinite(e)}function Pbe(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Wqe(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Gqe(e,t,n){var r=Wqe(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function Yqe(e){var t=D.useRef(e);t.current=e;var n=D.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function sG(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),s=i[0],o=i[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:n,addNegation:r}}function Kqe(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function Obe(e,t,n){for(var r="",i=n?"0":"",s=0;s<=t-1;s++)r+=e[s]||i;return r}function sse(e,t){return Array(t+1).join(e)}function Nbe(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],s=r[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var o=1+s,a=i.length;return o<0?i="0."+sse("0",Math.abs(o))+i:o>=a?i=i+sse("0",o-a):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function ose(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=sG(e),s=i.beforeDecimal,o=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(o||"0")),u=o.length<=t?"0."+o:l.toFixed(t),c=u.split("."),d=s;s&&Number(c[0])&&(d=s.split("").reverse().reduce(function(m,g,v){return m.length>v?(Number(m[0])+Number(g)).toString()+m.substring(1,m.length):g+m},c[0]));var f=Obe(c[1]||"",t,n),h=a?"-":"",p=r?".":"";return""+h+d+p+f}function Xy(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var $be=Hqe(function(e,t){for(var n=0,r=0,i=e.length,s=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[s-1-r]&&s-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:s-r}}}),Xqe=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function Qqe(e,t,n){return Math.min(Math.max(e,t),n)}function KF(e){return Math.max(e.selectionStart,e.selectionEnd)}function Jqe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Zqe(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function eHe(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function tHe(e,t,n,r,i,s,o){o===void 0&&(o=eHe);var a=i.findIndex(function(E){return E}),l=e.slice(0,a);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var u=n.length,c=e.length,d={},f=new Array(u),h=0;h<u;h++){f[h]=-1;for(var p=0,m=c;p<m;p++){var g=o({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:p});if(g&&d[p]!==!0){f[h]=p,d[p]=!0;break}}}for(var v=r;v<u&&(f[v]===-1||!s(n[v]));)v++;var y=v===u||f[v]===-1?c:f[v];for(v=r-1;v>0&&f[v]===-1;)v--;var w=v===-1||f[v]===-1?0:f[v]+1;return w>y?y:r-w<y-r?w:y}function ase(e,t,n,r){var i=e.length;if(t=Qqe(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function nHe(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(D2(e[n])||D2(e[n-1]));return t}function Mbe(e,t,n,r,i,s){s===void 0&&(s=x0);var o=Yqe(function(p,m){var g,v;return Dbe(p)?(v="",g=""):typeof p=="number"||m?(v=typeof p=="number"?Nbe(p):p,g=r(v)):(v=i(p,void 0),g=r(v)),{formattedValue:g,numAsString:v}}),a=D.useState(function(){return o(Ww(e)?t:e,n)}),l=a[0],u=a[1],c=function(p,m){p.formattedValue!==l.formattedValue&&u({formattedValue:p.formattedValue,numAsString:p.value}),s(p,m)},d=e,f=n;Ww(e)&&(d=l.numAsString,f=!0);var h=o(d,f);return D.useMemo(function(){u(h)},[h.formattedValue]),[l,c]}function rHe(e){return e.replace(/[^0-9]/g,"")}function iHe(e){return e}function sHe(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,s=e.getInputRef,o=e.format;o===void 0&&(o=iHe);var a=e.removeFormatting;a===void 0&&(a=rHe);var l=e.defaultValue,u=e.valueIsNumericString,c=e.onValueChange,d=e.isAllowed,f=e.onChange;f===void 0&&(f=x0);var h=e.onKeyDown;h===void 0&&(h=x0);var p=e.onMouseUp;p===void 0&&(p=x0);var m=e.onFocus;m===void 0&&(m=x0);var g=e.onBlur;g===void 0&&(g=x0);var v=e.value,y=e.getCaretBoundary;y===void 0&&(y=nHe);var w=e.isValidInputCharacter;w===void 0&&(w=D2);var E=e.isCharacterSame,C=Rbe(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),S=Mbe(v,l,!!u,o,a,c),T=S[0],k=T.formattedValue,I=T.numAsString,R=S[1],O=D.useRef(),M=D.useRef({formattedValue:k,numAsString:I}),$=function(Te,we){M.current={formattedValue:Te.formattedValue,numAsString:Te.value},R(Te,we)},L=D.useState(!1),U=L[0],B=L[1],V=D.useRef(null),G=D.useRef({setCaretTimeout:null,focusTimeout:null});D.useEffect(function(){return B(!0),function(){clearTimeout(G.current.setCaretTimeout),clearTimeout(G.current.focusTimeout)}},[]);var Y=o,z=function(Te,we){var He=parseFloat(we);return{formattedValue:Te,value:we,floatValue:isNaN(He)?void 0:He}},F=function(Te,we,He){Te.selectionStart===0&&Te.selectionEnd===Te.value.length||(Xy(Te,we),G.current.setCaretTimeout=setTimeout(function(){Te.value===He&&Te.selectionStart!==we&&Xy(Te,we)},0))},W=function(Te,we,He){return ase(Te,we,y(Te),He)},q=function(Te,we,He){var Xe=y(we),tt=tHe(we,k,Te,He,Xe,w,E);return tt=ase(we,tt,Xe),tt},K=function(Te){var we=Te.formattedValue;we===void 0&&(we="");var He=Te.input,Xe=Te.source,tt=Te.event,ft=Te.numAsString,rt;if(He){var Pe=Te.inputValue||He.value,Le=KF(He);He.value=we,rt=q(Pe,we,Le),rt!==void 0&&F(He,rt,we)}we!==k&&$(z(we,ft),{event:tt,source:Xe})};D.useEffect(function(){var Te=M.current,we=Te.formattedValue,He=Te.numAsString;(k!==we||I!==He)&&$(z(k,I),{event:void 0,source:R2.props})},[k,I]);var J=V.current?KF(V.current):void 0,te=typeof window<"u"?D.useLayoutEffect:D.useEffect;te(function(){var Te=V.current;if(k!==M.current.formattedValue&&Te){var we=q(M.current.formattedValue,k,J);Te.value=k,F(Te,we,k)}},[k]);var le=function(Te,we,He){var Xe=we.target,tt=O.current?Xqe(O.current,Xe.selectionEnd):$be(k,Te),ft=Object.assign(Object.assign({},tt),{lastValue:k}),rt=a(Te,ft),Pe=Y(rt);if(rt=a(Pe,void 0),d&&!d(z(Pe,rt))){var Le=we.target,ge=KF(Le),$e=q(Te,k,ge);return Le.value=k,F(Le,$e,k),!1}return K({formattedValue:Pe,numAsString:rt,inputValue:Te,event:we,source:He,input:we.target}),!0},oe=function(Te,we){we===void 0&&(we=0);var He=Te.selectionStart,Xe=Te.selectionEnd;O.current={selectionStart:He,selectionEnd:Xe+we}},ie=function(Te){var we=Te.target,He=we.value,Xe=le(He,Te,R2.event);Xe&&f(Te),O.current=void 0},he=function(Te){var we=Te.target,He=Te.key,Xe=we.selectionStart,tt=we.selectionEnd,ft=we.value;ft===void 0&&(ft="");var rt;He==="ArrowLeft"||He==="Backspace"?rt=Math.max(Xe-1,0):He==="ArrowRight"?rt=Math.min(Xe+1,ft.length):He==="Delete"&&(rt=Xe);var Pe=0;He==="Delete"&&Xe===tt&&(Pe=1);var Le=He==="ArrowLeft"||He==="ArrowRight";if(rt===void 0||Xe!==tt&&!Le){h(Te),oe(we,Pe);return}var ge=rt;if(Le){var $e=He==="ArrowLeft"?"left":"right";ge=W(ft,rt,$e),ge!==rt&&Te.preventDefault()}else He==="Delete"&&!w(ft[rt])?ge=W(ft,rt,"right"):He==="Backspace"&&!w(ft[rt])&&(ge=W(ft,rt,"left"));ge!==rt&&F(we,ge,ft),h(Te),oe(we,Pe)},ee=function(Te){var we=Te.target,He=function(){var Xe=we.selectionStart,tt=we.selectionEnd,ft=we.value;if(ft===void 0&&(ft=""),Xe===tt){var rt=W(ft,Xe);rt!==Xe&&F(we,rt,ft)}};He(),requestAnimationFrame(function(){He()}),p(Te),oe(we)},ne=function(Te){Te.persist&&Te.persist();var we=Te.target,He=Te.currentTarget;V.current=we,G.current.focusTimeout=setTimeout(function(){var Xe=we.selectionStart,tt=we.selectionEnd,ft=we.value;ft===void 0&&(ft="");var rt=W(ft,Xe);rt!==Xe&&!(Xe===0&&tt===ft.length)&&F(we,rt,ft),m(Object.assign(Object.assign({},Te),{currentTarget:He}))},0)},ue=function(Te){V.current=null,clearTimeout(G.current.focusTimeout),clearTimeout(G.current.setCaretTimeout),g(Te)},ve=U&&Jqe()?"numeric":void 0,xe=Object.assign({inputMode:ve},C,{type:t,value:k,onChange:ie,onKeyDown:he,onMouseUp:ee,onFocus:ne,onBlur:ue});if(n==="text")return i?sr.createElement(sr.Fragment,null,i(k,C)||null):sr.createElement("span",Object.assign({},C,{ref:s}),k);if(r){var Re=r;return sr.createElement(Re,Object.assign({},xe,{ref:s}))}return sr.createElement("input",Object.assign({},xe,{ref:s}))}function lse(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var s=t.suffix;s===void 0&&(s="");var o=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var l=f$(t),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&e.indexOf(".")!==-1||n&&r,f=sG(e,o),h=f.beforeDecimal,p=f.afterDecimal,m=f.addNegation;return n!==void 0&&(p=Obe(p,n,!!r)),u&&(h=Gqe(h,u,a)),i&&(h=i+h),s&&(p=p+s),m&&(h="-"+h),e=h+(d&&c||"")+p,e}function f$(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function oHe(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),s=r.test(e);return e=e.replace(/-/g,""),i&&!s&&t&&(e="-"+e),e}function aHe(e,t){return new RegExp("(^-)|[0-9]|"+Pbe(e),"g")}function lHe(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function uHe(e,t,n){var r;t===void 0&&(t=Zqe(e));var i=n.allowNegative,s=n.prefix;s===void 0&&(s="");var o=n.suffix;o===void 0&&(o="");var a=n.decimalScale,l=t.from,u=t.to,c=u.start,d=u.end,f=f$(n),h=f.allowedDecimalSeparators,p=f.decimalSeparator,m=e[d]===p;if(D2(e)&&(e===s||e===o)&&t.lastValue==="")return e;if(d-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":p;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var v=function(V,G,Y){var z=!1,F=!1;s.startsWith("-")?z=!1:V.startsWith("--")?(z=!1,F=!0):o.startsWith("-")&&V.length===o.length?z=!1:V[0]==="-"&&(z=!0);var W=z?1:0;return F&&(W=2),W&&(V=V.substring(W),G-=W,Y-=W),{value:V,start:G,end:Y,hasNegation:z}},y=v(e,c,d),w=y.hasNegation;r=y,e=r.value,c=r.start,d=r.end;var E=v(t.lastValue,l.start,l.end),C=E.start,S=E.end,T=E.value,k=e.substring(c,d);e.length&&T.length&&(C>T.length-o.length||S<s.length)&&!(k&&o.startsWith(k))&&(e=T);var I=0;e.startsWith(s)?I+=s.length:c<s.length&&(I=c),e=e.substring(I),d-=I;var R=e.length,O=e.length-o.length;e.endsWith(o)?R=O:(d>O||d>e.length-o.length)&&(R=d),e=e.substring(0,R),e=oHe(w?"-"+e:e,i),e=(e.match(aHe(p))||[]).join("");var M=e.indexOf(p);e=e.replace(new RegExp(Pbe(p),"g"),function(V,G){return G===M?".":""});var $=sG(e,i),L=$.beforeDecimal,U=$.afterDecimal,B=$.addNegation;return u.end-u.start<l.end-l.start&&L===""&&m&&!parseFloat(U)&&(e=B?"-":""),e}function cHe(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),s=e[0]==="-";i.fill(!1,0,n.length+(s?1:0));var o=e.length;return i.fill(!1,o-r.length+1,o+1),i}function dHe(e){var t=f$(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var s=e.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},e),{allowNegative:s})}function fHe(e){e=dHe(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=x0);var s=e.onBlur;s===void 0&&(s=x0);var o=e.thousandSeparator,a=e.decimalScale,l=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var c=e.defaultValue,d=e.value,f=e.valueIsNumericString,h=e.onValueChange,p=Rbe(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),m=f$(e),g=m.decimalSeparator,v=m.allowedDecimalSeparators,y=function(B){return lse(B,e)},w=function(B,V){return uHe(B,V,e)},E=Ww(d)?c:d,C=f??lHe(E,u,t);Ww(d)?Ww(c)||(C=C||typeof c=="number"):C=C||typeof d=="number";var S=function(B){return Dbe(B)?B:(typeof B=="number"&&(B=Nbe(B)),C&&typeof a=="number"?ose(B,a,!!l):B)},T=Mbe(S(d),S(c),!!C,y,w,h),k=T[0],I=k.numAsString,R=k.formattedValue,O=T[1],M=function(B){var V=B.target,G=B.key,Y=V.selectionStart,z=V.selectionEnd,F=V.value;if(F===void 0&&(F=""),(G==="Backspace"||G==="Delete")&&z<u.length){B.preventDefault();return}if(Y!==z){i(B);return}G==="Backspace"&&F[0]==="-"&&Y===u.length+1&&n&&Xy(V,1),a&&l&&(G==="Backspace"&&F[Y-1]===g?(Xy(V,Y-1),B.preventDefault()):G==="Delete"&&F[Y]===g&&B.preventDefault()),v!=null&&v.includes(G)&&F[Y]===g&&Xy(V,Y+1);var W=o===!0?",":o;G==="Backspace"&&F[Y-1]===W&&Xy(V,Y-1),G==="Delete"&&F[Y]===W&&Xy(V,Y+1),i(B)},$=function(B){var V=I;if(V.match(/\d/g)||(V=""),r||(V=Kqe(V)),l&&a&&(V=ose(V,a,l)),V!==I){var G=lse(V,e);O({formattedValue:G,value:V,floatValue:parseFloat(V)},{event:B,source:R2.event})}s(B)},L=function(B){return B===g?!0:D2(B)},U=function(B){var V=B.currentValue,G=B.lastValue,Y=B.formattedValue,z=B.currentValueIndex,F=B.formattedValueIndex,W=V[z],q=Y[F],K=$be(G,V),J=K.to,te=function(le){return w(le).indexOf(".")+u.length};return d===0&&l&&a&&V[J.start]===g&&te(V)<z&&te(Y)>F?!1:z>=J.start&&z<J.end&&v&&v.includes(W)&&q===g?!0:W===q};return Object.assign(Object.assign({},p),{value:R,valueIsNumericString:!1,isValidInputCharacter:L,isCharacterSame:U,onValueChange:O,format:y,removeFormatting:w,getCaretBoundary:function(B){return cHe(B,e)},onKeyDown:M,onBlur:$})}function hHe(e){var t=fHe(e);return sr.createElement(sHe,Object.assign({},t))}function use({direction:e,style:t,...n}){return x.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:x.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var J7={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const pHe=/^(0\.0*|-0(\.0*)?)$/,mHe=/^-?0\d+(\.\d+)?\.?$/;function Z7(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function XF(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||Z7(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function gHe(e){return e.toString().replace(".","").length}function yHe(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&gHe(t)<14&&t!==""}function cse(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const vHe={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},bHe=(e,{size:t})=>({controls:{"--ni-chevron-size":gn(t,"ni-chevron-size")}});function wHe(e,t,n){const r=e.toString().replace(/^0+/,""),i=parseFloat(r);return Number.isNaN(i)?r:i>Number.MAX_SAFE_INTEGER?t!==void 0?String(t):r:Gf(i,n,t)}const oG=We((e,t)=>{const n=Oe("NumberInput",vHe,e),{className:r,classNames:i,styles:s,unstyled:o,vars:a,onChange:l,onValueChange:u,value:c,defaultValue:d,max:f,min:h,step:p,hideControls:m,rightSection:g,isAllowed:v,clampBehavior:y,onBlur:w,allowDecimal:E,decimalScale:C,onKeyDown:S,onKeyDownCapture:T,handlersRef:k,startValue:I,disabled:R,rightSectionPointerEvents:O,allowNegative:M,readOnly:$,size:L,rightSectionWidth:U,stepHoldInterval:B,stepHoldDelay:V,allowLeadingZeros:G,withKeyboardEvents:Y,trimLeadingZeroesOnBlur:z,...F}=n,W=kt({name:"NumberInput",classes:J7,props:n,classNames:i,styles:s,unstyled:o,vars:a,varsResolver:bHe}),{resolvedClassNames:q,resolvedStyles:K}=Eh({classNames:i,styles:s,props:n}),[J,te]=ji({value:c,defaultValue:d,finalValue:"",onChange:l}),le=V!==void 0&&B!==void 0,oe=D.useRef(null),ie=D.useRef(null),he=D.useRef(0),ee=(Pe,Le)=>{Le.source==="event"&&te(yHe(Pe.floatValue,Pe.value)&&!pHe.test(Pe.value)&&!(G&&mHe.test(Pe.value))?Pe.floatValue:Pe.value),u==null||u(Pe,Le)},ne=Pe=>{const Le=String(Pe).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Le?Math.max(0,(Le[1]?Le[1].length:0)-(Le[2]?+Le[2]:0)):0},ue=Pe=>{oe.current&&typeof Pe<"u"&&oe.current.setSelectionRange(Pe,Pe)},ve=D.useRef(MP);ve.current=()=>{if(!XF(J))return;let Pe;const Le=ne(J),ge=ne(p),$e=Math.max(Le,ge),ze=10**$e;if(!Z7(J)&&(typeof J!="number"||Number.isNaN(J)))Pe=Gf(I,h,f);else if(f!==void 0){const st=(Math.round(Number(J)*ze)+Math.round(p*ze))/ze;Pe=st<=f?st:f}else Pe=(Math.round(Number(J)*ze)+Math.round(p*ze))/ze;const it=Pe.toFixed($e);te(parseFloat(it)),u==null||u({floatValue:parseFloat(it),formattedValue:it,value:it},{source:"increment"}),setTimeout(()=>{var st;return ue((st=oe.current)==null?void 0:st.value.length)},0)};const xe=D.useRef(MP);xe.current=()=>{if(!XF(J))return;let Pe;const Le=h!==void 0?h:M?Number.MIN_SAFE_INTEGER:0,ge=ne(J),$e=ne(p),ze=Math.max(ge,$e),it=10**ze;if(!Z7(J)&&typeof J!="number"||Number.isNaN(J))Pe=Gf(I,Le,f);else{const wt=(Math.round(Number(J)*it)-Math.round(p*it))/it;Pe=Le!==void 0&&wt<Le?Le:wt}const st=Pe.toFixed(ze);te(parseFloat(st)),u==null||u({floatValue:parseFloat(st),formattedValue:st,value:st},{source:"decrement"}),setTimeout(()=>{var wt;return ue((wt=oe.current)==null?void 0:wt.value.length)},0)};const Re=Pe=>{S==null||S(Pe),!($||!Y)&&(Pe.key==="ArrowUp"&&(Pe.preventDefault(),ve.current()),Pe.key==="ArrowDown"&&(Pe.preventDefault(),xe.current()))},Te=Pe=>{if(T==null||T(Pe),Pe.key==="Backspace"){const Le=oe.current;Le.selectionStart===0&&Le.selectionStart===Le.selectionEnd&&(Pe.preventDefault(),window.setTimeout(()=>ue(0),0))}},we=Pe=>{let Le=J;y==="blur"&&typeof Le=="number"&&(Le=Gf(Le,h,f)),z&&typeof Le=="string"&&ne(Le)<15&&(Le=wHe(Le,f,h)),J!==Le&&te(Le),w==null||w(Pe)};FP(k,{increment:ve.current,decrement:xe.current});const He=Pe=>{Pe?ve.current():xe.current(),he.current+=1},Xe=Pe=>{if(He(Pe),le){const Le=typeof B=="number"?B:B(he.current);ie.current=window.setTimeout(()=>Xe(Pe),Le)}},tt=(Pe,Le)=>{var ge;Pe.preventDefault(),(ge=oe.current)==null||ge.focus(),He(Le),le&&(ie.current=window.setTimeout(()=>Xe(Le),V))},ft=()=>{ie.current&&window.clearTimeout(ie.current),ie.current=null,he.current=0},rt=x.jsxs("div",{...W("controls"),children:[x.jsx(ss,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:R||typeof J=="number"&&f!==void 0&&J>=f,mod:{direction:"up"},onMouseDown:Pe=>Pe.preventDefault(),onPointerDown:Pe=>{tt(Pe,!0)},onPointerUp:ft,onPointerLeave:ft,children:x.jsx(use,{direction:"up"})}),x.jsx(ss,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:R||typeof J=="number"&&h!==void 0&&J<=h,mod:{direction:"down"},onMouseDown:Pe=>Pe.preventDefault(),onPointerDown:Pe=>{tt(Pe,!1)},onPointerUp:ft,onPointerLeave:ft,children:x.jsx(use,{direction:"down"})})]});return x.jsx(_a,{component:hHe,allowNegative:M,className:Dt(J7.root,r),size:L,...F,readOnly:$,disabled:R,value:J,getInputRef:_s(t,oe),onValueChange:ee,rightSection:m||$||!XF(J)?g:g||rt,classNames:q,styles:K,unstyled:o,__staticSelector:"NumberInput",decimalScale:E?C:0,onKeyDown:Re,onKeyDownCapture:Te,rightSectionPointerEvents:O??(R?"none":void 0),rightSectionWidth:U??`var(--ni-right-section-width-${L||"sm"})`,allowLeadingZeros:G,onBlur:we,isAllowed:Pe=>y==="strict"?v?v(Pe)&&cse(Pe.floatValue,h,f):cse(Pe.floatValue,h,f):v?v(Pe):!0})});oG.classes={..._a.classes,...J7};oG.displayName="@mantine/core/NumberInput";const[xHe,h$]=xs("Pagination.Root component was not found in tree");var GT={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const _He={withPadding:!0},YT=We((e,t)=>{const n=Oe("PaginationControl",_He,e),{classNames:r,className:i,style:s,styles:o,vars:a,active:l,disabled:u,withPadding:c,mod:d,...f}=n,h=h$(),p=u||h.disabled;return x.jsx(ss,{ref:t,disabled:p,mod:[{active:l,disabled:p,"with-padding":c},d],...h.getStyles("control",{className:i,style:s,classNames:r,styles:o,active:!p}),...f})});YT.classes=GT;YT.displayName="@mantine/core/PaginationControl";function KT({style:e,children:t,path:n,...r}){return x.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...r,children:x.jsx("path",{d:n,fill:"currentColor"})})}const EHe=e=>x.jsx(KT,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),CHe=e=>x.jsx(KT,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),SHe=e=>x.jsx(KT,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),THe=e=>x.jsx(KT,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),kHe=e=>x.jsx(KT,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),AHe={icon:kHe},p$=We((e,t)=>{const n=Oe("PaginationDots",AHe,e),{classNames:r,className:i,style:s,styles:o,vars:a,icon:l,...u}=n,c=h$(),d=l;return x.jsx(_e,{ref:t,...c.getStyles("dots",{className:i,style:s,styles:o,classNames:r}),...u,children:x.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});p$.classes=GT;p$.displayName="@mantine/core/PaginationDots";function m$({icon:e,name:t,action:n,type:r}){const i={icon:e},s=D.forwardRef((o,a)=>{const{icon:l,...u}=Oe(t,i,o),c=l,d=h$(),f=r==="next"?d.active===d.total:d.active===1;return x.jsx(YT,{disabled:d.disabled||f,ref:a,onClick:d[n],withPadding:!1,...u,children:x.jsx(c,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return s.displayName=`@mantine/core/${t}`,s}const Fbe=m$({icon:EHe,name:"PaginationNext",action:"onNext",type:"next"}),Lbe=m$({icon:CHe,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),jbe=m$({icon:SHe,name:"PaginationFirst",action:"onFirst",type:"previous"}),Bbe=m$({icon:THe,name:"PaginationLast",action:"onLast",type:"next"});function aG({dotsIcon:e}){const t=h$(),n=t.range.map((r,i)=>{var s,o,a;return r==="dots"?x.jsx(p$,{icon:e},i):x.jsx(YT,{active:r===t.active,"aria-current":r===t.active?"page":void 0,onClick:()=>t.onChange(r),disabled:t.disabled,...(s=t.getItemProps)==null?void 0:s.call(t,r),children:((a=(o=t.getItemProps)==null?void 0:o.call(t,r))==null?void 0:a.children)??r},i)});return x.jsx(x.Fragment,{children:n})}aG.displayName="@mantine/core/PaginationItems";const IHe={siblings:1,boundaries:1},RHe=(e,{size:t,radius:n,color:r,autoContrast:i})=>({root:{"--pagination-control-radius":n===void 0?void 0:vr(n),"--pagination-control-size":gn(t,"pagination-control-size"),"--pagination-control-fz":Yi(t),"--pagination-active-bg":r?Sr(r,e):void 0,"--pagination-active-color":Eg(i,e)?mm({color:r,theme:e,autoContrast:i}):void 0}}),g$=We((e,t)=>{const n=Oe("PaginationRoot",IHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,total:u,value:c,defaultValue:d,onChange:f,disabled:h,siblings:p,boundaries:m,color:g,radius:v,onNextPage:y,onPreviousPage:w,onFirstPage:E,onLastPage:C,getItemProps:S,autoContrast:T,...k}=n,I=kt({name:"Pagination",classes:GT,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:RHe}),{range:R,setPage:O,next:M,previous:$,active:L,first:U,last:B}=cLe({page:c,initialPage:d,onChange:f,total:u,siblings:p,boundaries:m}),V=oo(y,M),G=oo(w,$),Y=oo(E,U),z=oo(C,B);return x.jsx(xHe,{value:{total:u,range:R,active:L,disabled:h,getItemProps:S,onChange:O,onNext:V,onPrevious:G,onFirst:Y,onLast:z,getStyles:I},children:x.jsx(_e,{ref:t,...I("root"),...k})})});g$.classes=GT;g$.displayName="@mantine/core/PaginationRoot";const DHe={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},Ud=We((e,t)=>{const n=Oe("Pagination",DHe,e),{withEdges:r,withControls:i,getControlProps:s,nextIcon:o,previousIcon:a,lastIcon:l,firstIcon:u,dotsIcon:c,total:d,gap:f,hideWithOnePage:h,withPages:p,...m}=n;return d<=0||h&&d===1?null:x.jsx(g$,{ref:t,total:d,...m,children:x.jsxs(_i,{gap:f,children:[r&&x.jsx(jbe,{icon:u,...s==null?void 0:s("first")}),i&&x.jsx(Lbe,{icon:a,...s==null?void 0:s("previous")}),p&&x.jsx(aG,{dotsIcon:c}),i&&x.jsx(Fbe,{icon:o,...s==null?void 0:s("next")}),r&&x.jsx(Bbe,{icon:l,...s==null?void 0:s("last")})]})})});Ud.classes=GT;Ud.displayName="@mantine/core/Pagination";Ud.Root=g$;Ud.Control=YT;Ud.Dots=p$;Ud.First=jbe;Ud.Last=Bbe;Ud.Next=Fbe;Ud.Previous=Lbe;Ud.Items=aG;const[PHe,zbe]=xs("Progress.Root component was not found in tree");var XT={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const OHe={},lG=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Oe("ProgressLabel",OHe,e),l=zbe();return x.jsx(_e,{ref:t,...l.getStyles("label",{className:r,style:i,classNames:n,styles:s}),...a})});lG.classes=XT;lG.displayName="@mantine/core/ProgressLabel";const NHe={},$He=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":gn(t,"progress-size"),"--progress-radius":n===void 0?void 0:vr(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),y$=We((e,t)=>{const n=Oe("ProgressRoot",NHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,autoContrast:u,transitionDuration:c,...d}=n,f=kt({name:"Progress",classes:XT,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:$He});return x.jsx(PHe,{value:{getStyles:f,autoContrast:u},children:x.jsx(_e,{ref:t,...f("root"),...d})})});y$.classes=XT;y$.displayName="@mantine/core/ProgressRoot";const MHe={withAria:!0},v$=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,withAria:l,color:u,striped:c,animated:d,mod:f,...h}=Oe("ProgressSection",MHe,e),p=zbe(),m=Xi(),g=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return x.jsx(_e,{ref:t,...p.getStyles("section",{className:r,classNames:n,styles:s,style:i}),...h,...g,mod:[{striped:c||d,animated:d},f],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":Sr(u,m),"--progress-label-color":Eg(p.autoContrast,m)?mm({color:u,theme:m,autoContrast:p.autoContrast}):void 0}})});v$.classes=XT;v$.displayName="@mantine/core/ProgressSection";const FHe={},S1=We((e,t)=>{const n=Oe("Progress",FHe,e),{value:r,classNames:i,styles:s,vars:o,color:a,striped:l,animated:u,"aria-label":c,...d}=n,{resolvedClassNames:f,resolvedStyles:h}=Eh({classNames:i,styles:s,props:n});return x.jsx(y$,{ref:t,classNames:f,styles:h,vars:o,...d,children:x.jsx(v$,{value:r,color:a,striped:l,animated:u,"aria-label":c})})});S1.classes=XT;S1.displayName="@mantine/core/Progress";S1.Section=v$;S1.Root=y$;S1.Label=lG;const[LHe,Ube]=hm(),[jHe,BHe]=hm();var qbe={card:"m_9dc8ae12"};const zHe={withBorder:!0},UHe=(e,{radius:t})=>({card:{"--card-radius":vr(t)}}),uG=We((e,t)=>{const n=Oe("RadioCard",zHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,name:p,onKeyDown:m,...g}=n,v=kt({name:"RadioCard",classes:qbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:UHe,rootSelector:"card"}),{dir:y}=tl(),w=Ube(),E=typeof u=="boolean"?u:(w==null?void 0:w.value)===f||!1,C=p||(w==null?void 0:w.name),S=T=>{if(m==null||m(T),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(T.nativeEvent.code)){T.preventDefault();const k=Array.from(document.querySelectorAll(`[role="radio"][name="${C||"__mantine"}"]`)),I=k.findIndex(M=>M===T.target),R=I+1>=k.length?0:I+1,O=I-1<0?k.length-1:I-1;T.nativeEvent.code==="ArrowDown"&&(k[R].focus(),k[R].click()),T.nativeEvent.code==="ArrowUp"&&(k[O].focus(),k[O].click()),T.nativeEvent.code==="ArrowLeft"&&(k[y==="ltr"?O:R].focus(),k[y==="ltr"?O:R].click()),T.nativeEvent.code==="ArrowRight"&&(k[y==="ltr"?R:O].focus(),k[y==="ltr"?R:O].click())}};return x.jsx(jHe,{value:{checked:E},children:x.jsx(ss,{ref:t,mod:[{"with-border":d,checked:E},c],...v("card"),...g,role:"radio","aria-checked":E,name:C,onClick:T=>{h==null||h(T),w==null||w.onChange(f||"")},onKeyDown:S})})});uG.displayName="@mantine/core/RadioCard";uG.classes=qbe;const qHe={},cG=We((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,name:l,readOnly:u,...c}=Oe("RadioGroup",qHe,e),d=xa(l),[f,h]=ji({value:n,defaultValue:r,finalValue:"",onChange:i}),p=m=>!u&&h(typeof m=="string"?m:m.currentTarget.value);return x.jsx(LHe,{value:{value:f,onChange:p,size:s,name:d},children:x.jsx($r.Wrapper,{size:s,ref:t,...o,...c,labelElement:"div",__staticSelector:"RadioGroup",children:x.jsx(DW,{role:"radiogroup",children:a})})})});cG.classes=$r.Wrapper.classes;cG.displayName="@mantine/core/RadioGroup";function Hbe({size:e,style:t,...n}){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Be(e),height:Be(e),...t},"aria-hidden":!0,...n,children:x.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var Vbe={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const HHe={icon:Hbe},VHe=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=jd({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":gn(r,"radio-size"),"--radio-radius":t===void 0?void 0:vr(t),"--radio-color":s==="outline"?l:Sr(n,e),"--radio-icon-size":gn(r,"radio-icon-size"),"--radio-icon-color":i?Sr(i,e):Eg(o,e)?mm({color:n,theme:e,autoContrast:o}):void 0}}},dG=We((e,t)=>{const n=Oe("RadioIndicator",HHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,icon:u,radius:c,color:d,iconColor:f,autoContrast:h,checked:p,mod:m,variant:g,disabled:v,...y}=n,w=u,E=kt({name:"RadioIndicator",classes:Vbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:VHe,rootSelector:"indicator"}),C=BHe(),S=typeof p=="boolean"?p:(C==null?void 0:C.checked)||!1;return x.jsx(_e,{ref:t,...E("indicator",{variant:g}),variant:g,mod:[{checked:S,disabled:v},m],...y,children:x.jsx(w,{...E("icon")})})});dG.displayName="@mantine/core/RadioIndicator";dG.classes=Vbe;var Wbe={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const WHe={labelPosition:"right"},GHe=(e,{size:t,radius:n,color:r,iconColor:i,variant:s,autoContrast:o})=>{const a=jd({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":gn(t,"radio-size"),"--radio-radius":n===void 0?void 0:vr(n),"--radio-color":s==="outline"?l:Sr(r,e),"--radio-icon-color":i?Sr(i,e):Eg(o,e)?mm({color:r,theme:e,autoContrast:o}):void 0,"--radio-icon-size":gn(t,"radio-icon-size")}}},zo=We((e,t)=>{const n=Oe("Radio",WHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,id:u,size:c,label:d,labelPosition:f,description:h,error:p,radius:m,color:g,variant:v,disabled:y,wrapperProps:w,icon:E=Hbe,rootRef:C,iconColor:S,onChange:T,mod:k,...I}=n,R=kt({name:"Radio",classes:Wbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:GHe}),O=Ube(),M=(O==null?void 0:O.size)??c,$=n.size?c:M,{styleProps:L,rest:U}=E1(I),B=xa(u),V=O?{checked:O.value===U.value,name:U.name??O.name,onChange:G=>{O.onChange(G),T==null||T(G)}}:{};return x.jsx(GN,{...R("root"),__staticSelector:"Radio",__stylesApiProps:n,id:B,size:$,labelPosition:f,label:d,description:h,error:p,disabled:y,classNames:r,styles:o,unstyled:a,"data-checked":V.checked||void 0,variant:v,ref:C,mod:k,...L,...w,children:x.jsxs(_e,{...R("inner"),mod:{"label-position":f},children:[x.jsx(_e,{...R("radio",{focusable:!0,variant:v}),onChange:T,...U,...V,component:"input",mod:{error:!!p},ref:t,id:B,disabled:y,type:"radio"}),x.jsx(E,{...R("icon"),"aria-hidden":!0})]})})});zo.classes=Wbe;zo.displayName="@mantine/core/Radio";zo.Group=cG;zo.Card=uG;zo.Indicator=dG;const YHe={duration:100,transition:"fade"};function KHe(e,t){return{...YHe,...t,...e}}function XHe({offset:e,position:t,defaultOpened:n}){const[r,i]=D.useState(n),s=D.useRef(null),{x:o,y:a,elements:l,refs:u,update:c,placement:d}=WV({placement:t,middleware:[UV({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?e:t.includes("left")?e*-1:0,h=d.includes("bottom")?e:t.includes("top")?e*-1:0,p=D.useCallback(({clientX:m,clientY:g})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:m,y:g,left:m+f,top:g+h,right:m,bottom:g}}})},[l.reference]);return D.useEffect(()=>{if(u.floating.current){const m=s.current;m.addEventListener("mousemove",p);const g=$p(u.floating.current);return g.forEach(v=>{v.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),g.forEach(v=>{v.removeEventListener("scroll",c)})}}},[l.reference,u.floating.current,c,p,r]),{handleMouseMove:p,x:o,y:a,opened:r,setOpened:i,boundaryRef:s,floating:u.setFloating}}var b$={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const QHe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:go("popover")},JHe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:vr(t),"--tooltip-bg":n?Sr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),fG=We((e,t)=>{const n=Oe("TooltipFloating",QHe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:p,position:m,multiline:g,zIndex:v,disabled:y,defaultOpened:w,variant:E,vars:C,portalProps:S,...T}=n,k=Xi(),I=kt({name:"TooltipFloating",props:n,classes:b$,className:a,style:o,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:C,varsResolver:JHe}),{handleMouseMove:R,x:O,y:M,opened:$,boundaryRef:L,floating:U,setOpened:B}=XHe({offset:p,position:m,defaultOpened:w});if(!fm(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const V=_s(L,IN(r),t),G=r.props,Y=F=>{var W;(W=G.onMouseEnter)==null||W.call(G,F),R(F),B(!0)},z=F=>{var W;(W=G.onMouseLeave)==null||W.call(G,F),B(!1)};return x.jsxs(x.Fragment,{children:[x.jsx(Cg,{...S,withinPortal:s,children:x.jsx(_e,{...T,...I("tooltip",{style:{...NV(o,k),zIndex:v,display:!y&&$?"block":"none",top:(M&&Math.round(M))??"",left:(O&&Math.round(O))??""}}),variant:E,ref:U,mod:{multiline:g},children:h})}),D.cloneElement(r,{...G,[i]:V,onMouseEnter:Y,onMouseLeave:z})]})});fG.classes=b$;fG.displayName="@mantine/core/TooltipFloating";const Gbe=D.createContext(!1),ZHe=Gbe.Provider,eVe=()=>D.useContext(Gbe),tVe={openDelay:0,closeDelay:0};function hG(e){const{openDelay:t,closeDelay:n,children:r}=Oe("TooltipGroup",tVe,e);return x.jsx(ZHe,{value:!0,children:x.jsx(iBe,{delay:{open:t,close:n},children:r})})}hG.displayName="@mantine/core/TooltipGroup";hG.extend=e=>e;function nVe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function rVe(e){const t=nVe(e.middlewares),n=[Zve(e.offset)];return t.shift&&n.push(UV(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?UP():UP(t.flip)),n.push(e1e({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?LS():LS(t.inline)):e.inline&&n.push(LS()),n}function iVe(e){var S,T,k;const[t,n]=D.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,s=eVe(),o=xa(),a=D.useCallback(I=>{n(I),I&&y(o)},[o]),{x:l,y:u,context:c,refs:d,update:f,placement:h,middlewareData:{arrow:{x:p,y:m}={}}}=WV({strategy:e.strategy,placement:e.position,open:i,onOpenChange:a,middleware:rVe(e)}),{delay:g,currentId:v,setCurrentId:y}=sBe(c,{id:o}),{getReferenceProps:w,getFloatingProps:E}=fBe([nBe(c,{enabled:(S=e.events)==null?void 0:S.hover,delay:s?g:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((T=e.events)!=null&&T.touch)}),dBe(c,{enabled:(k=e.events)==null?void 0:k.focus,visibleOnly:!0}),pBe(c,{role:"tooltip"}),uBe(c,{enabled:typeof e.opened>"u"})]);T1e({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:d,update:f}}),Td(()=>{var I;(I=e.onPositionChange)==null||I.call(e,h)},[h]);const C=i&&v&&v!==o;return{x:l,y:u,arrowX:p,arrowY:m,reference:d.setReference,floating:d.setFloating,getFloatingProps:E,getReferenceProps:w,isGroupPhase:C,opened:i,placement:h}}const dse={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:go("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},sVe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:vr(t),"--tooltip-bg":n?Sr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Ut=We((e,t)=>{const n=Oe("Tooltip",dse,e),{children:r,position:i,refProp:s,label:o,openDelay:a,closeDelay:l,onPositionChange:u,opened:c,defaultOpened:d,withinPortal:f,radius:h,color:p,classNames:m,styles:g,unstyled:v,style:y,className:w,withArrow:E,arrowSize:C,arrowOffset:S,arrowRadius:T,arrowPosition:k,offset:I,transitionProps:R,multiline:O,events:M,zIndex:$,disabled:L,positionDependencies:U,onClick:B,onMouseEnter:V,onMouseLeave:G,inline:Y,variant:z,keepMounted:F,vars:W,portalProps:q,mod:K,floatingStrategy:J,middlewares:te,...le}=Oe("Tooltip",dse,n),{dir:oe}=tl(),ie=D.useRef(null),he=iVe({position:b1e(oe,i),closeDelay:l,openDelay:a,onPositionChange:u,opened:c,defaultOpened:d,events:M,arrowRef:ie,arrowOffset:S,offset:typeof I=="number"?I+(E?C/2:0):I,positionDependencies:[...U,r],inline:Y,strategy:J,middlewares:te}),ee=kt({name:"Tooltip",props:n,classes:b$,className:w,style:y,classNames:m,styles:g,unstyled:v,rootSelector:"tooltip",vars:W,varsResolver:sVe});if(!fm(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ne=_s(he.reference,IN(r),t),ue=KHe(R,{duration:100,transition:"fade"}),ve=r.props;return x.jsxs(x.Fragment,{children:[x.jsx(Cg,{...q,withinPortal:f,children:x.jsx(mc,{...ue,keepMounted:F,mounted:!L&&!!he.opened,duration:he.isGroupPhase?10:ue.duration,children:xe=>x.jsxs(_e,{...le,"data-fixed":J==="fixed"||void 0,variant:z,mod:[{multiline:O},K],...he.getFloatingProps({ref:he.floating,className:ee("tooltip").className,style:{...ee("tooltip").style,...xe,zIndex:$,top:he.y??0,left:he.x??0}}),children:[o,x.jsx(QV,{ref:ie,arrowX:he.arrowX,arrowY:he.arrowY,visible:E,position:he.placement,arrowSize:C,arrowOffset:S,arrowRadius:T,arrowPosition:k,...ee("arrow")})]})})}),D.cloneElement(r,he.getReferenceProps({onClick:B,onMouseEnter:V,onMouseLeave:G,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Dt(w,ve.className),...ve,[s]:ne}))]})});Ut.classes=b$;Ut.displayName="@mantine/core/Tooltip";Ut.Floating=fG;Ut.Group=hG;function oVe({size:e,thickness:t,sum:n,value:r,root:i,offset:s}){const o=(e*.9-t*2)/2,a=Math.PI*o*2/100,l=i||r===void 0?`${(100-n)*a}, ${n*a}`:`${r*a}, ${(100-r)*a}`;return{strokeWidth:Number.isNaN(t)?12:t,cx:e/2||0,cy:e/2||0,r:o||0,transform:i?`scale(1, -1) translate(0, -${e})`:void 0,strokeDasharray:l,strokeDashoffset:i?0:s||0}}function Ybe({size:e,value:t,offset:n,sum:r,thickness:i,root:s,color:o,lineRoundCaps:a,tooltip:l,getStyles:u,display:c,...d}){const f=Xi();return x.jsx(Ut.Floating,{disabled:!l,label:l,children:x.jsx(_e,{component:"circle",...d,...u("curve"),__vars:{"--curve-color":o?Sr(o,f):void 0},fill:"none",strokeLinecap:a?"round":"butt",...oVe({sum:r,size:e,thickness:i,value:t,offset:n,root:s})})})}Ybe.displayName="@mantine/core/Curve";function aVe({size:e,thickness:t,sections:n,renderRoundedLineCaps:r,rootColor:i}){const s=n.reduce((c,d)=>c+d.value,0),o=Math.PI*((e*.9-t*2)/2)*2;let a=o;const l=[],u=[];for(let c=0;c<n.length;c+=1)l.push({sum:s,offset:a,data:n[c],root:!1}),a-=n[c].value/100*o;if(l.push({sum:s,offset:a,data:{color:i},root:!0}),u.push({...l[l.length-1],lineRoundCaps:!1}),l.length>2){u.push({...l[0],lineRoundCaps:r}),u.push({...l[l.length-2],lineRoundCaps:r});for(let c=1;c<=l.length-3;c+=1)u.push({...l[c],lineRoundCaps:!1})}else u.push({...l[0],lineRoundCaps:r});return u}var Kbe={root:"m_b32e4812",svg:"m_d43b5134",curve:"m_b1ca1fbf",label:"m_b23f9dc4"};function lVe(e,t){return Math.min(e||12,(t||120)/4)}const uVe={size:120,thickness:12},cVe=(e,{size:t,thickness:n,transitionDuration:r})=>({root:{"--rp-size":Be(t),"--rp-label-offset":Be(n*2),"--rp-transition-duration":r?`${r}ms`:void 0}}),pG=We((e,t)=>{const n=Oe("RingProgress",uVe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,label:u,sections:c,size:d,thickness:f,roundCaps:h,rootColor:p,transitionDuration:m,...g}=n,v=kt({name:"RingProgress",classes:Kbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:cVe}),y=lVe(f,d),w=aVe({size:d,thickness:y,sections:c,renderRoundedLineCaps:h,rootColor:p}).map(({data:E,sum:C,root:S,lineRoundCaps:T,offset:k},I)=>D.createElement(Ybe,{...E,key:I,size:d,thickness:y,sum:C,offset:k,color:E==null?void 0:E.color,root:S,lineRoundCaps:T,getStyles:v}));return x.jsxs(_e,{...v("root"),size:d,ref:t,...g,children:[x.jsx("svg",{...v("svg"),children:w}),u&&x.jsx("div",{...v("label"),children:u})]})});pG.classes=Kbe;pG.displayName="@mantine/core/RingProgress";const dVe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Ag=We((e,t)=>{const n=Oe("Select",dVe,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:v,selectFirstOptionOnChange:y,onOptionSubmit:w,comboboxProps:E,readOnly:C,disabled:S,filter:T,limit:k,withScrollArea:I,maxDropdownHeight:R,size:O,searchable:M,rightSection:$,checkIconPosition:L,withCheckIcon:U,nothingFoundMessage:B,name:V,form:G,searchValue:Y,defaultSearchValue:z,onSearchChange:F,allowDeselect:W,error:q,rightSectionPointerEvents:K,id:J,clearable:te,clearButtonProps:le,hiddenInputProps:oe,renderOption:ie,onClear:he,autoComplete:ee,scrollAreaProps:ne,__defaultRightSection:ue,__clearSection:ve,__clearable:xe,chevronColor:Re,...Te}=n,we=D.useMemo(()=>qN(m),[m]),He=D.useMemo(()=>HN(we),[we]),Xe=xa(J),[tt,ft,rt]=ji({value:g,defaultValue:v,finalValue:null,onChange:p}),Pe=typeof tt=="string"?He[tt]:void 0,Le=pLe(Pe),[ge,$e,ze]=ji({value:Y,defaultValue:z,finalValue:Pe?Pe.label:"",onChange:F}),it=WN({opened:a,defaultOpened:l,onDropdownOpen:()=>{c==null||c(),it.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),it.resetSelectedOption()}}),st=Lt=>{$e(Lt),it.resetSelectedOption()},{resolvedClassNames:wt,resolvedStyles:un}=Eh({props:n,styles:i,classNames:r});D.useEffect(()=>{y&&it.selectFirstOption()},[y,ge]),D.useEffect(()=>{g===null&&st(""),typeof g=="string"&&Pe&&((Le==null?void 0:Le.value)!==Pe.value||(Le==null?void 0:Le.label)!==Pe.label)&&st(Pe.label)},[g,Pe]),D.useEffect(()=>{var Lt;!rt&&!ze&&st(typeof tt=="string"&&((Lt=He[tt])==null?void 0:Lt.label)||"")},[m,tt]);const Rn=x.jsx(Un.ClearButton,{...le,onClear:()=>{ft(null,null),st(""),he==null||he()}}),Mn=te&&!!tt&&!S&&!C;return x.jsxs(x.Fragment,{children:[x.jsxs(Un,{store:it,__staticSelector:"Select",classNames:wt,styles:un,unstyled:s,readOnly:C,onOptionSubmit:Lt=>{w==null||w(Lt);const wn=W&&He[Lt].value===tt?null:He[Lt],Gn=wn?wn.value:null;Gn!==tt&&ft(Gn,wn),!rt&&st(typeof Gn=="string"&&(wn==null?void 0:wn.label)||""),it.closeDropdown()},size:O,...E,children:[x.jsx(Un.Target,{targetType:M?"input":"button",autoComplete:ee,children:x.jsx(_a,{id:Xe,ref:t,__defaultRightSection:x.jsx(Un.Chevron,{size:O,error:q,unstyled:s,color:Re}),__clearSection:Rn,__clearable:Mn,rightSection:$,rightSectionPointerEvents:K||(Mn?"all":"none"),...Te,size:O,__staticSelector:"Select",disabled:S,readOnly:C||!M,value:ge,onChange:Lt=>{st(Lt.currentTarget.value),it.openDropdown(),y&&it.selectFirstOption()},onFocus:Lt=>{M&&it.openDropdown(),d==null||d(Lt)},onBlur:Lt=>{var wn;M&&it.closeDropdown(),st(tt!=null&&((wn=He[tt])==null?void 0:wn.label)||""),f==null||f(Lt)},onClick:Lt=>{M?it.openDropdown():it.toggleDropdown(),h==null||h(Lt)},classNames:wt,styles:un,unstyled:s,pointer:!M,error:q})}),x.jsx(NW,{data:we,hidden:C||S,filter:T,search:ge,limit:k,hiddenWhenEmpty:!B,withScrollArea:I,maxDropdownHeight:R,filterOptions:M&&(Pe==null?void 0:Pe.label)!==ge,value:tt,checkIconPosition:L,withCheckIcon:U,nothingFoundMessage:B,unstyled:s,labelId:Te.label?`${Xe}-label`:void 0,"aria-label":Te.label?void 0:Te["aria-label"],renderOption:ie,scrollAreaProps:ne})]}),x.jsx(Un.HiddenInput,{value:tt,name:V,form:G,disabled:S,...oe})]})});Ag.classes={..._a.classes,...Un.classes};Ag.displayName="@mantine/core/Select";function fVe({spacing:e,verticalSpacing:t,cols:n,selector:r}){var c;const i=Xi(),s=t===void 0?e:t,o=_g({"--sg-spacing-x":wi(od(e)),"--sg-spacing-y":wi(od(s)),"--sg-cols":(c=od(n))==null?void 0:c.toString()}),a=si(i.breakpoints).reduce((d,f)=>(d[f]||(d[f]={}),typeof e=="object"&&e[f]!==void 0&&(d[f]["--sg-spacing-x"]=wi(e[f])),typeof s=="object"&&s[f]!==void 0&&(d[f]["--sg-spacing-y"]=wi(s[f])),typeof n=="object"&&n[f]!==void 0&&(d[f]["--sg-cols"]=n[f]),d),{}),u=S2(si(a),i.breakpoints).filter(d=>si(a[d.value]).length>0).map(d=>({query:`(min-width: ${i.breakpoints[d.value]})`,styles:a[d.value]}));return x.jsx(_1,{styles:o,media:u,selector:r})}function QF(e){return typeof e=="object"&&e!==null?si(e):[]}function hVe(e){return e.sort((t,n)=>C2(t)-C2(n))}function pVe({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...QF(e),...QF(t),...QF(n)]));return hVe(r)}function mVe({spacing:e,verticalSpacing:t,cols:n,selector:r}){var u;const i=t===void 0?e:t,s=_g({"--sg-spacing-x":wi(od(e)),"--sg-spacing-y":wi(od(i)),"--sg-cols":(u=od(n))==null?void 0:u.toString()}),o=pVe({spacing:e,verticalSpacing:t,cols:n}),a=o.reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--sg-spacing-x"]=wi(e[d])),typeof i=="object"&&i[d]!==void 0&&(c[d]["--sg-spacing-y"]=wi(i[d])),typeof n=="object"&&n[d]!==void 0&&(c[d]["--sg-cols"]=n[d]),c),{}),l=o.map(c=>({query:`simple-grid (min-width: ${c})`,styles:a[c]}));return x.jsx(_1,{styles:s,container:l,selector:r})}var Xbe={container:"m_925c2d2c",root:"m_2415a157"};const gVe={cols:1,spacing:"md",type:"media"},mG=We((e,t)=>{const n=Oe("SimpleGrid",gVe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,cols:u,verticalSpacing:c,spacing:d,type:f,...h}=n,p=kt({name:"SimpleGrid",classes:Xbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l}),m=FT();return f==="container"?x.jsxs(x.Fragment,{children:[x.jsx(mVe,{...n,selector:`.${m}`}),x.jsx("div",{...p("container"),children:x.jsx(_e,{ref:t,...p("root",{className:m}),...h})})]}):x.jsxs(x.Fragment,{children:[x.jsx(fVe,{...n,selector:`.${m}`}),x.jsx(_e,{ref:t,...p("root",{className:m}),...h})]})});mG.classes=Xbe;mG.displayName="@mantine/core/SimpleGrid";var Qbe={root:"m_18320242","skeleton-fade":"m_299c329c"};const yVe={visible:!0,animate:!0},vVe=(e,{width:t,height:n,radius:r,circle:i})=>({root:{"--skeleton-height":Be(n),"--skeleton-width":Be(i?n:t),"--skeleton-radius":i?"1000px":r===void 0?void 0:vr(r)}}),gG=We((e,t)=>{const n=Oe("Skeleton",yVe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,width:u,height:c,circle:d,visible:f,radius:h,animate:p,mod:m,...g}=n,v=kt({name:"Skeleton",classes:Qbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:vVe});return x.jsx(_e,{ref:t,...v("root"),mod:[{visible:f,animate:p},m],...g})});gG.classes=Qbe;gG.displayName="@mantine/core/Skeleton";const[Jbe,w$]=xs("SliderProvider was not found in tree"),yG=D.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:s,...o},a)=>{const{getStyles:l}=w$();return x.jsx(_e,{tabIndex:-1,variant:n,size:e,ref:a,...l("root"),...o})});yG.displayName="@mantine/core/SliderRoot";const WP=D.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:u,thumbLabel:c,onFocus:d,onBlur:f,showLabelOnHover:h,isHovered:p,children:m=null,disabled:g},v)=>{const{getStyles:y}=w$(),[w,E]=D.useState(!1),C=u||s||w||h&&p;return x.jsxs(_e,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:v,__vars:{"--slider-thumb-offset":`${r}%`},...y("thumb",{focusable:!0}),mod:{dragging:s,disabled:g},onFocus:S=>{E(!0),typeof d=="function"&&d(S)},onBlur:S=>{E(!1),typeof f=="function"&&f(S)},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:S=>S.stopPropagation(),children:[m,x.jsx(mc,{mounted:i!=null&&!!C,transition:"fade",duration:0,...l,children:S=>x.jsx("div",{...y("label",{style:S}),children:i})})]})});WP.displayName="@mantine/core/SliderThumb";function GP({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function bVe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function Zbe({marks:e,min:t,max:n,disabled:r,value:i,offset:s,inverted:o}){const{getStyles:a}=w$();if(!e)return null;const l=e.map((u,c)=>D.createElement(_e,{...a("markWrapper"),__vars:{"--mark-offset":`${GP({value:u.value,min:t,max:n})}%`},key:c},x.jsx(_e,{...a("mark"),mod:{filled:bVe({mark:u,value:i,offset:s,inverted:o}),disabled:r}}),u.label&&x.jsx("div",{...a("markLabel"),children:u.label})));return x.jsx("div",{children:l})}Zbe.displayName="@mantine/core/SliderMarks";function vG({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:s,containerProps:o,...a}){const{getStyles:l}=w$();return x.jsx(_e,{...l("trackContainer"),mod:{disabled:r},...o,children:x.jsxs(_e,{...l("track"),mod:{inverted:s,disabled:r},children:[x.jsx(_e,{mod:{inverted:s,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),t,x.jsx(Zbe,{...a,offset:i,disabled:r,inverted:s})]})})}vG.displayName="@mantine/core/SliderTrack";function ez({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return s!==void 0?Number(u.toFixed(s)):u}function Fu(e,t){return parseFloat(e.toFixed(t))}function ewe(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function ov(e,t){const r=[...t].sort((i,s)=>i.value-s.value).find(i=>i.value>e);return r?r.value:e}function av(e,t){const r=[...t].sort((i,s)=>s.value-i.value).find(i=>i.value<e);return r?r.value:e}function tz(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function nz(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var x$={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const wVe={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},xVe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":gn(t,"slider-size"),"--slider-color":n?Sr(n,e):void 0,"--slider-radius":i===void 0?void 0:vr(i),"--slider-thumb-size":r!==void 0?Be(r):"calc(var(--slider-size) * 2)"}}),Gw=We((e,t)=>{const n=Oe("Slider",wVe,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:l,min:u,max:c,step:d,precision:f,defaultValue:h,name:p,marks:m,label:g,labelTransitionProps:v,labelAlwaysOn:y,thumbLabel:w,showLabelOnHover:E,thumbChildren:C,disabled:S,unstyled:T,scale:k,inverted:I,className:R,style:O,vars:M,hiddenInputProps:$,restrictToMarks:L,thumbProps:U,...B}=n,V=kt({name:"Slider",props:n,classes:x$,classNames:r,className:R,styles:i,style:O,vars:M,varsResolver:xVe,unstyled:T}),{dir:G}=tl(),[Y,z]=D.useState(!1),[F,W]=ji({value:typeof s=="number"?Gf(s,u,c):s,defaultValue:typeof h=="number"?Gf(h,u,c):h,finalValue:Gf(0,u,c),onChange:o}),q=D.useRef(F),K=D.useRef(a);D.useEffect(()=>{K.current=a},[a]);const J=D.useRef(null),te=D.useRef(null),le=GP({value:F,min:u,max:c}),oe=k(F),ie=typeof g=="function"?g(oe):g,he=f??ewe(d),ee=D.useCallback(({x:Te})=>{if(!S){const we=ez({value:Te,min:u,max:c,step:d,precision:he});W(L&&(m!=null&&m.length)?j7(we,m.map(He=>He.value)):we),q.current=we}},[S,u,c,d,he,W,m,L]),ne=D.useCallback(()=>{if(!S&&K.current){const Te=L&&(m!=null&&m.length)?j7(q.current,m.map(we=>we.value)):q.current;K.current(Te)}},[S,m,L]),{ref:ue,active:ve}=AV(ee,{onScrubEnd:ne},G),xe=D.useCallback(Te=>{!S&&K.current&&K.current(Te)},[S]),Re=Te=>{var we,He,Xe,tt,ft,rt;if(!S)switch(Te.key){case"ArrowUp":{if(Te.preventDefault(),(we=te.current)==null||we.focus(),L&&m){const Le=ov(F,m);W(Le),xe(Le);break}const Pe=Fu(Math.min(Math.max(F+d,u),c),he);W(Pe),xe(Pe);break}case"ArrowRight":{if(Te.preventDefault(),(He=te.current)==null||He.focus(),L&&m){const Le=G==="rtl"?av(F,m):ov(F,m);W(Le),xe(Le);break}const Pe=Fu(Math.min(Math.max(G==="rtl"?F-d:F+d,u),c),he);W(Pe),xe(Pe);break}case"ArrowDown":{if(Te.preventDefault(),(Xe=te.current)==null||Xe.focus(),L&&m){const Le=av(F,m);W(Le),xe(Le);break}const Pe=Fu(Math.min(Math.max(F-d,u),c),he);W(Pe),xe(Pe);break}case"ArrowLeft":{if(Te.preventDefault(),(tt=te.current)==null||tt.focus(),L&&m){const Le=G==="rtl"?ov(F,m):av(F,m);W(Le),xe(Le);break}const Pe=Fu(Math.min(Math.max(G==="rtl"?F+d:F-d,u),c),he);W(Pe),xe(Pe);break}case"Home":{if(Te.preventDefault(),(ft=te.current)==null||ft.focus(),L&&m){W(tz(m)),xe(tz(m));break}W(u),xe(u);break}case"End":{if(Te.preventDefault(),(rt=te.current)==null||rt.focus(),L&&m){W(nz(m)),xe(nz(m));break}W(c),xe(c);break}}};return x.jsx(Jbe,{value:{getStyles:V},children:x.jsxs(yG,{...B,ref:_s(t,J),onKeyDownCapture:Re,onMouseDownCapture:()=>{var Te;return(Te=J.current)==null?void 0:Te.focus()},size:l,disabled:S,children:[x.jsx(vG,{inverted:I,offset:0,filled:le,marks:m,min:u,max:c,value:oe,disabled:S,containerProps:{ref:ue,onMouseEnter:E?()=>z(!0):void 0,onMouseLeave:E?()=>z(!1):void 0},children:x.jsx(WP,{max:c,min:u,value:oe,position:le,dragging:ve,label:ie,ref:te,labelTransitionProps:v,labelAlwaysOn:y,thumbLabel:w,showLabelOnHover:E,isHovered:Y,disabled:S,...U,children:C})}),x.jsx("input",{type:"hidden",name:p,value:oe,...$})]})})});Gw.classes=x$;Gw.displayName="@mantine/core/Slider";function _Ve(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const EVe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":gn(t,"slider-size"),"--slider-color":n?Sr(n,e):void 0,"--slider-radius":i===void 0?void 0:vr(i),"--slider-thumb-size":r!==void 0?Be(r):"calc(var(--slider-size) * 2)"}}),CVe={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,scale:e=>e},bG=We((e,t)=>{const n=Oe("RangeSlider",CVe,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:l,min:u,max:c,minRange:d,maxRange:f,step:h,precision:p,defaultValue:m,name:g,marks:v,label:y,labelTransitionProps:w,labelAlwaysOn:E,thumbFromLabel:C,thumbToLabel:S,showLabelOnHover:T,thumbChildren:k,disabled:I,unstyled:R,scale:O,inverted:M,className:$,style:L,vars:U,hiddenInputProps:B,restrictToMarks:V,thumbProps:G,...Y}=n,z=kt({name:"Slider",props:n,classes:x$,classNames:r,className:$,styles:i,style:L,vars:U,varsResolver:EVe,unstyled:R}),{dir:F}=tl(),[W,q]=D.useState(-1),[K,J]=D.useState(!1),[te,le]=ji({value:s,defaultValue:m,finalValue:[u,c],onChange:o}),oe=D.useRef(te),ie=D.useRef([]),he=D.useRef(null),ee=D.useRef(void 0),ne=[GP({value:te[0],min:u,max:c}),GP({value:te[1],min:u,max:c})],ue=p??ewe(h),ve=Le=>{le(Le),oe.current=Le};D.useEffect(()=>{Array.isArray(s)&&(oe.current=s)},Array.isArray(s)?[s[0],s[1]]:[null,null]);const xe=(Le,ge,$e)=>{if(ge===-1)return;const ze=[...oe.current];if(V&&v){const it=j7(Le,v.map(Mn=>Mn.value)),st=ze[ge];ze[ge]=it;const wt=ge===0?1:0,un=nz(v),Rn=tz(v);it===un&&ze[wt]===un||it===Rn&&ze[wt]===Rn?ze[ge]=st:it===ze[wt]&&(st>ze[wt]?ze[wt]=av(it,v):ze[wt]=ov(it,v))}else ze[ge]=Le,ge===0&&(Le>ze[1]-(d-1e-9)&&(ze[1]=Math.min(Le+d,c)),Le>(c-(d-1e-9)||u)&&(ze[ge]=oe.current[ge]),ze[1]-Le>f&&(ze[1]=Le+f)),ge===1&&(Le<ze[0]+d&&(ze[0]=Math.max(Le-d,u)),Le<ze[0]+d&&(ze[ge]=oe.current[ge]),Le-ze[0]>f&&(ze[0]=Le-f));if(ze[0]=Fu(ze[0],ue),ze[1]=Fu(ze[1],ue),ze[0]>ze[1]){const it=ze[0];ze[0]=ze[1],ze[1]=it}ve(ze),$e&&(a==null||a(oe.current))},Re=Le=>{if(!I){const ge=ez({value:Le,min:u,max:c,step:h,precision:ue});xe(ge,ee.current,!1)}},{ref:Te,active:we}=AV(({x:Le})=>Re(Le),{onScrubEnd:()=>!I&&(a==null?void 0:a(oe.current))},F);function He(Le){ee.current=Le}const Xe=Le=>{Te.current.focus();const ge=Te.current.getBoundingClientRect(),$e=_Ve(Le.nativeEvent),ze=ez({value:$e-ge.left,max:c,min:u,step:h,containerWidth:ge.width}),it=Math.abs(te[0]-ze)>Math.abs(te[1]-ze)?1:0,st=F==="ltr"?it:it===1?0:1;ee.current=st},tt=()=>W!==1&&W!==0?(q(0),0):W,ft=Le=>{if(!I)switch(Le.key){case"ArrowUp":{Le.preventDefault();const ge=tt();ie.current[ge].focus();const $e=V&&v?ov(oe.current[ge],v):Math.min(Math.max(oe.current[ge]+h,u),c);xe(Fu($e,ue),ge,!0);break}case"ArrowRight":{Le.preventDefault();const ge=tt();ie.current[ge].focus();const $e=V&&v?(F==="rtl"?av:ov)(oe.current[ge],v):Math.min(Math.max(F==="rtl"?oe.current[ge]-h:oe.current[ge]+h,u),c);xe(Fu($e,ue),ge,!0);break}case"ArrowDown":{Le.preventDefault();const ge=tt();ie.current[ge].focus();const $e=V&&v?av(oe.current[ge],v):Math.min(Math.max(oe.current[ge]-h,u),c);xe(Fu($e,ue),ge,!0);break}case"ArrowLeft":{Le.preventDefault();const ge=tt();ie.current[ge].focus();const $e=V&&v?(F==="rtl"?ov:av)(oe.current[ge],v):Math.min(Math.max(F==="rtl"?oe.current[ge]+h:oe.current[ge]-h,u),c);xe(Fu($e,ue),ge,!0);break}}},rt={max:c,min:u,size:l,labelTransitionProps:w,labelAlwaysOn:E,onBlur:()=>q(-1)},Pe=Array.isArray(k);return x.jsx(Jbe,{value:{getStyles:z},children:x.jsxs(yG,{...Y,size:l,ref:_s(t,he),disabled:I,onMouseDownCapture:()=>{var Le;return(Le=he.current)==null?void 0:Le.focus()},onKeyDownCapture:()=>{var Le,ge,$e;(ge=(Le=ie.current[0])==null?void 0:Le.parentElement)!=null&&ge.contains(document.activeElement)||($e=ie.current[0])==null||$e.focus()},children:[x.jsxs(vG,{offset:ne[0],marksOffset:te[0],filled:ne[1]-ne[0],marks:v,inverted:M,min:u,max:c,value:te[1],disabled:I,containerProps:{ref:Te,onMouseEnter:T?()=>J(!0):void 0,onMouseLeave:T?()=>J(!1):void 0,onTouchStartCapture:Xe,onTouchEndCapture:()=>{ee.current=-1},onMouseDownCapture:Xe,onMouseUpCapture:()=>{ee.current=-1},onKeyDownCapture:ft},children:[x.jsx(WP,{...rt,value:O(te[0]),position:ne[0],dragging:we,label:typeof y=="function"?y(Fu(O(te[0]),ue)):y,ref:Le=>{ie.current[0]=Le},thumbLabel:C,onMouseDown:()=>He(0),onFocus:()=>q(0),showLabelOnHover:T,isHovered:K,disabled:I,...G==null?void 0:G(0),children:Pe?k[0]:k}),x.jsx(WP,{...rt,thumbLabel:S,value:O(te[1]),position:ne[1],dragging:we,label:typeof y=="function"?y(Fu(O(te[1]),ue)):y,ref:Le=>{ie.current[1]=Le},onMouseDown:()=>He(1),onFocus:()=>q(1),showLabelOnHover:T,isHovered:K,disabled:I,...G==null?void 0:G(1),children:Pe?k[1]:k})]}),x.jsx("input",{type:"hidden",name:`${g}_from`,value:te[0],...B}),x.jsx("input",{type:"hidden",name:`${g}_to`,value:te[1],...B})]})})});bG.classes=x$;bG.displayName="@mantine/core/RangeSlider";const SVe={},Ju=We((e,t)=>{const{w:n,h:r,miw:i,mih:s,...o}=Oe("Space",SVe,e);return x.jsx(_e,{ref:t,...o,w:n,miw:i??n,h:r,mih:s??r})});Ju.displayName="@mantine/core/Space";var twe={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const TVe={maxHeight:100,initialState:!1},kVe=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),wG=We((e,t)=>{const n=Oe("Spoiler",TVe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,initialState:u,maxHeight:c,hideLabel:d,showLabel:f,children:h,controlRef:p,transitionDuration:m,id:g,expanded:v,onExpandedChange:y,...w}=n,E=kt({name:"Spoiler",classes:twe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:kVe}),C=xa(g),S=`${C}-region`,[T,k]=ji({value:v,defaultValue:u,finalValue:!1,onChange:y}),{ref:I,height:R}=fLe(),O=T?d:f,M=O!==null&&c<R;return x.jsxs(_e,{...E("root"),id:C,ref:t,"data-has-spoiler":M||void 0,...w,children:[M&&x.jsx(C1,{component:"button",type:"button",ref:p,onClick:()=>k(!T),"aria-expanded":T,"aria-controls":S,...E("control"),children:O}),x.jsx("div",{...E("content",{style:{maxHeight:T?R?Be(R):void 0:Be(c)}}),"data-reduce-motion":!0,role:"region",id:S,children:x.jsx("div",{ref:I,children:h})})]})});wG.classes=twe;wG.displayName="@mantine/core/Spoiler";var nwe={root:"m_6d731127"};const AVe={gap:"md",align:"stretch",justify:"flex-start"},IVe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":wi(t),"--stack-align":n,"--stack-justify":r}}),Mi=We((e,t)=>{const n=Oe("Stack",AVe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,align:u,justify:c,gap:d,variant:f,...h}=n,p=kt({name:"Stack",props:n,classes:nwe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:IVe});return x.jsx(_e,{ref:t,...p("root"),variant:f,...h})});Mi.classes=nwe;Mi.displayName="@mantine/core/Stack";const rwe=D.createContext(null),RVe=rwe.Provider,DVe=()=>D.useContext(rwe),PVe={},xG=We((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:l,...u}=Oe("SwitchGroup",PVe,e),[c,d]=ji({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return x.jsx(RVe,{value:{value:c,onChange:f,size:s},children:x.jsx($r.Wrapper,{size:s,ref:t,...o,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:x.jsx(DW,{role:"group",children:a})})})});xG.classes=$r.Wrapper.classes;xG.displayName="@mantine/core/SwitchGroup";var iwe={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const OVe={labelPosition:"right"},NVe=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:vr(t),"--switch-height":gn(r,"switch-height"),"--switch-width":gn(r,"switch-width"),"--switch-thumb-size":gn(r,"switch-thumb-size"),"--switch-label-font-size":gn(r,"switch-label-font-size"),"--switch-track-label-padding":gn(r,"switch-track-label-padding"),"--switch-color":n?Sr(n,e):void 0}}),U0=We((e,t)=>{const n=Oe("Switch",OVe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,label:c,offLabel:d,onLabel:f,id:h,size:p,radius:m,wrapperProps:g,thumbIcon:v,checked:y,defaultChecked:w,onChange:E,labelPosition:C,description:S,error:T,disabled:k,variant:I,rootRef:R,mod:O,...M}=n,$=DVe(),L=p||($==null?void 0:$.size),U=kt({name:"Switch",props:n,classes:iwe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:NVe}),{styleProps:B,rest:V}=E1(M),G=xa(h),Y=$?{checked:$.value.includes(V.value),onChange:$.onChange}:{},[z,F]=ji({value:Y.checked??y,defaultValue:w,finalValue:!1});return x.jsxs(GN,{...U("root"),__staticSelector:"Switch",__stylesApiProps:n,id:G,size:L,labelPosition:C,label:c,description:S,error:T,disabled:k,bodyElement:"label",labelElement:"span",classNames:r,styles:o,unstyled:a,"data-checked":Y.checked||y||void 0,variant:I,ref:R,mod:O,...B,...g,children:[x.jsx("input",{...V,disabled:k,checked:z,"data-checked":Y.checked||y||void 0,onChange:W=>{var q;$?(q=Y.onChange)==null||q.call(Y,W):E==null||E(W),F(W.currentTarget.checked)},id:G,ref:t,type:"checkbox",role:"switch",...U("input")}),x.jsxs(_e,{"aria-hidden":"true",component:"span",mod:{error:T,"label-position":C,"without-labels":!f&&!d},...U("track"),children:[x.jsx(_e,{component:"span",mod:"reduce-motion",...U("thumb"),children:v}),x.jsx("span",{...U("trackLabel"),children:z?f:d})]})]})});U0.classes={...iwe,...X1e};U0.displayName="@mantine/core/Switch";U0.Group=xG;const[$Ve,MVe]=xs("Table component was not found in the tree");var QT={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function FVe(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function T1(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=We((i,s)=>{const o=Oe(n,{},i),{classNames:a,className:l,style:u,styles:c,...d}=o,f=MVe();return x.jsx(_e,{component:e,ref:s,...FVe(f,t),...f.getStyles(e,{className:l,classNames:a,style:u,styles:c,props:o}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=QT,r}const kx=T1("th",{columnBorder:!0}),JT=T1("td",{columnBorder:!0}),Mp=T1("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),_G=T1("thead",{stickyHeader:!0}),jS=T1("tbody"),EG=T1("tfoot"),swe=T1("caption",{captionSide:!0});function CG({data:e}){return x.jsxs(x.Fragment,{children:[e.caption&&x.jsx(swe,{children:e.caption}),e.head&&x.jsx(_G,{children:x.jsx(Mp,{children:e.head.map((t,n)=>x.jsx(kx,{children:t},n))})}),e.body&&x.jsx(jS,{children:e.body.map((t,n)=>x.jsx(Mp,{children:t.map((r,i)=>x.jsx(JT,{children:r},i))},n))}),e.foot&&x.jsx(EG,{children:x.jsx(Mp,{children:e.foot.map((t,n)=>x.jsx(kx,{children:t},n))})})]})}CG.displayName="@mantine/core/TableDataRenderer";const LVe={type:"scrollarea"},jVe=(e,{minWidth:t,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":Be(t),"--table-max-height":Be(n),"--table-overflow":r==="native"?"auto":void 0}}),SG=We((e,t)=>{const n=Oe("TableScrollContainer",LVe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,minWidth:c,maxHeight:d,type:f,scrollAreaProps:h,...p}=n,m=kt({name:"TableScrollContainer",classes:QT,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:jVe,rootSelector:"scrollContainer"});return x.jsx(_e,{component:f==="scrollarea"?Id:"div",...f==="scrollarea"?d?{offsetScrollbars:"xy",...h}:{offsetScrollbars:"x",...h}:{},ref:t,...m("scrollContainer"),...p,children:x.jsx("div",{...m("scrollContainerInner"),children:u})})});SG.classes=QT;SG.displayName="@mantine/core/TableScrollContainer";const BVe={withRowBorders:!0,verticalSpacing:7},zVe=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:s,stripedColor:o,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":wi(r),"--table-vertical-spacing":wi(i),"--table-border-color":s?Sr(s,e):void 0,"--table-striped-color":l&&o?Sr(o,e):void 0,"--table-highlight-on-hover-color":u&&a?Sr(a,e):void 0,"--table-sticky-header-offset":d?Be(c):void 0}}),Xn=We((e,t)=>{const n=Oe("Table",BVe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:f,highlightOnHoverColor:h,striped:p,highlightOnHover:m,withColumnBorders:g,withRowBorders:v,withTableBorder:y,borderColor:w,layout:E,variant:C,data:S,children:T,stickyHeader:k,stickyHeaderOffset:I,mod:R,tabularNums:O,...M}=n,$=kt({name:"Table",props:n,className:i,style:s,classes:QT,classNames:r,styles:o,unstyled:a,rootSelector:"table",vars:l,varsResolver:zVe});return x.jsx($Ve,{value:{getStyles:$,stickyHeader:k,striped:p===!0?"odd":p||void 0,highlightOnHover:m,withColumnBorders:g,withRowBorders:v,captionSide:d||"bottom"},children:x.jsx(_e,{component:"table",variant:C,ref:t,mod:[{"data-with-table-border":y,"data-tabular-nums":O},R],...$("table"),...M,children:T||!!S&&x.jsx(CG,{data:S})})})});Xn.classes=QT;Xn.displayName="@mantine/core/Table";Xn.Td=JT;Xn.Th=kx;Xn.Tr=Mp;Xn.Thead=_G;Xn.Tbody=jS;Xn.Tfoot=EG;Xn.Caption=swe;Xn.ScrollContainer=SG;Xn.DataRenderer=CG;const[UVe,TG]=xs("Tabs component was not found in the tree");var ZT={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const qVe={},kG=We((e,t)=>{const n=Oe("TabsList",qVe,e),{children:r,className:i,grow:s,justify:o,classNames:a,styles:l,style:u,mod:c,...d}=n,f=TG();return x.jsx(_e,{...d,...f.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:s,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},c],"aria-orientation":f.orientation,__vars:{"--tabs-justify":o},children:r})});kG.classes=ZT;kG.displayName="@mantine/core/TabsList";const HVe={},AG=We((e,t)=>{const n=Oe("TabsPanel",HVe,e),{children:r,className:i,value:s,classNames:o,styles:a,style:l,mod:u,keepMounted:c,...d}=n,f=TG(),h=f.value===s,p=f.keepMounted||c||h?r:null;return x.jsx(_e,{...d,...f.getStyles("panel",{className:i,classNames:o,styles:a,style:[l,h?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},u],role:"tabpanel",id:f.getPanelId(s),"aria-labelledby":f.getTabId(s),children:p})});AG.classes=ZT;AG.displayName="@mantine/core/TabsPanel";const VVe={},IG=We((e,t)=>{const n=Oe("TabsTab",VVe,e),{className:r,children:i,rightSection:s,leftSection:o,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:f,classNames:h,styles:p,vars:m,mod:g,tabIndex:v,...y}=n,w=Xi(),{dir:E}=tl(),C=TG(),S=a===C.value,T=I=>{C.onChange(C.allowTabDeactivation&&a===C.value?null:a),l==null||l(I)},k={classNames:h,styles:p,props:n};return x.jsxs(ss,{...y,...C.getStyles("tab",{className:r,style:f,variant:C.variant,...k}),disabled:c,unstyled:C.unstyled,variant:C.variant,mod:[{active:S,disabled:c,orientation:C.orientation,inverted:C.inverted,placement:C.orientation==="vertical"&&C.placement},g],ref:t,role:"tab",id:C.getTabId(a),"aria-selected":S,tabIndex:v!==void 0?v:S||C.value===null?0:-1,"aria-controls":C.getPanelId(a),onClick:T,__vars:{"--tabs-color":d?Sr(d,w):void 0},onKeyDown:SV({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:C.activateTabWithKeyboard,loop:C.loop,orientation:C.orientation||"horizontal",dir:E,onKeyDown:u}),children:[o&&x.jsx("span",{...C.getStyles("tabSection",k),"data-position":"left",children:o}),i&&x.jsx("span",{...C.getStyles("tabLabel",k),children:i}),s&&x.jsx("span",{...C.getStyles("tabSection",k),"data-position":"right",children:s})]})});IG.classes=ZT;IG.displayName="@mantine/core/TabsTab";const fse="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",WVe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},GVe=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":vr(t),"--tabs-color":Sr(n,e),"--tabs-text-color":Eg(r,e)?mm({color:n,theme:e,autoContrast:r}):void 0}}),ir=We((e,t)=>{const n=Oe("Tabs",WVe,e),{defaultValue:r,value:i,onChange:s,orientation:o,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,placement:g,keepMounted:v,classNames:y,styles:w,unstyled:E,className:C,style:S,vars:T,autoContrast:k,mod:I,...R}=n,O=xa(u),[M,$]=ji({value:i,defaultValue:r,finalValue:null,onChange:s}),L=kt({name:"Tabs",props:n,classes:ZT,className:C,style:S,classNames:y,styles:w,unstyled:E,vars:T,varsResolver:GVe});return x.jsx(UVe,{value:{placement:g,value:M,orientation:o,id:O,loop:l,activateTabWithKeyboard:c,getTabId:NP(`${O}-tab`,fse),getPanelId:NP(`${O}-panel`,fse),onChange:$,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,keepMounted:v,unstyled:E,getStyles:L},children:x.jsx(_e,{ref:t,id:O,variant:f,mod:[{orientation:o,inverted:o==="horizontal"&&m,placement:o==="vertical"&&g},I],...L("root"),...R,children:a})})});ir.classes=ZT;ir.displayName="@mantine/core/Tabs";ir.Tab=IG;ir.Panel=AG;ir.List=kG;const YVe={},Gu=We((e,t)=>{const n=Oe("TextInput",YVe,e);return x.jsx(_a,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});Gu.classes=_a.classes;Gu.displayName="@mantine/core/TextInput";const KVe=["h1","h2","h3","h4","h5","h6"],XVe=["xs","sm","md","lg","xl"];function QVe(e,t){const n=t!==void 0?t:`h${e}`;return KVe.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:XVe.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:Be(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var owe={root:"m_8a5d1357"};const JVe={order:1},ZVe=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const s=QVe(t,n);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},Br=We((e,t)=>{const n=Oe("Title",JVe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,order:l,vars:u,size:c,variant:d,lineClamp:f,textWrap:h,mod:p,...m}=n,g=kt({name:"Title",props:n,classes:owe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:ZVe});return[1,2,3,4,5,6].includes(l)?x.jsx(_e,{...g("root"),component:`h${l}`,variant:d,ref:t,mod:[{order:l,"data-line-clamp":typeof f=="number"},p],size:c,...m}):null});Br.classes=owe;Br.displayName="@mantine/core/Title";function eWe(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(s=>s(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function tWe(e){return D.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function nWe(e,t,n){const r=[],i=[],s={};for(const o of e){const a=o.position||t;s[a]=s[a]||0,s[a]+=1,s[a]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}const rWe=()=>eWe({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),k1=rWe(),iWe=(e=k1)=>tWe(e);function O_(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=nWe(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function sWe(e,t=k1){const n=e.id||Hw();return O_(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function awe(e,t=k1){return O_(t,n=>n.filter(r=>{var i;return r.id===e?((i=r.onClose)==null||i.call(r,r),!1):!0})),e}function oWe(e,t=k1){return O_(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function aWe(e=k1){O_(e,()=>[])}function lWe(e=k1){O_(e,t=>t.slice(0,e.getState().limit))}const A1={show:sWe,hide:awe,update:oWe,clean:aWe,cleanQueue:lWe,updateState:O_};function rz(e,t){return rz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},rz(e,t)}function lwe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rz(e,t)}var JF={exports:{}},ZF,hse;function uWe(){if(hse)return ZF;hse=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ZF=e,ZF}var eL,pse;function cWe(){if(pse)return eL;pse=1;var e=uWe();function t(){}function n(){}return n.resetWarningCache=t,eL=function(){function r(o,a,l,u,c,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},eL}var mse;function dWe(){return mse||(mse=1,JF.exports=cWe()()),JF.exports}var fWe=dWe();const YP=qs(fWe),gse={disabled:!1},KP=sr.createContext(null);var hWe=function(t){return t.scrollTop},JC="unmounted",My="exited",Fy="entering",Ew="entered",iz="exiting",wm=(function(e){lwe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=My,s.appearStatus=Fy):l=Ew:r.unmountOnExit||r.mountOnEnter?l=JC:l=My,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===JC?{status:My}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Fy&&o!==Ew&&(s=Fy):(o===Fy||o===Ew)&&(s=iz)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Fy){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:QC.findDOMNode(this);o&&hWe(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===My&&this.setState({status:JC})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[QC.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||gse.disabled){this.safeSetState({status:Ew},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Fy},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:Ew},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:QC.findDOMNode(this);if(!s||gse.disabled){this.safeSetState({status:My},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:iz},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:My},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:QC.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===JC)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=VW(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return sr.createElement(KP.Provider,{value:null},typeof o=="function"?o(i,a):sr.cloneElement(sr.Children.only(o),a))},t})(sr.Component);wm.contextType=KP;wm.propTypes={};function Bb(){}wm.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bb,onEntering:Bb,onEntered:Bb,onExit:Bb,onExiting:Bb,onExited:Bb};wm.UNMOUNTED=JC;wm.EXITED=My;wm.ENTERING=Fy;wm.ENTERED=Ew;wm.EXITING=iz;function pWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RG(e,t){var n=function(s){return t&&D.isValidElement(s)?t(s):s},r=Object.create(null);return e&&D.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function mWe(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function lv(e,t,n){return n[t]!=null?n[t]:e.props[t]}function gWe(e,t){return RG(e.children,function(n){return D.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:lv(n,"appear",e),enter:lv(n,"enter",e),exit:lv(n,"exit",e)})})}function yWe(e,t,n){var r=RG(e.children),i=mWe(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(D.isValidElement(o)){var a=s in t,l=s in r,u=t[s],c=D.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=D.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:lv(o,"exit",e),enter:lv(o,"enter",e)}):!l&&a&&!c?i[s]=D.cloneElement(o,{in:!1}):l&&a&&D.isValidElement(u)&&(i[s]=D.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:lv(o,"exit",e),enter:lv(o,"enter",e)}))}}),i}var vWe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},bWe={component:"div",childFactory:function(t){return t}},f0=(function(e){lwe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(pWe(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?gWe(i,a):yWe(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=RG(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=HP({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=VW(i,["component","childFactory"]),l=this.state.contextValue,u=vWe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?sr.createElement(KP.Provider,{value:l},u):sr.createElement(KP.Provider,{value:l},sr.createElement(s,a,u))},t})(sr.Component);f0.propTypes={};f0.defaultProps=bWe;const uwe=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function wWe(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),uwe.reduce((n,r)=>(n[r]=[],n),{}))}const yse={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},xWe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function _We({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,s]=n.split("-"),o=s==="center"?`${i}-center`:s,a={opacity:0,maxHeight:t,transform:yse[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:xWe[o]},u={opacity:0,maxHeight:0,transform:yse[o]};return{...a,...{entering:l,entered:l,exiting:u,exited:u}[e]}}function EWe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const cwe=D.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:s,message:o,...a}=e,l=EWe(n,e.autoClose),u=D.useRef(-1),c=()=>window.clearTimeout(u.current),d=()=>{t(e.id),c()},f=()=>{typeof l=="number"&&(u.current=window.setTimeout(d,l))};return D.useEffect(()=>{var h;(h=e.onOpen)==null||h.call(e,e)},[]),D.useEffect(()=>(f(),c),[l]),x.jsx(iG,{...r,...a,onClose:d,ref:i,onMouseEnter:c,onMouseLeave:f,children:o})});cwe.displayName="@mantine/notifications/NotificationContainer";var dwe={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const CWe=wm,SWe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:go("overlay"),store:k1,withinPortal:!0},TWe=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":Be(n)}}),xm=We((e,t)=>{const n=Oe("Notifications",SWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,position:u,autoClose:c,transitionDuration:d,containerWidth:f,notificationMaxHeight:h,limit:p,zIndex:m,store:g,portalProps:v,withinPortal:y,...w}=n,E=Xi(),C=iWe(g),S=aLe(),T=AN(),k=D.useRef({}),I=D.useRef(0),O=(E.respectReducedMotion?T:!1)?1:d,M=kt({name:"Notifications",classes:dwe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:TWe});D.useEffect(()=>{g==null||g.updateState(U=>({...U,limit:p||5,defaultPosition:u}))},[p,u]),Td(()=>{C.notifications.length>I.current&&setTimeout(()=>S(),0),I.current=C.notifications.length},[C.notifications]);const $=wWe(C.notifications,u),L=uwe.reduce((U,B)=>(U[B]=$[B].map(({style:V,...G})=>x.jsx(CWe,{timeout:O,onEnter:()=>k.current[G.id].offsetHeight,nodeRef:{current:k.current[G.id]},children:Y=>x.jsx(cwe,{ref:z=>{k.current[G.id]=z},data:G,onHide:z=>awe(z,g),autoClose:c,...M("notification",{style:{..._We({state:Y,position:B,transitionDuration:O,maxHeight:h}),...V}})})},G.id)),U),{});return x.jsxs(Cg,{withinPortal:y,...v,children:[x.jsx(_e,{...M("root"),"data-position":"top-center",ref:t,...w,children:x.jsx(f0,{children:L["top-center"]})}),x.jsx(_e,{...M("root"),"data-position":"top-left",...w,children:x.jsx(f0,{children:L["top-left"]})}),x.jsx(_e,{...M("root",{className:wx.classNames.fullWidth}),"data-position":"top-right",...w,children:x.jsx(f0,{children:L["top-right"]})}),x.jsx(_e,{...M("root",{className:wx.classNames.fullWidth}),"data-position":"bottom-right",...w,children:x.jsx(f0,{children:L["bottom-right"]})}),x.jsx(_e,{...M("root"),"data-position":"bottom-left",...w,children:x.jsx(f0,{children:L["bottom-left"]})}),x.jsx(_e,{...M("root"),"data-position":"bottom-center",...w,children:x.jsx(f0,{children:L["bottom-center"]})})]})});xm.classes=dwe;xm.displayName="@mantine/notifications/Notifications";xm.show=A1.show;xm.hide=A1.hide;xm.update=A1.update;xm.clean=A1.clean;xm.cleanQueue=A1.cleanQueue;xm.updateState=A1.updateState;const fwe=D.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),Qi=()=>D.useContext(fwe);function kWe({children:e}){const[t,n]=D.useState(void 0),r=D.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return x.jsx(fwe.Provider,{value:r,children:e})}/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vse="popstate";function AWe(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return sz("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:P2(i)}return RWe(t,n,null,e)}function Ii(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ic(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IWe(){return Math.random().toString(36).substring(2,10)}function bse(e,t){return{usr:e.state,key:e.key,idx:t}}function sz(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?N_(t):t,state:n,key:t&&t.key||r||IWe()}}function P2({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function N_(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function RWe(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let g=c(),v=g==null?null:g-u;u=g,l&&l({action:a,location:m.location,delta:v})}function f(g,v){a="PUSH";let y=sz(m.location,g,v);u=c()+1;let w=bse(y,u),E=m.createHref(y);try{o.pushState(w,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(E)}s&&l&&l({action:a,location:m.location,delta:1})}function h(g,v){a="REPLACE";let y=sz(m.location,g,v);u=c();let w=bse(y,u),E=m.createHref(y);o.replaceState(w,"",E),s&&l&&l({action:a,location:m.location,delta:0})}function p(g){return DWe(g)}let m={get action(){return a},get location(){return e(i,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vse,d),l=g,()=>{i.removeEventListener(vse,d),l=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let v=p(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(g){return o.go(g)}};return m}function DWe(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ii(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:P2(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function hwe(e,t,n="/"){return PWe(e,t,n,!1)}function PWe(e,t,n,r){let i=typeof t=="string"?N_(t):t,s=Qp(i.pathname||"/",n);if(s==null)return null;let o=pwe(e);OWe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=HWe(s);a=UWe(o[l],u,r)}return a}function pwe(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;Ii(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=Fp([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(Ii(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),pwe(o.children,t,f,d,l)),!(o.path==null&&!o.index)&&t.push({path:d,score:BWe(d,o.index),routesMeta:f})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of mwe(o.path))s(o,a,!0,u)}),t}function mwe(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=mwe(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function OWe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zWe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var NWe=/^:[\w-]+$/,$We=3,MWe=2,FWe=1,LWe=10,jWe=-2,wse=e=>e==="*";function BWe(e,t){let n=e.split("/"),r=n.length;return n.some(wse)&&(r+=jWe),t&&(r+=MWe),n.filter(i=>!wse(i)).reduce((i,s)=>i+(NWe.test(s)?$We:s===""?FWe:LWe),r)}function zWe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function UWe(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=XP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=XP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Fp([s,d.pathname]),pathnameBase:YWe(Fp([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Fp([s,d.pathnameBase]))}return o}function XP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qWe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let p=a[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function qWe(e,t=!1,n=!0){ic(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function HWe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ic(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function VWe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?N_(e):e;return{pathname:n?n.startsWith("/")?n:WWe(n,t):t,search:KWe(r),hash:XWe(i)}}function WWe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tL(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GWe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function DG(e){let t=GWe(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function PG(e,t,n,r=!1){let i;typeof e=="string"?i=N_(e):(i={...e},Ii(!i.pathname||!i.pathname.includes("?"),tL("?","pathname","search",i)),Ii(!i.pathname||!i.pathname.includes("#"),tL("#","pathname","hash",i)),Ii(!i.search||!i.search.includes("#"),tL("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=VWe(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Fp=e=>e.join("/").replace(/\/\/+/g,"/"),YWe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KWe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XWe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QWe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var gwe=["POST","PUT","PATCH","DELETE"];new Set(gwe);var JWe=["GET",...gwe];new Set(JWe);var $_=D.createContext(null);$_.displayName="DataRouter";var _$=D.createContext(null);_$.displayName="DataRouterState";D.createContext(!1);var ywe=D.createContext({isTransitioning:!1});ywe.displayName="ViewTransition";var ZWe=D.createContext(new Map);ZWe.displayName="Fetchers";var eGe=D.createContext(null);eGe.displayName="Await";var qd=D.createContext(null);qd.displayName="Navigation";var ek=D.createContext(null);ek.displayName="Location";var vc=D.createContext({outlet:null,matches:[],isDataRoute:!1});vc.displayName="Route";var OG=D.createContext(null);OG.displayName="RouteError";function NG(e,{relative:t}={}){Ii(M_(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(qd),{hash:i,pathname:s,search:o}=tk(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Fp([n,s])),r.createHref({pathname:a,search:o,hash:i})}function M_(){return D.useContext(ek)!=null}function bc(){return Ii(M_(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(ek).location}var vwe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bwe(e){D.useContext(qd).static||D.useLayoutEffect(e)}function Ea(){let{isDataRoute:e}=D.useContext(vc);return e?pGe():tGe()}function tGe(){Ii(M_(),"useNavigate() may be used only in the context of a <Router> component.");let e=D.useContext($_),{basename:t,navigator:n}=D.useContext(qd),{matches:r}=D.useContext(vc),{pathname:i}=bc(),s=JSON.stringify(DG(r)),o=D.useRef(!1);return bwe(()=>{o.current=!0}),D.useCallback((l,u={})=>{if(ic(o.current,vwe),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=PG(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Fp([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}var nGe=D.createContext(null);function rGe(e){let t=D.useContext(vc).outlet;return t&&D.createElement(nGe.Provider,{value:e},t)}function va(){let{matches:e}=D.useContext(vc),t=e[e.length-1];return t?t.params:{}}function tk(e,{relative:t}={}){let{matches:n}=D.useContext(vc),{pathname:r}=bc(),i=JSON.stringify(DG(n));return D.useMemo(()=>PG(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function wwe(e,t){return xwe(e,t)}function xwe(e,t,n,r){var v;Ii(M_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(qd),{matches:s}=D.useContext(vc),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",c=o&&o.route;{let y=c&&c.path||"";_we(l,!c||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let d=bc(),f;if(t){let y=typeof t=="string"?N_(t):t;Ii(u==="/"||((v=y.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),f=y}else f=d;let h=f.pathname||"/",p=h;if(u!=="/"){let y=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=hwe(e,{pathname:p});ic(c||m!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),ic(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=lGe(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Fp([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Fp([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&g?D.createElement(ek.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},g):g}function iGe(){let e=hGe(),t=QWe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:i},n):null,o)}var sGe=D.createElement(iGe,null),oGe=class extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(vc.Provider,{value:this.props.routeContext},D.createElement(OG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aGe({routeContext:e,match:t,children:n}){let r=D.useContext($_);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(vc.Provider,{value:e},n)}function lGe(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ii(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,f=!1,h=null,p=null;n&&(d=s&&u.route.id?s[u.route.id]:void 0,h=u.route.errorElement||sGe,o&&(a<0&&c===0?(_we("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):a===c&&(f=!0,p=u.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,c+1)),g=()=>{let v;return d?v=h:f?v=p:u.route.Component?v=D.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,D.createElement(aGe,{match:u,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?D.createElement(oGe,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}function $G(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uGe(e){let t=D.useContext($_);return Ii(t,$G(e)),t}function cGe(e){let t=D.useContext(_$);return Ii(t,$G(e)),t}function dGe(e){let t=D.useContext(vc);return Ii(t,$G(e)),t}function MG(e){let t=dGe(e),n=t.matches[t.matches.length-1];return Ii(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function fGe(){return MG("useRouteId")}function hGe(){var r;let e=D.useContext(OG),t=cGe("useRouteError"),n=MG("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function pGe(){let{router:e}=uGe("useNavigate"),t=MG("useNavigate"),n=D.useRef(!1);return bwe(()=>{n.current=!0}),D.useCallback(async(i,s={})=>{ic(n.current,vwe),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var xse={};function _we(e,t,n){!t&&!xse[e]&&(xse[e]=!0,ic(!1,n))}D.memo(mGe);function mGe({routes:e,future:t,state:n}){return xwe(e,void 0,n,t)}function FG({to:e,replace:t,state:n,relative:r}){Ii(M_(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=D.useContext(qd);ic(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=D.useContext(vc),{pathname:o}=bc(),a=Ea(),l=PG(e,DG(s),o,r==="path"),u=JSON.stringify(l);return D.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function gGe(e){return rGe(e.context)}function Ly(e){Ii(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yGe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ii(!M_(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=N_(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,h=D.useMemo(()=>{let p=Qp(l,o);return p==null?null:{location:{pathname:p,search:u,hash:c,state:d,key:f},navigationType:r}},[o,l,u,c,d,f,r]);return ic(h!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:D.createElement(qd.Provider,{value:a},D.createElement(ek.Provider,{children:t,value:h}))}function vGe({children:e,location:t}){return wwe(oz(e),t)}function oz(e,t=[]){let n=[];return D.Children.forEach(e,(r,i)=>{if(!D.isValidElement(r))return;let s=[...t,i];if(r.type===D.Fragment){n.push.apply(n,oz(r.props.children,s));return}Ii(r.type===Ly,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ii(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=oz(r.props.children,s)),n.push(o)}),n}var K3="get",X3="application/x-www-form-urlencoded";function E$(e){return e!=null&&typeof e.tagName=="string"}function bGe(e){return E$(e)&&e.tagName.toLowerCase()==="button"}function wGe(e){return E$(e)&&e.tagName.toLowerCase()==="form"}function xGe(e){return E$(e)&&e.tagName.toLowerCase()==="input"}function _Ge(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EGe(e,t){return e.button===0&&(!t||t==="_self")&&!_Ge(e)}function az(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function CGe(e,t){let n=az(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var PI=null;function SGe(){if(PI===null)try{new FormData(document.createElement("form"),0),PI=!1}catch{PI=!0}return PI}var TGe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nL(e){return e!=null&&!TGe.has(e)?(ic(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${X3}"`),null):e}function kGe(e,t){let n,r,i,s,o;if(wGe(e)){let a=e.getAttribute("action");r=a?Qp(a,t):null,n=e.getAttribute("method")||K3,i=nL(e.getAttribute("enctype"))||X3,s=new FormData(e)}else if(bGe(e)||xGe(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Qp(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||K3,i=nL(e.getAttribute("formenctype"))||nL(a.getAttribute("enctype"))||X3,s=new FormData(a,e),!SGe()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(E$(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=K3,r=null,i=X3,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function LG(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AGe(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Qp(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function IGe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RGe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function DGe(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await IGe(s,n);return o.links?o.links():[]}return[]}));return $Ge(r.flat(1).filter(RGe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _se(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function PGe(e,t,{includeHydrateFallback:n}={}){return OGe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function OGe(e){return[...new Set(e)]}function NGe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function $Ge(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(NGe(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Ewe(){let e=D.useContext($_);return LG(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function MGe(){let e=D.useContext(_$);return LG(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jG=D.createContext(void 0);jG.displayName="FrameworkContext";function Cwe(){let e=D.useContext(jG);return LG(e,"You must render this element inside a <HydratedRouter> element"),e}function FGe(e,t){let n=D.useContext(jG),[r,i]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=D.useRef(null);D.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=v=>{v.forEach(y=>{o(y.isIntersecting)})},g=new IntersectionObserver(m,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[e]),D.useEffect(()=>{if(r){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[r]);let h=()=>{i(!0)},p=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,f,{}]:[s,f,{onFocus:nC(a,h),onBlur:nC(l,p),onMouseEnter:nC(u,h),onMouseLeave:nC(c,p),onTouchStart:nC(d,h)}]:[!1,f,{}]}function nC(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function LGe({page:e,...t}){let{router:n}=Ewe(),r=D.useMemo(()=>hwe(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?D.createElement(BGe,{page:e,matches:r,...t}):null}function jGe(e){let{manifest:t,routeModules:n}=Cwe(),[r,i]=D.useState([]);return D.useEffect(()=>{let s=!1;return DGe(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function BGe({page:e,matches:t,...n}){let r=bc(),{manifest:i,routeModules:s}=Cwe(),{basename:o}=Ewe(),{loaderData:a,matches:l}=MGe(),u=D.useMemo(()=>_se(e,t,l,i,r,"data"),[e,t,l,i,r]),c=D.useMemo(()=>_se(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=D.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,m=!1;if(t.forEach(v=>{var w;let y=i.routes[v.route.id];!y||!y.hasLoader||(!u.some(E=>E.route.id===v.route.id)&&v.route.id in a&&((w=s[v.route.id])!=null&&w.shouldRevalidate)||y.hasClientLoader?m=!0:p.add(v.route.id))}),p.size===0)return[];let g=AGe(e,o,"data");return m&&p.size>0&&g.searchParams.set("_routes",t.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[g.pathname+g.search]},[o,a,r,i,u,t,e,s]),f=D.useMemo(()=>PGe(c,i),[c,i]),h=jGe(c);return D.createElement(D.Fragment,null,d.map(p=>D.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>D.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:m})=>D.createElement("link",{key:p,nonce:n.nonce,...m})))}function zGe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Swe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Swe&&(window.__reactRouterVersion="7.8.1")}catch{}function UGe({basename:e,children:t,window:n}){let r=D.useRef();r.current==null&&(r.current=AWe({window:n,v5Compat:!0}));let i=r.current,[s,o]=D.useState({action:i.action,location:i.location}),a=D.useCallback(l=>{D.startTransition(()=>o(l))},[o]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(yGe,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var Twe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kwe=D.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},h){let{basename:p}=D.useContext(qd),m=typeof u=="string"&&Twe.test(u),g,v=!1;if(typeof u=="string"&&m&&(g=u,Swe))try{let I=new URL(window.location.href),R=u.startsWith("//")?new URL(I.protocol+u):new URL(u),O=Qp(R.pathname,p);R.origin===I.origin&&O!=null?u=O+R.search+R.hash:v=!0}catch{ic(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=NG(u,{relative:i}),[w,E,C]=FGe(r,f),S=WGe(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function T(I){t&&t(I),I.defaultPrevented||S(I)}let k=D.createElement("a",{...f,...C,href:g||y,onClick:v||s?t:T,ref:zGe(h,E),target:l,"data-discover":!m&&n==="render"?"true":void 0});return w&&!m?D.createElement(D.Fragment,null,k,D.createElement(LGe,{page:y})):k});kwe.displayName="Link";var qGe=D.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let d=tk(o,{relative:u.relative}),f=bc(),h=D.useContext(_$),{navigator:p,basename:m}=D.useContext(qd),g=h!=null&&QGe(d)&&a===!0,v=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,y=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&m&&(w=Qp(w,m)||w);const E=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=y===v||!i&&y.startsWith(v)&&y.charAt(E)==="/",S=w!=null&&(w===v||!i&&w.startsWith(v)&&w.charAt(v.length)==="/"),T={isActive:C,isPending:S,isTransitioning:g},k=C?t:void 0,I;typeof r=="function"?I=r(T):I=[r,C?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(T):s;return D.createElement(kwe,{...u,"aria-current":k,className:I,ref:c,style:R,to:o,viewTransition:a},typeof l=="function"?l(T):l)});qGe.displayName="NavLink";var HGe=D.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=K3,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},h)=>{let p=KGe(),m=XGe(a,{relative:u}),g=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&Twe.test(a),y=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let E=w.nativeEvent.submitter,C=(E==null?void 0:E.getAttribute("formmethod"))||o;p(E||w.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:d})};return D.createElement("form",{ref:h,method:g,action:m,onSubmit:r?l:y,...f,"data-discover":!v&&e==="render"?"true":void 0})});HGe.displayName="Form";function VGe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Awe(e){let t=D.useContext($_);return Ii(t,VGe(e)),t}function WGe(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Ea(),l=bc(),u=tk(e,{relative:s});return D.useCallback(c=>{if(EGe(c,t)){c.preventDefault();let d=n!==void 0?n:P2(l)===P2(u);a(e,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}function kh(e){ic(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=D.useRef(az(e)),n=D.useRef(!1),r=bc(),i=D.useMemo(()=>CGe(r.search,n.current?null:t.current),[r.search]),s=Ea(),o=D.useCallback((a,l)=>{const u=az(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var GGe=0,YGe=()=>`__${String(++GGe)}__`;function KGe(){let{router:e}=Awe("useSubmit"),{basename:t}=D.useContext(qd),n=fGe();return D.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=kGe(r,t);if(i.navigate===!1){let c=i.fetcherKey||YGe();await e.fetch(c,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function XGe(e,{relative:t}={}){let{basename:n}=D.useContext(qd),r=D.useContext(vc);Ii(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...tk(e||".",{relative:t})},o=bc();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();s.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Fp([n,s.pathname])),P2(s)}function QGe(e,{relative:t}={}){let n=D.useContext(ywe);Ii(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Awe("useViewTransitionState"),i=tk(e,{relative:t});if(!n.isTransitioning)return!1;let s=Qp(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Qp(n.nextLocation.pathname,r)||n.nextLocation.pathname;return XP(i.pathname,o)!=null||XP(i.pathname,s)!=null}const BG=D.createContext(null);BG.displayName="@mantine/modals/ModalsContext";function JGe(){const e=D.useContext(BG);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function ZGe({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:s=!0,groupProps:o,onCancel:a,onConfirm:l,children:u}){const{cancel:c,confirm:d}=r,f=JGe(),h=m=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(m)),typeof a=="function"&&a(),s&&f.closeModal(e)},p=m=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(m)),typeof l=="function"&&l(),i&&f.closeModal(e)};return x.jsxs(x.Fragment,{children:[u&&x.jsx(_e,{mb:"md",children:u}),x.jsxs(_i,{mt:u?0:"md",justify:"flex-end",...o,children:[x.jsx(Wt,{variant:"default",...t,onClick:h,children:(t==null?void 0:t.children)||c}),x.jsx(Wt,{...n,onClick:p,children:(n==null?void 0:n.children)||d})]})]})}const[eYe,zG]=vLe("mantine-modals"),Ese=e=>{const t=e.modalId||Hw();return zG("openConfirmModal")({...e,modalId:t}),t};zG("closeModal");zG("closeAllModals");function Cse(e,t){var n,r,i,s;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(s=(i=e.props).onClose)==null||s.call(i)}function tYe(e,t){var n;switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const r=e.modals.find(s=>s.id===t.modalId);if(!r)return e;Cse(r,t.canceled);const i=e.modals.filter(s=>s.id!==t.modalId);return{current:i[i.length-1]||e.current,modals:i}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(r=>{Cse(r,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:r,newProps:i}=t,s=e.modals.map(a=>a.id!==r?a:a.type==="content"||a.type==="confirm"?{...a,props:{...a.props,...i}}:a.type==="context"?{...a,props:{...a.props,...i,innerProps:{...a.props.innerProps,...i.innerProps}}}:a),o=((n=e.current)==null?void 0:n.id)===r&&s.find(a=>a.id===r)||e.current;return{...e,modals:s,current:o}}default:return e}}function nYe(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}function rYe({children:e,modalProps:t,labels:n,modals:r}){const[i,s]=D.useReducer(tYe,{modals:[],current:null}),o=D.useRef(i);o.current=i;const a=D.useCallback(y=>{s({type:"CLOSE_ALL",canceled:y})},[o,s]),l=D.useCallback(({modalId:y,...w})=>{const E=y||Hw();return s({type:"OPEN",modal:{id:E,type:"content",props:w}}),E},[s]),u=D.useCallback(({modalId:y,...w})=>{const E=y||Hw();return s({type:"OPEN",modal:{id:E,type:"confirm",props:w}}),E},[s]),c=D.useCallback((y,{modalId:w,...E})=>{const C=w||Hw();return s({type:"OPEN",modal:{id:C,type:"context",props:E,ctx:y}}),C},[s]),d=D.useCallback((y,w)=>{s({type:"CLOSE",modalId:y,canceled:w})},[o,s]),f=D.useCallback(({modalId:y,...w})=>{s({type:"UPDATE",modalId:y,newProps:w})},[s]),h=D.useCallback(({modalId:y,...w})=>{s({type:"UPDATE",modalId:y,newProps:w})},[s]);eYe({openModal:l,openConfirmModal:u,openContextModal:({modal:y,...w})=>c(y,w),closeModal:d,closeContextModal:d,closeAllModals:a,updateModal:f,updateContextModal:h});const p={modalProps:t||{},modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:d,closeContextModal:d,closeAll:a,updateModal:f,updateContextModal:h},m=()=>{const y=o.current.current;switch(y==null?void 0:y.type){case"context":{const{innerProps:w,...E}=y.props,C=r[y.ctx];return{modalProps:E,content:x.jsx(C,{innerProps:w,context:p,id:y.id})}}case"confirm":{const{modalProps:w,confirmProps:E}=nYe(y.props);return{modalProps:w,content:x.jsx(ZGe,{...E,id:y.id,labels:y.props.labels||n})}}case"content":{const{children:w,...E}=y.props;return{modalProps:E,content:w}}default:return{modalProps:{},content:null}}},{modalProps:g,content:v}=m();return x.jsxs(BG.Provider,{value:p,children:[x.jsx(xi,{zIndex:go("modal")+1,...t,...g,opened:i.modals.length>0,onClose:()=>{var y;return d((y=i.current)==null?void 0:y.id)},children:v}),e]})}/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iYe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(e,t,n,r)=>{const i=D.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,title:l,className:u,children:c,...d},f)=>D.createElement("svg",{ref:f,...iYe[e],width:o,height:o,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...d},[l&&D.createElement("title",{key:"svg-title"},l),...r.map(([h,p])=>D.createElement(h,p)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const sYe=[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]],oYe=Pt("outline","adjustments-horizontal","AdjustmentsHorizontal",sYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const aYe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],lYe=Pt("outline","alert-circle","AlertCircle",aYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const uYe=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Lp=Pt("outline","alert-triangle","AlertTriangle",uYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cYe=[["path",{d:"M6 4l-3 3l3 3",key:"svg-0"}],["path",{d:"M18 4l3 3l-3 3",key:"svg-1"}],["path",{d:"M4 14m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-2"}],["path",{d:"M10 7h-7",key:"svg-3"}],["path",{d:"M21 7h-7",key:"svg-4"}]],dYe=Pt("outline","arrow-autofit-content","ArrowAutofitContent",cYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const fYe=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],lz=Pt("outline","arrow-left","ArrowLeft",fYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hYe=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],Sse=Pt("outline","arrow-right","ArrowRight",hYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pYe=[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]],mYe=Pt("outline","arrows-shuffle","ArrowsShuffle",pYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gYe=[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]],yYe=Pt("outline","arrows-sort","ArrowsSort",gYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vYe=[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]],bYe=Pt("outline","at","At",vYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wYe=[["path",{d:"M4 4h16",key:"svg-0"}],["path",{d:"M4 20h16",key:"svg-1"}]],xYe=Pt("outline","baseline-density-large","BaselineDensityLarge",wYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ye=[["path",{d:"M4 20h16",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M4 4h16",key:"svg-2"}]],EYe=Pt("outline","baseline-density-medium","BaselineDensityMedium",_Ye);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const CYe=[["path",{d:"M4 3h16",key:"svg-0"}],["path",{d:"M4 9h16",key:"svg-1"}],["path",{d:"M4 15h16",key:"svg-2"}],["path",{d:"M4 21h16",key:"svg-3"}]],SYe=Pt("outline","baseline-density-small","BaselineDensitySmall",CYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const TYe=[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]],kYe=Pt("outline","box-multiple","BoxMultiple",TYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const AYe=[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]],IYe=Pt("outline","brain","Brain",AYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const RYe=[["path",{d:"M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3",key:"svg-0"}],["path",{d:"M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3",key:"svg-1"}],["path",{d:"M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4",key:"svg-2"}],["path",{d:"M11 6l0 .01",key:"svg-3"}],["path",{d:"M13 18l0 .01",key:"svg-4"}]],DYe=Pt("outline","brand-python","BrandPython",RYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const PYe=[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]],OYe=Pt("outline","bubble-text","BubbleText",PYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const NYe=[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],$Ye=Pt("outline","chart-donut-2","ChartDonut2",NYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const MYe=[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]],Iwe=Pt("outline","chart-histogram","ChartHistogram",MYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const FYe=[["path",{d:"M10 3.2a9 9 0 1 0 10.8 10.8a1 1 0 0 0 -1 -1h-6.8a2 2 0 0 1 -2 -2v-7a.9 .9 0 0 0 -1 -.8",key:"svg-0"}],["path",{d:"M15 3.5a9 9 0 0 1 5.5 5.5h-4.5a1 1 0 0 1 -1 -1v-4.5",key:"svg-1"}]],LYe=Pt("outline","chart-pie","ChartPie",FYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const jYe=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],O2=Pt("outline","check","Check",jYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const BYe=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],Rwe=Pt("outline","chevron-down","ChevronDown",BYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zYe=[["path",{d:"M7 6v12",key:"svg-0"}],["path",{d:"M18 6l-6 6l6 6",key:"svg-1"}]],UYe=Pt("outline","chevron-left-pipe","ChevronLeftPipe",zYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qYe=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],HYe=Pt("outline","chevron-left","ChevronLeft",qYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const VYe=[["path",{d:"M6 6l6 6l-6 6",key:"svg-0"}],["path",{d:"M17 5v13",key:"svg-1"}]],WYe=Pt("outline","chevron-right-pipe","ChevronRightPipe",VYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const GYe=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],YYe=Pt("outline","chevron-right","ChevronRight",GYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const KYe=[["path",{d:"M7 7l5 5l5 -5",key:"svg-0"}],["path",{d:"M7 13l5 5l5 -5",key:"svg-1"}]],XYe=Pt("outline","chevrons-down","ChevronsDown",KYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const QYe=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]],JYe=Pt("outline","circle-x","CircleX",QYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZYe=[["path",{d:"M8 6h12",key:"svg-0"}],["path",{d:"M6 12h12",key:"svg-1"}],["path",{d:"M4 18h12",key:"svg-2"}]],eKe=Pt("outline","clear-all","ClearAll",ZYe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tKe=[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]],nKe=Pt("outline","code-plus","CodePlus",tKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rKe=[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]],iKe=Pt("outline","columns","Columns",rKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const sKe=[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]],oKe=Pt("outline","database-export","DatabaseExport",sKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const aKe=[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]],Dwe=Pt("outline","database","Database",aKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const lKe=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],uKe=Pt("outline","device-floppy","DeviceFloppy",lKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cKe=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["circle",{cx:"8.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-1"}],["circle",{cx:"15.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-2"}],["circle",{cx:"12",cy:"12",r:".5",fill:"currentColor",key:"svg-3"}]],dKe=Pt("outline","dice-3","Dice3",cKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const fKe=[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],Pwe=Pt("outline","dots-vertical","DotsVertical",fKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hKe=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],Owe=Pt("outline","dots","Dots",hKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pKe=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],mKe=Pt("outline","edit","Edit",pKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gKe=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],yKe=Pt("outline","external-link","ExternalLink",gKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vKe=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],bKe=Pt("outline","eye-off","EyeOff",vKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wKe=[["path",{d:"M8 4h-2l-3 10v2.5",key:"svg-0"}],["path",{d:"M16 4h2l3 10v2.5",key:"svg-1"}],["path",{d:"M10 16l4 0",key:"svg-2"}],["path",{d:"M17.5 16.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0",key:"svg-4"}]],xKe=Pt("outline","eyeglass-2","Eyeglass2",wKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ke=[["path",{d:"M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v1.5",key:"svg-0"}],["path",{d:"M19.001 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19.001 15.5v1.5",key:"svg-2"}],["path",{d:"M19.001 21v1.5",key:"svg-3"}],["path",{d:"M22.032 17.25l-1.299 .75",key:"svg-4"}],["path",{d:"M17.27 20l-1.3 .75",key:"svg-5"}],["path",{d:"M15.97 17.25l1.3 .75",key:"svg-6"}],["path",{d:"M20.733 20l1.3 .75",key:"svg-7"}]],EKe=Pt("outline","filter-cog","FilterCog",_Ke);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const CKe=[["path",{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],SKe=Pt("outline","filter-off","FilterOff",CKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const TKe=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],kKe=Pt("outline","filter","Filter",TKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const AKe=[["path",{d:"M12 10.941c2.333 -3.308 .167 -7.823 -1 -8.941c0 3.395 -2.235 5.299 -3.667 6.706c-1.43 1.408 -2.333 3.621 -2.333 5.588c0 3.704 3.134 6.706 7 6.706s7 -3.002 7 -6.706c0 -1.712 -1.232 -4.403 -2.333 -5.588c-2.084 3.353 -3.257 3.353 -4.667 2.235",key:"svg-0"}]],Nwe=Pt("outline","flame","Flame",AKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const IKe=[["path",{d:"M8 4h10a2 2 0 0 1 2 2v10m-.586 3.414a2 2 0 0 1 -1.414 .586h-12a2 2 0 0 1 -2 -2v-12c0 -.547 .22 -1.043 .576 -1.405",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l.5 -.5m2 -2l.5 -.5l2 2",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],$we=Pt("outline","graph-off","GraphOff",IKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const RKe=[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2",key:"svg-1"}]],Mwe=Pt("outline","graph","Graph",RKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const DKe=[["path",{d:"M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]],PKe=Pt("outline","grip-horizontal","GripHorizontal",DKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const OKe=[["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z",key:"svg-1"}]],NKe=Pt("outline","hourglass-empty","HourglassEmpty",OKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Ke=[["path",{d:"M13 16v-8l2 5l2 -5v8",key:"svg-0"}],["path",{d:"M1 16v-8",key:"svg-1"}],["path",{d:"M5 8v8",key:"svg-2"}],["path",{d:"M1 12h4",key:"svg-3"}],["path",{d:"M7 8h4",key:"svg-4"}],["path",{d:"M9 8v8",key:"svg-5"}],["path",{d:"M20 8v8h3",key:"svg-6"}]],MKe=Pt("outline","html","Html",$Ke);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const FKe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],UG=Pt("outline","info-circle","InfoCircle",FKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const LKe=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]],jKe=Pt("outline","layout-columns","LayoutColumns",LKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const BKe=[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]],Fwe=Pt("outline","list-check","ListCheck",BKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zKe=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]],UKe=Pt("outline","mail","Mail",zKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qKe=[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],HKe=Pt("outline","maximize","Maximize",qKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const VKe=[["path",{d:"M15 19v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M15 5v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M5 15h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M5 9h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],WKe=Pt("outline","minimize","Minimize",VKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const GKe=[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]],YKe=Pt("outline","number-123","Number123",GKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const KKe=[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M22 18h-7",key:"svg-4"}],["path",{d:"M18 15l-3 3l3 3",key:"svg-5"}]],XKe=Pt("outline","package-import","PackageImport",KKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const QKe=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],JKe=Pt("outline","pencil","Pencil",QKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZKe=[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251",key:"svg-1"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-2"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-3"}]],eXe=Pt("outline","pinned-off","PinnedOff",ZKe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tXe=[["path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6",key:"svg-0"}],["path",{d:"M12 16l0 5",key:"svg-1"}],["path",{d:"M8 4l8 0",key:"svg-2"}]],nXe=Pt("outline","pinned","Pinned",tXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rXe=[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]],Lwe=Pt("outline","progress","Progress",rXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const iXe=[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]],sXe=Pt("outline","radio","Radio",iXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const oXe=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],aXe=Pt("outline","refresh","Refresh",oXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const lXe=[["path",{d:"M6 2h4v4m-4 0h-1v-1",key:"svg-0"}],["path",{d:"M15 11v-1h5v4h-2",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h2",key:"svg-4"}],["path",{d:"M7.5 7.5v2.5",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}],["path",{d:"M3 3l18 18",key:"svg-7"}]],uXe=Pt("outline","schema-off","SchemaOff",lXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cXe=[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]],jwe=Pt("outline","schema","Schema",cXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const dXe=[["path",{d:"M5.039 5.062a7 7 0 0 0 9.91 9.89m1.584 -2.434a7 7 0 0 0 -9.038 -9.057",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],fXe=Pt("outline","search-off","SearchOff",dXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hXe=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],Bwe=Pt("outline","search","Search",hXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pXe=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 11l3 3l3 -3",key:"svg-1"}]],mXe=Pt("outline","select","Select",pXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gXe=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],zwe=Pt("outline","settings","Settings",gXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const yXe=[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],vXe=Pt("outline","sort-ascending","SortAscending",yXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bXe=[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],wXe=Pt("outline","sort-descending","SortDescending",bXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xXe=[["path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3",key:"svg-1"}]],_Xe=Pt("outline","squares","Squares",xXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const EXe=[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]],Uwe=Pt("outline","table-export","TableExport",EXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const CXe=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]],SXe=Pt("outline","table","Table",CXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const TXe=[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]],qwe=Pt("outline","trash-x","TrashX",TXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const kXe=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]],qG=Pt("outline","user-plus","UserPlus",kXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const AXe=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],Tse=Pt("outline","user","User",AXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const IXe=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Lv=Pt("outline","x","X",IXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const RXe=[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]],DXe=Pt("filled","brand-google-filled","BrandGoogleFilled",RXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const PXe=[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-1"}]],OXe=Pt("filled","player-pause-filled","PlayerPauseFilled",PXe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const NXe=[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]],$Xe=Pt("filled","player-play-filled","PlayerPlayFilled",NXe);function Hwe(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const as="/revisit/";function kse(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function Vwe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const MXe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FXe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,LXe={};function Ase(e,t){return(LXe.jsx?FXe:MXe).test(e)}const jXe=/[ \t\n\f\r]/g;function BXe(e){return typeof e=="object"?e.type==="text"?Ise(e.value):!1:Ise(e)}function Ise(e){return e.replace(jXe,"")===""}let nk=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};nk.prototype.normal={};nk.prototype.property={};nk.prototype.space=void 0;function Wwe(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new nk(n,r,t)}function N2(e){return e.toLowerCase()}let ql=class{constructor(t,n){this.attribute=n,this.property=t}};ql.prototype.attribute="";ql.prototype.booleanish=!1;ql.prototype.boolean=!1;ql.prototype.commaOrSpaceSeparated=!1;ql.prototype.commaSeparated=!1;ql.prototype.defined=!1;ql.prototype.mustUseProperty=!1;ql.prototype.number=!1;ql.prototype.overloadedBoolean=!1;ql.prototype.property="";ql.prototype.spaceSeparated=!1;ql.prototype.space=void 0;let zXe=0;const Ln=I1(),gs=I1(),uz=I1(),xt=I1(),ci=I1(),Yw=I1(),Jl=I1();function I1(){return 2**++zXe}const cz=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ln,booleanish:gs,commaOrSpaceSeparated:Jl,commaSeparated:Yw,number:xt,overloadedBoolean:uz,spaceSeparated:ci},Symbol.toStringTag,{value:"Module"})),rL=Object.keys(cz);let HG=class extends ql{constructor(t,n,r,i){let s=-1;if(super(t,n),Rse(this,"space",i),typeof r=="number")for(;++s<rL.length;){const o=rL[s];Rse(this,rL[s],(r&cz[o])===cz[o])}}};HG.prototype.defined=!0;function Rse(e,t,n){n&&(e[t]=n)}function F_(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new HG(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[N2(r)]=r,n[N2(s.attribute)]=r}return new nk(t,n,e.space)}const Gwe=F_({properties:{ariaActiveDescendant:null,ariaAtomic:gs,ariaAutoComplete:null,ariaBusy:gs,ariaChecked:gs,ariaColCount:xt,ariaColIndex:xt,ariaColSpan:xt,ariaControls:ci,ariaCurrent:null,ariaDescribedBy:ci,ariaDetails:null,ariaDisabled:gs,ariaDropEffect:ci,ariaErrorMessage:null,ariaExpanded:gs,ariaFlowTo:ci,ariaGrabbed:gs,ariaHasPopup:null,ariaHidden:gs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ci,ariaLevel:xt,ariaLive:null,ariaModal:gs,ariaMultiLine:gs,ariaMultiSelectable:gs,ariaOrientation:null,ariaOwns:ci,ariaPlaceholder:null,ariaPosInSet:xt,ariaPressed:gs,ariaReadOnly:gs,ariaRelevant:null,ariaRequired:gs,ariaRoleDescription:ci,ariaRowCount:xt,ariaRowIndex:xt,ariaRowSpan:xt,ariaSelected:gs,ariaSetSize:xt,ariaSort:null,ariaValueMax:xt,ariaValueMin:xt,ariaValueNow:xt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Ywe(e,t){return t in e?e[t]:t}function Kwe(e,t){return Ywe(e,t.toLowerCase())}const UXe=F_({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yw,acceptCharset:ci,accessKey:ci,action:null,allow:null,allowFullScreen:Ln,allowPaymentRequest:Ln,allowUserMedia:Ln,alt:null,as:null,async:Ln,autoCapitalize:null,autoComplete:ci,autoFocus:Ln,autoPlay:Ln,blocking:ci,capture:null,charSet:null,checked:Ln,cite:null,className:ci,cols:xt,colSpan:null,content:null,contentEditable:gs,controls:Ln,controlsList:ci,coords:xt|Yw,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ln,defer:Ln,dir:null,dirName:null,disabled:Ln,download:uz,draggable:gs,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ln,formTarget:null,headers:ci,height:xt,hidden:uz,high:xt,href:null,hrefLang:null,htmlFor:ci,httpEquiv:ci,id:null,imageSizes:null,imageSrcSet:null,inert:Ln,inputMode:null,integrity:null,is:null,isMap:Ln,itemId:null,itemProp:ci,itemRef:ci,itemScope:Ln,itemType:ci,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ln,low:xt,manifest:null,max:null,maxLength:xt,media:null,method:null,min:null,minLength:xt,multiple:Ln,muted:Ln,name:null,nonce:null,noModule:Ln,noValidate:Ln,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ln,optimum:xt,pattern:null,ping:ci,placeholder:null,playsInline:Ln,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ln,referrerPolicy:null,rel:ci,required:Ln,reversed:Ln,rows:xt,rowSpan:xt,sandbox:ci,scope:null,scoped:Ln,seamless:Ln,selected:Ln,shadowRootClonable:Ln,shadowRootDelegatesFocus:Ln,shadowRootMode:null,shape:null,size:xt,sizes:null,slot:null,span:xt,spellCheck:gs,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xt,step:null,style:null,tabIndex:xt,target:null,title:null,translate:null,type:null,typeMustMatch:Ln,useMap:null,value:gs,width:xt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ci,axis:null,background:null,bgColor:null,border:xt,borderColor:null,bottomMargin:xt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ln,declare:Ln,event:null,face:null,frame:null,frameBorder:null,hSpace:xt,leftMargin:xt,link:null,longDesc:null,lowSrc:null,marginHeight:xt,marginWidth:xt,noResize:Ln,noHref:Ln,noShade:Ln,noWrap:Ln,object:null,profile:null,prompt:null,rev:null,rightMargin:xt,rules:null,scheme:null,scrolling:gs,standby:null,summary:null,text:null,topMargin:xt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ln,disableRemotePlayback:Ln,prefix:null,property:null,results:xt,security:null,unselectable:null},space:"html",transform:Kwe}),qXe=F_({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Jl,accentHeight:xt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xt,amplitude:xt,arabicForm:null,ascent:xt,attributeName:null,attributeType:null,azimuth:xt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xt,by:null,calcMode:null,capHeight:xt,className:ci,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xt,diffuseConstant:xt,direction:null,display:null,dur:null,divisor:xt,dominantBaseline:null,download:Ln,dx:null,dy:null,edgeMode:null,editable:null,elevation:xt,enableBackground:null,end:null,event:null,exponent:xt,externalResourcesRequired:null,fill:null,fillOpacity:xt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yw,g2:Yw,glyphName:Yw,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xt,horizOriginX:xt,horizOriginY:xt,id:null,ideographic:xt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xt,k:xt,k1:xt,k2:xt,k3:xt,k4:xt,kernelMatrix:Jl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xt,overlineThickness:xt,paintOrder:null,panose1:null,path:null,pathLength:xt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ci,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xt,pointsAtY:xt,pointsAtZ:xt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Jl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Jl,rev:Jl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Jl,requiredFeatures:Jl,requiredFonts:Jl,requiredFormats:Jl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xt,specularExponent:xt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xt,strikethroughThickness:xt,string:null,stroke:null,strokeDashArray:Jl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xt,strokeOpacity:xt,strokeWidth:null,style:null,surfaceScale:xt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Jl,tabIndex:xt,tableValues:null,target:null,targetX:xt,targetY:xt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Jl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xt,underlineThickness:xt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xt,values:null,vAlphabetic:xt,vMathematical:xt,vectorEffect:null,vHanging:xt,vIdeographic:xt,version:null,vertAdvY:xt,vertOriginX:xt,vertOriginY:xt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Ywe}),Xwe=F_({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Qwe=F_({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Kwe}),Jwe=F_({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),HXe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},VXe=/[A-Z]/g,Dse=/-[a-z]/g,WXe=/^data[-\w.:]+$/i;function VG(e,t){const n=N2(t);let r=t,i=ql;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&WXe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Dse,YXe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Dse.test(s)){let o=s.replace(VXe,GXe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=HG}return new i(r,t)}function GXe(e){return"-"+e.toLowerCase()}function YXe(e){return e.charAt(1).toUpperCase()}const C$=Wwe([Gwe,UXe,Xwe,Qwe,Jwe],"html"),L_=Wwe([Gwe,qXe,Xwe,Qwe,Jwe],"svg");function Pse(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Zwe(e){return e.join(" ").trim()}var zb={},iL,Ose;function KXe(){if(Ose)return iL;Ose=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",f="comment",h="declaration";iL=function(m,g){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];g=g||{};var v=1,y=1;function w($){var L=$.match(t);L&&(v+=L.length);var U=$.lastIndexOf(l);y=~U?$.length-U:y+$.length}function E(){var $={line:v,column:y};return function(L){return L.position=new C($),k(),L}}function C($){this.start=$,this.end={line:v,column:y},this.source=g.source}C.prototype.content=m;function S($){var L=new Error(g.source+":"+v+":"+y+": "+$);if(L.reason=$,L.filename=g.source,L.line=v,L.column=y,L.source=m,!g.silent)throw L}function T($){var L=$.exec(m);if(L){var U=L[0];return w(U),m=m.slice(U.length),L}}function k(){T(n)}function I($){var L;for($=$||[];L=R();)L!==!1&&$.push(L);return $}function R(){var $=E();if(!(u!=m.charAt(0)||c!=m.charAt(1))){for(var L=2;d!=m.charAt(L)&&(c!=m.charAt(L)||u!=m.charAt(L+1));)++L;if(L+=2,d===m.charAt(L-1))return S("End of comment missing");var U=m.slice(2,L-2);return y+=2,w(U),m=m.slice(L),y+=2,$({type:f,comment:U})}}function O(){var $=E(),L=T(r);if(L){if(R(),!T(i))return S("property missing ':'");var U=T(s),B=$({type:h,property:p(L[0].replace(e,d)),value:U?p(U[0].replace(e,d)):d});return T(o),B}}function M(){var $=[];I($);for(var L;L=O();)L!==!1&&($.push(L),I($));return $}return k(),M()};function p(m){return m?m.replace(a,d):d}return iL}var Nse;function XXe(){if(Nse)return zb;Nse=1;var e=zb&&zb.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zb,"__esModule",{value:!0}),zb.default=n;var t=e(KXe());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(s=s||{},s[u]=c)}}),s}return zb}var rC={},$se;function QXe(){if($se)return rC;$se=1,Object.defineProperty(rC,"__esModule",{value:!0}),rC.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(u){return!u||n.test(u)||e.test(u)},o=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),s(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(t,o))};return rC.camelCase=l,rC}var iC,Mse;function JXe(){if(Mse)return iC;Mse=1;var e=iC&&iC.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(XXe()),n=QXe();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,iC=r,iC}var ZXe=JXe();const eQe=qs(ZXe),S$=exe("end"),Ah=exe("start");function exe(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function tQe(e){const t=Ah(e),n=S$(e);if(t&&n)return{start:t,end:n}}function nQe(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Fse(e.position):"start"in e||"end"in e?Fse(e):"line"in e||"column"in e?dz(e):""}function dz(e){return Lse(e&&e.line)+":"+Lse(e&&e.column)}function Fse(e){return dz(e&&e.start)+"-"+dz(e&&e.end)}function Lse(e){return e&&typeof e=="number"?e:1}class Ca extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=nQe(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ca.prototype.file="";Ca.prototype.name="";Ca.prototype.reason="";Ca.prototype.message="";Ca.prototype.stack="";Ca.prototype.column=void 0;Ca.prototype.line=void 0;Ca.prototype.ancestors=void 0;Ca.prototype.cause=void 0;Ca.prototype.fatal=void 0;Ca.prototype.place=void 0;Ca.prototype.ruleId=void 0;Ca.prototype.source=void 0;const WG={}.hasOwnProperty,rQe=new Map,iQe=/[A-Z]/g,sQe=new Set(["table","tbody","thead","tfoot","tr"]),oQe=new Set(["td","th"]),txe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function aQe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=mQe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=pQe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?L_:C$,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=nxe(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function nxe(e,t,n){if(t.type==="element")return lQe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return uQe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return dQe(e,t,n);if(t.type==="mdxjsEsm")return cQe(e,t);if(t.type==="root")return fQe(e,t,n);if(t.type==="text")return hQe(e,t)}function lQe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=L_,e.schema=i),e.ancestors.push(t);const s=ixe(e,t.tagName,!1),o=gQe(e,t);let a=YG(e,t);return sQe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!BXe(l):!0})),rxe(e,o,s,t),GG(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function uQe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}$2(e,t.position)}function cQe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);$2(e,t.position)}function dQe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=L_,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:ixe(e,t.name,!0),o=yQe(e,t),a=YG(e,t);return rxe(e,o,s,t),GG(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function fQe(e,t,n){const r={};return GG(r,YG(e,t)),e.create(t,e.Fragment,r,n)}function hQe(e,t){return t.value}function rxe(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function GG(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function pQe(e,t,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:t;return a?u(s,o,a):u(s,o)}}function mQe(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=Ah(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function gQe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&WG.call(t.properties,i)){const s=vQe(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&oQe.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function yQe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else $2(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else $2(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function YG(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:rQe;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=nxe(e,s,o);a!==void 0&&n.push(a)}return n}function vQe(e,t,n){const r=VG(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Vwe(n):Zwe(n)),r.property==="style"){let i=typeof n=="object"?n:bQe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=wQe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?HXe[r.property]||r.property:r.attribute,n]}}function bQe(e,t){try{return eQe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ca("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=txe+"#cannot-parse-style-attribute",i}}function ixe(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=Ase(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Ase(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return WG.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);$2(e)}function $2(e,t){const n=new Ca("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=txe+"#cannot-handle-mdx-estrees-without-createevaluater",n}function wQe(e){const t={};let n;for(n in e)WG.call(e,n)&&(t[xQe(n)]=e[n]);return t}function xQe(e){let t=e.replace(iQe,_Qe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _Qe(e){return"-"+e.toLowerCase()}const sL={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},EQe={};function KG(e,t){const n=EQe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return sxe(e,r,i)}function sxe(e,t,n){if(CQe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return jse(e.children,t,n)}return Array.isArray(e)?jse(e,t,n):""}function jse(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=sxe(e[i],t,n);return r.join("")}function CQe(e){return!!(e&&typeof e=="object")}const Bse=document.createElement("i");function XG(e){const t="&"+e+";";Bse.innerHTML=t;const n=Bse.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Pl(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function ju(e,t){return e.length>0?(Pl(e,e.length,0,t),e):t}const zse={}.hasOwnProperty;function oxe(e){const t={};let n=-1;for(;++n<e.length;)SQe(t,e[n]);return t}function SQe(e,t){let n;for(n in t){const i=(zse.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){zse.call(i,o)||(i[o]=[]);const a=s[o];TQe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function TQe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Pl(e,0,0,r)}function yd(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qa=Ig(/[A-Za-z]/),ua=Ig(/[\dA-Za-z]/),kQe=Ig(/[#-'*+\--9=?A-Z^-~]/);function QP(e){return e!==null&&(e<32||e===127)}const fz=Ig(/\d/),AQe=Ig(/[\dA-Fa-f]/),IQe=Ig(/[!-/:-@[-`{-~]/);function mn(e){return e!==null&&e<-2}function oi(e){return e!==null&&(e<0||e===32)}function Qn(e){return e===-2||e===-1||e===32}const T$=Ig(new RegExp("\\p{P}|\\p{S}","u")),jv=Ig(/\s/);function Ig(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function j_(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&ua(e.charCodeAt(n+1))&&ua(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function pr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Qn(l)?(e.enter(n),a(l)):t(l)}function a(l){return Qn(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const RQe={tokenize:DQe};function DQe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),pr(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return mn(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const PQe={tokenize:OQe},Use={tokenize:NQe};function OQe(e){const t=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const E=t.events.length;let C=E,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}v(r);let T=E;for(;T<t.events.length;)t.events[T][1].end={...S},T++;return Pl(t.events,C+1,0,t.events.slice(E)),t.events.length=T,u(w)}return a(w)}function u(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Use,c,d)(w)}function c(w){return i&&y(),v(r),f(w)}function d(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(w)}function f(w){return t.containerState={},e.attempt(Use,h,p)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function p(w){if(w===null){i&&y(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(w)}function m(w){if(w===null){g(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return mn(w)?(e.consume(w),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),m)}function g(w,E){const C=t.sliceStream(w);if(E&&C.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const T=t.events.length;let k=T,I,R;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(I){R=t.events[k][1].end;break}I=!0}for(v(r),S=T;S<t.events.length;)t.events[S][1].end={...R},S++;Pl(t.events,k+1,0,t.events.slice(T)),t.events.length=S}}function v(w){let E=n.length;for(;E-- >w;){const C=n[E];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function y(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function NQe(e,t,n){return pr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ax(e){if(e===null||oi(e)||jv(e))return 1;if(T$(e))return 2}function k$(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const hz={name:"attention",resolveAll:$Qe,tokenize:MQe};function $Qe(e,t){let n=-1,r,i,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};qse(d,-l),qse(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ju(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ju(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=ju(u,k$(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ju(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=ju(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Pl(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function MQe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ax(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=Ax(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),t(l)}}function qse(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const FQe={name:"autolink",tokenize:LQe};function LQe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return qa(h)?(e.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||ua(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||ua(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||QP(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):kQe(h)?(e.consume(h),u):n(h)}function c(h){return ua(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||ua(h))&&r++<63){const p=h===45?f:d;return e.consume(h),p}return n(h)}}const rk={partial:!0,tokenize:jQe};function jQe(e,t,n){return r;function r(s){return Qn(s)?pr(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||mn(s)?t(s):n(s)}}const axe={continuation:{tokenize:zQe},exit:UQe,name:"blockQuote",tokenize:BQe};function BQe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Qn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function zQe(e,t,n){const r=this;return i;function i(o){return Qn(o)?pr(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(axe,t,n)(o)}}function UQe(e){e.exit("blockQuote")}const lxe={name:"characterEscape",tokenize:qQe};function qQe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return IQe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const uxe={name:"characterReference",tokenize:HQe};function HQe(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=ua,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=AQe,c):(e.enter("characterReferenceValue"),s=7,o=fz,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===ua&&!XG(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),c):n(d)}}const Hse={partial:!0,tokenize:WQe},Vse={concrete:!0,name:"codeFenced",tokenize:VQe};function VQe(e,t,n){const r=this,i={partial:!0,tokenize:C};let s=0,o=0,a;return l;function l(S){return u(S)}function u(S){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===a?(o++,e.consume(S),c):o<3?n(S):(e.exit("codeFencedFenceSequence"),Qn(S)?pr(e,d,"whitespace")(S):d(S))}function d(S){return S===null||mn(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(Hse,m,E)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||mn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):Qn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),pr(e,h,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),f)}function h(S){return S===null||mn(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||mn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===a?n(S):(e.consume(S),p)}function m(S){return e.attempt(i,E,g)(S)}function g(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),v}function v(S){return s>0&&Qn(S)?pr(e,y,"linePrefix",s+1)(S):y(S)}function y(S){return S===null||mn(S)?e.check(Hse,m,E)(S):(e.enter("codeFlowValue"),w(S))}function w(S){return S===null||mn(S)?(e.exit("codeFlowValue"),y(S)):(e.consume(S),w)}function E(S){return e.exit("codeFenced"),t(S)}function C(S,T,k){let I=0;return R;function R(U){return S.enter("lineEnding"),S.consume(U),S.exit("lineEnding"),O}function O(U){return S.enter("codeFencedFence"),Qn(U)?pr(S,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):M(U)}function M(U){return U===a?(S.enter("codeFencedFenceSequence"),$(U)):k(U)}function $(U){return U===a?(I++,S.consume(U),$):I>=o?(S.exit("codeFencedFenceSequence"),Qn(U)?pr(S,L,"whitespace")(U):L(U)):k(U)}function L(U){return U===null||mn(U)?(S.exit("codeFencedFence"),T(U)):k(U)}}}function WQe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const oL={name:"codeIndented",tokenize:YQe},GQe={partial:!0,tokenize:KQe};function YQe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),pr(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):mn(u)?e.attempt(GQe,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||mn(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function KQe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):mn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):pr(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):mn(o)?i(o):n(o)}}const XQe={name:"codeText",previous:JQe,resolve:QQe,tokenize:ZQe};function QQe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function JQe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ZQe(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):mn(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||mn(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}let eJe=class{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&sC(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),sC(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),sC(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);sC(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);sC(this.left,n.reverse())}}};function sC(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function tJe(e){const t={};let n=-1,r,i,s,o,a,l,u;const c=new eJe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,nJe(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Pl(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function nJe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const v=a.slice(g[f],g[f+1]),y=s.pop();l.push([y,y+v.length-1]),e.splice(y,2,v)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const rJe={resolve:sJe,tokenize:oJe},iJe={partial:!0,tokenize:aJe};function sJe(e){return tJe(e),e}function oJe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):mn(a)?e.check(iJe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function aJe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),pr(e,s,"linePrefix")}function s(o){if(o===null||mn(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function cxe(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),f):v===null||v===32||v===41||QP(v)?n(v):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(v))}function f(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(a),f(v)):v===null||v===60||mn(v)?n(v):(e.consume(v),v===92?p:h)}function p(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function m(v){return!c&&(v===null||v===41||oi(v))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(v)):c<u&&v===40?(e.consume(v),c++,m):v===41?(e.consume(v),c--,m):v===null||v===32||v===40||QP(v)?n(v):(e.consume(v),v===92?g:m)}function g(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function dxe(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):mn(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||mn(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!Qn(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function fxe(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),u(f))}function u(f){return f===o?(e.exit(s),l(o)):f===null?n(f):mn(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),pr(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||mn(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function BS(e,t){let n;return r;function r(i){return mn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Qn(i)?pr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const lJe={name:"definition",tokenize:cJe},uJe={partial:!0,tokenize:dJe};function cJe(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return dxe.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=yd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return oi(h)?BS(e,u)(h):u(h)}function u(h){return cxe(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(uJe,d,d)(h)}function d(h){return Qn(h)?pr(e,f,"whitespace")(h):f(h)}function f(h){return h===null||mn(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function dJe(e,t,n){return r;function r(a){return oi(a)?BS(e,i)(a):n(a)}function i(a){return fxe(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Qn(a)?pr(e,o,"whitespace")(a):o(a)}function o(a){return a===null||mn(a)?t(a):n(a)}}const fJe={name:"hardBreakEscape",tokenize:hJe};function hJe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return mn(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const pJe={name:"headingAtx",resolve:mJe,tokenize:gJe};function mJe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Pl(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function gJe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||oi(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||mn(c)?(e.exit("atxHeading"),t(c)):Qn(c)?pr(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||oi(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const yJe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Wse=["pre","script","style","textarea"],vJe={concrete:!0,name:"htmlFlow",resolveTo:xJe,tokenize:_Je},bJe={partial:!0,tokenize:CJe},wJe={partial:!0,tokenize:EJe};function xJe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function _Je(e,t,n){const r=this;let i,s,o,a,l;return u;function u(q){return c(q)}function c(q){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(q),d}function d(q){return q===33?(e.consume(q),f):q===47?(e.consume(q),s=!0,m):q===63?(e.consume(q),i=3,r.interrupt?t:z):qa(q)?(e.consume(q),o=String.fromCharCode(q),g):n(q)}function f(q){return q===45?(e.consume(q),i=2,h):q===91?(e.consume(q),i=5,a=0,p):qa(q)?(e.consume(q),i=4,r.interrupt?t:z):n(q)}function h(q){return q===45?(e.consume(q),r.interrupt?t:z):n(q)}function p(q){const K="CDATA[";return q===K.charCodeAt(a++)?(e.consume(q),a===K.length?r.interrupt?t:M:p):n(q)}function m(q){return qa(q)?(e.consume(q),o=String.fromCharCode(q),g):n(q)}function g(q){if(q===null||q===47||q===62||oi(q)){const K=q===47,J=o.toLowerCase();return!K&&!s&&Wse.includes(J)?(i=1,r.interrupt?t(q):M(q)):yJe.includes(o.toLowerCase())?(i=6,K?(e.consume(q),v):r.interrupt?t(q):M(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):s?y(q):w(q))}return q===45||ua(q)?(e.consume(q),o+=String.fromCharCode(q),g):n(q)}function v(q){return q===62?(e.consume(q),r.interrupt?t:M):n(q)}function y(q){return Qn(q)?(e.consume(q),y):R(q)}function w(q){return q===47?(e.consume(q),R):q===58||q===95||qa(q)?(e.consume(q),E):Qn(q)?(e.consume(q),w):R(q)}function E(q){return q===45||q===46||q===58||q===95||ua(q)?(e.consume(q),E):C(q)}function C(q){return q===61?(e.consume(q),S):Qn(q)?(e.consume(q),C):w(q)}function S(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(e.consume(q),l=q,T):Qn(q)?(e.consume(q),S):k(q)}function T(q){return q===l?(e.consume(q),l=null,I):q===null||mn(q)?n(q):(e.consume(q),T)}function k(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||oi(q)?C(q):(e.consume(q),k)}function I(q){return q===47||q===62||Qn(q)?w(q):n(q)}function R(q){return q===62?(e.consume(q),O):n(q)}function O(q){return q===null||mn(q)?M(q):Qn(q)?(e.consume(q),O):n(q)}function M(q){return q===45&&i===2?(e.consume(q),B):q===60&&i===1?(e.consume(q),V):q===62&&i===4?(e.consume(q),F):q===63&&i===3?(e.consume(q),z):q===93&&i===5?(e.consume(q),Y):mn(q)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(bJe,W,$)(q)):q===null||mn(q)?(e.exit("htmlFlowData"),$(q)):(e.consume(q),M)}function $(q){return e.check(wJe,L,W)(q)}function L(q){return e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),U}function U(q){return q===null||mn(q)?$(q):(e.enter("htmlFlowData"),M(q))}function B(q){return q===45?(e.consume(q),z):M(q)}function V(q){return q===47?(e.consume(q),o="",G):M(q)}function G(q){if(q===62){const K=o.toLowerCase();return Wse.includes(K)?(e.consume(q),F):M(q)}return qa(q)&&o.length<8?(e.consume(q),o+=String.fromCharCode(q),G):M(q)}function Y(q){return q===93?(e.consume(q),z):M(q)}function z(q){return q===62?(e.consume(q),F):q===45&&i===2?(e.consume(q),z):M(q)}function F(q){return q===null||mn(q)?(e.exit("htmlFlowData"),W(q)):(e.consume(q),F)}function W(q){return e.exit("htmlFlow"),t(q)}}function EJe(e,t,n){const r=this;return i;function i(o){return mn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function CJe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(rk,t,n)}}const SJe={name:"htmlText",tokenize:TJe};function TJe(e,t,n){const r=this;let i,s,o;return a;function a(z){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(z),l}function l(z){return z===33?(e.consume(z),u):z===47?(e.consume(z),C):z===63?(e.consume(z),w):qa(z)?(e.consume(z),k):n(z)}function u(z){return z===45?(e.consume(z),c):z===91?(e.consume(z),s=0,p):qa(z)?(e.consume(z),y):n(z)}function c(z){return z===45?(e.consume(z),h):n(z)}function d(z){return z===null?n(z):z===45?(e.consume(z),f):mn(z)?(o=d,V(z)):(e.consume(z),d)}function f(z){return z===45?(e.consume(z),h):d(z)}function h(z){return z===62?B(z):z===45?f(z):d(z)}function p(z){const F="CDATA[";return z===F.charCodeAt(s++)?(e.consume(z),s===F.length?m:p):n(z)}function m(z){return z===null?n(z):z===93?(e.consume(z),g):mn(z)?(o=m,V(z)):(e.consume(z),m)}function g(z){return z===93?(e.consume(z),v):m(z)}function v(z){return z===62?B(z):z===93?(e.consume(z),v):m(z)}function y(z){return z===null||z===62?B(z):mn(z)?(o=y,V(z)):(e.consume(z),y)}function w(z){return z===null?n(z):z===63?(e.consume(z),E):mn(z)?(o=w,V(z)):(e.consume(z),w)}function E(z){return z===62?B(z):w(z)}function C(z){return qa(z)?(e.consume(z),S):n(z)}function S(z){return z===45||ua(z)?(e.consume(z),S):T(z)}function T(z){return mn(z)?(o=T,V(z)):Qn(z)?(e.consume(z),T):B(z)}function k(z){return z===45||ua(z)?(e.consume(z),k):z===47||z===62||oi(z)?I(z):n(z)}function I(z){return z===47?(e.consume(z),B):z===58||z===95||qa(z)?(e.consume(z),R):mn(z)?(o=I,V(z)):Qn(z)?(e.consume(z),I):B(z)}function R(z){return z===45||z===46||z===58||z===95||ua(z)?(e.consume(z),R):O(z)}function O(z){return z===61?(e.consume(z),M):mn(z)?(o=O,V(z)):Qn(z)?(e.consume(z),O):I(z)}function M(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),i=z,$):mn(z)?(o=M,V(z)):Qn(z)?(e.consume(z),M):(e.consume(z),L)}function $(z){return z===i?(e.consume(z),i=void 0,U):z===null?n(z):mn(z)?(o=$,V(z)):(e.consume(z),$)}function L(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||oi(z)?I(z):(e.consume(z),L)}function U(z){return z===47||z===62||oi(z)?I(z):n(z)}function B(z){return z===62?(e.consume(z),e.exit("htmlTextData"),e.exit("htmlText"),t):n(z)}function V(z){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),G}function G(z){return Qn(z)?pr(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):Y(z)}function Y(z){return e.enter("htmlTextData"),o(z)}}const QG={name:"labelEnd",resolveAll:RJe,resolveTo:DJe,tokenize:PJe},kJe={tokenize:OJe},AJe={tokenize:NJe},IJe={tokenize:$Je};function RJe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Pl(e,0,e.length,n),e}function DJe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=ju(a,e.slice(s+1,s+r+3)),a=ju(a,[["enter",c,t]]),a=ju(a,k$(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=ju(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=ju(a,e.slice(o+1)),a=ju(a,[["exit",l,t]]),Pl(e,s,e.length,a),e}function PJe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(yd(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(kJe,c,o?c:d)(f):f===91?e.attempt(AJe,c,o?u:d)(f):o?c(f):d(f)}function u(f){return e.attempt(IJe,c,d)(f)}function c(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function OJe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return oi(d)?BS(e,s)(d):s(d)}function s(d){return d===41?c(d):cxe(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return oi(d)?BS(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?fxe(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return oi(d)?BS(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function NJe(e,t,n){const r=this;return i;function i(a){return dxe.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(yd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function $Je(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const MJe={name:"labelStartImage",resolveAll:QG.resolveAll,tokenize:FJe};function FJe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const LJe={name:"labelStartLink",resolveAll:QG.resolveAll,tokenize:jJe};function jJe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const aL={name:"lineEnding",tokenize:BJe};function BJe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),pr(e,t,"linePrefix")}}const Q3={name:"thematicBreak",tokenize:zJe};function zJe(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||mn(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Qn(u)?pr(e,a,"whitespace")(u):a(u))}}const bl={continuation:{tokenize:VJe},exit:GJe,name:"list",tokenize:HJe},UJe={partial:!0,tokenize:YJe},qJe={partial:!0,tokenize:WJe};function HJe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:fz(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Q3,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return fz(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(rk,r.interrupt?n:c,e.attempt(UJe,f,d))}function c(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return Qn(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function VJe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(rk,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,pr(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Qn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qJe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,pr(e,e.attempt(bl,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function WJe(e,t,n){const r=this;return pr(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function GJe(e){e.exit(this.containerState.type)}function YJe(e,t,n){const r=this;return pr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Qn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Gse={name:"setextUnderline",resolveTo:KJe,tokenize:XJe};function KJe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function XJe(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Qn(u)?pr(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||mn(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const QJe={tokenize:JJe};function JJe(e){const t=this,n=e.attempt(rk,r,e.attempt(this.parser.constructs.flowInitial,i,pr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(rJe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ZJe={resolveAll:pxe()},eZe=hxe("string"),tZe=hxe("text");function hxe(e){return{resolveAll:pxe(e==="text"?nZe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function pxe(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function nZe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const rZe={42:bl,43:bl,45:bl,48:bl,49:bl,50:bl,51:bl,52:bl,53:bl,54:bl,55:bl,56:bl,57:bl,62:axe},iZe={91:lJe},sZe={[-2]:oL,[-1]:oL,32:oL},oZe={35:pJe,42:Q3,45:[Gse,Q3],60:vJe,61:Gse,95:Q3,96:Vse,126:Vse},aZe={38:uxe,92:lxe},lZe={[-5]:aL,[-4]:aL,[-3]:aL,33:MJe,38:uxe,42:hz,60:[FQe,SJe],91:LJe,92:[fJe,lxe],93:QG,95:hz,96:XQe},uZe={null:[hz,ZJe]},cZe={null:[42,95]},dZe={null:[]},fZe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cZe,contentInitial:iZe,disable:dZe,document:rZe,flow:oZe,flowInitial:sZe,insideSpan:uZe,string:aZe,text:lZe},Symbol.toStringTag,{value:"Module"}));function hZe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:T(C),check:T(S),consume:y,enter:w,exit:E,interrupt:T(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(O){return o=ju(o,O),g(),o[o.length-1]!==null?[]:(k(t,0),u.events=k$(s,u.events,u),u.events)}function f(O,M){return mZe(h(O),M)}function h(O){return pZe(o,O)}function p(){const{_bufferIndex:O,_index:M,line:$,column:L,offset:U}=r;return{_bufferIndex:O,_index:M,line:$,column:L,offset:U}}function m(O){i[O.line]=O.column,R()}function g(){let O;for(;r._index<o.length;){const M=o[r._index];if(typeof M=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<M.length;)v(M.charCodeAt(r._bufferIndex));else v(M)}}function v(O){c=c(O)}function y(O){mn(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,R()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=O}function w(O,M){const $=M||{};return $.type=O,$.start=p(),u.events.push(["enter",$,u]),a.push($),$}function E(O){const M=a.pop();return M.end=p(),u.events.push(["exit",M,u]),M}function C(O,M){k(O,M.from)}function S(O,M){M.restore()}function T(O,M){return $;function $(L,U,B){let V,G,Y,z;return Array.isArray(L)?W(L):"tokenize"in L?W([L]):F(L);function F(te){return le;function le(oe){const ie=oe!==null&&te[oe],he=oe!==null&&te.null,ee=[...Array.isArray(ie)?ie:ie?[ie]:[],...Array.isArray(he)?he:he?[he]:[]];return W(ee)(oe)}}function W(te){return V=te,G=0,te.length===0?B:q(te[G])}function q(te){return le;function le(oe){return z=I(),Y=te,te.partial||(u.currentConstruct=te),te.name&&u.parser.constructs.disable.null.includes(te.name)?J():te.tokenize.call(M?Object.assign(Object.create(u),M):u,l,K,J)(oe)}}function K(te){return O(Y,z),U}function J(te){return z.restore(),++G<V.length?q(V[G]):B}}}function k(O,M){O.resolveAll&&!s.includes(O)&&s.push(O),O.resolve&&Pl(u.events,M,u.events.length-M,O.resolve(u.events.slice(M),u)),O.resolveTo&&(u.events=O.resolveTo(u.events,u))}function I(){const O=p(),M=u.previous,$=u.currentConstruct,L=u.events.length,U=Array.from(a);return{from:L,restore:B};function B(){r=O,u.previous=M,u.currentConstruct=$,u.events.length=L,a=U,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function pZe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function mZe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function gZe(e){const r={constructs:oxe([fZe,...(e||{}).extensions||[]]),content:i(RQe),defined:[],document:i(PQe),flow:i(QJe),lazy:{},string:i(eZe),text:i(tZe)};return r;function i(s){return o;function o(a){return hZe(r,s,a)}}}class yZe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&oC(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),oC(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),oC(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);oC(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);oC(this.left,n.reverse())}}}function oC(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function vZe(e){const t={};let n=-1,r,i,s,o,a,l,u;const c=new yZe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,bZe(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Pl(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function bZe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const v=a.slice(g[f],g[f+1]),y=s.pop();l.push([y,y+v.length-1]),e.splice(y,2,v)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}function wZe(e){for(;!vZe(e););return e}const Yse=/[\0\t\n\r]/g;function xZe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,f,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Yse.lastIndex=d,u=Yse.exec(s),f=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(f),!u){t=s.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function _Ze(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function EZe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const CZe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function SZe(e){return e.replace(CZe,TZe)}function TZe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return EZe(n.slice(s?2:1),s?16:10)}return XG(n)||e}function J3(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Kse(e.position):"start"in e||"end"in e?Kse(e):"line"in e||"column"in e?pz(e):""}function pz(e){return Xse(e&&e.line)+":"+Xse(e&&e.column)}function Kse(e){return pz(e&&e.start)+"-"+pz(e&&e.end)}function Xse(e){return e&&typeof e=="number"?e:1}const mxe={}.hasOwnProperty;function kZe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),AZe(n)(wZe(gZe(n).document().write(xZe()(e,t,!0))))}function AZe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(He),autolinkProtocol:I,autolinkEmail:I,atxHeading:s(xe),blockQuote:s(he),characterEscape:I,characterReference:I,codeFenced:s(ee),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ee,o),codeText:s(ne,o),codeTextData:I,data:I,codeFlowValue:I,definition:s(ue),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ve),hardBreakEscape:s(Re),hardBreakTrailing:s(Re),htmlFlow:s(Te,o),htmlFlowData:I,htmlText:s(Te,o),htmlTextData:I,image:s(we),label:o,link:s(He),listItem:s(tt),listItemValue:f,listOrdered:s(Xe,d),listUnordered:s(Xe),paragraph:s(ft),reference:q,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(xe),strong:s(rt),thematicBreak:s(Le)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:ie,autolinkProtocol:oe,blockQuote:l(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:te,characterReference:le,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:R,codeIndented:l(v),codeText:l(U),codeTextData:R,data:R,definition:l(),definitionDestinationString:E,definitionLabelString:y,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l($),htmlFlowData:R,htmlText:l(L),htmlTextData:R,image:l(V),label:Y,labelText:G,lineEnding:O,link:l(B),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:K,resourceDestinationString:z,resourceTitleString:F,resource:W,setextHeading:l(k),setextHeadingLineSequence:T,setextHeadingText:S,strong:l(),thematicBreak:l()}};gxe(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let $e={type:"root",children:[]};const ze={stack:[$e],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:n},it=[];let st=-1;for(;++st<ge.length;)if(ge[st][1].type==="listOrdered"||ge[st][1].type==="listUnordered")if(ge[st][0]==="enter")it.push(st);else{const wt=it.pop();st=i(ge,wt,st)}for(st=-1;++st<ge.length;){const wt=t[ge[st][0]];mxe.call(wt,ge[st][1].type)&&wt[ge[st][1].type].call(Object.assign({sliceSerialize:ge[st][2].sliceSerialize},ze),ge[st][1])}if(ze.tokenStack.length>0){const wt=ze.tokenStack[ze.tokenStack.length-1];(wt[1]||Qse).call(ze,void 0,wt[0])}for($e.position={start:e0(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:e0(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},st=-1;++st<t.transforms.length;)$e=t.transforms[st]($e)||$e;return $e}function i(ge,$e,ze){let it=$e-1,st=-1,wt=!1,un,Rn,Mn,Lt;for(;++it<=ze;){const wn=ge[it];switch(wn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{wn[0]==="enter"?st++:st--,Lt=void 0;break}case"lineEndingBlank":{wn[0]==="enter"&&(un&&!Lt&&!st&&!Mn&&(Mn=it),Lt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Lt=void 0}if(!st&&wn[0]==="enter"&&wn[1].type==="listItemPrefix"||st===-1&&wn[0]==="exit"&&(wn[1].type==="listUnordered"||wn[1].type==="listOrdered")){if(un){let Gn=it;for(Rn=void 0;Gn--;){const Fn=ge[Gn];if(Fn[1].type==="lineEnding"||Fn[1].type==="lineEndingBlank"){if(Fn[0]==="exit")continue;Rn&&(ge[Rn][1].type="lineEndingBlank",wt=!0),Fn[1].type="lineEnding",Rn=Gn}else if(!(Fn[1].type==="linePrefix"||Fn[1].type==="blockQuotePrefix"||Fn[1].type==="blockQuotePrefixWhitespace"||Fn[1].type==="blockQuoteMarker"||Fn[1].type==="listItemIndent"))break}Mn&&(!Rn||Mn<Rn)&&(un._spread=!0),un.end=Object.assign({},Rn?ge[Rn][1].start:wn[1].end),ge.splice(Rn||it,0,["exit",un,wn[2]]),it++,ze++}if(wn[1].type==="listItemPrefix"){const Gn={type:"listItem",_spread:!1,start:Object.assign({},wn[1].start),end:void 0};un=Gn,ge.splice(it,0,["enter",Gn,wn[2]]),it++,ze++,Mn=void 0,Lt=!0}}}return ge[$e][1]._spread=wt,ze}function s(ge,$e){return ze;function ze(it){a.call(this,ge(it),it),$e&&$e.call(this,it)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ge,$e,ze){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([$e,ze||void 0]),ge.position={start:e0($e.start),end:void 0}}function l(ge){return $e;function $e(ze){ge&&ge.call(this,ze),u.call(this,ze)}}function u(ge,$e){const ze=this.stack.pop(),it=this.tokenStack.pop();if(it)it[0].type!==ge.type&&($e?$e.call(this,ge,it[0]):(it[1]||Qse).call(this,ge,it[0]));else throw new Error("Cannot close `"+ge.type+"` ("+J3({start:ge.start,end:ge.end})+"): its not open");ze.position.end=e0(ge.end)}function c(){return KG(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(ge){if(this.data.expectingFirstListItemValue){const $e=this.stack[this.stack.length-2];$e.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function h(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.lang=ge}function p(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.meta=ge}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ge.replace(/(\r?\n|\r)$/g,"")}function y(ge){const $e=this.resume(),ze=this.stack[this.stack.length-1];ze.label=$e,ze.identifier=yd(this.sliceSerialize(ge)).toLowerCase()}function w(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.title=ge}function E(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.url=ge}function C(ge){const $e=this.stack[this.stack.length-1];if(!$e.depth){const ze=this.sliceSerialize(ge).length;$e.depth=ze}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(ge){const $e=this.stack[this.stack.length-1];$e.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function I(ge){const ze=this.stack[this.stack.length-1].children;let it=ze[ze.length-1];(!it||it.type!=="text")&&(it=Pe(),it.position={start:e0(ge.start),end:void 0},ze.push(it)),this.stack.push(it)}function R(ge){const $e=this.stack.pop();$e.value+=this.sliceSerialize(ge),$e.position.end=e0(ge.end)}function O(ge){const $e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ze=$e.children[$e.children.length-1];ze.position.end=e0(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes($e.type)&&(I.call(this,ge),R.call(this,ge))}function M(){this.data.atHardBreak=!0}function $(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ge}function L(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ge}function U(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ge}function B(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const $e=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=$e,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function V(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const $e=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=$e,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function G(ge){const $e=this.sliceSerialize(ge),ze=this.stack[this.stack.length-2];ze.label=SZe($e),ze.identifier=yd($e).toLowerCase()}function Y(){const ge=this.stack[this.stack.length-1],$e=this.resume(),ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,ze.type==="link"){const it=ge.children;ze.children=it}else ze.alt=$e}function z(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.url=ge}function F(){const ge=this.resume(),$e=this.stack[this.stack.length-1];$e.title=ge}function W(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function K(ge){const $e=this.resume(),ze=this.stack[this.stack.length-1];ze.label=$e,ze.identifier=yd(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function J(ge){this.data.characterReferenceType=ge.type}function te(ge){const $e=this.sliceSerialize(ge),ze=this.data.characterReferenceType;let it;ze?(it=_Ze($e,ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):it=XG($e);const st=this.stack[this.stack.length-1];st.value+=it}function le(ge){const $e=this.stack.pop();$e.position.end=e0(ge.end)}function oe(ge){R.call(this,ge);const $e=this.stack[this.stack.length-1];$e.url=this.sliceSerialize(ge)}function ie(ge){R.call(this,ge);const $e=this.stack[this.stack.length-1];$e.url="mailto:"+this.sliceSerialize(ge)}function he(){return{type:"blockquote",children:[]}}function ee(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ve(){return{type:"emphasis",children:[]}}function xe(){return{type:"heading",depth:0,children:[]}}function Re(){return{type:"break"}}function Te(){return{type:"html",value:""}}function we(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function Xe(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function tt(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function ft(){return{type:"paragraph",children:[]}}function rt(){return{type:"strong",children:[]}}function Pe(){return{type:"text",value:""}}function Le(){return{type:"thematicBreak"}}}function e0(e){return{line:e.line,column:e.column,offset:e.offset}}function gxe(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?gxe(e,r):IZe(e,r)}}function IZe(e,t){let n;for(n in t)if(mxe.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Qse(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+J3({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+J3({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+J3({start:t.start,end:t.end})+") is still open")}function RZe(e){const t=this;t.parser=n;function n(r){return kZe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function DZe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function PZe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function OZe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function NZe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $Ze(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function MZe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=j_(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function FZe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function LZe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function yxe(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function jZe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return yxe(e,t);const i={src:j_(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function BZe(e,t){const n={src:j_(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function zZe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function UZe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return yxe(e,t);const i={href:j_(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function qZe(e,t){const n={href:j_(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function HZe(e,t,n){const r=e.all(t),i=n?VZe(n):vxe(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function VZe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=vxe(n[r])}return t}function vxe(e){const t=e.spread;return t??e.children.length>1}function WZe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function GZe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YZe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function KZe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function XZe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Ah(t.children[1]),l=S$(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function QZe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},h=o?o[l]:void 0;h&&(f.align=h);let p={type:"element",tagName:s,properties:f,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function JZe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Jse=9,Zse=32;function ZZe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(eoe(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(eoe(t.slice(i),i>0,!1)),s.join("")}function eoe(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Jse||s===Zse;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Jse||s===Zse;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function eet(e,t){const n={type:"text",value:ZZe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function tet(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const net={blockquote:DZe,break:PZe,code:OZe,delete:NZe,emphasis:$Ze,footnoteReference:MZe,heading:FZe,html:LZe,imageReference:jZe,image:BZe,inlineCode:zZe,linkReference:UZe,link:qZe,listItem:HZe,list:WZe,paragraph:GZe,root:YZe,strong:KZe,table:XZe,tableCell:JZe,tableRow:QZe,text:eet,thematicBreak:tet,toml:OI,yaml:OI,definition:OI,footnoteDefinition:OI};function OI(){}const bxe=-1,A$=0,zS=1,JP=2,JG=3,ZG=4,eY=5,tY=6,wxe=7,xxe=8,toe=typeof self=="object"?self:globalThis,ret=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case A$:case bxe:return n(o,i);case zS:{const a=n([],i);for(const l of o)a.push(r(l));return a}case JP:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case JG:return n(new Date(o),i);case ZG:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case eY:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case tY:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case wxe:{const{name:a,message:l}=o;return n(new toe[a](l),i)}case xxe:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new toe[s](o),i)};return r},noe=e=>ret(new Map,e)(0),Ub="",{toString:iet}={},{keys:set}=Object,aC=e=>{const t=typeof e;if(t!=="object"||!e)return[A$,t];const n=iet.call(e).slice(8,-1);switch(n){case"Array":return[zS,Ub];case"Object":return[JP,Ub];case"Date":return[JG,Ub];case"RegExp":return[ZG,Ub];case"Map":return[eY,Ub];case"Set":return[tY,Ub];case"DataView":return[zS,n]}return n.includes("Array")?[zS,n]:n.includes("Error")?[wxe,n]:[JP,n]},NI=([e,t])=>e===A$&&(t==="function"||t==="symbol"),oet=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=aC(o);switch(a){case A$:{let c=o;switch(l){case"bigint":a=xxe,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([bxe],o)}return i([a,c],o)}case zS:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const c=[],d=i([a,c],o);for(const f of o)c.push(s(f));return d}case JP:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const f of set(o))(e||!NI(aC(o[f])))&&c.push([s(f),s(o[f])]);return d}case JG:return i([a,o.toISOString()],o);case ZG:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case eY:{const c=[],d=i([a,c],o);for(const[f,h]of o)(e||!(NI(aC(f))||NI(aC(h))))&&c.push([s(f),s(h)]);return d}case tY:{const c=[],d=i([a,c],o);for(const f of o)(e||!NI(aC(f)))&&c.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},roe=(e,{json:t,lossy:n}={})=>{const r=[];return oet(!(t||n),!!t,new Map,r)(e),r},Ix=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?noe(roe(e,t)):structuredClone(e):(e,t)=>noe(roe(e,t));function aet(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function uet(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function cet(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||aet,r=e.options.footnoteBackLabel||uet,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=j_(d.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let y=typeof n=="string"?n:n(l,h);typeof y=="string"&&(y={type:"text",value:y}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const y=g.children[g.children.length-1];y&&y.type==="text"?y.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else c.push(...p);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ix(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const I$=(function(e){if(e==null)return pet;if(typeof e=="function")return R$(e);if(typeof e=="object")return Array.isArray(e)?det(e):fet(e);if(typeof e=="string")return het(e);throw new Error("Expected function, string, or object as test")});function det(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=I$(e[n]);return R$(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function fet(e){const t=e;return R$(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function het(e){return R$(t);function t(n){return n&&n.type===e}}function R$(e){return t;function t(n,r,i){return!!(met(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function pet(){return!0}function met(e){return e!==null&&typeof e=="object"&&"type"in e}const _xe=[],get=!0,mz=!1,yet="skip";function Exe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=I$(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=_xe,p,m,g;if((!t||s(l,u,c[c.length-1]||void 0))&&(h=vet(n(l,c)),h[0]===mz))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==yet)for(m=(r?v.children.length:-1)+o,g=c.concat(v);m>-1&&m<v.children.length;){const y=v.children[m];if(p=a(y,m,g)(),p[0]===mz)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function vet(e){return Array.isArray(e)?e:typeof e=="number"?[get,e]:e==null?_xe:[e]}function D$(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),Exe(e,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const gz={}.hasOwnProperty,bet={};function wet(e,t){const n=t||bet,r=new Map,i=new Map,s=new Map,o={...net,...n.handlers},a={all:u,applyData:_et,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:xet,wrap:Cet};return D$(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,h=a.handlers[f];if(gz.call(a.handlers,f)&&h)return h(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:m,...g}=c,v=Ix(g);return v.children=a.all(c),v}return Ix(c)}return(a.options.unknownHandler||Eet)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const p=a.one(f[h],c);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=ioe(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=ioe(m.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function xet(e,t){e.position&&(t.position=tQe(e))}function _et(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Ix(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Eet(e,t){const n=t.data||{},r="value"in t&&!(gz.call(n,"hProperties")||gz.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Cet(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ioe(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function soe(e,t){const n=wet(e,t),r=n.one(e,void 0),i=cet(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Tet(e,t){return e&&"run"in e?async function(n,r){const i=soe(n,{file:r,...t});await e.run(i,r)}:function(n,r){return soe(n,{file:r,...e||t})}}function ooe(e){if(e)throw e}var lL,aoe;function ket(){if(aoe)return lL;aoe=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},o=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return lL=function l(){var u,c,d,f,h,p,m=arguments[0],g=1,v=arguments.length,y=!1;for(typeof m=="boolean"&&(y=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<v;++g)if(u=arguments[g],u!=null)for(c in u)d=a(m,c),f=a(u,c),m!==f&&(y&&f&&(s(f)||(h=i(f)))?(h?(h=!1,p=d&&i(d)?d:[]):p=d&&s(d)?d:{},o(m,{name:c,newValue:l(y,p,f)})):typeof f<"u"&&o(m,{name:c,newValue:f}));return m},lL}var Aet=ket();const uL=qs(Aet);function yz(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Iet(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?Ret(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Ret(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const kf={basename:Det,dirname:Pet,extname:Oet,join:Net,sep:"/"};function Det(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ik(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Pet(e){if(ik(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Oet(e){ik(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Net(...e){let t=-1,n;for(;++t<e.length;)ik(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":$et(n)}function $et(e){ik(e);const t=e.codePointAt(0)===47;let n=Met(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Met(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function ik(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Fet={cwd:Let};function Let(){return"/"}function vz(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function jet(e){if(typeof e=="string")e=new URL(e);else if(!vz(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Bet(e)}function Bet(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const cL=["history","path","basename","stem","extname","dirname"];class Cxe{constructor(t){let n;t?vz(t)?n={path:t}:typeof t=="string"||zet(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Fet.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<cL.length;){const s=cL[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)cL.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?kf.basename(this.path):void 0}set basename(t){fL(t,"basename"),dL(t,"basename"),this.path=kf.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?kf.dirname(this.path):void 0}set dirname(t){loe(this.basename,"dirname"),this.path=kf.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?kf.extname(this.path):void 0}set extname(t){if(dL(t,"extname"),loe(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=kf.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){vz(t)&&(t=jet(t)),fL(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?kf.basename(this.path,this.extname):void 0}set stem(t){fL(t,"stem"),dL(t,"stem"),this.path=kf.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ca(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function dL(e,t){if(e&&e.includes(kf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+kf.sep+"`")}function fL(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function loe(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function zet(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Uet=(function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),qet={}.hasOwnProperty;class nY extends Uet{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Iet()}copy(){const t=new nY;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(uL(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(mL("data",this.frozen),this.namespace[t]=n,this):qet.call(this.namespace,t)&&this.namespace[t]||void 0:t?(mL("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=$I(t),r=this.parser||this.Parser;return hL("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),hL("process",this.parser||this.Parser),pL("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=$I(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const h=d,p=r.stringify(h,f);Wet(p)?f.value=p:f.result=p,u(c,f)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),hL("processSync",this.parser||this.Parser),pL("processSync",this.compiler||this.Compiler),this.process(t,i),coe("processSync","process",n),r;function i(s,o){n=!0,ooe(s),r=o}}run(t,n,r){uoe(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=$I(n);i.run(t,l,u);function u(c,d,f){const h=d||t;c?a(c):o?o(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),coe("runSync","run",r),i;function s(o,a){ooe(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=$I(n),i=this.compiler||this.Compiler;return pL("stringify",i),uoe(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(mL("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=uL(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const m=r[f][1];yz(m)&&yz(h)&&(h=uL(!0,m,h)),r[f]=[u,h,...p]}}}}const Het=new nY().freeze();function hL(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function pL(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function mL(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function uoe(e){if(!yz(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function coe(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function $I(e){return Vet(e)?e:new Cxe(e)}function Vet(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Wet(e){return typeof e=="string"||Get(e)}function Get(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Yet="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",doe=[],foe={allowDangerousHtml:!0},Ket=/^(https?|ircs?|mailto|xmpp)$/i,Xet=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Qet(e){const t=Jet(e),n=Zet(e);return ett(t.runSync(t.parse(n),n),e)}function Jet(e){const t=e.rehypePlugins||doe,n=e.remarkPlugins||doe,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...foe}:foe;return Het().use(RZe).use(n).use(Tet,r).use(t)}function Zet(e){const t=e.children||"",n=new Cxe;return typeof t=="string"&&(n.value=t),n}function ett(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||ttt;for(const c of Xet)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+Yet+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),D$(e,u),aQe(e,{Fragment:x.Fragment,components:i,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let h;for(h in sL)if(Object.hasOwn(sL,h)&&Object.hasOwn(c.properties,h)){const p=c.properties[h],m=sL[h];(m===null||m.includes(c.tagName))&&(c.properties[h]=l(String(p||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(c,d,f)),h&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function ttt(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Ket.test(e.slice(0,t))?e:""}const hoe=/[#.]/g;function ntt(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){hoe.lastIndex=i;const a=hoe.exec(n),l=n.slice(i,a?a.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,i+=l.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}function Sxe(e,t,n){const r=n?ott(n):void 0;function i(s,o,...a){let l;if(s==null){l={type:"root",children:[]};const u=o;a.unshift(u)}else{l=ntt(s,t);const u=l.tagName.toLowerCase(),c=r?r.get(u):void 0;if(l.tagName=c||u,rtt(o))a.unshift(o);else for(const[d,f]of Object.entries(o))itt(e,l.properties,d,f)}for(const u of a)bz(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function rtt(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const o of s)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function itt(e,t,n,r){const i=VG(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=Pse(r):i.commaSeparated?s=kse(r):i.commaOrSpaceSeparated?s=Pse(kse(r).join(" ")):s=poe(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?stt(r):String(r);if(Array.isArray(s)){const o=[];for(const a of s)o.push(poe(i,i.property,a));s=o}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function bz(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)bz(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?bz(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function poe(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||N2(n)===N2(t)))return!0}return n}function stt(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function ott(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const att=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],ltt=Sxe(C$,"div"),utt=Sxe(L_,"g",att);function ctt(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let o=0;for(;;){let a=n[o];if(a===void 0){const l=moe(t,n[o-1]);a=l===-1?t.length+1:l+1,n[o]=a}if(a>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s};o++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const a=n[n.length-1],l=moe(t,a),u=l===-1?t.length+1:l+1;if(a===u)break;n.push(u)}const o=(s.line>1?n[s.line-2]:0)+s.column-1;if(o<n[s.line-1])return o}}}function moe(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const uv={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Txe={}.hasOwnProperty,dtt=Object.prototype;function ftt(e,t){const n=t||{};return rY({file:n.file||void 0,location:!1,schema:n.space==="svg"?L_:C$,verbose:n.verbose||!1},e)}function rY(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Z3(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:kxe(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=ctt(s),a=o.toPoint(0),l=o.toPoint(s.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Z3(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Z3(e,r,n),n}default:return n=htt(e,t),n}}function kxe(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=rY(e,t[n]);r.push(i)}return r}function htt(e,t){const n=e.schema;e.schema=t.namespaceURI===uv.svg?L_:C$;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;Txe.call(dtt,l)||(i[l]=a.value)}const o=(e.schema.space==="svg"?utt:ltt)(t.tagName,i,kxe(e,t.childNodes));if(Z3(e,t,o),o.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&Rw(l.startTag),c=l&&l.endTag&&Rw(l.endTag),d=rY(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),o.content=d}return e.schema=n,o}function Z3(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=ptt(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function ptt(e,t,n){const r=Rw(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)Txe.call(n.attrs,o)&&(s[VG(e.schema,o).property]=Rw(n.attrs[o]));n.startTag;const a=Rw(n.startTag),l=n.endTag?Rw(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return r}function Rw(e){const t=goe({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=goe({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function goe(e){return e.line&&e.column?e:void 0}let sk=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};sk.prototype.property={};sk.prototype.normal={};sk.prototype.space=null;function Axe(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new sk(n,r,t)}function wz(e){return e.toLowerCase()}let wc=class{constructor(t,n){this.property=t,this.attribute=n}};wc.prototype.space=null;wc.prototype.boolean=!1;wc.prototype.booleanish=!1;wc.prototype.overloadedBoolean=!1;wc.prototype.number=!1;wc.prototype.commaSeparated=!1;wc.prototype.spaceSeparated=!1;wc.prototype.commaOrSpaceSeparated=!1;wc.prototype.mustUseProperty=!1;wc.prototype.defined=!1;let mtt=0;const Pn=R1(),ys=R1(),Ixe=R1(),_t=R1(),di=R1(),Kw=R1(),Zl=R1();function R1(){return 2**++mtt}const xz=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pn,booleanish:ys,commaOrSpaceSeparated:Zl,commaSeparated:Kw,number:_t,overloadedBoolean:Ixe,spaceSeparated:di},Symbol.toStringTag,{value:"Module"})),gL=Object.keys(xz);class iY extends wc{constructor(t,n,r,i){let s=-1;if(super(t,n),yoe(this,"space",i),typeof r=="number")for(;++s<gL.length;){const o=gL[s];yoe(this,gL[s],(r&xz[o])===xz[o])}}}iY.prototype.defined=!0;function yoe(e,t,n){n&&(e[t]=n)}const gtt={}.hasOwnProperty;function B_(e){const t={},n={};let r;for(r in e.properties)if(gtt.call(e.properties,r)){const i=e.properties[r],s=new iY(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[wz(r)]=r,n[wz(s.attribute)]=r}return new sk(t,n,e.space)}const Rxe=B_({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Dxe=B_({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Pxe(e,t){return t in e?e[t]:t}function Oxe(e,t){return Pxe(e,t.toLowerCase())}const Nxe=B_({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Oxe,properties:{xmlns:null,xmlnsXLink:null}}),$xe=B_({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ys,ariaAutoComplete:null,ariaBusy:ys,ariaChecked:ys,ariaColCount:_t,ariaColIndex:_t,ariaColSpan:_t,ariaControls:di,ariaCurrent:null,ariaDescribedBy:di,ariaDetails:null,ariaDisabled:ys,ariaDropEffect:di,ariaErrorMessage:null,ariaExpanded:ys,ariaFlowTo:di,ariaGrabbed:ys,ariaHasPopup:null,ariaHidden:ys,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:di,ariaLevel:_t,ariaLive:null,ariaModal:ys,ariaMultiLine:ys,ariaMultiSelectable:ys,ariaOrientation:null,ariaOwns:di,ariaPlaceholder:null,ariaPosInSet:_t,ariaPressed:ys,ariaReadOnly:ys,ariaRelevant:null,ariaRequired:ys,ariaRoleDescription:di,ariaRowCount:_t,ariaRowIndex:_t,ariaRowSpan:_t,ariaSelected:ys,ariaSetSize:_t,ariaSort:null,ariaValueMax:_t,ariaValueMin:_t,ariaValueNow:_t,ariaValueText:null,role:null}}),ytt=B_({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Oxe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Kw,acceptCharset:di,accessKey:di,action:null,allow:null,allowFullScreen:Pn,allowPaymentRequest:Pn,allowUserMedia:Pn,alt:null,as:null,async:Pn,autoCapitalize:null,autoComplete:di,autoFocus:Pn,autoPlay:Pn,blocking:di,capture:null,charSet:null,checked:Pn,cite:null,className:di,cols:_t,colSpan:null,content:null,contentEditable:ys,controls:Pn,controlsList:di,coords:_t|Kw,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pn,defer:Pn,dir:null,dirName:null,disabled:Pn,download:Ixe,draggable:ys,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pn,formTarget:null,headers:di,height:_t,hidden:Pn,high:_t,href:null,hrefLang:null,htmlFor:di,httpEquiv:di,id:null,imageSizes:null,imageSrcSet:null,inert:Pn,inputMode:null,integrity:null,is:null,isMap:Pn,itemId:null,itemProp:di,itemRef:di,itemScope:Pn,itemType:di,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pn,low:_t,manifest:null,max:null,maxLength:_t,media:null,method:null,min:null,minLength:_t,multiple:Pn,muted:Pn,name:null,nonce:null,noModule:Pn,noValidate:Pn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pn,optimum:_t,pattern:null,ping:di,placeholder:null,playsInline:Pn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pn,referrerPolicy:null,rel:di,required:Pn,reversed:Pn,rows:_t,rowSpan:_t,sandbox:di,scope:null,scoped:Pn,seamless:Pn,selected:Pn,shadowRootClonable:Pn,shadowRootDelegatesFocus:Pn,shadowRootMode:null,shape:null,size:_t,sizes:null,slot:null,span:_t,spellCheck:ys,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_t,step:null,style:null,tabIndex:_t,target:null,title:null,translate:null,type:null,typeMustMatch:Pn,useMap:null,value:ys,width:_t,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:di,axis:null,background:null,bgColor:null,border:_t,borderColor:null,bottomMargin:_t,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pn,declare:Pn,event:null,face:null,frame:null,frameBorder:null,hSpace:_t,leftMargin:_t,link:null,longDesc:null,lowSrc:null,marginHeight:_t,marginWidth:_t,noResize:Pn,noHref:Pn,noShade:Pn,noWrap:Pn,object:null,profile:null,prompt:null,rev:null,rightMargin:_t,rules:null,scheme:null,scrolling:ys,standby:null,summary:null,text:null,topMargin:_t,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_t,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pn,disableRemotePlayback:Pn,prefix:null,property:null,results:_t,security:null,unselectable:null}}),vtt=B_({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Pxe,properties:{about:Zl,accentHeight:_t,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_t,amplitude:_t,arabicForm:null,ascent:_t,attributeName:null,attributeType:null,azimuth:_t,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_t,by:null,calcMode:null,capHeight:_t,className:di,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_t,diffuseConstant:_t,direction:null,display:null,dur:null,divisor:_t,dominantBaseline:null,download:Pn,dx:null,dy:null,edgeMode:null,editable:null,elevation:_t,enableBackground:null,end:null,event:null,exponent:_t,externalResourcesRequired:null,fill:null,fillOpacity:_t,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Kw,g2:Kw,glyphName:Kw,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_t,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_t,horizOriginX:_t,horizOriginY:_t,id:null,ideographic:_t,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_t,k:_t,k1:_t,k2:_t,k3:_t,k4:_t,kernelMatrix:Zl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_t,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_t,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_t,overlineThickness:_t,paintOrder:null,panose1:null,path:null,pathLength:_t,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:di,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_t,pointsAtY:_t,pointsAtZ:_t,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zl,rev:Zl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zl,requiredFeatures:Zl,requiredFonts:Zl,requiredFormats:Zl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_t,specularExponent:_t,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_t,strikethroughThickness:_t,string:null,stroke:null,strokeDashArray:Zl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_t,strokeOpacity:_t,strokeWidth:null,style:null,surfaceScale:_t,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zl,tabIndex:_t,tableValues:null,target:null,targetX:_t,targetY:_t,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_t,underlineThickness:_t,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_t,values:null,vAlphabetic:_t,vMathematical:_t,vectorEffect:null,vHanging:_t,vIdeographic:_t,version:null,vertAdvY:_t,vertOriginX:_t,vertOriginY:_t,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_t,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),btt=/^data[-\w.:]+$/i,voe=/-[a-z]/g,wtt=/[A-Z]/g;function xtt(e,t){const n=wz(t);let r=t,i=wc;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&btt.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(voe,Ett);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!voe.test(s)){let o=s.replace(wtt,_tt);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=iY}return new i(r,t)}function _tt(e){return"-"+e.toLowerCase()}function Ett(e){return e.charAt(1).toUpperCase()}const Ctt=Axe([Dxe,Rxe,Nxe,$xe,ytt],"html"),Mxe=Axe([Dxe,Rxe,Nxe,$xe,vtt],"svg"),boe={}.hasOwnProperty;function Fxe(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&boe.call(i,e)){const l=String(i[e]);o=boe.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Stt={},Ttt={}.hasOwnProperty,Lxe=Fxe("type",{handlers:{root:Att,element:Ott,text:Dtt,comment:Ptt,doctype:Rtt}});function ktt(e,t){const r=(t||Stt).space;return Lxe(e,r==="svg"?Mxe:Ctt)}function Att(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=sY(e.children,n,t),z_(e,n),n}function Itt(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=sY(e.children,n,t),z_(e,n),n}function Rtt(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return z_(e,t),t}function Dtt(e){const t={nodeName:"#text",value:e.value,parentNode:null};return z_(e,t),t}function Ptt(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return z_(e,t),t}function Ott(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Mxe);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&Ttt.call(e.properties,s)){const l=Ntt(r,s,e.properties[s]);l&&i.push(l)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:uv[o],childNodes:[],parentNode:null};return a.childNodes=sY(e.children,a,r),z_(e,a),e.tagName==="template"&&e.content&&(a.content=Itt(e.content,r)),a}function Ntt(e,t,n){const r=xtt(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Vwe(n):Zwe(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=uv[r.space]}return i}function sY(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=Lxe(e[r],n);s.parentNode=t,i.push(s)}return i}function z_(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const $tt=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Mtt=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Si="";var ce;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(ce||(ce={}));const vl={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function jxe(e){return e>=55296&&e<=57343}function Ftt(e){return e>=56320&&e<=57343}function Ltt(e,t){return(e-55296)*1024+9216+t}function Bxe(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function zxe(e){return e>=64976&&e<=65007||Mtt.has(e)}var Ke;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Ke||(Ke={}));const jtt=65536;class Btt{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=jtt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,o=i+n,a=s+n;return{code:t,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Ftt(n))return this.pos++,this._addGap(),Ltt(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ce.EOF;return this._err(Ke.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ce.EOF;const r=this.html.charCodeAt(n);return r===ce.CARRIAGE_RETURN?ce.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ce.EOF;let t=this.html.charCodeAt(this.pos);return t===ce.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ce.LINE_FEED):t===ce.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,jxe(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ce.LINE_FEED||t===ce.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Bxe(t)?this._err(Ke.controlCharacterInInputStream):zxe(t)&&this._err(Ke.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Hn;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Hn||(Hn={}));function Uxe(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const ztt=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Utt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function qtt(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Utt.get(e))!==null&&t!==void 0?t:e}var so;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(so||(so={}));const Htt=32;var R0;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(R0||(R0={}));function _z(e){return e>=so.ZERO&&e<=so.NINE}function Vtt(e){return e>=so.UPPER_A&&e<=so.UPPER_F||e>=so.LOWER_A&&e<=so.LOWER_F}function Wtt(e){return e>=so.UPPER_A&&e<=so.UPPER_Z||e>=so.LOWER_A&&e<=so.LOWER_Z||_z(e)}function Gtt(e){return e===so.EQUALS||Wtt(e)}var to;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(to||(to={}));var wp;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(wp||(wp={}));class Ytt{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=to.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=wp.Strict}startEntity(t){this.decodeMode=t,this.state=to.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case to.EntityStart:return t.charCodeAt(n)===so.NUM?(this.state=to.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=to.NamedEntity,this.stateNamedEntity(t,n));case to.NumericStart:return this.stateNumericStart(t,n);case to.NumericDecimal:return this.stateNumericDecimal(t,n);case to.NumericHex:return this.stateNumericHex(t,n);case to.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Htt)===so.LOWER_X?(this.state=to.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=to.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(_z(i)||Vtt(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(_z(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===so.SEMI)this.consumed+=1;else if(this.decodeMode===wp.Strict)return 0;return this.emitCodePoint(qtt(this.result),this.consumed),this.errors&&(t!==so.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&R0.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=Ktt(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===wp.Attribute&&(s===0||Gtt(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&R0.VALUE_LENGTH)>>14,s!==0){if(o===so.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==wp.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&R0.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~R0.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case to.NamedEntity:return this.result!==0&&(this.decodeMode!==wp.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case to.NumericDecimal:return this.emitNumericEntity(0,2);case to.NumericHex:return this.emitNumericEntity(0,3);case to.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case to.EntityStart:return 0}}}function Ktt(e,t,n,r){const i=(t&R0.BRANCH_LENGTH)>>7,s=t&R0.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:e[n+l]-1}let o=n,a=o+i-1;for(;o<=a;){const l=o+a>>>1,u=e[l];if(u<r)o=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}var ct;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(ct||(ct={}));var xv;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(xv||(xv={}));var Bu;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Bu||(Bu={}));var Fe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Fe||(Fe={}));var j;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(j||(j={}));const Xtt=new Map([[Fe.A,j.A],[Fe.ADDRESS,j.ADDRESS],[Fe.ANNOTATION_XML,j.ANNOTATION_XML],[Fe.APPLET,j.APPLET],[Fe.AREA,j.AREA],[Fe.ARTICLE,j.ARTICLE],[Fe.ASIDE,j.ASIDE],[Fe.B,j.B],[Fe.BASE,j.BASE],[Fe.BASEFONT,j.BASEFONT],[Fe.BGSOUND,j.BGSOUND],[Fe.BIG,j.BIG],[Fe.BLOCKQUOTE,j.BLOCKQUOTE],[Fe.BODY,j.BODY],[Fe.BR,j.BR],[Fe.BUTTON,j.BUTTON],[Fe.CAPTION,j.CAPTION],[Fe.CENTER,j.CENTER],[Fe.CODE,j.CODE],[Fe.COL,j.COL],[Fe.COLGROUP,j.COLGROUP],[Fe.DD,j.DD],[Fe.DESC,j.DESC],[Fe.DETAILS,j.DETAILS],[Fe.DIALOG,j.DIALOG],[Fe.DIR,j.DIR],[Fe.DIV,j.DIV],[Fe.DL,j.DL],[Fe.DT,j.DT],[Fe.EM,j.EM],[Fe.EMBED,j.EMBED],[Fe.FIELDSET,j.FIELDSET],[Fe.FIGCAPTION,j.FIGCAPTION],[Fe.FIGURE,j.FIGURE],[Fe.FONT,j.FONT],[Fe.FOOTER,j.FOOTER],[Fe.FOREIGN_OBJECT,j.FOREIGN_OBJECT],[Fe.FORM,j.FORM],[Fe.FRAME,j.FRAME],[Fe.FRAMESET,j.FRAMESET],[Fe.H1,j.H1],[Fe.H2,j.H2],[Fe.H3,j.H3],[Fe.H4,j.H4],[Fe.H5,j.H5],[Fe.H6,j.H6],[Fe.HEAD,j.HEAD],[Fe.HEADER,j.HEADER],[Fe.HGROUP,j.HGROUP],[Fe.HR,j.HR],[Fe.HTML,j.HTML],[Fe.I,j.I],[Fe.IMG,j.IMG],[Fe.IMAGE,j.IMAGE],[Fe.INPUT,j.INPUT],[Fe.IFRAME,j.IFRAME],[Fe.KEYGEN,j.KEYGEN],[Fe.LABEL,j.LABEL],[Fe.LI,j.LI],[Fe.LINK,j.LINK],[Fe.LISTING,j.LISTING],[Fe.MAIN,j.MAIN],[Fe.MALIGNMARK,j.MALIGNMARK],[Fe.MARQUEE,j.MARQUEE],[Fe.MATH,j.MATH],[Fe.MENU,j.MENU],[Fe.META,j.META],[Fe.MGLYPH,j.MGLYPH],[Fe.MI,j.MI],[Fe.MO,j.MO],[Fe.MN,j.MN],[Fe.MS,j.MS],[Fe.MTEXT,j.MTEXT],[Fe.NAV,j.NAV],[Fe.NOBR,j.NOBR],[Fe.NOFRAMES,j.NOFRAMES],[Fe.NOEMBED,j.NOEMBED],[Fe.NOSCRIPT,j.NOSCRIPT],[Fe.OBJECT,j.OBJECT],[Fe.OL,j.OL],[Fe.OPTGROUP,j.OPTGROUP],[Fe.OPTION,j.OPTION],[Fe.P,j.P],[Fe.PARAM,j.PARAM],[Fe.PLAINTEXT,j.PLAINTEXT],[Fe.PRE,j.PRE],[Fe.RB,j.RB],[Fe.RP,j.RP],[Fe.RT,j.RT],[Fe.RTC,j.RTC],[Fe.RUBY,j.RUBY],[Fe.S,j.S],[Fe.SCRIPT,j.SCRIPT],[Fe.SEARCH,j.SEARCH],[Fe.SECTION,j.SECTION],[Fe.SELECT,j.SELECT],[Fe.SOURCE,j.SOURCE],[Fe.SMALL,j.SMALL],[Fe.SPAN,j.SPAN],[Fe.STRIKE,j.STRIKE],[Fe.STRONG,j.STRONG],[Fe.STYLE,j.STYLE],[Fe.SUB,j.SUB],[Fe.SUMMARY,j.SUMMARY],[Fe.SUP,j.SUP],[Fe.TABLE,j.TABLE],[Fe.TBODY,j.TBODY],[Fe.TEMPLATE,j.TEMPLATE],[Fe.TEXTAREA,j.TEXTAREA],[Fe.TFOOT,j.TFOOT],[Fe.TD,j.TD],[Fe.TH,j.TH],[Fe.THEAD,j.THEAD],[Fe.TITLE,j.TITLE],[Fe.TR,j.TR],[Fe.TRACK,j.TRACK],[Fe.TT,j.TT],[Fe.U,j.U],[Fe.UL,j.UL],[Fe.SVG,j.SVG],[Fe.VAR,j.VAR],[Fe.WBR,j.WBR],[Fe.XMP,j.XMP]]);function U_(e){var t;return(t=Xtt.get(e))!==null&&t!==void 0?t:j.UNKNOWN}const gt=j,Qtt={[ct.HTML]:new Set([gt.ADDRESS,gt.APPLET,gt.AREA,gt.ARTICLE,gt.ASIDE,gt.BASE,gt.BASEFONT,gt.BGSOUND,gt.BLOCKQUOTE,gt.BODY,gt.BR,gt.BUTTON,gt.CAPTION,gt.CENTER,gt.COL,gt.COLGROUP,gt.DD,gt.DETAILS,gt.DIR,gt.DIV,gt.DL,gt.DT,gt.EMBED,gt.FIELDSET,gt.FIGCAPTION,gt.FIGURE,gt.FOOTER,gt.FORM,gt.FRAME,gt.FRAMESET,gt.H1,gt.H2,gt.H3,gt.H4,gt.H5,gt.H6,gt.HEAD,gt.HEADER,gt.HGROUP,gt.HR,gt.HTML,gt.IFRAME,gt.IMG,gt.INPUT,gt.LI,gt.LINK,gt.LISTING,gt.MAIN,gt.MARQUEE,gt.MENU,gt.META,gt.NAV,gt.NOEMBED,gt.NOFRAMES,gt.NOSCRIPT,gt.OBJECT,gt.OL,gt.P,gt.PARAM,gt.PLAINTEXT,gt.PRE,gt.SCRIPT,gt.SECTION,gt.SELECT,gt.SOURCE,gt.STYLE,gt.SUMMARY,gt.TABLE,gt.TBODY,gt.TD,gt.TEMPLATE,gt.TEXTAREA,gt.TFOOT,gt.TH,gt.THEAD,gt.TITLE,gt.TR,gt.TRACK,gt.UL,gt.WBR,gt.XMP]),[ct.MATHML]:new Set([gt.MI,gt.MO,gt.MN,gt.MS,gt.MTEXT,gt.ANNOTATION_XML]),[ct.SVG]:new Set([gt.TITLE,gt.FOREIGN_OBJECT,gt.DESC]),[ct.XLINK]:new Set,[ct.XML]:new Set,[ct.XMLNS]:new Set},Ez=new Set([gt.H1,gt.H2,gt.H3,gt.H4,gt.H5,gt.H6]);Fe.STYLE,Fe.SCRIPT,Fe.XMP,Fe.IFRAME,Fe.NOEMBED,Fe.NOFRAMES,Fe.PLAINTEXT;var me;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(me||(me={}));const rs={DATA:me.DATA,RCDATA:me.RCDATA,RAWTEXT:me.RAWTEXT,SCRIPT_DATA:me.SCRIPT_DATA,PLAINTEXT:me.PLAINTEXT,CDATA_SECTION:me.CDATA_SECTION};function Jtt(e){return e>=ce.DIGIT_0&&e<=ce.DIGIT_9}function ZC(e){return e>=ce.LATIN_CAPITAL_A&&e<=ce.LATIN_CAPITAL_Z}function Ztt(e){return e>=ce.LATIN_SMALL_A&&e<=ce.LATIN_SMALL_Z}function o0(e){return Ztt(e)||ZC(e)}function woe(e){return o0(e)||Jtt(e)}function MI(e){return e+32}function qxe(e){return e===ce.SPACE||e===ce.LINE_FEED||e===ce.TABULATION||e===ce.FORM_FEED}function xoe(e){return qxe(e)||e===ce.SOLIDUS||e===ce.GREATER_THAN_SIGN}function ent(e){return e===ce.NULL?Ke.nullCharacterReference:e>1114111?Ke.characterReferenceOutsideUnicodeRange:jxe(e)?Ke.surrogateCharacterReference:zxe(e)?Ke.noncharacterCharacterReference:Bxe(e)||e===ce.CARRIAGE_RETURN?Ke.controlCharacterReference:null}class tnt{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=me.DATA,this.returnState=me.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Btt(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Ytt(ztt,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Ke.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(Ke.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=ent(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Hn.START_TAG,tagName:"",tagID:j.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Hn.END_TAG,tagName:"",tagID:j.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Hn.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Hn.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Uxe(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Ke.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=U_(t.tagName),t.type===Hn.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Ke.endTagWithAttributes),t.selfClosing&&this._err(Ke.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Hn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Hn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Hn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Hn.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=qxe(t)?Hn.WHITESPACE_CHARACTER:t===ce.NULL?Hn.NULL_CHARACTER:Hn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Hn.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=me.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?wp.Attribute:wp.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===me.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===me.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===me.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case me.DATA:{this._stateData(t);break}case me.RCDATA:{this._stateRcdata(t);break}case me.RAWTEXT:{this._stateRawtext(t);break}case me.SCRIPT_DATA:{this._stateScriptData(t);break}case me.PLAINTEXT:{this._statePlaintext(t);break}case me.TAG_OPEN:{this._stateTagOpen(t);break}case me.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case me.TAG_NAME:{this._stateTagName(t);break}case me.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case me.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case me.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case me.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case me.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case me.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case me.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case me.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case me.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case me.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case me.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case me.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case me.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case me.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case me.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case me.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case me.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case me.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case me.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case me.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case me.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case me.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case me.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case me.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case me.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case me.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case me.BOGUS_COMMENT:{this._stateBogusComment(t);break}case me.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case me.COMMENT_START:{this._stateCommentStart(t);break}case me.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case me.COMMENT:{this._stateComment(t);break}case me.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case me.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case me.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case me.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case me.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case me.COMMENT_END:{this._stateCommentEnd(t);break}case me.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case me.DOCTYPE:{this._stateDoctype(t);break}case me.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case me.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case me.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case me.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case me.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case me.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case me.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case me.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case me.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case me.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case me.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case me.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case me.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case me.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case me.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case me.CDATA_SECTION:{this._stateCdataSection(t);break}case me.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case me.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case me.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case me.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ce.LESS_THAN_SIGN:{this.state=me.TAG_OPEN;break}case ce.AMPERSAND:{this._startCharacterReference();break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this._emitCodePoint(t);break}case ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ce.AMPERSAND:{this._startCharacterReference();break}case ce.LESS_THAN_SIGN:{this.state=me.RCDATA_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this._emitChars(Si);break}case ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ce.LESS_THAN_SIGN:{this.state=me.RAWTEXT_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this._emitChars(Si);break}case ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ce.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this._emitChars(Si);break}case ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this._emitChars(Si);break}case ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(o0(t))this._createStartTagToken(),this.state=me.TAG_NAME,this._stateTagName(t);else switch(t){case ce.EXCLAMATION_MARK:{this.state=me.MARKUP_DECLARATION_OPEN;break}case ce.SOLIDUS:{this.state=me.END_TAG_OPEN;break}case ce.QUESTION_MARK:{this._err(Ke.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=me.BOGUS_COMMENT,this._stateBogusComment(t);break}case ce.EOF:{this._err(Ke.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Ke.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=me.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(o0(t))this._createEndTagToken(),this.state=me.TAG_NAME,this._stateTagName(t);else switch(t){case ce.GREATER_THAN_SIGN:{this._err(Ke.missingEndTagName),this.state=me.DATA;break}case ce.EOF:{this._err(Ke.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Ke.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=me.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=me.BEFORE_ATTRIBUTE_NAME;break}case ce.SOLIDUS:{this.state=me.SELF_CLOSING_START_TAG;break}case ce.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentTagToken();break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),n.tagName+=Si;break}case ce.EOF:{this._err(Ke.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ZC(t)?MI(t):t)}}_stateRcdataLessThanSign(t){t===ce.SOLIDUS?this.state=me.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=me.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){o0(t)?(this.state=me.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=me.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=me.BEFORE_ATTRIBUTE_NAME,!1;case ce.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=me.SELF_CLOSING_START_TAG,!1;case ce.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=me.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=me.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ce.SOLIDUS?this.state=me.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=me.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){o0(t)?(this.state=me.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=me.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=me.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ce.SOLIDUS:{this.state=me.SCRIPT_DATA_END_TAG_OPEN;break}case ce.EXCLAMATION_MARK:{this.state=me.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=me.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){o0(t)?(this.state=me.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=me.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=me.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ce.HYPHEN_MINUS?(this.state=me.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=me.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ce.HYPHEN_MINUS?(this.state=me.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=me.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ce.HYPHEN_MINUS:{this.state=me.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this._emitChars(Si);break}case ce.EOF:{this._err(Ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ce.HYPHEN_MINUS:{this.state=me.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this.state=me.SCRIPT_DATA_ESCAPED,this._emitChars(Si);break}case ce.EOF:{this._err(Ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=me.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ce.HYPHEN_MINUS:{this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ce.GREATER_THAN_SIGN:{this.state=me.SCRIPT_DATA,this._emitChars(">");break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this.state=me.SCRIPT_DATA_ESCAPED,this._emitChars(Si);break}case ce.EOF:{this._err(Ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=me.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ce.SOLIDUS?this.state=me.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:o0(t)?(this._emitChars("<"),this.state=me.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=me.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){o0(t)?(this.state=me.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=me.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=me.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(vl.SCRIPT,!1)&&xoe(this.preprocessor.peek(vl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<vl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=me.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ce.HYPHEN_MINUS:{this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this._emitChars(Si);break}case ce.EOF:{this._err(Ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ce.HYPHEN_MINUS:{this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Si);break}case ce.EOF:{this._err(Ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ce.HYPHEN_MINUS:{this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ce.GREATER_THAN_SIGN:{this.state=me.SCRIPT_DATA,this._emitChars(">");break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Si);break}case ce.EOF:{this._err(Ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ce.SOLIDUS?(this.state=me.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(vl.SCRIPT,!1)&&xoe(this.preprocessor.peek(vl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<vl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=me.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.SOLIDUS:case ce.GREATER_THAN_SIGN:case ce.EOF:{this.state=me.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ce.EQUALS_SIGN:{this._err(Ke.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=me.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=me.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:case ce.SOLIDUS:case ce.GREATER_THAN_SIGN:case ce.EOF:{this._leaveAttrName(),this.state=me.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ce.EQUALS_SIGN:{this._leaveAttrName(),this.state=me.BEFORE_ATTRIBUTE_VALUE;break}case ce.QUOTATION_MARK:case ce.APOSTROPHE:case ce.LESS_THAN_SIGN:{this._err(Ke.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this.currentAttr.name+=Si;break}default:this.currentAttr.name+=String.fromCodePoint(ZC(t)?MI(t):t)}}_stateAfterAttributeName(t){switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.SOLIDUS:{this.state=me.SELF_CLOSING_START_TAG;break}case ce.EQUALS_SIGN:{this.state=me.BEFORE_ATTRIBUTE_VALUE;break}case ce.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentTagToken();break}case ce.EOF:{this._err(Ke.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=me.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.QUOTATION_MARK:{this.state=me.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{this.state=me.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.missingAttributeValue),this.state=me.DATA,this.emitCurrentTagToken();break}default:this.state=me.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ce.QUOTATION_MARK:{this.state=me.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ce.AMPERSAND:{this._startCharacterReference();break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this.currentAttr.value+=Si;break}case ce.EOF:{this._err(Ke.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ce.APOSTROPHE:{this.state=me.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ce.AMPERSAND:{this._startCharacterReference();break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this.currentAttr.value+=Si;break}case ce.EOF:{this._err(Ke.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this._leaveAttrValue(),this.state=me.BEFORE_ATTRIBUTE_NAME;break}case ce.AMPERSAND:{this._startCharacterReference();break}case ce.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=me.DATA,this.emitCurrentTagToken();break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this.currentAttr.value+=Si;break}case ce.QUOTATION_MARK:case ce.APOSTROPHE:case ce.LESS_THAN_SIGN:case ce.EQUALS_SIGN:case ce.GRAVE_ACCENT:{this._err(Ke.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ce.EOF:{this._err(Ke.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this._leaveAttrValue(),this.state=me.BEFORE_ATTRIBUTE_NAME;break}case ce.SOLIDUS:{this._leaveAttrValue(),this.state=me.SELF_CLOSING_START_TAG;break}case ce.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=me.DATA,this.emitCurrentTagToken();break}case ce.EOF:{this._err(Ke.eofInTag),this._emitEOFToken();break}default:this._err(Ke.missingWhitespaceBetweenAttributes),this.state=me.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ce.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=me.DATA,this.emitCurrentTagToken();break}case ce.EOF:{this._err(Ke.eofInTag),this._emitEOFToken();break}default:this._err(Ke.unexpectedSolidusInTag),this.state=me.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ce.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentComment(n);break}case ce.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),n.data+=Si;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(vl.DASH_DASH,!0)?(this._createCommentToken(vl.DASH_DASH.length+1),this.state=me.COMMENT_START):this._consumeSequenceIfMatch(vl.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(vl.DOCTYPE.length+1),this.state=me.DOCTYPE):this._consumeSequenceIfMatch(vl.CDATA_START,!0)?this.inForeignNode?this.state=me.CDATA_SECTION:(this._err(Ke.cdataInHtmlContent),this._createCommentToken(vl.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=me.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Ke.incorrectlyOpenedComment),this._createCommentToken(2),this.state=me.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ce.HYPHEN_MINUS:{this.state=me.COMMENT_START_DASH;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.abruptClosingOfEmptyComment),this.state=me.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=me.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ce.HYPHEN_MINUS:{this.state=me.COMMENT_END;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.abruptClosingOfEmptyComment),this.state=me.DATA,this.emitCurrentComment(n);break}case ce.EOF:{this._err(Ke.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=me.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ce.HYPHEN_MINUS:{this.state=me.COMMENT_END_DASH;break}case ce.LESS_THAN_SIGN:{n.data+="<",this.state=me.COMMENT_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),n.data+=Si;break}case ce.EOF:{this._err(Ke.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ce.EXCLAMATION_MARK:{n.data+="!",this.state=me.COMMENT_LESS_THAN_SIGN_BANG;break}case ce.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=me.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ce.HYPHEN_MINUS?this.state=me.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=me.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ce.HYPHEN_MINUS?this.state=me.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=me.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ce.GREATER_THAN_SIGN&&t!==ce.EOF&&this._err(Ke.nestedComment),this.state=me.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ce.HYPHEN_MINUS:{this.state=me.COMMENT_END;break}case ce.EOF:{this._err(Ke.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=me.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ce.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentComment(n);break}case ce.EXCLAMATION_MARK:{this.state=me.COMMENT_END_BANG;break}case ce.HYPHEN_MINUS:{n.data+="-";break}case ce.EOF:{this._err(Ke.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=me.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ce.HYPHEN_MINUS:{n.data+="--!",this.state=me.COMMENT_END_DASH;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.incorrectlyClosedComment),this.state=me.DATA,this.emitCurrentComment(n);break}case ce.EOF:{this._err(Ke.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=me.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=me.BEFORE_DOCTYPE_NAME;break}case ce.GREATER_THAN_SIGN:{this.state=me.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ce.EOF:{this._err(Ke.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ke.missingWhitespaceBeforeDoctypeName),this.state=me.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(ZC(t))this._createDoctypeToken(String.fromCharCode(MI(t))),this.state=me.DOCTYPE_NAME;else switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.NULL:{this._err(Ke.unexpectedNullCharacter),this._createDoctypeToken(Si),this.state=me.DOCTYPE_NAME;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=me.DATA;break}case ce.EOF:{this._err(Ke.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=me.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=me.AFTER_DOCTYPE_NAME;break}case ce.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentDoctype(n);break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),n.name+=Si;break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ZC(t)?MI(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentDoctype(n);break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(vl.PUBLIC,!1)?this.state=me.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(vl.SYSTEM,!1)?this.state=me.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Ke.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=me.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ce.QUOTATION_MARK:{this._err(Ke.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=me.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{this._err(Ke.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=me.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=me.DATA,this.emitCurrentDoctype(n);break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ke.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.QUOTATION_MARK:{n.publicId="",this.state=me.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{n.publicId="",this.state=me.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=me.DATA,this.emitCurrentDoctype(n);break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ke.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ce.QUOTATION_MARK:{this.state=me.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),n.publicId+=Si;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=me.DATA;break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ce.APOSTROPHE:{this.state=me.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),n.publicId+=Si;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=me.DATA;break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=me.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ce.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentDoctype(n);break}case ce.QUOTATION_MARK:{this._err(Ke.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{this._err(Ke.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ke.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=me.DATA;break}case ce.QUOTATION_MARK:{n.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{n.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ke.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=me.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ce.QUOTATION_MARK:{this._err(Ke.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{this._err(Ke.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=me.DATA,this.emitCurrentDoctype(n);break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ke.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.QUOTATION_MARK:{n.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{n.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=me.DATA,this.emitCurrentDoctype(n);break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ke.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ce.QUOTATION_MARK:{this.state=me.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),n.systemId+=Si;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=me.DATA;break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ce.APOSTROPHE:{this.state=me.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter),n.systemId+=Si;break}case ce.GREATER_THAN_SIGN:{this._err(Ke.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=me.DATA;break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=me.DATA;break}case ce.EOF:{this._err(Ke.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ke.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=me.DATA;break}case ce.NULL:{this._err(Ke.unexpectedNullCharacter);break}case ce.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ce.RIGHT_SQUARE_BRACKET:{this.state=me.CDATA_SECTION_BRACKET;break}case ce.EOF:{this._err(Ke.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ce.RIGHT_SQUARE_BRACKET?this.state=me.CDATA_SECTION_END:(this._emitChars("]"),this.state=me.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ce.GREATER_THAN_SIGN:{this.state=me.DATA;break}case ce.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=me.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(ce.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&woe(this.preprocessor.peek(1))?me.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){woe(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ce.SEMICOLON&&this._err(Ke.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const Hxe=new Set([j.DD,j.DT,j.LI,j.OPTGROUP,j.OPTION,j.P,j.RB,j.RP,j.RT,j.RTC]),_oe=new Set([...Hxe,j.CAPTION,j.COLGROUP,j.TBODY,j.TD,j.TFOOT,j.TH,j.THEAD,j.TR]),ZP=new Set([j.APPLET,j.CAPTION,j.HTML,j.MARQUEE,j.OBJECT,j.TABLE,j.TD,j.TEMPLATE,j.TH]),nnt=new Set([...ZP,j.OL,j.UL]),rnt=new Set([...ZP,j.BUTTON]),Eoe=new Set([j.ANNOTATION_XML,j.MI,j.MN,j.MO,j.MS,j.MTEXT]),Coe=new Set([j.DESC,j.FOREIGN_OBJECT,j.TITLE]),int=new Set([j.TR,j.TEMPLATE,j.HTML]),snt=new Set([j.TBODY,j.TFOOT,j.THEAD,j.TEMPLATE,j.HTML]),ont=new Set([j.TABLE,j.TEMPLATE,j.HTML]),ant=new Set([j.TD,j.TH]);class lnt{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=j.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===j.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ct.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==ct.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Ez,ct.HTML)}popUntilTableCellPopped(){this.popUntilPopped(ant,ct.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(ont,ct.HTML)}clearBackToTableBodyContext(){this.clearBackTo(snt,ct.HTML)}clearBackToTableRowContext(){this.clearBackTo(int,ct.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===j.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===j.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case ct.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case ct.SVG:{if(Coe.has(i))return!1;break}case ct.MATHML:{if(Eoe.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,ZP)}hasInListItemScope(t){return this.hasInDynamicScope(t,nnt)}hasInButtonScope(t){return this.hasInDynamicScope(t,rnt)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case ct.HTML:{if(Ez.has(n))return!0;if(ZP.has(n))return!1;break}case ct.SVG:{if(Coe.has(n))return!1;break}case ct.MATHML:{if(Eoe.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===ct.HTML)switch(this.tagIDs[n]){case t:return!0;case j.TABLE:case j.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===ct.HTML)switch(this.tagIDs[t]){case j.TBODY:case j.THEAD:case j.TFOOT:return!0;case j.TABLE:case j.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===ct.HTML)switch(this.tagIDs[n]){case t:return!0;case j.OPTION:case j.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&Hxe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&_oe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&_oe.has(this.currentTagId);)this.pop()}}const yL=3;var Nf;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Nf||(Nf={}));const Soe={type:Nf.Marker};class unt{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===Nf.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===o){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<yL)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<yL)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=yL&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(Soe)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Nf.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Nf.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Soe);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Nf.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Nf.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Nf.Element&&n.element===t)}}const a0={createDocument(){return{nodeName:"#document",mode:Bu.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};a0.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(a0.isTextNode(n)){n.value+=t;return}}a0.appendChild(e,a0.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&a0.isTextNode(r)?r.value+=t:a0.insertBefore(e,a0.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Vxe="html",cnt="about:legacy-compat",dnt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Wxe=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],fnt=[...Wxe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],hnt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Gxe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],pnt=[...Gxe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Toe(e,t){return t.some(n=>e.startsWith(n))}function mnt(e){return e.name===Vxe&&e.publicId===null&&(e.systemId===null||e.systemId===cnt)}function gnt(e){if(e.name!==Vxe)return Bu.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===dnt)return Bu.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),hnt.has(n))return Bu.QUIRKS;let r=t===null?fnt:Wxe;if(Toe(n,r))return Bu.QUIRKS;if(r=t===null?Gxe:pnt,Toe(n,r))return Bu.LIMITED_QUIRKS}return Bu.NO_QUIRKS}const koe={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},ynt="definitionurl",vnt="definitionURL",bnt=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),wnt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ct.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ct.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ct.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ct.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ct.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ct.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ct.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:ct.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ct.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ct.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ct.XMLNS}]]),xnt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),_nt=new Set([j.B,j.BIG,j.BLOCKQUOTE,j.BODY,j.BR,j.CENTER,j.CODE,j.DD,j.DIV,j.DL,j.DT,j.EM,j.EMBED,j.H1,j.H2,j.H3,j.H4,j.H5,j.H6,j.HEAD,j.HR,j.I,j.IMG,j.LI,j.LISTING,j.MENU,j.META,j.NOBR,j.OL,j.P,j.PRE,j.RUBY,j.S,j.SMALL,j.SPAN,j.STRONG,j.STRIKE,j.SUB,j.SUP,j.TABLE,j.TT,j.U,j.UL,j.VAR]);function Ent(e){const t=e.tagID;return t===j.FONT&&e.attrs.some(({name:r})=>r===xv.COLOR||r===xv.SIZE||r===xv.FACE)||_nt.has(t)}function Yxe(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===ynt){e.attrs[t].name=vnt;break}}function Kxe(e){for(let t=0;t<e.attrs.length;t++){const n=bnt.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function oY(e){for(let t=0;t<e.attrs.length;t++){const n=wnt.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Cnt(e){const t=xnt.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=U_(e.tagName))}function Snt(e,t){return t===ct.MATHML&&(e===j.MI||e===j.MO||e===j.MN||e===j.MS||e===j.MTEXT)}function Tnt(e,t,n){if(t===ct.MATHML&&e===j.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===xv.ENCODING){const i=n[r].value.toLowerCase();return i===koe.TEXT_HTML||i===koe.APPLICATION_XML}}return t===ct.SVG&&(e===j.FOREIGN_OBJECT||e===j.DESC||e===j.TITLE)}function knt(e,t,n,r){return(!r||r===ct.HTML)&&Tnt(e,t,n)||(!r||r===ct.MATHML)&&Snt(e,t)}const Ant="hidden",Int=8,Rnt=3;var be;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(be||(be={}));const Dnt={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Xxe=new Set([j.TABLE,j.TBODY,j.TFOOT,j.THEAD,j.TR]),Aoe={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:a0,onParseError:null};let Ioe=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=be.INITIAL,this.originalInsertionMode=be.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Aoe,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new tnt(this.options,this),this.activeFormattingElements=new unt(this.treeAdapter),this.fragmentContextID=r?U_(this.treeAdapter.getTagName(r)):j.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new lnt(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Aoe,...n};t??(t=r.treeAdapter.createElement(Fe.TEMPLATE,ct.HTML,[]));const i=r.treeAdapter.createElement("documentmock",ct.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===j.TEMPLATE&&s.tmplInsertionModeStack.unshift(be.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:Dnt,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===ct.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,ct.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=be.TEXT}switchToPlaintextParsing(){this.insertionMode=be.TEXT,this.originalInsertionMode=be.IN_BODY,this.tokenizer.state=rs.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Fe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==ct.HTML))switch(this.fragmentContextID){case j.TITLE:case j.TEXTAREA:{this.tokenizer.state=rs.RCDATA;break}case j.STYLE:case j.XMP:case j.IFRAME:case j.NOEMBED:case j.NOFRAMES:case j.NOSCRIPT:{this.tokenizer.state=rs.RAWTEXT;break}case j.SCRIPT:{this.tokenizer.state=rs.SCRIPT_DATA;break}case j.PLAINTEXT:{this.tokenizer.state=rs.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,ct.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,ct.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Fe.HTML,ct.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,j.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Hn.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===j.SVG&&this.treeAdapter.getTagName(n)===Fe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===ct.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===j.MGLYPH||t.tagID===j.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,ct.HTML)}_processToken(t){switch(t.type){case Hn.CHARACTER:{this.onCharacter(t);break}case Hn.NULL_CHARACTER:{this.onNullCharacter(t);break}case Hn.COMMENT:{this.onComment(t);break}case Hn.DOCTYPE:{this.onDoctype(t);break}case Hn.START_TAG:{this._processStartTag(t);break}case Hn.END_TAG:{this.onEndTag(t);break}case Hn.EOF:{this.onEof(t);break}case Hn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return knt(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Nf.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=be.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(j.P),this.openElements.popUntilTagNamePopped(j.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case j.TR:{this.insertionMode=be.IN_ROW;return}case j.TBODY:case j.THEAD:case j.TFOOT:{this.insertionMode=be.IN_TABLE_BODY;return}case j.CAPTION:{this.insertionMode=be.IN_CAPTION;return}case j.COLGROUP:{this.insertionMode=be.IN_COLUMN_GROUP;return}case j.TABLE:{this.insertionMode=be.IN_TABLE;return}case j.BODY:{this.insertionMode=be.IN_BODY;return}case j.FRAMESET:{this.insertionMode=be.IN_FRAMESET;return}case j.SELECT:{this._resetInsertionModeForSelect(t);return}case j.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case j.HTML:{this.insertionMode=this.headElement?be.AFTER_HEAD:be.BEFORE_HEAD;return}case j.TD:case j.TH:{if(t>0){this.insertionMode=be.IN_CELL;return}break}case j.HEAD:{if(t>0){this.insertionMode=be.IN_HEAD;return}break}}this.insertionMode=be.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===j.TEMPLATE)break;if(r===j.TABLE){this.insertionMode=be.IN_SELECT_IN_TABLE;return}}this.insertionMode=be.IN_SELECT}_isElementCausesFosterParenting(t){return Xxe.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case j.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===ct.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case j.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return Qtt[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){ait(this,t);return}switch(this.insertionMode){case be.INITIAL:{lC(this,t);break}case be.BEFORE_HTML:{US(this,t);break}case be.BEFORE_HEAD:{qS(this,t);break}case be.IN_HEAD:{HS(this,t);break}case be.IN_HEAD_NO_SCRIPT:{VS(this,t);break}case be.AFTER_HEAD:{WS(this,t);break}case be.IN_BODY:case be.IN_CAPTION:case be.IN_CELL:case be.IN_TEMPLATE:{Jxe(this,t);break}case be.TEXT:case be.IN_SELECT:case be.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case be.IN_TABLE:case be.IN_TABLE_BODY:case be.IN_ROW:{vL(this,t);break}case be.IN_TABLE_TEXT:{i_e(this,t);break}case be.IN_COLUMN_GROUP:{eO(this,t);break}case be.AFTER_BODY:{tO(this,t);break}case be.AFTER_AFTER_BODY:{eD(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){oit(this,t);return}switch(this.insertionMode){case be.INITIAL:{lC(this,t);break}case be.BEFORE_HTML:{US(this,t);break}case be.BEFORE_HEAD:{qS(this,t);break}case be.IN_HEAD:{HS(this,t);break}case be.IN_HEAD_NO_SCRIPT:{VS(this,t);break}case be.AFTER_HEAD:{WS(this,t);break}case be.TEXT:{this._insertCharacters(t);break}case be.IN_TABLE:case be.IN_TABLE_BODY:case be.IN_ROW:{vL(this,t);break}case be.IN_COLUMN_GROUP:{eO(this,t);break}case be.AFTER_BODY:{tO(this,t);break}case be.AFTER_AFTER_BODY:{eD(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Cz(this,t);return}switch(this.insertionMode){case be.INITIAL:case be.BEFORE_HTML:case be.BEFORE_HEAD:case be.IN_HEAD:case be.IN_HEAD_NO_SCRIPT:case be.AFTER_HEAD:case be.IN_BODY:case be.IN_TABLE:case be.IN_CAPTION:case be.IN_COLUMN_GROUP:case be.IN_TABLE_BODY:case be.IN_ROW:case be.IN_CELL:case be.IN_SELECT:case be.IN_SELECT_IN_TABLE:case be.IN_TEMPLATE:case be.IN_FRAMESET:case be.AFTER_FRAMESET:{Cz(this,t);break}case be.IN_TABLE_TEXT:{uC(this,t);break}case be.AFTER_BODY:{Lnt(this,t);break}case be.AFTER_AFTER_BODY:case be.AFTER_AFTER_FRAMESET:{jnt(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case be.INITIAL:{Bnt(this,t);break}case be.BEFORE_HEAD:case be.IN_HEAD:case be.IN_HEAD_NO_SCRIPT:case be.AFTER_HEAD:{this._err(t,Ke.misplacedDoctype);break}case be.IN_TABLE_TEXT:{uC(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Ke.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?lit(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case be.INITIAL:{lC(this,t);break}case be.BEFORE_HTML:{znt(this,t);break}case be.BEFORE_HEAD:{qnt(this,t);break}case be.IN_HEAD:{Hd(this,t);break}case be.IN_HEAD_NO_SCRIPT:{Wnt(this,t);break}case be.AFTER_HEAD:{Ynt(this,t);break}case be.IN_BODY:{Sa(this,t);break}case be.IN_TABLE:{Rx(this,t);break}case be.IN_TABLE_TEXT:{uC(this,t);break}case be.IN_CAPTION:{Hrt(this,t);break}case be.IN_COLUMN_GROUP:{uY(this,t);break}case be.IN_TABLE_BODY:{N$(this,t);break}case be.IN_ROW:{$$(this,t);break}case be.IN_CELL:{Grt(this,t);break}case be.IN_SELECT:{a_e(this,t);break}case be.IN_SELECT_IN_TABLE:{Krt(this,t);break}case be.IN_TEMPLATE:{Qrt(this,t);break}case be.AFTER_BODY:{Zrt(this,t);break}case be.IN_FRAMESET:{eit(this,t);break}case be.AFTER_FRAMESET:{nit(this,t);break}case be.AFTER_AFTER_BODY:{iit(this,t);break}case be.AFTER_AFTER_FRAMESET:{sit(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?uit(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case be.INITIAL:{lC(this,t);break}case be.BEFORE_HTML:{Unt(this,t);break}case be.BEFORE_HEAD:{Hnt(this,t);break}case be.IN_HEAD:{Vnt(this,t);break}case be.IN_HEAD_NO_SCRIPT:{Gnt(this,t);break}case be.AFTER_HEAD:{Knt(this,t);break}case be.IN_BODY:{O$(this,t);break}case be.TEXT:{Nrt(this,t);break}case be.IN_TABLE:{M2(this,t);break}case be.IN_TABLE_TEXT:{uC(this,t);break}case be.IN_CAPTION:{Vrt(this,t);break}case be.IN_COLUMN_GROUP:{Wrt(this,t);break}case be.IN_TABLE_BODY:{Sz(this,t);break}case be.IN_ROW:{o_e(this,t);break}case be.IN_CELL:{Yrt(this,t);break}case be.IN_SELECT:{l_e(this,t);break}case be.IN_SELECT_IN_TABLE:{Xrt(this,t);break}case be.IN_TEMPLATE:{Jrt(this,t);break}case be.AFTER_BODY:{c_e(this,t);break}case be.IN_FRAMESET:{tit(this,t);break}case be.AFTER_FRAMESET:{rit(this,t);break}case be.AFTER_AFTER_BODY:{eD(this,t);break}}}onEof(t){switch(this.insertionMode){case be.INITIAL:{lC(this,t);break}case be.BEFORE_HTML:{US(this,t);break}case be.BEFORE_HEAD:{qS(this,t);break}case be.IN_HEAD:{HS(this,t);break}case be.IN_HEAD_NO_SCRIPT:{VS(this,t);break}case be.AFTER_HEAD:{WS(this,t);break}case be.IN_BODY:case be.IN_TABLE:case be.IN_CAPTION:case be.IN_COLUMN_GROUP:case be.IN_TABLE_BODY:case be.IN_ROW:case be.IN_CELL:case be.IN_SELECT:case be.IN_SELECT_IN_TABLE:{n_e(this,t);break}case be.TEXT:{$rt(this,t);break}case be.IN_TABLE_TEXT:{uC(this,t);break}case be.IN_TEMPLATE:{u_e(this,t);break}case be.AFTER_BODY:case be.IN_FRAMESET:case be.AFTER_FRAMESET:case be.AFTER_AFTER_BODY:case be.AFTER_AFTER_FRAMESET:{lY(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ce.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case be.IN_HEAD:case be.IN_HEAD_NO_SCRIPT:case be.AFTER_HEAD:case be.TEXT:case be.IN_COLUMN_GROUP:case be.IN_SELECT:case be.IN_SELECT_IN_TABLE:case be.IN_FRAMESET:case be.AFTER_FRAMESET:{this._insertCharacters(t);break}case be.IN_BODY:case be.IN_CAPTION:case be.IN_CELL:case be.IN_TEMPLATE:case be.AFTER_BODY:case be.AFTER_AFTER_BODY:case be.AFTER_AFTER_FRAMESET:{Qxe(this,t);break}case be.IN_TABLE:case be.IN_TABLE_BODY:case be.IN_ROW:{vL(this,t);break}case be.IN_TABLE_TEXT:{r_e(this,t);break}}}};function Pnt(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):t_e(e,t),n}function Ont(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function Nnt(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),l=a&&s>=Rnt;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=$nt(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function $nt(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Mnt(e,t,n){const r=e.treeAdapter.getTagName(t),i=U_(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===j.TEMPLATE&&s===ct.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Fnt(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function aY(e,t){for(let n=0;n<Int;n++){const r=Pnt(e,t);if(!r)break;const i=Ont(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=Nnt(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&Mnt(e,o,s),Fnt(e,i,r)}}function Cz(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Lnt(e,t){e._appendCommentNode(t,e.openElements.items[0])}function jnt(e,t){e._appendCommentNode(t,e.document)}function lY(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function Bnt(e,t){e._setDocumentType(t);const n=t.forceQuirks?Bu.QUIRKS:gnt(t);mnt(t)||e._err(t,Ke.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=be.BEFORE_HTML}function lC(e,t){e._err(t,Ke.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Bu.QUIRKS),e.insertionMode=be.BEFORE_HTML,e._processToken(t)}function znt(e,t){t.tagID===j.HTML?(e._insertElement(t,ct.HTML),e.insertionMode=be.BEFORE_HEAD):US(e,t)}function Unt(e,t){const n=t.tagID;(n===j.HTML||n===j.HEAD||n===j.BODY||n===j.BR)&&US(e,t)}function US(e,t){e._insertFakeRootElement(),e.insertionMode=be.BEFORE_HEAD,e._processToken(t)}function qnt(e,t){switch(t.tagID){case j.HTML:{Sa(e,t);break}case j.HEAD:{e._insertElement(t,ct.HTML),e.headElement=e.openElements.current,e.insertionMode=be.IN_HEAD;break}default:qS(e,t)}}function Hnt(e,t){const n=t.tagID;n===j.HEAD||n===j.BODY||n===j.HTML||n===j.BR?qS(e,t):e._err(t,Ke.endTagWithoutMatchingOpenElement)}function qS(e,t){e._insertFakeElement(Fe.HEAD,j.HEAD),e.headElement=e.openElements.current,e.insertionMode=be.IN_HEAD,e._processToken(t)}function Hd(e,t){switch(t.tagID){case j.HTML:{Sa(e,t);break}case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:{e._appendElement(t,ct.HTML),t.ackSelfClosing=!0;break}case j.TITLE:{e._switchToTextParsing(t,rs.RCDATA);break}case j.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,rs.RAWTEXT):(e._insertElement(t,ct.HTML),e.insertionMode=be.IN_HEAD_NO_SCRIPT);break}case j.NOFRAMES:case j.STYLE:{e._switchToTextParsing(t,rs.RAWTEXT);break}case j.SCRIPT:{e._switchToTextParsing(t,rs.SCRIPT_DATA);break}case j.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=be.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(be.IN_TEMPLATE);break}case j.HEAD:{e._err(t,Ke.misplacedStartTagForHeadElement);break}default:HS(e,t)}}function Vnt(e,t){switch(t.tagID){case j.HEAD:{e.openElements.pop(),e.insertionMode=be.AFTER_HEAD;break}case j.BODY:case j.BR:case j.HTML:{HS(e,t);break}case j.TEMPLATE:{D1(e,t);break}default:e._err(t,Ke.endTagWithoutMatchingOpenElement)}}function D1(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==j.TEMPLATE&&e._err(t,Ke.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(j.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Ke.endTagWithoutMatchingOpenElement)}function HS(e,t){e.openElements.pop(),e.insertionMode=be.AFTER_HEAD,e._processToken(t)}function Wnt(e,t){switch(t.tagID){case j.HTML:{Sa(e,t);break}case j.BASEFONT:case j.BGSOUND:case j.HEAD:case j.LINK:case j.META:case j.NOFRAMES:case j.STYLE:{Hd(e,t);break}case j.NOSCRIPT:{e._err(t,Ke.nestedNoscriptInHead);break}default:VS(e,t)}}function Gnt(e,t){switch(t.tagID){case j.NOSCRIPT:{e.openElements.pop(),e.insertionMode=be.IN_HEAD;break}case j.BR:{VS(e,t);break}default:e._err(t,Ke.endTagWithoutMatchingOpenElement)}}function VS(e,t){const n=t.type===Hn.EOF?Ke.openElementsLeftAfterEof:Ke.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=be.IN_HEAD,e._processToken(t)}function Ynt(e,t){switch(t.tagID){case j.HTML:{Sa(e,t);break}case j.BODY:{e._insertElement(t,ct.HTML),e.framesetOk=!1,e.insertionMode=be.IN_BODY;break}case j.FRAMESET:{e._insertElement(t,ct.HTML),e.insertionMode=be.IN_FRAMESET;break}case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:case j.NOFRAMES:case j.SCRIPT:case j.STYLE:case j.TEMPLATE:case j.TITLE:{e._err(t,Ke.abandonedHeadElementChild),e.openElements.push(e.headElement,j.HEAD),Hd(e,t),e.openElements.remove(e.headElement);break}case j.HEAD:{e._err(t,Ke.misplacedStartTagForHeadElement);break}default:WS(e,t)}}function Knt(e,t){switch(t.tagID){case j.BODY:case j.HTML:case j.BR:{WS(e,t);break}case j.TEMPLATE:{D1(e,t);break}default:e._err(t,Ke.endTagWithoutMatchingOpenElement)}}function WS(e,t){e._insertFakeElement(Fe.BODY,j.BODY),e.insertionMode=be.IN_BODY,P$(e,t)}function P$(e,t){switch(t.type){case Hn.CHARACTER:{Jxe(e,t);break}case Hn.WHITESPACE_CHARACTER:{Qxe(e,t);break}case Hn.COMMENT:{Cz(e,t);break}case Hn.START_TAG:{Sa(e,t);break}case Hn.END_TAG:{O$(e,t);break}case Hn.EOF:{n_e(e,t);break}}}function Qxe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Jxe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Xnt(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Qnt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Jnt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,ct.HTML),e.insertionMode=be.IN_FRAMESET)}function Znt(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,ct.HTML)}function ert(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Ez.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,ct.HTML)}function trt(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,ct.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function nrt(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,ct.HTML),n||(e.formElement=e.openElements.current))}function rrt(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===j.LI&&i===j.LI||(n===j.DD||n===j.DT)&&(i===j.DD||i===j.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==j.ADDRESS&&i!==j.DIV&&i!==j.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,ct.HTML)}function irt(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,ct.HTML),e.tokenizer.state=rs.PLAINTEXT}function srt(e,t){e.openElements.hasInScope(j.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,ct.HTML),e.framesetOk=!1}function ort(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Fe.A);n&&(aY(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,ct.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function art(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ct.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function lrt(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(j.NOBR)&&(aY(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,ct.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function urt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ct.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function crt(e,t){e.treeAdapter.getDocumentMode(e.document)!==Bu.QUIRKS&&e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,ct.HTML),e.framesetOk=!1,e.insertionMode=be.IN_TABLE}function Zxe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ct.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function e_e(e){const t=Uxe(e,xv.TYPE);return t!=null&&t.toLowerCase()===Ant}function drt(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ct.HTML),e_e(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function frt(e,t){e._appendElement(t,ct.HTML),t.ackSelfClosing=!0}function hrt(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._appendElement(t,ct.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function prt(e,t){t.tagName=Fe.IMG,t.tagID=j.IMG,Zxe(e,t)}function mrt(e,t){e._insertElement(t,ct.HTML),e.skipNextNewLine=!0,e.tokenizer.state=rs.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=be.TEXT}function grt(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,rs.RAWTEXT)}function yrt(e,t){e.framesetOk=!1,e._switchToTextParsing(t,rs.RAWTEXT)}function Roe(e,t){e._switchToTextParsing(t,rs.RAWTEXT)}function vrt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ct.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===be.IN_TABLE||e.insertionMode===be.IN_CAPTION||e.insertionMode===be.IN_TABLE_BODY||e.insertionMode===be.IN_ROW||e.insertionMode===be.IN_CELL?be.IN_SELECT_IN_TABLE:be.IN_SELECT}function brt(e,t){e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,ct.HTML)}function wrt(e,t){e.openElements.hasInScope(j.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,ct.HTML)}function xrt(e,t){e.openElements.hasInScope(j.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(j.RTC),e._insertElement(t,ct.HTML)}function _rt(e,t){e._reconstructActiveFormattingElements(),Yxe(t),oY(t),t.selfClosing?e._appendElement(t,ct.MATHML):e._insertElement(t,ct.MATHML),t.ackSelfClosing=!0}function Ert(e,t){e._reconstructActiveFormattingElements(),Kxe(t),oY(t),t.selfClosing?e._appendElement(t,ct.SVG):e._insertElement(t,ct.SVG),t.ackSelfClosing=!0}function Doe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ct.HTML)}function Sa(e,t){switch(t.tagID){case j.I:case j.S:case j.B:case j.U:case j.EM:case j.TT:case j.BIG:case j.CODE:case j.FONT:case j.SMALL:case j.STRIKE:case j.STRONG:{art(e,t);break}case j.A:{ort(e,t);break}case j.H1:case j.H2:case j.H3:case j.H4:case j.H5:case j.H6:{ert(e,t);break}case j.P:case j.DL:case j.OL:case j.UL:case j.DIV:case j.DIR:case j.NAV:case j.MAIN:case j.MENU:case j.ASIDE:case j.CENTER:case j.FIGURE:case j.FOOTER:case j.HEADER:case j.HGROUP:case j.DIALOG:case j.DETAILS:case j.ADDRESS:case j.ARTICLE:case j.SEARCH:case j.SECTION:case j.SUMMARY:case j.FIELDSET:case j.BLOCKQUOTE:case j.FIGCAPTION:{Znt(e,t);break}case j.LI:case j.DD:case j.DT:{rrt(e,t);break}case j.BR:case j.IMG:case j.WBR:case j.AREA:case j.EMBED:case j.KEYGEN:{Zxe(e,t);break}case j.HR:{hrt(e,t);break}case j.RB:case j.RTC:{wrt(e,t);break}case j.RT:case j.RP:{xrt(e,t);break}case j.PRE:case j.LISTING:{trt(e,t);break}case j.XMP:{grt(e,t);break}case j.SVG:{Ert(e,t);break}case j.HTML:{Xnt(e,t);break}case j.BASE:case j.LINK:case j.META:case j.STYLE:case j.TITLE:case j.SCRIPT:case j.BGSOUND:case j.BASEFONT:case j.TEMPLATE:{Hd(e,t);break}case j.BODY:{Qnt(e,t);break}case j.FORM:{nrt(e,t);break}case j.NOBR:{lrt(e,t);break}case j.MATH:{_rt(e,t);break}case j.TABLE:{crt(e,t);break}case j.INPUT:{drt(e,t);break}case j.PARAM:case j.TRACK:case j.SOURCE:{frt(e,t);break}case j.IMAGE:{prt(e,t);break}case j.BUTTON:{srt(e,t);break}case j.APPLET:case j.OBJECT:case j.MARQUEE:{urt(e,t);break}case j.IFRAME:{yrt(e,t);break}case j.SELECT:{vrt(e,t);break}case j.OPTION:case j.OPTGROUP:{brt(e,t);break}case j.NOEMBED:case j.NOFRAMES:{Roe(e,t);break}case j.FRAMESET:{Jnt(e,t);break}case j.TEXTAREA:{mrt(e,t);break}case j.NOSCRIPT:{e.options.scriptingEnabled?Roe(e,t):Doe(e,t);break}case j.PLAINTEXT:{irt(e,t);break}case j.COL:case j.TH:case j.TD:case j.TR:case j.HEAD:case j.FRAME:case j.TBODY:case j.TFOOT:case j.THEAD:case j.CAPTION:case j.COLGROUP:break;default:Doe(e,t)}}function Crt(e,t){if(e.openElements.hasInScope(j.BODY)&&(e.insertionMode=be.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Srt(e,t){e.openElements.hasInScope(j.BODY)&&(e.insertionMode=be.AFTER_BODY,c_e(e,t))}function Trt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function krt(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(j.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(j.FORM):n&&e.openElements.remove(n))}function Art(e){e.openElements.hasInButtonScope(j.P)||e._insertFakeElement(Fe.P,j.P),e._closePElement()}function Irt(e){e.openElements.hasInListItemScope(j.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(j.LI),e.openElements.popUntilTagNamePopped(j.LI))}function Rrt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function Drt(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Prt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Ort(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Fe.BR,j.BR),e.openElements.pop(),e.framesetOk=!1}function t_e(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==j.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function O$(e,t){switch(t.tagID){case j.A:case j.B:case j.I:case j.S:case j.U:case j.EM:case j.TT:case j.BIG:case j.CODE:case j.FONT:case j.NOBR:case j.SMALL:case j.STRIKE:case j.STRONG:{aY(e,t);break}case j.P:{Art(e);break}case j.DL:case j.UL:case j.OL:case j.DIR:case j.DIV:case j.NAV:case j.PRE:case j.MAIN:case j.MENU:case j.ASIDE:case j.BUTTON:case j.CENTER:case j.FIGURE:case j.FOOTER:case j.HEADER:case j.HGROUP:case j.DIALOG:case j.ADDRESS:case j.ARTICLE:case j.DETAILS:case j.SEARCH:case j.SECTION:case j.SUMMARY:case j.LISTING:case j.FIELDSET:case j.BLOCKQUOTE:case j.FIGCAPTION:{Trt(e,t);break}case j.LI:{Irt(e);break}case j.DD:case j.DT:{Rrt(e,t);break}case j.H1:case j.H2:case j.H3:case j.H4:case j.H5:case j.H6:{Drt(e);break}case j.BR:{Ort(e);break}case j.BODY:{Crt(e,t);break}case j.HTML:{Srt(e,t);break}case j.FORM:{krt(e);break}case j.APPLET:case j.OBJECT:case j.MARQUEE:{Prt(e,t);break}case j.TEMPLATE:{D1(e,t);break}default:t_e(e,t)}}function n_e(e,t){e.tmplInsertionModeStack.length>0?u_e(e,t):lY(e,t)}function Nrt(e,t){var n;t.tagID===j.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function $rt(e,t){e._err(t,Ke.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function vL(e,t){if(e.openElements.currentTagId!==void 0&&Xxe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=be.IN_TABLE_TEXT,t.type){case Hn.CHARACTER:{i_e(e,t);break}case Hn.WHITESPACE_CHARACTER:{r_e(e,t);break}}else ok(e,t)}function Mrt(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,ct.HTML),e.insertionMode=be.IN_CAPTION}function Frt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ct.HTML),e.insertionMode=be.IN_COLUMN_GROUP}function Lrt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Fe.COLGROUP,j.COLGROUP),e.insertionMode=be.IN_COLUMN_GROUP,uY(e,t)}function jrt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ct.HTML),e.insertionMode=be.IN_TABLE_BODY}function Brt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Fe.TBODY,j.TBODY),e.insertionMode=be.IN_TABLE_BODY,N$(e,t)}function zrt(e,t){e.openElements.hasInTableScope(j.TABLE)&&(e.openElements.popUntilTagNamePopped(j.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Urt(e,t){e_e(t)?e._appendElement(t,ct.HTML):ok(e,t),t.ackSelfClosing=!0}function qrt(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,ct.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Rx(e,t){switch(t.tagID){case j.TD:case j.TH:case j.TR:{Brt(e,t);break}case j.STYLE:case j.SCRIPT:case j.TEMPLATE:{Hd(e,t);break}case j.COL:{Lrt(e,t);break}case j.FORM:{qrt(e,t);break}case j.TABLE:{zrt(e,t);break}case j.TBODY:case j.TFOOT:case j.THEAD:{jrt(e,t);break}case j.INPUT:{Urt(e,t);break}case j.CAPTION:{Mrt(e,t);break}case j.COLGROUP:{Frt(e,t);break}default:ok(e,t)}}function M2(e,t){switch(t.tagID){case j.TABLE:{e.openElements.hasInTableScope(j.TABLE)&&(e.openElements.popUntilTagNamePopped(j.TABLE),e._resetInsertionMode());break}case j.TEMPLATE:{D1(e,t);break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TBODY:case j.TD:case j.TFOOT:case j.TH:case j.THEAD:case j.TR:break;default:ok(e,t)}}function ok(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,P$(e,t),e.fosterParentingEnabled=n}function r_e(e,t){e.pendingCharacterTokens.push(t)}function i_e(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function uC(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ok(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const s_e=new Set([j.CAPTION,j.COL,j.COLGROUP,j.TBODY,j.TD,j.TFOOT,j.TH,j.THEAD,j.TR]);function Hrt(e,t){const n=t.tagID;s_e.has(n)?e.openElements.hasInTableScope(j.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=be.IN_TABLE,Rx(e,t)):Sa(e,t)}function Vrt(e,t){const n=t.tagID;switch(n){case j.CAPTION:case j.TABLE:{e.openElements.hasInTableScope(j.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=be.IN_TABLE,n===j.TABLE&&M2(e,t));break}case j.BODY:case j.COL:case j.COLGROUP:case j.HTML:case j.TBODY:case j.TD:case j.TFOOT:case j.TH:case j.THEAD:case j.TR:break;default:O$(e,t)}}function uY(e,t){switch(t.tagID){case j.HTML:{Sa(e,t);break}case j.COL:{e._appendElement(t,ct.HTML),t.ackSelfClosing=!0;break}case j.TEMPLATE:{Hd(e,t);break}default:eO(e,t)}}function Wrt(e,t){switch(t.tagID){case j.COLGROUP:{e.openElements.currentTagId===j.COLGROUP&&(e.openElements.pop(),e.insertionMode=be.IN_TABLE);break}case j.TEMPLATE:{D1(e,t);break}case j.COL:break;default:eO(e,t)}}function eO(e,t){e.openElements.currentTagId===j.COLGROUP&&(e.openElements.pop(),e.insertionMode=be.IN_TABLE,e._processToken(t))}function N$(e,t){switch(t.tagID){case j.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,ct.HTML),e.insertionMode=be.IN_ROW;break}case j.TH:case j.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Fe.TR,j.TR),e.insertionMode=be.IN_ROW,$$(e,t);break}case j.CAPTION:case j.COL:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE,Rx(e,t));break}default:Rx(e,t)}}function Sz(e,t){const n=t.tagID;switch(t.tagID){case j.TBODY:case j.TFOOT:case j.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE);break}case j.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE,M2(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TD:case j.TH:case j.TR:break;default:M2(e,t)}}function $$(e,t){switch(t.tagID){case j.TH:case j.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,ct.HTML),e.insertionMode=be.IN_CELL,e.activeFormattingElements.insertMarker();break}case j.CAPTION:case j.COL:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:case j.TR:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE_BODY,N$(e,t));break}default:Rx(e,t)}}function o_e(e,t){switch(t.tagID){case j.TR:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE_BODY);break}case j.TABLE:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE_BODY,Sz(e,t));break}case j.TBODY:case j.TFOOT:case j.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(j.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE_BODY,Sz(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TD:case j.TH:break;default:M2(e,t)}}function Grt(e,t){const n=t.tagID;s_e.has(n)?(e.openElements.hasInTableScope(j.TD)||e.openElements.hasInTableScope(j.TH))&&(e._closeTableCell(),$$(e,t)):Sa(e,t)}function Yrt(e,t){const n=t.tagID;switch(n){case j.TD:case j.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=be.IN_ROW);break}case j.TABLE:case j.TBODY:case j.TFOOT:case j.THEAD:case j.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),o_e(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:break;default:O$(e,t)}}function a_e(e,t){switch(t.tagID){case j.HTML:{Sa(e,t);break}case j.OPTION:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e._insertElement(t,ct.HTML);break}case j.OPTGROUP:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop(),e._insertElement(t,ct.HTML);break}case j.HR:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop(),e._appendElement(t,ct.HTML),t.ackSelfClosing=!0;break}case j.INPUT:case j.KEYGEN:case j.TEXTAREA:case j.SELECT:{e.openElements.hasInSelectScope(j.SELECT)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),t.tagID!==j.SELECT&&e._processStartTag(t));break}case j.SCRIPT:case j.TEMPLATE:{Hd(e,t);break}}}function l_e(e,t){switch(t.tagID){case j.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===j.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===j.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop();break}case j.OPTION:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop();break}case j.SELECT:{e.openElements.hasInSelectScope(j.SELECT)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode());break}case j.TEMPLATE:{D1(e,t);break}}}function Krt(e,t){const n=t.tagID;n===j.CAPTION||n===j.TABLE||n===j.TBODY||n===j.TFOOT||n===j.THEAD||n===j.TR||n===j.TD||n===j.TH?(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),e._processStartTag(t)):a_e(e,t)}function Xrt(e,t){const n=t.tagID;n===j.CAPTION||n===j.TABLE||n===j.TBODY||n===j.TFOOT||n===j.THEAD||n===j.TR||n===j.TD||n===j.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),e.onEndTag(t)):l_e(e,t)}function Qrt(e,t){switch(t.tagID){case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:case j.NOFRAMES:case j.SCRIPT:case j.STYLE:case j.TEMPLATE:case j.TITLE:{Hd(e,t);break}case j.CAPTION:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:{e.tmplInsertionModeStack[0]=be.IN_TABLE,e.insertionMode=be.IN_TABLE,Rx(e,t);break}case j.COL:{e.tmplInsertionModeStack[0]=be.IN_COLUMN_GROUP,e.insertionMode=be.IN_COLUMN_GROUP,uY(e,t);break}case j.TR:{e.tmplInsertionModeStack[0]=be.IN_TABLE_BODY,e.insertionMode=be.IN_TABLE_BODY,N$(e,t);break}case j.TD:case j.TH:{e.tmplInsertionModeStack[0]=be.IN_ROW,e.insertionMode=be.IN_ROW,$$(e,t);break}default:e.tmplInsertionModeStack[0]=be.IN_BODY,e.insertionMode=be.IN_BODY,Sa(e,t)}}function Jrt(e,t){t.tagID===j.TEMPLATE&&D1(e,t)}function u_e(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(j.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):lY(e,t)}function Zrt(e,t){t.tagID===j.HTML?Sa(e,t):tO(e,t)}function c_e(e,t){var n;if(t.tagID===j.HTML){if(e.fragmentContext||(e.insertionMode=be.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===j.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else tO(e,t)}function tO(e,t){e.insertionMode=be.IN_BODY,P$(e,t)}function eit(e,t){switch(t.tagID){case j.HTML:{Sa(e,t);break}case j.FRAMESET:{e._insertElement(t,ct.HTML);break}case j.FRAME:{e._appendElement(t,ct.HTML),t.ackSelfClosing=!0;break}case j.NOFRAMES:{Hd(e,t);break}}}function tit(e,t){t.tagID===j.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==j.FRAMESET&&(e.insertionMode=be.AFTER_FRAMESET))}function nit(e,t){switch(t.tagID){case j.HTML:{Sa(e,t);break}case j.NOFRAMES:{Hd(e,t);break}}}function rit(e,t){t.tagID===j.HTML&&(e.insertionMode=be.AFTER_AFTER_FRAMESET)}function iit(e,t){t.tagID===j.HTML?Sa(e,t):eD(e,t)}function eD(e,t){e.insertionMode=be.IN_BODY,P$(e,t)}function sit(e,t){switch(t.tagID){case j.HTML:{Sa(e,t);break}case j.NOFRAMES:{Hd(e,t);break}}}function oit(e,t){t.chars=Si,e._insertCharacters(t)}function ait(e,t){e._insertCharacters(t),e.framesetOk=!1}function d_e(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==ct.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function lit(e,t){if(Ent(t))d_e(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===ct.MATHML?Yxe(t):r===ct.SVG&&(Cnt(t),Kxe(t)),oY(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function uit(e,t){if(t.tagID===j.P||t.tagID===j.BR){d_e(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===ct.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Fe.AREA,Fe.BASE,Fe.BASEFONT,Fe.BGSOUND,Fe.BR,Fe.COL,Fe.EMBED,Fe.FRAME,Fe.HR,Fe.IMG,Fe.INPUT,Fe.KEYGEN,Fe.LINK,Fe.META,Fe.PARAM,Fe.SOURCE,Fe.TRACK,Fe.WBR;const cit=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,dit=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Poe={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function f_e(e,t){const n=xit(e),r=Fxe("type",{handlers:{root:fit,element:hit,text:pit,comment:p_e,doctype:mit,raw:yit},unknown:vit}),i={parser:n?new Ioe(Poe):Ioe.getFragmentParser(void 0,Poe),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),q_(i,Ah());const s=n?i.parser.document:i.parser.getFragment(),o=ftt(s,{file:i.options.file});return i.stitches&&D$(o,"comment",function(a,l,u){const c=a;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function h_e(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function fit(e,t){h_e(e.children,t)}function hit(e,t){bit(e,t),h_e(e.children,t),wit(e,t)}function pit(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Hn.CHARACTER,chars:e.value,location:ak(e)};q_(t,Ah(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function mit(e,t){const n={type:Hn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:ak(e)};q_(t,Ah(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function git(e,t){t.stitches=!0;const n=_it(e);if("children"in e&&"children"in n){const r=f_e({type:"root",children:e.children},t.options);n.children=r.children}p_e({type:"comment",value:{stitch:n}},t)}function p_e(e,t){const n=e.value,r={type:Hn.COMMENT,data:n,location:ak(e)};q_(t,Ah(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function yit(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,m_e(t,Ah(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(cit,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function vit(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))git(n,t);else{let r="";throw dit.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function q_(e,t){m_e(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=rs.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function m_e(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function bit(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===rs.PLAINTEXT)return;q_(t,Ah(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:uv.html;i===uv.html&&n==="svg"&&(i=uv.svg);const s=ktt({...e,children:[]},{space:i===uv.svg?"svg":"html"}),o={type:Hn.START_TAG,tagName:n,tagID:U_(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:ak(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function wit(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&$tt.includes(n)||t.parser.tokenizer.state===rs.PLAINTEXT)return;q_(t,S$(e));const r={type:Hn.END_TAG,tagName:n,tagID:U_(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:ak(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===rs.RCDATA||t.parser.tokenizer.state===rs.RAWTEXT||t.parser.tokenizer.state===rs.SCRIPT_DATA)&&(t.parser.tokenizer.state=rs.DATA)}function xit(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function ak(e){const t=Ah(e)||{line:void 0,column:void 0,offset:void 0},n=S$(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function _it(e){return"children"in e?Ix({...e,children:[]}):Ix(e)}function Eit(e){return function(t,n){return f_e(t,{...e,file:n})}}function Ooe(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Cit(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Sit(e,t,n){const i=I$((n||{}).ignore||[]),s=Tit(t);let o=-1;for(;++o<s.length;)Exe(e,"text",a);function a(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],p=f?f.children:void 0;if(i(h,p?p.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=s[o][0],h=s[o][1];let p=0;const g=d.children.indexOf(u);let v=!1,y=[];f.lastIndex=0;let w=f.exec(u.value);for(;w;){const E=w.index,C={index:w.index,input:w.input,stack:[...c,u]};let S=h(...w,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=E+1:(p!==E&&y.push({type:"text",value:u.value.slice(p,E)}),Array.isArray(S)?y.push(...S):S&&y.push(S),p=E+w[0].length,v=!0),!f.global)break;w=f.exec(u.value)}return v?(p<u.value.length&&y.push({type:"text",value:u.value.slice(p)}),d.children.splice(g,1,...y)):y=[u],g+y.length}}function Tit(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([kit(i[0]),Ait(i[1])])}return t}function kit(e){return typeof e=="string"?new RegExp(Cit(e),"g"):e}function Ait(e){return typeof e=="function"?e:function(){return e}}const bL="phrasing",wL=["autolink","link","image","label"];function Iit(){return{transforms:[Mit],enter:{literalAutolink:Dit,literalAutolinkEmail:xL,literalAutolinkHttp:xL,literalAutolinkWww:xL},exit:{literalAutolink:$it,literalAutolinkEmail:Nit,literalAutolinkHttp:Pit,literalAutolinkWww:Oit}}}function Rit(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:bL,notInConstruct:wL},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:bL,notInConstruct:wL},{character:":",before:"[ps]",after:"\\/",inConstruct:bL,notInConstruct:wL}]}}function Dit(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function xL(e){this.config.enter.autolinkProtocol.call(this,e)}function Pit(e){this.config.exit.autolinkProtocol.call(this,e)}function Oit(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Nit(e){this.config.exit.autolinkEmail.call(this,e)}function $it(e){this.exit(e)}function Mit(e){Sit(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Fit],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Lit]],{ignore:["link","linkReference"]})}function Fit(e,t,n,r,i){let s="";if(!g_e(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!jit(n)))return!1;const o=Bit(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Lit(e,t,n,r){return!g_e(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function jit(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Bit(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Ooe(e,"(");let s=Ooe(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function g_e(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||jv(n)||T$(n))&&(!t||n!==47)}y_e.peek=Kit;function zit(){this.buffer()}function Uit(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function qit(){this.buffer()}function Hit(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Vit(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yd(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Wit(e){this.exit(e)}function Git(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yd(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Yit(e){this.exit(e)}function Kit(){return"["}function y_e(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Xit(){return{enter:{gfmFootnoteCallString:zit,gfmFootnoteCall:Uit,gfmFootnoteDefinitionLabelString:qit,gfmFootnoteDefinition:Hit},exit:{gfmFootnoteCallString:Vit,gfmFootnoteCall:Wit,gfmFootnoteDefinitionLabelString:Git,gfmFootnoteDefinition:Yit}}}function Qit(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:y_e},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),c=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),c(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?v_e:Jit))),u(),l}}function Jit(e,t,n){return t===0?e:v_e(e,t,n)}function v_e(e,t,n){return(n?"":"    ")+e}const Zit=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];b_e.peek=ist;function est(){return{canContainEols:["delete"],enter:{strikethrough:nst},exit:{strikethrough:rst}}}function tst(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Zit}],handlers:{delete:b_e}}}function nst(e){this.enter({type:"delete",children:[]},e)}function rst(e){this.exit(e)}function b_e(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function ist(){return"~"}function sst(e){return e.length}function ost(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||sst,s=[],o=[],a=[],l=[];let u=0,c=-1;for(;++c<e.length;){const m=[],g=[];let v=-1;for(e[c].length>u&&(u=e[c].length);++v<e[c].length;){const y=ast(e[c][v]);if(n.alignDelimiters!==!1){const w=i(y);g[v]=w,(l[v]===void 0||w>l[v])&&(l[v]=w)}m.push(y)}o[c]=m,a[c]=g}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=Noe(r[d]);else{const m=Noe(r);for(;++d<u;)s[d]=m}d=-1;const f=[],h=[];for(;++d<u;){const m=s[d];let g="",v="";m===99?(g=":",v=":"):m===108?g=":":m===114&&(v=":");let y=n.alignDelimiters===!1?1:Math.max(1,l[d]-g.length-v.length);const w=g+"-".repeat(y)+v;n.alignDelimiters!==!1&&(y=g.length+y+v.length,y>l[d]&&(l[d]=y),h[d]=y),f[d]=w}o.splice(1,0,f),a.splice(1,0,h),c=-1;const p=[];for(;++c<o.length;){const m=o[c],g=a[c];d=-1;const v=[];for(;++d<u;){const y=m[d]||"";let w="",E="";if(n.alignDelimiters!==!1){const C=l[d]-(g[d]||0),S=s[d];S===114?w=" ".repeat(C):S===99?C%2?(w=" ".repeat(C/2+.5),E=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),E=w):E=" ".repeat(C)}n.delimiterStart!==!1&&!d&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||d)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(y),n.alignDelimiters!==!1&&v.push(E),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&v.push("|")}p.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return p.join(`
`)}function ast(e){return e==null?"":String(e)}function Noe(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function lst(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),ust);return i(),o}function ust(e,t,n){return">"+(n?"":" ")+e}function cst(e,t){return $oe(e,t.inConstruct,!0)&&!$oe(e,t.notInConstruct,!1)}function $oe(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Moe(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&cst(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function dst(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function fst(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function hst(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function pst(e,t,n,r){const i=hst(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(fst(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,mst);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(dst(s,i)+1,3)),u=n.enter("codeFenced");let c=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);c+=a.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);c+=a.move(" "),c+=a.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),s&&(c+=a.move(s+`
`)),c+=a.move(l),u(),c}function mst(e,t,n){return(n?"":"    ")+e}function cY(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function gst(e,t,n,r){const i=cY(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function yst(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function F2(e){return"&#x"+e.toString(16).toUpperCase()+";"}function nO(e,t,n){const r=Ax(e),i=Ax(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}w_e.peek=vst;function w_e(e,t,n,r){const i=yst(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=nO(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=F2(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=nO(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+F2(d));const h=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+h}function vst(e,t,n){return n.options.emphasis||"*"}function bst(e,t){let n=!1;return D$(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,mz}),!!((!e.depth||e.depth<3)&&KG(e)&&(t.options.setext||n))}function wst(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(bst(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=F2(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}x_e.peek=xst;function x_e(e){return e.value||""}function xst(){return"<"}__e.peek=_st;function __e(e,t,n,r){const i=cY(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function _st(){return"!"}E_e.peek=Est;function E_e(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Est(){return"!"}C_e.peek=Cst;function C_e(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Cst(){return"`"}function S_e(e,t){const n=KG(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}T_e.peek=Sst;function T_e(e,t,n,r){const i=cY(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(S_e(e,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=c,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function Sst(e,t,n){return S_e(e,n)?"<":"["}k_e.peek=Tst;function k_e(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Tst(){return"["}function dY(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function kst(e){const t=dY(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Ast(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function A_e(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Ist(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?Ast(n):dY(n);const a=e.ordered?o==="."?")":".":kst(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),A_e(n)===o&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function Rst(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Dst(e,t,n,r){const i=Rst(n);let s=n.bulletCurrent||dY(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(o))+d:(h?s:s+" ".repeat(o-s.length))+d}}function Pst(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const Ost=I$(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Nst(e,t,n,r){return(e.children.some(function(o){return Ost(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function $st(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}I_e.peek=Mst;function I_e(e,t,n,r){const i=$st(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=nO(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=F2(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=nO(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+F2(d));const h=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+h}function Mst(e,t,n){return n.options.strong||"*"}function Fst(e,t,n,r){return n.safe(e.value,r)}function Lst(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function jst(e,t,n){const r=(A_e(n)+(n.options.ruleSpaces?" ":"")).repeat(Lst(n));return n.options.ruleSpaces?r.slice(0,-1):r}const R_e={blockquote:lst,break:Moe,code:pst,definition:gst,emphasis:w_e,hardBreak:Moe,heading:wst,html:x_e,image:__e,imageReference:E_e,inlineCode:C_e,link:T_e,linkReference:k_e,list:Ist,listItem:Dst,paragraph:Pst,root:Nst,strong:I_e,text:Fst,thematicBreak:jst};function Bst(){return{enter:{table:zst,tableData:Foe,tableHeader:Foe,tableRow:qst},exit:{codeText:Hst,table:Ust,tableData:_L,tableHeader:_L,tableRow:_L}}}function zst(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Ust(e){this.exit(e),this.data.inTable=void 0}function qst(e){this.enter({type:"tableRow",children:[]},e)}function _L(e){this.exit(e)}function Foe(e){this.enter({type:"tableCell",children:[]},e)}function Hst(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Vst));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Vst(e,t){return t==="|"?t:e}function Wst(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(h,p,m,g){return u(c(h,m,g),h.align)}function a(h,p,m,g){const v=d(h,m,g),y=u([v]);return y.slice(0,y.indexOf(`
`))}function l(h,p,m,g){const v=m.enter("tableCell"),y=m.enter("phrasing"),w=m.containerPhrasing(h,{...g,before:s,after:s});return y(),v(),w}function u(h,p){return ost(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(h,p,m){const g=h.children;let v=-1;const y=[],w=p.enter("table");for(;++v<g.length;)y[v]=d(g[v],p,m);return w(),y}function d(h,p,m){const g=h.children;let v=-1;const y=[],w=p.enter("tableRow");for(;++v<g.length;)y[v]=l(g[v],h,p,m);return w(),y}function f(h,p,m){let g=R_e.inlineCode(h,p,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function Gst(){return{exit:{taskListCheckValueChecked:Loe,taskListCheckValueUnchecked:Loe,paragraph:Kst}}}function Yst(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Xst}}}function Loe(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Kst(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Xst(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=R_e.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+o}}function Qst(){return[Iit(),Xit(),est(),Bst(),Gst()]}function Jst(e){return{extensions:[Rit(),Qit(e),tst(),Wst(e),Yst()]}}const Zst={tokenize:sot,partial:!0},D_e={tokenize:oot,partial:!0},P_e={tokenize:aot,partial:!0},O_e={tokenize:lot,partial:!0},eot={tokenize:uot,partial:!0},N_e={name:"wwwAutolink",tokenize:rot,previous:M_e},$_e={name:"protocolAutolink",tokenize:iot,previous:F_e},_m={name:"emailAutolink",tokenize:not,previous:L_e},Ih={};function tot(){return{text:Ih}}let yy=48;for(;yy<123;)Ih[yy]=_m,yy++,yy===58?yy=65:yy===91&&(yy=97);Ih[43]=_m;Ih[45]=_m;Ih[46]=_m;Ih[95]=_m;Ih[72]=[_m,$_e];Ih[104]=[_m,$_e];Ih[87]=[_m,N_e];Ih[119]=[_m,N_e];function not(e,t,n){const r=this;let i,s;return o;function o(d){return!Tz(d)||!L_e.call(r,r.previous)||fY(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return Tz(d)?(e.consume(d),a):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(eot,c,u)(d):d===45||d===95||ua(d)?(s=!0,e.consume(d),l):c(d)}function u(d){return e.consume(d),i=!0,l}function c(d){return s&&i&&qa(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function rot(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!M_e.call(r,r.previous)||fY(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Zst,e.attempt(D_e,e.attempt(P_e,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function iot(e,t,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&F_e.call(r,r.previous)&&!fY(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(qa(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||QP(d)||oi(d)||jv(d)||T$(d)?n(d):e.attempt(D_e,e.attempt(P_e,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function sot(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function oot(e,t,n){let r,i,s;return o;function o(u){return u===46||u===95?e.check(O_e,l,a)(u):u===null||oi(u)||jv(u)||u!==45&&T$(u)?l(u):(s=!0,e.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function l(u){return i||r||!s?n(u):t(u)}}function aot(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(O_e,t,s)(o):o===null||oi(o)||jv(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function lot(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||oi(a)||jv(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||oi(a)||jv(a)?t(a):r(a)}function s(a){return qa(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):qa(a)?(e.consume(a),o):n(a)}}function uot(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return ua(s)?n(s):t(s)}}function M_e(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||oi(e)}function F_e(e){return!qa(e)}function L_e(e){return!(e===47||Tz(e))}function Tz(e){return e===43||e===45||e===46||e===95||ua(e)}function fY(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const cot={tokenize:vot,partial:!0};function dot(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:mot,continuation:{tokenize:got},exit:yot}},text:{91:{name:"gfmFootnoteCall",tokenize:pot},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:fot,resolveTo:hot}}}}function fot(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=yd(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function hot(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function pot(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||oi(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(yd(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return oi(d)||(o=!0),s++,e.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(e.consume(d),s++,u):u(d)}}function mot(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(p)}function c(p){if(o>999||p===93&&!a||p===null||p===91||oi(p))return n(p);if(p===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return s=yd(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return oi(p)||(a=!0),o++,e.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(e.consume(p),o++,c):c(p)}function f(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),pr(e,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return t(p)}}function got(e,t,n){return e.check(rk,t,e.attempt(cot,t,n))}function yot(e){e.exit("gfmFootnoteDefinition")}function vot(e,t,n){const r=this;return pr(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function bot(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",c,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",d,a]],h=a.parser.constructs.insideSpan.null;h&&Pl(f,f.length,0,k$(h,o.slice(u+1,l),a)),Pl(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",c,a]]),Pl(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,c=this.events;let d=0;return f;function f(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(o.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const m=Ax(u);if(p===126)return d>1?l(p):(o.consume(p),d++,h);if(d<2&&!n)return l(p);const g=o.exit("strikethroughSequenceTemporary"),v=Ax(p);return g._open=!v||v===2&&!!m,g._close=!m||m===2&&!!v,a(p)}}}class wot{constructor(){this.map=[]}add(t,n,r){xot(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function xot(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function _ot(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Eot(){return{flow:{null:{name:"table",tokenize:Cot,resolveAll:Sot}}}}function Cot(e,t,n){const r=this;let i=0,s=0,o;return a;function a(R){let O=r.events.length-1;for(;O>-1;){const L=r.events[O][1].type;if(L==="lineEnding"||L==="linePrefix")O--;else break}const M=O>-1?r.events[O][1].type:null,$=M==="tableHead"||M==="tableRow"?S:l;return $===S&&r.parser.lazy[r.now().line]?n(R):$(R)}function l(R){return e.enter("tableHead"),e.enter("tableRow"),u(R)}function u(R){return R===124||(o=!0,s+=1),c(R)}function c(R){return R===null?n(R):mn(R)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),h):n(R):Qn(R)?pr(e,c,"whitespace")(R):(s+=1,o&&(o=!1,i+=1),R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),o=!0,c):(e.enter("data"),d(R)))}function d(R){return R===null||R===124||oi(R)?(e.exit("data"),c(R)):(e.consume(R),R===92?f:d)}function f(R){return R===92||R===124?(e.consume(R),d):d(R)}function h(R){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(R):(e.enter("tableDelimiterRow"),o=!1,Qn(R)?pr(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):p(R))}function p(R){return R===45||R===58?g(R):R===124?(o=!0,e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),m):C(R)}function m(R){return Qn(R)?pr(e,g,"whitespace")(R):g(R)}function g(R){return R===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),v):R===45?(s+=1,v(R)):R===null||mn(R)?E(R):C(R)}function v(R){return R===45?(e.enter("tableDelimiterFiller"),y(R)):C(R)}function y(R){return R===45?(e.consume(R),y):R===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(R))}function w(R){return Qn(R)?pr(e,E,"whitespace")(R):E(R)}function E(R){return R===124?p(R):R===null||mn(R)?!o||i!==s?C(R):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(R)):C(R)}function C(R){return n(R)}function S(R){return e.enter("tableRow"),T(R)}function T(R){return R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),T):R===null||mn(R)?(e.exit("tableRow"),t(R)):Qn(R)?pr(e,T,"whitespace")(R):(e.enter("data"),k(R))}function k(R){return R===null||R===124||oi(R)?(e.exit("data"),T(R)):(e.consume(R),R===92?I:k)}function I(R){return R===92||R===124?(e.consume(R),k):k(R)}}function Sot(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,c,d;const f=new wot;for(;++n<e.length;){const h=e[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(a=!1,l!==0&&(joe(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",c,t]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=FI(f,t,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=FI(f,t,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):p.type==="tableHead"?(a=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=FI(f,t,s,i,n,d)):o[1]!==0&&(d=FI(f,t,o,i,n,d)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&joe(f,t,l,u,c),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=_ot(t.events,n))}return e}function FI(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Cw(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=Cw(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=Cw(t.events,n[2]),c=Cw(t.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;e.add(p,m,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},Cw(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function joe(e,t,n,r,i){const s=[],o=Cw(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function Cw(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Tot={name:"tasklistCheck",tokenize:Aot};function kot(){return{text:{91:Tot}}}function Aot(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return oi(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return mn(l)?t(l):Qn(l)?e.check({tokenize:Iot},t,n)(l):n(l)}}function Iot(e,t,n){return pr(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Rot(e){return oxe([tot(),dot(),bot(e),Eot(),kot()])}const Dot={};function Pot(e){const t=this,n=e||Dot,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Rot(n)),s.push(Qst()),o.push(Jst(n))}function uh({text:e,required:t}){const n={p({node:l,...u}){return x.jsx(Ue,{...u,pb:8,fw:"inherit",ref:void 0})},h1({node:l,...u}){return x.jsx(Br,{...u,order:1,pb:12})},h2({node:l,...u}){return x.jsx(Br,{...u,order:2,pb:12})},h3({node:l,...u}){return x.jsx(Br,{...u,order:3,pb:12})},h4({node:l,...u}){return x.jsx(Br,{...u,order:4,pb:12})},h5({node:l,...u}){return x.jsx(Br,{...u,order:5,pb:12})},h6({node:l,...u}){return x.jsx(Br,{...u,order:6,pb:12})},a({node:l,...u}){return x.jsx(C1,{...u,ref:void 0})},ul({node:l,...u}){return x.jsx(gd,{withPadding:!0,...u,pb:8})},ol({node:l,type:u,...c}){return x.jsx(gd,{...c,type:"ordered",withPadding:!0,pb:8})},table({node:l,...u}){return x.jsx(Xn,{...u,mb:12,borderColor:"grey"})},thead({node:l,...u}){return x.jsx(Xn.Thead,{...u})},tbody({node:l,...u}){return x.jsx(Xn.Tbody,{...u})},tr({node:l,...u}){return x.jsx(Xn.Tr,{...u})},th({node:l,...u}){return x.jsx(Xn.Th,{...u})},td({node:l,...u}){return x.jsx(Xn.Td,{...u})},img({node:l,src:u,...c}){return x.jsx(Th,{...c,src:u!=null&&u.startsWith("http")?u:`${as}${u}`})}},r=e.trim().split(" "),i=r.at(-1),o=i?`<span style="white-space: nowrap;">${i+(t?'<span style="color: #fa5252; margin-left: 4px">*</span>':"")}</span>`:"",a=`${r.slice(0,-1).join(" ")} ${o}`;return e.length>0&&x.jsx(Qet,{components:n,rehypePlugins:[Eit],remarkPlugins:[Pot],children:a})}function tD({issues:e,type:t}){const n=`
    ${t==="error"?"There was an issue loading the study config. Please check the following issues:":"There were some warnings while loading the study config. Please check the following warnings:"}

    ${e.map(r=>`- You have ${t==="error"?"an error":"a warning"} at ${r.instancePath||"root"}: ${r.message} - ${JSON.stringify(r.params)}  `).join(`
`)}
  `.replace(/\n\s+/g,`
`);return x.jsx(uh,{text:n})}const qb=14;function Oot({completed:e,inProgress:t,rejected:n}){return x.jsxs(Rt,{ml:4,gap:4,children:[x.jsx(Ut,{label:"Completed",children:x.jsx(lu,{variant:"light",color:"green",leftSection:x.jsx(O2,{width:qb,height:qb,style:{paddingTop:1}}),pb:1,children:e})}),x.jsx(Ut,{label:"In Progress",children:x.jsx(lu,{variant:"light",color:"orange",leftSection:x.jsx(Lwe,{width:qb,height:qb,style:{paddingTop:1}}),pb:1,children:t})}),x.jsx(Ut,{label:"Rejected",children:x.jsx(lu,{variant:"light",color:"red",leftSection:x.jsx(Lv,{width:qb,height:qb,style:{paddingTop:1}}),pb:1,children:n})})]})}const Not=()=>{};var Boe={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_e=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},$ot=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},hY={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(j_e(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):$ot(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Mot;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Mot extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fot=function(e){const t=j_e(e);return hY.encodeByteArray(t,!0)},B_e=function(e){return Fot(e).replace(/\./g,"")},z_e=function(e){try{return hY.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lot(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jot=()=>Lot().__FIREBASE_DEFAULTS__,Bot=()=>{if(typeof process>"u"||typeof Boe>"u")return;const e=Boe.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},zot=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&z_e(e[1]);return t&&JSON.parse(t)},pY=()=>{try{return Not()||jot()||Bot()||zot()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Uot=e=>{var t,n;return(n=(t=pY())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},U_e=()=>{var e;return(e=pY())===null||e===void 0?void 0:e.config},q_e=e=>{var t;return(t=pY())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kz=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qot(e){return(await fetch(e,{credentials:"include"})).ok}const GS={};function Hot(){const e={prod:[],emulator:[]};for(const t of Object.keys(GS))GS[t]?e.emulator.push(t):e.prod.push(t);return e}function Vot(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let zoe=!1;function Wot(e,t){if(typeof window>"u"||typeof document>"u"||!M$(window.location.host)||GS[e]===t||GS[e]||zoe)return;GS[e]=t;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=Hot().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{zoe=!0,o()},f}function c(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=Vot(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),m=n("learnmore"),g=document.getElementById(m)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;a(w),c(g,m);const E=u();l(y,v),w.append(y,p,g,E),document.body.appendChild(w)}s?(p.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Got(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qa())}function Yot(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kot(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Xot(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qot(){const e=Qa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function H_e(){try{return typeof indexedDB=="object"}catch{return!1}}function Jot(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zot="FirebaseError";class Rh extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Zot,Object.setPrototypeOf(this,Rh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H_.prototype.create)}}class H_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?eat(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rh(i,a,r)}}function eat(e,t){return e.replace(tat,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const tat=/\{\$([^}]+)}/g;function nat(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Dx(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Uoe(s)&&Uoe(o)){if(!Dx(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Uoe(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rat(e,t){const n=new iat(e,t);return n.subscribe.bind(n)}class iat{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sat(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=EL),i.error===void 0&&(i.error=EL),i.complete===void 0&&(i.complete=EL);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sat(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function EL(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(e){return e&&e._delegate?e._delegate:e}class ch{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oat=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new kz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lat(t))try{this.getOrInitializeService({instanceIdentifier:jy})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=jy){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jy){return this.instances.has(t)}getOptions(t=jy){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aat(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=jy){return this.component?this.component.multipleInstances?t:jy:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aat(e){return e===jy?void 0:e}function lat(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uat{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new oat(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Vr||(Vr={}));const cat={debug:Vr.DEBUG,verbose:Vr.VERBOSE,info:Vr.INFO,warn:Vr.WARN,error:Vr.ERROR,silent:Vr.SILENT},dat=Vr.INFO,fat={[Vr.DEBUG]:"log",[Vr.VERBOSE]:"log",[Vr.INFO]:"info",[Vr.WARN]:"warn",[Vr.ERROR]:"error"},hat=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=fat[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class F${constructor(t){this.name=t,this._logLevel=dat,this._logHandler=hat,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cat[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vr.DEBUG,...t),this._logHandler(this,Vr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vr.VERBOSE,...t),this._logHandler(this,Vr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vr.INFO,...t),this._logHandler(this,Vr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vr.WARN,...t),this._logHandler(this,Vr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vr.ERROR,...t),this._logHandler(this,Vr.ERROR,...t)}}const pat=(e,t)=>t.some(n=>e instanceof n);let qoe,Hoe;function mat(){return qoe||(qoe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gat(){return Hoe||(Hoe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V_e=new WeakMap,Az=new WeakMap,W_e=new WeakMap,CL=new WeakMap,mY=new WeakMap;function yat(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(q0(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&V_e.set(n,e)}).catch(()=>{}),mY.set(t,e),t}function vat(e){if(Az.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Az.set(e,t)}let Iz={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Az.get(e);if(t==="objectStoreNames")return e.objectStoreNames||W_e.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return q0(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function bat(e){Iz=e(Iz)}function wat(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(SL(this),t,...n);return W_e.set(r,t.sort?t.sort():[t]),q0(r)}:gat().includes(e)?function(...t){return e.apply(SL(this),t),q0(V_e.get(this))}:function(...t){return q0(e.apply(SL(this),t))}}function xat(e){return typeof e=="function"?wat(e):(e instanceof IDBTransaction&&vat(e),pat(e,mat())?new Proxy(e,Iz):e)}function q0(e){if(e instanceof IDBRequest)return yat(e);if(CL.has(e))return CL.get(e);const t=xat(e);return t!==e&&(CL.set(e,t),mY.set(t,e)),t}const SL=e=>mY.get(e);function _at(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=q0(o);return r&&o.addEventListener("upgradeneeded",l=>{r(q0(o.result),l.oldVersion,l.newVersion,q0(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Eat=["get","getKey","getAll","getAllKeys","count"],Cat=["put","add","delete","clear"],TL=new Map;function Voe(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(TL.get(t))return TL.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Cat.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Eat.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return TL.set(t,s),s}bat(e=>({...e,get:(t,n,r)=>Voe(t,n)||e.get(t,n,r),has:(t,n)=>!!Voe(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sat{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tat(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tat(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rz="@firebase/app",Woe="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=new F$("@firebase/app"),kat="@firebase/app-compat",Aat="@firebase/analytics-compat",Iat="@firebase/analytics",Rat="@firebase/app-check-compat",Dat="@firebase/app-check",Pat="@firebase/auth",Oat="@firebase/auth-compat",Nat="@firebase/database",$at="@firebase/data-connect",Mat="@firebase/database-compat",Fat="@firebase/functions",Lat="@firebase/functions-compat",jat="@firebase/installations",Bat="@firebase/installations-compat",zat="@firebase/messaging",Uat="@firebase/messaging-compat",qat="@firebase/performance",Hat="@firebase/performance-compat",Vat="@firebase/remote-config",Wat="@firebase/remote-config-compat",Gat="@firebase/storage",Yat="@firebase/storage-compat",Kat="@firebase/firestore",Xat="@firebase/ai",Qat="@firebase/firestore-compat",Jat="firebase",Zat="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="[DEFAULT]",elt={[Rz]:"fire-core",[kat]:"fire-core-compat",[Iat]:"fire-analytics",[Aat]:"fire-analytics-compat",[Dat]:"fire-app-check",[Rat]:"fire-app-check-compat",[Pat]:"fire-auth",[Oat]:"fire-auth-compat",[Nat]:"fire-rtdb",[$at]:"fire-data-connect",[Mat]:"fire-rtdb-compat",[Fat]:"fire-fn",[Lat]:"fire-fn-compat",[jat]:"fire-iid",[Bat]:"fire-iid-compat",[zat]:"fire-fcm",[Uat]:"fire-fcm-compat",[qat]:"fire-perf",[Hat]:"fire-perf-compat",[Vat]:"fire-rc",[Wat]:"fire-rc-compat",[Gat]:"fire-gcs",[Yat]:"fire-gcs-compat",[Kat]:"fire-fst",[Qat]:"fire-fst-compat",[Xat]:"fire-vertex","fire-js":"fire-js",[Jat]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new Map,tlt=new Map,Pz=new Map;function Goe(e,t){try{e.container.addComponent(t)}catch(n){Jp.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zp(e){const t=e.name;if(Pz.has(t))return Jp.debug(`There were multiple attempts to register component ${t}.`),!1;Pz.set(t,e);for(const n of rO.values())Goe(n,e);for(const n of tlt.values())Goe(n,e);return!0}function G_e(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Hu(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nlt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},H0=new H_("app","Firebase",nlt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rlt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ch("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw H0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=Zat;function ilt(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Dz,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw H0.create("bad-app-name",{appName:String(i)});if(n||(n=U_e()),!n)throw H0.create("no-options");const s=rO.get(i);if(s){if(Dx(n,s.options)&&Dx(r,s.config))return s;throw H0.create("duplicate-app",{appName:i})}const o=new uat(i);for(const l of Pz.values())o.addComponent(l);const a=new rlt(n,r,o);return rO.set(i,a),a}function slt(e=Dz){const t=rO.get(e);if(!t&&e===Dz&&U_e())return ilt();if(!t)throw H0.create("no-app",{appName:e});return t}function vd(e,t,n){var r;let i=(r=elt[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Jp.warn(a.join(" "));return}Zp(new ch(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const olt="firebase-heartbeat-database",alt=1,L2="firebase-heartbeat-store";let kL=null;function Y_e(){return kL||(kL=_at(olt,alt,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(L2)}catch(n){console.warn(n)}}}}).catch(e=>{throw H0.create("idb-open",{originalErrorMessage:e.message})})),kL}async function llt(e){try{const n=(await Y_e()).transaction(L2),r=await n.objectStore(L2).get(K_e(e));return await n.done,r}catch(t){if(t instanceof Rh)Jp.warn(t.message);else{const n=H0.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Jp.warn(n.message)}}}async function Yoe(e,t){try{const r=(await Y_e()).transaction(L2,"readwrite");await r.objectStore(L2).put(t,K_e(e)),await r.done}catch(n){if(n instanceof Rh)Jp.warn(n.message);else{const r=H0.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jp.warn(r.message)}}}function K_e(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ult=1024,clt=30;class dlt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hlt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Koe();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>clt){const o=plt(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jp.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Koe(),{heartbeatsToSend:r,unsentEntries:i}=flt(this._heartbeatsCache.heartbeats),s=B_e(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Jp.warn(n),""}}}function Koe(){return new Date().toISOString().substring(0,10)}function flt(e,t=ult){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Xoe(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xoe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hlt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H_e()?Jot().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await llt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yoe(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yoe(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Xoe(e){return B_e(JSON.stringify({version:2,heartbeats:e})).length}function plt(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mlt(e){Zp(new ch("platform-logger",t=>new Sat(t),"PRIVATE")),Zp(new ch("heartbeat",t=>new dlt(t),"PRIVATE")),vd(Rz,Woe,e),vd(Rz,Woe,"esm2017"),vd("fire-js","")}mlt("");function X_e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const glt=X_e,Q_e=new H_("auth","Firebase",X_e());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new F$("@firebase/auth");function ylt(e,...t){iO.logLevel<=Vr.WARN&&iO.warn(`Auth (${P1}): ${e}`,...t)}function nD(e,...t){iO.logLevel<=Vr.ERROR&&iO.error(`Auth (${P1}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(e,...t){throw yY(e,...t)}function bd(e,...t){return yY(e,...t)}function gY(e,t,n){const r=Object.assign(Object.assign({},glt()),{[t]:n});return new H_("auth","Firebase",r).create(t,{appName:e.name})}function _v(e){return gY(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vlt(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&dh(e,"argument-error"),gY(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yY(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Q_e.create(e,...t)}function En(e,t,...n){if(!e)throw yY(t,...n)}function Sp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nD(t),new Error(t)}function em(e,t){e||Sp(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function blt(){return Qoe()==="http:"||Qoe()==="https:"}function Qoe(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wlt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(blt()||Kot()||"connection"in navigator)?navigator.onLine:!0}function xlt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t,n){this.shortDelay=t,this.longDelay=n,em(n>t,"Short delay should be less than long delay!"),this.isMobile=Got()||Xot()}get(){return wlt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(e,t){em(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_e{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Elt=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Clt=new uk(3e4,6e4);function bY(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function V_(e,t,n,r,i={}){return Z_e(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=lk(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},s);return Yot()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&M$(e.emulatorConfig.host)&&(u.credentials="include"),J_e.fetch()(await eEe(e,e.config.apiHost,n,a),u)})}async function Z_e(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},_lt),t);try{const i=new Tlt(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw LI(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw LI(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw LI(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw LI(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gY(e,c,u);dh(e,c)}}catch(i){if(i instanceof Rh)throw i;dh(e,"network-request-failed",{message:String(i)})}}async function Slt(e,t,n,r,i={}){const s=await V_(e,t,n,r,i);return"mfaPendingCredential"in s&&dh(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function eEe(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?vY(e.config,i):`${e.config.apiScheme}://${i}`;return Elt.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class Tlt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bd(this.auth,"network-request-failed")),Clt.get())})}}function LI(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bd(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function klt(e,t){return V_(e,"POST","/v1/accounts:delete",t)}async function sO(e,t){return V_(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Alt(e,t=!1){const n=Rg(e),r=await n.getIdToken(t),i=wY(r);En(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:YS(AL(i.auth_time)),issuedAtTime:YS(AL(i.iat)),expirationTime:YS(AL(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function AL(e){return Number(e)*1e3}function wY(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return nD("JWT malformed, contained fewer than 3 sections"),null;try{const i=z_e(n);return i?JSON.parse(i):(nD("Failed to decode base64 JWT payload"),null)}catch(i){return nD("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Joe(e){const t=wY(e);return En(t,"internal-error"),En(typeof t.exp<"u","internal-error"),En(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Rh&&Ilt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Ilt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rlt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=YS(this.lastLoginAt),this.creationTime=YS(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(e){var t;const n=e.auth,r=await e.getIdToken(),i=await j2(e,sO(n,{idToken:r}));En(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?tEe(s.providerUserInfo):[],a=Plt(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Nz(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function Dlt(e){const t=Rg(e);await oO(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Plt(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function tEe(e){return e.map(t=>{var{providerId:n}=t,r=$T(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Olt(e,t){const n=await Z_e(e,{},async()=>{const r=lk({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await eEe(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&M$(e.emulatorConfig.host)&&(l.credentials="include"),J_e.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nlt(e,t){return V_(e,"POST","/v2/accounts:revokeToken",bY(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){En(t.idToken,"internal-error"),En(typeof t.idToken<"u","internal-error"),En(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Joe(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){En(t.length!==0,"internal-error");const n=Joe(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(En(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Olt(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xw;return r&&(En(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(En(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(En(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xw,this.toJSON())}_performRefresh(){return Sp("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(e,t){En(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ud{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=$T(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rlt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nz(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await j2(this,this.stsTokenManager.getToken(this.auth,t));return En(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Alt(this,t)}reload(){return Dlt(this)}_assign(t){this!==t&&(En(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ud(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){En(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await oO(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hu(this.auth.app))return Promise.reject(_v(this.auth));const t=await this.getIdToken();return await j2(this,klt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:C,providerData:S,stsTokenManager:T}=n;En(w&&T,t,"internal-error");const k=Xw.fromJSON(this.name,T);En(typeof w=="string",t,"internal-error"),t0(d,t.name),t0(f,t.name),En(typeof E=="boolean",t,"internal-error"),En(typeof C=="boolean",t,"internal-error"),t0(h,t.name),t0(p,t.name),t0(m,t.name),t0(g,t.name),t0(v,t.name),t0(y,t.name);const I=new ud({uid:w,auth:t,email:f,emailVerified:E,displayName:d,isAnonymous:C,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:k,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(I.providerData=S.map(R=>Object.assign({},R))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(t,n,r=!1){const i=new Xw;i.updateFromServerResponse(n);const s=new ud({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await oO(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];En(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tEe(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Xw;a.updateFromIdToken(r);const l=new ud({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Nz(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zoe=new Map;function Tp(e){em(e instanceof Function,"Expected a class definition");let t=Zoe.get(e);return t?(em(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zoe.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nEe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nEe.type="NONE";const eae=nEe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(e,t,n){return`firebase:${e}:${t}:${n}`}class Qw{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=rD(this.userKey,i.apiKey,s),this.fullPersistenceKey=rD("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sO(this.auth,{idToken:t}).catch(()=>{});return n?ud._fromGetAccountInfoResponse(this.auth,n,t):null}return ud._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Qw(Tp(eae),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Tp(eae);const o=rD(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let d;if(typeof c=="string"){const f=await sO(t,{idToken:c}).catch(()=>{});if(!f)break;d=await ud._fromGetAccountInfoResponse(t,f,c)}else d=ud._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Qw(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Qw(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tae(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oEe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rEe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lEe(t))return"Blackberry";if(uEe(t))return"Webos";if(iEe(t))return"Safari";if((t.includes("chrome/")||sEe(t))&&!t.includes("edge/"))return"Chrome";if(aEe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rEe(e=Qa()){return/firefox\//i.test(e)}function iEe(e=Qa()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sEe(e=Qa()){return/crios\//i.test(e)}function oEe(e=Qa()){return/iemobile/i.test(e)}function aEe(e=Qa()){return/android/i.test(e)}function lEe(e=Qa()){return/blackberry/i.test(e)}function uEe(e=Qa()){return/webos/i.test(e)}function xY(e=Qa()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function $lt(e=Qa()){var t;return xY(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Mlt(){return Qot()&&document.documentMode===10}function cEe(e=Qa()){return xY(e)||aEe(e)||uEe(e)||lEe(e)||/windows phone/i.test(e)||oEe(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dEe(e,t=[]){let n;switch(e){case"Browser":n=tae(Qa());break;case"Worker":n=`${tae(Qa())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${P1}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Flt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Llt(e,t={}){return V_(e,"GET","/v2/passwordPolicy",bY(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jlt=6;class Blt{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:jlt,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zlt{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nae(this),this.idTokenSubscription=new nae(this),this.beforeStateQueue=new Flt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q_e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Tp(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Qw.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sO(this,{idToken:t}),r=await ud._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Hu(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return En(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await oO(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xlt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Hu(this.app))return Promise.reject(_v(this));const n=t?Rg(t):null;return n&&En(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&En(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Hu(this.app)?Promise.reject(_v(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Hu(this.app)?Promise.reject(_v(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tp(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Llt(this),n=new Blt(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new H_("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nlt(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Tp(t)||this._popupRedirectResolver;En(n,this,"argument-error"),this.redirectPersistenceManager=await Qw.create(this,[Tp(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(En(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return En(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dEe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if(Hu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&ylt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function L$(e){return Rg(e)}class nae{constructor(t){this.auth=t,this.observer=null,this.addObserver=rat(n=>this.observer=n)}get next(){return En(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _Y={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ult(e){_Y=e}function qlt(e){return _Y.loadJS(e)}function Hlt(){return _Y.gapiScript}function Vlt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wlt(e,t){const n=G_e(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Dx(s,t??{}))return i;dh(i,"already-initialized")}return n.initialize({options:t})}function Glt(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tp);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Ylt(e,t,n){const r=L$(e);En(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=fEe(t),{host:o,port:a}=Klt(t),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){En(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),En(Dx(u,r.config.emulator)&&Dx(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,M$(o)?(qot(`${s}//${o}${l}`),Wot("Auth",!0)):Xlt()}function fEe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Klt(e){const t=fEe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rae(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:rae(o)}}}function rae(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Xlt(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hEe{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Sp("not implemented")}_getIdTokenResponse(t){return Sp("not implemented")}_linkToIdToken(t,n){return Sp("not implemented")}_getReauthenticationResolver(t){return Sp("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(e,t){return Slt(e,"POST","/v1/accounts:signInWithIdp",bY(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qlt="http://localhost";class Bv extends hEe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Bv(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):dh("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=$T(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bv(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Jw(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Jw(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Jw(t,n)}buildRequest(){const t={requestUri:Qlt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=lk(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck extends EY{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends ck{constructor(){super("facebook.com")}static credential(t){return Bv._fromParams({providerId:_0.PROVIDER_ID,signInMethod:_0.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _0.credentialFromTaggedObject(t)}static credentialFromError(t){return _0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _0.credential(t.oauthAccessToken)}catch{return null}}}_0.FACEBOOK_SIGN_IN_METHOD="facebook.com";_0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends ck{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Bv._fromParams({providerId:xp.PROVIDER_ID,signInMethod:xp.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return xp.credentialFromTaggedObject(t)}static credentialFromError(t){return xp.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return xp.credential(n,r)}catch{return null}}}xp.GOOGLE_SIGN_IN_METHOD="google.com";xp.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends ck{constructor(){super("github.com")}static credential(t){return Bv._fromParams({providerId:E0.PROVIDER_ID,signInMethod:E0.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return E0.credentialFromTaggedObject(t)}static credentialFromError(t){return E0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return E0.credential(t.oauthAccessToken)}catch{return null}}}E0.GITHUB_SIGN_IN_METHOD="github.com";E0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends ck{constructor(){super("twitter.com")}static credential(t,n){return Bv._fromParams({providerId:C0.PROVIDER_ID,signInMethod:C0.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return C0.credentialFromTaggedObject(t)}static credentialFromError(t){return C0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return C0.credential(n,r)}catch{return null}}}C0.TWITTER_SIGN_IN_METHOD="twitter.com";C0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await ud._fromIdTokenResponse(t,r,i),o=iae(r);return new Px({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=iae(r);return new Px({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function iae(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO extends Rh{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,aO.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new aO(t,n,r,i)}}function pEe(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?aO._fromErrorAndOperation(e,s,t,r):s})}async function Jlt(e,t,n=!1){const r=await j2(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Px._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zlt(e,t,n=!1){const{auth:r}=e;if(Hu(r.app))return Promise.reject(_v(r));const i="reauthenticate";try{const s=await j2(e,pEe(r,i,t,e),n);En(s.idToken,r,"internal-error");const o=wY(s.idToken);En(o,r,"internal-error");const{sub:a}=o;return En(e.uid===a,r,"user-mismatch"),Px._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&dh(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eut(e,t,n=!1){if(Hu(e.app))return Promise.reject(_v(e));const r="signIn",i=await pEe(e,r,t),s=await Px._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function tut(e,t,n,r){return Rg(e).onIdTokenChanged(t,n,r)}function nut(e,t,n){return Rg(e).beforeAuthStateChanged(t,n)}function rut(e,t,n,r){return Rg(e).onAuthStateChanged(t,n,r)}function iut(e){return Rg(e).signOut()}const lO="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mEe{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lO,"1"),this.storage.removeItem(lO),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sut=1e3,out=10;class gEe extends mEe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cEe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Mlt()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,out):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},sut)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}gEe.type="LOCAL";const aut=gEe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yEe extends mEe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yEe.type="SESSION";const vEe=yEe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lut(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new j$(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await lut(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}j$.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uut{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=CY("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){return window}function cut(e){Qf().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bEe(){return typeof Qf().WorkerGlobalScope<"u"&&typeof Qf().importScripts=="function"}async function dut(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fut(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function hut(){return bEe()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wEe="firebaseLocalStorageDb",put=1,uO="firebaseLocalStorage",xEe="fbase_key";class dk{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function B$(e,t){return e.transaction([uO],t?"readwrite":"readonly").objectStore(uO)}function mut(){const e=indexedDB.deleteDatabase(wEe);return new dk(e).toPromise()}function $z(){const e=indexedDB.open(wEe,put);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(uO,{keyPath:xEe})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(uO)?t(r):(r.close(),await mut(),t(await $z()))})})}async function sae(e,t,n){const r=B$(e,!0).put({[xEe]:t,value:n});return new dk(r).toPromise()}async function gut(e,t){const n=B$(e,!1).get(t),r=await new dk(n).toPromise();return r===void 0?null:r.value}function oae(e,t){const n=B$(e,!0).delete(t);return new dk(n).toPromise()}const yut=800,vut=3;class _Ee{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $z(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>vut)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bEe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=j$._getInstance(hut()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await dut(),!this.activeServiceWorker)return;this.sender=new uut(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fut()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $z();return await sae(t,lO,"1"),await oae(t,lO),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sae(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>gut(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>oae(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=B$(i,!1).getAll();return new dk(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yut)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_Ee.type="LOCAL";const but=_Ee;new uk(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EEe(e,t){return t?Tp(t):(En(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY extends hEe{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Jw(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Jw(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Jw(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function wut(e){return eut(e.auth,new SY(e),e.bypassAuthState)}function xut(e){const{auth:t,user:n}=e;return En(n,t,"internal-error"),Zlt(n,new SY(e),e.bypassAuthState)}async function _ut(e){const{auth:t,user:n}=e;return En(n,t,"internal-error"),Jlt(n,new SY(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CEe{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return wut;case"linkViaPopup":case"linkViaRedirect":return _ut;case"reauthViaPopup":case"reauthViaRedirect":return xut;default:dh(this.auth,"internal-error")}}resolve(t){em(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){em(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eut=new uk(2e3,1e4);async function Cut(e,t,n){if(Hu(e.app))return Promise.reject(bd(e,"operation-not-supported-in-this-environment"));const r=L$(e);vlt(e,t,EY);const i=EEe(r,n);return new cv(r,"signInViaPopup",t,i).executeNotNull()}class cv extends CEe{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,cv.currentPopupAction&&cv.currentPopupAction.cancel(),cv.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return En(t,this.auth,"internal-error"),t}async onExecution(){em(this.filter.length===1,"Popup operations only handle one event");const t=CY();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bd(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(bd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cv.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bd(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Eut.get())};t()}}cv.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sut="pendingRedirect",iD=new Map;class Tut extends CEe{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=iD.get(this.auth._key());if(!t){try{const r=await kut(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}iD.set(this.auth._key(),t)}return this.bypassAuthState||iD.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kut(e,t){const n=Rut(t),r=Iut(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Aut(e,t){iD.set(e._key(),t)}function Iut(e){return Tp(e._redirectPersistence)}function Rut(e){return rD(Sut,e.config.apiKey,e.name)}async function Dut(e,t,n=!1){if(Hu(e.app))return Promise.reject(_v(e));const r=L$(e),i=EEe(r,t),o=await new Tut(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Put=600*1e3;class Out{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nut(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!SEe(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bd(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Put&&this.cachedEventUids.clear(),this.cachedEventUids.has(aae(t))}saveEventToCache(t){this.cachedEventUids.add(aae(t)),this.lastProcessedEventTime=Date.now()}}function aae(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function SEe({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Nut(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SEe(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ut(e,t={}){return V_(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mut=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fut=/^https?/;async function Lut(e){if(e.config.emulator)return;const{authorizedDomains:t}=await $ut(e);for(const n of t)try{if(jut(n))return}catch{}dh(e,"unauthorized-domain")}function jut(e){const t=Oz(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Fut.test(n))return!1;if(Mut.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const But=new uk(3e4,6e4);function lae(){const e=Qf().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function zut(e){return new Promise((t,n)=>{var r,i,s;function o(){lae(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lae(),n(bd(e,"network-request-failed"))},timeout:But.get()})}if(!((i=(r=Qf().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Qf().gapi)===null||s===void 0)&&s.load)o();else{const a=Vlt("iframefcb");return Qf()[a]=()=>{gapi.load?o():n(bd(e,"network-request-failed"))},qlt(`${Hlt()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw sD=null,t})}let sD=null;function Uut(e){return sD=sD||zut(e),sD}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qut=new uk(5e3,15e3),Hut="__/auth/iframe",Vut="emulator/auth/iframe",Wut={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gut=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yut(e){const t=e.config;En(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vY(t,Vut):`https://${e.config.authDomain}/${Hut}`,r={apiKey:t.apiKey,appName:e.name,v:P1},i=Gut.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${lk(r).slice(1)}`}async function Kut(e){const t=await Uut(e),n=Qf().gapi;return En(n,e,"internal-error"),t.open({where:document.body,url:Yut(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wut,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=bd(e,"network-request-failed"),a=Qf().setTimeout(()=>{s(o)},qut.get());function l(){Qf().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xut={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qut=500,Jut=600,Zut="_blank",ect="http://localhost";class uae{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tct(e,t,n,r=Qut,i=Jut){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Xut),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Qa().toLowerCase();n&&(a=sEe(u)?Zut:n),rEe(u)&&(t=t||ect,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if($lt(u)&&a!=="_self")return nct(t||"",a),new uae(null);const d=window.open(t||"",a,c);En(d,e,"popup-blocked");try{d.focus()}catch{}return new uae(d)}function nct(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rct="__/auth/handler",ict="emulator/auth/handler",sct=encodeURIComponent("fac");async function cae(e,t,n,r,i,s){En(e.config.authDomain,e,"auth-domain-config-required"),En(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:P1,eventId:i};if(t instanceof EY){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",nat(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof ck){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${sct}=${encodeURIComponent(l)}`:"";return`${oct(e)}?${lk(a).slice(1)}${u}`}function oct({config:e}){return e.emulator?vY(e,ict):`https://${e.authDomain}/${rct}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="webStorageSupport";class act{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vEe,this._completeRedirectFn=Dut,this._overrideRedirectResult=Aut}async _openPopup(t,n,r,i){var s;em((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await cae(t,n,r,Oz(),i);return tct(t,o,CY())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await cae(t,n,r,Oz(),i);return cut(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(em(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Kut(t),r=new Out(t);return n.register("authEvent",i=>(En(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(IL,{type:IL},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[IL];o!==void 0&&n(!!o),dh(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lut(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return cEe()||iEe()||xY()}}const TEe=act;var dae="@firebase/auth",fae="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lct{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){En(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uct(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cct(e){Zp(new ch("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;En(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dEe(e)},u=new zlt(r,i,s,l);return Glt(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Zp(new ch("auth-internal",t=>{const n=L$(t.getProvider("auth").getImmediate());return(r=>new lct(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vd(dae,fae,uct(e)),vd(dae,fae,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dct=300,fct=q_e("authIdTokenMaxAge")||dct;let hae=null;const hct=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fct)return;const i=n==null?void 0:n.token;hae!==i&&(hae=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Mz(e=slt()){const t=G_e(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Wlt(e,{popupRedirectResolver:TEe,persistence:[but,aut,vEe]}),r=q_e("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=hct(s.toString());nut(n,o,()=>o(n.currentUser)),tut(n,a=>o(a))}}const i=Uot("auth");return i&&Ylt(n,`http://${i}`),n}function pct(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Ult({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=bd("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pct().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cct("Browser");async function Fz(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function jI(e){const t=e;return typeof t=="object"&&t&&t.participantId!==void 0}function zu(e){return!!e&&e.isCloudEngine()}const kEe=D.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),W_=()=>D.useContext(kEe);function mct({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{name:"fakeName",email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,s]=D.useState(t),[o,a]=D.useState(!1),{storageEngine:l}=Qi(),u=async()=>{const h=Mz();try{await iut(h)}catch(p){console.error(`There was an issue signing-out the user: ${p.message}`)}finally{s(n)}},c=()=>{a(!0)},d=async h=>l&&zu(l)?await l.validateUser(h,!0):!1;D.useEffect(()=>{s(t);let h;if(l&&zu(l))try{h=Mz()}catch{console.warn("No firebase store.")}const p=async v=>{if(s(y=>({user:y.user,isAdmin:y.isAdmin,determiningStatus:!0,adminVerification:!1})),v){const y={user:v,determiningStatus:!1,isAdmin:!1,adminVerification:!0},w=await d(y);y.isAdmin=!!w,s(y)}else u()},g=(async()=>{if(l&&zu(l)){const v=await(l==null?void 0:l.getUserManagementData("authentication"));if(v!=null&&v.isEnabled){const y=rut(h,async w=>await p(w));return()=>y()}s(r)}else l&&s(r);return()=>{}})();return()=>{g.then(v=>v())}},[l,o]);const f=D.useMemo(()=>({user:i,triggerAuth:c,logout:u,verifyAdminStatus:d}),[i]);return x.jsx(kEe.Provider,{value:f,children:i.determiningStatus?x.jsx(rc,{visible:!0}):e})}function gct({configName:e,config:t,url:n}){const{storageEngine:r}=Qi(),[i,s]=D.useState(null);D.useEffect(()=>{r&&r.getParticipantsStatusCounts(e).then(d=>{s(d)})},[e,r]);const{minTime:o,maxTime:a}=D.useMemo(()=>{if(!i)return{minTime:null,maxTime:null};if(!i.minTime||!i.maxTime)return{minTime:null,maxTime:null};const d=typeof i.minTime=="number"?new Date(i.minTime):i.minTime.toDate(),f=typeof i.maxTime=="number"?new Date(i.maxTime):i.maxTime.toDate();return{minTime:d.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),maxTime:f.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})}},[i]),[l,u]=D.useState(null);D.useEffect(()=>{r&&r.getModes(e).then(d=>{u(d)})},[e,r]);const c=D.useMemo(()=>l?l.dataCollectionEnabled?i&&(i.inProgress>0||i.completed>0)?"Collecting Data":"Ready to Collect Data":"Data Collection Disabled":"Unknown",[l,i]);return x.jsx(Tg,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,children:t.errors.length>0?x.jsxs(x.Fragment,{children:[x.jsx(Ue,{fw:"bold",children:e}),x.jsxs(Rt,{align:"center",direction:"row",children:[x.jsx(Lp,{color:"red"}),x.jsx(Ue,{fw:"bold",ml:8,color:"red",children:"Errors"})]}),x.jsx(tD,{issues:t.errors,type:"error"}),t.warnings.length>0&&x.jsxs(x.Fragment,{children:[x.jsxs(Rt,{align:"center",direction:"row",children:[x.jsx(Lp,{color:"orange"}),x.jsx(Ue,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),x.jsx(tD,{issues:t.warnings,type:"warning"})]})]}):x.jsxs(x.Fragment,{children:[x.jsx(Rt,{direction:"row",justify:"space-between",children:x.jsx(Ue,{fw:"bold",children:t.studyMetadata.title})}),x.jsxs(Ue,{c:"dimmed",children:[x.jsx(Ue,{span:!0,fw:500,children:"Authors: "}),t.studyMetadata.authors.join(", ")]}),x.jsx(Ue,{c:"dimmed",children:t.studyMetadata.description}),x.jsx(Ue,{c:"dimmed",ta:"right",style:{paddingRight:5},children:x.jsxs(C1,{target:"_blank",onClick:d=>d.stopPropagation(),href:`undefined${n}`,children:["View source:"," ",n,x.jsx(yKe,{style:{width:Be(18),height:Be(18),marginLeft:Be(2),marginBottom:Be(-3)}})]})}),t.warnings.length>0&&x.jsxs(x.Fragment,{children:[x.jsxs(Rt,{align:"center",direction:"row",children:[x.jsx(Lp,{color:"orange"}),x.jsx(Ue,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),x.jsx(tD,{issues:t.warnings,type:"warning"})]}),x.jsx(I_,{my:"md"}),x.jsxs(Rt,{direction:"row",gap:"sm",children:[x.jsxs(Ue,{fw:"bold",size:"sm",opacity:.7,children:["Study Status:"," ",c]}),i&&x.jsx(Oot,{completed:i.completed,inProgress:i.inProgress,rejected:i.rejected}),x.jsxs(Rt,{ml:"auto",gap:"sm",opacity:.7,children:[l!=null&&l.studyNavigatorEnabled?x.jsx(Ut,{label:"Study navigator enabled",withinPortal:!0,children:x.jsx(jwe,{size:16,color:"green"})}):x.jsx(Ut,{label:"Study navigator disabled",withinPortal:!0,children:x.jsx(uXe,{size:16,color:"red"})}),l!=null&&l.analyticsInterfacePubliclyAccessible?x.jsx(Ut,{label:"Analytics interface publicly accessible",withinPortal:!0,children:x.jsx(Mwe,{size:16,color:"green"})}):x.jsx(Ut,{label:"Analytics interface not publicly accessible",withinPortal:!0,children:x.jsx($we,{size:16,color:"red"})}),(r==null?void 0:r.getEngine())==="localStorage"?x.jsx(Ut,{label:"Local storage enabled",withinPortal:!0,children:x.jsx(Dwe,{size:16,color:"green"})}):x.jsx(Ut,{label:"Firebase enabled",withinPortal:!0,children:x.jsx(Nwe,{size:16,color:"green"})})]})]}),o&&a&&x.jsxs(Ue,{c:"dimmed",mt:4,children:["Activity:"," ",o," ",""," ",a]}),x.jsxs(Rt,{direction:"row",align:"end",gap:"sm",mt:"md",children:[x.jsx(Wt,{leftSection:x.jsx(Iwe,{}),style:{marginLeft:"auto"},variant:"default",component:"a",href:`${as}analysis/stats/${n}`,children:"Analyze & Manage Study"}),x.jsx(Wt,{leftSection:x.jsx(Fwe,{}),component:"a",href:`${as}${n}`,children:"Go to Study"})]})]})},e)}function Hb({configNames:e,studyConfigs:t}){return e.map(n=>{const r=t[n];if(!r)return null;const i=Hwe(n);return x.jsx(gct,{configName:n,config:r,url:i},n)})}function yct({globalConfig:e,studyConfigs:t}){const{storageEngine:n}=Qi(),{configsList:r}=e,[i,s]=D.useState({});D.useEffect(()=>{async function v(){const y={};await Promise.all(r.map(async w=>{if(n&&zu(n)){const E=await n.getModes(w);y[w]=E.analyticsInterfacePubliclyAccessible}})),s(y)}v()},[r,n]);const{user:o}=W_(),a=D.useMemo(()=>r.filter(v=>i[v]||o.isAdmin),[r,i,o]),l=D.useMemo(()=>a.filter(v=>v.startsWith("demo-")),[a]),u=D.useMemo(()=>a.filter(v=>v.startsWith("tutorial")),[a]),c=D.useMemo(()=>a.filter(v=>v.startsWith("example-")),[a]),d=D.useMemo(()=>a.filter(v=>v.startsWith("test-")),[a]),f=D.useMemo(()=>a.filter(v=>v.startsWith("library-")),[a]),h=D.useMemo(()=>a.filter(v=>!v.startsWith("demo-")&&!v.startsWith("tutorial")&&!v.startsWith("example-")&&!v.startsWith("test-")&&!v.startsWith("library-")),[a]),[p]=kh(),m=D.useMemo(()=>p.get("tab")||(h.length>0?"Others":"Demos"),[h.length,p]),g=Ea();return x.jsx(Qr.Main,{children:x.jsxs(kg,{size:"sm",px:0,children:[x.jsx(Th,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${as}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),x.jsxs(ir,{variant:"outline",defaultValue:h.length>0?"Others":"Demos",value:m,onChange:v=>g(`/?tab=${v}`),children:[x.jsxs(ir.List,{children:[h.length>0&&x.jsx(ir.Tab,{value:"Others",children:"Your Studies"}),x.jsx(ir.Tab,{value:"Demos",children:"Demo Studies"}),x.jsx(ir.Tab,{value:"Examples",children:"Example Studies"}),x.jsx(ir.Tab,{value:"Tutorials",children:"Tutorials"}),x.jsx(ir.Tab,{value:"Tests",children:"Tests"}),x.jsx(ir.Tab,{value:"Libraries",children:"Libraries"})]}),h.length>0&&x.jsx(ir.Panel,{value:"Others",children:x.jsx(Hb,{configNames:h,studyConfigs:t})}),x.jsxs(ir.Panel,{value:"Demos",children:[x.jsx(Ue,{c:"dimmed",mt:"sm",children:"These studies show off individual features of the reVISit platform."}),x.jsx(Hb,{configNames:l,studyConfigs:t})]}),x.jsxs(ir.Panel,{value:"Examples",children:[x.jsx(Ue,{c:"dimmed",mt:"sm",children:"These are full studies that demonstrate the capabilities of the reVISit platform."}),x.jsx(Hb,{configNames:c,studyConfigs:t})]}),x.jsxs(ir.Panel,{value:"Tutorials",children:[x.jsx(Ue,{c:"dimmed",mt:"sm",children:"These studies are designed to help you learn how to use the reVISit platform."}),x.jsx(Hb,{configNames:u,studyConfigs:t})]}),x.jsxs(ir.Panel,{value:"Tests",children:[x.jsx(Ue,{c:"dimmed",mt:"sm",children:"These studies exist for testing purposes."}),x.jsx(Hb,{configNames:d,studyConfigs:t})]}),x.jsxs(ir.Panel,{value:"Libraries",children:[x.jsx(Ue,{c:"dimmed",mt:"sm",children:"Here you can see an example of every library that we publish."}),x.jsx(Hb,{configNames:f,studyConfigs:t})]})]})]})})}var RL={exports:{}},DL={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pae;function vct(){if(pae)return DL;pae=1;var e=SN();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return DL.useSyncExternalStoreWithSelector=function(l,u,c,d,f){var h=i(null);if(h.current===null){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=o(function(){function g(C){if(!v){if(v=!0,y=C,C=d(C),f!==void 0&&p.hasValue){var S=p.value;if(f(S,C))return w=S}return w=C}if(S=w,n(y,C))return S;var T=d(C);return f!==void 0&&f(S,T)?(y=C,S):(y=C,w=T)}var v=!1,y,w,E=c===void 0?null:c;return[function(){return g(u())},E===null?void 0:function(){return g(E())}]},[u,c,d,f]);var m=r(l,h[0],h[1]);return s(function(){p.hasValue=!0,p.value=m},[m]),a(m),m},DL}var mae;function bct(){return mae||(mae=1,RL.exports=vct()),RL.exports}var wct=bct();function xct(e){e()}function _ct(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xct(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var gae={notify(){},get:()=>[]};function Ect(e,t){let n,r=gae,i=0,s=!1;function o(m){c();const g=r.subscribe(m);let v=!1;return()=>{v||(v=!0,g(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function c(){i++,n||(n=e.subscribe(l),r=_ct())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=gae)}function f(){s||(s=!0,c())}function h(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}var Cct=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sct=Cct(),Tct=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kct=Tct(),Act=()=>Sct||kct?D.useLayoutEffect:D.useEffect,Ict=Act(),PL=Symbol.for("react-redux-context"),OL=typeof globalThis<"u"?globalThis:{};function Rct(){if(!D.createContext)return{};const e=OL[PL]??(OL[PL]=new Map);let t=e.get(D.createContext);return t||(t=D.createContext(null),e.set(D.createContext,t)),t}var eg=Rct();function Dct(e){const{children:t,context:n,serverState:r,store:i}=e,s=D.useMemo(()=>{const l=Ect(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=D.useMemo(()=>i.getState(),[i]);Ict(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||eg;return D.createElement(a.Provider,{value:s},t)}var Pct=Dct;function TY(e=eg){return function(){return D.useContext(e)}}var AEe=TY();function IEe(e=eg){const t=e===eg?AEe:TY(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Oct=IEe();function Nct(e=eg){const t=e===eg?Oct:IEe(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var REe=Nct(),$ct=(e,t)=>e===t;function Mct(e=eg){const t=e===eg?AEe:TY(e),n=(r,i={})=>{const{equalityFn:s=$ct}=typeof i=="function"?{equalityFn:i}:i,o=t(),{store:a,subscription:l,getServerState:u}=o;D.useRef(!0);const c=D.useCallback({[r.name](f){return r(f)}}[r.name],[r]),d=wct.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,c,s);return D.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var Fct=Mct();const Lct="/revisit/assets/VLAT1-vnvZ7yRm.png",DEe=Object.freeze(Object.defineProperty({__proto__:null,default:Lct},Symbol.toStringTag,{value:"Module"})),jct="/revisit/assets/VLAT10-BMGl61Mu.png",PEe=Object.freeze(Object.defineProperty({__proto__:null,default:jct},Symbol.toStringTag,{value:"Module"})),Bct="/revisit/assets/VLAT11-Bxb0LCYD.png",OEe=Object.freeze(Object.defineProperty({__proto__:null,default:Bct},Symbol.toStringTag,{value:"Module"})),zct="/revisit/assets/VLAT12-Ch9t16aS.png",NEe=Object.freeze(Object.defineProperty({__proto__:null,default:zct},Symbol.toStringTag,{value:"Module"})),Uct="/revisit/assets/VLAT2-Ck6767Xc.png",$Ee=Object.freeze(Object.defineProperty({__proto__:null,default:Uct},Symbol.toStringTag,{value:"Module"})),qct="/revisit/assets/VLAT3-Cwe4YjoY.png",MEe=Object.freeze(Object.defineProperty({__proto__:null,default:qct},Symbol.toStringTag,{value:"Module"})),Hct="/revisit/assets/VLAT4-CZ1oExNp.png",FEe=Object.freeze(Object.defineProperty({__proto__:null,default:Hct},Symbol.toStringTag,{value:"Module"})),Vct="/revisit/assets/VLAT5-C6h4Z1Dz.png",LEe=Object.freeze(Object.defineProperty({__proto__:null,default:Vct},Symbol.toStringTag,{value:"Module"})),Wct="/revisit/assets/VLAT6-BSRlVaih.png",jEe=Object.freeze(Object.defineProperty({__proto__:null,default:Wct},Symbol.toStringTag,{value:"Module"})),Gct="/revisit/assets/VLAT7-BF4fuAsD.png",BEe=Object.freeze(Object.defineProperty({__proto__:null,default:Gct},Symbol.toStringTag,{value:"Module"})),Yct="/revisit/assets/VLAT8-Cf_OYzE7.png",zEe=Object.freeze(Object.defineProperty({__proto__:null,default:Yct},Symbol.toStringTag,{value:"Module"})),Kct="/revisit/assets/VLAT9-CkTk-Ex0.png",UEe=Object.freeze(Object.defineProperty({__proto__:null,default:Kct},Symbol.toStringTag,{value:"Module"})),z$=[{question:"What was the price of a barrel of oil in February 2015?",img:"VLAT1",name:"0",options:["$57.36","$47.82","$50.24","$39.72","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"line",originID:1,task:"Retrieve Value",CVR:1,P:.95,D:.07},{question:"In which month was the price of a barrel of oil the lowest in 2015?",img:"VLAT1",name:"1",options:["March","May","July","December","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"line",originID:2,task:"Find Extremum",CVR:1,P:.97,D:.06},{question:"What was the price range of a barrel of oil in 2015?",img:"VLAT1",name:"2",options:["$35 - $65","$48.36 - $60.95","$37.04 - $48.36","$37.04 - $60.95","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"line",originID:3,task:"Determine Range",CVR:1,P:.56,D:.66},{question:"Over the course of the second half of 2015, the price of a barrel of oil was",img:"VLAT1",name:"3",options:["Rising","Falling","Staying","Skip"],trueAnswer:1,answer:"",required:!0,chartType:"line",originID:4,task:"Find Correlations/Trends",CVR:1,P:.98,D:.03},{question:"About how much did the price of a barrel of oil fall from April to September in 2015?",img:"VLAT1",name:"4",options:["$4","$15","$17","$45","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"line",originID:5,task:"Make Comparisons",CVR:.2,P:.77,D:.44},{question:"What is the average internet speed in Japan?",img:"VLAT2",name:"5",options:["10 Mbps","14 Mbps","15 Mbps","16 Mbps","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:6,task:"Retrieve Value",CVR:1,P:.88,D:.21},{question:"In which country is the average internet speed the fastest in Asia?",img:"VLAT2",name:"6",options:["China","Hong Kong","South Korea","Vietnam","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:7,task:"Find Extremum",CVR:1,P:.98,D:.05},{question:"What is the range of the average internet speed in Asia?",img:"VLAT2",name:"7",options:["0 - 22 Mbps"," 2 - 20.5 Mbps","3 - 20 Mbps","3.4 - 7.8 Mbps","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bar",originID:8,task:"Determine Range",CVR:.6,P:.54,D:.61},{question:"How many countries in Asia have an average internet speed that is slower than that of Thailand?",img:"VLAT2",name:"8",options:["5 Countries"," 6 Countries","7 Countries","8 Countries","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:9,task:"Make Comparisons",CVR:.2,P:.4,D:.23},{question:"What is the cost of peanuts in Las Vegas?",img:"VLAT3",name:"9",options:["$12"," $16.7","$23.4","$35.4","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackbar",originID:10,task:"Retrieve Value (Absolute Value)",CVR:.2,P:.38,D:.66},{question:"About what is the ratio of the cost of a sandwich to the total cost of room service in Seattle?",img:"VLAT3",name:"10",options:["1 to 10","2 to 10","4 to 10","6 to 10","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackbar",originID:11,task:"Retrieve Value (Relative Value)",CVR:.2,P:.36,D:.48},{question:"In which city is the cost of soda the highest?",img:"VLAT3",name:"11",options:["New York City","Las Vegas","Atlanta","Washington D.C.","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"stackbar",originID:12,task:"Find Extremum",CVR:.2,P:.69,D:.45},{question:"The cost of vodka in Atlanta is higher than that of Honolulu.",img:"VLAT3",name:"13",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackbar",originID:14,task:"Make Comparisons (Absolute Value)",CVR:.2,P:.59,D:.52},{question:"The ratio of the cost of Soda to the cost of Water in Orlando is higher than in that of Washington D.C.",img:"VLAT3",name:"14",options:["True","False","Skip"],trueAnswer:1,answer:"",required:!0,chartType:"stackbar",originID:15,task:"Make Comparisons (Relative Value)",CVR:.2,P:.47,D:.32},{question:"What is the approval rating of Republicans among the people who have the education level of Postgraduate Study?",img:"VLAT4",name:"15",options:["38%","47%","53%","62%","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"100% stackbar",originID:16,task:"Retrieve Value (Relative Value)",CVR:1,P:.49,D:.57},{question:"What is the education level of people in which the Democrats have the lowest approval rating?",img:"VLAT4",name:"16",options:["High School Graduate or Less","Some College Degree","College Graduate","Postgraduate study","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"100% stackbar",originID:17,task:"Find Extremum (Relative Value)",CVR:.6,P:.9,D:.21},{question:"The approval rating of Republicans for the people who have the education level of Some College Degree is lower than that for the people who have the education level of Postgraduate Study.",img:"VLAT4",name:"17",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"100% stackbar",originID:18,task:"Make Comparisons (Relative Value)",CVR:1,P:.54,D:.54},{question:"About what is the global smartphone market share of Samsung?",img:"VLAT5",name:"18",options:["15%","25%","33%","50%","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"pie",originID:19,task:"Retrieve Value (Relative Value)",CVR:.6,P:.72,D:.34},{question:"In which company is the global smartphone market share the smallest?",img:"VLAT5",name:"19",options:["Apple","Xiaomi","Lenovo","Others","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"pie",originID:20,task:"Find Extremum (Relative Value)",CVR:.6,P:.98,D:.03},{question:"The global smartphone market share of Apple is larger than that of Huawei.",img:"VLAT5",name:"20",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"pie",originID:21,task:"Make Comparisons (Relative Value)",CVR:.6,P:1,D:0},{question:"How many people have rated the taxi between 4.0 and 4.2?",img:"VLAT6",name:"21",options:["145","153","200","240","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"histogram",originID:22,task:"Retrieve Value (Derived Value)",CVR:1,P:.84,D:.26},{question:"What is the rating that the people have rated the taxi the most?",img:"VLAT6",name:"22",options:["4.2-4.4","4.4-4.6","4.6-4.8","4.8-5.0","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"histogram",originID:23,task:"Find Extremum (Derived Value)",CVR:1,P:.94,D:.06},{question:"More people have rated the taxi between 4.6 and 4.8 than between 4.2 and 4.4.",img:"VLAT6",name:"24",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"histogram",originID:25,task:"Make Comparisons (Derived Value)",CVR:1,P:.86,D:.18},{question:"What is the weight for the person who is 165.1 cm tall?",img:"VLAT7",name:"26",options:["53.9kg","67.7kg","70.5kg","82.7kg","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"scatterplot",originID:27,task:"Retrieve Value",CVR:1,P:.85,D:.27},{question:"What is the height for the tallest person among the 85 males?",img:"VLAT7",name:"27",options:["175.3cm","192cm","197.1cm","200cm","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"scatterplot",originID:28,task:"Find Extremum",CVR:1,P:.76,D:.39},{question:"What is the range in weight for the 85 males?",img:"VLAT7",name:"28",options:["40 - 130kg","62.3 - 90.9kg","53.9 - 102.3kg","53.9 - 123.6kg","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"scatterplot",originID:29,task:"Determine Range",CVR:.6,P:.53,D:.49},{question:"What is the height for a person who lies outside the others the most?",img:"VLAT7",name:"30",options:["167.4cm","175.3cm","193cm","197.1cm","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:31,task:"Find Anomalies",CVR:.6,P:.42,D:.29},{question:"A group of males are gathered around the height of 176 cm and the weight of 70 kg.",img:"VLAT7",name:"31",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"scatterplot",originID:32,task:"Find Clusters",CVR:.2,P:.9,D:.23},{question:"There is a negative linear relationship between the height and the weight of the 85 males.",img:"VLAT7",name:"32",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:33,task:"Find Correlations/Trends",CVR:1,P:.52,D:.66},{question:"The weights for males with the height of 188 cm are all the same.",img:"VLAT7",name:"33",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:34,task:"Make Comparisons",CVR:.6,P:.79,D:.2},{question:"What was the average price of a pound of coffee beans in September 2013?",img:"VLAT8",name:"34",options:["$4.9","$5.0","$5.1","$5.2","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"area",originID:35,task:"Retrieve Value",CVR:1,P:.75,D:.34},{question:"When was the average price of a pound of coffee beans at minimum?",img:"VLAT8",name:"35",options:["April 2013","September 2013","June 2014","December 2014","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"area",originID:36,task:"Find Extremum",CVR:1,P:.44,D:.33},{question:"What was the range of the average price of a pound of coffee beans between January 2013 and December 2014?",img:"VLAT8",name:"36",options:["$4.4 - $6.2","$4.6 - $5.9","$4.6 - $6.0","$4.6 - $6.1","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"area",originID:37,task:"Determine Range",CVR:.6,P:.38,D:.31},{question:"Over the course of 2013, the average price of a pound of coffee beans was",img:"VLAT8",name:"37",options:["Rising","Falling","Staying","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"area",originID:38,task:"Find Correlations/Trends",CVR:1,P:.94,D:.14},{question:"What was the number of girls named 'Amelia' in 2010 in the UK?",img:"VLAT9",name:"39",options:["1500","3800","4200","8000","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackarea",originID:40,task:"Retrieve Value (Absolute Value)",CVR:.2,P:.15,D:.29},{question:"About what was the ratio of the number of girls named 'Olivia' to those named 'Isla' in 2014 in the UK?",img:"VLAT9",name:"40",options:["1 to 1","1 to 2","1 to 3","1 to 4","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackarea",originID:41,task:"Retrieve Value (Relative Value)",CVR:.6,P:.25,D:.29},{question:"Over the course of years between 2009 and 2014, when was the number of girls named 'Amelia' at the maximum?",img:"VLAT9",name:"41",options:["2009","2011","2012","2014","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackarea",originID:42,task:"Find Extremum",CVR:.6,P:.97,D:.04},{question:"The number of girls named 'Isla' was __________ from 2009 to 2012.",img:"VLAT9",name:"43",options:["Rising","Falling","Staying","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackarea",originID:44,task:"Find Correlations/Trends",CVR:1,P:.96,D:.09},{question:"In the UK, the number of girls named 'Amelia' in 2014 was more than it was in 2013.",img:"VLAT9",name:"44",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"stackarea",originID:45,task:"Make Comparisons (Absolute Value)",CVR:.6,P:.2,D:.17},{question:"Over the course of years between 2009 and 2014, the number of girls named 'Isla' was always more than 'Olivia'.",img:"VLAT9",name:"45",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"stackarea",originID:46,task:"Make Comparisons (Relative Value)",CVR:.2,P:.24,D:.2},{question:"What is the total length of the metro system in Beijing?",img:"VLAT10",name:"47",options:["330km","400km","530km","560km","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bubble",originID:47,task:"Retrieve Value",CVR:1,P:.41,D:.46},{question:"Which city's metro system has the largest number of stations?",img:"VLAT10",name:"48",options:["Seoul","Beijing","New York City","Shanghai","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bubble",originID:48,task:"Find Extremum",CVR:1,P:.69,D:.41},{question:"What is the range of the total length of the metro systems?",img:"VLAT10",name:"49",options:["150 - 600 km","240 - 380 km","240 - 560 km","180 - 560 km","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"bubble",originID:49,task:"Determine Range",CVR:.6,P:.29,D:.46},{question:"Which city's metro system does lie outside the relationship between the total system length and the number of stations most?",img:"VLAT10",name:"51",options:["Tokyo","New York City","Beijing","London","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:51,task:"Find Anomalies",CVR:.2,P:.53,D:.32},{question:"A group of the metro systems of the world has approximately 300 stations and around a 200 km system length.",img:"VLAT10",name:"52",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:52,task:"Find Clusters",CVR:.2,P:.59,D:.5},{question:"In general, the ridership of the metro system increases as the number of stations increases.",img:"VLAT10",name:"53",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:53,task:"Find Correlations/Trends",CVR:.2,P:.26,D:.09},{question:"The metro system in Shanghai has more ridership than the metro system in Beijing.",img:"VLAT10",name:"54",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:54,task:"Make Comparisons",CVR:1,P:.8,D:.33},{question:"What was the unemployment rate for Indiana (IN) in 2015?",img:"VLAT11",name:"55",options:["1.1 - 2.3%","2.3 - 3.4%","3.4 - 4.6%","4.6 - 5.7%","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"map",originID:55,task:"Retrieve Value (Approximate Value)",CVR:.6,P:.24,D:.01},{question:"In which state was the unemployment rate the highest in 2015?",img:"VLAT11",name:"56",options:["Alaska (AK)","New Mexico (NM)","Florida (FL)","New York (NY)","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"map",originID:56,task:"Find Extremum (Approximate Value)",CVR:.6,P:.97,D:.06},{question:"In 2015, the unemployment rate for Washington (WA) was higher than that of Wisconsin (WI).",img:"VLAT11",name:"57",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"map",originID:57,task:"Make Comparisons (Approximate Value)",CVR:.6,P:.92,D:.15},{question:"For which website was the number of unique visitors the largest in 2010?",img:"VLAT12",name:"58",options:["Facebook","Amazon","Bing","Google","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"treemap",originID:59,task:"Find Extremum (Relative Value)",CVR:.6,P:.68,D:.37},{question:"The number of unique visitors for Amazon was more than that of Yahoo in 2010.",img:"VLAT12",name:"59",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"treemap",originID:60,task:"Make Comparisons (Relative Value)",CVR:.2,P:.42,D:.38},{question:"Samsung is nested in the Financial category.",img:"VLAT12",name:"60",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"treemap",originID:61,task:"Identify the Hierarchical Structure",CVR:1,P:.92,D:.13}],qEe=Object.freeze(Object.defineProperty({__proto__:null,VLATQuestions:z$},Symbol.toStringTag,{value:"Module"}));function HEe({activeQuestionIdx:e,userAnswer:t,correctAnswer:n}){var o;const r=z$.filter(a=>a.originID===e)[0],i=Object.assign({"../../libraries/adaptive-vlat/assets/vlatImg/VLAT1.png":DEe,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT10.png":PEe,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT11.png":OEe,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT12.png":NEe,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT2.png":$Ee,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT3.png":MEe,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT4.png":FEe,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT5.png":LEe,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT6.png":jEe,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT7.png":BEe,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT8.png":zEe,"../../libraries/adaptive-vlat/assets/vlatImg/VLAT9.png":UEe}),s={};for(const a in i)if(a){const l=((o=a.split("/").pop())==null?void 0:o.replace(".png",""))||"",u=i[a];s[l]=u.default}return x.jsxs(_e,{children:[x.jsxs(js,{children:[x.jsx(js.Col,{span:8,children:x.jsx(Th,{radius:"sm",src:s[r.img],alt:"VIS",w:"100%",maw:900})}),x.jsx(js.Col,{span:4,children:x.jsx(zo.Group,{name:"question",label:r.question,value:`${t}`,size:"md",children:x.jsx(Mi,{mt:20,children:r.options.map((a,l)=>x.jsx(zo,{disabled:!0,value:`${String.fromCharCode(65+l)}`,label:`${String.fromCharCode(65+l)}. ${a}`},`op${l}`))})})})]}),x.jsx(Ga,{children:n===t?x.jsxs(Br,{order:3,c:"green.5",children:["Your answer is:"," "," "," ",t,x.jsx("br",{})," "," ","Great job!"]}):x.jsxs(Br,{order:3,c:"red.5",children:["Your answer is:"," "," "," ",t,x.jsx("br",{}),"The correct answer is:"," "," ",n]})})]})}const VEe=Object.freeze(Object.defineProperty({__proto__:null,default:HEe},Symbol.toStringTag,{value:"Module"}));function Xct({answers:e}){const t="vlatResp",n=Object.entries(e).filter(([u,c])=>u.startsWith("dynamicBlock")).filter(([u,c])=>c.endTime>-1),[r,i]=D.useState(0),s=+n[n.length-1][1].answer.score;let o=0;const a=u=>{i(u)},l=n.map(u=>{const c=u[1].answer[t],d=u[1].correctAnswer[0].answer,f=u[1].parameters.activeQuestionIdx,h=c===d;return h&&(o+=1),{activeQidx:f,ans:c,correctAns:d,correct:h}});return x.jsxs(js,{maw:1800,children:[x.jsxs(js.Col,{span:{base:12,md:12,lg:4},children:[x.jsx(Br,{order:2,ml:-50,children:x.jsxs(Ga,{children:["Your score is"," ",+s.toFixed(2)]})}),x.jsxs(Tg,{children:[x.jsx(Ga,{children:x.jsxs(Br,{order:4,mb:20,children:["You got"," ",o," ","correct out of"," ",n.length," ","questions.",x.jsx("br",{}),x.jsx(Ue,{c:"grey",children:"(Click each circle to check the question and your answer)"})]})}),x.jsx(_i,{children:l.map((u,c)=>x.jsx(KN,{style:{cursor:"pointer"},color:u.correct?"green":"red",onClick:()=>a(c),children:c===r&&x.jsx(xKe,{size:12})},`circle${c}`))}),x.jsx(Ga,{children:x.jsx(Ue,{w:"80%",mt:20,size:"sm",c:"grey",children:"*This score is based on an adaptive testing methodology and cannot be mapped to 0-1 or 0-100. Instead, it can be used to compare runs between yourself or with other peoples scores."})})]})]}),x.jsx(js.Col,{span:{base:12,md:12,lg:8},children:x.jsx(_e,{w:1e3,children:x.jsx(HEe,{activeQuestionIdx:l[r].activeQidx,userAnswer:l[r].ans,correctAnswer:l[r].correctAns})})})]})}const WEe=Object.freeze(Object.defineProperty({__proto__:null,default:Xct},Symbol.toStringTag,{value:"Module"}));function Qct({parameters:e,setAnswer:t,answers:n}){var h,p,m;const r="vlatResp",i=`dynamicBlock_1_VlatTrial_${e.qidx}`,s=(p=(h=n[i])==null?void 0:h.answer)==null?void 0:p[r],[o,a]=D.useState(s||""),[l,u]=D.useState(!1);D.useEffect(()=>{var v;const g=Object.keys(((v=n[i])==null?void 0:v.incorrectAnswers)||{}).length>0;u(g)},[n,i]),D.useEffect(()=>{t({status:!0,answers:{[r]:o,score:e.score}})},[o,e.score,t]);const c=z$.filter(g=>g.originID===e.activeQuestionIdx)[0],d=Object.assign({"./vlatImg/VLAT1.png":DEe,"./vlatImg/VLAT10.png":PEe,"./vlatImg/VLAT11.png":OEe,"./vlatImg/VLAT12.png":NEe,"./vlatImg/VLAT2.png":$Ee,"./vlatImg/VLAT3.png":MEe,"./vlatImg/VLAT4.png":FEe,"./vlatImg/VLAT5.png":LEe,"./vlatImg/VLAT6.png":jEe,"./vlatImg/VLAT7.png":BEe,"./vlatImg/VLAT8.png":zEe,"./vlatImg/VLAT9.png":UEe}),f={};if(!c)return x.jsx(_e,{children:"Loading question..."});for(const g in d)if(g){const v=((m=g.split("/").pop())==null?void 0:m.replace(".png",""))||"",y=d[g];f[v]=y.default}return x.jsx(_e,{children:x.jsxs(js,{children:[x.jsx(js.Col,{span:8,children:x.jsx(Th,{radius:"sm",src:f[c.img]||"",alt:"VIS",w:"100%",maw:900})}),x.jsx(js.Col,{span:4,pt:20,children:x.jsx(zo.Group,{name:"question",label:c.question,value:`${o}`,size:"md",children:x.jsx(Mi,{mt:30,children:c.options.map((g,v)=>x.jsx(zo,{disabled:s!==void 0&&s!==""||l,value:`${String.fromCharCode(65+v)}`,label:`${String.fromCharCode(65+v)}. ${g}`,onClick:()=>a(String.fromCharCode(65+v))},`op${v}`))})})})]})})}const GEe=Object.freeze(Object.defineProperty({__proto__:null,default:Qct},Symbol.toStringTag,{value:"Module"}));function Jct(e,t,n){const r=Math.sqrt(2*Math.PI);return e.map(i=>{const s=-((i-t)**2)/(2*n**2);return 1/(r*n)*Math.exp(s)})}function kY(e,t,n){return 1/(1+Math.exp(-e*(n+t)))}function Zct(e,t,n){return 1-kY(e,t,n)}function edt(e,t,n){const r=kY(e,t,n);return e**2*r*(1-r)}function tdt(e){const t={},n=new Set;for(const[r,i,s,o,a]of e)t[r]=[i,s,o,a],n.add(o),n.add(a);return[t,n]}function ndt(e,t,n){const r=(t-e)/(n-1);return Array.from({length:n},(i,s)=>e+s*r)}function rdt(e){const t=[[1,2.8483115,1.27221185,"Line","RV"],[2,3.040871,1.499349129,"Line","FE"],[3,.25584395,1.374537045,"Line","DR"],[4,3.4258115,1.468088919,"Line","FCT"],[5,1.3189766,1.137137131,"Line","MC"],[6,2.2163635,1.087065104,"Bar","RV"],[7,3.3441315,1.370983684,"Bar","FE"],[8,.1907385,1.072558537,"Bar","DR"],[9,-.766119,.565435838,"Bar","MC"],[10,-.483896,1.308078217,"Stacked","RV"],[11,-.878004,.748876272,"Stacked","RV"],[12,1.011948,.892274374,"Stacked","FE"],[14,.498654,.864483077,"Stacked","MC"],[15,-.2163795,.63115109,"Stacked","MC"],[16,-.021748,1.061661146,"100%","RV"],[17,2.1735685,1.260906618,"100%","FE"],[18,.1964695,1.006552927,"100%","MC"],[19,1.1781005,.952170323,"Pie","RV"],[20,3.4990835,1.266495326,"Pie","FE"],[21,4.577599,1.955349598,"Pie","MC"],[22,1.8068275,1.103396903,"Histogram","RV"],[23,2.825006,1.162700946,"Histogram","FE"],[25,2.1723395,.945254699,"Histogram","MC"],[27,1.85473395,1.128140859,"Scatterplot","RV"],[28,1.226966,1.183203925,"Scatterplot","FE"],[29,.184373,.910403565,"Scatterplot","DR"],[31,-.568358,.598194995,"Scatterplot","FA"],[32,2.1477415,1.293432284,"Scatterplot","FC"],[33,.093807,1.159459154,"Scatterplot","FCT"],[34,1.818106,.805688047,"Scatterplot","MC"],[35,1.3666385,.964108248,"Area","RV"],[36,-.4578085,.596634966,"Area","FE"],[37,-.945452,.576156905,"Area","DR"],[38,2.5183945,1.352297435,"Area","FCT"],[40,-2.567331,.727247878,"Stacked Area","RV"],[41,-1.6333105,.721289353,"Stacked Area","RV"],[42,3.0243125,1.39970206,"Stacked Area","FE"],[44,2.808996,1.391714903,"Stacked Area","FCT"],[45,-2.898462,.485882721,"Stacked Area","MC"],[46,-2.1752885,.564928587,"Stacked Area","MC"],[47,-.5241995,.741666943,"Bubble","RV"],[48,1.0380654,.89755236,"Bubble","FE"],[49,-1.1506875,.851390316,"Bubble","DR"],[51,.210506,.576817469,"Bubble","FA"],[52,.455853,.993160348,"Bubble","FC"],[53,-2.5113305,.431845454,"Bubble","FCT"],[54,1.4998025,1.154025598,"Bubble","MC"],[55,-3.2260095,.367490725,"Map","RV"],[56,3.1477645,1.401881342,"Map","FE"],[57,2.6187185,1.101469613,"Map","MC"],[59,.9082805,.949041643,"Tree","FE"],[60,-.5345505,.671887408,"Tree","MC"],[61,2.5394745,1.109762274,"Tree","ID"]],[n,r]=tdt(t),i=new Set,s=[[2.98530963],[2.26547287],[.47080041],[.96055864],[.97129651],[.85147839],[.49167494],[.32598163],[.23617328],[.75140709],[.4379747],[.89021346],[1.95678745],[.46671114],[.43121635],[.48382087],[.7061291],[.25740084],[.57526741],[.41269657],[.44926689],[.34097188],[.6853534],[2.06499294],[.35356854],[.5014103],[.60471721],[.35648783],[.55006742],[.7328309],[.58740872],[.07316467],[.37773089],[.25774662],[1.67778516],[.37425087],[.00468991],[.09117124],[-.072024],[.27787841],[.50850991],[.26712845],[.23313045],[.17836876],[-.06713018],[2.52157004],[.2163555],[.19764337],[.16053735],[.01037715],[.49067257],[.37890493],[.14471502],[-.15786205],[.37664253],[-.12646154],[1.48456846],[.11995221],[.45500459],[.06510908],[.30381369],[.23628236],[-.0132403],[.12346196],[-.16156058],[-.11441727],[-.09874702],[2.06170801],[.03819284],[-.33842136],[-.299268],[-.18361791],[-.27032307],[-.36719226],[-.63351759],[-.13235381],[-.32526859],[-.75094893],[2.00068807],[-.21555599],[-.29719866],[-.73570516],[-.96429984],[-.62994905],[-.5959251],[-.75414598],[-.91139529],[-.23647941],[-1.15477916],[2.13079529],[-1.19334718],[-1.17815316],[-.3703066],[-.86774687],[-.62753559],[-1.24836742],[-.73756034],[-.57090316],[-1.36838053],[-1.10974556],[1.79120327],[-.99938515],[-1.8725358],[2.81432538],[1.95511785],[1.82598207],[1.91495919],[1.64615882],[1.73761896],[1.74653664],[1.51736399],[1.48752685],[1.97221306],[1.19522668],[2.34740724],[1.54242075],[1.95637583],[1.65824094],[1.68725777],[1.97725808],[1.58887618],[1.51179316],[1.44743075],[1.63524539],[1.34980521],[2.94575102],[1.50590524],[1.58325844],[1.33751502],[.97699839],[1.17390674],[1.45071628],[.89705259],[1.26159178],[1.28050271],[1.2415599],[2.4859962],[1.52956813],[.9266179],[1.55897714],[1.66185973],[1.39525797],[1.02554983],[1.56911437],[1.08589595],[1.2344817],[1.0596063],[2.3289334],[.9177088],[.91794547],[1.03755144],[1.35990785],[1.13449186],[.97657427],[.61813711],[.94747231],[.83248912],[1.15351712],[2.19894252],[1.29781779],[1.0320319],[.95034002],[1.17618522],[.97588753],[.87400339],[1.08163796],[.94947705],[1.11457895],[.63173389],[2.29482725],[.90212167],[.87044902],[.22467558],[.79733281],[.31442579],[.38325478],[.70994584],[1.06667696],[.89253087],[.34143484],[2.14695731],[.84056897],[.88750332],[1.08639498],[.88874537],[.7858341],[.7279417],[.12745017],[.29013591],[.4602226],[.74735825]],o=s.reduce((g,v)=>g+v[0],0)/s.length,a=s.reduce((g,v)=>g+(v[0]-o)**2,0)/s.length,l=Math.sqrt(a),u=ndt(-5,5,200);let c=Jct(u,o,l),d=o;if(Object.keys(e).length>0){for(const[g,v]of Object.entries(e)){const y=parseInt(g,10),[w,E,C,S]=n[y];r.delete(C),r.delete(S),i.add(`${C}::${S}`);const T=u.map(O=>v===0?Zct(E,w,O):kY(E,w,O)),k=c.map((O,M)=>O*T[M]),I=k.reduce((O,M)=>O+M,0);c=k.map(O=>O/I)}d=u.reduce((g,v,y)=>g+v*c[y],0)}const f={},h=27-Object.keys(e).length,p=(g,v)=>i.has(`${g}::${v}`);for(const[g,v]of Object.entries(n)){const y=parseInt(g,10),[w,E,C,S]=v,T=r.has(C)||r.has(S);Object.hasOwn(e,y)||(r.size===0||h>r.size&&!p(C,S)||h<=r.size&&T)&&(f[y]=edt(E,w,d))}const m=Object.entries(f).reduce((g,v)=>v[1]>g[1]?v:g)[0];return[parseInt(m,10),d]}function YEe(e,t){const n={};for(let s=0;s<e.length;s+=1)n[parseInt(e[s],10)]=t[s];const[r,i]=rdt(n);return[r,i]}const KEe=Object.freeze(Object.defineProperty({__proto__:null,getVLATnextqid:YEe},Symbol.toStringTag,{value:"Module"}));function idt({answers:e,currentStep:t,currentBlock:n}){const r="vlatResp",i=Object.entries(e).filter(([c,d])=>c.startsWith(`${n}_${t}`)&&d.endTime>-1),s=[],o=[];i.forEach(c=>{const d=c[1].parameters.activeQuestionIdx,f=c[1].answer[r]===c[1].correctAnswer[0].answer;s.push(d),o.push(f?1:0)});const[a,l]=YEe(s,o),u=+z$.filter(c=>c.originID===a)[0].trueAnswer;return i.length===27?{component:null}:{component:"$adaptive-vlat.components.VlatTrial",parameters:{activeQuestionIdx:a,qidx:s.length,score:l},correctAnswer:[{id:r,answer:String.fromCharCode(65+u)}]}}const XEe=Object.freeze(Object.defineProperty({__proto__:null,default:idt},Symbol.toStringTag,{value:"Module"}));function sdt({answers:e,currentStep:t,currentBlock:n}){var i,s,o,a,l,u;const r=Object.entries(e).filter(([c,d])=>c.startsWith(`${n}_${t}`)&&d.endTime>-1);return r.length===0?{component:"$berlin-num.components.q1-choir-probability"}:r.length===1?{component:((s=(i=r[0][1])==null?void 0:i.answer)==null?void 0:s["q1-choir-probability"])===25?"$berlin-num.components.q2b-loaded-dice":"$berlin-num.components.q2a-dice-odd-numbers"}:r.length===2&&((a=(o=r[0][1])==null?void 0:o.answer)==null?void 0:a["q1-choir-probability"])===25?{component:((u=(l=r[1][1])==null?void 0:l.answer)==null?void 0:u["q2b-loaded-dice"])===20?null:"$berlin-num.components.q3-poisonous-mushrooms"}:{component:null}}const QEe=Object.freeze(Object.defineProperty({__proto__:null,default:sdt},Symbol.toStringTag,{value:"Module"})),odt=D.createContext(null);function Oo(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n((function(d){d(c)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}let fk=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach((r=>r(...n)))}};const BI={decode:function(e,t){return Oo(this,void 0,void 0,(function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally((()=>n.close()))}))},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),(function(n){const r=n[0];if(r.some((i=>i>1||i<-1))){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}})(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function JEe(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children"&&i)for(const[s,o]of Object.entries(i))o instanceof Node?n.appendChild(o):typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(JEe(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function yae(e,t,n){const r=JEe(e,t||{});return n==null||n.appendChild(r),r}var adt=Object.freeze({__proto__:null,createElement:yae,default:yae});const ldt={fetchBlob:function(e,t,n){return Oo(this,void 0,void 0,(function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return(function(i,s){Oo(this,void 0,void 0,(function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let l=0;const u=d=>Oo(this,void 0,void 0,(function*(){l+=(d==null?void 0:d.length)||0;const f=Math.round(l/a*100);s(f)})),c=()=>Oo(this,void 0,void 0,(function*(){let d;try{d=yield o.read()}catch{return}d.done||(u(d.value),yield c())}));c()}))})(r.clone(),t),r.blob()}))}};let udt=class extends fk{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)}),{once:!0})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){const r=this.getSrc();if(t&&r===t)return;this.revokeSrc();const i=n instanceof Blob&&(this.canPlayType(n.type)||!t)?URL.createObjectURL(n):t;if(r&&this.media.removeAttribute("src"),i||t)try{this.media.src=i}catch{this.media.src=t}}destroy(){this.isExternalMedia||(this.media.pause(),this.media.remove(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load())}setMediaElement(t){this.media=t}play(){return Oo(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(t){if(t instanceof DOMException&&t.name==="AbortError")return;throw t}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=Math.max(0,Math.min(t,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}},Lz=class jz extends fk{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=n=>{const r=this.wrapper.getBoundingClientRect(),i=n.clientX-r.left,s=n.clientY-r.top;return[i/r.width,s/r.height]};if(this.wrapper.addEventListener("click",(n=>{const[r,i]=t(n);this.emit("click",r,i)})),this.wrapper.addEventListener("dblclick",(n=>{const[r,i]=t(n);this.emit("dblclick",r,i)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",(()=>{const{scrollLeft:n,scrollWidth:r,clientWidth:i}=this.scrollContainer,s=n/r,o=(n+i)/r;this.emit("scroll",s,o,n,n+i)})),typeof ResizeObserver=="function"){const n=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{n().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push((function(t,n,r,i,s=3,o=0,a=100){if(!t)return()=>{};const l=matchMedia("(pointer: coarse)").matches;let u=()=>{};const c=d=>{if(d.button!==o)return;d.preventDefault(),d.stopPropagation();let f=d.clientX,h=d.clientY,p=!1;const m=Date.now(),g=C=>{if(C.preventDefault(),C.stopPropagation(),l&&Date.now()-m<a)return;const S=C.clientX,T=C.clientY,k=S-f,I=T-h;if(p||Math.abs(k)>s||Math.abs(I)>s){const R=t.getBoundingClientRect(),{left:O,top:M}=R;p||(r==null||r(f-O,h-M),p=!0),n(k,I,S-O,T-M),f=S,h=T}},v=C=>{if(p){const S=C.clientX,T=C.clientY,k=t.getBoundingClientRect(),{left:I,top:R}=k;i==null||i(S-I,T-R)}u()},y=C=>{C.relatedTarget&&C.relatedTarget!==document.documentElement||v(C)},w=C=>{p&&(C.stopPropagation(),C.preventDefault())},E=C=>{p&&C.preventDefault()};document.addEventListener("pointermove",g),document.addEventListener("pointerup",v),document.addEventListener("pointerout",y),document.addEventListener("pointercancel",y),document.addEventListener("touchmove",E,{passive:!1}),document.addEventListener("click",w,{capture:!0}),u=()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",v),document.removeEventListener("pointerout",y),document.removeEventListener("pointercancel",y),document.removeEventListener("touchmove",E),setTimeout((()=>{document.removeEventListener("click",w,{capture:!0})}),10)}};return t.addEventListener("pointerdown",c),()=>{u(),t.removeEventListener("pointerdown",c)}})(this.wrapper,((t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))}),(t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}),(t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))})))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;if(t==null)return 128;if(!isNaN(Number(t)))return Number(t);if(t==="auto"){const s=this.parent.clientHeight||128;return n!=null&&n.every((o=>!o.overlay))?s/i:s}return 128}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),r=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${r?` nonce="${r}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t,n;this.subscriptions.forEach((r=>r())),this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(n=this.unsubscribeOnScroll)===null||n===void 0||n.forEach((r=>r())),this.unsubscribeOnScroll=[]}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise(((s,o)=>{i(),r=o,n=setTimeout((()=>{n=void 0,r=void 0,s()}),t)}))}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach(((a,l)=>{const u=l*o;s.addColorStop(u,a)})),s}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:l,height:u}=r.canvas,c=u/2,d=this.getPixelRatio(),f=n.barWidth?n.barWidth*d:1,h=n.barGap?n.barGap*d:n.barWidth?f/2:0,p=n.barRadius||0,m=l/(f+h)/a,g=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let v=0,y=0,w=0;for(let E=0;E<=a;E++){const C=Math.round(E*m);if(C>v){const k=Math.round(y*c*i),I=k+Math.round(w*c*i)||1;let R=c-k;n.barAlign==="top"?R=0:n.barAlign==="bottom"&&(R=u-I),r[g](v*(f+h),R,f,I,p),v=C,y=0,w=0}const S=Math.abs(s[E]||0),T=Math.abs(o[E]||0);S>y&&(y=S),T>w&&(w=T)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],l=a.length,{height:u}=r.canvas,c=u/2,d=r.canvas.width/l;r.moveTo(0,c);let f=0,h=0;for(let p=0;p<=l;p++){const m=Math.round(p*d);if(m>f){const v=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(f,v),f=m,h=0}const g=Math.abs(a[p]||0);g>h&&(h=g)}r.lineTo(f,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce(((o,a)=>Math.max(o,Math.abs(a))),0);i=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a){const l=this.getPixelRatio(),u=document.createElement("canvas");u.width=Math.round(r*l),u.height=Math.round(i*l),u.style.width=`${r}px`,u.style.height=`${i}px`,u.style.left=`${Math.round(s)}px`,o.appendChild(u);const c=u.getContext("2d");if(this.renderWaveform(t,n,c),u.width>0&&u.height>0){const d=u.cloneNode(),f=d.getContext("2d");f.drawImage(u,0,0),f.globalCompositeOperation="source-in",f.fillStyle=this.convertColorValues(n.progressColor),f.fillRect(0,0,u.width,u.height),a.appendChild(d)}}renderMultiCanvas(t,n,r,i,s,o){const a=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,u=r/a;let c=Math.min(jz.MAX_CANVAS_WIDTH,l,u),d={};if(n.barWidth||n.barGap){const g=n.barWidth||.5,v=g+(n.barGap||g/2);c%v!=0&&(c=Math.floor(c/v)*v)}if(c===0)return;const f=g=>{if(g<0||g>=h||d[g])return;d[g]=!0;const v=g*c;let y=Math.min(u-v,c);if(n.barWidth||n.barGap){const E=n.barWidth||.5,C=E+(n.barGap||E/2);y=Math.floor(y/C)*C}if(y<=0)return;const w=t.map((E=>{const C=Math.floor(v/u*E.length),S=Math.floor((v+y)/u*E.length);return E.slice(C,S)}));this.renderSingleCanvas(w,n,y,i,v,s,o)},h=Math.ceil(u/c);if(!this.isScrollable){for(let g=0;g<h;g++)f(g);return}const p=this.scrollContainer.scrollLeft/u,m=Math.floor(p*h);if(f(m-1),f(m),f(m+1),h>1){const g=this.on("scroll",(()=>{const{scrollLeft:v}=this.scrollContainer,y=Math.floor(v/u*h);Object.keys(d).length>jz.MAX_NODES&&(s.innerHTML="",o.innerHTML="",d={}),f(y-1),f(y),f(y+1)}));this.unsubscribeOnScroll.push(g)}}renderChannel(t,n,r,i){var{overlay:s}=n,o=(function(c,d){var f={};for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&d.indexOf(h)<0&&(f[h]=c[h]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(h=Object.getOwnPropertySymbols(c);p<h.length;p++)d.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(c,h[p])&&(f[h[p]]=c[h[p]])}return f})(n,["overlay"]);const a=document.createElement("div"),l=this.getHeight(o.height,o.splitChannels);a.style.height=`${l}px`,s&&i>0&&(a.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(a);const u=a.cloneNode();this.progressWrapper.appendChild(u),this.renderMultiCanvas(t,o,r,l,a,u)}render(t){return Oo(this,void 0,void 0,(function*(){var n;this.timeouts.forEach((l=>l())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const r=this.getPixelRatio(),i=this.scrollContainer.clientWidth,s=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=s>i;const o=this.options.fillParent&&!this.isScrollable,a=(o?i:s)*r;if(this.wrapper.style.width=o?"100%":`${s}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let l=0;l<t.numberOfChannels;l++){const u=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[l]);this.renderChannel([t.getChannelData(l)],u,a,l)}else{const l=[t.getChannelData(0)];t.numberOfChannels>1&&l.push(t.getChannelData(1)),this.renderChannel(l,this.options,a,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((r=>r())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,l=r+s,u=s/2;if(this.isDragging)o+30>l?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>l)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?u:0));const c=o-r-u;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,d=c/i,f=(c+s)/i;this.emit("scroll",d,f,c,c+s)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0%, 100% 0%, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${t*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return Oo(this,void 0,void 0,(function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map((o=>o.toDataURL(t,n)));return Promise.resolve(s)}return Promise.all(Array.from(i).map((s=>new Promise(((o,a)=>{s.toBlob((l=>{l?o(l):a(new Error("Could not export image"))}),t,n)})))))}))}};Lz.MAX_CANVAS_WIDTH=8e3,Lz.MAX_NODES=10;let cdt=class extends fk{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",(()=>{requestAnimationFrame((()=>{this.emit("tick")}))})),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}},NL=class extends fk{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Oo(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then((n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()})).then((n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n))).then((n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())}))}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;(n>=this.duration||n<0)&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Oo(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){const n=t-this.currentTime,r=this.bufferNode;r==null||r.stop(this.audioContext.currentTime+n),r==null||r.addEventListener("ended",(()=>{r===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(t){return Oo(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}removeAttribute(t){switch(t){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}};const ddt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};let Bz=class ZEe extends udt{static create(t){return new ZEe(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new NL:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},ddt,t),this.timer=new cdt;const r=n?void 0:this.getMediaElement();this.renderer=new Lz(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:s,duration:o}=this.options;(i||s&&o)&&this.load(i,s,o).catch((()=>null))}))}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t),this.stopAtPosition!=null&&this.isPlaying()&&t>=this.stopAtPosition&&this.pause()}})))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const t=this.updateProgress();this.emit("timeupdate",t)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var t;this.emit("error",(t=this.getMediaElement().error)!==null&&t!==void 0?t:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))})),this.renderer.on("dblclick",((t,n)=>{this.emit("dblclick",t,n)})),this.renderer.on("scroll",((t,n,r,i)=>{const s=this.getDuration();this.emit("scroll",t*s,n*s,r,i)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(t=>{this.emit("dragstart",t)})),this.renderer.on("dragend",(t=>{this.emit("dragend",t)})));{let t;this.subscriptions.push(this.renderer.on("drag",(n=>{if(!this.options.interact)return;let r;this.renderer.renderProgress(n),clearTimeout(t),this.isPlaying()?r=0:this.options.dragToSeek===!0?r=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(r=this.options.dragToSeek.debounceTime),t=setTimeout((()=>{this.seekTo(n)}),r),this.emit("interaction",n*this.getDuration()),this.emit("drag",n)})))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach((n=>{this.registerPlugin(n)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((t=>t())),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=BI.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=BI.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){if(this.plugins.includes(t))return t;t._init(this),this.plugins.push(t);const n=t.once("destroy",(()=>{this.plugins=this.plugins.filter((r=>r!==t)),this.subscriptions=this.subscriptions.filter((r=>r!==n))}));return this.subscriptions.push(n),t}unregisterPlugin(t){this.plugins=this.plugins.filter((n=>n!==t)),t.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return Oo(this,void 0,void 0,(function*(){var s;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,!n&&!r){const a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=(s=this.abortController)===null||s===void 0?void 0:s.signal);const l=c=>this.emit("loading",c);n=yield ldt.fetchBlob(t,l,a);const u=this.options.blobMimeType;u&&(n=new Blob([n],{type:u}))}this.setSrc(t,n);const o=yield new Promise((a=>{const l=i||this.getDuration();l?a(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>a(this.getDuration())),{once:!0}))}));if(!t&&!n){const a=this.getMediaElement();a instanceof NL&&(a.duration=o)}if(r)this.decodedData=BI.createBuffer(r,o||0);else if(n){const a=yield n.arrayBuffer();this.decodedData=yield BI.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(t,n,r){return Oo(this,void 0,void 0,(function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}}))}loadBlob(t,n,r){return Oo(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",t,n,r)}catch(i){throw this.emit("error",i),i}}))}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),l=[],u=a.length/n;for(let c=0;c<n;c++){const d=a.slice(Math.floor(c*u),Math.ceil((c+1)*u));let f=0;for(let h=0;h<d.length;h++){const p=d[h];Math.abs(p)>Math.abs(f)&&(f=p)}l.push(Math.round(f*r)/r)}s.push(l)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){this.stopAtPosition=null,super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}play(t,n){const r=Object.create(null,{play:{get:()=>super.play}});return Oo(this,void 0,void 0,(function*(){t!=null&&this.setTime(t);const i=yield r.play.call(this);return n!=null&&(this.media instanceof NL?this.media.stopAt(n):this.stopAtPosition=n),i}))}playPause(){return Oo(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return Oo(this,arguments,void 0,(function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)}))}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach((n=>n.destroy())),this.subscriptions.forEach((n=>n())),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}};Bz.BasePlugin=class extends fk{constructor(e){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=e}onInit(){}_init(e){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},Bz.dom=adt;function fdt(e){return Bz.create(e)}function hdt(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const vae=e=>e.reduce((t,n)=>(t[n[0]]=n[1],t),{}),pdt=(e,t)=>{const n=Object.entries(e),r=Object.entries(t),i=n.filter(([o])=>r.findIndex(([a])=>a===o)===-1),s=r.filter(([o])=>n.findIndex(([a])=>a===o)===-1);return{disabled:vae(i),enabled:vae(s)}};function bae(e,t){const n={},r=[...t];for(;r.length>=1;){const i=r.shift();!!e[i.key]?n[i.key]=e[i.key]:n[i.key]=hdt(i)}return n}function mdt({container:e,plugins:t=[],onMount:n,...r}){const i=D.useRef(!1),[s,o]=D.useState({}),a=D.useRef([]),[l,u]=D.useState(null);return D.useEffect(()=>{if(!e)return;const c=e;if(i.current)return;i.current=!0;const d=bae(s,t);a.current=Object.keys(d);const f=fdt({container:e,...r,plugins:Object.values(d)});return n==null||n(f),o(d),u(f),()=>{c!==e&&f.destroy()}},[e]),D.useEffect(()=>{if(l){const c=bae(s,t),{disabled:d,enabled:f}=pdt(s,c);Object.keys(d).forEach(h=>{d[h].destroy()}),Object.keys(f).forEach(h=>{a.current.includes(h)||(console.log("register plugin",h,f[h]),l==null||l.registerPlugin(f[h]))}),a.current=Object.keys(f),o(c)}},[t]),[l,s,Object.values(s)]}function eCe({children:e,plugins:t=[],onMount:n,...r}){const i=mdt({plugins:t,onMount:n,...r});return sr.createElement(odt.Provider,{value:i},e)}const tCe=({id:e="waveform",children:t})=>sr.createElement("div",{id:e},t);function $L(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n((function(d){d(c)}))).then(o,a)}l((r=r.apply(e,[])).next())}))}let nCe=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach((r=>r(...n)))}};class gdt extends nCe{constructor(t){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=t}onInit(){}_init(t){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((t=>t())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}let ydt=class extends nCe{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",(()=>{requestAnimationFrame((()=>{this.emit("tick")}))})),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}};const vdt=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];let bdt=class rCe extends gdt{constructor(t){var n,r,i,s,o,a;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3,scrollingWaveform:(r=t.scrollingWaveform)!==null&&r!==void 0&&r,scrollingWaveformWindow:(i=t.scrollingWaveformWindow)!==null&&i!==void 0?i:5,continuousWaveform:(s=t.continuousWaveform)!==null&&s!==void 0&&s,renderRecordedAudio:(o=t.renderRecordedAudio)===null||o===void 0||o,mediaRecorderTimeslice:(a=t.mediaRecorderTimeslice)!==null&&a!==void 0?a:void 0})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new ydt,this.subscriptions.push(this.timer.on("tick",(()=>{const l=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+l,this.emit("record-progress",this.duration)})))}static create(t){return new rCe(t||{})}renderMicStream(t){var n;const r=new AudioContext,i=r.createMediaStreamSource(t),s=r.createAnalyser();i.connect(s),this.options.continuousWaveform&&(s.fftSize=32);const o=s.frequencyBinCount,a=new Float32Array(o);let l=0;this.wavesurfer&&((n=this.originalOptions)!==null&&n!==void 0||(this.originalOptions=Object.assign({},this.wavesurfer.options)),this.wavesurfer.options.interact=!1,this.options.scrollingWaveform&&(this.wavesurfer.options.cursorWidth=0));const u=setInterval((()=>{var c,d,f,h;if(!this.isWaveformPaused){if(s.getFloatTimeDomainData(a),this.options.scrollingWaveform){const p=Math.floor((this.options.scrollingWaveformWindow||0)*r.sampleRate),m=Math.min(p,this.dataWindow?this.dataWindow.length+o:o),g=new Float32Array(p);if(this.dataWindow){const v=Math.max(0,p-this.dataWindow.length);g.set(this.dataWindow.slice(-m+o),v)}g.set(a,p-o),this.dataWindow=g}else if(this.options.continuousWaveform){if(!this.dataWindow){const m=this.options.continuousWaveformDuration?Math.round(100*this.options.continuousWaveformDuration):((d=(c=this.wavesurfer)===null||c===void 0?void 0:c.getWidth())!==null&&d!==void 0?d:0)*window.devicePixelRatio;this.dataWindow=new Float32Array(m)}let p=0;for(let m=0;m<o;m++){const g=Math.abs(a[m]);g>p&&(p=g)}if(l+1>this.dataWindow.length){const m=new Float32Array(2*this.dataWindow.length);m.set(this.dataWindow,0),this.dataWindow=m}this.dataWindow[l]=p,l++}else this.dataWindow=a;if(this.wavesurfer){const p=((h=(f=this.dataWindow)===null||f===void 0?void 0:f.length)!==null&&h!==void 0?h:0)/100;this.wavesurfer.load("",[this.dataWindow],this.options.scrollingWaveform?this.options.scrollingWaveformWindow:p).then((()=>{this.wavesurfer&&this.options.continuousWaveform&&(this.wavesurfer.setTime(this.getDuration()/1e3),this.wavesurfer.options.minPxPerSec||this.wavesurfer.setOptions({minPxPerSec:this.wavesurfer.getWidth()/this.wavesurfer.getDuration()}))})).catch((m=>{console.error("Error rendering real-time recording data:",m)}))}}}),10);return{onDestroy:()=>{clearInterval(u),i==null||i.disconnect(),r==null||r.close()},onEnd:()=>{this.isWaveformPaused=!0,clearInterval(u),this.stopMic()}}}startMic(t){return $L(this,void 0,void 0,(function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:t==null||t})}catch(s){throw new Error("Error accessing the microphone: "+s.message)}const{onDestroy:r,onEnd:i}=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.subscriptions.push(this.once("record-end",i)),this.stream=n,n}))}stopMic(){this.stream&&(this.stream.getTracks().forEach((t=>t.stop())),this.stream=null,this.mediaRecorder=null)}startRecording(t){return $L(this,void 0,void 0,(function*(){const n=this.stream||(yield this.startMic(t));this.dataWindow=null;const r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||vdt.find((o=>MediaRecorder.isTypeSupported(o))),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=o=>{o.data.size>0&&i.push(o.data),this.emit("record-data-available",o.data)};const s=o=>{var a;const l=new Blob(i,{type:r.mimeType});this.emit(o,l),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(l)))};r.onpause=()=>s("record-pause"),r.onstop=()=>s("record-end"),r.start(this.options.mediaRecorderTimeslice),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")}))}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,n;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(n=this.mediaRecorder)===null||n===void 0||n.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return $L(this,void 0,void 0,(function*(){return navigator.mediaDevices.enumerateDevices().then((t=>t.filter((n=>n.kind==="audioinput"))))}))}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.setOptions(this.originalOptions),delete this.originalOptions)}};function iCe({width:e=70,height:t=36}){const n=D.useRef(null),r=D.useRef(null),[i,s]=D.useState(!1);D.useEffect(()=>{if(i&&n.current){const a=n.current.registerPlugin(bdt.create({scrollingWaveform:!0,renderRecordedAudio:!1}));r.current=a,navigator.userAgent.includes("Firefox")||a.startRecording(),n.current.setOptions({height:t,waveColor:"#FA5252"})}return()=>{var a,l;i&&n.current&&((a=r.current)==null||a.stopRecording(),(l=r.current)==null||l.destroy(),n.current.destroy())}},[i]);const o=D.useCallback(a=>{n.current=a,s(!0)},[]);return x.jsx(_e,{id:"waveformDiv",style:{width:`${e}px`,height:`${t}px`},children:x.jsx(eCe,{onMount:o,plugins:[],container:"#waveformDiv",height:t,children:x.jsx(tCe,{id:"waveform",height:t})})})}function wae({setAnswer:e}){return D.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{new MediaRecorder(n).start();const i=new AudioContext,s=i.createMediaStreamSource(n),o=i.createAnalyser();o.minDecibels=-45,s.connect(o);const a=o.frequencyBinCount,l=new Uint8Array(a);let u=!1;const c=()=>{if(!u){o.getByteFrequencyData(l);for(let d=0;d<a;d+=1)l[d]>0&&(u=!0,e({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(c)}};window.requestAnimationFrame(c)})},[e]),x.jsx(Ga,{style:{height:"70%",width:"100%"},children:x.jsxs(Mi,{children:[x.jsx(Ue,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),x.jsx(Ue,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),x.jsx(Ue,{ta:"center",style:{fontWeight:700},children:"If you are not comfortable or able to speak English during this study, please return the study."}),x.jsx(Ga,{children:x.jsx(iCe,{height:200,width:400})})]})})}const sCe=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:wae,default:wae},Symbol.toStringTag,{value:"Module"}));function wdt(){return x.jsx("div",{children:"test react file"})}const oCe=Object.freeze(Object.defineProperty({__proto__:null,default:wdt},Symbol.toStringTag,{value:"Module"}));function nd(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(i){return"'"+i+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function tg(e){return!!e&&!!e[ki]}function tm(e){var t;return!!e&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Idt})(e)||Array.isArray(e)||!!e[kae]||!!(!((t=e.constructor)===null||t===void 0)&&t[kae])||AY(e)||IY(e))}function zv(e,t,n){n===void 0&&(n=!1),G_(e)===0?(n?Object.keys:ex)(e).forEach((function(r){n&&typeof r=="symbol"||t(r,e[r],e)})):e.forEach((function(r,i){return t(i,r,e)}))}function G_(e){var t=e[ki];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:AY(e)?2:IY(e)?3:0}function Zw(e,t){return G_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xdt(e,t){return G_(e)===2?e.get(t):e[t]}function aCe(e,t,n){var r=G_(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function lCe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function AY(e){return kdt&&e instanceof Map}function IY(e){return Adt&&e instanceof Set}function By(e){return e.o||e.t}function RY(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=cCe(e);delete t[ki];for(var n=ex(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function DY(e,t){return t===void 0&&(t=!1),PY(e)||tg(e)||!tm(e)||(G_(e)>1&&(e.set=e.add=e.clear=e.delete=_dt),Object.freeze(e),t&&zv(e,(function(n,r){return DY(r,!0)}),!0)),e}function _dt(){nd(2)}function PY(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Jf(e){var t=Hz[e];return t||nd(18,e),t}function Edt(e,t){Hz[e]||(Hz[e]=t)}function zz(){return B2}function ML(e,t){t&&(Jf("Patches"),e.u=[],e.s=[],e.v=t)}function cO(e){Uz(e),e.p.forEach(Cdt),e.p=null}function Uz(e){e===B2&&(B2=e.l)}function xae(e){return B2={p:[],l:B2,h:e,m:!0,_:0}}function Cdt(e){var t=e[ki];t.i===0||t.i===1?t.j():t.g=!0}function FL(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Jf("ES5").S(t,e,r),r?(n[ki].P&&(cO(t),nd(4)),tm(e)&&(e=dO(t,e),t.l||fO(t,e)),t.u&&Jf("Patches").M(n[ki].t,e,t.u,t.s)):e=dO(t,n,[]),cO(t),t.u&&t.v(t.u,t.s),e!==uCe?e:void 0}function dO(e,t,n){if(PY(t))return t;var r=t[ki];if(!r)return zv(t,(function(a,l){return _ae(e,r,t,a,l,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return fO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=RY(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),zv(s,(function(a,l){return _ae(e,r,i,a,l,n,o)})),fO(e,i,!1),n&&e.u&&Jf("Patches").N(r,n,e.u,e.s)}return r.o}function _ae(e,t,n,r,i,s,o){if(tg(i)){var a=dO(e,i,s&&t&&t.i!==3&&!Zw(t.R,r)?s.concat(r):void 0);if(aCe(n,r,a),!tg(a))return;e.m=!1}else o&&n.add(i);if(tm(i)&&!PY(i)){if(!e.h.D&&e._<1)return;dO(e,i),t&&t.A.l||fO(e,i)}}function fO(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&DY(t,n)}function LL(e,t){var n=e[ki];return(n?By(n):e)[t]}function Eae(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function S0(e){e.P||(e.P=!0,e.l&&S0(e.l))}function jL(e){e.o||(e.o=RY(e.t))}function qz(e,t,n){var r=AY(t)?Jf("MapSet").F(t,n):IY(t)?Jf("MapSet").T(t,n):e.O?(function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:zz(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=z2;o&&(l=[a],u=eS);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f})(t,n):Jf("ES5").J(t,n);return(n?n.A:zz()).p.push(r),r}function Sdt(e){return tg(e)||nd(22,e),(function t(n){if(!tm(n))return n;var r,i=n[ki],s=G_(n);if(i){if(!i.P&&(i.i<4||!Jf("ES5").K(i)))return i.t;i.I=!0,r=Cae(n,s),i.I=!1}else r=Cae(n,s);return zv(r,(function(o,a){i&&xdt(i.t,o)===a||aCe(r,o,t(a))})),s===3?new Set(r):r})(e)}function Cae(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return RY(e)}function Tdt(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[ki];return z2.get(l,s)},set:function(l){var u=this[ki];z2.set(u,s,l)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][ki];if(!a.P)switch(a.i){case 5:r(a)&&S0(a);break;case 4:n(a)&&S0(a)}}}function n(s){for(var o=s.t,a=s.k,l=ex(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==ki){var d=o[c];if(d===void 0&&!Zw(o,c))return!0;var f=a[c],h=f&&f[ki];if(h?h.t!==d:!lCe(f,d))return!0}}var p=!!o[ki];return l.length!==ex(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};Edt("ES5",{J:function(s,o){var a=Array.isArray(s),l=(function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var p=cCe(d);delete p[ki];for(var m=ex(p),g=0;g<m.length;g++){var v=m[g];p[v]=e(v,c||!!p[v].enumerable)}return Object.create(Object.getPrototypeOf(d),p)})(a,s),u={i:a?5:4,A:o?o.A:zz(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,ki,{value:u,writable:!0}),l},S:function(s,o,a){a?tg(o)&&o[ki].A===s&&t(s.p):(s.u&&(function l(u){if(u&&typeof u=="object"){var c=u[ki];if(c){var d=c.t,f=c.k,h=c.R,p=c.i;if(p===4)zv(f,(function(w){w!==ki&&(d[w]!==void 0||Zw(d,w)?h[w]||l(f[w]):(h[w]=!0,S0(c)))})),zv(d,(function(w){f[w]!==void 0||Zw(f,w)||(h[w]=!1,S0(c))}));else if(p===5){if(r(c)&&(S0(c),h.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)h[m]=!1;else for(var g=d.length;g<f.length;g++)h[g]=!0;for(var v=Math.min(f.length,d.length),y=0;y<v;y++)f.hasOwnProperty(y)||(h[y]=!0),h[y]===void 0&&l(f[y])}}}})(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var Sae,B2,OY=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",kdt=typeof Map<"u",Adt=typeof Set<"u",Tae=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",uCe=OY?Symbol.for("immer-nothing"):((Sae={})["immer-nothing"]=!0,Sae),kae=OY?Symbol.for("immer-draftable"):"__$immer_draftable",ki=OY?Symbol.for("immer-state"):"__$immer_state",Idt=""+Object.prototype.constructor,ex=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,cCe=Object.getOwnPropertyDescriptors||function(e){var t={};return ex(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Hz={},z2={get:function(e,t){if(t===ki)return e;var n=By(e);if(!Zw(n,t))return(function(i,s,o){var a,l=Eae(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0})(e,n,t);var r=n[t];return e.I||!tm(r)?r:r===LL(e.t,t)?(jL(e),e.o[t]=qz(e.A.h,r,e)):r},has:function(e,t){return t in By(e)},ownKeys:function(e){return Reflect.ownKeys(By(e))},set:function(e,t,n){var r=Eae(By(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=LL(By(e),t),s=i==null?void 0:i[ki];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(lCe(n,i)&&(n!==void 0||Zw(e.t,t)))return!0;jL(e),S0(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return LL(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,jL(e),S0(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=By(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){nd(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){nd(12)}},eS={};zv(z2,(function(e,t){eS[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),eS.deleteProperty=function(e,t){return eS.set.call(this,e,t,void 0)},eS.set=function(e,t,n){return z2.set.call(this,e[0],t,n,e[0])};var Rdt=(function(){function e(n){var r=this;this.O=Tae,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var v=arguments.length,y=Array(v>1?v-1:0),w=1;w<v;w++)y[w-1]=arguments[w];return l.produce(m,(function(E){var C;return(C=s).call.apply(C,[g,E].concat(y))}))}}var u;if(typeof s!="function"&&nd(6),o!==void 0&&typeof o!="function"&&nd(7),tm(i)){var c=xae(r),d=qz(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?cO(c):Uz(c)}return typeof Promise<"u"&&u instanceof Promise?u.then((function(m){return ML(c,o),FL(m,c)}),(function(m){throw cO(c),m})):(ML(c,o),FL(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===uCe&&(u=void 0),r.D&&DY(u,!0),o){var h=[],p=[];Jf("Patches").M(i,u,h,p),o(h,p)}return u}nd(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,(function(h){return i.apply(void 0,[h].concat(d))}))};var o,a,l=r.produce(i,s,(function(u,c){o=u,a=c}));return typeof Promise<"u"&&l instanceof Promise?l.then((function(u){return[u,o,a]})):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){tm(n)||nd(8),tg(n)&&(n=Sdt(n));var r=xae(this),i=qz(this,n,void 0);return i[ki].C=!0,Uz(r),i},t.finishDraft=function(n,r){var i=n&&n[ki],s=i.A;return ML(s,r),FL(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Tae&&nd(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Jf("Patches").$;return tg(n)?o(n,r):this.produce(n,(function(a){return o(a,r)}))},e})(),hu=new Rdt,dCe=hu.produce;hu.produceWithPatches.bind(hu);hu.setAutoFreeze.bind(hu);hu.setUseProxies.bind(hu);hu.applyPatches.bind(hu);hu.createDraft.bind(hu);hu.finishDraft.bind(hu);function U2(e){"@babel/helpers - typeof";return U2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U2(e)}function Ddt(e,t){if(U2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(U2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pdt(e){var t=Ddt(e,"string");return U2(t)=="symbol"?t:t+""}function Odt(e,t,n){return(t=Pdt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Iae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aae(Object(n),!0).forEach(function(r){Odt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aae(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ia(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Rae=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),BL=function(){return Math.random().toString(36).substring(7).split("").join(".")},hO={INIT:"@@redux/INIT"+BL(),REPLACE:"@@redux/REPLACE"+BL(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+BL()}};function Ndt(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function fCe(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ia(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ia(1));return n(fCe)(e,t)}if(typeof e!="function")throw new Error(ia(2));var i=e,s=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(ia(3));return s}function d(m){if(typeof m!="function")throw new Error(ia(4));if(l)throw new Error(ia(5));var g=!0;return u(),a.push(m),function(){if(g){if(l)throw new Error(ia(6));g=!1,u();var y=a.indexOf(m);a.splice(y,1),o=null}}}function f(m){if(!Ndt(m))throw new Error(ia(7));if(typeof m.type>"u")throw new Error(ia(8));if(l)throw new Error(ia(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var g=o=a,v=0;v<g.length;v++){var y=g[v];y()}return m}function h(m){if(typeof m!="function")throw new Error(ia(10));i=m,f({type:hO.REPLACE})}function p(){var m,g=d;return m={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(ia(11));function w(){y.next&&y.next(c())}w();var E=g(w);return{unsubscribe:E}}},m[Rae]=function(){return this},m}return f({type:hO.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[Rae]=p,r}function $dt(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:hO.INIT});if(typeof r>"u")throw new Error(ia(12));if(typeof n(void 0,{type:hO.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ia(13))})}function Mdt(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{$dt(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var h=s[f],p=n[h],m=l[h],g=p(m,u);if(typeof g>"u")throw u&&u.type,new Error(ia(14));d[h]=g,c=c||g!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function pO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Fdt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ia(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(l){return l(o)});return s=pO.apply(void 0,a)(i.dispatch),Iae(Iae({},i),{},{dispatch:s})}}}function hCe(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var Vz=hCe();Vz.withExtraArgument=hCe;var pCe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),hk=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Uv=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Ldt=Object.defineProperty,jdt=Object.defineProperties,Bdt=Object.getOwnPropertyDescriptors,Dae=Object.getOwnPropertySymbols,zdt=Object.prototype.hasOwnProperty,Udt=Object.prototype.propertyIsEnumerable,Pae=function(e,t,n){return t in e?Ldt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},V0=function(e,t){for(var n in t||(t={}))zdt.call(t,n)&&Pae(e,n,t[n]);if(Dae)for(var r=0,i=Dae(t);r<i.length;r++){var n=i[r];Udt.call(t,n)&&Pae(e,n,t[n])}return e},zL=function(e,t){return jdt(e,Bdt(t))},pk=function(e,t,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(e,t)).next())})},qdt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pO:pO.apply(null,arguments)};function mCe(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var Hdt=function(e){return e&&typeof e.match=="function"};function Zf(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return V0(V0({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function Vdt(e){return mCe(e)&&"type"in e}var Wdt=(function(e){pCe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Uv([void 0],n[0].concat(this)))):new(t.bind.apply(t,Uv([void 0],n.concat(this))))},t})(Array),Gdt=(function(e){pCe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Uv([void 0],n[0].concat(this)))):new(t.bind.apply(t,Uv([void 0],n.concat(this))))},t})(Array);function Wz(e){return tm(e)?dCe(e,function(){}):e}function Ydt(e){return typeof e=="boolean"}function Kdt(){return function(t){return Xdt(t)}}function Xdt(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new Wdt;return n&&(Ydt(n)?r.push(Vz):r.push(Vz.withExtraArgument(n.extraArgument))),r}function Qdt(e){var t=Kdt(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(mCe(i))h=Mdt(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=Fdt.apply(void 0,p),g=pO;l&&(g=qdt(V0({trace:!1},typeof l=="object"&&l)));var v=new Gdt(m),y=v;Array.isArray(f)?y=Uv([m],f):typeof f=="function"&&(y=f(v));var w=g.apply(void 0,y);return fCe(h,c,w)}function gCe(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function Jdt(e){return typeof e=="function"}function Zdt(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?gCe(t):[t,n,r],s=i[0],o=i[1],a=i[2],l;if(Jdt(e))l=function(){return Wz(e())};else{var u=Wz(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Uv([s[f.type]],o.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(tg(p)){var g=p,v=m(g,f);return v===void 0?p:v}else{if(tm(p))return dCe(p,function(y){return m(y,f)});var v=m(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return p},d)}return c.getInitialState=l,c}function eft(e,t){return e+"/"+t}function tft(e){var t=e.name,n=typeof e.initialState=="function"?e.initialState:Wz(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],f=eft(t,c),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,s[c]=h,o[f]=h,a[c]=p?Zf(f,p):Zf(f)});function l(){var c=typeof e.extraReducers=="function"?gCe(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],p=h===void 0?[]:h,m=c[2],g=m===void 0?void 0:m,v=V0(V0({},f),o);return Zdt(n,function(y){for(var w in v)y.addCase(w,v[w]);for(var E=0,C=p;E<C.length;E++){var S=C[E];y.addMatcher(S.matcher,S.reducer)}g&&y.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var nft="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yCe=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=nft[Math.random()*64|0];return t},rft=["name","message","stack","code"],UL=(function(){function e(t,n){this.payload=t,this.meta=n}return e})(),Oae=(function(){function e(t,n){this.payload=t,this.meta=n}return e})(),ift=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=rft;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Zf(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:zL(V0({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Zf(t+"/pending",function(u,c,d){return{payload:void 0,meta:zL(V0({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Zf(t+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||ift)(u||"Rejected"),meta:zL(V0({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:(function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u})();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):yCe(),p=new a,m;function g(y){m=y,p.abort()}var v=(function(){return pk(this,null,function(){var y,w,E,C,S,T,k;return hk(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),C=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,u,{getState:d,extra:f}),oft(C)?[4,C]:[3,2];case 1:C=I.sent(),I.label=2;case 2:if(C===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(R,O){return p.signal.addEventListener("abort",function(){return O({name:"AbortError",message:m||"Aborted"})})}),c(s(h,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:p.signal,abort:g,rejectWithValue:function(R,O){return new UL(R,O)},fulfillWithValue:function(R,O){return new Oae(R,O)}})).then(function(R){if(R instanceof UL)throw R;return R instanceof Oae?i(R.payload,h,u,R.meta):i(R,h,u)})])];case 3:return E=I.sent(),[3,5];case 4:return T=I.sent(),E=T instanceof UL?o(null,h,u,T.payload,T.meta):o(T,h,u),[3,5];case 5:return k=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,k||c(E),[2,E]}})})})();return Object.assign(v,{abort:g,requestId:h,arg:u,unwrap:function(){return v.then(sft)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function sft(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function oft(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var aft=function(e,t){return Hdt(e)?e.match(t):e(t)};function Nae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return aft(r,n)})}}var NY=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},Gz=function(){},vCe=function(e,t){return t===void 0&&(t=Gz),e.catch(t),e},bCe=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},tx=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},lft="task",wCe="listener",xCe="completed",$Y="cancelled",uft="task-"+$Y,cft="task-"+xCe,_Ce=wCe+"-"+$Y,dft=wCe+"-"+xCe,U$=(function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=lft+" "+$Y+" (reason: "+t+")"}return e})(),nx=function(e){if(e.aborted)throw new U$(e.reason)};function ECe(e,t){var n=Gz;return new Promise(function(r,i){var s=function(){return i(new U$(e.reason))};if(e.aborted){s();return}n=bCe(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=Gz})}var fft=function(e,t){return pk(void 0,null,function(){var n,r;return hk(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof U$?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},mO=function(e){return function(t){return vCe(ECe(e,t).then(function(n){return nx(e),n}))}},CCe=function(e){var t=mO(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},hft=Object.assign,$ae={},mk="listenerMiddleware",pft=function(e,t){var n=function(r){return bCe(e,function(){return tx(r,e.reason)})};return function(r,i){NY(r,"taskExecutor");var s=new AbortController;n(s);var o=fft(function(){return pk(void 0,null,function(){var a;return hk(this,function(l){switch(l.label){case 0:return nx(e),nx(s.signal),[4,r({pause:mO(s.signal),delay:CCe(s.signal),signal:s.signal})];case 1:return a=l.sent(),nx(s.signal),[2,a]}})})},function(){return tx(s,cft)});return i!=null&&i.autoJoin&&t.push(o),{result:mO(e)(o),cancel:function(){tx(s,uft)}}}},mft=function(e,t){var n=function(r,i){return pk(void 0,null,function(){var s,o,a,l;return hk(this,function(u){switch(u.label){case 0:nx(t),s=function(){},o=new Promise(function(c,d){var f=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){f(),d()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,ECe(t,Promise.race(a))];case 2:return l=u.sent(),nx(t),[2,l];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return vCe(n(r,i))}},SCe=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Zf(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return NY(s,"options.listener"),{predicate:i,type:t,effect:s}},gft=function(e){var t=SCe(e),n=t.type,r=t.predicate,i=t.effect,s=yCe(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},Yz=function(e){e.pending.forEach(function(t){tx(t,_Ce)})},yft=function(e){return function(){e.forEach(Yz),e.clear()}},Mae=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},vft=Zf(mk+"/add"),bft=Zf(mk+"/removeAll"),wft=Zf(mk+"/remove"),xft=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Uv([mk+"/error"],e))};function _ft(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?xft:i;NY(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&Yz(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var g=m[p];if(h(g))return g}},l=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=gft(h)),o(p)},u=function(h){var p=SCe(h),m=p.type,g=p.effect,v=p.predicate,y=a(function(w){var E=typeof m=="string"?w.type===m:w.predicate===v;return E&&w.effect===g});return y&&(y.unsubscribe(),h.cancelActive&&Yz(y)),!!y},c=function(h,p,m,g){return pk(t,null,function(){var v,y,w,E;return hk(this,function(C){switch(C.label){case 0:v=new AbortController,y=mft(l,v.signal),w=[],C.label=1;case 1:return C.trys.push([1,3,4,6]),h.pending.add(v),[4,Promise.resolve(h.effect(p,hft({},m,{getOriginalState:g,condition:function(S,T){return y(S,T).then(Boolean)},take:y,delay:CCe(v.signal),pause:mO(v.signal),extra:r,signal:v.signal,fork:pft(v.signal,w),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,T,k){S!==v&&(tx(S,_Ce),k.delete(S))})}})))];case 2:return C.sent(),[3,6];case 3:return E=C.sent(),E instanceof U$||Mae(s,E,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(w)];case 5:return C.sent(),tx(v,dft),h.pending.delete(v),[7];case 6:return[2]}})})},d=yft(n),f=function(h){return function(p){return function(m){if(!Vdt(m))return p(m);if(vft.match(m))return l(m.payload);if(bft.match(m)){d();return}if(wft.match(m))return u(m.payload);var g=h.getState(),v=function(){if(g===$ae)throw new Error(mk+": getOriginalState can only be called synchronously");return g},y;try{if(y=p(m),n.size>0)for(var w=h.getState(),E=Array.from(n.values()),C=0,S=E;C<S.length;C++){var T=S[C],k=!1;try{k=T.predicate(m,w,g)}catch(I){k=!1,Mae(s,I,{raisedBy:"predicate"})}k&&c(T,m,h,v)}}finally{g=$ae}return y}}};return{middleware:f,startListening:l,stopListening:u,clearListeners:d}}var Fae;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Tdt();function Eft(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let zI;const Cft=new Uint8Array(16);function Sft(){if(!zI&&(zI=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zI))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zI(Cft)}const Ao=[];for(let e=0;e<256;++e)Ao.push((e+256).toString(16).slice(1));function Tft(e,t=0){return(Ao[e[t+0]]+Ao[e[t+1]]+Ao[e[t+2]]+Ao[e[t+3]]+"-"+Ao[e[t+4]]+Ao[e[t+5]]+"-"+Ao[e[t+6]]+Ao[e[t+7]]+"-"+Ao[e[t+8]]+Ao[e[t+9]]+"-"+Ao[e[t+10]]+Ao[e[t+11]]+Ao[e[t+12]]+Ao[e[t+13]]+Ao[e[t+14]]+Ao[e[t+15]]).toLowerCase()}const kft=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lae={randomUUID:kft};function jae(e,t,n){if(Lae.randomUUID&&!t&&!e)return Lae.randomUUID();e=e||{};const r=e.random||(e.rng||Sft)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Tft(r)}let eh=class{static get(){let t=jae();for(;this.ids.has(t);)t=jae();return this.ids.set(t,!0),t}};eh.ids=new Map;function wd(e){return"parent"in e}function TCe(e){return!wd(e)}function Aft(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:eh.get(),val:i[u],createdOn:Date.now()}),l),s),a=r?[{id:eh.get(),createdOn:Date.now(),val:r}]:[];return{id:eh.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function Ift({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,d)=>(c[d]=[],i&&i[d]&&c[d].push({type:d,id:eh.get(),val:i[d],createdOn:Date.now()}),c),a),u=s?[{id:eh.get(),createdOn:Date.now(),val:s}]:[];return{id:eh.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function Wi(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=Lft[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function qv(e){return!!e&&!!e[pu]}function ng(e){var t;return!!e&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===jft})(e)||Array.isArray(e)||!!e[KS]||!!(!((t=e.constructor)===null||t===void 0)&&t[KS])||q$(e)||H$(e))}function Ox(e,t,n){n===void 0&&(n=!1),rg(e)===0?(n?Object.keys:zY)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function rg(e){var t=e[pu];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:q$(e)?2:H$(e)?3:0}function q2(e,t){return rg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function oD(e,t){return rg(e)===2?e.get(t):e[t]}function kCe(e,t,n){var r=rg(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function Rft(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function q$(e){return Mft&&e instanceof Map}function H$(e){return Fft&&e instanceof Set}function zy(e){return e.o||e.t}function MY(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Bft(e);delete t[pu];for(var n=zY(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function FY(e,t){return t===void 0&&(t=!1),LY(e)||qv(e)||!ng(e)||(rg(e)>1&&(e.set=e.add=e.clear=e.delete=Dft),Object.freeze(e),t&&Ox(e,function(n,r){return FY(r,!0)},!0)),e}function Dft(){Wi(2)}function LY(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function th(e){var t=Jz[e];return t||Wi(18,e),t}function Pft(e,t){Jz[e]||(Jz[e]=t)}function Bae(){return{}.NODE_ENV==="production"||Nx||Wi(0),Nx}function qL(e,t){t&&(th("Patches"),e.u=[],e.s=[],e.v=t)}function gO(e){Kz(e),e.p.forEach(Oft),e.p=null}function Kz(e){e===Nx&&(Nx=e.l)}function zae(e){return Nx={p:[],l:Nx,h:e,m:!0,_:0}}function Oft(e){var t=e[pu];t.i===0||t.i===1?t.j():t.O=!0}function HL(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||th("ES5").S(t,e,r),r?(n[pu].P&&(gO(t),Wi(4)),ng(e)&&(e=yO(t,e),t.l||vO(t,e)),t.u&&th("Patches").M(n[pu].t,e,t.u,t.s)):e=yO(t,n,[]),gO(t),t.u&&t.v(t.u,t.s),e!==BY?e:void 0}function yO(e,t,n){if(LY(t))return t;var r=t[pu];if(!r)return Ox(t,function(s,o){return Uae(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return vO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=MY(r.k):r.o;Ox(r.i===3?new Set(i):i,function(s,o){return Uae(e,r,i,s,o,n)}),vO(e,i,!1),n&&e.u&&th("Patches").R(r,n,e.u,e.s)}return r.o}function Uae(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Wi(5),qv(i)){var o=yO(e,i,s&&t&&t.i!==3&&!q2(t.D,r)?s.concat(r):void 0);if(kCe(n,r,o),!qv(o))return;e.m=!1}if(ng(i)&&!LY(i)){if(!e.h.F&&e._<1)return;yO(e,i),t&&t.A.l||vO(e,i)}}function vO(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&FY(t,n)}function VL(e,t){var n=e[pu];return(n?zy(n):e)[t]}function qae(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Xz(e){e.P||(e.P=!0,e.l&&Xz(e.l))}function WL(e){e.o||(e.o=MY(e.t))}function Qz(e,t,n){var r=q$(t)?th("MapSet").N(t,n):H$(t)?th("MapSet").T(t,n):e.g?(function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Bae(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=Zz;o&&(l=[a],u=tS);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f})(t,n):th("ES5").J(t,n);return(n?n.A:Bae()).p.push(r),r}function Nft(e){return qv(e)||Wi(22,e),(function t(n){if(!ng(n))return n;var r,i=n[pu],s=rg(n);if(i){if(!i.P&&(i.i<4||!th("ES5").K(i)))return i.t;i.I=!0,r=Hae(n,s),i.I=!1}else r=Hae(n,s);return Ox(r,function(o,a){i&&oD(i.t,o)===a||kCe(r,o,t(a))}),s===3?new Set(r):r})(e)}function Hae(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return MY(e)}function $ft(){function e(r){if(!ng(r))return r;if(Array.isArray(r))return r.map(e);if(q$(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(H$(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return q2(r,KS)&&(i[KS]=r[KS]),i}function t(r){return qv(r)?e(r):r}var n="add";Pft("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,l=r,u=0;u<o.length-1;u++){var c=rg(l),d=""+o[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||Wi(24),typeof l=="function"&&d==="prototype"&&Wi(24),typeof(l=oD(l,d))!="object"&&Wi(15,o.join("/"))}var f=rg(l),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(f){case 2:return l.set(p,h);case 3:Wi(16);default:return l[p]=h}case n:switch(f){case 1:return p==="-"?l.push(h):l.splice(p,0,h);case 2:return l.set(p,h);case 3:return l.add(h);default:return l[p]=h}case"remove":switch(f){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(s.value);default:return delete l[p]}default:Wi(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return(function(a,l,u,c){var d=a.t,f=a.o;Ox(a.D,function(h,p){var m=oD(d,h),g=oD(f,h),v=p?q2(d,h)?"replace":n:"remove";if(m!==g||v!=="replace"){var y=l.concat(h);u.push(v==="remove"?{op:v,path:y}:{op:v,path:y,value:g}),c.push(v===n?{op:"remove",path:y}:v==="remove"?{op:n,path:y,value:t(m)}:{op:"replace",path:y,value:t(m)})}})})(r,i,s,o);case 5:case 1:return(function(a,l,u,c){var d=a.t,f=a.D,h=a.o;if(h.length<d.length){var p=[h,d];d=p[0],h=p[1];var m=[c,u];u=m[0],c=m[1]}for(var g=0;g<d.length;g++)if(f[g]&&h[g]!==d[g]){var v=l.concat([g]);u.push({op:"replace",path:v,value:t(h[g])}),c.push({op:"replace",path:v,value:t(d[g])})}for(var y=d.length;y<h.length;y++){var w=l.concat([y]);u.push({op:n,path:w,value:t(h[y])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})})(r,i,s,o);case 3:return(function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(p){if(!f.has(p)){var m=l.concat([h]);u.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,f.forEach(function(p){if(!d.has(p)){var m=l.concat([h]);u.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})})(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===BY?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var Vae,Nx,jY=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Mft=typeof Map<"u",Fft=typeof Set<"u",Wae=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",BY=jY?Symbol.for("immer-nothing"):((Vae={})["immer-nothing"]=!0,Vae),KS=jY?Symbol.for("immer-draftable"):"__$immer_draftable",pu=jY?Symbol.for("immer-state"):"__$immer_state",Lft={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},jft=""+Object.prototype.constructor,zY=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Bft=Object.getOwnPropertyDescriptors||function(e){var t={};return zY(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Jz={},Zz={get:function(e,t){if(t===pu)return e;var n=zy(e);if(!q2(n,t))return(function(i,s,o){var a,l=qae(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0})(e,n,t);var r=n[t];return e.I||!ng(r)?r:r===VL(e.t,t)?(WL(e),e.o[t]=Qz(e.A.h,r,e)):r},has:function(e,t){return t in zy(e)},ownKeys:function(e){return Reflect.ownKeys(zy(e))},set:function(e,t,n){var r=qae(zy(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=VL(zy(e),t),s=i==null?void 0:i[pu];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Rft(n,i)&&(n!==void 0||q2(e.t,t)))return!0;WL(e),Xz(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return VL(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,WL(e),Xz(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=zy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Wi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Wi(12)}},tS={};Ox(Zz,function(e,t){tS[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),tS.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Wi(13),tS.set.call(this,e,t,void 0)},tS.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Wi(14),Zz.set.call(this,e[0],t,n,e[0])};var zft=(function(){function e(n){var r=this;this.g=Wae,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var v=arguments.length,y=Array(v>1?v-1:0),w=1;w<v;w++)y[w-1]=arguments[w];return l.produce(m,function(E){var C;return(C=s).call.apply(C,[g,E].concat(y))})}}var u;if(typeof s!="function"&&Wi(6),o!==void 0&&typeof o!="function"&&Wi(7),ng(i)){var c=zae(r),d=Qz(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?gO(c):Kz(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return qL(c,o),HL(m,c)},function(m){throw gO(c),m}):(qL(c,o),HL(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===BY&&(u=void 0),r.F&&FY(u,!0),o){var h=[],p=[];th("Patches").M(i,u,h,p),o(h,p)}return u}Wi(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){ng(n)||Wi(8),qv(n)&&(n=Nft(n));var r=zae(this),i=Qz(this,n,void 0);return i[pu].C=!0,Kz(r),i},t.finishDraft=function(n,r){var i=n&&n[pu];({}).NODE_ENV!=="production"&&(i&&i.C||Wi(9),i.I&&Wi(10));var s=i.A;return qL(s,r),HL(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Wae&&Wi(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=th("Patches").$;return qv(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e})(),mu=new zft,Uft=mu.produce;mu.produceWithPatches.bind(mu);mu.setAutoFreeze.bind(mu);mu.setUseProxies.bind(mu);mu.applyPatches.bind(mu);mu.createDraft.bind(mu);mu.finishDraft.bind(mu);function qft(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=Aft({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return tft({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,d=a.nodes[u].meta,f=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:eh.get(),val:c[p],createdOn:Date.now()}),h),d);a.nodes[l.payload.id].meta=f},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:eh.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function Hft(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=qft(e),s=_ft();s.startListening({matcher:Nae(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=Nae(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const o=Qdt({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,l){const u={id:eh.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Vft=globalThis&&globalThis.__extends||(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Wft=Object.prototype.hasOwnProperty;function eU(e,t){return Wft.call(e,t)}function tU(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)eU(e,i)&&r.push(i);return r}function kl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function nU(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Uy(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function ACe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function rU(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(rU(e[t]))return!0}else if(typeof e=="object"){for(var r=tU(e),i=r.length,s=0;s<i;s++)if(rU(e[r[s]]))return!0}}return!1}function Gae(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var ICe=(function(e){Vft(t,e);function t(n,r,i,s,o){var a=this.constructor,l=e.call(this,Gae(n,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=Gae(n,{name:r,index:i,operation:s,tree:o}),l}return t})(Error),Hi=ICe,Gft=kl,Dw={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=bO(n,this.path);r&&(r=kl(r));var i=Ev(n,{op:"remove",path:this.from}).removed;return Ev(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=bO(n,this.from);return Ev(n,{op:"add",path:this.path,value:kl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:H2(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Yft={add:function(e,t,n){return nU(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Dw.move,copy:Dw.copy,test:Dw.test,_get:Dw._get};function bO(e,t){if(t=="")return e;var n={op:"_get",path:t};return Ev(e,n),n.value}function Ev(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):wO(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=bO(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=H2(e,t.value),o.test===!1)throw new Hi("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Hi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=kl(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=wO;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=ACe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!nU(h))throw new Hi("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);nU(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new Hi("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=Yft[t.op].call(t,u,h,e);if(o.test===!1)throw new Hi("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=d){var o=Dw[t.op].call(t,u,h,e);if(o.test===!1)throw new Hi("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new Hi("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function V$(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Hi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=kl(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=Ev(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function Kft(e,t,n){var r=Ev(e,t);if(r.test===!1)throw new Hi("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function wO(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Hi("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Dw[e.op]){if(typeof e.path!="string")throw new Hi("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Hi('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Hi("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Hi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&rU(e.value))throw new Hi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Hi("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Hi("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=RCe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Hi("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Hi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function RCe(e,t,n){try{if(!Array.isArray(e))throw new Hi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)V$(kl(t),kl(e),n||!0);else{n=n||wO;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Hi)return i;throw i}}function H2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!H2(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!H2(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const Xft=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Hi,_areEquals:H2,applyOperation:Ev,applyPatch:V$,applyReducer:Kft,deepClone:Gft,getValueByPointer:bO,validate:RCe,validator:wO},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var UY=new WeakMap,Qft=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),Jft=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function Zft(e){return UY.get(e)}function eht(e,t){return e.observers.get(t)}function tht(e,t){e.observers.delete(t.callback)}function nht(e,t){t.unobserve()}function rht(e,t){var n=[],r,i=Zft(e);if(!i)i=new Qft(e),UY.set(e,i);else{var s=eht(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=kl(e),t){r.callback=t,r.next=null;var o=function(){iU(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){iU(r),clearTimeout(r.next),tht(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Jft(t,r)),r}function iU(e,t){t===void 0&&(t=!1);var n=UY.get(e.object);qY(n.value,e.object,e.patches,"",t),e.patches.length&&V$(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function qY(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=tU(t),o=tU(e),a=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(eU(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?qY(c,d,n,r+"/"+Uy(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Uy(u),value:kl(c)}),n.push({op:"replace",path:r+"/"+Uy(u),value:kl(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Uy(u),value:kl(c)}),n.push({op:"remove",path:r+"/"+Uy(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var l=0;l<s.length;l++){var u=s[l];!eU(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Uy(u),value:kl(t[u])})}}}function DCe(e,t,n){n===void 0&&(n=!1);var r=[];return qY(e,t,r,"",n),r}const iht=Object.freeze(Object.defineProperty({__proto__:null,compare:DCe,generate:iU,observe:rht,unobserve:nht},Symbol.toStringTag,{value:"Module"}));Object.assign({},Xft,iht,{JsonPatchError:ICe,deepClone:kl,escapePathComponent:Uy,unescapePathComponent:ACe});var nS=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(nS||{});function aD(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=PCe(i,e,t);s.shift();const o=s.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=aD(i,t);return V$(a,kl(o),!0,!1).newDocument}function sht(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function gk({registry:e,initialState:t}){let n=!1;const r=Eft(),i=Hft(t);function s(c){return i.backend.nodes[c]}r.listen(nS.TRAVERSAL_START,()=>{n=!0}),r.listen(nS.TRAVERSAL_END,()=>{n=!1});const o={add(c,d=i.current.id){i.update(i.addMetadata({id:d,meta:c}))},latestOfType(c,d=i.current.id){var f;return(f=i.backend.nodes[d].meta[c])==null?void 0:f.at(-1)},allOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]},latest(c=i.current.id){const d=i.backend.nodes[c].meta,f=Object.keys(d).reduce((h,p)=>{const m=d[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(f).length>0?f:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,d=i.current.id){i.update(i.addArtifact({id:d,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,d=i.current.id){o.add({annotation:c},d)},latest(c=i.current.id){var d;return(d=o.latestOfType("annotation",c))==null?void 0:d.val},all(c=i.current.id){var d;return(d=o.allOfType("annotation",c))==null?void 0:d.map(f=>f.val)}},u={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var d;return!!((d=o.latestOfType("bookmark",c))!=null&&d.val)},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return aD(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:d,sideEffects:f,eventType:h,onlySideEffects:p=!1}){let m=null,g=null;const v=aD(this.current,this.graph.backend.nodes);if(p)g={type:"checkpoint",val:d};else{const y=DCe(v,d);if(sht(d,y)==="checkpoint")g={type:"checkpoint",val:d};else{const w=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:y,checkpointRef:w}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=Ift({label:c,state:g,parent:this.current,sideEffects:f,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,d){const f=e.get(d.type),h=aD(this.current,this.graph.backend.nodes);if(f.config.hasSideEffects){const{do:p=d,undo:m}=f.func(d.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:f.config.eventType})}else{const p=f.func(h,d.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:f.config.eventType})}},async to(c){r.fire(nS.TRAVERSAL_START);const d=PCe(i.current,i.backend.nodes[c],i.backend.nodes),f=[];for(let h=0;h<d.length-1;++h){const p=s(d[h]),m=s(d[h+1]);aht(p,m)?wd(p)&&f.push(...p.sideEffects.undo):wd(m)&&f.push(...m.sideEffects.do)}for(const h of f){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(nS.TRAVERSAL_END)},undo(){const{current:c}=i;return wd(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:d}=i;return d.children.length>0?this.to(d.children[c==="oldest"?0:d.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,d=!1){return i.currentChange(c,{skipOnNew:d})},done(){console.log("Setup later for URL sharing.")},tree(){return OCe(i.root,i.backend.nodes)},on(c,d){r.listen(c,d)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const d=JSON.parse(c),f=d.current;d.current=d.root,i.update(i.load(d)),this.to(f)},importObject(c){const d=c.current;c.current=c.root,i.update(i.load(c)),this.to(d)},metadata:o,artifact:a,annotations:l,bookmarks:u}}function oht(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;wd(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)wd(r)&&(r=n[r.parent]),wd(i)&&(i=n[i.parent]);return r.id}function PCe(e,t,n){const r=oht(e,t,n),i=n[r],s=[],o=[];let[a,l]=[e,t];for(;a.id!==i.id;)s.push(a),wd(a)&&(a=n[a.parent]);for(s.push(a);l.id!==i.id;)o.push(l),wd(l)&&(l=n[l.parent]);const u=o.reverse();return[...s,...u].map(c=>c.id)}function aht(e,t){if(wd(e)&&e.parent===t.id)return!0;if(wd(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function OCe(e,t){return{...e,children:e.children.map(n=>OCe(t[n],t)),name:`${e.label}`}}$ft();function lht(e){return e.length===2?Uft(e):e}class O1{static create(){return new O1}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:lht(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Zf(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}function jp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uht(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y_(e){let t,n,r;e.length!==2?(t=jp,n=(a,l)=>jp(e(a),l),r=(a,l)=>e(a)-l):(t=e===jp||e===uht?e:cht,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function cht(){return 0}function NCe(e){return e===null?NaN:+e}function*dht(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const $Ce=Y_(jp),ig=$Ce.right,fht=$Ce.left;Y_(NCe).center;function hht(e,t){let n=0,r,i=0,s=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,s+=r*(o-i));else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i))}if(n>1)return s/(n-1)}function pht(e,t){const n=hht(e,t);return n&&Math.sqrt(n)}function mht(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class Ya{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=t+s,a=Math.abs(t)<Math.abs(s)?t-(o-s):s-(o-t);a&&(n[r++]=a),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,s,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,s=i-(o-r),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}class Yae extends Map{constructor(t,n=LCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(sU(this,t))}has(t){return super.has(sU(this,t))}set(t,n){return super.set(MCe(this,t),n)}delete(t){return super.delete(FCe(this,t))}}class xO extends Set{constructor(t,n=LCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(sU(this,t))}add(t){return super.add(MCe(this,t))}delete(t){return super.delete(FCe(this,t))}}function sU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function MCe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function FCe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function LCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ght(e,t){return Array.from(t,n=>e[n])}function yht(e=jp){if(e===jp)return jCe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function jCe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const vht=Math.sqrt(50),bht=Math.sqrt(10),wht=Math.sqrt(2);function _O(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=vht?10:s>=bht?5:s>=wht?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?_O(e,t,n*2):[a,l,u]}function oU(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?_O(t,e,n):_O(e,t,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function aU(e,t,n){return t=+t,e=+e,n=+n,_O(e,t,n)[2]}function sg(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?aU(t,e,n):aU(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Cv(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function lU(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function BCe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?jCe:yht(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*d/l+f)),p=Math.min(r,Math.floor(t+(l-u)*d/l+f));BCe(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(cC(e,n,t),i(e[r],s)>0&&cC(e,n,r);o<a;){for(cC(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?cC(e,n,a):(++a,cC(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function cC(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function uU(e,t,n){if(e=Float64Array.from(dht(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return lU(e);if(t>=1)return Cv(e);var r,i=(r-1)*t,s=Math.floor(i),o=Cv(BCe(e,s).subarray(0,s+1)),a=lU(e.subarray(s+1));return o+(a-o)*(i-s)}}function zCe(e,t,n=NCe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function xht(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function UCe(e,t){return uU(e,.5,t)}function*_ht(e){for(const t of e)yield*t}function qCe(e){return Array.from(_ht(e))}function Al(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function HCe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function Eht(e,...t){e=new xO(e),t=t.map(Cht);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Cht(e){return e instanceof xO?e:new xO(e)}function Sht(...e){const t=new xO;for(const n of e)for(const r of n)t.add(r);return t}var Tht={value:()=>{}};function HY(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new lD(n)}function lD(e){this._=e}function kht(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}lD.prototype=HY.prototype={constructor:lD,on:function(e,t){var n=this._,r=kht(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=Aht(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Kae(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Kae(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new lD(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Aht(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Kae(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Tht,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var cU="http://www.w3.org/1999/xhtml";const Xae={svg:"http://www.w3.org/2000/svg",xhtml:cU,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function W$(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Xae.hasOwnProperty(t)?{space:Xae[t],local:e}:e}function Iht(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===cU&&t.documentElement.namespaceURI===cU?t.createElement(e):t.createElementNS(n,e)}}function Rht(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function VCe(e){var t=W$(e);return(t.local?Rht:Iht)(t)}function Dht(){}function VY(e){return e==null?Dht:function(){return this.querySelector(e)}}function Pht(e){typeof e!="function"&&(e=VY(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new gu(r,this._parents)}function Oht(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Nht(){return[]}function WCe(e){return e==null?Nht:function(){return this.querySelectorAll(e)}}function $ht(e){return function(){return Oht(e.apply(this,arguments))}}function Mht(e){typeof e=="function"?e=$ht(e):e=WCe(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new gu(r,i)}function GCe(e){return function(){return this.matches(e)}}function YCe(e){return function(t){return t.matches(e)}}var Fht=Array.prototype.find;function Lht(e){return function(){return Fht.call(this.children,e)}}function jht(){return this.firstElementChild}function Bht(e){return this.select(e==null?jht:Lht(typeof e=="function"?e:YCe(e)))}var zht=Array.prototype.filter;function Uht(){return Array.from(this.children)}function qht(e){return function(){return zht.call(this.children,e)}}function Hht(e){return this.selectAll(e==null?Uht:qht(typeof e=="function"?e:YCe(e)))}function Vht(e){typeof e!="function"&&(e=GCe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new gu(r,this._parents)}function KCe(e){return new Array(e.length)}function Wht(){return new gu(this._enter||this._groups.map(KCe),this._parents)}function EO(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}EO.prototype={constructor:EO,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ght(e){return function(){return e}}function Yht(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new EO(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function Kht(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=u.get(h))?(r[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new EO(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function Xht(e){return e.__data__}function Qht(e,t){if(!arguments.length)return Array.from(this,Xht);var n=t?Kht:Yht,r=this._parents,i=this._groups;typeof e!="function"&&(e=Ght(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],f=d.length,h=Jht(e.call(c,c&&c.__data__,u,r)),p=h.length,m=a[u]=new Array(p),g=o[u]=new Array(p),v=l[u]=new Array(f);n(c,d,m,g,v,h,t);for(var y=0,w=0,E,C;y<p;++y)if(E=m[y]){for(y>=w&&(w=y+1);!(C=g[w])&&++w<p;);E._next=C||null}}return o=new gu(o,r),o._enter=a,o._exit=l,o}function Jht(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zht(){return new gu(this._exit||this._groups.map(KCe),this._parents)}function ept(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function tpt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<i;++l)a[l]=n[l];return new gu(a,this._parents)}function npt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function rpt(e){e||(e=ipt);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new gu(i,this._parents).order()}function ipt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function spt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function opt(){return Array.from(this)}function apt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function lpt(){let e=0;for(const t of this)++e;return e}function upt(){return!this.node()}function cpt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function dpt(e){return function(){this.removeAttribute(e)}}function fpt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hpt(e,t){return function(){this.setAttribute(e,t)}}function ppt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mpt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function gpt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ypt(e,t){var n=W$(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?fpt:dpt:typeof t=="function"?n.local?gpt:mpt:n.local?ppt:hpt)(n,t))}function XCe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function vpt(e){return function(){this.style.removeProperty(e)}}function bpt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function wpt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function xpt(e,t,n){return arguments.length>1?this.each((t==null?vpt:typeof t=="function"?wpt:bpt)(e,t,n??"")):$x(this.node(),e)}function $x(e,t){return e.style.getPropertyValue(t)||XCe(e).getComputedStyle(e,null).getPropertyValue(t)}function _pt(e){return function(){delete this[e]}}function Ept(e,t){return function(){this[e]=t}}function Cpt(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Spt(e,t){return arguments.length>1?this.each((t==null?_pt:typeof t=="function"?Cpt:Ept)(e,t)):this.node()[e]}function QCe(e){return e.trim().split(/^|\s+/)}function WY(e){return e.classList||new JCe(e)}function JCe(e){this._node=e,this._names=QCe(e.getAttribute("class")||"")}JCe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ZCe(e,t){for(var n=WY(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function eSe(e,t){for(var n=WY(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Tpt(e){return function(){ZCe(this,e)}}function kpt(e){return function(){eSe(this,e)}}function Apt(e,t){return function(){(t.apply(this,arguments)?ZCe:eSe)(this,e)}}function Ipt(e,t){var n=QCe(e+"");if(arguments.length<2){for(var r=WY(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Apt:t?Tpt:kpt)(n,t))}function Rpt(){this.textContent=""}function Dpt(e){return function(){this.textContent=e}}function Ppt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Opt(e){return arguments.length?this.each(e==null?Rpt:(typeof e=="function"?Ppt:Dpt)(e)):this.node().textContent}function Npt(){this.innerHTML=""}function $pt(e){return function(){this.innerHTML=e}}function Mpt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Fpt(e){return arguments.length?this.each(e==null?Npt:(typeof e=="function"?Mpt:$pt)(e)):this.node().innerHTML}function Lpt(){this.nextSibling&&this.parentNode.appendChild(this)}function jpt(){return this.each(Lpt)}function Bpt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zpt(){return this.each(Bpt)}function Upt(e){var t=typeof e=="function"?e:VCe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function qpt(){return null}function Hpt(e,t){var n=typeof e=="function"?e:VCe(e),r=t==null?qpt:typeof t=="function"?t:VY(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Vpt(){var e=this.parentNode;e&&e.removeChild(this)}function Wpt(){return this.each(Vpt)}function Gpt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ypt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kpt(e){return this.select(e?Ypt:Gpt)}function Xpt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Qpt(e){return function(t){e.call(this,t,this.__data__)}}function Jpt(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Zpt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function emt(e,t,n){return function(){var r=this.__on,i,s=Qpt(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function tmt(e,t,n){var r=Jpt(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?emt:Zpt,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function tSe(e,t,n){var r=XCe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function nmt(e,t){return function(){return tSe(this,e,t)}}function rmt(e,t){return function(){return tSe(this,e,t.apply(this,arguments))}}function imt(e,t){return this.each((typeof t=="function"?rmt:nmt)(e,t))}function*smt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var nSe=[null];function gu(e,t){this._groups=e,this._parents=t}function yk(){return new gu([[document.documentElement]],nSe)}function omt(){return this}gu.prototype=yk.prototype={constructor:gu,select:Pht,selectAll:Mht,selectChild:Bht,selectChildren:Hht,filter:Vht,data:Qht,enter:Wht,exit:Zht,join:ept,merge:tpt,selection:omt,order:npt,sort:rpt,call:spt,nodes:opt,node:apt,size:lpt,empty:upt,each:cpt,attr:ypt,style:xpt,property:Spt,classed:Ipt,text:Opt,html:Fpt,raise:jpt,lower:zpt,append:Upt,insert:Hpt,remove:Wpt,clone:Kpt,datum:Xpt,on:tmt,dispatch:imt,[Symbol.iterator]:smt};function dU(e){return typeof e=="string"?new gu([[document.querySelector(e)]],[document.documentElement]):new gu([[e]],nSe)}function amt(e){let t;for(;t=e.sourceEvent;)e=t;return e}function lmt(e,t){if(e=amt(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function K_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Dg(){}var Hv=.7,Mx=1/Hv,rx="\\s*([+-]?\\d+)\\s*",V2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",umt=/^#([0-9a-f]{3,8})$/,cmt=new RegExp(`^rgb\\(${rx},${rx},${rx}\\)$`),dmt=new RegExp(`^rgb\\(${nh},${nh},${nh}\\)$`),fmt=new RegExp(`^rgba\\(${rx},${rx},${rx},${V2}\\)$`),hmt=new RegExp(`^rgba\\(${nh},${nh},${nh},${V2}\\)$`),pmt=new RegExp(`^hsl\\(${V2},${nh},${nh}\\)$`),mmt=new RegExp(`^hsla\\(${V2},${nh},${nh},${V2}\\)$`),Qae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K_(Dg,Vv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jae,formatHex:Jae,formatHex8:gmt,formatHsl:ymt,formatRgb:Zae,toString:Zae});function Jae(){return this.rgb().formatHex()}function gmt(){return this.rgb().formatHex8()}function ymt(){return rSe(this).formatHsl()}function Zae(){return this.rgb().formatRgb()}function Vv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=umt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ele(t):n===3?new ao(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?UI(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?UI(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cmt.exec(e))?new ao(t[1],t[2],t[3],1):(t=dmt.exec(e))?new ao(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fmt.exec(e))?UI(t[1],t[2],t[3],t[4]):(t=hmt.exec(e))?UI(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pmt.exec(e))?rle(t[1],t[2]/100,t[3]/100,1):(t=mmt.exec(e))?rle(t[1],t[2]/100,t[3]/100,t[4]):Qae.hasOwnProperty(e)?ele(Qae[e]):e==="transparent"?new ao(NaN,NaN,NaN,0):null}function ele(e){return new ao(e>>16&255,e>>8&255,e&255,1)}function UI(e,t,n,r){return r<=0&&(e=t=n=NaN),new ao(e,t,n,r)}function GY(e){return e instanceof Dg||(e=Vv(e)),e?(e=e.rgb(),new ao(e.r,e.g,e.b,e.opacity)):new ao}function og(e,t,n,r){return arguments.length===1?GY(e):new ao(e,t,n,r??1)}function ao(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}K_(ao,og,vk(Dg,{brighter(e){return e=e==null?Mx:Math.pow(Mx,e),new ao(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hv:Math.pow(Hv,e),new ao(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ao(Sv(this.r),Sv(this.g),Sv(this.b),CO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tle,formatHex:tle,formatHex8:vmt,formatRgb:nle,toString:nle}));function tle(){return`#${dv(this.r)}${dv(this.g)}${dv(this.b)}`}function vmt(){return`#${dv(this.r)}${dv(this.g)}${dv(this.b)}${dv((isNaN(this.opacity)?1:this.opacity)*255)}`}function nle(){const e=CO(this.opacity);return`${e===1?"rgb(":"rgba("}${Sv(this.r)}, ${Sv(this.g)}, ${Sv(this.b)}${e===1?")":`, ${e})`}`}function CO(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dv(e){return e=Sv(e),(e<16?"0":"")+e.toString(16)}function rle(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rd(e,t,n,r)}function rSe(e){if(e instanceof rd)return new rd(e.h,e.s,e.l,e.opacity);if(e instanceof Dg||(e=Vv(e)),!e)return new rd;if(e instanceof rd)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new rd(o,a,l,e.opacity)}function SO(e,t,n,r){return arguments.length===1?rSe(e):new rd(e,t,n,r??1)}function rd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}K_(rd,SO,vk(Dg,{brighter(e){return e=e==null?Mx:Math.pow(Mx,e),new rd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hv:Math.pow(Hv,e),new rd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ao(GL(e>=240?e-240:e+120,i,r),GL(e,i,r),GL(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new rd(ile(this.h),qI(this.s),qI(this.l),CO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=CO(this.opacity);return`${e===1?"hsl(":"hsla("}${ile(this.h)}, ${qI(this.s)*100}%, ${qI(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ile(e){return e=(e||0)%360,e<0?e+360:e}function qI(e){return Math.max(0,Math.min(1,e||0))}function GL(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const iSe=Math.PI/180,sSe=180/Math.PI,TO=18,oSe=.96422,aSe=1,lSe=.82521,uSe=4/29,ix=6/29,cSe=3*ix*ix,bmt=ix*ix*ix;function dSe(e){if(e instanceof rh)return new rh(e.l,e.a,e.b,e.opacity);if(e instanceof kp)return fSe(e);e instanceof ao||(e=GY(e));var t=QL(e.r),n=QL(e.g),r=QL(e.b),i=YL((.2225045*t+.7168786*n+.0606169*r)/aSe),s,o;return t===n&&n===r?s=o=i:(s=YL((.4360747*t+.3850649*n+.1430804*r)/oSe),o=YL((.0139322*t+.0971045*n+.7141733*r)/lSe)),new rh(116*i-16,500*(s-i),200*(i-o),e.opacity)}function Fx(e,t,n,r){return arguments.length===1?dSe(e):new rh(e,t,n,r??1)}function rh(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}K_(rh,Fx,vk(Dg,{brighter(e){return new rh(this.l+TO*(e??1),this.a,this.b,this.opacity)},darker(e){return new rh(this.l-TO*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=oSe*KL(t),e=aSe*KL(e),n=lSe*KL(n),new ao(XL(3.1338561*t-1.6168667*e-.4906146*n),XL(-.9787684*t+1.9161415*e+.033454*n),XL(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function YL(e){return e>bmt?Math.pow(e,1/3):e/cSe+uSe}function KL(e){return e>ix?e*e*e:cSe*(e-uSe)}function XL(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function QL(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function wmt(e){if(e instanceof kp)return new kp(e.h,e.c,e.l,e.opacity);if(e instanceof rh||(e=dSe(e)),e.a===0&&e.b===0)return new kp(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*sSe;return new kp(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function kO(e,t,n,r){return arguments.length===1?wmt(e):new kp(e,t,n,r??1)}function kp(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function fSe(e){if(isNaN(e.h))return new rh(e.l,0,0,e.opacity);var t=e.h*iSe;return new rh(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}K_(kp,kO,vk(Dg,{brighter(e){return new kp(this.h,this.c,this.l+TO*(e??1),this.opacity)},darker(e){return new kp(this.h,this.c,this.l-TO*(e??1),this.opacity)},rgb(){return fSe(this).rgb()}}));var hSe=-.14861,YY=1.78277,KY=-.29227,G$=-.90649,W2=1.97294,sle=W2*G$,ole=W2*YY,ale=YY*KY-G$*hSe;function xmt(e){if(e instanceof Tv)return new Tv(e.h,e.s,e.l,e.opacity);e instanceof ao||(e=GY(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(ale*r+sle*t-ole*n)/(ale+sle-ole),s=r-i,o=(W2*(n-i)-KY*s)/G$,a=Math.sqrt(o*o+s*s)/(W2*i*(1-i)),l=a?Math.atan2(o,s)*sSe-120:NaN;return new Tv(l<0?l+360:l,a,i,e.opacity)}function ag(e,t,n,r){return arguments.length===1?xmt(e):new Tv(e,t,n,r??1)}function Tv(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}K_(Tv,ag,vk(Dg,{brighter(e){return e=e==null?Mx:Math.pow(Mx,e),new Tv(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hv:Math.pow(Hv,e),new Tv(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*iSe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ao(255*(t+n*(hSe*r+YY*i)),255*(t+n*(KY*r+G$*i)),255*(t+n*(W2*r)),this.opacity)}}));function pSe(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}function mSe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],o=r>0?e[r-1]:2*i-s,a=r<t-1?e[r+2]:2*s-i;return pSe((n-r/t)*t,o,i,s,a)}}function gSe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],a=e[(r+2)%t];return pSe((n-r/t)*t,i,s,o,a)}}const Y$=e=>()=>e;function ySe(e,t){return function(n){return e+n*t}}function _mt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function K$(e,t){var n=t-e;return n?ySe(e,n>180||n<-180?n-360*Math.round(n/360):n):Y$(isNaN(e)?t:e)}function Emt(e){return(e=+e)==1?lo:function(t,n){return n-t?_mt(t,n,e):Y$(isNaN(t)?n:t)}}function lo(e,t){var n=t-e;return n?ySe(e,n):Y$(isNaN(e)?t:e)}const G2=(function e(t){var n=Emt(t);function r(i,s){var o=n((i=og(i)).r,(s=og(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=lo(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r})(1);function vSe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=og(t[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=e(r),i=e(i),s=e(s),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=s(l),a+""}}}var bSe=vSe(mSe),Cmt=vSe(gSe);function XY(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function wSe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Smt(e,t){return(wSe(t)?XY:xSe)(e,t)}function xSe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Pg(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function _Se(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Uu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ESe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pg(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var fU=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JL=new RegExp(fU.source,"g");function Tmt(e){return function(){return e}}function kmt(e){return function(t){return e(t)+""}}function QY(e,t){var n=fU.lastIndex=JL.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=fU.exec(e))&&(i=JL.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Uu(r,i)})),n=JL.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?kmt(l[0].x):Tmt(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Pg(e,t){var n=typeof t,r;return t==null||n==="boolean"?Y$(t):(n==="number"?Uu:n==="string"?(r=Vv(t))?(t=r,G2):QY:t instanceof Vv?G2:t instanceof Date?_Se:wSe(t)?XY:Array.isArray(t)?xSe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ESe:Uu)(e,t)}function Amt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Imt(e,t){var n=K$(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function bk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var lle=180/Math.PI,hU={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function CSe(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*lle,skewX:Math.atan(l)*lle,scaleX:o,scaleY:a}}var HI;function Rmt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hU:CSe(t.a,t.b,t.c,t.d,t.e,t.f)}function Dmt(e){return e==null||(HI||(HI=document.createElementNS("http://www.w3.org/2000/svg","g")),HI.setAttribute("transform",e),!(e=HI.transform.baseVal.consolidate()))?hU:(e=e.matrix,CSe(e.a,e.b,e.c,e.d,e.e,e.f))}function SSe(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:Uu(u,d)},{i:m-2,x:Uu(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Uu(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Uu(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Uu(u,d)},{i:m-2,x:Uu(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),o(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var p=-1,m=f.length,g;++p<m;)d[(g=f[p]).i]=g.x(h);return d.join("")}}}var TSe=SSe(Rmt,"px, ","px)","deg)"),kSe=SSe(Dmt,", ",")",")"),Pmt=1e-12;function ule(e){return((e=Math.exp(e))+1/e)/2}function Omt(e){return((e=Math.exp(e))-1/e)/2}function Nmt(e){return((e=Math.exp(2*e))-1)/(e+1)}const $mt=(function e(t,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],d=o[1],f=o[2],h=c-a,p=d-l,m=h*h+p*p,g,v;if(m<Pmt)v=Math.log(f/u)/t,g=function(T){return[a+T*h,l+T*p,u*Math.exp(t*T*v)]};else{var y=Math.sqrt(m),w=(f*f-u*u+r*m)/(2*u*n*y),E=(f*f-u*u-r*m)/(2*f*n*y),C=Math.log(Math.sqrt(w*w+1)-w),S=Math.log(Math.sqrt(E*E+1)-E);v=(S-C)/t,g=function(T){var k=T*v,I=ule(C),R=u/(n*y)*(I*Nmt(t*k+C)-Omt(C));return[a+R*h,l+R*p,u*I/ule(t*k+C)]}}return g.duration=v*1e3*t/Math.SQRT2,g}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i})(Math.SQRT2,2,4);function ASe(e){return function(t,n){var r=e((t=SO(t)).h,(n=SO(n)).h),i=lo(t.s,n.s),s=lo(t.l,n.l),o=lo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const Mmt=ASe(K$);var Fmt=ASe(lo);function Lmt(e,t){var n=lo((e=Fx(e)).l,(t=Fx(t)).l),r=lo(e.a,t.a),i=lo(e.b,t.b),s=lo(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=s(o),e+""}}function ISe(e){return function(t,n){var r=e((t=kO(t)).h,(n=kO(n)).h),i=lo(t.c,n.c),s=lo(t.l,n.l),o=lo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const jmt=ISe(K$);var Bmt=ISe(lo);function RSe(e){return(function t(n){n=+n;function r(i,s){var o=e((i=ag(i)).h,(s=ag(s)).h),a=lo(i.s,s.s),l=lo(i.l,s.l),u=lo(i.opacity,s.opacity);return function(c){return i.h=o(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r})(1)}const zmt=RSe(K$);var JY=RSe(lo);function ZY(e,t){t===void 0&&(t=e,e=Pg);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function Umt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const qmt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Pg,interpolateArray:Smt,interpolateBasis:mSe,interpolateBasisClosed:gSe,interpolateCubehelix:zmt,interpolateCubehelixLong:JY,interpolateDate:_Se,interpolateDiscrete:Amt,interpolateHcl:jmt,interpolateHclLong:Bmt,interpolateHsl:Mmt,interpolateHslLong:Fmt,interpolateHue:Imt,interpolateLab:Lmt,interpolateNumber:Uu,interpolateNumberArray:XY,interpolateObject:ESe,interpolateRgb:G2,interpolateRgbBasis:bSe,interpolateRgbBasisClosed:Cmt,interpolateRound:bk,interpolateString:QY,interpolateTransformCss:TSe,interpolateTransformSvg:kSe,interpolateZoom:$mt,piecewise:ZY,quantize:Umt},Symbol.toStringTag,{value:"Module"}));var Lx=0,rS=0,dC=0,DSe=1e3,AO,iS,IO=0,Wv=0,X$=0,Y2=typeof performance=="object"&&performance.now?performance:Date,PSe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Q$(){return Wv||(PSe(Hmt),Wv=Y2.now()+X$)}function Hmt(){Wv=0}function K2(){this._call=this._time=this._next=null}K2.prototype=eK.prototype={constructor:K2,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Q$():+n)+(t==null?0:+t),!this._next&&iS!==this&&(iS?iS._next=this:AO=this,iS=this),this._call=e,this._time=n,pU()},stop:function(){this._call&&(this._call=null,this._time=1/0,pU())}};function eK(e,t,n){var r=new K2;return r.restart(e,t,n),r}function Vmt(){Q$(),++Lx;for(var e=AO,t;e;)(t=Wv-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Lx}function cle(){Wv=(IO=Y2.now())+X$,Lx=rS=0;try{Vmt()}finally{Lx=0,Gmt(),Wv=0}}function Wmt(){var e=Y2.now(),t=e-IO;t>DSe&&(X$-=t,IO=e)}function Gmt(){for(var e,t=AO,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:AO=n);iS=e,pU(r)}function pU(e){if(!Lx){rS&&(rS=clearTimeout(rS));var t=e-Wv;t>24?(e<1/0&&(rS=setTimeout(cle,e-Y2.now()-X$)),dC&&(dC=clearInterval(dC))):(dC||(IO=Y2.now(),dC=setInterval(Wmt,DSe)),Lx=1,PSe(cle))}}function dle(e,t,n){var r=new K2;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function Ymt(e,t,n){var r=new K2,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(s,o,a){o=+o,a=a==null?Q$():+a,r._restart(function l(u){u+=i,r._restart(l,i+=o,a),s(u)},o,a)},r.restart(e,t,n),r)}var Kmt=HY("start","end","cancel","interrupt"),Xmt=[],OSe=0,fle=1,mU=2,uD=3,hle=4,gU=5,cD=6;function J$(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Qmt(e,n,{name:t,index:r,group:i,on:Kmt,tween:Xmt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:OSe})}function tK(e,t){var n=Vd(e,t);if(n.state>OSe)throw new Error("too late; already scheduled");return n}function Dh(e,t){var n=Vd(e,t);if(n.state>uD)throw new Error("too late; already running");return n}function Vd(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Qmt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=eK(s,0,n.time);function s(u){n.state=fle,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,f,h;if(n.state!==fle)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===uD)return dle(o);h.state===hle?(h.state=cD,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=cD,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(dle(function(){n.state===uD&&(n.state=hle,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=mU,n.on.call("start",e,e.__data__,n.index,n.group),n.state===mU){for(n.state=uD,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=gU,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===gU&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=cD,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Jmt(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>mU&&r.state<gU,r.state=cD,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function Zmt(e){return this.each(function(){Jmt(this,e)})}function e0t(e,t){var n,r;return function(){var i=Dh(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function t0t(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Dh(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function n0t(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Vd(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?e0t:t0t)(n,e,t))}function nK(e,t,n){var r=e._id;return e.each(function(){var i=Dh(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Vd(i,r).value[t]}}function NSe(e,t){var n;return(typeof t=="number"?Uu:t instanceof Vv?G2:(n=Vv(t))?(t=n,G2):QY)(e,t)}function r0t(e){return function(){this.removeAttribute(e)}}function i0t(e){return function(){this.removeAttributeNS(e.space,e.local)}}function s0t(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function o0t(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function a0t(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function l0t(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function u0t(e,t){var n=W$(e),r=n==="transform"?kSe:NSe;return this.attrTween(e,typeof t=="function"?(n.local?l0t:a0t)(n,r,nK(this,"attr."+e,t)):t==null?(n.local?i0t:r0t)(n):(n.local?o0t:s0t)(n,r,t))}function c0t(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function d0t(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function f0t(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&d0t(e,s)),n}return i._value=t,i}function h0t(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&c0t(e,s)),n}return i._value=t,i}function p0t(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=W$(e);return this.tween(n,(r.local?f0t:h0t)(r,t))}function m0t(e,t){return function(){tK(this,e).delay=+t.apply(this,arguments)}}function g0t(e,t){return t=+t,function(){tK(this,e).delay=t}}function y0t(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m0t:g0t)(t,e)):Vd(this.node(),t).delay}function v0t(e,t){return function(){Dh(this,e).duration=+t.apply(this,arguments)}}function b0t(e,t){return t=+t,function(){Dh(this,e).duration=t}}function w0t(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?v0t:b0t)(t,e)):Vd(this.node(),t).duration}function x0t(e,t){if(typeof t!="function")throw new Error;return function(){Dh(this,e).ease=t}}function _0t(e){var t=this._id;return arguments.length?this.each(x0t(t,e)):Vd(this.node(),t).ease}function E0t(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Dh(this,e).ease=n}}function C0t(e){if(typeof e!="function")throw new Error;return this.each(E0t(this._id,e))}function S0t(e){typeof e!="function"&&(e=GCe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new nm(r,this._parents,this._name,this._id)}function T0t(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=o[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new nm(o,this._parents,this._name,this._id)}function k0t(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function A0t(e,t,n){var r,i,s=k0t(t)?tK:Dh;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function I0t(e,t){var n=this._id;return arguments.length<2?Vd(this.node(),n).on.on(e):this.each(A0t(n,e,t))}function R0t(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function D0t(){return this.on("end.remove",R0t(this._id))}function P0t(e){var t=this._name,n=this._id;typeof e!="function"&&(e=VY(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,J$(u[f],t,n,f,u,Vd(c,n)));return new nm(s,this._parents,t,n)}function O0t(e){var t=this._name,n=this._id;typeof e!="function"&&(e=WCe(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,p=Vd(c,n),m=0,g=f.length;m<g;++m)(h=f[m])&&J$(h,t,n,m,f,p);s.push(f),o.push(c)}return new nm(s,o,t,n)}var N0t=yk.prototype.constructor;function $0t(){return new N0t(this._groups,this._parents)}function M0t(e,t){var n,r,i;return function(){var s=$x(this,e),o=(this.style.removeProperty(e),$x(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function $Se(e){return function(){this.style.removeProperty(e)}}function F0t(e,t,n){var r,i=n+"",s;return function(){var o=$x(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function L0t(e,t,n){var r,i,s;return function(){var o=$x(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),$x(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function j0t(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=Dh(this,e),u=l.on,c=l.value[s]==null?a||(a=$Se(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function B0t(e,t,n){var r=(e+="")=="transform"?TSe:NSe;return t==null?this.styleTween(e,M0t(e,r)).on("end.style."+e,$Se(e)):typeof t=="function"?this.styleTween(e,L0t(e,r,nK(this,"style."+e,t))).each(j0t(this._id,e)):this.styleTween(e,F0t(e,r,t),n).on("end.style."+e,null)}function z0t(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function U0t(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&z0t(e,o,n)),r}return s._value=t,s}function q0t(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,U0t(e,t,n??""))}function H0t(e){return function(){this.textContent=e}}function V0t(e){return function(){var t=e(this);this.textContent=t??""}}function W0t(e){return this.tween("text",typeof e=="function"?V0t(nK(this,"text",e)):H0t(e==null?"":e+""))}function G0t(e){return function(t){this.textContent=e.call(this,t)}}function Y0t(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&G0t(i)),t}return r._value=e,r}function K0t(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Y0t(e))}function X0t(){for(var e=this._name,t=this._id,n=MSe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Vd(l,t);J$(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new nm(r,this._parents,e,n)}function Q0t(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=Dh(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var J0t=0;function nm(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function MSe(){return++J0t}var ip=yk.prototype;nm.prototype={constructor:nm,select:P0t,selectAll:O0t,selectChild:ip.selectChild,selectChildren:ip.selectChildren,filter:S0t,merge:T0t,selection:$0t,transition:X0t,call:ip.call,nodes:ip.nodes,node:ip.node,size:ip.size,empty:ip.empty,each:ip.each,on:I0t,attr:u0t,attrTween:p0t,style:B0t,styleTween:q0t,text:W0t,textTween:K0t,remove:D0t,tween:n0t,delay:y0t,duration:w0t,ease:_0t,easeVarying:C0t,end:Q0t,[Symbol.iterator]:ip[Symbol.iterator]};function Z0t(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var egt={time:null,delay:0,duration:250,ease:Z0t};function tgt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ngt(e){var t,n;e instanceof nm?(t=e._id,e=e._name):(t=MSe(),(n=egt).time=Q$(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&J$(l,e,t,u,o,n||tgt(l,t));return new nm(r,this._parents,e,t)}yk.prototype.interrupt=Zmt;yk.prototype.transition=ngt;const yU=Math.PI,vU=2*yU,qy=1e-6,rgt=vU-qy;function FSe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function igt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FSe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let rK=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FSe:igt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-t,u=i-n,c=o-t,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>qy)if(!(Math.abs(d*l-u*c)>qy)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=l*l+u*u,g=h*h+p*p,v=Math.sqrt(m),y=Math.sqrt(f),w=s*Math.tan((yU-Math.acos((m+f-g)/(2*v*y)))/2),E=w/y,C=w/v;Math.abs(E-1)>qy&&this._append`L${t+E*c},${n+E*d}`,this._append`A${s},${s},0,0,${+(d*h>c*p)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>qy||Math.abs(this._y1-c)>qy)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%vU+vU),f>rgt?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>qy&&this._append`A${r},${r},0,${+(f>=yU)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Z$(){return new rK}Z$.prototype=rK.prototype;const Bp=11102230246251565e-32,Jo=134217729,sgt=(3+8*Bp)*Bp;function ZL(e,t,n,r,i){let s,o,a,l,u=t[0],c=r[0],d=0,f=0;c>u==c>-u?(s=u,u=t[++d]):(s=c,c=r[++f]);let h=0;if(d<e&&f<n)for(c>u==c>-u?(o=u+s,a=s-(o-u),u=t[++d]):(o=c+s,a=s-(o-c),c=r[++f]),s=o,a!==0&&(i[h++]=a);d<e&&f<n;)c>u==c>-u?(o=s+u,l=o-s,a=s-(o-l)+(u-l),u=t[++d]):(o=s+c,l=o-s,a=s-(o-l)+(c-l),c=r[++f]),s=o,a!==0&&(i[h++]=a);for(;d<e;)o=s+u,l=o-s,a=s-(o-l)+(u-l),u=t[++d],s=o,a!==0&&(i[h++]=a);for(;f<n;)o=s+c,l=o-s,a=s-(o-l)+(c-l),c=r[++f],s=o,a!==0&&(i[h++]=a);return(s!==0||h===0)&&(i[h++]=s),h}function ogt(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function wk(e){return new Float64Array(e)}const agt=(3+16*Bp)*Bp,lgt=(2+12*Bp)*Bp,ugt=(9+64*Bp)*Bp*Bp,Vb=wk(4),ple=wk(8),mle=wk(12),gle=wk(16),Pa=wk(4);function cgt(e,t,n,r,i,s,o){let a,l,u,c,d,f,h,p,m,g,v,y,w,E,C,S,T,k;const I=e-i,R=n-i,O=t-s,M=r-s;E=I*M,f=Jo*I,h=f-(f-I),p=I-h,f=Jo*M,m=f-(f-M),g=M-m,C=p*g-(E-h*m-p*m-h*g),S=O*R,f=Jo*O,h=f-(f-O),p=O-h,f=Jo*R,m=f-(f-R),g=R-m,T=p*g-(S-h*m-p*m-h*g),v=C-T,d=C-v,Vb[0]=C-(v+d)+(d-T),y=E+v,d=y-E,w=E-(y-d)+(v-d),v=w-S,d=w-v,Vb[1]=w-(v+d)+(d-S),k=y+v,d=k-y,Vb[2]=y-(k-d)+(v-d),Vb[3]=k;let $=ogt(4,Vb),L=lgt*o;if($>=L||-$>=L||(d=e-I,a=e-(I+d)+(d-i),d=n-R,u=n-(R+d)+(d-i),d=t-O,l=t-(O+d)+(d-s),d=r-M,c=r-(M+d)+(d-s),a===0&&l===0&&u===0&&c===0)||(L=ugt*o+sgt*Math.abs($),$+=I*c+M*a-(O*u+R*l),$>=L||-$>=L))return $;E=a*M,f=Jo*a,h=f-(f-a),p=a-h,f=Jo*M,m=f-(f-M),g=M-m,C=p*g-(E-h*m-p*m-h*g),S=l*R,f=Jo*l,h=f-(f-l),p=l-h,f=Jo*R,m=f-(f-R),g=R-m,T=p*g-(S-h*m-p*m-h*g),v=C-T,d=C-v,Pa[0]=C-(v+d)+(d-T),y=E+v,d=y-E,w=E-(y-d)+(v-d),v=w-S,d=w-v,Pa[1]=w-(v+d)+(d-S),k=y+v,d=k-y,Pa[2]=y-(k-d)+(v-d),Pa[3]=k;const U=ZL(4,Vb,4,Pa,ple);E=I*c,f=Jo*I,h=f-(f-I),p=I-h,f=Jo*c,m=f-(f-c),g=c-m,C=p*g-(E-h*m-p*m-h*g),S=O*u,f=Jo*O,h=f-(f-O),p=O-h,f=Jo*u,m=f-(f-u),g=u-m,T=p*g-(S-h*m-p*m-h*g),v=C-T,d=C-v,Pa[0]=C-(v+d)+(d-T),y=E+v,d=y-E,w=E-(y-d)+(v-d),v=w-S,d=w-v,Pa[1]=w-(v+d)+(d-S),k=y+v,d=k-y,Pa[2]=y-(k-d)+(v-d),Pa[3]=k;const B=ZL(U,ple,4,Pa,mle);E=a*c,f=Jo*a,h=f-(f-a),p=a-h,f=Jo*c,m=f-(f-c),g=c-m,C=p*g-(E-h*m-p*m-h*g),S=l*u,f=Jo*l,h=f-(f-l),p=l-h,f=Jo*u,m=f-(f-u),g=u-m,T=p*g-(S-h*m-p*m-h*g),v=C-T,d=C-v,Pa[0]=C-(v+d)+(d-T),y=E+v,d=y-E,w=E-(y-d)+(v-d),v=w-S,d=w-v,Pa[1]=w-(v+d)+(d-S),k=y+v,d=k-y,Pa[2]=y-(k-d)+(v-d),Pa[3]=k;const V=ZL(B,mle,4,Pa,gle);return gle[V-1]}function VI(e,t,n,r,i,s){const o=(t-s)*(n-i),a=(e-i)*(r-s),l=o-a,u=Math.abs(o+a);return Math.abs(l)>=agt*u?l:-cgt(e,t,n,r,i,s,u)}const yle=Math.pow(2,-52),WI=new Uint32Array(512);class RO{static from(t,n=mgt,r=ggt){const i=t.length,s=new Float64Array(i*2);for(let o=0;o<i;o++){const a=t[o];s[2*o]=n(a),s[2*o+1]=r(a)}return new RO(s)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:s}=this,o=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let I=0;I<o;I++){const R=t[2*I],O=t[2*I+1];R<a&&(a=R),O<l&&(l=O),R>u&&(u=R),O>c&&(c=O),this._ids[I]=I}const d=(a+u)/2,f=(l+c)/2;let h,p,m;for(let I=0,R=1/0;I<o;I++){const O=ej(d,f,t[2*I],t[2*I+1]);O<R&&(h=I,R=O)}const g=t[2*h],v=t[2*h+1];for(let I=0,R=1/0;I<o;I++){if(I===h)continue;const O=ej(g,v,t[2*I],t[2*I+1]);O<R&&O>0&&(p=I,R=O)}let y=t[2*p],w=t[2*p+1],E=1/0;for(let I=0;I<o;I++){if(I===h||I===p)continue;const R=hgt(g,v,y,w,t[2*I],t[2*I+1]);R<E&&(m=I,E=R)}let C=t[2*m],S=t[2*m+1];if(E===1/0){for(let O=0;O<o;O++)this._dists[O]=t[2*O]-t[0]||t[2*O+1]-t[1];Pw(this._ids,this._dists,0,o-1);const I=new Uint32Array(o);let R=0;for(let O=0,M=-1/0;O<o;O++){const $=this._ids[O],L=this._dists[$];L>M&&(I[R++]=$,M=L)}this.hull=I.subarray(0,R),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(VI(g,v,y,w,C,S)<0){const I=p,R=y,O=w;p=m,y=C,w=S,m=I,C=R,S=O}const T=pgt(g,v,y,w,C,S);this._cx=T.x,this._cy=T.y;for(let I=0;I<o;I++)this._dists[I]=ej(t[2*I],t[2*I+1],T.x,T.y);Pw(this._ids,this._dists,0,o-1),this._hullStart=h;let k=3;r[h]=n[m]=p,r[p]=n[h]=m,r[m]=n[p]=h,i[h]=0,i[p]=1,i[m]=2,s.fill(-1),s[this._hashKey(g,v)]=h,s[this._hashKey(y,w)]=p,s[this._hashKey(C,S)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(let I=0,R,O;I<this._ids.length;I++){const M=this._ids[I],$=t[2*M],L=t[2*M+1];if(I>0&&Math.abs($-R)<=yle&&Math.abs(L-O)<=yle||(R=$,O=L,M===h||M===p||M===m))continue;let U=0;for(let z=0,F=this._hashKey($,L);z<this._hashSize&&(U=s[(F+z)%this._hashSize],!(U!==-1&&U!==r[U]));z++);U=n[U];let B=U,V;for(;V=r[B],VI($,L,t[2*B],t[2*B+1],t[2*V],t[2*V+1])>=0;)if(B=V,B===U){B=-1;break}if(B===-1)continue;let G=this._addTriangle(B,M,r[B],-1,-1,i[B]);i[M]=this._legalize(G+2),i[B]=G,k++;let Y=r[B];for(;V=r[Y],VI($,L,t[2*Y],t[2*Y+1],t[2*V],t[2*V+1])<0;)G=this._addTriangle(Y,M,V,i[M],-1,i[Y]),i[M]=this._legalize(G+2),r[Y]=Y,k--,Y=V;if(B===U)for(;V=n[B],VI($,L,t[2*V],t[2*V+1],t[2*B],t[2*B+1])<0;)G=this._addTriangle(V,M,B,-1,i[B],i[V]),this._legalize(G+2),i[V]=G,r[B]=B,k--,B=V;this._hullStart=n[M]=B,r[B]=n[Y]=M,r[M]=Y,s[this._hashKey($,L)]=M,s[this._hashKey(t[2*B],t[2*B+1])]=B}this.hull=new Uint32Array(k);for(let I=0,R=this._hullStart;I<k;I++)this.hull[I]=R,R=r[R];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(dgt(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let s=0,o=0;for(;;){const a=r[t],l=t-t%3;if(o=l+(t+2)%3,a===-1){if(s===0)break;t=WI[--s];continue}const u=a-a%3,c=l+(t+1)%3,d=u+(a+2)%3,f=n[o],h=n[t],p=n[c],m=n[d];if(fgt(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=f;const v=r[d];if(v===-1){let w=this._hullStart;do{if(this._hullTri[w]===d){this._hullTri[w]=t;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(t,v),this._link(a,r[o]),this._link(o,d);const y=u+(a+1)%3;s<WI.length&&(WI[s++]=y)}else{if(s===0)break;t=WI[--s]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,s,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,s),this._link(a+2,o),this.trianglesLen+=3,a}}function dgt(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function ej(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function fgt(e,t,n,r,i,s,o,a){const l=e-o,u=t-a,c=n-o,d=r-a,f=i-o,h=s-a,p=l*l+u*u,m=c*c+d*d,g=f*f+h*h;return l*(d*g-m*h)-u*(c*g-m*f)+p*(c*h-d*f)<0}function hgt(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,u=s-t,c=o*o+a*a,d=l*l+u*u,f=.5/(o*u-a*l),h=(u*c-a*d)*f,p=(o*d-l*c)*f;return h*h+p*p}function pgt(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,u=s-t,c=o*o+a*a,d=l*l+u*u,f=.5/(o*u-a*l),h=e+(u*c-a*d)*f,p=t+(o*d-l*c)*f;return{x:h,y:p}}function Pw(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],o=t[s];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{const i=n+r>>1;let s=n+1,o=r;fC(e,i,s),t[e[n]]>t[e[r]]&&fC(e,n,r),t[e[s]]>t[e[r]]&&fC(e,s,r),t[e[n]]>t[e[s]]&&fC(e,n,s);const a=e[s],l=t[a];for(;;){do s++;while(t[e[s]]<l);do o--;while(t[e[o]]>l);if(o<s)break;fC(e,s,o)}e[n+1]=e[o],e[o]=a,r-s+1>=o-n?(Pw(e,t,s,r),Pw(e,t,n,o-1)):(Pw(e,t,n,o-1),Pw(e,t,s,r))}}function fC(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mgt(e){return e[0]}function ggt(e){return e[1]}const vle=1e-6;class fv{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,s=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>vle||Math.abs(this._y1-s)>vle)&&(this._+="L"+i+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=s}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class bU{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let ygt=class{constructor(t,[n,r,i,s]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let s,o;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,g=0,v=r.length,y,w;m<v;m+=3,g+=2){const E=r[m]*2,C=r[m+1]*2,S=r[m+2]*2,T=t[E],k=t[E+1],I=t[C],R=t[C+1],O=t[S],M=t[S+1],$=I-T,L=R-k,U=O-T,B=M-k,V=($*B-L*U)*2;if(Math.abs(V)<1e-9){if(s===void 0){s=o=0;for(const Y of n)s+=t[Y*2],o+=t[Y*2+1];s/=n.length,o/=n.length}const G=1e9*Math.sign((s-T)*B-(o-k)*U);y=(T+O)/2-G*B,w=(k+M)/2+G*U}else{const G=1/V,Y=$*$+L*L,z=U*U+B*B;y=T+(B*Y-L*z)*G,w=k+($*z-U*Y)*G}a[g]=y,a[g+1]=w}let l=n[n.length-1],u,c=l*4,d,f=t[2*l],h,p=t[2*l+1];i.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=c,d=f,h=p,c=l*4,f=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=f-d}render(t){const n=t==null?t=new fv:void 0,{delaunay:{halfedges:r,inedges:i,hull:s},circumcenters:o,vectors:a}=this;if(s.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const f=r[c];if(f<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(f/3)*2,m=o[h],g=o[h+1],v=o[p],y=o[p+1];this._renderSegment(m,g,v,y,t)}let l,u=s[s.length-1];for(let c=0;c<s.length;++c){l=u,u=s[c];const d=Math.floor(i[u]/3)*2,f=o[d],h=o[d+1],p=l*4,m=this._project(f,h,a[p+2],a[p+3]);m&&this._renderSegment(f,h,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new fv:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new fv:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new bU;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,s){let o;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(s.moveTo(t,n),s.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,a,l))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let s=0,o=n.length;s<o;s+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[s]===i[a]&&n[s+1]===i[a+1]&&n[(s+2)%o]===i[(a+l-2)%l]&&n[(s+3)%o]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:s}}=this,o=r[t];if(o===-1)return null;const a=[];let l=o;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,s[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,s,o,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,f=0;for(let h=0;h<r;h+=2)if(s=a,o=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let p,m,g,v,y;if(u===0){if((p=this._clipSegment(s,o,a,l,u,c))===null)continue;[m,g,v,y]=p}else{if((p=this._clipSegment(a,l,s,o,c,u))===null)continue;[v,y,m,g]=p,d=f,f=this._edgecode(m,g),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(m,g):i=[m,g]}d=f,f=this._edgecode(v,y),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(v,y):i=[v,y]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,s,o){const a=s<o;for(a&&([t,n,r,i,s,o]=[r,i,t,n,o,s]);;){if(s===0&&o===0)return a?[r,i,t,n]:[t,n,r,i];if(s&o)return null;let l,u,c=s||o;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),s?(t=l,n=u,s=this._regioncode(t,n)):(r=l,i=u,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,s,o){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],s,o))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,d,f=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=f,f=this._edgecode(a[u],a[u+1]),d&&f&&(u=this._edge(t,d,f,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,s){for(;n!==r;){let o,a;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,a=this.ymin;break}(i[s]!==o||i[s+1]!==a)&&this.contains(t,o,a)&&(i.splice(s,0,o,a),s+=2)}return s}_project(t,n,r,i){let s=1/0,o,a,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<s&&(l=this.ymin,a=t+(s=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<s&&(l=this.ymax,a=t+(s=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<s&&(a=this.xmax,l=n+(s=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<s&&(a=this.xmin,l=n+(s=o)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const vgt=2*Math.PI,Wb=Math.pow;function bgt(e){return e[0]}function wgt(e){return e[1]}function xgt(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],s=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[s+1]-n[i+1])-(n[s]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function _gt(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class iK{static from(t,n=bgt,r=wgt,i){return new iK("length"in t?Egt(t,n,r,i):Float64Array.from(Cgt(t,n,r,i)))}constructor(t){this._delaunator=new RO(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&xgt(t)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){const p=_gt(n[2*f],n[2*f+1],d);n[2*f]=p[0],n[2*f+1]=p[1]}this._delaunator=new RO(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=s[l%3===2?l-2:l+1];(r[l]===-1||o[c]===-1)&&(o[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new ygt(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:s,triangles:o,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=s[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let s;for(;(s=this._step(r,t,n))>=0&&s!==r&&s!==i;)r=s;return s}_step(t,n,r){const{inedges:i,hull:s,_hullIndex:o,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=Wb(n-u[t*2],2)+Wb(r-u[t*2+1],2);const f=i[t];let h=f;do{let p=l[h];const m=Wb(n-u[p*2],2)+Wb(r-u[p*2+1],2);if(m<d&&(d=m,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=s[(o[t]+1)%s.length],h!==p&&Wb(n-u[h*2],2)+Wb(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(t){const n=t==null?t=new fv:void 0,{points:r,halfedges:i,triangles:s}=this;for(let o=0,a=i.length;o<a;++o){const l=i[o];if(l<o)continue;const u=s[o]*2,c=s[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new fv:void 0,{points:i}=this;for(let s=0,o=i.length;s<o;s+=2){const a=i[s],l=i[s+1];t.moveTo(a+n,l),t.arc(a,l,n,0,vgt)}return r&&r.value()}renderHull(t){const n=t==null?t=new fv:void 0,{hull:r,points:i}=this,s=r[0]*2,o=r.length;t.moveTo(i[s],i[s+1]);for(let a=1;a<o;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new bU;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new fv:void 0,{points:i,triangles:s}=this,o=s[t*=3]*2,a=s[t+1]*2,l=s[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new bU;return this.renderTriangle(t,n),n.value()}}function Egt(e,t,n,r){const i=e.length,s=new Float64Array(i*2);for(let o=0;o<i;++o){const a=e[o];s[o*2]=t.call(r,a,o,e),s[o*2+1]=n.call(r,a,o,e)}return s}function*Cgt(e,t,n,r){let i=0;for(const s of e)yield t.call(r,s,i,e),yield n.call(r,s,i,e),++i}var ble={},tj={},nj=34,hC=10,rj=13;function LSe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Sgt(e,t){var n=LSe(e);return function(r,i){return t(n(r),i,e)}}function wle(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function xl(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Tgt(e){return e<0?"-"+xl(-e,6):e>9999?"+"+xl(e,6):xl(e,4)}function kgt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Tgt(e.getUTCFullYear())+"-"+xl(e.getUTCMonth()+1,2)+"-"+xl(e.getUTCDate(),2)+(i?"T"+xl(t,2)+":"+xl(n,2)+":"+xl(r,2)+"."+xl(i,3)+"Z":r?"T"+xl(t,2)+":"+xl(n,2)+":"+xl(r,2)+"Z":n||t?"T"+xl(t,2)+":"+xl(n,2)+"Z":"")}function Agt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var h,p,m=i(d,function(g,v){if(h)return h(g,v-1);p=g,h=f?Sgt(g,f):LSe(g)});return m.columns=p||[],m}function i(d,f){var h=[],p=d.length,m=0,g=0,v,y=p<=0,w=!1;d.charCodeAt(p-1)===hC&&--p,d.charCodeAt(p-1)===rj&&--p;function E(){if(y)return tj;if(w)return w=!1,ble;var S,T=m,k;if(d.charCodeAt(T)===nj){for(;m++<p&&d.charCodeAt(m)!==nj||d.charCodeAt(++m)===nj;);return(S=m)>=p?y=!0:(k=d.charCodeAt(m++))===hC?w=!0:k===rj&&(w=!0,d.charCodeAt(m)===hC&&++m),d.slice(T+1,S-1).replace(/""/g,'"')}for(;m<p;){if((k=d.charCodeAt(S=m++))===hC)w=!0;else if(k===rj)w=!0,d.charCodeAt(m)===hC&&++m;else if(k!==n)continue;return d.slice(T,S)}return y=!0,d.slice(T,p)}for(;(v=E())!==tj;){for(var C=[];v!==ble&&v!==tj;)C.push(v),v=E();f&&(C=f(C,g++))==null||h.push(C)}return h}function s(d,f){return d.map(function(h){return f.map(function(p){return c(h[p])}).join(e)})}function o(d,f){return f==null&&(f=wle(d)),[f.map(c).join(e)].concat(s(d,f)).join(`
`)}function a(d,f){return f==null&&(f=wle(d)),s(d,f).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?kgt(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function Igt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var s,o=n.length,a,l=0,u=0;for(s=0;s<o;++s)a=n[s],l+=a.x,u+=a.y;for(l=(l/o-e)*r,u=(u/o-t)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=u}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(e=+s,i):e},i.y=function(s){return arguments.length?(t=+s,i):t},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function Rgt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return jSe(this.cover(t,n),t,n,e)}function jSe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s=e._root,o={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,d,f,h,p,m,g,v,y;if(!s)return e._root=o,e;for(;s.length;)if((m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f,i=s,!(s=s[v=g<<1|m]))return i[v]=o,e;if(h=+e._x.call(null,s.data),p=+e._y.call(null,s.data),t===h&&n===p)return o.next=s,i?i[v]=o:e._root=o,e;do i=i?i[v]=new Array(4):e._root=new Array(4),(m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f;while((v=g<<1|m)===(y=(p>=f)<<1|h>=d));return i[y]=s,i[v]=o,e}function Dgt(e){var t,n,r=e.length,i,s,o=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(o[n]=i,a[n]=s,i<l&&(l=i),i>c&&(c=i),s<u&&(u=s),s>d&&(d=s));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<r;++n)jSe(this,o[n],a[n],e[n]);return this}function Pgt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=s;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,o*=2,u){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function Ogt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Ngt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ha(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function $gt(e,t,n){var r,i=this._x0,s=this._y0,o,a,l,u,c=this._x1,d=this._y1,f=[],h=this._root,p,m;for(h&&f.push(new Ha(h,i,s,c,d)),n==null?n=1/0:(i=e-n,s=t-n,c=e+n,d=t+n,n*=n);p=f.pop();)if(!(!(h=p.node)||(o=p.x0)>c||(a=p.y0)>d||(l=p.x1)<i||(u=p.y1)<s))if(h.length){var g=(o+l)/2,v=(a+u)/2;f.push(new Ha(h[3],g,v,l,u),new Ha(h[2],o,v,g,u),new Ha(h[1],g,a,l,v),new Ha(h[0],o,a,g,v)),(m=(t>=v)<<1|e>=g)&&(p=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=p)}else{var y=e-+this._x.call(null,h.data),w=t-+this._y.call(null,h.data),E=y*y+w*w;if(E<n){var C=Math.sqrt(n=E);i=e-C,s=t-C,c=e+C,d=t+C,r=h.data}}return r}function Mgt(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,u=this._y1,c,d,f,h,p,m,g,v;if(!n)return this;if(n.length)for(;;){if((p=c>=(f=(o+l)/2))?o=f:l=f,(m=d>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,v=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):t?(s?t[g]=s:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=s,this)}function Fgt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Lgt(){return this._root}function jgt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Bgt(e){var t=[],n,r=this._root,i,s,o,a,l;for(r&&t.push(new Ha(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(s+a)/2,c=(o+l)/2;(i=r[3])&&t.push(new Ha(i,u,c,a,l)),(i=r[2])&&t.push(new Ha(i,s,c,u,l)),(i=r[1])&&t.push(new Ha(i,u,o,a,c)),(i=r[0])&&t.push(new Ha(i,s,o,u,c))}return this}function zgt(e){var t=[],n=[],r;for(this._root&&t.push(new Ha(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,d=(a+u)/2;(s=i[0])&&t.push(new Ha(s,o,a,c,d)),(s=i[1])&&t.push(new Ha(s,c,a,l,d)),(s=i[2])&&t.push(new Ha(s,o,d,c,u)),(s=i[3])&&t.push(new Ha(s,c,d,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Ugt(e){return e[0]}function qgt(e){return arguments.length?(this._x=e,this):this._x}function Hgt(e){return e[1]}function Vgt(e){return arguments.length?(this._y=e,this):this._y}function sK(e,t,n){var r=new oK(t??Ugt,n??Hgt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function oK(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function xle(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var nl=sK.prototype=oK.prototype;nl.copy=function(){var e=new oK(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=xle(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=xle(r));return e};nl.add=Rgt;nl.addAll=Dgt;nl.cover=Pgt;nl.data=Ogt;nl.extent=Ngt;nl.find=$gt;nl.remove=Mgt;nl.removeAll=Fgt;nl.root=Lgt;nl.size=jgt;nl.visit=Bgt;nl.visitAfter=zgt;nl.x=qgt;nl.y=Vgt;function Va(e){return function(){return e}}function D0(e){return(e()-.5)*1e-6}function Wgt(e){return e.x+e.vx}function Ggt(e){return e.y+e.vy}function Ygt(e){var t,n,r,i=1,s=1;typeof e!="function"&&(e=Va(e==null?1:+e));function o(){for(var u,c=t.length,d,f,h,p,m,g,v=0;v<s;++v)for(d=sK(t,Wgt,Ggt).visitAfter(a),u=0;u<c;++u)f=t[u],m=n[f.index],g=m*m,h=f.x+f.vx,p=f.y+f.vy,d.visit(y);function y(w,E,C,S,T){var k=w.data,I=w.r,R=m+I;if(k){if(k.index>f.index){var O=h-k.x-k.vx,M=p-k.y-k.vy,$=O*O+M*M;$<R*R&&(O===0&&(O=D0(r),$+=O*O),M===0&&(M=D0(r),$+=M*M),$=(R-($=Math.sqrt($)))/$*i,f.vx+=(O*=$)*(R=(I*=I)/(g+I)),f.vy+=(M*=$)*R,k.vx-=O*(R=1-R),k.vy-=M*R)}return}return E>h+R||S<h-R||C>p+R||T<p-R}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return o.initialize=function(u,c){t=u,r=c,l()},o.iterations=function(u){return arguments.length?(s=+u,o):s},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Va(+u),l(),o):e},o}function Kgt(e){return e.index}function _le(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function Xgt(e){var t=Kgt,n=d,r,i=Va(30),s,o,a,l,u,c=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function f(g){for(var v=0,y=e.length;v<c;++v)for(var w=0,E,C,S,T,k,I,R;w<y;++w)E=e[w],C=E.source,S=E.target,T=S.x+S.vx-C.x-C.vx||D0(u),k=S.y+S.vy-C.y-C.vy||D0(u),I=Math.sqrt(T*T+k*k),I=(I-s[w])/I*g*r[w],T*=I,k*=I,S.vx-=T*(R=l[w]),S.vy-=k*R,C.vx+=T*(R=1-R),C.vy+=k*R}function h(){if(o){var g,v=o.length,y=e.length,w=new Map(o.map((C,S)=>[t(C,S,o),C])),E;for(g=0,a=new Array(v);g<y;++g)E=e[g],E.index=g,typeof E.source!="object"&&(E.source=_le(w,E.source)),typeof E.target!="object"&&(E.target=_le(w,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)E=e[g],l[g]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(y),p(),s=new Array(y),m()}}function p(){if(o)for(var g=0,v=e.length;g<v;++g)r[g]=+n(e[g],g,e)}function m(){if(o)for(var g=0,v=e.length;g<v;++g)s[g]=+i(e[g],g,e)}return f.initialize=function(g,v){o=g,u=v,h()},f.links=function(g){return arguments.length?(e=g,h(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Va(+g),p(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Va(+g),m(),f):i},f}const Qgt=1664525,Jgt=1013904223,Ele=4294967296;function Zgt(){let e=1;return()=>(e=(Qgt*e+Jgt)%Ele)/Ele}function eyt(e){return e.x}function tyt(e){return e.y}var nyt=10,ryt=Math.PI*(3-Math.sqrt(5));function iyt(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=eK(d),u=HY("tick","end"),c=Zgt();e==null&&(e=[]);function d(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(m){var g,v=e.length,y;m===void 0&&(m=1);for(var w=0;w<m;++w)for(n+=(s-n)*i,a.forEach(function(E){E(n)}),g=0;g<v;++g)y=e[g],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return t}function h(){for(var m=0,g=e.length,v;m<g;++m){if(v=e[m],v.index=m,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var y=nyt*Math.sqrt(.5+m),w=m*ryt;v.x=y*Math.cos(w),v.y=y*Math.sin(w)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(s=+m,t):s},velocityDecay:function(m){return arguments.length?(o=1-m,t):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),t):a.get(m)},find:function(m,g,v){var y=0,w=e.length,E,C,S,T,k;for(v==null?v=1/0:v*=v,y=0;y<w;++y)T=e[y],E=m-T.x,C=g-T.y,S=E*E+C*C,S<v&&(k=T,v=S);return k},on:function(m,g){return arguments.length>1?(u.on(m,g),t):u.on(m)}}}function syt(){var e,t,n,r,i=Va(-30),s,o=1,a=1/0,l=.81;function u(h){var p,m=e.length,g=sK(e,eyt,tyt).visitAfter(d);for(r=h,p=0;p<m;++p)t=e[p],g.visit(f)}function c(){if(e){var h,p=e.length,m;for(s=new Array(p),h=0;h<p;++h)m=e[h],s[m.index]=+i(m,h,e)}}function d(h){var p=0,m,g,v=0,y,w,E;if(h.length){for(y=w=E=0;E<4;++E)(m=h[E])&&(g=Math.abs(m.value))&&(p+=m.value,v+=g,y+=g*m.x,w+=g*m.y);h.x=y/v,h.y=w/v}else{m=h,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}h.value=p}function f(h,p,m,g){if(!h.value)return!0;var v=h.x-t.x,y=h.y-t.y,w=g-p,E=v*v+y*y;if(w*w/l<E)return E<a&&(v===0&&(v=D0(n),E+=v*v),y===0&&(y=D0(n),E+=y*y),E<o&&(E=Math.sqrt(o*E)),t.vx+=v*h.value*r/E,t.vy+=y*h.value*r/E),!0;if(h.length||E>=a)return;(h.data!==t||h.next)&&(v===0&&(v=D0(n),E+=v*v),y===0&&(y=D0(n),E+=y*y),E<o&&(E=Math.sqrt(o*E)));do h.data!==t&&(w=s[h.data.index]*r/E,t.vx+=v*w,t.vy+=y*w);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Va(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(o=h*h,u):Math.sqrt(o)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function oyt(e){var t=Va(.1),n,r,i;typeof e!="function"&&(e=Va(e==null?0:+e));function s(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Va(+a),o(),s):t},s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Va(+a),o(),s):e},s}function ayt(e){var t=Va(.1),n,r,i;typeof e!="function"&&(e=Va(e==null?0:+e));function s(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Va(+a),o(),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:Va(+a),o(),s):e},s}function lyt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function DO(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function jx(e){return e=DO(Math.abs(e)),e?e[1]:NaN}function uyt(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function cyt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var dyt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gv(e){if(!(t=dyt.exec(e)))throw new Error("invalid format: "+e);var t;return new aK({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gv.prototype=aK.prototype;function aK(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}aK.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fyt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var BSe;function hyt(e,t){var n=DO(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(BSe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+DO(e,Math.max(0,t+s-1))[0]}function Cle(e,t){var n=DO(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Sle={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lyt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Cle(e*100,t),r:Cle,s:hyt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Tle(e){return e}var kle=Array.prototype.map,Ale=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zSe(e){var t=e.grouping===void 0||e.thousands===void 0?Tle:uyt(kle.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Tle:cyt(kle.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Gv(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,v=d.width,y=d.comma,w=d.precision,E=d.trim,C=d.type;C==="n"?(y=!0,C="g"):Sle[C]||(w===void 0&&(w=12),E=!0,C="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=m==="$"?r:/[%p]/.test(C)?o:"",k=Sle[C],I=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(O){var M=S,$=T,L,U,B;if(C==="c")$=k(O)+$,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?l:k(Math.abs(O),w),E&&(O=fyt(O)),V&&+O==0&&p!=="+"&&(V=!1),M=(V?p==="("?p:a:p==="-"||p==="("?"":p)+M,$=(C==="s"?Ale[8+BSe/3]:"")+$+(V&&p==="("?")":""),I){for(L=-1,U=O.length;++L<U;)if(B=O.charCodeAt(L),48>B||B>57){$=(B===46?i+O.slice(L+1):O.slice(L))+$,O=O.slice(0,L);break}}}y&&!g&&(O=t(O,1/0));var G=M.length+O.length+$.length,Y=G<v?new Array(v-G+1).join(f):"";switch(y&&g&&(O=t(Y+O,Y.length?v-$.length:1/0),Y=""),h){case"<":O=M+O+$+Y;break;case"=":O=M+Y+O+$;break;case"^":O=Y.slice(0,G=Y.length>>1)+M+O+$+Y.slice(G);break;default:O=Y+M+O+$;break}return s(O)}return R.toString=function(){return d+""},R}function c(d,f){var h=u((d=Gv(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(jx(f)/3)))*3,m=Math.pow(10,-p),g=Ale[8+p/3];return function(v){return h(m*v)+g}}return{format:u,formatPrefix:c}}var GI,e6,lK;pyt({thousands:",",grouping:[3],currency:["$",""]});function pyt(e){return GI=zSe(e),e6=GI.format,lK=GI.formatPrefix,GI}function USe(e){return Math.max(0,-jx(Math.abs(e)))}function qSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jx(t)/3)))*3-jx(Math.abs(e)))}function HSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jx(t)-jx(e))+1}var ln=1e-6,PO=1e-12,Vn=Math.PI,Gi=Vn/2,OO=Vn/4,Ja=Vn*2,ts=180/Vn,zn=Vn/180,or=Math.abs,X_=Math.atan,sc=Math.atan2,cn=Math.cos,YI=Math.ceil,VSe=Math.exp,wU=Math.hypot,NO=Math.log,ij=Math.pow,sn=Math.sin,Yu=Math.sign||function(e){return e>0?1:e<0?-1:0},Za=Math.sqrt,uK=Math.tan;function WSe(e){return e>1?0:e<-1?Vn:Math.acos(e)}function Fl(e){return e>1?Gi:e<-1?-Gi:Math.asin(e)}function Lo(){}function $O(e,t){e&&Rle.hasOwnProperty(e.type)&&Rle[e.type](e,t)}var Ile={Feature:function(e,t){$O(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)$O(n[r].geometry,t)}},Rle={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){xU(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)xU(n[r],t,0)},Polygon:function(e,t){Dle(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Dle(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)$O(n[r],t)}};function xU(e,t,n){var r=-1,i=e.length-n,s;for(t.lineStart();++r<i;)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function Dle(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)xU(e[n],t,1);t.polygonEnd()}function _p(e,t){e&&Ile.hasOwnProperty(e.type)?Ile[e.type](e,t):$O(e,t)}var MO=new Ya,FO=new Ya,GSe,YSe,_U,EU,CU,fh={point:Lo,lineStart:Lo,lineEnd:Lo,polygonStart:function(){MO=new Ya,fh.lineStart=myt,fh.lineEnd=gyt},polygonEnd:function(){var e=+MO;FO.add(e<0?Ja+e:e),this.lineStart=this.lineEnd=this.point=Lo},sphere:function(){FO.add(Ja)}};function myt(){fh.point=yyt}function gyt(){KSe(GSe,YSe)}function yyt(e,t){fh.point=KSe,GSe=e,YSe=t,e*=zn,t*=zn,_U=e,EU=cn(t=t/2+OO),CU=sn(t)}function KSe(e,t){e*=zn,t*=zn,t=t/2+OO;var n=e-_U,r=n>=0?1:-1,i=r*n,s=cn(t),o=sn(t),a=CU*o,l=EU*s+a*cn(i),u=a*r*sn(i);MO.add(sc(u,l)),_U=e,EU=s,CU=o}function vyt(e){return FO=new Ya,_p(e,fh),FO*2}function LO(e){return[sc(e[1],e[0]),Fl(e[2])]}function Yv(e){var t=e[0],n=e[1],r=cn(n);return[r*cn(t),r*sn(t),sn(n)]}function KI(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Bx(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function sj(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function XI(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function jO(e){var t=Za(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Ni,Cl,qi,iu,Hy,XSe,QSe,sx,XS,h0,rm,gp={point:SU,lineStart:Ple,lineEnd:Ole,polygonStart:function(){gp.point=ZSe,gp.lineStart=byt,gp.lineEnd=wyt,XS=new Ya,fh.polygonStart()},polygonEnd:function(){fh.polygonEnd(),gp.point=SU,gp.lineStart=Ple,gp.lineEnd=Ole,MO<0?(Ni=-(qi=180),Cl=-(iu=90)):XS>ln?iu=90:XS<-ln&&(Cl=-90),rm[0]=Ni,rm[1]=qi},sphere:function(){Ni=-(qi=180),Cl=-(iu=90)}};function SU(e,t){h0.push(rm=[Ni=e,qi=e]),t<Cl&&(Cl=t),t>iu&&(iu=t)}function JSe(e,t){var n=Yv([e*zn,t*zn]);if(sx){var r=Bx(sx,n),i=[r[1],-r[0],0],s=Bx(i,r);jO(s),s=LO(s);var o=e-Hy,a=o>0?1:-1,l=s[0]*ts*a,u,c=or(o)>180;c^(a*Hy<l&&l<a*e)?(u=s[1]*ts,u>iu&&(iu=u)):(l=(l+360)%360-180,c^(a*Hy<l&&l<a*e)?(u=-s[1]*ts,u<Cl&&(Cl=u)):(t<Cl&&(Cl=t),t>iu&&(iu=t))),c?e<Hy?nu(Ni,e)>nu(Ni,qi)&&(qi=e):nu(e,qi)>nu(Ni,qi)&&(Ni=e):qi>=Ni?(e<Ni&&(Ni=e),e>qi&&(qi=e)):e>Hy?nu(Ni,e)>nu(Ni,qi)&&(qi=e):nu(e,qi)>nu(Ni,qi)&&(Ni=e)}else h0.push(rm=[Ni=e,qi=e]);t<Cl&&(Cl=t),t>iu&&(iu=t),sx=n,Hy=e}function Ple(){gp.point=JSe}function Ole(){rm[0]=Ni,rm[1]=qi,gp.point=SU,sx=null}function ZSe(e,t){if(sx){var n=e-Hy;XS.add(or(n)>180?n+(n>0?360:-360):n)}else XSe=e,QSe=t;fh.point(e,t),JSe(e,t)}function byt(){fh.lineStart()}function wyt(){ZSe(XSe,QSe),fh.lineEnd(),or(XS)>ln&&(Ni=-(qi=180)),rm[0]=Ni,rm[1]=qi,sx=null}function nu(e,t){return(t-=e)<0?t+360:t}function xyt(e,t){return e[0]-t[0]}function Nle(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function _yt(e){var t,n,r,i,s,o,a;if(iu=qi=-(Ni=Cl=1/0),h0=[],_p(e,gp),n=h0.length){for(h0.sort(xyt),t=1,r=h0[0],s=[r];t<n;++t)i=h0[t],Nle(r,i[0])||Nle(r,i[1])?(nu(r[0],i[1])>nu(r[0],r[1])&&(r[1]=i[1]),nu(i[0],r[1])>nu(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,n=s.length-1,t=0,r=s[n];t<=n;r=i,++t)i=s[t],(a=nu(r[1],i[0]))>o&&(o=a,Ni=i[0],qi=r[1])}return h0=rm=null,Ni===1/0||Cl===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ni,Cl],[qi,iu]]}var sS,BO,zO,UO,qO,HO,VO,WO,TU,kU,AU,e2e,t2e,Ba,za,Ua,cd={sphere:Lo,point:cK,lineStart:$le,lineEnd:Mle,polygonStart:function(){cd.lineStart=Syt,cd.lineEnd=Tyt},polygonEnd:function(){cd.lineStart=$le,cd.lineEnd=Mle}};function cK(e,t){e*=zn,t*=zn;var n=cn(t);xk(n*cn(e),n*sn(e),sn(t))}function xk(e,t,n){++sS,zO+=(e-zO)/sS,UO+=(t-UO)/sS,qO+=(n-qO)/sS}function $le(){cd.point=Eyt}function Eyt(e,t){e*=zn,t*=zn;var n=cn(t);Ba=n*cn(e),za=n*sn(e),Ua=sn(t),cd.point=Cyt,xk(Ba,za,Ua)}function Cyt(e,t){e*=zn,t*=zn;var n=cn(t),r=n*cn(e),i=n*sn(e),s=sn(t),o=sc(Za((o=za*s-Ua*i)*o+(o=Ua*r-Ba*s)*o+(o=Ba*i-za*r)*o),Ba*r+za*i+Ua*s);BO+=o,HO+=o*(Ba+(Ba=r)),VO+=o*(za+(za=i)),WO+=o*(Ua+(Ua=s)),xk(Ba,za,Ua)}function Mle(){cd.point=cK}function Syt(){cd.point=kyt}function Tyt(){n2e(e2e,t2e),cd.point=cK}function kyt(e,t){e2e=e,t2e=t,e*=zn,t*=zn,cd.point=n2e;var n=cn(t);Ba=n*cn(e),za=n*sn(e),Ua=sn(t),xk(Ba,za,Ua)}function n2e(e,t){e*=zn,t*=zn;var n=cn(t),r=n*cn(e),i=n*sn(e),s=sn(t),o=za*s-Ua*i,a=Ua*r-Ba*s,l=Ba*i-za*r,u=wU(o,a,l),c=Fl(u),d=u&&-c/u;TU.add(d*o),kU.add(d*a),AU.add(d*l),BO+=c,HO+=c*(Ba+(Ba=r)),VO+=c*(za+(za=i)),WO+=c*(Ua+(Ua=s)),xk(Ba,za,Ua)}function Ayt(e){sS=BO=zO=UO=qO=HO=VO=WO=0,TU=new Ya,kU=new Ya,AU=new Ya,_p(e,cd);var t=+TU,n=+kU,r=+AU,i=wU(t,n,r);return i<PO&&(t=HO,n=VO,r=WO,BO<ln&&(t=zO,n=UO,r=qO),i=wU(t,n,r),i<PO)?[NaN,NaN]:[sc(n,t)*ts,Fl(r/i)*ts]}function IU(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function RU(e,t){return or(e)>Vn&&(e-=Math.round(e/Ja)*Ja),[e,t]}RU.invert=RU;function r2e(e,t,n){return(e%=Ja)?t||n?IU(Lle(e),jle(t,n)):Lle(e):t||n?jle(t,n):RU}function Fle(e){return function(t,n){return t+=e,or(t)>Vn&&(t-=Math.round(t/Ja)*Ja),[t,n]}}function Lle(e){var t=Fle(e);return t.invert=Fle(-e),t}function jle(e,t){var n=cn(e),r=sn(e),i=cn(t),s=sn(t);function o(a,l){var u=cn(l),c=cn(a)*u,d=sn(a)*u,f=sn(l),h=f*n+c*r;return[sc(d*i-h*s,c*n-f*r),Fl(h*i+d*s)]}return o.invert=function(a,l){var u=cn(l),c=cn(a)*u,d=sn(a)*u,f=sn(l),h=f*i-d*s;return[sc(d*i+f*s,c*n+h*r),Fl(h*n-c*r)]},o}function Iyt(e){e=r2e(e[0]*zn,e[1]*zn,e.length>2?e[2]*zn:0);function t(n){return n=e(n[0]*zn,n[1]*zn),n[0]*=ts,n[1]*=ts,n}return t.invert=function(n){return n=e.invert(n[0]*zn,n[1]*zn),n[0]*=ts,n[1]*=ts,n},t}function Ryt(e,t,n,r,i,s){if(n){var o=cn(t),a=sn(t),l=r*n;i==null?(i=t+r*Ja,s=t-l/2):(i=Ble(o,i),s=Ble(o,s),(r>0?i<s:i>s)&&(i+=r*Ja));for(var u,c=i;r>0?c>s:c<s;c-=l)u=LO([o,-a*cn(c),-a*sn(c)]),e.point(u[0],u[1])}}function Ble(e,t){t=Yv(t),t[0]-=e,jO(t);var n=WSe(-t[1]);return((-t[2]<0?-n:n)+Ja-ln)%Ja}function i2e(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Lo,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function dD(e,t){return or(e[0]-t[0])<ln&&or(e[1]-t[1])<ln}function QI(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function s2e(e,t,n,r,i){var s=[],o=[],a,l;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],v=p[m],y;if(dD(g,v)){if(!g[2]&&!v[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=p[a])[0],g[1]);i.lineEnd();return}v[0]+=2*ln}s.push(y=new QI(g,p,null,!0)),o.push(y.o=new QI(g,null,y,!1)),s.push(y=new QI(v,p,null,!1)),o.push(y.o=new QI(v,null,y,!0))}}),!!s.length){for(o.sort(t),zle(s),zle(o),a=0,l=o.length;a<l;++a)o[a].e=n=!n;for(var u=s[0],c,d;;){for(var f=u,h=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((d=c[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(c=f.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,h=!h}while(!f.v);i.lineEnd()}}}function zle(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function oj(e){return or(e[0])<=Vn?e[0]:Yu(e[0])*((or(e[0])+Vn)%Ja-Vn)}function Dyt(e,t){var n=oj(t),r=t[1],i=sn(r),s=[sn(n),-cn(n),0],o=0,a=0,l=new Ya;i===1?r=Gi+ln:i===-1&&(r=-Gi-ln);for(var u=0,c=e.length;u<c;++u)if(f=(d=e[u]).length)for(var d,f,h=d[f-1],p=oj(h),m=h[1]/2+OO,g=sn(m),v=cn(m),y=0;y<f;++y,p=E,g=S,v=T,h=w){var w=d[y],E=oj(w),C=w[1]/2+OO,S=sn(C),T=cn(C),k=E-p,I=k>=0?1:-1,R=I*k,O=R>Vn,M=g*S;if(l.add(sc(M*I*sn(R),v*T+M*cn(R))),o+=O?k+I*Ja:k,O^p>=n^E>=n){var $=Bx(Yv(h),Yv(w));jO($);var L=Bx(s,$);jO(L);var U=(O^k>=0?-1:1)*Fl(L[2]);(r>U||r===U&&($[0]||$[1]))&&(a+=O^k>=0?1:-1)}}return(o<-ln||o<ln&&l<-PO)^a&1}function o2e(e,t,n,r){return function(i){var s=t(i),o=i2e(),a=t(o),l=!1,u,c,d,f={point:h,lineStart:m,lineEnd:g,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=w,c=[],u=[]},polygonEnd:function(){f.point=h,f.lineStart=m,f.lineEnd=g,c=qCe(c);var E=Dyt(u,r);c.length?(l||(i.polygonStart(),l=!0),s2e(c,Oyt,E,n,i)):E&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,C){e(E,C)&&i.point(E,C)}function p(E,C){s.point(E,C)}function m(){f.point=p,s.lineStart()}function g(){f.point=h,s.lineEnd()}function v(E,C){d.push([E,C]),a.point(E,C)}function y(){a.lineStart(),d=[]}function w(){v(d[0][0],d[0][1]),a.lineEnd();var E=a.clean(),C=o.result(),S,T=C.length,k,I,R;if(d.pop(),u.push(d),d=null,!!T){if(E&1){if(I=C[0],(k=I.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),S=0;S<k;++S)i.point((R=I[S])[0],R[1]);i.lineEnd()}return}T>1&&E&2&&C.push(C.pop().concat(C.shift())),c.push(C.filter(Pyt))}}return f}}function Pyt(e){return e.length>1}function Oyt(e,t){return((e=e.x)[0]<0?e[1]-Gi-ln:Gi-e[1])-((t=t.x)[0]<0?t[1]-Gi-ln:Gi-t[1])}const Ule=o2e(function(){return!0},Nyt,Myt,[-Vn,-Gi]);function Nyt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,o){var a=s>0?Vn:-Vn,l=or(s-t);or(l-Vn)<ln?(e.point(t,n=(n+o)/2>0?Gi:-Gi),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(s,n),i=0):r!==a&&l>=Vn&&(or(t-r)<ln&&(t-=r*ln),or(s-a)<ln&&(s-=a*ln),n=$yt(t,n,s,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=s,n=o),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function $yt(e,t,n,r){var i,s,o=sn(e-n);return or(o)>ln?X_((sn(t)*(s=cn(r))*sn(n)-sn(r)*(i=cn(t))*sn(e))/(i*s*o)):(t+r)/2}function Myt(e,t,n,r){var i;if(e==null)i=n*Gi,r.point(-Vn,i),r.point(0,i),r.point(Vn,i),r.point(Vn,0),r.point(Vn,-i),r.point(0,-i),r.point(-Vn,-i),r.point(-Vn,0),r.point(-Vn,i);else if(or(e[0]-t[0])>ln){var s=e[0]<t[0]?Vn:-Vn;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function Fyt(e){var t=cn(e),n=2*zn,r=t>0,i=or(t)>ln;function s(c,d,f,h){Ryt(h,e,n,f,c,d)}function o(c,d){return cn(c)*cn(d)>t}function a(c){var d,f,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,v){var y=[g,v],w,E=o(g,v),C=r?E?0:u(g,v):E?u(g+(g<0?Vn:-Vn),v):0;if(!d&&(p=h=E)&&c.lineStart(),E!==h&&(w=l(d,y),(!w||dD(d,w)||dD(y,w))&&(y[2]=1)),E!==h)m=0,E?(c.lineStart(),w=l(y,d),c.point(w[0],w[1])):(w=l(d,y),c.point(w[0],w[1],2),c.lineEnd()),d=w;else if(i&&d&&r^E){var S;!(C&f)&&(S=l(y,d,!0))&&(m=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}E&&(!d||!dD(d,y))&&c.point(y[0],y[1]),d=y,h=E,f=C},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function l(c,d,f){var h=Yv(c),p=Yv(d),m=[1,0,0],g=Bx(h,p),v=KI(g,g),y=g[0],w=v-y*y;if(!w)return!f&&c;var E=t*v/w,C=-t*y/w,S=Bx(m,g),T=XI(m,E),k=XI(g,C);sj(T,k);var I=S,R=KI(T,I),O=KI(I,I),M=R*R-O*(KI(T,T)-1);if(!(M<0)){var $=Za(M),L=XI(I,(-R-$)/O);if(sj(L,T),L=LO(L),!f)return L;var U=c[0],B=d[0],V=c[1],G=d[1],Y;B<U&&(Y=U,U=B,B=Y);var z=B-U,F=or(z-Vn)<ln,W=F||z<ln;if(!F&&G<V&&(Y=V,V=G,G=Y),W?F?V+G>0^L[1]<(or(L[0]-U)<ln?V:G):V<=L[1]&&L[1]<=G:z>Vn^(U<=L[0]&&L[0]<=B)){var q=XI(I,(-R+$)/O);return sj(q,T),[L,LO(q)]}}}function u(c,d){var f=r?e:Vn-e,h=0;return c<-f?h|=1:c>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return o2e(o,a,s,r?[0,-e]:[-Vn,e-Vn])}function Lyt(e,t,n,r,i,s){var o=e[0],a=e[1],l=t[0],u=t[1],c=0,d=1,f=l-o,h=u-a,p;if(p=n-o,!(!f&&p>0)){if(p/=f,f<0){if(p<c)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>c&&(c=p)}if(p=i-o,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>c&&(c=p)}else if(f>0){if(p<c)return;p<d&&(d=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=s-a,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(e[0]=o+c*f,e[1]=a+c*h),d<1&&(t[0]=o+d*f,t[1]=a+d*h),!0}}}}}var oS=1e9,JI=-oS;function a2e(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function s(u,c,d,f){var h=0,p=0;if(u==null||(h=o(u,d))!==(p=o(c,d))||l(u,c)<0^d>0)do f.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==p);else f.point(c[0],c[1])}function o(u,c){return or(u[0]-e)<ln?c>0?0:3:or(u[0]-n)<ln?c>0?2:1:or(u[1]-t)<ln?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var d=o(u,1),f=o(c,1);return d!==f?d-f:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=i2e(),f,h,p,m,g,v,y,w,E,C,S,T={point:k,lineStart:M,lineEnd:$,polygonStart:R,polygonEnd:O};function k(U,B){i(U,B)&&c.point(U,B)}function I(){for(var U=0,B=0,V=h.length;B<V;++B)for(var G=h[B],Y=1,z=G.length,F=G[0],W,q,K=F[0],J=F[1];Y<z;++Y)W=K,q=J,F=G[Y],K=F[0],J=F[1],q<=r?J>r&&(K-W)*(r-q)>(J-q)*(e-W)&&++U:J<=r&&(K-W)*(r-q)<(J-q)*(e-W)&&--U;return U}function R(){c=d,f=[],h=[],S=!0}function O(){var U=I(),B=S&&U,V=(f=qCe(f)).length;(B||V)&&(u.polygonStart(),B&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),V&&s2e(f,a,U,s,u),u.polygonEnd()),c=u,f=h=p=null}function M(){T.point=L,h&&h.push(p=[]),C=!0,E=!1,y=w=NaN}function $(){f&&(L(m,g),v&&E&&d.rejoin(),f.push(d.result())),T.point=k,E&&c.lineEnd()}function L(U,B){var V=i(U,B);if(h&&p.push([U,B]),C)m=U,g=B,v=V,C=!1,V&&(c.lineStart(),c.point(U,B));else if(V&&E)c.point(U,B);else{var G=[y=Math.max(JI,Math.min(oS,y)),w=Math.max(JI,Math.min(oS,w))],Y=[U=Math.max(JI,Math.min(oS,U)),B=Math.max(JI,Math.min(oS,B))];Lyt(G,Y,e,t,n,r)?(E||(c.lineStart(),c.point(G[0],G[1])),c.point(Y[0],Y[1]),V||c.lineEnd(),S=!1):V&&(c.lineStart(),c.point(U,B),S=!1)}y=U,w=B,E=V}return T}}function qle(e,t,n){var r=Al(e,t-ln,n).concat(t);return function(i){return r.map(function(s){return[i,s]})}}function Hle(e,t,n){var r=Al(e,t-ln,n).concat(t);return function(i){return r.map(function(s){return[s,i]})}}function jyt(){var e,t,n,r,i,s,o,a,l=10,u=l,c=90,d=360,f,h,p,m,g=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return Al(YI(r/c)*c,n,c).map(p).concat(Al(YI(a/d)*d,o,d).map(m)).concat(Al(YI(t/l)*l,e,l).filter(function(w){return or(w%c)>ln}).map(f)).concat(Al(YI(s/u)*u,i,u).filter(function(w){return or(w%d)>ln}).map(h))}return v.lines=function(){return y().map(function(w){return{type:"LineString",coordinates:w}})},v.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(o).slice(1),p(n).reverse().slice(1),m(a).reverse().slice(1))]}},v.extent=function(w){return arguments.length?v.extentMajor(w).extentMinor(w):v.extentMinor()},v.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],a=+w[0][1],o=+w[1][1],r>n&&(w=r,r=n,n=w),a>o&&(w=a,a=o,o=w),v.precision(g)):[[r,a],[n,o]]},v.extentMinor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],s=+w[0][1],i=+w[1][1],t>e&&(w=t,t=e,e=w),s>i&&(w=s,s=i,i=w),v.precision(g)):[[t,s],[e,i]]},v.step=function(w){return arguments.length?v.stepMajor(w).stepMinor(w):v.stepMinor()},v.stepMajor=function(w){return arguments.length?(c=+w[0],d=+w[1],v):[c,d]},v.stepMinor=function(w){return arguments.length?(l=+w[0],u=+w[1],v):[l,u]},v.precision=function(w){return arguments.length?(g=+w,f=qle(s,i,90),h=Hle(t,e,g),p=qle(a,o,90),m=Hle(r,n,g),v):g},v.extentMajor([[-180,-90+ln],[180,90-ln]]).extentMinor([[-180,-80-ln],[180,80+ln]])}const X2=e=>e;var aj=new Ya,DU=new Ya,l2e,u2e,PU,OU,Ep={point:Lo,lineStart:Lo,lineEnd:Lo,polygonStart:function(){Ep.lineStart=Byt,Ep.lineEnd=Uyt},polygonEnd:function(){Ep.lineStart=Ep.lineEnd=Ep.point=Lo,aj.add(or(DU)),DU=new Ya},result:function(){var e=aj/2;return aj=new Ya,e}};function Byt(){Ep.point=zyt}function zyt(e,t){Ep.point=c2e,l2e=PU=e,u2e=OU=t}function c2e(e,t){DU.add(OU*e-PU*t),PU=e,OU=t}function Uyt(){c2e(l2e,u2e)}var zx=1/0,GO=zx,Q2=-zx,YO=Q2,KO={point:qyt,lineStart:Lo,lineEnd:Lo,polygonStart:Lo,polygonEnd:Lo,result:function(){var e=[[zx,GO],[Q2,YO]];return Q2=YO=-(GO=zx=1/0),e}};function qyt(e,t){e<zx&&(zx=e),e>Q2&&(Q2=e),t<GO&&(GO=t),t>YO&&(YO=t)}var NU=0,$U=0,aS=0,XO=0,QO=0,Ow=0,MU=0,FU=0,lS=0,d2e,f2e,jf,Bf,Vu={point:Kv,lineStart:Vle,lineEnd:Wle,polygonStart:function(){Vu.lineStart=Wyt,Vu.lineEnd=Gyt},polygonEnd:function(){Vu.point=Kv,Vu.lineStart=Vle,Vu.lineEnd=Wle},result:function(){var e=lS?[MU/lS,FU/lS]:Ow?[XO/Ow,QO/Ow]:aS?[NU/aS,$U/aS]:[NaN,NaN];return NU=$U=aS=XO=QO=Ow=MU=FU=lS=0,e}};function Kv(e,t){NU+=e,$U+=t,++aS}function Vle(){Vu.point=Hyt}function Hyt(e,t){Vu.point=Vyt,Kv(jf=e,Bf=t)}function Vyt(e,t){var n=e-jf,r=t-Bf,i=Za(n*n+r*r);XO+=i*(jf+e)/2,QO+=i*(Bf+t)/2,Ow+=i,Kv(jf=e,Bf=t)}function Wle(){Vu.point=Kv}function Wyt(){Vu.point=Yyt}function Gyt(){h2e(d2e,f2e)}function Yyt(e,t){Vu.point=h2e,Kv(d2e=jf=e,f2e=Bf=t)}function h2e(e,t){var n=e-jf,r=t-Bf,i=Za(n*n+r*r);XO+=i*(jf+e)/2,QO+=i*(Bf+t)/2,Ow+=i,i=Bf*e-jf*t,MU+=i*(jf+e),FU+=i*(Bf+t),lS+=i*3,Kv(jf=e,Bf=t)}function p2e(e){this._context=e}p2e.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ja);break}}},result:Lo};var LU=new Ya,lj,m2e,g2e,uS,cS,J2={point:Lo,lineStart:function(){J2.point=Kyt},lineEnd:function(){lj&&y2e(m2e,g2e),J2.point=Lo},polygonStart:function(){lj=!0},polygonEnd:function(){lj=null},result:function(){var e=+LU;return LU=new Ya,e}};function Kyt(e,t){J2.point=y2e,m2e=uS=e,g2e=cS=t}function y2e(e,t){uS-=e,cS-=t,LU.add(Za(uS*uS+cS*cS)),uS=e,cS=t}let Gle,JO,Yle,Kle;class Xle{constructor(t){this._append=t==null?v2e:Xyt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Yle||this._append!==JO){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Yle=r,JO=this._append,Kle=this._,this._=i}this._+=Kle;break}}}result(){const t=this._;return this._="",t.length?t:null}}function v2e(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Xyt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return v2e;if(t!==Gle){const n=10**t;Gle=t,JO=function(i){let s=1;this._+=i[0];for(const o=i.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return JO}function b2e(e,t){let n=3,r=4.5,i,s;function o(a){return a&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),_p(a,i(s))),s.result()}return o.area=function(a){return _p(a,i(Ep)),Ep.result()},o.measure=function(a){return _p(a,i(J2)),J2.result()},o.bounds=function(a){return _p(a,i(KO)),KO.result()},o.centroid=function(a){return _p(a,i(Vu)),Vu.result()},o.projection=function(a){return arguments.length?(i=a==null?(e=null,X2):(e=a).stream,o):e},o.context=function(a){return arguments.length?(s=a==null?(t=null,new Xle(n)):new p2e(t=a),typeof r!="function"&&s.pointRadius(r),o):t},o.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(s.pointRadius(+a),+a),o):r},o.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(s=new Xle(n)),o},o.projection(e).digits(n).context(t)}function t6(e){return function(t){var n=new jU;for(var r in e)n[r]=e[r];return n.stream=t,n}}function jU(){}jU.prototype={constructor:jU,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dK(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),_p(n,e.stream(KO)),t(KO.result()),r!=null&&e.clipExtent(r),e}function n6(e,t,n){return dK(e,function(r){var i=t[1][0]-t[0][0],s=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),a=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(s-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,l])},n)}function fK(e,t,n){return n6(e,[[0,0],t],n)}function hK(e,t,n){return dK(e,function(r){var i=+t,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,a=-s*r[0][1];e.scale(150*s).translate([o,a])},n)}function pK(e,t,n){return dK(e,function(r){var i=+t,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],a=(i-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,a])},n)}var Qle=16,Qyt=cn(30*zn);function Jle(e,t){return+t?Zyt(e,t):Jyt(e)}function Jyt(e){return t6({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Zyt(e,t){function n(r,i,s,o,a,l,u,c,d,f,h,p,m,g){var v=u-r,y=c-i,w=v*v+y*y;if(w>4*t&&m--){var E=o+f,C=a+h,S=l+p,T=Za(E*E+C*C+S*S),k=Fl(S/=T),I=or(or(S)-1)<ln||or(s-d)<ln?(s+d)/2:sc(C,E),R=e(I,k),O=R[0],M=R[1],$=O-r,L=M-i,U=y*$-v*L;(U*U/w>t||or((v*$+y*L)/w-.5)>.3||o*f+a*h+l*p<Qyt)&&(n(r,i,s,o,a,l,O,M,I,E/=T,C/=T,S,m,g),g.point(O,M),n(O,M,I,E,C,S,u,c,d,f,h,p,m,g))}}return function(r){var i,s,o,a,l,u,c,d,f,h,p,m,g={point:v,lineStart:y,lineEnd:E,polygonStart:function(){r.polygonStart(),g.lineStart=C},polygonEnd:function(){r.polygonEnd(),g.lineStart=y}};function v(k,I){k=e(k,I),r.point(k[0],k[1])}function y(){d=NaN,g.point=w,r.lineStart()}function w(k,I){var R=Yv([k,I]),O=e(k,I);n(d,f,c,h,p,m,d=O[0],f=O[1],c=k,h=R[0],p=R[1],m=R[2],Qle,r),r.point(d,f)}function E(){g.point=v,r.lineEnd()}function C(){y(),g.point=S,g.lineEnd=T}function S(k,I){w(i=k,I),s=d,o=f,a=h,l=p,u=m,g.point=w}function T(){n(d,f,c,h,p,m,s,o,i,a,l,u,Qle,r),g.lineEnd=E,E()}return g}}var evt=t6({point:function(e,t){this.stream.point(e*zn,t*zn)}});function tvt(e){return t6({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function nvt(e,t,n,r,i){function s(o,a){return o*=r,a*=i,[t+e*o,n-e*a]}return s.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},s}function Zle(e,t,n,r,i,s){if(!s)return nvt(e,t,n,r,i);var o=cn(s),a=sn(s),l=o*e,u=a*e,c=o/e,d=a/e,f=(a*n-o*t)/e,h=(a*t+o*n)/e;function p(m,g){return m*=r,g*=i,[l*m-u*g+t,n-u*m-l*g]}return p.invert=function(m,g){return[r*(c*m-d*g+f),i*(h-d*m-c*g)]},p}function Ph(e){return w2e(function(){return e})()}function w2e(e){var t,n=150,r=480,i=250,s=0,o=0,a=0,l=0,u=0,c,d=0,f=1,h=1,p=null,m=Ule,g=null,v,y,w,E=X2,C=.5,S,T,k,I,R;function O(U){return k(U[0]*zn,U[1]*zn)}function M(U){return U=k.invert(U[0],U[1]),U&&[U[0]*ts,U[1]*ts]}O.stream=function(U){return I&&R===U?I:I=evt(tvt(c)(m(S(E(R=U)))))},O.preclip=function(U){return arguments.length?(m=U,p=void 0,L()):m},O.postclip=function(U){return arguments.length?(E=U,g=v=y=w=null,L()):E},O.clipAngle=function(U){return arguments.length?(m=+U?Fyt(p=U*zn):(p=null,Ule),L()):p*ts},O.clipExtent=function(U){return arguments.length?(E=U==null?(g=v=y=w=null,X2):a2e(g=+U[0][0],v=+U[0][1],y=+U[1][0],w=+U[1][1]),L()):g==null?null:[[g,v],[y,w]]},O.scale=function(U){return arguments.length?(n=+U,$()):n},O.translate=function(U){return arguments.length?(r=+U[0],i=+U[1],$()):[r,i]},O.center=function(U){return arguments.length?(s=U[0]%360*zn,o=U[1]%360*zn,$()):[s*ts,o*ts]},O.rotate=function(U){return arguments.length?(a=U[0]%360*zn,l=U[1]%360*zn,u=U.length>2?U[2]%360*zn:0,$()):[a*ts,l*ts,u*ts]},O.angle=function(U){return arguments.length?(d=U%360*zn,$()):d*ts},O.reflectX=function(U){return arguments.length?(f=U?-1:1,$()):f<0},O.reflectY=function(U){return arguments.length?(h=U?-1:1,$()):h<0},O.precision=function(U){return arguments.length?(S=Jle(T,C=U*U),L()):Za(C)},O.fitExtent=function(U,B){return n6(O,U,B)},O.fitSize=function(U,B){return fK(O,U,B)},O.fitWidth=function(U,B){return hK(O,U,B)},O.fitHeight=function(U,B){return pK(O,U,B)};function $(){var U=Zle(n,0,0,f,h,d).apply(null,t(s,o)),B=Zle(n,r-U[0],i-U[1],f,h,d);return c=r2e(a,l,u),T=IU(t,B),k=IU(c,T),S=Jle(T,C),L()}function L(){return I=R=null,O}return function(){return t=e.apply(this,arguments),O.invert=t.invert&&M,$()}}function mK(e){var t=0,n=Vn/3,r=w2e(e),i=r(t,n);return i.parallels=function(s){return arguments.length?r(t=s[0]*zn,n=s[1]*zn):[t*ts,n*ts]},i}function rvt(e){var t=cn(e);function n(r,i){return[r*t,sn(i)/t]}return n.invert=function(r,i){return[r/t,Fl(i*t)]},n}function ivt(e,t){var n=sn(e),r=(n+sn(t))/2;if(or(r)<ln)return rvt(e);var i=1+n*(2*r-n),s=Za(i)/r;function o(a,l){var u=Za(i-2*r*sn(l))/r;return[u*sn(a*=r),s-u*cn(a)]}return o.invert=function(a,l){var u=s-l,c=sc(a,or(u))*Yu(u);return u*r<0&&(c-=Vn*Yu(a)*Yu(u)),[c/r,Fl((i-(a*a+u*u)*r*r)/(2*r))]},o}function ZO(){return mK(ivt).scale(155.424).center([0,33.6442])}function x2e(){return ZO().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function svt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function ovt(){var e,t,n=x2e(),r,i=ZO().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=ZO().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(f,h){l=[f,h]}};function c(f){var h=f[0],p=f[1];return l=null,r.point(h,p),l||(s.point(h,p),l)||(a.point(h,p),l)}c.invert=function(f){var h=n.scale(),p=n.translate(),m=(f[0]-p[0])/h,g=(f[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?o:n).invert(f)},c.stream=function(f){return e&&t===f?e:e=svt([n.stream(t=f),i.stream(f),o.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),d()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var h=n.scale(),p=+f[0],m=+f[1];return r=n.translate(f).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(u),s=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+ln,m+.12*h+ln],[p-.214*h-ln,m+.234*h-ln]]).stream(u),a=o.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+ln,m+.166*h+ln],[p-.115*h-ln,m+.234*h-ln]]).stream(u),d()},c.fitExtent=function(f,h){return n6(c,f,h)},c.fitSize=function(f,h){return fK(c,f,h)},c.fitWidth=function(f,h){return hK(c,f,h)},c.fitHeight=function(f,h){return pK(c,f,h)};function d(){return e=t=null,c}return c.scale(1070)}function _2e(e){return function(t,n){var r=cn(t),i=cn(n),s=e(r*i);return s===1/0?[2,0]:[s*i*sn(t),s*sn(n)]}}function _k(e){return function(t,n){var r=Za(t*t+n*n),i=e(r),s=sn(i),o=cn(i);return[sc(t*s,r*o),Fl(r&&n*s/r)]}}var E2e=_2e(function(e){return Za(2/(1+e))});E2e.invert=_k(function(e){return 2*Fl(e/2)});function avt(){return Ph(E2e).scale(124.75).clipAngle(180-.001)}var C2e=_2e(function(e){return(e=WSe(e))&&e/sn(e)});C2e.invert=_k(function(e){return e});function lvt(){return Ph(C2e).scale(79.4188).clipAngle(180-.001)}function r6(e,t){return[e,NO(uK((Gi+t)/2))]}r6.invert=function(e,t){return[e,2*X_(VSe(t))-Gi]};function uvt(){return S2e(r6).scale(961/Ja)}function S2e(e){var t=Ph(e),n=t.center,r=t.scale,i=t.translate,s=t.clipExtent,o=null,a,l,u;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?o=a=l=u=null:(o=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):o==null?null:[[o,a],[l,u]]};function c(){var d=Vn*r(),f=t(Iyt(t.rotate()).invert([0,0]));return s(o==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===r6?[[Math.max(f[0]-d,o),a],[Math.min(f[0]+d,l),u]]:[[o,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,u)]])}return c()}function ZI(e){return uK((Gi+e)/2)}function cvt(e,t){var n=cn(e),r=e===t?sn(e):NO(n/cn(t))/NO(ZI(t)/ZI(e)),i=n*ij(ZI(e),r)/r;if(!r)return r6;function s(o,a){i>0?a<-Gi+ln&&(a=-Gi+ln):a>Gi-ln&&(a=Gi-ln);var l=i/ij(ZI(a),r);return[l*sn(r*o),i-l*cn(r*o)]}return s.invert=function(o,a){var l=i-a,u=Yu(r)*Za(o*o+l*l),c=sc(o,or(l))*Yu(l);return l*r<0&&(c-=Vn*Yu(o)*Yu(l)),[c/r,2*X_(ij(i/u,1/r))-Gi]},s}function dvt(){return mK(cvt).scale(109.5).parallels([30,30])}function e4(e,t){return[e,t]}e4.invert=e4;function fvt(){return Ph(e4).scale(152.63)}function hvt(e,t){var n=cn(e),r=e===t?sn(e):(n-cn(t))/(t-e),i=n/r+e;if(or(r)<ln)return e4;function s(o,a){var l=i-a,u=r*o;return[l*sn(u),i-l*cn(u)]}return s.invert=function(o,a){var l=i-a,u=sc(o,or(l))*Yu(l);return l*r<0&&(u-=Vn*Yu(o)*Yu(l)),[u/r,i-Yu(r)*Za(o*o+l*l)]},s}function pvt(){return mK(hvt).scale(131.154).center([0,13.9389])}var QS=1.340264,JS=-.081106,ZS=893e-6,e2=.003796,t4=Za(3)/2,mvt=12;function T2e(e,t){var n=Fl(t4*sn(t)),r=n*n,i=r*r*r;return[e*cn(n)/(t4*(QS+3*JS*r+i*(7*ZS+9*e2*r))),n*(QS+JS*r+i*(ZS+e2*r))]}T2e.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,s=0,o,a,l;s<mvt&&(a=n*(QS+JS*r+i*(ZS+e2*r))-t,l=QS+3*JS*r+i*(7*ZS+9*e2*r),n-=o=a/l,r=n*n,i=r*r*r,!(or(o)<PO));++s);return[t4*e*(QS+3*JS*r+i*(7*ZS+9*e2*r))/cn(n),Fl(sn(n)/t4)]};function gvt(){return Ph(T2e).scale(177.158)}function k2e(e,t){var n=cn(t),r=cn(e)*n;return[n*sn(e)/r,sn(t)/r]}k2e.invert=_k(X_);function yvt(){return Ph(k2e).scale(144.049).clipAngle(60)}function vvt(){var e=1,t=0,n=0,r=1,i=1,s=0,o,a,l=null,u,c,d,f=1,h=1,p=t6({point:function(E,C){var S=w([E,C]);this.stream.point(S[0],S[1])}}),m=X2,g,v;function y(){return f=e*r,h=e*i,g=v=null,w}function w(E){var C=E[0]*f,S=E[1]*h;if(s){var T=S*o-C*a;C=C*o+S*a,S=T}return[C+t,S+n]}return w.invert=function(E){var C=E[0]-t,S=E[1]-n;if(s){var T=S*o+C*a;C=C*o-S*a,S=T}return[C/f,S/h]},w.stream=function(E){return g&&v===E?g:g=p(m(v=E))},w.postclip=function(E){return arguments.length?(m=E,l=u=c=d=null,y()):m},w.clipExtent=function(E){return arguments.length?(m=E==null?(l=u=c=d=null,X2):a2e(l=+E[0][0],u=+E[0][1],c=+E[1][0],d=+E[1][1]),y()):l==null?null:[[l,u],[c,d]]},w.scale=function(E){return arguments.length?(e=+E,y()):e},w.translate=function(E){return arguments.length?(t=+E[0],n=+E[1],y()):[t,n]},w.angle=function(E){return arguments.length?(s=E%360*zn,a=sn(s),o=cn(s),y()):s*ts},w.reflectX=function(E){return arguments.length?(r=E?-1:1,y()):r<0},w.reflectY=function(E){return arguments.length?(i=E?-1:1,y()):i<0},w.fitExtent=function(E,C){return n6(w,E,C)},w.fitSize=function(E,C){return fK(w,E,C)},w.fitWidth=function(E,C){return hK(w,E,C)},w.fitHeight=function(E,C){return pK(w,E,C)},w}function A2e(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}A2e.invert=function(e,t){var n=t,r=25,i;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-t)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(or(i)>ln&&--r>0);return[e/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function bvt(){return Ph(A2e).scale(175.295)}function I2e(e,t){return[cn(t)*sn(e),sn(t)]}I2e.invert=_k(Fl);function wvt(){return Ph(I2e).scale(249.5).clipAngle(90+ln)}function R2e(e,t){var n=cn(t),r=1+cn(e)*n;return[n*sn(e)/r,sn(t)/r]}R2e.invert=_k(function(e){return 2*X_(e)});function xvt(){return Ph(R2e).scale(250).clipAngle(142)}function D2e(e,t){return[NO(uK((Gi+t)/2)),-e]}D2e.invert=function(e,t){return[-t,2*X_(VSe(e))-Gi]};function _vt(){var e=S2e(D2e),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Evt(e,t){return e.parent===t.parent?1:2}function Cvt(e){return e.reduce(Svt,0)/e.length}function Svt(e,t){return e+t.x}function Tvt(e){return 1+e.reduce(kvt,0)}function kvt(e,t){return Math.max(e,t.y)}function Avt(e){for(var t;t=e.children;)e=t[0];return e}function Ivt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function Rvt(){var e=Evt,t=1,n=1,r=!1;function i(s){var o,a=0;s.eachAfter(function(f){var h=f.children;h?(f.x=Cvt(h),f.y=Tvt(h)):(f.x=o?a+=e(f,o):0,f.y=0,o=f)});var l=Avt(s),u=Ivt(s),c=l.x-e(l,u)/2,d=u.x+e(u,l)/2;return s.eachAfter(r?function(f){f.x=(f.x-s.x)*t,f.y=(s.y-f.y)*n}:function(f){f.x=(f.x-c)/(d-c)*t,f.y=(1-(s.y?f.y/s.y:1))*n})}return i.separation=function(s){return arguments.length?(e=s,i):e},i.size=function(s){return arguments.length?(r=!1,t=+s[0],n=+s[1],i):r?null:[t,n]},i.nodeSize=function(s){return arguments.length?(r=!0,t=+s[0],n=+s[1],i):r?[t,n]:null},i}function Dvt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Pvt(){return this.eachAfter(Dvt)}function Ovt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Nvt(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function $vt(e,t){for(var n=this,r=[n],i=[],s,o,a,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function Mvt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Fvt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Lvt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function jvt(e){for(var t=this,n=Bvt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Bvt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function zvt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Uvt(){return Array.from(this)}function qvt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Hvt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Vvt(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function gK(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Yvt)):t===void 0&&(t=Gvt);for(var n=new Ux(e),r,i=[n],s,o,a,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new Ux(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(P2e)}function Wvt(){return gK(this).eachBefore(Kvt)}function Gvt(e){return e.children}function Yvt(e){return Array.isArray(e)?e[1]:null}function Kvt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function P2e(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ux(e){this.data=e,this.depth=this.height=0,this.parent=null}Ux.prototype=gK.prototype={constructor:Ux,count:Pvt,each:Ovt,eachAfter:$vt,eachBefore:Nvt,find:Mvt,sum:Fvt,sort:Lvt,path:jvt,ancestors:zvt,descendants:Uvt,leaves:qvt,links:Hvt,copy:Wvt,[Symbol.iterator]:Vvt};function fD(e){return e==null?null:O2e(e)}function O2e(e){if(typeof e!="function")throw new Error;return e}function Qy(){return 0}function Sw(e){return function(){return e}}const Xvt=1664525,Qvt=1013904223,eue=4294967296;function Jvt(){let e=1;return()=>(e=(Xvt*e+Qvt)%eue)/eue}function Zvt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function e1t(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function t1t(e,t){for(var n=0,r=(e=e1t(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&N2e(o,s)?++n:(o=r1t(i=n1t(i,s)),n=0);return o}function n1t(e,t){var n,r;if(uj(t,e))return[t];for(n=0;n<e.length;++n)if(eR(t,e[n])&&uj(dS(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(eR(dS(e[n],e[r]),t)&&eR(dS(e[n],t),e[r])&&eR(dS(e[r],t),e[n])&&uj($2e(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function eR(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function N2e(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function uj(e,t){for(var n=0;n<t.length;++n)if(!N2e(e,t[n]))return!1;return!0}function r1t(e){switch(e.length){case 1:return i1t(e[0]);case 2:return dS(e[0],e[1]);case 3:return $2e(e[0],e[1],e[2])}}function i1t(e){return{x:e.x,y:e.y,r:e.r}}function dS(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,l=s-n,u=o-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+s+l/d*c)/2,y:(r+o+u/d*c)/2,r:(d+i+a)/2}}function $2e(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-o,h=r-u,p=i-a,m=i-c,g=l-s,v=d-s,y=r*r+i*i-s*s,w=y-o*o-a*a+l*l,E=y-u*u-c*c+d*d,C=h*p-f*m,S=(p*E-m*w)/(C*2)-r,T=(m*g-p*v)/C,k=(h*w-f*E)/(C*2)-i,I=(f*v-h*g)/C,R=T*T+I*I-1,O=2*(s+S*T+k*I),M=S*S+k*k-s*s,$=-(Math.abs(R)>1e-6?(O+Math.sqrt(O*O-4*R*M))/(2*R):M/O);return{x:r+S+T*$,y:i+k+I*$,r:$}}function tue(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,l,u=r*r+o*o;u?(s=t.r+n.r,s*=s,l=e.r+n.r,l*=l,s>l?(i=(u+l-s)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(u+s-l)/(2*u),a=Math.sqrt(Math.max(0,s/u-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function nue(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function rue(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function tR(e){this._=e,this.next=null,this.previous=null}function s1t(e,t){if(!(s=(e=Zvt(e)).length))return 0;var n,r,i,s,o,a,l,u,c,d,f;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;tue(r,n,i=e[2]),n=new tR(n),r=new tR(r),i=new tR(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<s;++l){tue(n._,r._,i=e[l]),i=new tR(i),u=r.next,c=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(nue(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(nue(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=rue(n);(i=i.next)!==r;)(a=rue(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=t1t(n,t),l=0;l<s;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function o1t(e){return Math.sqrt(e.value)}function a1t(){var e=null,t=1,n=1,r=Qy;function i(s){const o=Jvt();return s.x=t/2,s.y=n/2,e?s.eachBefore(iue(e)).eachAfter(cj(r,.5,o)).eachBefore(sue(1)):s.eachBefore(iue(o1t)).eachAfter(cj(Qy,1,o)).eachAfter(cj(r,s.r/Math.min(t,n),o)).eachBefore(sue(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=fD(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:Sw(+s),i):r},i}function iue(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function cj(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,l;if(a)for(s=0;s<o;++s)i[s].r+=a;if(l=s1t(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=l+a}}}function sue(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function M2e(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Ek(e,t,n,r,i){for(var s=e.children,o,a=-1,l=s.length,u=e.value&&(r-t)/e.value;++a<l;)o=s[a],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function l1t(){var e=1,t=1,n=0,r=!1;function i(o){var a=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/a,o.eachBefore(s(t,a)),r&&o.eachBefore(M2e),o}function s(o,a){return function(l){l.children&&Ek(l,l.x0,o*(l.depth+1)/a,l.x1,o*(l.depth+2)/a);var u=l.x0,c=l.y0,d=l.x1-n,f=l.y1-n;d<u&&(u=d=(u+d)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var u1t={depth:-1},oue={},dj={};function c1t(e){return e.id}function d1t(e){return e.parentId}function aue(){var e=c1t,t=d1t,n;function r(i){var s=Array.from(i),o=e,a=t,l,u,c,d,f,h,p,m,g=new Map;if(n!=null){const v=s.map((E,C)=>f1t(n(E,C,i))),y=v.map(lue),w=new Set(v).add("");for(const E of y)w.has(E)||(w.add(E),v.push(E),y.push(lue(E)),s.push(dj));o=(E,C)=>v[C],a=(E,C)=>y[C]}for(c=0,l=s.length;c<l;++c)u=s[c],h=s[c]=new Ux(u),(p=o(u,c,i))!=null&&(p+="")&&(m=h.id=p,g.set(m,g.has(m)?oue:h)),(p=a(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=s[c],p=h.parent){if(f=g.get(p),!f)throw new Error("missing: "+p);if(f===oue)throw new Error("ambiguous: "+p);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(n!=null){for(;d.data===dj&&d.children.length===1;)d=d.children[0],--l;for(let v=s.length-1;v>=0&&(h=s[v],h.data===dj);--v)h.data=null}if(d.parent=u1t,d.eachBefore(function(v){v.depth=v.parent.depth+1,--l}).eachBefore(P2e),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=fD(i),r):e},r.parentId=function(i){return arguments.length?(t=fD(i),r):t},r.path=function(i){return arguments.length?(n=fD(i),r):n},r}function f1t(e){e=`${e}`;let t=e.length;return BU(e,t-1)&&!BU(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function lue(e){let t=e.length;if(t<2)return"";for(;--t>1&&!BU(e,t););return e.slice(0,t)}function BU(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function h1t(e,t){return e.parent===t.parent?1:2}function fj(e){var t=e.children;return t?t[0]:e.t}function hj(e){var t=e.children;return t?t[t.length-1]:e.t}function p1t(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function m1t(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function g1t(e,t,n){return e.a.parent===t.parent?e.a:n}function hD(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}hD.prototype=Object.create(Ux.prototype);function y1t(e){for(var t=new hD(e,0),n,r=[t],i,s,o,a;n=r.pop();)if(s=n._.children)for(n.children=new Array(a=s.length),o=a-1;o>=0;--o)r.push(i=n.children[o]=new hD(s[o],o)),i.parent=n;return(t.parent=new hD(null,0)).children=[t],t}function v1t(){var e=h1t,t=1,n=1,r=null;function i(u){var c=y1t(u);if(c.eachAfter(s),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var d=u,f=u,h=u;u.eachBefore(function(y){y.x<d.x&&(d=y),y.x>f.x&&(f=y),y.depth>h.depth&&(h=y)});var p=d===f?1:e(d,f)/2,m=p-d.x,g=t/(f.x+p+m),v=n/(h.depth||1);u.eachBefore(function(y){y.x=(y.x+m)*g,y.y=y.depth*v})}return u}function s(u){var c=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(c){m1t(u);var h=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-h):u.z=h}else f&&(u.z=f.z+e(u._,f._));u.parent.A=a(u,f,u.parent.A||d[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,d){if(c){for(var f=u,h=u,p=c,m=f.parent.children[0],g=f.m,v=h.m,y=p.m,w=m.m,E;p=hj(p),f=fj(f),p&&f;)m=fj(m),h=hj(h),h.a=u,E=p.z+y-f.z-g+e(p._,f._),E>0&&(p1t(g1t(p,u,d),u,E),g+=E,v+=E),y+=p.m,g+=f.m,w+=m.m,v+=h.m;p&&!hj(h)&&(h.t=p,h.m+=y-v),f&&!fj(m)&&(m.t=f,m.m+=g-w,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function i6(e,t,n,r,i){for(var s=e.children,o,a=-1,l=s.length,u=e.value&&(i-n)/e.value;++a<l;)o=s[a],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u}var F2e=(1+Math.sqrt(5))/2;function L2e(e,t,n,r,i,s){for(var o=[],a=t.children,l,u,c=0,d=0,f=a.length,h,p,m=t.value,g,v,y,w,E,C,S;c<f;){h=i-n,p=s-r;do g=a[d++].value;while(!g&&d<f);for(v=y=g,C=Math.max(p/h,h/p)/(m*e),S=g*g*C,E=Math.max(y/S,S/v);d<f;++d){if(g+=u=a[d].value,u<v&&(v=u),u>y&&(y=u),S=g*g*C,w=Math.max(y/S,S/v),w>E){g-=u;break}E=w}o.push(l={value:g,dice:h<p,children:a.slice(c,d)}),l.dice?Ek(l,n,r,i,m?r+=p*g/m:s):i6(l,n,r,m?n+=h*g/m:i,s),m-=g,c=d}return o}const j2e=(function e(t){function n(r,i,s,o,a){L2e(t,r,i,s,o,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(F2e);function b1t(){var e=j2e,t=!1,n=1,r=1,i=[0],s=Qy,o=Qy,a=Qy,l=Qy,u=Qy;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(M2e),f}function d(f){var h=i[f.depth],p=f.x0+h,m=f.y0+h,g=f.x1-h,v=f.y1-h;g<p&&(p=g=(p+g)/2),v<m&&(m=v=(m+v)/2),f.x0=p,f.y0=m,f.x1=g,f.y1=v,f.children&&(h=i[f.depth+1]=s(f)/2,p+=u(f)-h,m+=o(f)-h,g-=a(f)-h,v-=l(f)-h,g<p&&(p=g=(p+g)/2),v<m&&(m=v=(m+v)/2),e(f,p,m,g,v))}return c.round=function(f){return arguments.length?(t=!!f,c):t},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(e=O2e(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:Sw(+f),c):s},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:Sw(+f),c):o},c.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:Sw(+f),c):a},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:Sw(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:Sw(+f),c):u},c}function w1t(e,t,n,r,i){var s=e.children,o,a=s.length,l,u=new Array(a+1);for(u[0]=l=o=0;o<a;++o)u[o+1]=l+=s[o].value;c(0,a,e.value,t,n,r,i);function c(d,f,h,p,m,g,v){if(d>=f-1){var y=s[d];y.x0=p,y.y0=m,y.x1=g,y.y1=v;return}for(var w=u[d],E=h/2+w,C=d+1,S=f-1;C<S;){var T=C+S>>>1;u[T]<E?C=T+1:S=T}E-u[C-1]<u[C]-E&&d+1<C&&--C;var k=u[C]-w,I=h-k;if(g-p>v-m){var R=h?(p*I+g*k)/h:g;c(d,C,k,p,m,R,v),c(C,f,I,R,m,g,v)}else{var O=h?(m*I+v*k)/h:v;c(d,C,k,p,m,g,O),c(C,f,I,p,O,g,v)}}}function x1t(e,t,n,r,i){(e.depth&1?i6:Ek)(e,t,n,r,i)}const _1t=(function e(t){function n(r,i,s,o,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,d,f=-1,h,p=l.length,m=r.value;++f<p;){for(u=l[f],c=u.children,d=u.value=0,h=c.length;d<h;++d)u.value+=c[d].value;u.dice?Ek(u,i,s,o,m?s+=(a-s)*u.value/m:a):i6(u,i,s,m?i+=(o-i)*u.value/m:o,a),m-=u.value}else r._squarify=l=L2e(t,r,i,s,o,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(F2e);function Wd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Og(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zU=Symbol("implicit");function s6(){var e=new Yae,t=[],n=[],r=zU;function i(s){let o=e.get(s);if(o===void 0){if(r!==zU)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Yae;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return s6(t,n).unknown(r)},Wd.apply(i,arguments),i}function UU(){var e=s6().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var f=t().length,h=i<r,p=h?i:r,m=h?r:i;s=(m-p)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),p+=(m-p-s*(f-l))*c,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var g=Al(f).map(function(v){return p+s*v});return n(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},e.copy=function(){return UU(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Wd.apply(d(),arguments)}function E1t(e){return function(){return e}}function qU(e){return+e}var uue=[0,1];function Il(e){return e}function HU(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:E1t(isNaN(t)?NaN:.5)}function C1t(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function S1t(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=HU(i,r),s=n(o,s)):(r=HU(r,i),s=n(s,o)),function(a){return s(r(a))}}function T1t(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=HU(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=ig(e,a,1,r)-1;return s[l](i[l](a))}}function Ck(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function o6(){var e=uue,t=uue,n=Pg,r,i,s,o=Il,a,l,u;function c(){var f=Math.min(e.length,t.length);return o!==Il&&(o=C1t(e[0],e[f-1])),a=f>2?T1t:S1t,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=a(t,e.map(r),Uu)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,qU),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=bk,c()},d.clamp=function(f){return arguments.length?(o=f?!0:Il,c()):o!==Il},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,h){return r=f,i=h,c()}}function B2e(){return o6()(Il,Il)}function z2e(e,t,n,r){var i=sg(e,t,n),s;switch(r=Gv(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=qSe(i,o))&&(r.precision=s),lK(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=HSe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=USe(i))&&(r.precision=s-(r.type==="%")*2);break}}return e6(r)}function N1(e){var t=e.domain;return e.ticks=function(n){var r=t();return oU(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return z2e(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);c-- >0;){if(u=aU(o,a,n),u===l)return r[i]=o,r[s]=a,t(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function Z2(){var e=B2e();return e.copy=function(){return Ck(e,Z2())},Wd.apply(e,arguments),N1(e)}function U2e(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,qU),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return U2e(e).unknown(t)},e=arguments.length?Array.from(e,qU):[0,1],N1(n)}function q2e(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function cue(e){return Math.log(e)}function due(e){return Math.exp(e)}function k1t(e){return-Math.log(-e)}function A1t(e){return-Math.exp(-e)}function I1t(e){return isFinite(e)?+("1e"+e):e<0?0:e}function R1t(e){return e===10?I1t:e===Math.E?Math.exp:t=>Math.pow(e,t)}function D1t(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fue(e){return(t,n)=>-e(-t,n)}function yK(e){const t=e(cue,due),n=t.domain;let r=10,i,s;function o(){return i=D1t(r),s=R1t(r),n()[0]<0?(i=fue(i),s=fue(s),e(k1t,A1t)):e(cue,due),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),p,m;const g=a==null?10:+a;let v=[];if(!(r%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/s(-f):p*s(f),!(m<u)){if(m>c)break;v.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/s(-f):p*s(f),!(m<u)){if(m>c)break;v.push(m)}v.length*2<g&&(v=oU(u,c,g))}else v=oU(f,h,Math.min(h-f,g)).map(s);return d?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Gv(l)).precision==null&&(l.trim=!0),l=e6(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/s(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(q2e(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function H2e(){const e=yK(o6()).domain([1,10]);return e.copy=()=>Ck(e,H2e()).base(e.base()),Wd.apply(e,arguments),e}function hue(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pue(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vK(e){var t=1,n=e(hue(t),pue(t));return n.constant=function(r){return arguments.length?e(hue(t=+r),pue(t)):t},N1(n)}function V2e(){var e=vK(o6());return e.copy=function(){return Ck(e,V2e()).constant(e.constant())},Wd.apply(e,arguments)}function mue(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function P1t(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function O1t(e){return e<0?-e*e:e*e}function bK(e){var t=e(Il,Il),n=1;function r(){return n===1?e(Il,Il):n===.5?e(P1t,O1t):e(mue(n),mue(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},N1(t)}function wK(){var e=bK(o6());return e.copy=function(){return Ck(e,wK()).exponent(e.exponent())},Wd.apply(e,arguments),e}function N1t(){return wK.apply(null,arguments).exponent(.5)}function W2e(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=zCe(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[ig(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jp),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return W2e().domain(e).range(t).unknown(r)},Wd.apply(s,arguments)}function t2(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[ig(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return t2().domain([e,t]).range(i).unknown(s)},Wd.apply(N1(o),arguments)}function G2e(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[ig(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return G2e().domain(e).range(t).unknown(n)},Wd.apply(i,arguments)}const pj=new Date,mj=new Date;function Hs(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),t(s,a),e(s);while(u<s&&s<o);return l},i.filter=s=>Hs(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(pj.setTime(+s),mj.setTime(+o),e(pj),e(mj),Math.floor(n(pj,mj))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const qx=Hs(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Hs(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):qx);qx.range;const Ap=1e3,Ku=Ap*60,Ip=Ku*60,im=Ip*24,xK=im*7,gue=im*30,gj=im*365,Rp=Hs(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ap)},(e,t)=>(t-e)/Ap,e=>e.getUTCSeconds());Rp.range;const a6=Hs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ap)},(e,t)=>{e.setTime(+e+t*Ku)},(e,t)=>(t-e)/Ku,e=>e.getMinutes());a6.range;const l6=Hs(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ku)},(e,t)=>(t-e)/Ku,e=>e.getUTCMinutes());l6.range;const u6=Hs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ap-e.getMinutes()*Ku)},(e,t)=>{e.setTime(+e+t*Ip)},(e,t)=>(t-e)/Ip,e=>e.getHours());u6.range;const c6=Hs(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ip)},(e,t)=>(t-e)/Ip,e=>e.getUTCHours());c6.range;const zp=Hs(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ku)/im,e=>e.getDate()-1);zp.range;const W0=Hs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/im,e=>e.getUTCDate()-1);W0.range;const Y2e=Hs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/im,e=>Math.floor(e/im));Y2e.range;function $1(e){return Hs(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ku)/xK)}const Q_=$1(0),n4=$1(1),$1t=$1(2),M1t=$1(3),Hx=$1(4),F1t=$1(5),L1t=$1(6);Q_.range;n4.range;$1t.range;M1t.range;Hx.range;F1t.range;L1t.range;function M1(e){return Hs(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xK)}const J_=M1(0),r4=M1(1),j1t=M1(2),B1t=M1(3),Vx=M1(4),z1t=M1(5),U1t=M1(6);J_.range;r4.range;j1t.range;B1t.range;Vx.range;z1t.range;U1t.range;const eT=Hs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());eT.range;const tT=Hs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tT.range;const hh=Hs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hs(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});hh.range;const ph=Hs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ph.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hs(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ph.range;function K2e(e,t,n,r,i,s){const o=[[Rp,1,Ap],[Rp,5,5*Ap],[Rp,15,15*Ap],[Rp,30,30*Ap],[s,1,Ku],[s,5,5*Ku],[s,15,15*Ku],[s,30,30*Ku],[i,1,Ip],[i,3,3*Ip],[i,6,6*Ip],[i,12,12*Ip],[r,1,im],[r,2,2*im],[n,1,xK],[t,1,gue],[t,3,3*gue],[e,1,gj]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),p=h?h.range(u,+c+1):[];return f?p.reverse():p}function l(u,c,d){const f=Math.abs(c-u)/d,h=Y_(([,,g])=>g).right(o,f);if(h===o.length)return e.every(sg(u/gj,c/gj,d));if(h===0)return qx.every(Math.max(sg(u,c,d),1));const[p,m]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return p.every(m)}return[a,l]}const[q1t,H1t]=K2e(ph,tT,J_,Y2e,c6,l6),[V1t,W1t]=K2e(hh,eT,Q_,zp,u6,a6);function yj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pC(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function X2e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,u=mC(i),c=gC(i),d=mC(s),f=gC(s),h=mC(o),p=gC(o),m=mC(a),g=gC(a),v=mC(l),y=gC(l),w={a:V,A:G,b:Y,B:z,c:null,d:_ue,e:_ue,f:mbt,g:Sbt,G:kbt,H:fbt,I:hbt,j:pbt,L:Q2e,m:gbt,M:ybt,p:F,q:W,Q:Sue,s:Tue,S:vbt,u:bbt,U:wbt,V:xbt,w:_bt,W:Ebt,x:null,X:null,y:Cbt,Y:Tbt,Z:Abt,"%":Cue},E={a:q,A:K,b:J,B:te,c:null,d:Eue,e:Eue,f:Pbt,g:Ubt,G:Hbt,H:Ibt,I:Rbt,j:Dbt,L:Z2e,m:Obt,M:Nbt,p:le,q:oe,Q:Sue,s:Tue,S:$bt,u:Mbt,U:Fbt,V:Lbt,w:jbt,W:Bbt,x:null,X:null,y:zbt,Y:qbt,Z:Vbt,"%":Cue},C={a:R,A:O,b:M,B:$,c:L,d:wue,e:wue,f:lbt,g:bue,G:vue,H:xue,I:xue,j:ibt,L:abt,m:rbt,M:sbt,p:I,q:nbt,Q:cbt,s:dbt,S:obt,u:Q1t,U:J1t,V:Z1t,w:X1t,W:ebt,x:U,X:B,y:bue,Y:vue,Z:tbt,"%":ubt};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),E.x=S(n,E),E.X=S(r,E),E.c=S(t,E);function S(ie,he){return function(ee){var ne=[],ue=-1,ve=0,xe=ie.length,Re,Te,we;for(ee instanceof Date||(ee=new Date(+ee));++ue<xe;)ie.charCodeAt(ue)===37&&(ne.push(ie.slice(ve,ue)),(Te=yue[Re=ie.charAt(++ue)])!=null?Re=ie.charAt(++ue):Te=Re==="e"?" ":"0",(we=he[Re])&&(Re=we(ee,Te)),ne.push(Re),ve=ue+1);return ne.push(ie.slice(ve,ue)),ne.join("")}}function T(ie,he){return function(ee){var ne=pC(1900,void 0,1),ue=k(ne,ie,ee+="",0),ve,xe;if(ue!=ee.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(he&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(ve=vj(pC(ne.y,0,1)),xe=ve.getUTCDay(),ve=xe>4||xe===0?r4.ceil(ve):r4(ve),ve=W0.offset(ve,(ne.V-1)*7),ne.y=ve.getUTCFullYear(),ne.m=ve.getUTCMonth(),ne.d=ve.getUTCDate()+(ne.w+6)%7):(ve=yj(pC(ne.y,0,1)),xe=ve.getDay(),ve=xe>4||xe===0?n4.ceil(ve):n4(ve),ve=zp.offset(ve,(ne.V-1)*7),ne.y=ve.getFullYear(),ne.m=ve.getMonth(),ne.d=ve.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),xe="Z"in ne?vj(pC(ne.y,0,1)).getUTCDay():yj(pC(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(xe+5)%7:ne.w+ne.U*7-(xe+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,vj(ne)):yj(ne)}}function k(ie,he,ee,ne){for(var ue=0,ve=he.length,xe=ee.length,Re,Te;ue<ve;){if(ne>=xe)return-1;if(Re=he.charCodeAt(ue++),Re===37){if(Re=he.charAt(ue++),Te=C[Re in yue?he.charAt(ue++):Re],!Te||(ne=Te(ie,ee,ne))<0)return-1}else if(Re!=ee.charCodeAt(ne++))return-1}return ne}function I(ie,he,ee){var ne=u.exec(he.slice(ee));return ne?(ie.p=c.get(ne[0].toLowerCase()),ee+ne[0].length):-1}function R(ie,he,ee){var ne=h.exec(he.slice(ee));return ne?(ie.w=p.get(ne[0].toLowerCase()),ee+ne[0].length):-1}function O(ie,he,ee){var ne=d.exec(he.slice(ee));return ne?(ie.w=f.get(ne[0].toLowerCase()),ee+ne[0].length):-1}function M(ie,he,ee){var ne=v.exec(he.slice(ee));return ne?(ie.m=y.get(ne[0].toLowerCase()),ee+ne[0].length):-1}function $(ie,he,ee){var ne=m.exec(he.slice(ee));return ne?(ie.m=g.get(ne[0].toLowerCase()),ee+ne[0].length):-1}function L(ie,he,ee){return k(ie,t,he,ee)}function U(ie,he,ee){return k(ie,n,he,ee)}function B(ie,he,ee){return k(ie,r,he,ee)}function V(ie){return o[ie.getDay()]}function G(ie){return s[ie.getDay()]}function Y(ie){return l[ie.getMonth()]}function z(ie){return a[ie.getMonth()]}function F(ie){return i[+(ie.getHours()>=12)]}function W(ie){return 1+~~(ie.getMonth()/3)}function q(ie){return o[ie.getUTCDay()]}function K(ie){return s[ie.getUTCDay()]}function J(ie){return l[ie.getUTCMonth()]}function te(ie){return a[ie.getUTCMonth()]}function le(ie){return i[+(ie.getUTCHours()>=12)]}function oe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var he=S(ie+="",w);return he.toString=function(){return ie},he},parse:function(ie){var he=T(ie+="",!1);return he.toString=function(){return ie},he},utcFormat:function(ie){var he=S(ie+="",E);return he.toString=function(){return ie},he},utcParse:function(ie){var he=T(ie+="",!0);return he.toString=function(){return ie},he}}}var yue={"-":"",_:" ",0:"0"},yo=/^\s*\d+/,G1t=/^%/,Y1t=/[\\^$*+?|[\]().{}]/g;function Tr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function K1t(e){return e.replace(Y1t,"\\$&")}function mC(e){return new RegExp("^(?:"+e.map(K1t).join("|")+")","i")}function gC(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function X1t(e,t,n){var r=yo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Q1t(e,t,n){var r=yo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function J1t(e,t,n){var r=yo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Z1t(e,t,n){var r=yo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ebt(e,t,n){var r=yo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function vue(e,t,n){var r=yo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function bue(e,t,n){var r=yo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tbt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nbt(e,t,n){var r=yo.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function rbt(e,t,n){var r=yo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wue(e,t,n){var r=yo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ibt(e,t,n){var r=yo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function xue(e,t,n){var r=yo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sbt(e,t,n){var r=yo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function obt(e,t,n){var r=yo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function abt(e,t,n){var r=yo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function lbt(e,t,n){var r=yo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ubt(e,t,n){var r=G1t.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cbt(e,t,n){var r=yo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function dbt(e,t,n){var r=yo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _ue(e,t){return Tr(e.getDate(),t,2)}function fbt(e,t){return Tr(e.getHours(),t,2)}function hbt(e,t){return Tr(e.getHours()%12||12,t,2)}function pbt(e,t){return Tr(1+zp.count(hh(e),e),t,3)}function Q2e(e,t){return Tr(e.getMilliseconds(),t,3)}function mbt(e,t){return Q2e(e,t)+"000"}function gbt(e,t){return Tr(e.getMonth()+1,t,2)}function ybt(e,t){return Tr(e.getMinutes(),t,2)}function vbt(e,t){return Tr(e.getSeconds(),t,2)}function bbt(e){var t=e.getDay();return t===0?7:t}function wbt(e,t){return Tr(Q_.count(hh(e)-1,e),t,2)}function J2e(e){var t=e.getDay();return t>=4||t===0?Hx(e):Hx.ceil(e)}function xbt(e,t){return e=J2e(e),Tr(Hx.count(hh(e),e)+(hh(e).getDay()===4),t,2)}function _bt(e){return e.getDay()}function Ebt(e,t){return Tr(n4.count(hh(e)-1,e),t,2)}function Cbt(e,t){return Tr(e.getFullYear()%100,t,2)}function Sbt(e,t){return e=J2e(e),Tr(e.getFullYear()%100,t,2)}function Tbt(e,t){return Tr(e.getFullYear()%1e4,t,4)}function kbt(e,t){var n=e.getDay();return e=n>=4||n===0?Hx(e):Hx.ceil(e),Tr(e.getFullYear()%1e4,t,4)}function Abt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tr(t/60|0,"0",2)+Tr(t%60,"0",2)}function Eue(e,t){return Tr(e.getUTCDate(),t,2)}function Ibt(e,t){return Tr(e.getUTCHours(),t,2)}function Rbt(e,t){return Tr(e.getUTCHours()%12||12,t,2)}function Dbt(e,t){return Tr(1+W0.count(ph(e),e),t,3)}function Z2e(e,t){return Tr(e.getUTCMilliseconds(),t,3)}function Pbt(e,t){return Z2e(e,t)+"000"}function Obt(e,t){return Tr(e.getUTCMonth()+1,t,2)}function Nbt(e,t){return Tr(e.getUTCMinutes(),t,2)}function $bt(e,t){return Tr(e.getUTCSeconds(),t,2)}function Mbt(e){var t=e.getUTCDay();return t===0?7:t}function Fbt(e,t){return Tr(J_.count(ph(e)-1,e),t,2)}function eTe(e){var t=e.getUTCDay();return t>=4||t===0?Vx(e):Vx.ceil(e)}function Lbt(e,t){return e=eTe(e),Tr(Vx.count(ph(e),e)+(ph(e).getUTCDay()===4),t,2)}function jbt(e){return e.getUTCDay()}function Bbt(e,t){return Tr(r4.count(ph(e)-1,e),t,2)}function zbt(e,t){return Tr(e.getUTCFullYear()%100,t,2)}function Ubt(e,t){return e=eTe(e),Tr(e.getUTCFullYear()%100,t,2)}function qbt(e,t){return Tr(e.getUTCFullYear()%1e4,t,4)}function Hbt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Vx(e):Vx.ceil(e),Tr(e.getUTCFullYear()%1e4,t,4)}function Vbt(){return"+0000"}function Cue(){return"%"}function Sue(e){return+e}function Tue(e){return Math.floor(+e/1e3)}var Gb,_K,tTe,EK,nTe;Wbt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wbt(e){return Gb=X2e(e),_K=Gb.format,tTe=Gb.parse,EK=Gb.utcFormat,nTe=Gb.utcParse,Gb}function Gbt(e){return new Date(e)}function Ybt(e){return e instanceof Date?+e:+new Date(+e)}function CK(e,t,n,r,i,s,o,a,l,u){var c=B2e(),d=c.invert,f=c.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),y=u("%b %d"),w=u("%B"),E=u("%Y");function C(S){return(l(S)<S?h:a(S)<S?p:o(S)<S?m:s(S)<S?g:r(S)<S?i(S)<S?v:y:n(S)<S?w:E)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?f(Array.from(S,Ybt)):f().map(Gbt)},c.ticks=function(S){var T=f();return e(T[0],T[T.length-1],S??10)},c.tickFormat=function(S,T){return T==null?C:u(T)},c.nice=function(S){var T=f();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S??10)),S?f(q2e(T,S)):c},c.copy=function(){return Ck(c,CK(e,t,n,r,i,s,o,a,l,u))},c}function Kbt(){return Wd.apply(CK(V1t,W1t,hh,eT,Q_,zp,u6,a6,Rp,_K).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xbt(){return Wd.apply(CK(q1t,H1t,ph,tT,J_,W0,c6,l6,Rp,EK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function d6(){var e=0,t=1,n,r,i,s,o=Il,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(s(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(f){var h,p;return arguments.length?([h,p]=f,o=d(h,p),u):[o(0),o(1)]}}return u.range=c(Pg),u.rangeRound=c(bk),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return s=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function Ng(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SK(){var e=N1(d6()(Il));return e.copy=function(){return Ng(e,SK())},Og.apply(e,arguments)}function rTe(){var e=yK(d6()).domain([1,10]);return e.copy=function(){return Ng(e,rTe()).base(e.base())},Og.apply(e,arguments)}function iTe(){var e=vK(d6());return e.copy=function(){return Ng(e,iTe()).constant(e.constant())},Og.apply(e,arguments)}function TK(){var e=bK(d6());return e.copy=function(){return Ng(e,TK()).exponent(e.exponent())},Og.apply(e,arguments)}function Qbt(){return TK.apply(null,arguments).exponent(.5)}function f6(){var e=0,t=.5,n=1,r=1,i,s,o,a,l,u=Il,c,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+c(m))-s)*(r*m<r*s?a:l),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),s=c(t=+t),o=c(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(g){var v,y,w;return arguments.length?([v,y,w]=g,u=ZY(m,[v,y,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(Pg),h.rangeRound=p(bk),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return c=m,i=m(e),s=m(t),o=m(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,h}}function sTe(){var e=N1(f6()(Il));return e.copy=function(){return Ng(e,sTe())},Og.apply(e,arguments)}function oTe(){var e=yK(f6()).domain([.1,1,10]);return e.copy=function(){return Ng(e,oTe()).base(e.base())},Og.apply(e,arguments)}function aTe(){var e=vK(f6());return e.copy=function(){return Ng(e,aTe()).constant(e.constant())},Og.apply(e,arguments)}function kK(){var e=bK(f6());return e.copy=function(){return Ng(e,kK()).exponent(e.exponent())},Og.apply(e,arguments)}function Jbt(){return kK.apply(null,arguments).exponent(.5)}function Vo(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Zbt=Vo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ewt=Vo("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),twt=Vo("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),nwt=Vo("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),rwt=Vo("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),iwt=Vo("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),swt=Vo("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),owt=Vo("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),awt=Vo("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),lwt=Vo("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),AK=e=>bSe(e[e.length-1]);var uwt=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Vo);const cwt=AK(uwt);var dwt=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Vo);const fwt=AK(dwt);var hwt=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Vo);const pwt=AK(hwt);function mwt(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var gwt=JY(ag(-100,.75,.35),ag(80,1.5,.8)),ywt=JY(ag(260,.75,.35),ag(80,1.5,.8));ag();function vwt(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function h6(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const bwt=h6(Vo("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));h6(Vo("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var wwt=h6(Vo("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),xwt=h6(Vo("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Lr(e){return function(){return e}}const kue=Math.abs,Zo=Math.atan2,vy=Math.cos,_wt=Math.max,bj=Math.min,xf=Math.sin,hv=Math.sqrt,na=1e-12,Wx=Math.PI,i4=Wx/2,lTe=2*Wx;function Ewt(e){return e>1?0:e<-1?Wx:Math.acos(e)}function Aue(e){return e>=1?i4:e<=-1?-i4:Math.asin(e)}function p6(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new rK(t)}function Cwt(e){return e.innerRadius}function Swt(e){return e.outerRadius}function Twt(e){return e.startAngle}function kwt(e){return e.endAngle}function Awt(e){return e&&e.padAngle}function Iwt(e,t,n,r,i,s,o,a){var l=n-e,u=r-t,c=o-i,d=a-s,f=d*l-c*u;if(!(f*f<na))return f=(c*(t-s)-d*(e-i))/f,[e+f*l,t+f*u]}function nR(e,t,n,r,i,s,o){var a=e-n,l=t-r,u=(o?s:-s)/hv(a*a+l*l),c=u*l,d=-u*a,f=e+c,h=t+d,p=n+c,m=r+d,g=(f+p)/2,v=(h+m)/2,y=p-f,w=m-h,E=y*y+w*w,C=i-s,S=f*m-p*h,T=(w<0?-1:1)*hv(_wt(0,C*C*E-S*S)),k=(S*w-y*T)/E,I=(-S*y-w*T)/E,R=(S*w+y*T)/E,O=(-S*y+w*T)/E,M=k-g,$=I-v,L=R-g,U=O-v;return M*M+$*$>L*L+U*U&&(k=R,I=O),{cx:k,cy:I,x01:-c,y01:-d,x11:k*(i/C-1),y11:I*(i/C-1)}}function Rwt(){var e=Cwt,t=Swt,n=Lr(0),r=null,i=Twt,s=kwt,o=Awt,a=null,l=p6(u);function u(){var c,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-i4,m=s.apply(this,arguments)-i4,g=kue(m-p),v=m>p;if(a||(a=c=l()),h<f&&(d=h,h=f,f=d),!(h>na))a.moveTo(0,0);else if(g>lTe-na)a.moveTo(h*vy(p),h*xf(p)),a.arc(0,0,h,p,m,!v),f>na&&(a.moveTo(f*vy(m),f*xf(m)),a.arc(0,0,f,m,p,v));else{var y=p,w=m,E=p,C=m,S=g,T=g,k=o.apply(this,arguments)/2,I=k>na&&(r?+r.apply(this,arguments):hv(f*f+h*h)),R=bj(kue(h-f)/2,+n.apply(this,arguments)),O=R,M=R,$,L;if(I>na){var U=Aue(I/f*xf(k)),B=Aue(I/h*xf(k));(S-=U*2)>na?(U*=v?1:-1,E+=U,C-=U):(S=0,E=C=(p+m)/2),(T-=B*2)>na?(B*=v?1:-1,y+=B,w-=B):(T=0,y=w=(p+m)/2)}var V=h*vy(y),G=h*xf(y),Y=f*vy(C),z=f*xf(C);if(R>na){var F=h*vy(w),W=h*xf(w),q=f*vy(E),K=f*xf(E),J;if(g<Wx)if(J=Iwt(V,G,q,K,F,W,Y,z)){var te=V-J[0],le=G-J[1],oe=F-J[0],ie=W-J[1],he=1/xf(Ewt((te*oe+le*ie)/(hv(te*te+le*le)*hv(oe*oe+ie*ie)))/2),ee=hv(J[0]*J[0]+J[1]*J[1]);O=bj(R,(f-ee)/(he-1)),M=bj(R,(h-ee)/(he+1))}else O=M=0}T>na?M>na?($=nR(q,K,V,G,h,M,v),L=nR(F,W,Y,z,h,M,v),a.moveTo($.cx+$.x01,$.cy+$.y01),M<R?a.arc($.cx,$.cy,M,Zo($.y01,$.x01),Zo(L.y01,L.x01),!v):(a.arc($.cx,$.cy,M,Zo($.y01,$.x01),Zo($.y11,$.x11),!v),a.arc(0,0,h,Zo($.cy+$.y11,$.cx+$.x11),Zo(L.cy+L.y11,L.cx+L.x11),!v),a.arc(L.cx,L.cy,M,Zo(L.y11,L.x11),Zo(L.y01,L.x01),!v))):(a.moveTo(V,G),a.arc(0,0,h,y,w,!v)):a.moveTo(V,G),!(f>na)||!(S>na)?a.lineTo(Y,z):O>na?($=nR(Y,z,F,W,f,-O,v),L=nR(V,G,q,K,f,-O,v),a.lineTo($.cx+$.x01,$.cy+$.y01),O<R?a.arc($.cx,$.cy,O,Zo($.y01,$.x01),Zo(L.y01,L.x01),!v):(a.arc($.cx,$.cy,O,Zo($.y01,$.x01),Zo($.y11,$.x11),!v),a.arc(0,0,f,Zo($.cy+$.y11,$.cx+$.x11),Zo(L.cy+L.y11,L.cx+L.x11),v),a.arc(L.cx,L.cy,O,Zo(L.y11,L.x11),Zo(L.y01,L.x01),!v))):a.arc(0,0,f,C,E,v)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Wx/2;return[vy(d)*c,xf(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Lr(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Lr(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Lr(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Lr(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Lr(+c),u):i},u.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Lr(+c),u):s},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Lr(+c),u):o},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function uTe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cTe(e){this._context=e}cTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function IK(e){return new cTe(e)}function dTe(e){return e[0]}function fTe(e){return e[1]}function hTe(e,t){var n=Lr(!0),r=null,i=IK,s=null,o=p6(a);e=typeof e=="function"?e:e===void 0?dTe:Lr(e),t=typeof t=="function"?t:t===void 0?fTe:Lr(t);function a(l){var u,c=(l=uTe(l)).length,d,f=!1,h;for(r==null&&(s=i(h=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(d,u,l),+t(d,u,l));if(h)return s=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Lr(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Lr(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Lr(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function pTe(e,t,n){var r=null,i=Lr(!0),s=null,o=IK,a=null,l=p6(u);e=typeof e=="function"?e:e===void 0?dTe:Lr(+e),t=typeof t=="function"?t:Lr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?fTe:Lr(+n);function u(d){var f,h,p,m=(d=uTe(d)).length,g,v=!1,y,w=new Array(m),E=new Array(m);for(s==null&&(a=o(y=l())),f=0;f<=m;++f){if(!(f<m&&i(g=d[f],f,d))===v)if(v=!v)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=h;--p)a.point(w[p],E[p]);a.lineEnd(),a.areaEnd()}v&&(w[f]=+e(g,f,d),E[f]=+t(g,f,d),a.point(r?+r(g,f,d):w[f],n?+n(g,f,d):E[f]))}if(y)return a=null,y+""||null}function c(){return hTe().defined(i).curve(o).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Lr(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Lr(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Lr(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Lr(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Lr(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Lr(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Lr(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),u):s},u}const Dwt={draw(e,t){const n=hv(t/Wx);e.moveTo(n,0),e.arc(0,0,n,0,lTe)}};function Pwt(e,t){let n=null,r=p6(i);e=typeof e=="function"?e:Lr(e||Dwt),t=typeof t=="function"?t:Lr(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Lr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Lr(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function lg(){}function s4(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function m6(e){this._context=e}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:s4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:s4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Owt(e){return new m6(e)}function mTe(e){this._context=e}mTe.prototype={areaStart:lg,areaEnd:lg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:s4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nwt(e){return new mTe(e)}function gTe(e){this._context=e}gTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:s4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $wt(e){return new gTe(e)}function yTe(e,t){this._basis=new m6(e),this._beta=t}yTe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],s=e[n]-r,o=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*s),this._beta*t[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Mwt=(function e(t){function n(r){return t===1?new m6(r):new yTe(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function o4(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function RK(e,t){this._context=e,this._k=(1-t)/6}RK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:o4(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:o4(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fwt=(function e(t){function n(r){return new RK(r,t)}return n.tension=function(r){return e(+r)},n})(0);function DK(e,t){this._context=e,this._k=(1-t)/6}DK.prototype={areaStart:lg,areaEnd:lg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:o4(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Lwt=(function e(t){function n(r){return new DK(r,t)}return n.tension=function(r){return e(+r)},n})(0);function PK(e,t){this._context=e,this._k=(1-t)/6}PK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:o4(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jwt=(function e(t){function n(r){return new PK(r,t)}return n.tension=function(r){return e(+r)},n})(0);function OK(e,t,n){var r=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>na){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>na){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,s,o,e._x2,e._y2)}function vTe(e,t){this._context=e,this._alpha=t}vTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:OK(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Bwt=(function e(t){function n(r){return t?new vTe(r,t):new RK(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function bTe(e,t){this._context=e,this._alpha=t}bTe.prototype={areaStart:lg,areaEnd:lg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:OK(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zwt=(function e(t){function n(r){return t?new bTe(r,t):new DK(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function wTe(e,t){this._context=e,this._alpha=t}wTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:OK(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Uwt=(function e(t){function n(r){return t?new wTe(r,t):new PK(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function xTe(e){this._context=e}xTe.prototype={areaStart:lg,areaEnd:lg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qwt(e){return new xTe(e)}function Iue(e){return e<0?-1:1}function Rue(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(Iue(s)+Iue(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function Due(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function wj(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function a4(e){this._context=e}a4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wj(this,this._t0,Due(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wj(this,Due(this,n=Rue(this,e,t)),n);break;default:wj(this,this._t0,n=Rue(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function _Te(e){this._context=new ETe(e)}(_Te.prototype=Object.create(a4.prototype)).point=function(e,t){a4.prototype.point.call(this,t,e)};function ETe(e){this._context=e}ETe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function Hwt(e){return new a4(e)}function Vwt(e){return new _Te(e)}function CTe(e){this._context=e}CTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Pue(e),i=Pue(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Pue(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Wwt(e){return new CTe(e)}function g6(e,t){this._context=e,this._t=t}g6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Gwt(e){return new g6(e,.5)}function Ywt(e){return new g6(e,0)}function Kwt(e){return new g6(e,1)}function fS(e,t,n){this.k=e,this.x=t,this.y=n}fS.prototype={constructor:fS,scale:function(e){return e===1?this:new fS(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new fS(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};fS.prototype;const STe=D.createContext(null);function TTe({children:e,value:t}){return x.jsx(STe.Provider,{value:t,children:e})}const xc=()=>{const e=D.useContext(STe);if(!e)throw new Error("useMatrixContext must be used within a MatrixProvider");return e},kTe=Object.freeze(Object.defineProperty({__proto__:null,MatrixProvider:TTe,useMatrixContext:xc},Symbol.toStringTag,{value:"Module"})),ATe=(e,t)=>{const n=[...new Set(t.filter(s=>s.origin===e).map(s=>s.destination))].sort(),r=[...new Set(t.filter(s=>s.origin!==e).map(s=>s.destination))].filter(s=>!n.includes(s)).sort();return[...n,...r]};function ITe({showLines:e=!0}){const{configProps:t,data:n,originScale:r,destinationScale:i,margin:s,setDestinationHighlight:o,setOriginHighlight:a,orderingNode:l,setOrderingNode:u,orderedOrigins:c,setOrderedDestinations:d,trrack:f,actions:h}=xc(),p=D.useMemo(()=>i.range(),[i]),m=D.useMemo(()=>r.bandwidth()/2,[r]),g=D.useMemo(()=>r.domain().map(w=>({value:w,offset:(r(w)||0)+m})),[r,m]),v=D.useCallback(w=>{o(w),a(w)},[o,a]),y=D.useCallback((w,E)=>{t.nodeOrderingDisabled||(E===w?(u(null),f==null||f.apply("Reset Sort",h==null?void 0:h.setOrderingNode(null))):(u(w),f==null||f.apply("Sort",h==null?void 0:h.setOrderingNode(w))))},[t.nodeOrderingDisabled,f,h,u]);return D.useEffect(()=>{if(t.nodeOrderingDisabled)return;if(l===null){d(c);return}const w=ATe(l,n);d(w)},[t.nodeOrderingDisabled,n,c,d,l]),x.jsxs(x.Fragment,{children:[e?x.jsx("path",{className:"axis-line",d:["M",0,0,"V",p[1]].join(" ")}):null,g.map(({value:w,offset:E})=>x.jsxs("g",{transform:`translate(${E},0 )`,children:[e?x.jsx("line",{className:"axis-line",y2:`${p[1]}`,x2:m,x1:m}):null,x.jsx("foreignObject",{className:"axis-label",y:-m,width:s.top,height:r.bandwidth(),style:{transform:"rotate(-90deg)",cursor:"pointer"},onMouseOver:()=>v(w),onClick:()=>y(w,l),children:x.jsx("div",{className:"label-container",style:{height:r.bandwidth()},children:x.jsx(Ut,{transitionProps:{transition:"slide-down",duration:300},label:w,withinPortal:!0,openDelay:200,children:x.jsx(Ue,{className:"axis-label",size:"s",children:l===w?`  ${w}`:w})})})})]},`${w}`))]})}const RTe=Object.freeze(Object.defineProperty({__proto__:null,OriginAxis:ITe,getOrder:ATe},Symbol.toStringTag,{value:"Module"}));function DTe({showLines:e=!0}){const{configProps:t,margin:n,destinationScale:r,originScale:i,answerNodes:s,setAnswerNodes:o,orderingNode:a,actions:l,trrack:u,setAnswer:c,setDestinationHighlight:d,setOriginHighlight:f}=xc(),h=D.useMemo(()=>i.range(),[i]),p=D.useMemo(()=>r.bandwidth()/2,[r]),m=D.useMemo(()=>r.domain().map(w=>({value:w,offset:(r(w)||0)+p})),[r,p]),g=D.useCallback((w,E)=>{if(t.destinationSelectionDisabled)return;let C;E.includes(w)?C=E.filter(S=>S!==w):C=[...E,w],o(C),u==null||u.apply("Set Answer",l==null?void 0:l.setAnswerNodes(C)),c({status:!0,provenanceGraph:u==null?void 0:u.graph.backend,answers:{answerNodes:C}})},[o,c,u,l,t]),v=D.useCallback((w,E)=>{d(w),f(E?null:w)},[d,f]),y=Math.round(r.bandwidth());return x.jsxs(x.Fragment,{children:[e?x.jsx("path",{className:"axis-line",d:["M",0,0,"H",h[1]].join(" ")}):null,m.map(({value:w,offset:E})=>x.jsxs("g",{transform:`translate(0, ${E})`,style:{cursor:"pointer"},children:[e?x.jsx("line",{className:"axis-line",x2:`${-(h[0]-h[1])}`,y2:p,y1:p}):null,x.jsx("foreignObject",{x:-n.left,y:-p,width:n.left,height:y,style:{cursor:"pointer"},onClick:()=>c?g(w,s):{},onMouseOver:()=>v(w,a),children:x.jsx("div",{className:"label-container",style:{justifyContent:"flex-end",borderRadius:"5px",background:s.includes(w)?" #ff6e4a":"transparent",height:y},children:x.jsx(Ut,{transitionProps:{transition:"slide-right",duration:300},label:w,withinPortal:!0,openDelay:200,children:x.jsx(Ue,{className:"axis-label",style:{textAlign:"start"},children:w})})})})]},`${w}`))]})}const PTe=Object.freeze(Object.defineProperty({__proto__:null,DestinationAxis:DTe},Symbol.toStringTag,{value:"Module"}));function VU(e,t){const n=e.domain(),r=e.range(),i=Math.floor((t-r[0])/e.step());return n[i]}function OTe(){const{size:e,originScale:t,destinationScale:n,setOriginHighlight:r,setDestinationHighlight:i,originHighlight:s,destinationHighlight:o,linkMarks:a,setLinkMarks:l,trrack:u,actions:c}=xc(),{width:d,height:f}=D.useMemo(()=>({width:e,height:e}),[e]),h=D.useCallback(g=>{const[v,y]=lmt(g);return{origin:VU(t,v),destination:VU(n,y)}},[t,n]),p=D.useCallback(g=>{const{origin:v,destination:y}=h(g);v!==s&&r(v),y!==o&&i(y)},[h,s,r,o,i]),m=D.useCallback(g=>{const{origin:v,destination:y}=h(g),w=a.find(C=>C[0]===v&&C[1]===y);let E;w?E=a.filter(C=>C[0]!==v||C[1]!==y):E=[[v,y],...a],l(E),u==null||u.apply("Set Link Marks",c==null?void 0:c.setLinkMarks(E))},[h,a,l,u,c]);return x.jsx("rect",{width:d,height:f,fill:"transparent",opacity:0,onClick:m,onMouseMove:p})}const NTe=Object.freeze(Object.defineProperty({__proto__:null,Background:OTe,invertScaleBand:VU},Symbol.toStringTag,{value:"Module"})),wl=3,$Te=Object.freeze(Object.defineProperty({__proto__:null,HIGHLIGHT_STROKE_WIDTH:wl},Symbol.toStringTag,{value:"Module"}));function MTe(){const{margin:e,size:t,cellSize:n,originScale:r,destinationScale:i,originHighlight:s,destinationHighlight:o,orderingNode:a,actions:l,trrack:u}=xc(),{topMargin:c,leftMargin:d}=D.useMemo(()=>({topMargin:e.top,leftMargin:e.left}),[e]),{width:f,height:h}=D.useMemo(()=>({width:t,height:t}),[t]);return D.useEffect(()=>{u==null||u.apply("Highlight",l==null?void 0:l.setOriginHighlight(s))},[s,u,l]),D.useEffect(()=>{u==null||u.apply("Highlight",l==null?void 0:l.setDestinationHighlight(o))},[o,u,l]),x.jsxs(x.Fragment,{children:[s&&x.jsx("rect",{id:"originHighlight",className:"highlight",width:n+wl,height:h+c,y:-c+wl/2,x:r(s)-wl/2,visibility:s?"visible":"hidden",style:{strokeWidth:wl}}),o&&x.jsx("rect",{id:"destinationHighlight",className:"highlight",width:f+d,height:n+wl,x:-d+wl/2,y:i(o)-wl/2,visibility:o?"visible":"hidden",style:{strokeWidth:wl}}),a&&x.jsx("rect",{id:"orderHighlight",className:"highlight",width:n+wl,height:h+c,y:-c+wl/2,x:r(a)-wl/2,style:{strokeWidth:wl}})]})}const FTe=Object.freeze(Object.defineProperty({__proto__:null,Highlighting:MTe},Symbol.toStringTag,{value:"Module"})),ox=e=>e.origin,ax=e=>e.destination,Oue=5,Ui=e=>+e.mean.toFixed(2),Xv=e=>+e.std.toFixed(2),NK=e=>+Math.min(Oue,e.std===0?Oue:+(e.mean/e.std).toFixed(2)),LTe=Object.freeze(Object.defineProperty({__proto__:null,destinationAccessor:ax,meanAccessor:Ui,originAccessor:ox,snrAccessor:NK,stdAccessor:Xv},Symbol.toStringTag,{value:"Module"}));var yr=(e=>(e.Bivariate="Bivariate",e.MarkSize="Overlaid Mark Size",e.CellSize="Cell Size",e.BarChart="Bar Chart",e.BarChartColor="Bar Chart + Color Scale",e.MarkAngle45="Overlaid Mark Angle (0-45)",e.MarkAngle45_90="Overlaid Mark Angle (45-90)",e.MarkAngle90="Overlaid Mark Angle",e.ColorAngle45="Color+Angle (0-45)",e.ColorAngle90="Color+Angle (0-90)",e.Mean="Just the mean",e))(yr||{}),y6=(e=>(e.None="none",e.Optimal="optimal",e.PCA="pca",e))(y6||{}),v6=(e=>(e.Mean="mean",e.StandardDeviation="std",e.SignalToNoiseRatio="snr",e))(v6||{}),tu=(e=>(e.Viridis="viridis",e.Cividis="cividis",e.Warm="warm",e.Cool="cool",e.Plasma="plasma",e.Inferno="inferno",e.Turbo="turbo",e.Blues="blues",e.Oranges="oranges",e.Reds="reds",e))(tu||{}),b6=(e=>(e.ClearNodeSelection="Clear State Selection",e.ClearLinkSelection="Clear Flight Selection",e.ResetOrdering="reset_ordering",e))(b6||{});const jTe=Object.freeze(Object.defineProperty({__proto__:null,ClusteringMode:y6,ClusteringVariable:v6,ColorScheme:tu,EncodingType:yr,UserActionType:b6},Symbol.toStringTag,{value:"Module"})),xj=80,Xwt="Price Ranges (in $):",Qwt="Price Variation Ranges (in $):";function BTe(){const{cellRenderer:e,cellSize:t,meanScale:n,devScale:r,configProps:i}=xc(),{encoding:s}=i,o=t,a=D.useRef(null),l=D.useRef(null),u=D.useCallback((h,p)=>h.range().map(m=>{const[g,v]=h.invertExtent(m);return{mean:p?(g+v)/2:0,std:p?0:(g+v)/2,origin:"",destination:""}}),[]),c=D.useCallback((h,p,m,g,v)=>{const y=h.current;if(!y)return;const w=dU(y);w.selectAll("*").remove();const E=Math.max(o+20,70);w.selectAll(".cell").data(p,S=>Ui(S)+Xv(S)).enter().append("g").attr("class","cell").attr("transform",(S,T)=>`translate(${E*T}, 0)`).append("text").attr("transform",`translate(${o/2}, ${o+20})`).attr("text-anchor","middle").text((S,T)=>{const[k,I]=m.invertExtent(m.range()[T]);return T+1===m.range().length?`${k.toFixed(0)}-${+I.toFixed(0)}`:`${k.toFixed(0)}-${+I.toFixed(0)-1}`}),e(w.selectAll(".cell"),o,g,v)},[e,o]),d=D.useCallback((h,p)=>{const m=[];return h.range().forEach((g,v)=>{const[y,w]=n.invertExtent(g);p.range().forEach((E,C)=>{const[S,T]=r.invertExtent(E),k={mean:(y+w)/2,std:(S+T)/2,origin:`${v}`,destination:`${C}`};m.push(k)})}),m},[n,r]),f=D.useCallback((h,p,m,g,v,y)=>{const w=h.current;if(!w)return;const E=o,C=dU(w);C.selectAll("*").remove(),C.selectAll(".cell").data(p,S=>Ui(S)+Xv(S)).join("g").attr("class","cell").attr("transform",S=>`translate(${E*+S.origin}, ${E*+S.destination+xj})`),C.selectAll(".meanLabel").data(m.range()).join("text").attr("transform",(S,T)=>`translate(${E*T+15}, ${xj-5})rotate(-45)`).attr("text-anchor","start").text((S,T)=>{const[k,I]=m.invertExtent(S);return T+1===m.range().length?`${k.toFixed(0)} - ${+I.toFixed(0)}`:`${k.toFixed(0)} - ${+I.toFixed(0)}`}),C.selectAll(".devLabel").data(g.range()).join("text").attr("transform",(S,T)=>`translate(${m.range().length*E+5},${E*T+xj+E/2+5})`).attr("text-anchor","start").text((S,T)=>{const[k,I]=g.invertExtent(S);return T+1===g.range().length?`${k.toFixed(0)} - ${+I.toFixed(0)}`:`${k.toFixed(0)} - ${+I.toFixed(0)}`}),e(C.selectAll(".cell"),E,v,y)},[o,e]);return D.useEffect(()=>{if(a.current&&s!==yr.Bivariate){const h=u(n,!0);c(a,h,n,!0,!1)}},[n,s,c,u]),D.useEffect(()=>{if(l.current&&s!==yr.Bivariate){const h=u(r,!1);c(l,h,r,!1,!0)}},[r,s,c,u]),D.useEffect(()=>{if(a.current&&s===yr.Bivariate){const h=d(n,r);f(a,h,n,r,!0,!0)}},[s,n,r,f,d]),x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{width:"100%"},children:[x.jsx(Ue,{size:"xl",fw:700,style:{marginBottom:"20px"},children:Xwt}),x.jsx("svg",{width:"100%",overflow:"visible",height:s!==yr.Bivariate?o*2:Math.min(o+30,60)*7,children:x.jsx("g",{ref:a})})]}),r.range().length>1&&s!==yr.Bivariate&&x.jsxs("div",{children:[x.jsx(Ue,{size:"xl",fw:700,style:{marginBottom:"20px"},children:Qwt}),x.jsx("svg",{overflow:"visible",height:o*2,width:"100%",children:x.jsx("g",{ref:l})})]})]})}const zTe=Object.freeze(Object.defineProperty({__proto__:null,Legend:BTe},Symbol.toStringTag,{value:"Module"}));function UTe(){const{data:e,cellSize:t,cellRenderer:n,originScale:r,destinationScale:i}=xc(),s=D.useRef(null);return D.useEffect(()=>{if(!s.current)return;const o=dU(s.current).selectAll(".cell").data(e,a=>ox(a)+ax(a)+Ui(a)+Xv(a)).join(a=>a.append("g").attr("class","cell").attr("transform",l=>`translate(${r(ox(l))}, ${i(ax(l))})`),a=>(a.selectAll("*").remove(),a.attr("transform",l=>`translate(${r(ox(l))}, ${i(ax(l))})`)),a=>a.remove());n(o,t)},[e,r,i,n,s,t]),x.jsx("g",{ref:s})}const qTe=Object.freeze(Object.defineProperty({__proto__:null,EncodedCells:UTe},Symbol.toStringTag,{value:"Module"})),[Nue,_j]=[300,105];function Jwt(e,t,n,r,i,s){switch(s){case"top-right":return{x:e-n,y:t+i};case"bottom-left":return{x:e+i,y:t-r};case"bottom-right":return{x:e-n,y:t-r};default:return{x:e+i,y:t+i}}}function Zwt(e,t,n,r){const i=n/2,s=r/2,o=t<s,a=e<i;return o&&a?"top-left":o&&!a?"top-right":!o&&a?"bottom-left":"bottom-right"}function HTe(){const{data:e,originScale:t,destinationScale:n,originHighlight:r,destinationHighlight:i,cellSize:s,size:o}=xc(),[a,l]=D.useState(!1),[u,c]=D.useState({x:0,y:0}),d=D.useRef(null),f=e.find(p=>ox(p)===r&&ax(p)===i),h=!!f&&r!=null&&i!=null;return D.useEffect(()=>{if(!h){d.current&&clearTimeout(d.current),l(!1);return}const p=t(r),m=n(i);if(p==null||m==null)return;const g=Zwt(p,m,o,o),{x:v,y}=Jwt(p,m,Nue,_j,s,g);d.current&&clearTimeout(d.current),l(!1),d.current=setTimeout(()=>{c({x:v,y}),l(!0)},200)},[h,t,n,r,i,o,s]),h?x.jsx("foreignObject",{x:u.x,y:u.y,width:Nue,height:_j,style:{pointerEvents:"none"},children:x.jsxs(Tg,{shadow:"sm",radius:"md",p:"xs",withBorder:!0,style:{backgroundColor:"white",height:_j,display:"flex",flexDirection:"column",opacity:a?1:0,transform:a?"scale(1)":"scale(0.95)",transition:"opacity 200ms ease, transform 200ms ease"},children:[x.jsxs(Ue,{size:"sm",fw:500,children:["Origin:"," ",r]}),x.jsxs(Ue,{size:"sm",fw:500,children:["Destination:"," ",i]}),x.jsxs(Ue,{size:"sm",c:"blue",children:["Mean:"," ",Ui(f).toFixed(2)]}),x.jsxs(Ue,{size:"sm",c:"orange",children:["Deviation: ",Xv(f).toFixed(2)]})," "]})}):null}const VTe=Object.freeze(Object.defineProperty({__proto__:null,MatrixTooltip:HTe},Symbol.toStringTag,{value:"Module"})),zf=wl+1;function WTe({marks:e,size:t}){const{originScale:n,destinationScale:r,cellSize:i}=xc();return e==null?void 0:e.map((s,o)=>x.jsxs(x.Fragment,{children:[x.jsx("rect",{x:n(s.origin),y:r(s.destination)-35,width:25,height:30,fill:"white"},o),x.jsx("text",{className:"cluster-label",color:"#ff6e4a",x:n(s.origin),y:r(s.destination)-10,children:s.option}),x.jsx("rect",{className:"mark",x:n(s.origin)-zf/2,y:r(s.destination)-zf/2,width:t*i+zf,height:t*i+zf,strokeWidth:zf},o)]}))}function GTe({marks:e}){const{originScale:t,destinationScale:n,cellSize:r}=xc();return e==null?void 0:e.map((i,s)=>x.jsx("rect",{className:"mark",x:t(i[0])-zf/2,y:n(i[1])-zf/2,width:r+zf,height:r+zf,strokeWidth:zf},s))}const YTe=Object.freeze(Object.defineProperty({__proto__:null,ClusterMarks:WTe,LinkMarks:GTe},Symbol.toStringTag,{value:"Module"})),ext="#008837",txt="#7b3294";function nxt(e,t){const{l:n}=Fx(e),r=100-n,i=80-t+r*t/100;return Fx(i,0,0).formatHex()}function KTe(e,t){const n=t/(e+1);return Array.from({length:e},(r,i)=>n*(i+1))}function hp(e,t=0,n=45){const r=(n-t)/(e-1);return Array.from({length:e},(i,s)=>t+r*s)}function XTe(e,t,n,r,i,s){return D.useCallback((a,l,u=!0,c=!0)=>{const d=n?NK:Xv;function f(p="black"){a.append("rect").attr("fill",p).attr("width",l).attr("height",l)}function h(p){const m=r(Ui(p));return nxt(m,t)}switch(e){case yr.BarChart:{let p=function(w=!1){w&&a.append("rect").attr("fill","transparent").attr("width",l).attr("height",l).attr("stroke","black").attr("stroke-width",1.5),a.append("rect").attr("fill",ext).attr("width",y*g).attr("height",E=>+r(Ui(E))).attr("y",E=>l-+r(Ui(E))).attr("x",(l-y)/2)},m=function(w=!1){w&&a.append("rect").attr("fill","transparent").attr("width",l).attr("height",l).attr("stroke","black").attr("stroke-width",1.5),a.append("rect").attr("fill",txt).attr("width",y*(1-g)).attr("height",E=>+i(d(E))).attr("x",(l-y)/2+y*g).attr("y",E=>l-+i(d(E)))};const g=.5,y=l*.8;u&&c?(p(),m()):u?p(!0):c&&m(!0);break}case yr.BarChartColor:{let p=function(w=!1){w&&a.append("rect").attr("fill","transparent").attr("width",l).attr("height",l).attr("stroke","black").attr("stroke-width",1.5),a.append("rect").attr("fill",E=>s(Ui(E))).attr("width",y*g).attr("height",E=>+r(Ui(E))).attr("y",E=>l-+r(Ui(E))).attr("x",(l-y)/2)},m=function(w=!1){w&&a.append("rect").attr("fill","transparent").attr("width",l).attr("height",l).attr("stroke","black").attr("stroke-width",1.5),a.append("rect").attr("fill","grey").attr("width",y*(1-g)).attr("height",E=>+i(d(E))).attr("x",(l-y)/2+y*g).attr("y",E=>l-+i(d(E)))};const g=.5,y=l*.8;u&&c?(p(),m()):u?p(!0):c&&m(!0);break}case yr.Bivariate:{a.append("rect").attr("fill","white").attr("width",l).attr("height",l),a.append("rect").attr("width",l).attr("height",l).attr("fill",p=>r(Ui(p))).attr("opacity",p=>i(d(p)));break}case yr.MarkAngle45:case yr.MarkAngle45_90:case yr.MarkAngle90:{let p=function(E="#CCCCCC"){a.append("rect").attr("fill",E).attr("width",m).attr("height",g).attr("x",y).attr("y",w).attr("transform",C=>`rotate(${-i(d(C))}, ${v}, ${v})`)};const m=l*.8,g=l*.2,v=l/2,y=(l-m)/2,w=(l-g)/2;u&&c?(f(E=>r(Ui(E))),p(h)):u?f(E=>r(Ui(E))):c&&(f(),p());break}case yr.ColorAngle45:case yr.ColorAngle90:{let p=function(E="black",C=!1){C&&a.append("rect").attr("fill","transparent").attr("width",l).attr("height",l).attr("stroke","black").attr("stroke-width",1.5),a.append("rect").attr("fill",E).attr("width",m).attr("height",g).attr("x",y).attr("y",w).attr("transform",S=>`rotate(${-i(d(S))}, ${v}, ${v})`)};const m=l*.8,g=l*.6,v=l/2,y=(l-m)/2,w=(l-g)/2;u&&c?p(E=>r(Ui(E))):u?p(E=>r(Ui(E)),!0):c&&p("black",!0);break}case yr.MarkSize:{let p=function(m="#CCCCCC"){a.append("rect").attr("fill",m).attr("width",g=>+i(d(g))).attr("height",g=>+i(d(g))).attr("x",g=>(l-+i(d(g)))/2).attr("y",g=>(l-+i(d(g)))/2)};u&&c?(f(m=>r(Ui(m))),p(h)):u?f(m=>r(Ui(m))):c&&(f(),p());break}case yr.CellSize:{u&&c?a.append("rect").attr("fill",p=>r(Ui(p))).attr("width",p=>i(d(p))).attr("height",p=>i(d(p))).attr("x",p=>(l-+i(d(p)))/2).attr("y",p=>(l-+i(d(p)))/2):u?a.append("rect").attr("fill",p=>r(Ui(p))).attr("width",l).attr("height",l):c&&a.append("rect").attr("fill","black").attr("width",p=>i(d(p))).attr("height",p=>i(d(p))).attr("x",p=>(l-+i(d(p)))/2).attr("y",p=>(l-+i(d(p)))/2);break}default:{a.append("rect").attr("width",l).attr("height",l).attr("fill",p=>r(Ui(p)));break}}},[r,i,n,e,t])}const QTe=Object.freeze(Object.defineProperty({__proto__:null,createLinearScale:hp,createMarkScale:KTe,useCellRenderer:XTe},Symbol.toStringTag,{value:"Module"}));function rxt(e,t){const n=hp(t,0,1);let r;switch(e){case tu.Viridis:r=n.map(i=>bwt(i)).reverse();break;case tu.Cividis:r=n.map(i=>mwt(i)).reverse();break;case tu.Warm:r=n.map(i=>gwt(i)).reverse();break;case tu.Cool:r=n.map(i=>ywt(i)).reverse();break;case tu.Plasma:r=n.map(i=>xwt(i)).reverse();break;case tu.Inferno:r=n.map(i=>wwt(i)).reverse();break;case tu.Turbo:r=n.map(i=>vwt(i)).reverse();break;case tu.Blues:r=n.map(i=>fwt(i));break;case tu.Oranges:r=n.map(i=>pwt(i));break;default:r=n.map(i=>cwt(i));break}return r}function JTe(e,t,n,r,i,s,o,a,l,u){const{meanScale:c,alternateScale:d}=D.useMemo(()=>{const h=hp(l,n*.2,n*.9),p=rxt(t,l),m=e===yr.BarChart||e===yr.BarChartColor?h:p,g=e===yr.BarChart||e===yr.BarChartColor?p:h;return{meanScale:t2().domain([r,i]).range(m),alternateScale:t2().domain([r,i]).range(g)}},[r,i,l,t,e,n]),f=D.useMemo(()=>{let h=[1];switch(e){case yr.BarChartColor:case yr.BarChart:{h=hp(u,n*.2,n*.9),a&&(h=h.reverse());break}case yr.Bivariate:{h=hp(u,.2,1).reverse();break}case yr.ColorAngle45:case yr.MarkAngle45:{h=hp(u);break}case yr.ColorAngle90:case yr.MarkAngle90:{h=hp(u,0,90);break}case yr.MarkAngle45_90:{h=hp(u,90,45);break}case yr.MarkSize:{h=KTe(u,n*.8);break}case yr.CellSize:{h=hp(u,n*.3,n).reverse();break}}return t2().domain([s,o]).range(h)},[s,o,u,e,n,a]);return{meanScale:c,devScale:f,alternateScale:d}}const ZTe=Object.freeze(Object.defineProperty({__proto__:null,useCellScales:JTe},Symbol.toStringTag,{value:"Module"}));function ixt(e,t){return e-t}function sxt(e){return typeof e=="function"?e:function(){return e}}function $ue(e,t){e=Math.abs(e),t=Math.abs(t);var n,r;e>t?(n=e,r=t):(n=t,r=e);var i=r/n;return n*Math.sqrt(1+i*i)}function oxt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function axt(){function e(t){for(var n=t.length,r=[],i=[],s=[],o=0;o<n;o++)r[o]=[],i[o]=[],s[o]=[];for(var a=!0,l=0;l<n;l++)for(var o=0;o<n;o++)if(t[o][l]!==t[l][o]){a=!1;break}if(a){for(var o=0;o<n;o++)r[o]=t[o].slice();lxt(i,s,r),uxt(i,s,r)}else{for(var u=[],o=0;o<n;o++)u[o]=t[o].slice();cxt(u,r),dxt(i,s,u,r)}for(var c=[],o=0;o<n;o++){for(var d=c[o]=[],l=0;l<n;l++)d[l]=o===l?i[o]:0;c[o][s[o]>0?o+1:o-1]=s[o]}return{D:c,V:r}}return e}function lxt(e,t,n){for(var r=n.length,i=0;i<r;i++)e[i]=n[r-1][i];for(var s=r-1;s>0;s--){for(var o=0,a=0,l=0;l<s;l++)o+=Math.abs(e[l]);if(o===0){t[s]=e[s-1];for(var i=0;i<s;i++)e[i]=n[s-1][i],n[s][i]=0,n[i][s]=0}else{for(var l=0;l<s;l++)e[l]/=o,a+=e[l]*e[l];var u=e[s-1],c=Math.sqrt(a);u>0&&(c=-c),t[s]=o*c,a=a-u*c,e[s-1]=u-c;for(var i=0;i<s;i++)t[i]=0;for(var i=0;i<s;i++){u=e[i],n[i][s]=u,c=t[i]+n[i][i]*u;for(var l=i+1;l<=s-1;l++)c+=n[l][i]*e[l],t[l]+=n[l][i]*u;t[i]=c}u=0;for(var i=0;i<s;i++)t[i]/=a,u+=t[i]*e[i];for(var d=u/(a+a),i=0;i<s;i++)t[i]-=d*e[i];for(var i=0;i<s;i++){u=e[i],c=t[i];for(var l=i;l<=s-1;l++)n[l][i]-=u*t[l]+c*e[l];e[i]=n[s-1][i],n[s][i]=0}}e[s]=a}for(var s=0;s<r-1;s++){n[r-1][s]=n[s][s],n[s][s]=1;var a=e[s+1];if(a!=0){for(var l=0;l<=s;l++)e[l]=n[l][s+1]/a;for(var i=0;i<=s;i++){for(var c=0,l=0;l<=s;l++)c+=n[l][s+1]*n[l][i];for(var l=0;l<=s;l++)n[l][i]-=c*e[l]}}for(var l=0;l<=s;l++)n[l][s+1]=0}for(var i=0;i<r;i++)e[i]=n[r-1][i],n[r-1][i]=0;n[r-1][r-1]=1,t[0]=0}function uxt(e,t,n){for(var r=n.length,i=1;i<r;i++)t[i-1]=t[i];t[r-1]=0;for(var s=0,o=0,a=1e-12,l=0;l<r;l++){o=Math.max(o,Math.abs(e[l])+Math.abs(t[l]));for(var u=l;u<r&&!(Math.abs(t[u])<=a*o);)u++;if(u>l)do{var c=e[l],d=(e[l+1]-c)/(2*t[l]),f=$ue(d,1);d<0&&(f=-f),e[l]=t[l]/(d+f),e[l+1]=t[l]*(d+f);for(var h=e[l+1],p=c-e[l],i=l+2;i<r;i++)e[i]-=p;s+=p,d=e[u];for(var m=1,g=m,v=m,y=t[l+1],w=0,E=0,i=u-1;i>=l;i--){v=g,g=m,E=w,c=m*t[i],p=m*d,f=$ue(d,t[i]),t[i+1]=w*f,w=t[i]/f,m=d/f,d=m*e[i]-w*c,e[i+1]=p+w*(m*c+w*e[i]);for(var C=0;C<r;C++)p=n[C][i+1],n[C][i+1]=w*n[C][i]+m*p,n[C][i]=m*n[C][i]-w*p}d=-w*E*v*y*t[l]/h,t[l]=w*d,e[l]=m*d}while(Math.abs(t[l])>a*o);e[l]=e[l]+s,t[l]=0}for(var i=0;i<r-1;i++){for(var C=i,d=e[i],S=i+1;S<r;S++)e[S]<d&&(C=S,d=e[S]);if(C!=i){e[C]=e[i],e[i]=d;for(var S=0;S<r;S++)d=n[S][i],n[S][i]=n[S][C],n[S][C]=d}}}function cxt(e,t){for(var n=e.length,r=[],i=0,s=n-1,o=i+1;o<s;o++){for(var a=0,l=o;l<=s;l++)a+=Math.abs(e[l][o-1]);if(a!==0){for(var u=0,l=s;l>=o;l--)r[l]=e[l][o-1]/a,u+=r[l]*r[l];var c=Math.sqrt(u);r[o]>0&&(c=-c),u=u-r[o]*c,r[o]=r[o]-c;for(var d=o;d<n;d++){for(var f=0,l=s;l>=o;l--)f+=r[l]*e[l][d];f/=u;for(var l=o;l<=s;l++)e[l][d]-=f*r[l]}for(var l=0;l<=s;l++){for(var f=0,d=s;d>=o;d--)f+=r[d]*e[l][d];f/=u;for(var d=o;d<=s;d++)e[l][d]-=f*r[d]}r[o]=a*r[o],e[o][o-1]=a*c}}for(var l=0;l<n;l++)for(var d=0;d<n;d++)t[l][d]=l===d?1:0;for(var o=s-1;o>=i+1;o--)if(e[o][o-1]!==0){for(var l=o+1;l<=s;l++)r[l]=e[l][o-1];for(var d=o;d<=s;d++){for(var c=0,l=o;l<=s;l++)c+=r[l]*t[l][d];c=c/r[o]/e[o][o-1];for(var l=o;l<=s;l++)t[l][d]+=c*r[l]}}}function dxt(e,t,n,r){for(var i=n.length,s=i-1,o=0,a=i-1,l=1e-12,u=0,c=0,d=0,f=0,h=0,p=0,m,g,v,y,w=0,E=0;E<i;E++){(E<o||E>a)&&(e[E]=n[E][E],t[E]=0);for(var C=Math.max(E-1,0);C<i;C++)w+=Math.abs(n[E][C])}for(var S=0;s>=o;){for(var T=s;T>o&&(h=Math.abs(n[T-1][T-1])+Math.abs(n[T][T]),h===0&&(h=w),!(Math.abs(n[T][T-1])<l*h));)T--;if(T===s)n[s][s]=n[s][s]+u,e[s]=n[s][s],t[s]=0,s--,S=0;else if(T===s-1){if(g=n[s][s-1]*n[s-1][s],c=(n[s-1][s-1]-n[s][s])/2,d=c*c+g,p=Math.sqrt(Math.abs(d)),n[s][s]=n[s][s]+u,n[s-1][s-1]=n[s-1][s-1]+u,v=n[s][s],d>=0){p=c+(c>=0?p:-p),e[s-1]=v+p,e[s]=e[s-1],p!==0&&(e[s]=v-g/p),t[s-1]=0,t[s]=0,v=n[s][s-1],h=Math.abs(v)+Math.abs(p),c=v/h,d=p/h,f=Math.sqrt(c*c+d*d),c/=f,d/=f;for(var C=s-1;C<i;C++)p=n[s-1][C],n[s-1][C]=d*p+c*n[s][C],n[s][C]=d*n[s][C]-c*p;for(var E=0;E<=s;E++)p=n[E][s-1],n[E][s-1]=d*p+c*n[E][s],n[E][s]=d*n[E][s]-c*p;for(var E=o;E<=a;E++)p=r[E][s-1],r[E][s-1]=d*p+c*r[E][s],r[E][s]=d*r[E][s]-c*p}else e[s-1]=v+c,e[s]=v+c,t[s-1]=p,t[s]=-p;s=s-2,S=0}else{if(v=n[s][s],y=0,g=0,T<s&&(y=n[s-1][s-1],g=n[s][s-1]*n[s-1][s]),S==10){u+=v;for(var E=o;E<=s;E++)n[E][E]-=v;h=Math.abs(n[s][s-1])+Math.abs(n[s-1][s-2]),v=y=.75*h,g=-.4375*h*h}if(S==30&&(h=(y-v)/2,h=h*h+g,h>0)){h=Math.sqrt(h),y<v&&(h=-h),h=v-g/((y-v)/2+h);for(var E=o;E<=s;E++)n[E][E]-=h;u+=h,v=y=g=.964}S++;for(var k=s-2;k>=T&&(p=n[k][k],f=v-p,h=y-p,c=(f*h-g)/n[k+1][k]+n[k][k+1],d=n[k+1][k+1]-p-f-h,f=n[k+2][k+1],h=Math.abs(c)+Math.abs(d)+Math.abs(f),c=c/h,d=d/h,f=f/h,!(k==T||Math.abs(n[k][k-1])*(Math.abs(d)+Math.abs(f))<l*(Math.abs(c)*(Math.abs(n[k-1][k-1])+Math.abs(p)+Math.abs(n[k+1][k+1])))));)k--;for(var E=k+2;E<=s;E++)n[E][E-2]=0,E>k+2&&(n[E][E-3]=0);for(var I=k;I<=s-1;I++){var R=I!=s-1;if(I!=k&&(c=n[I][I-1],d=n[I+1][I-1],f=R?n[I+2][I-1]:0,v=Math.abs(c)+Math.abs(d)+Math.abs(f),v!=0&&(c/=v,d/=v,f/=v)),v==0)break;if(h=Math.sqrt(c*c+d*d+f*f),c<0&&(h=-h),h!=0){I!=k?n[I][I-1]=-h*v:T!=k&&(n[I][I-1]=-n[I][I-1]),c+=h,v=c/h,y=d/h,p=f/h,d/=c,f/=c;for(var C=I;C<i;C++)c=n[I][C]+d*n[I+1][C],R&&(c=c+f*n[I+2][C],n[I+2][C]=n[I+2][C]-c*p),n[I][C]=n[I][C]-c*v,n[I+1][C]=n[I+1][C]-c*y;for(var E=0;E<=Math.min(s,I+3);E++)c=v*n[E][I]+y*n[E][I+1],R&&(c+=p*n[E][I+2],n[E][I+2]=n[E][I+2]-c*f),n[E][I]=n[E][I]-c,n[E][I+1]=n[E][I+1]-c*d;for(var E=o;E<=a;E++)c=v*r[E][I]+y*r[E][I+1],R&&(c=c+p*r[E][I+2],r[E][I+2]=r[E][I+2]-c*f),r[E][I]=r[E][I]-c,r[E][I+1]=r[E][I+1]-c*d}}}}if(w!=0){for(s=i-1;s>=0;s--)if(c=e[s],d=t[s],d==0){var T=s;n[s][s]=1;for(var E=s-1;E>=0;E--){g=n[E][E]-c,f=0;for(var C=T;C<=s;C++)f=f+n[E][C]*n[C][s];if(t[E]<0)p=g,h=f;else if(T=E,t[E]===0?n[E][s]=-f/(g!==0?g:l*w):(v=n[E][E+1],y=n[E+1][E],d=(e[E]-c)*(e[E]-c)+t[E]*t[E],m=(v*h-p*f)/d,n[E][s]=m,Math.abs(v)>Math.abs(p)?n[E+1][s]=(-f-g*m)/v:n[E+1][s]=(-h-y*m)/p),m=Math.abs(n[E][s]),l*m*m>1)for(var C=E;C<=s;C++)n[C][s]=n[C][s]/m}}else if(d<0){var T=s-1;if(Math.abs(n[s][s-1])>Math.abs(n[s-1][s]))n[s-1][s-1]=d/n[s][s-1],n[s-1][s]=-(n[s][s]-c)/n[s][s-1];else{var O=rR(0,-n[s-1][s],n[s-1][s-1]-c,d);n[s-1][s-1]=O[0],n[s-1][s]=O[1]}n[s][s-1]=0,n[s][s]=1;for(var E=s-2;E>=0;E--){for(var M=0,$=0,L,U,C=T;C<=s;C++)M=M+n[E][C]*n[C][s-1],$=$+n[E][C]*n[C][s];if(g=n[E][E]-c,t[E]<0)p=g,f=M,h=$;else{if(T=E,t[E]==0){var O=rR(-M,-$,g,d);n[E][s-1]=O[0],n[E][s]=O[1]}else{v=n[E][E+1],y=n[E+1][E],L=(e[E]-c)*(e[E]-c)+t[E]*t[E]-d*d,U=(e[E]-c)*2*d,L==0&U==0&&(L=l*w*(Math.abs(g)+Math.abs(d)+Math.abs(v)+Math.abs(y)+Math.abs(p)));var O=rR(v*f-p*M+d*$,v*h-p*$-d*M,L,U);if(n[E][s-1]=O[0],n[E][s]=O[1],Math.abs(v)>Math.abs(p)+Math.abs(d))n[E+1][s-1]=(-M-g*n[E][s-1]+d*n[E][s])/v,n[E+1][s]=(-$-g*n[E][s]-d*n[E][s-1])/v;else{var O=rR(-f-y*n[E][s-1],-h-y*n[E][s],p,d);n[E+1][s-1]=O[0],n[E+1][s]=O[1]}}if(m=Math.max(Math.abs(n[E][s-1]),Math.abs(n[E][s])),l*m*m>1)for(var C=E;C<=s;C++)n[C][s-1]=n[C][s-1]/m,n[C][s]=n[C][s]/m}}}for(var E=0;E<i;E++)if(E<o||E>a)for(var C=E;C<i;C++)r[E][C]=n[E][C];for(var C=i-1;C>=o;C--)for(var E=o;E<=a;E++){p=0;for(var I=o;I<=Math.min(C,a);I++)p+=r[E][I]*n[I][C];r[E][C]=p}}}function rR(e,t,n,r){if(Math.abs(n)>Math.abs(r)){var i=r/n,s=n+i*r;return[(e+i*t)/s,(t-i*e)/s]}else{var i=n/r,s=r+i*n;return[(i*e+t)/s,(i*t-e)/s]}}function fxt(e){var t=e[0].concat(e[1]).concat(e[2]).concat(e[3]);return t[12]*t[9]*t[6]*t[3]-t[8]*t[13]*t[6]*t[3]-t[12]*t[5]*t[10]*t[3]+t[4]*t[13]*t[10]*t[3]+t[8]*t[5]*t[14]*t[3]-t[4]*t[9]*t[14]*t[3]-t[12]*t[9]*t[2]*t[7]+t[8]*t[13]*t[2]*t[7]+t[12]*t[1]*t[10]*t[7]-t[0]*t[13]*t[10]*t[7]-t[8]*t[1]*t[14]*t[7]+t[0]*t[9]*t[14]*t[7]+t[12]*t[5]*t[2]*t[11]-t[4]*t[13]*t[2]*t[11]-t[12]*t[1]*t[6]*t[11]+t[0]*t[13]*t[6]*t[11]+t[4]*t[1]*t[14]*t[11]-t[0]*t[5]*t[14]*t[11]-t[8]*t[5]*t[2]*t[15]+t[4]*t[9]*t[2]*t[15]+t[8]*t[1]*t[6]*t[15]-t[0]*t[9]*t[6]*t[15]-t[4]*t[1]*t[10]*t[15]+t[0]*t[5]*t[10]*t[15]}function eke(e,t){for(var n=0,r=-1,i=Math.min(e.length,t.length);++r<i;)n+=e[r]*t[r];return n}function tke(e,t){t||(t=1e-10);for(var n=e.length,r=e[0].length,i=-1,s,o;++i<n;){var a=i;for(s=i;++s<n;)Math.abs(e[s][i])>Math.abs(e[a][i])&&(a=s);var l=e[i];if(e[i]=e[a],e[a]=l,Math.abs(e[i][i])<=t)return!1;for(s=i;++s<n;){var u=e[s][i]/e[i][i];for(o=i-1;++o<r;)e[s][o]-=e[i][o]*u}}for(i=n;--i>=0;){var u=e[i][i];for(s=-1;++s<i;)for(o=r;--o>=i;)e[s][o]-=e[i][o]*e[s][i]/u;for(e[i][i]/=u,o=n-1;++o<r;)e[i][o]/=u}return!0}function hxt(e){var t=e.length,n=-1;if(t===e[0].length){for(e=e.map(function(r,i){for(var s=new Array(t),o=-1;++o<t;)s[o]=i===o?1:0;return r.concat(s)}),tke(e);++n<t;)e[n]=e[n].slice(t);return e}}function nke(e){return Math.sqrt(eke(e,e))}function pxt(e,t){var n=e.length,r=t[0].length,i=t.length,s=-1,o,a;if(i!==e[0].length)throw{error:"columns(a) != rows(b); "+e[0].length+" != "+i};for(var l=new Array(n);++s<n;)for(l[s]=new Array(r),o=-1;++o<r;){var u=0;for(a=-1;++a<i;)u+=e[s][a]*t[a][o];l[s][o]=u}return l}function mxt(e){var t=nke(e);return e.map(function(n){return n/t})}function gxt(e){for(var t=e.length,n=e[0].length,r=-1,i,s=new Array(n);++r<n;)for(s[r]=new Array(t),i=-1;++i<t;)s[r][i]=e[i][r];return s}function yxt(e,t,n,r,i,s){var o,a;for(o=1;o<s;o++)a=e[o]/t[o-1],t[o]-=a*n[o-1],r[o]-=a*r[o-1];for(i[s-1]=r[s-1]/t[s-1],o=s-2;o>=0;o--)i[o]=(r[o]-n[o]*i[o+1])/t[o]}var vxt=Object.freeze({cross:oxt,decompose:axt,determinant:fxt,dot:eke,gaussjordan:tke,inverse:hxt,length:nke,multiply:pxt,normalize:mxt,transpose:gxt,tridag:yxt});function $K(e){var t=.254829592,n=-.284496736,r=1.421413741,i=-1.453152027,s=1.061405429,o=.3275911,a=e<0?-1:1;e<0&&(a=-1,e=-e);var l=1/(1+o*e);return a*(1-((((s*l+i)*l+r)*l+n)*l+t)*l*Math.exp(-e*e))}function bxt(){var e=Math.random,t=0,n=1,r=1;function i(){var s,o,a;do s=2*e()-1,o=2*e()-1,a=s*s+o*o;while(a>=1||a===0);return t+n*s*Math.sqrt(-2*Math.log(a)/a)}return i.pdf=function(s){return s=(s-t)/n,wxt*Math.exp(-.5*s*s)/n},i.cdf=function(s){return s=(s-t)/n,.5*(1+$K(s/Math.SQRT2))},i.mean=function(s){return arguments.length?(t=+s,i):t},i.variance=function(s){return arguments.length?(n=Math.sqrt(r=+s),i):r},i.random=function(s){return arguments.length?(e=s,i):e},i}var wxt=1/Math.sqrt(2*Math.PI),xxt=Object.freeze({gaussian:bxt});function rke(e){var t=e.length;if(t===0)return NaN;for(var n=0,r=-1;++r<t;)n+=(e[r]-n)/(r+1);return n}function MK(e){var t=e.length;if(t<1)return NaN;if(t===1)return 0;for(var n=rke(e),r=-1,i=0;++r<t;){var s=e[r]-n;i+=s*s}return i/(t-1)}function FK(e,t){e=e.slice().sort(ixt);var n=e.length-1;return t.map(function(r){if(r===0)return e[0];if(r===1)return e[n];var i=1+r*n,s=Math.floor(i),o=i-s,a=e[s-1];return o===0?a:a+o*(e[s]-a)})}function LK(e){var t=FK(e,[.25,.75]);return t[1]-t[0]}function _xt(e){var t,n=Math.sqrt(MK(e));return(t=Math.min(n,LK(e)/1.34))||(t=n)||(t=Math.abs(e[1]))||(t=1),.9*t*Math.pow(e.length,-.2)}function ike(e){var t=LK(e)/1.34;return 1.06*Math.min(Math.sqrt(MK(e)),t)*Math.pow(e.length,-1/5)}var Ext=Object.freeze({nrd0:_xt,nrd:ike});function jK(e,t){for(var n=e.length,r=-1,i=0,s;++r<n;)s=e[r]-t[r],i+=s*s;return Math.sqrt(i)}function Cxt(e,t){for(var n=e.length,r=-1,i=0;++r<n;)i+=Math.abs(e[r]-t[r]);return i}function Sxt(e){return function(t,n){for(var r=t.length,i=-1,s=0;++i<r;)s+=Math.pow(Math.abs(t[i]-n[i]),e);return Math.pow(s,1/e)}}function Txt(e,t){for(var n=e.length,r=-1,i=0,s;++r<n;)s=Math.abs(e[r]-t[r]),s>i&&(i=s);return i}function kxt(e,t){for(var n=e.length,r=-1,i=0;++r<n;)e[r]!==t[r]&&i++;return i}function Axt(e,t){for(var n=e.length,r=-1,i=0;++r<n;)e[r]===t[r]&&i++;return i/n}function Ixt(e,t){for(var n=e.length,r=-1,i=0,s=0,o,a;++r<n;)o=e[r],a=t[r],i+=Math.abs(o-a),s+=Math.abs(o+a);return i/s}var Rxt=Object.freeze({euclidean:jK,manhattan:Cxt,minkowski:Sxt,chebyshev:Txt,hamming:kxt,jaccard:Axt,braycurtis:Ixt});function Dxt(){var e=jK,t="single";function n(r){var i=r.length,s=[],o=[],a=[],l=[],u,c,d,f,h,p,m,g;for(m=-1;++m<i;)for(s[m]=0,a[m]=[],g=-1;++g<i;)a[m][g]=m===g?1/0:e(r[m],r[g]),a[m][s[m]]>a[m][g]&&(s[m]=g);for(m=-1;++m<i;)l[m]=[],l[m][0]={left:null,right:null,dist:0,centroid:r[m],size:1,depth:0},o[m]=1;for(h=0;h<i-1;h++){for(u=0,m=0;m<i;m++)a[m][s[m]]<a[u][s[u]]&&(u=m);c=s[u],d=l[u][0],f=l[c][0];var v={left:d,right:f,dist:a[u][c],centroid:Pxt(d.size,d.centroid,f.size,f.centroid),size:d.size+f.size,depth:1+Math.max(d.depth,f.depth)};for(l[u].splice(0,0,v),o[u]+=o[c],g=0;g<i;g++)switch(t){case"single":a[u][g]>a[c][g]&&(a[g][u]=a[u][g]=a[c][g]);break;case"complete":a[u][g]<a[c][g]&&(a[g][u]=a[u][g]=a[c][g]);break;case"average":a[g][u]=a[u][g]=(o[u]*a[u][g]+o[c]*a[c][g])/(o[u]+o[g]);break}for(a[u][u]=1/0,m=0;m<i;m++)a[m][c]=a[c][m]=1/0;for(g=0;g<i;g++)s[g]==c&&(s[g]=u),a[u][g]<a[u][s[u]]&&(s[u]=g);p=v}return p}return n.distance=function(r){return arguments.length?(e=r,n):e},n}function Pxt(e,t,n,r){for(var i=[],s=e+n,o=t.length,a=-1;++a<o;)i[a]=(e*t[a]+n*r[a])/s;return i}function Oxt(e){return e<=1&&e>=-1?.5:0}function Nxt(e){return e<=1&&e>=-1?1-Math.abs(e):0}function $xt(e){return e<=1&&e>=-1?.75*(1-e*e):0}function Mxt(e){if(e<=1&&e>=-1){var t=1-e*e;return 15/16*t*t}return 0}function Fxt(e){if(e<=1&&e>=-1){var t=1-e*e;return 35/32*t*t*t}return 0}function ske(e){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*e*e)}function Lxt(e){return e<=1&&e>=-1?Math.PI/4*Math.cos(Math.PI/2*e):0}var jxt=Object.freeze({uniform:Oxt,triangular:Nxt,epanechnikov:$xt,quartic:Mxt,triweight:Fxt,gaussian:ske,cosine:Lxt});function Bxt(){var e=ske,t=[],n=ike;function r(i,s){var o=n.call(this,t);return i.map(function(a){for(var l=-1,u=0,c=t.length;++l<c;)u+=e((a-t[l])/o);return[a,u/o/c]})}return r.kernel=function(i){return arguments.length?(e=i,r):e},r.sample=function(i){return arguments.length?(t=i,r):t},r.bandwidth=function(i){return arguments.length?(n=sxt(i),r):n},r}function zxt(){var e=jK,t=1e3,n=1;function r(i){for(var s=i.length,o=[],a=[],l=1,u=0,c=Uxt(n,i),d,f,h,p,m,g,v;l&&u<t;){for(h=-1;++h<n;)a[h]=0;for(f=-1;++f<s;){for(p=i[f],g=1/0,h=-1;++h<n;)m=e.call(this,c[h],p),m<g&&(g=m,v=h);a[o[f]=v]++}for(d=[],f=-1;++f<s;)if(p=o[f],m=d[p],m==null)d[p]=i[f].slice();else for(h=-1;++h<m.length;)m[h]+=i[f][h];for(h=-1;++h<n;)for(p=d[h],m=1/a[h],f=-1;++f<p.length;)p[f]*=m;for(l=0,h=-1;++h<n;)if(!oke(d[h],c[h])){l=1;break}c=d,u++}return{assignments:o,centroids:c}}return r.k=function(i){return arguments.length?(n=i,r):n},r.distance=function(i){return arguments.length?(e=i,r):e},r}function oke(e,t){if(!e||!t||e.length!==t.length)return!1;for(var n=e.length,r=-1;++r<n;)if(e[r]!==t[r])return!1;return!0}function Uxt(e,t){var n=t.length;if(e>n)return null;for(var r=[],i=[],s={},o=0,a=0,l,u,c;a<e;){if(o===n)return null;var d=Math.floor(Math.random()*n);if(!(d in s)){for(s[d]=1,o++,u=t[d],c=!0,l=0;l<a;l++)if(oke(u,r[l])){c=!1;break}c&&(r[a]=u,i[a]=d,a++)}}return r}function ake(e){return FK(e,[.5])[0]}function qxt(){var e=.3,t=2,n=1e-12;function r(i,s,o){var a=i.length,l;if(a!==s.length)throw{error:"Mismatched array lengths"};if(a==0)throw{error:"At least one point required."};if(arguments.length<3)for(o=[],l=-1;++l<a;)o[l]=1;if(Ej(i),Ej(s),Ej(o),Hxt(i),a==1)return[s[0]];if(a==2)return[s[0],s[1]];var u=Math.floor(e*a);if(u<2)throw{error:"Bandwidth too small."};var c=[],d=[],f=[];for(l=-1;++l<a;)c[l]=0,d[l]=0,f[l]=1;for(var h=-1;++h<=t;){var p=[0,u-1],m;for(l=-1;++l<a;){m=i[l],l>0&&Wxt(i,o,l,p);for(var g=p[0],v=p[1],y=i[l]-i[g]>i[v]-i[l]?g:v,w=0,E=0,C=0,S=0,T=0,k=Math.abs(1/(i[y]-m)),I=g;I<=v;++I){var R=i[I],O=s[I],M=I<l?m-R:R-m,W=Vxt(M*k)*f[I]*o[I],$=R*W;w+=W,E+=$,C+=R*$,S+=O*W,T+=O*$}var L=E/w,U=S/w,B=T/w,V=C/w,G=Math.sqrt(Math.abs(V-L*L))<n?0:(B-L*U)/(V-L*L),Y=U-G*L;c[l]=G*m+Y,d[l]=Math.abs(s[l]-c[l])}if(h===t)break;var z=ake(d);if(Math.abs(z)<n)break;var F,W;for(l=-1;++l<a;)F=d[l]/(6*z),f[l]=F>=1?0:(W=1-F*F)*W}return c}return r.bandwidth=function(i){return arguments.length?(e=i,r):i},r.robustnessIterations=function(i){return arguments.length?(t=i,r):i},r.accuracy=function(i){return arguments.length?(n=i,r):i},r}function Ej(e){for(var t=e.length,n=-1;++n<t;)if(!isFinite(e[n]))return!1;return!0}function Hxt(e){for(var t=e.length,n=0;++n<t;)if(e[n-1]>=e[n])return!1;return!0}function Vxt(e){return(e=1-e*e*e)*e*e}function Wxt(e,t,n,r){var i=r[0],s=r[1],o=Mue(t,s);if(o<e.length&&e[o]-e[n]<e[n]-e[i]){var a=Mue(t,i);r[0]=a,r[1]=o}}function Mue(e,t){for(var n=t+1;n<e.length&&e[n]===0;)n++;return n}function Gxt(e){for(var t={},n=[],r=0,i=e.length,s=-1,o,a;++s<i;)a=t.hasOwnProperty(o=e[s])?++t[o]:t[o]=1,a===r?n.push(o):a>r&&(r=a,n=[o]);if(n.length===1)return n[0]}function Yxt(e){return .5*(1+$K(e/Math.SQRT2))}var Kxt=Rxt,Xxt=jxt,Qxt=xxt,Jxt=Ext,Zxt=Object.freeze({distance:Kxt,kernel:Xxt,distribution:Qxt,bandwidth:Jxt,erf:$K,hcluster:Dxt,iqr:LK,kde:Bxt,kmeans:zxt,loess:qxt,mean:rke,median:ake,mode:Gxt,phi:Yxt,quantiles:FK,variance:MK}),e_t=vxt,t_t=Zxt;function n_t(e,t,n=1){arguments.length<2&&(t=e,e=0);const r=[];let i=e;if(n<0)for(;i>t;i+=n)r.push(i);else for(;i<t;i+=n)r.push(i);return r}const r_t=n_t,{dot:i_t,length:s_t,normalize:Vin,transpose:Win}=e_t,{mean:Gin}=t_t;function o_t(e){return r_t(0,e.length).sort((t,n)=>e[t]-e[n])}function a_t(e,t,n){const r=e.length;let i=0;for(let s=0;s<r;s++)i+=e[s][t]*e[s][n];return i}function l_t(e){const t=e[0].length,n=Array(t);for(let r=0;r<t;r++)n[r]=Array(t);for(let r=0;r<t;r++)for(let i=r;i<t;i++)n[r][i]=n[i][r]=a_t(e,r,i);return n}function u_t(e,t){if(!e)throw console.log(t),t}function $g(e,t){return!(isNaN(e)||isNaN(t)||e==1/0||t==1/0)}const _c={};_c.euclidean=function(e,t){let n=0;for(let r=e.length-1;r>=0;r--)if($g(e[r],t[r])){const i=e[r]-t[r];n+=i*i}return Math.sqrt(n)};_c.manhattan=function(e,t){let n=0;for(let r=e.length-1;r>=0;r--)$g(e[r],t[r])&&(n+=Math.abs(e[r]-t[r]));return n};_c.minkowski=function(e){return(t,n)=>{let r=0;for(let i=t.length-1;i>=0;i--)$g(t[i],n[i])&&(r+=Math.pow(Math.abs(t[i]-n[i]),e));return Math.pow(r,1/e)}};_c.chebyshev=function(e,t){let n=0;for(let r=e.length-1;r>=0;r--)if($g(e[r],t[r])){const i=Math.abs(e[r]-t[r]);i>n&&(n=i)}return n};_c.hamming=function(e,t){let n=0;for(let r=e.length-1;r>=0;r--)$g(e[r],t[r])&&e[r]!==t[r]&&n++;return n};_c.jaccard=function(e,t){let n=0,r=0;for(let i=e.length-1;i>=0;i--)$g(e[i],t[i])&&(e[i]===t[i]&&r++,n++);return n===0?0:r/n};_c.braycurtis=function(e,t){let n=0,r=0;for(let i=e.length-1;i>=0;i--){const s=e[i],o=t[i];$g(s,o)&&(n+=Math.abs(s-o),r+=Math.abs(s+o))}return r===0?0:n/r};_c.morans=function(e){let t=0;const n=e.length*e[0].length;for(let r=0;r<e.length;r++)for(let i=0;i<e[0].length;i++)t+=e[r][i];return(r,i)=>{let s=0;for(let o=0;o<r.length;o++)$g(r[o],i[o])&&(s+=(r[o]*n-t)*(i[o]*n-t));return-1*s}};function c_t(){let e=_c.euclidean;function t(n){const r=n.length,i=[];for(let s=0;s<r;s++){const o=[];i[s]=o;for(let a=0;a<r;a++)a<s?o.push(i[a][s]):s===a?o.push(0):o.push(e(n[s],n[a]))}return i}return t.distance=function(n){return arguments.length?(e=n,t):e},t}function d_t(e,t,n){const r=Array(e);if(arguments.length==1)for(;e;)r[--e]=Math.random();else if(arguments.length==2)for(;e;)r[--e]=Math.random()*t;else for(;e;)r[--e]=t+Math.random()*(n-t);return r}function Fue(e){const t=s_t(e);let n=e.length;if(t===0||Math.abs(t-1)<1e-9)return 1;for(;n-- >0;)e[n]/=t;return t}function f_t(e,t,n){t||(t=1e-9);const r=e.length;let i,s=Array(r),o=100;for(u_t(r==e[0].length,"poweriteration needs a square matrix"),i=d_t(r),Fue(i);o-- >0;){for(let l=0;l<r;l++){s[l]=0;for(let u=0;u<r;u++)s[l]+=e[l][u]*i[u]}if(Fue(s),i_t(s,i)>1-t)break;const a=s;s=i,i=a}return s}function h_t(e,t){let n=t.length;const r=e.slice();for(;n--;)r[n]=e[t[n]];return r}function p_t(){let e=_c.euclidean,t="single",n=null;function r(i){const s=i.length,o=[],a=[],l=[];let u,c=0;if(n===null){n=[];let f=-1;for(;++f<s;){o[f]=0,n[f]=[];let h=-1;for(;++h<s;)n[f][h]=f===h?1/0:e(i[f],i[h]),n[f][o[f]]>n[f][h]&&(o[f]=h)}}else{if(n.length<s||n[0].length<s)throw{error:`Provided distance matrix length ${n.length} instead of ${s}`};let f=-1;for(;++f<s;){o[f]=0;let h=-1;for(;++h<s;)f===h&&(n[f][h]=1/0),n[f][o[f]]>n[f][h]&&(o[f]=h)}}let d=-1;for(;++d<s;)d!=c&&console.log("i = %d, id = %d",d,c),l[d]={left:null,right:null,dist:0,centroid:i[d],id:c++,size:1,depth:0},a[d]=1;for(let f=0;f<s-1;f++){let h=0;for(d=0;d<s;d++)n[d][o[d]]<n[h][o[h]]&&(h=d);const p=o[h],m=l[h],g=l[p],v={left:m,right:g,dist:n[h][p],centroid:m_t(m.size,m.centroid,g.size,g.centroid),id:c++,size:m.size+g.size,depth:1+Math.max(m.depth,g.depth)};l[h]=v;for(let y=0;y<s;y++)if(!(y===h||y===p))switch(t){case"single":n[h][y]>n[p][y]&&(n[y][h]=n[h][y]=n[p][y]);break;case"complete":n[h][y]<n[p][y]&&(n[y][h]=n[h][y]=n[p][y]);break;case"average":n[y][h]=n[h][y]=(a[h]*n[h][y]+a[p]*n[p][y])/(a[h]+a[p]);break}a[h]+=a[p];for(let y=0;y<s;y++)n[y][p]=n[p][y]=1/0;for(let y=0;y<s;y++){if(t==="single")o[y]===p&&(o[y]=h);else if(o[y]===p||o[y]===h)for(let w=0;w<s;w++)n[y][w]<n[y][o[y]]&&(o[y]=w);n[h][y]<n[h][o[h]]&&(o[h]=y)}u=v}return u}return r.linkage=function(i){return arguments.length?(t=i,r):t},r.distance=function(i){return arguments.length?(e=i,r):e},r.distanceMatrix=function(i){return arguments.length?(n=i.map(s=>s.slice(0)),r):n},r}function m_t(e,t,n,r){const i=[],s=e+n,o=t.length;let a=-1;for(;++a<o;)i[a]=(e*t[a]+n*r[a])/s;return i}function g_t(e){const t=e.length;if(t===0)return NaN;const n=e[0].length,r=e[0].slice(0);let i=0;for(;++i<t;){const s=e[i];for(let o=0;o<n;o++)r[o]+=(s[o]-r[o])/(i+1)}return r}function y_t(){let e=null,t=_c.euclidean,n="complete",r={},i={};function s(d){return d===null?[]:d.id in r?r[d.id]:r[d.id]=o(d)}function o(d){return d===null?[]:d.depth===0?[d.id]:s(d.left).concat(s(d.right))}function a(d,f,h){const p=`k${d.id}-${f}-${h}`;return p in i?i[p]:i[p]=l(d,f,h)}function l(d,f,h){if(d.depth===0)return[0,[d.id]];const p=d.left,m=d.right,g=s(p),v=s(m);let y,w;if(g.includes(f)&&v.includes(h))y=p,w=m;else if(v.includes(f)&&g.includes(h))y=m,w=p;else throw{error:`Node is not common ancestor of ${f}, ${h}`};const E=s(y.left),C=s(y.right);let S=C.includes(f)?E:C;S.length===0&&(S=[f]);const T=s(w.left),k=s(w.right);let I=k.includes(h)?T:k;I.length===0&&(I=[h]);let R=1/0,O=[];for(let M=0;M<S.length;M++){const $=a(y,f,S[M]);for(let L=0;L<I.length;L++){const U=a(w,I[L],h),B=$[0]+e[S[M]][I[L]]+U[0];B<R&&(R=B,O=$[1].concat(U[1]))}}return[R,O]}function u(d){r={},i={};let f=1/0,h=[];const p=s(d.left),m=s(d.right);for(let g=0;g<p.length;g++)for(let v=0;v<m.length;v++){const y=a(d,p[g],m[v]);y[0]<f&&(f=y[0],h=y[1])}return e=null,h}function c(d){e===null&&(e=c_t().distance(t)(d));const f=p_t().linkage(n).distanceMatrix(e);return u(f(d))}return c.order=u,c.reorder=c,c.distance=function(d){return arguments.length?(t=d,e=null,c):t},c.linkage=function(d){return arguments.length?(n=d,c):n},c.distance_matrix=function(d){return arguments.length?(e=d.map(f=>f.slice(0)),c):e},c.distanceMatrix=c.distance_matrix,c}function v_t(e){const t=e.length;if(t===0)return null;const n=g_t(e),r=n.length,i=Array(t);for(let s=0;s<t;s++){const o=e[s].slice(0);for(let a=0;a<r;a++)o[a]-=n[a];i[s]=o}return i}function b_t(e,t){if(e.length===0)return null;e=v_t(e);const n=l_t(e);return f_t(n,t)}function w_t(e,t){return o_t(b_t(e,t))}function x_t(e,t){let n=Ui;e==="snr"?n=NK:e==="std"&&(n=Xv);const r=Array.from(new Set(t.flatMap(({origin:o,destination:a})=>[o,a]))),i=new Map(r.map((o,a)=>[o,a])),s=Array.from({length:r.length},()=>Array(r.length).fill(0));return t.forEach(o=>{const{origin:a,destination:l}=o,u=n(o)||0;s[i.get(a)][i.get(l)]=u}),{matrix:s,nodes:r}}function lke(e,t,n){const{matrix:r,nodes:i}=x_t(t,n);let s,o;return e==="optimal"?(s=y_t(),s.distance(_c.euclidean),s.linkage("complete"),o=s(r)):(s=w_t,o=s(r)),h_t(i,o)}function uke(e,t,n){const[r,i]=D.useState(null),[s,o]=D.useState(null);return D.useLayoutEffect(()=>{if(e.length>1){let a;t==="none"?a=null:a=lke(t,n,e),i(a),o(a)}},[e,t,n]),{orderedOrigins:r,orderedDestinations:s,setOrderedOrigins:i,setOrderedDestinations:o}}const cke=Object.freeze(Object.defineProperty({__proto__:null,getClusterOrder:lke,useOrderingState:uke},Symbol.toStringTag,{value:"Module"}));function dke(e){const[t,n]=D.useState([]),[r,i]=D.useState(null),[s,o]=D.useState([]),[a,l]=D.useState(null),[u,c]=D.useState(null);return D.useEffect(()=>{e&&(n(e.answerNodes),i(e.orderingNode),o(e.linkMarks),c(e.originHighlight),l(e.destinationHighlight))},[e]),{destinationHighlight:a,setDestinationHighlight:l,originHighlight:u,setOriginHighlight:c,answerNodes:t,setAnswerNodes:n,orderingNode:r,setOrderingNode:i,linkMarks:s,setLinkMarks:o}}const fke=Object.freeze(Object.defineProperty({__proto__:null,useReplayState:dke},Symbol.toStringTag,{value:"Module"})),__t={showConfigurationPanel:!1,colorScheme:tu.Viridis,markContrast:0,encoding:yr.Mean,showTooltip:!1,isSnr:!1,clusterMode:y6.None,clusterVar:v6.Mean,nMeans:5,nDevs:5},E_t=(e,t)=>({...t,...Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0))});function hke(e){const t=E_t(e,__t),[n,r]=D.useState(t.colorScheme),[i,s]=D.useState(t.markContrast),[o,a]=D.useState(t.encoding),[l,u]=D.useState(t.showTooltip),[c,d]=D.useState(t.isSnr),[f,h]=D.useState(t.clusterMode),[p,m]=D.useState(t.clusterVar),[g,v]=D.useState(t.nMeans),[y,w]=D.useState(t.nDevs);return{...t,colorScheme:n,markContrast:i,encoding:o,showTooltip:l,isSnr:c,clusterMode:f,clusterVar:p,nMeans:g,nDevs:y,setColorScheme:r,setMarkContrast:s,setEncoding:a,setShowTooltip:u,setIsSnr:d,setClusterMode:h,setClusterVar:m,setNMeans:v,setNDevs:w}}const pke=Object.freeze(Object.defineProperty({__proto__:null,useConfigProps:hke},Symbol.toStringTag,{value:"Module"}));function C_t(){const{setAnswerNodes:e,trrack:t,actions:n,setAnswer:r}=xc();return x.jsx(Wt,{variant:"filled",size:"sm",styles:{root:{width:"fit-content",display:"inline-flex"}},onClick:()=>{e([]),t==null||t.apply("Set Answer",n==null?void 0:n.setAnswerNodes([])),r({status:!0,provenanceGraph:t==null?void 0:t.graph.backend,answers:{answerNodes:[]}})},children:b6.ClearNodeSelection})}function S_t(){const{setLinkMarks:e}=xc();return x.jsx(Wt,{variant:"filled",size:"sm",styles:{root:{width:"fit-content",display:"inline-flex"}},onClick:()=>{e([])},children:b6.ClearLinkSelection})}function mke(){return x.jsxs(Mi,{style:{display:"flex"},children:[x.jsx(C_t,{}),x.jsx(S_t,{})]})}const gke=Object.freeze(Object.defineProperty({__proto__:null,InteractionButtons:mke},Symbol.toStringTag,{value:"Module"})),T_t="modulepreload",k_t=function(e){return"/revisit/"+e},Lue={},Qv=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(u=>{if(u=k_t(u),u in Lue)return;Lue[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":T_t,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},A_t=Object.assign({"/public/matrices/data/tasks_data.txt":()=>Qv(()=>import("./tasks_data-DzJatG4n.js"),[]),"/public/matrices/data/training_data.txt":()=>Qv(()=>import("./training_data-CWUhbmEg.js"),[])}),I_t=Object.keys(A_t).map(e=>e.replace("/public/matrices/data/",""));function yke({configProps:e,dataname:t,setDataname:n}){const{showTooltip:r,encoding:i,colorScheme:s,markContrast:o,nMeans:a,nDevs:l,clusterMode:u,clusterVar:c,setShowTooltip:d,setEncoding:f,setColorScheme:h,setMarkContrast:p,setClusterMode:m,setClusterVar:g,setNMeans:v,setNDevs:y,showConfigurationPanel:w}=e,[E,C]=D.useState(!1);return x.jsxs(_e,{style:{position:"absolute",top:0,left:0},children:[w&&!E&&x.jsx(MW,{opened:E,onClick:()=>C(S=>!S),size:"lg"}),x.jsx(zd,{opened:E,onClose:()=>C(!1),position:"left",size:300,padding:"md",withOverlay:!1,title:"Configuration",children:x.jsxs(Mi,{gap:"md",children:[x.jsx(Fo,{label:"Tooltip",checked:r,onChange:S=>d(S.currentTarget.checked)}),x.jsx(Ky,{label:"Data file:",value:t,onChange:S=>n(S.currentTarget.value),data:I_t}),x.jsx(Ky,{label:"Encoding:",value:i,onChange:S=>f(S.currentTarget.value),data:Object.values(yr)}),x.jsx(Ky,{label:"Color scheme:",value:s,onChange:S=>h(S.currentTarget.value),data:Object.values(tu)}),x.jsxs(Mi,{gap:"xs",children:[x.jsxs(Ue,{size:"sm",children:["Grey Mark contrast:",o]}),x.jsx(Gw,{min:0,max:100,value:o,onChange:p})]}),x.jsx(Ky,{label:"Cluster mode:",value:u,onChange:S=>m(S.currentTarget.value),data:Object.values(y6)}),x.jsx(Ky,{label:"Cluster variable:",value:c,onChange:S=>g(S.currentTarget.value),data:Object.values(v6)}),x.jsxs(Mi,{gap:"xs",children:[x.jsxs(Ue,{size:"sm",children:["Mean Steps:",a]}),x.jsx(Gw,{min:2,max:5,value:a,onChange:v})]}),x.jsxs(Mi,{gap:"xs",children:[x.jsxs(Ue,{size:"sm",children:["Deviation Steps:",l]}),x.jsx(Gw,{min:2,max:5,value:l,onChange:y})]})]})})]})}const vke=Object.freeze(Object.defineProperty({__proto__:null,default:yke},Symbol.toStringTag,{value:"Module"})),by={top:120,left:120,right:3,bottom:3};function bke({config:e,data:t,dataname:n,setDataname:r,provenanceState:i,actions:s,trrack:o,setAnswer:a}){const l=hke(e),u=dke(i),c=uke(t,l.clusterMode,l.clusterVar),[d,f]=[695,695],h=Math.min(d-by.left-by.right,f-by.top-by.bottom),p=D.useMemo(()=>c.orderedOrigins||[...new Set(t.map(ox))].sort(),[t,c.orderedOrigins]),m=D.useMemo(()=>c.orderedDestinations||[...new Set(t.map(ax))].sort(),[t,c.orderedDestinations]),g=D.useMemo(()=>UU().domain(p).range([0,h]),[h,p]),v=D.useMemo(()=>UU().domain(m).range([0,h]),[h,m]),y=g.bandwidth(),{meanMin:w,meanMax:E}=D.useMemo(()=>({meanMin:0,meanMax:250}),[t]),{devMin:C,devMax:S}=D.useMemo(()=>({devMin:0,devMax:150}),[t,l.isSnr]),{meanScale:T,devScale:k,alternateScale:I}=JTe(l.encoding,l.colorScheme,y,w,E,C,S,l.isSnr,l.nMeans,l.nDevs),R=XTe(l.encoding,l.markContrast,l.isSnr,T,k,I),O=D.useMemo(()=>({data:t,width:d,height:f,size:h,margin:by,cellSize:y,meanMin:w,meanMax:E,devMin:C,devMax:S,meanScale:T,devScale:k,alternateScale:I,originScale:g,destinationScale:v,cellRenderer:R,configProps:l,...u,...c,actions:s,trrack:o,setAnswer:a}),[t,d,f,h,y,w,E,C,S,T,k,g,v,R,l,u,c,s,o,a]),M=!Number.isNaN(h)&&h>0;return x.jsx(TTe,{value:O,children:x.jsxs("div",{className:"container",children:[x.jsx(yke,{configProps:l,dataname:n,setDataname:r}),x.jsx("svg",{className:"matrix-svg",children:M&&x.jsxs("g",{transform:`translate(${by.left},${by.top})`,onMouseLeave:()=>{u.setOriginHighlight(null),u.setDestinationHighlight(null)},children:[x.jsx(UTe,{}),x.jsxs("g",{className:"axes",children:[x.jsx(ITe,{}),x.jsx(DTe,{})]}),x.jsx(MTe,{}),x.jsx(OTe,{}),e.clusterMarks&&x.jsx(WTe,{size:3,marks:e.clusterMarks}),x.jsx(GTe,{marks:u.linkMarks}),l.showTooltip&&x.jsx(HTe,{})]})}),M&&x.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"350px",gap:"20px",marginTop:"120px"},children:[x.jsx(mke,{}),x.jsx(BTe,{})]})]})})}const wke=Object.freeze(Object.defineProperty({__proto__:null,Matrix:bke},Symbol.toStringTag,{value:"Module"}));function jue({parameters:e,setAnswer:t,provenanceState:n}){const[r,i]=D.useState(null),[s,o]=D.useState(e.dataset??""),a=D.useCallback(async c=>{if(c)try{const d=await fetch(`${c}`);if(!d.ok)throw new Error("Failed to fetch file");const p=(await d.text()).split(`
`).filter(m=>m.trim().length>0).map(m=>JSON.parse(m)).filter(m=>m.origin>=m.destination);p.forEach(m=>{if(m.destination!==m.origin){const g={...m};g.origin=m.destination,g.destination=m.origin,p.push(g)}}),i(p)}catch(d){console.error("Error loading JSON:",d)}},[]);D.useEffect(()=>{a(s)},[a,s]);const{actions:l,trrack:u}=D.useMemo(()=>{const c=O1.create(),d=c.register("set-answer-nodes",(v,y)=>{v.answerNodes=y}),f=c.register("set-ordering-node",(v,y)=>{v.orderingNode=y}),h=c.register("set-link-marks",(v,y)=>{v.linkMarks=y}),p=c.register("highlight-origin-node",(v,y)=>{v.originHighlight=y}),m=c.register("highlight-destination-node",(v,y)=>{v.destinationHighlight=y}),g=gk({initialState:{answerNodes:[],orderingNode:null,linkMarks:[],originHighlight:null,destinationHighlight:null},registry:c});return{actions:{setAnswerNodes:d,setOrderingNode:f,setLinkMarks:h,setOriginHighlight:p,setDestinationHighlight:m},trrack:g}},[]);return r?x.jsx("div",{className:"precontainer",children:x.jsx(bke,{config:e,data:r,dataname:s,setDataname:o,provenanceState:n,actions:l,trrack:u,setAnswer:t})}):x.jsx(Bd,{})}const xke=Object.freeze(Object.defineProperty({__proto__:null,Stimuli:jue,default:jue},Symbol.toStringTag,{value:"Module"})),_ke=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function Ro(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var R_t=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bue=R_t,Cj=()=>Math.random().toString(36).substring(7).split("").join("."),D_t={INIT:`@@redux/INIT${Cj()}`,REPLACE:`@@redux/REPLACE${Cj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cj()}`},l4=D_t;function BK(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Eke(e,t,n){if(typeof e!="function")throw new Error(Ro(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ro(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ro(1));return n(Eke)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((g,v)=>{o.set(v,g)}))}function c(){if(l)throw new Error(Ro(3));return i}function d(g){if(typeof g!="function")throw new Error(Ro(4));if(l)throw new Error(Ro(5));let v=!0;u();const y=a++;return o.set(y,g),function(){if(v){if(l)throw new Error(Ro(6));v=!1,u(),o.delete(y),s=null}}}function f(g){if(!BK(g))throw new Error(Ro(7));if(typeof g.type>"u")throw new Error(Ro(8));if(typeof g.type!="string")throw new Error(Ro(17));if(l)throw new Error(Ro(9));try{l=!0,i=r(i,g)}finally{l=!1}return(s=o).forEach(y=>{y()}),g}function h(g){if(typeof g!="function")throw new Error(Ro(10));r=g,f({type:l4.REPLACE})}function p(){const g=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Ro(11));function y(){const E=v;E.next&&E.next(c())}return y(),{unsubscribe:g(y)}},[Bue](){return this}}}return f({type:l4.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[Bue]:p}}function P_t(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:l4.INIT})>"u")throw new Error(Ro(12));if(typeof n(void 0,{type:l4.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ro(13))})}function O_t(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{P_t(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],h=o[d],p=f(h,a);if(typeof p>"u")throw a&&a.type,new Error(Ro(14));u[d]=p,l=l||p!==h}return l=l||r.length!==Object.keys(o).length,l?u:o}}function u4(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function N_t(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Ro(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=e.map(l=>l(o));return s=u4(...a)(i.dispatch),{...i,dispatch:s}}}function $_t(e){return BK(e)&&"type"in e&&typeof e.type=="string"}var Cke=Symbol.for("immer-nothing"),zue=Symbol.for("immer-draftable"),yu=Symbol.for("immer-state");function id(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Gx=Object.getPrototypeOf;function Jv(e){return!!e&&!!e[yu]}function sm(e){var t;return e?Ske(e)||Array.isArray(e)||!!e[zue]||!!((t=e.constructor)!=null&&t[zue])||x6(e)||_6(e):!1}var M_t=Object.prototype.constructor.toString();function Ske(e){if(!e||typeof e!="object")return!1;const t=Gx(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===M_t}function c4(e,t){w6(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function w6(e){const t=e[yu];return t?t.type_:Array.isArray(e)?1:x6(e)?2:_6(e)?3:0}function WU(e,t){return w6(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tke(e,t,n){const r=w6(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function F_t(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function x6(e){return e instanceof Map}function _6(e){return e instanceof Set}function Vy(e){return e.copy_||e.base_}function GU(e,t){if(x6(e))return new Map(e);if(_6(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Ske(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[yu];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Gx(e),r)}else{const r=Gx(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function zK(e,t=!1){return E6(e)||Jv(e)||!sm(e)||(w6(e)>1&&(e.set=e.add=e.clear=e.delete=L_t),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>zK(r,!0))),e}function L_t(){id(2)}function E6(e){return Object.isFrozen(e)}var j_t={};function Zv(e){const t=j_t[e];return t||id(0,e),t}var nT;function kke(){return nT}function B_t(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Uue(e,t){t&&(Zv("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function YU(e){KU(e),e.drafts_.forEach(z_t),e.drafts_=null}function KU(e){e===nT&&(nT=e.parent_)}function que(e){return nT=B_t(nT,e)}function z_t(e){const t=e[yu];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Hue(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[yu].modified_&&(YU(t),id(4)),sm(e)&&(e=d4(t,e),t.parent_||f4(t,e)),t.patches_&&Zv("Patches").generateReplacementPatches_(n[yu].base_,e,t.patches_,t.inversePatches_)):e=d4(t,n,[]),YU(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Cke?e:void 0}function d4(e,t,n){if(E6(t))return t;const r=t[yu];if(!r)return c4(t,(i,s)=>Vue(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return f4(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),c4(s,(a,l)=>Vue(e,r,i,a,l,n,o)),f4(e,i,!1),n&&e.patches_&&Zv("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Vue(e,t,n,r,i,s,o){if(Jv(i)){const a=s&&t&&t.type_!==3&&!WU(t.assigned_,r)?s.concat(r):void 0,l=d4(e,i,a);if(Tke(n,r,l),Jv(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(sm(i)&&!E6(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;d4(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&f4(e,i)}}function f4(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zK(t,n)}function U_t(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:kke(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=UK;n&&(i=[r],s=rT);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var UK={get(e,t){if(t===yu)return e;const n=Vy(e);if(!WU(n,t))return q_t(e,n,t);const r=n[t];return e.finalized_||!sm(r)?r:r===Sj(e.base_,t)?(Tj(e),e.copy_[t]=QU(r,e)):r},has(e,t){return t in Vy(e)},ownKeys(e){return Reflect.ownKeys(Vy(e))},set(e,t,n){const r=Ake(Vy(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Sj(Vy(e),t),s=i==null?void 0:i[yu];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(F_t(n,i)&&(n!==void 0||WU(e.base_,t)))return!0;Tj(e),XU(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Sj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Tj(e),XU(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Vy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){id(11)},getPrototypeOf(e){return Gx(e.base_)},setPrototypeOf(){id(12)}},rT={};c4(UK,(e,t)=>{rT[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});rT.deleteProperty=function(e,t){return rT.set.call(this,e,t,void 0)};rT.set=function(e,t,n){return UK.set.call(this,e[0],t,n,e[0])};function Sj(e,t){const n=e[yu];return(n?Vy(n):e)[t]}function q_t(e,t,n){var i;const r=Ake(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Ake(e,t){if(!(t in e))return;let n=Gx(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Gx(n)}}function XU(e){e.modified_||(e.modified_=!0,e.parent_&&XU(e.parent_))}function Tj(e){e.copy_||(e.copy_=GU(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var H_t=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&id(6),r!==void 0&&typeof r!="function"&&id(7);let i;if(sm(t)){const s=que(this),o=QU(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?YU(s):KU(s)}return Uue(s,r),Hue(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Cke&&(i=void 0),this.autoFreeze_&&zK(i,!0),r){const s=[],o=[];Zv("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else id(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){sm(e)||id(8),Jv(e)&&(e=V_t(e));const t=que(this),n=QU(e,void 0);return n[yu].isManual_=!0,KU(t),n}finishDraft(e,t){const n=e&&e[yu];(!n||!n.isManual_)&&id(9);const{scope_:r}=n;return Uue(r,t),Hue(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Zv("Patches").applyPatches_;return Jv(e)?r(e,t):this.produce(e,i=>r(i,t))}};function QU(e,t){const n=x6(e)?Zv("MapSet").proxyMap_(e,t):_6(e)?Zv("MapSet").proxySet_(e,t):U_t(e,t);return(t?t.scope_:kke()).drafts_.push(n),n}function V_t(e){return Jv(e)||id(10,e),Ike(e)}function Ike(e){if(!sm(e)||E6(e))return e;const t=e[yu];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=GU(e,t.scope_.immer_.useStrictShallowCopy_)}else n=GU(e,!0);return c4(n,(r,i)=>{Tke(n,r,Ike(i))}),t&&(t.finalized_=!1),n}var vu=new H_t,Rke=vu.produce;vu.produceWithPatches.bind(vu);vu.setAutoFreeze.bind(vu);vu.setUseStrictShallowCopy.bind(vu);vu.applyPatches.bind(vu);vu.createDraft.bind(vu);vu.finishDraft.bind(vu);function W_t(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function G_t(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Y_t(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Wue=e=>Array.isArray(e)?e:[e];function K_t(e){const t=Array.isArray(e[0])?e[0]:e;return Y_t(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function X_t(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Q_t=class{constructor(e){this.value=e}deref(){return this.value}},J_t=typeof WeakRef<"u"?WeakRef:Q_t,Z_t=0,Gue=1;function iR(){return{s:Z_t,v:void 0,o:null,p:null}}function Dke(e,t={}){let n=iR();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const g=m.get(p);g===void 0?(a=iR(),m.set(p,a)):a=g}else{let m=a.p;m===null&&(a.p=m=new Map);const g=m.get(p);g===void 0?(a=iR(),m.set(p,a)):a=g}}const u=a;let c;if(a.s===Gue)c=a.v;else if(c=e.apply(null,arguments),s++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,c)&&(c=f,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new J_t(c):c}return u.s=Gue,u.v=c,c}return o.clearCache=()=>{n=iR(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function eEt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),W_t(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=Dke,argsMemoizeOptions:p=[]}=c,m=Wue(f),g=Wue(p),v=K_t(i),y=d(function(){return s++,u.apply(null,arguments)},...m),w=h(function(){o++;const C=X_t(v,arguments);return a=y.apply(null,C),a},...g);return Object.assign(w,{resultFunc:u,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var Pke=eEt(Dke),tEt=Object.assign((e,t=Pke)=>{G_t(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>tEt});function Oke(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var nEt=Oke(),rEt=Oke,iEt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?u4:u4.apply(null,arguments)};function Yue(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Up(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>$_t(r)&&r.type===e,n}var Nke=class hS extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,hS.prototype)}static get[Symbol.species](){return hS}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new hS(...t[0].concat(this)):new hS(...t.concat(this))}};function Kue(e){return sm(e)?Rke(e,()=>{}):e}function sR(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function sEt(e){return typeof e=="boolean"}var oEt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new Nke;return n&&(sEt(n)?o.push(nEt):o.push(rEt(n.extraArgument))),o},aEt="RTK_autoBatch",Xue=e=>t=>{setTimeout(t,e)},lEt=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Xue(10):e.type==="callback"?e.queueNotification:Xue(e.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[aEt]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},uEt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Nke(e);return r&&i.push(lEt(typeof r=="object"?r:void 0)),i};function cEt(e){const t=oEt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(BK(n))a=O_t(n);else throw new Error(Up(1));let l;typeof r=="function"?l=r(t):l=t();let u=u4;i&&(u=iEt({trace:!1,...typeof i=="object"&&i}));const c=N_t(...l),d=uEt(c);let f=typeof o=="function"?o(d):d();const h=u(...f);return Eke(a,s,h)}function $ke(e){const t={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Up(28));if(a in t)throw new Error(Up(29));return t[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function dEt(e){return typeof e=="function"}function fEt(e,t){let[n,r,i]=$ke(t),s;if(dEt(e))s=()=>Kue(e());else{const a=Kue(e);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Jv(c)){const h=d(c,l);return h===void 0?c:h}else{if(sm(c))return Rke(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},a)}return o.getInitialState=s,o}var hEt=Symbol.for("rtk-slice-createasyncthunk");function pEt(e,t){return`${e}/${t}`}function mEt({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[hEt];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Up(11));const a=(typeof i.reducers=="function"?i.reducers(vEt()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(E,C){const S=typeof E=="string"?E:E.type;if(!S)throw new Error(Up(12));if(S in u.sliceCaseReducersByType)throw new Error(Up(13));return u.sliceCaseReducersByType[S]=C,c},addMatcher(E,C){return u.sliceMatchers.push({matcher:E,reducer:C}),c},exposeAction(E,C){return u.actionCreators[E]=C,c},exposeCaseReducer(E,C){return u.sliceCaseReducersByName[E]=C,c}};l.forEach(E=>{const C=a[E],S={reducerName:E,type:pEt(s,E),createNotation:typeof i.reducers=="function"};wEt(C)?_Et(S,C,c,t):bEt(S,C,c)});function d(){const[E={},C=[],S=void 0]=typeof i.extraReducers=="function"?$ke(i.extraReducers):[i.extraReducers],T={...E,...u.sliceCaseReducersByType};return fEt(i.initialState,k=>{for(let I in T)k.addCase(I,T[I]);for(let I of u.sliceMatchers)k.addMatcher(I.matcher,I.reducer);for(let I of C)k.addMatcher(I.matcher,I.reducer);S&&k.addDefaultCase(S)})}const f=E=>E,h=new Map,p=new WeakMap;let m;function g(E,C){return m||(m=d()),m(E,C)}function v(){return m||(m=d()),m.getInitialState()}function y(E,C=!1){function S(k){let I=k[E];return typeof I>"u"&&C&&(I=sR(p,S,v)),I}function T(k=f){const I=sR(h,C,()=>new WeakMap);return sR(I,k,()=>{const R={};for(const[O,M]of Object.entries(i.selectors??{}))R[O]=gEt(M,k,()=>sR(p,k,v),C);return R})}return{reducerPath:E,getSelectors:T,get selectors(){return T(S)},selectSlice:S}}const w={name:s,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...y(o),injectInto(E,{reducerPath:C,...S}={}){const T=C??o;return E.inject({reducerPath:T,reducer:g},S),{...w,...y(T,!0)}}};return w}}function gEt(e,t,n,r){function i(s,...o){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var yEt=mEt();function vEt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function bEt({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!xEt(r))throw new Error(Up(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Yue(e,o):Yue(e))}function wEt(e){return e._reducerDefinitionType==="asyncThunk"}function xEt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _Et({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Up(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,s,c);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:o||oR,pending:a||oR,rejected:l||oR,settled:u||oR})}function oR(){}function Up(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function C6(e){return e.baseComponent!==void 0}function oc(e){return e.order==="dynamic"}function Rd(e){return oc(e)?[e.id]:e.components.flatMap(t=>typeof t=="string"?t:Rd(t))}function Mke(e){return oc(e)?[e]:e.components.flatMap(t=>typeof t=="string"?[]:Mke(t))}function JU(e,t){return Mke(t).find(r=>r.id===e)}function Fke(e){var t;return oc(e)?[]:[...e.components.flatMap(n=>typeof n=="string"?n:oc(n)?[]:Fke(n)),...((t=e.interruptions)==null?void 0:t.flatMap(n=>n.components))||[]]}function Lke(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+Rd(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+Rd(e).length-1}];r+=1}else{const o=Lke(s,t,n+r);if(typeof o=="number")r+=o;else{const a={currentBlock:e,firstIndex:n,lastIndex:o[0].lastIndex};return[...o,a]}}}return r}function jke(e,t){const n=Lke(e,t,0);return typeof n=="number"?null:n}function Bke(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string")r+=1;else{const o=Bke(s,t,n+r);if(o.found)return o;r+=o.distance}}return{found:!1,distance:r}}function EEt(e,t){const n=Bke(e,t,0);return n.found?n.distance:-1}function qK(e,t){return typeof e=="string"?e:oc(e)?{...e,orderPath:t,components:[]}:{...e,orderPath:t,order:e.order,components:e.components.map((n,r)=>qK(n,`${t}-${r}`))}}var pS={exports:{}};pS.exports;var Que;function CEt(){return Que||(Que=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",w="[object Proxy]",E="[object RegExp]",C="[object Set]",S="[object String]",T="[object Undefined]",k="[object WeakMap]",I="[object ArrayBuffer]",R="[object DataView]",O="[object Float32Array]",M="[object Float64Array]",$="[object Int8Array]",L="[object Int16Array]",U="[object Int32Array]",B="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",Y="[object Uint32Array]",z=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,q={};q[O]=q[M]=q[$]=q[L]=q[U]=q[B]=q[V]=q[G]=q[Y]=!0,q[a]=q[l]=q[I]=q[c]=q[R]=q[d]=q[f]=q[h]=q[m]=q[g]=q[y]=q[E]=q[C]=q[S]=q[k]=!1;var K=typeof Ls=="object"&&Ls&&Ls.Object===Object&&Ls,J=typeof self=="object"&&self&&self.Object===Object&&self,te=K||J||Function("return this")(),le=t&&!t.nodeType&&t,oe=le&&!0&&e&&!e.nodeType&&e,ie=oe&&oe.exports===le,he=ie&&K.process,ee=(function(){try{var fe=oe&&oe.require&&oe.require("util").types;return fe||he&&he.binding&&he.binding("util")}catch{}})(),ne=ee&&ee.isTypedArray;function ue(fe,Ce,Ve){switch(Ve.length){case 0:return fe.call(Ce);case 1:return fe.call(Ce,Ve[0]);case 2:return fe.call(Ce,Ve[0],Ve[1]);case 3:return fe.call(Ce,Ve[0],Ve[1],Ve[2])}return fe.apply(Ce,Ve)}function ve(fe,Ce){for(var Ve=-1,Ht=Array(fe);++Ve<fe;)Ht[Ve]=Ce(Ve);return Ht}function xe(fe){return function(Ce){return fe(Ce)}}function Re(fe,Ce){return fe==null?void 0:fe[Ce]}function Te(fe,Ce){return function(Ve){return fe(Ce(Ve))}}var we=Array.prototype,He=Function.prototype,Xe=Object.prototype,tt=te["__core-js_shared__"],ft=He.toString,rt=Xe.hasOwnProperty,Pe=(function(){var fe=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||"");return fe?"Symbol(src)_1."+fe:""})(),Le=Xe.toString,ge=ft.call(Object),$e=RegExp("^"+ft.call(rt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=ie?te.Buffer:void 0,it=te.Symbol,st=te.Uint8Array;ze&&ze.allocUnsafe;var wt=Te(Object.getPrototypeOf,Object),un=Object.create,Rn=Xe.propertyIsEnumerable,Mn=we.splice,Lt=it?it.toStringTag:void 0,wn=(function(){try{var fe=lt(Object,"defineProperty");return fe({},"",{}),fe}catch{}})(),Gn=ze?ze.isBuffer:void 0,Fn=Math.max,Bi=Date.now,Zn=lt(te,"Map"),Mr=lt(Object,"create"),Kr=(function(){function fe(){}return function(Ce){if(!ku(Ce))return{};if(un)return un(Ce);fe.prototype=Ce;var Ve=new fe;return fe.prototype=void 0,Ve}})();function Yn(fe){var Ce=-1,Ve=fe==null?0:fe.length;for(this.clear();++Ce<Ve;){var Ht=fe[Ce];this.set(Ht[0],Ht[1])}}function Ji(){this.__data__=Mr?Mr(null):{},this.size=0}function Go(fe){var Ce=this.has(fe)&&delete this.__data__[fe];return this.size-=Ce?1:0,Ce}function Es(fe){var Ce=this.__data__;if(Mr){var Ve=Ce[fe];return Ve===r?void 0:Ve}return rt.call(Ce,fe)?Ce[fe]:void 0}function rr(fe){var Ce=this.__data__;return Mr?Ce[fe]!==void 0:rt.call(Ce,fe)}function Ct(fe,Ce){var Ve=this.__data__;return this.size+=this.has(fe)?0:1,Ve[fe]=Mr&&Ce===void 0?r:Ce,this}Yn.prototype.clear=Ji,Yn.prototype.delete=Go,Yn.prototype.get=Es,Yn.prototype.has=rr,Yn.prototype.set=Ct;function zr(fe){var Ce=-1,Ve=fe==null?0:fe.length;for(this.clear();++Ce<Ve;){var Ht=fe[Ce];this.set(Ht[0],Ht[1])}}function dn(){this.__data__=[],this.size=0}function Rr(fe){var Ce=this.__data__,Ve=Pc(Ce,fe);if(Ve<0)return!1;var Ht=Ce.length-1;return Ve==Ht?Ce.pop():Mn.call(Ce,Ve,1),--this.size,!0}function Sn(fe){var Ce=this.__data__,Ve=Pc(Ce,fe);return Ve<0?void 0:Ce[Ve][1]}function br(fe){return Pc(this.__data__,fe)>-1}function ni(fe,Ce){var Ve=this.__data__,Ht=Pc(Ve,fe);return Ht<0?(++this.size,Ve.push([fe,Ce])):Ve[Ht][1]=Ce,this}zr.prototype.clear=dn,zr.prototype.delete=Rr,zr.prototype.get=Sn,zr.prototype.has=br,zr.prototype.set=ni;function Ei(fe){var Ce=-1,Ve=fe==null?0:fe.length;for(this.clear();++Ce<Ve;){var Ht=fe[Ce];this.set(Ht[0],Ht[1])}}function wo(){this.size=0,this.__data__={hash:new Yn,map:new(Zn||zr),string:new Yn}}function kc(fe){var Ce=ot(this,fe).delete(fe);return this.size-=Ce?1:0,Ce}function lf(fe){return ot(this,fe).get(fe)}function Ac(fe){return ot(this,fe).has(fe)}function uf(fe,Ce){var Ve=ot(this,fe),Ht=Ve.size;return Ve.set(fe,Ce),this.size+=Ve.size==Ht?0:1,this}Ei.prototype.clear=wo,Ei.prototype.delete=kc,Ei.prototype.get=lf,Ei.prototype.has=Ac,Ei.prototype.set=uf;function Tn(fe){var Ce=this.__data__=new zr(fe);this.size=Ce.size}function Ta(){this.__data__=new zr,this.size=0}function Gs(fe){var Ce=this.__data__,Ve=Ce.delete(fe);return this.size=Ce.size,Ve}function Ic(fe){return this.__data__.get(fe)}function Rc(fe){return this.__data__.has(fe)}function cf(fe,Ce){var Ve=this.__data__;if(Ve instanceof zr){var Ht=Ve.__data__;if(!Zn||Ht.length<n-1)return Ht.push([fe,Ce]),this.size=++Ve.size,this;Ve=this.__data__=new Ei(Ht)}return Ve.set(fe,Ce),this.size=Ve.size,this}Tn.prototype.clear=Ta,Tn.prototype.delete=Gs,Tn.prototype.get=Ic,Tn.prototype.has=Rc,Tn.prototype.set=cf;function df(fe,Ce){var Ve=Ys(fe),Ht=!Ve&&Di(fe),Dn=!Ve&&!Ht&&Aa(fe),cr=!Ve&&!Ht&&!Dn&&ry(fe),Fr=Ve||Ht||Dn||cr,kn=Fr?ve(fe.length,String):[],Dr=kn.length;for(var ai in fe)Fr&&(ai=="length"||Dn&&(ai=="offset"||ai=="parent")||cr&&(ai=="buffer"||ai=="byteLength"||ai=="byteOffset")||Bt(ai,Dr))||kn.push(ai);return kn}function Dc(fe,Ce,Ve){(Ve!==void 0&&!xo(fe[Ce],Ve)||Ve===void 0&&!(Ce in fe))&&er(fe,Ce,Ve)}function Pm(fe,Ce,Ve){var Ht=fe[Ce];(!(rt.call(fe,Ce)&&xo(Ht,Ve))||Ve===void 0&&!(Ce in fe))&&er(fe,Ce,Ve)}function Pc(fe,Ce){for(var Ve=fe.length;Ve--;)if(xo(fe[Ve][0],Ce))return Ve;return-1}function er(fe,Ce,Ve){Ce=="__proto__"&&wn?wn(fe,Ce,{configurable:!0,enumerable:!0,value:Ve,writable:!0}):fe[Ce]=Ve}var Wh=Qe();function Cs(fe){return fe==null?fe===void 0?T:v:Lt&&Lt in Object(fe)?at(fe):As(fe)}function Wl(fe){return hs(fe)&&Cs(fe)==a}function Ss(fe){if(!ku(fe)||jn(fe))return!1;var Ce=al(fe)?$e:F;return Ce.test(Mm(fe))}function Oc(fe){return hs(fe)&&ob(fe.length)&&!!q[Cs(fe)]}function Om(fe){if(!ku(fe))return wr(fe);var Ce=tn(fe),Ve=[];for(var Ht in fe)Ht=="constructor"&&(Ce||!rt.call(fe,Ht))||Ve.push(Ht);return Ve}function Su(fe,Ce,Ve,Ht,Dn){fe!==Ce&&Wh(Ce,function(cr,Fr){if(Dn||(Dn=new Tn),ku(cr))Ts(fe,Ce,Fr,Ve,Su,Ht,Dn);else{var kn=Ht?Ht(Tu(fe,Fr),cr,Fr+"",fe,Ce,Dn):void 0;kn===void 0&&(kn=cr),Dc(fe,Fr,kn)}},pf)}function Ts(fe,Ce,Ve,Ht,Dn,cr,Fr){var kn=Tu(fe,Ve),Dr=Tu(Ce,Ve),ai=Fr.get(Dr);if(ai){Dc(fe,Ve,ai);return}var Is=cr?cr(kn,Dr,Ve+"",fe,Ce,Fr):void 0,Au=Is===void 0;if(Au){var ul=Ys(Dr),Gh=!ul&&Aa(Dr),ps=!ul&&!Gh&&ry(Dr);Is=Dr,ul||Gh||ps?Ys(kn)?Is=kn:hf(kn)?Is=Ae(kn):Gh?(Au=!1,Is=se(Dr)):ps?(Au=!1,Is=de(Dr)):Is=[]:SE(Dr)||Di(Dr)?(Is=kn,Di(kn)?Is=Nc(kn):(!ku(kn)||al(kn))&&(Is=vt(Dr))):Au=!1}Au&&(Fr.set(Dr,Is),Dn(Is,Dr,Ht,cr,Fr),Fr.delete(Dr)),Dc(fe,Ve,Is)}function Nm(fe,Ce){return $m(ol(fe,Ce,ll),fe+"")}var ks=wn?function(fe,Ce){return wn(fe,"toString",{configurable:!0,enumerable:!1,value:Gl(Ce),writable:!0})}:ll;function se(fe,Ce){return fe.slice()}function Ee(fe){var Ce=new fe.constructor(fe.byteLength);return new st(Ce).set(new st(fe)),Ce}function de(fe,Ce){var Ve=Ee(fe.buffer);return new fe.constructor(Ve,fe.byteOffset,fe.length)}function Ae(fe,Ce){var Ve=-1,Ht=fe.length;for(Ce||(Ce=Array(Ht));++Ve<Ht;)Ce[Ve]=fe[Ve];return Ce}function De(fe,Ce,Ve,Ht){var Dn=!Ve;Ve||(Ve={});for(var cr=-1,Fr=Ce.length;++cr<Fr;){var kn=Ce[cr],Dr=void 0;Dr===void 0&&(Dr=fe[kn]),Dn?er(Ve,kn,Dr):Pm(Ve,kn,Dr)}return Ve}function ke(fe){return Nm(function(Ce,Ve){var Ht=-1,Dn=Ve.length,cr=Dn>1?Ve[Dn-1]:void 0,Fr=Dn>2?Ve[2]:void 0;for(cr=fe.length>3&&typeof cr=="function"?(Dn--,cr):void 0,Fr&&vn(Ve[0],Ve[1],Fr)&&(cr=Dn<3?void 0:cr,Dn=1),Ce=Object(Ce);++Ht<Dn;){var kn=Ve[Ht];kn&&fe(Ce,kn,Ht,cr)}return Ce})}function Qe(fe){return function(Ce,Ve,Ht){for(var Dn=-1,cr=Object(Ce),Fr=Ht(Ce),kn=Fr.length;kn--;){var Dr=Fr[++Dn];if(Ve(cr[Dr],Dr,cr)===!1)break}return Ce}}function ot(fe,Ce){var Ve=fe.__data__;return Zt(Ce)?Ve[typeof Ce=="string"?"string":"hash"]:Ve.map}function lt(fe,Ce){var Ve=Re(fe,Ce);return Ss(Ve)?Ve:void 0}function at(fe){var Ce=rt.call(fe,Lt),Ve=fe[Lt];try{fe[Lt]=void 0;var Ht=!0}catch{}var Dn=Le.call(fe);return Ht&&(Ce?fe[Lt]=Ve:delete fe[Lt]),Dn}function vt(fe){return typeof fe.constructor=="function"&&!tn(fe)?Kr(wt(fe)):{}}function Bt(fe,Ce){var Ve=typeof fe;return Ce=Ce??o,!!Ce&&(Ve=="number"||Ve!="symbol"&&W.test(fe))&&fe>-1&&fe%1==0&&fe<Ce}function vn(fe,Ce,Ve){if(!ku(Ve))return!1;var Ht=typeof Ce;return(Ht=="number"?ka(Ve)&&Bt(Ce,Ve.length):Ht=="string"&&Ce in Ve)?xo(Ve[Ce],fe):!1}function Zt(fe){var Ce=typeof fe;return Ce=="string"||Ce=="number"||Ce=="symbol"||Ce=="boolean"?fe!=="__proto__":fe===null}function jn(fe){return!!Pe&&Pe in fe}function tn(fe){var Ce=fe&&fe.constructor,Ve=typeof Ce=="function"&&Ce.prototype||Xe;return fe===Ve}function wr(fe){var Ce=[];if(fe!=null)for(var Ve in Object(fe))Ce.push(Ve);return Ce}function As(fe){return Le.call(fe)}function ol(fe,Ce,Ve){return Ce=Fn(Ce===void 0?fe.length-1:Ce,0),function(){for(var Ht=arguments,Dn=-1,cr=Fn(Ht.length-Ce,0),Fr=Array(cr);++Dn<cr;)Fr[Dn]=Ht[Ce+Dn];Dn=-1;for(var kn=Array(Ce+1);++Dn<Ce;)kn[Dn]=Ht[Dn];return kn[Ce]=Ve(Fr),ue(fe,this,kn)}}function Tu(fe,Ce){if(!(Ce==="constructor"&&typeof fe[Ce]=="function")&&Ce!="__proto__")return fe[Ce]}var $m=ff(ks);function ff(fe){var Ce=0,Ve=0;return function(){var Ht=Bi(),Dn=s-(Ht-Ve);if(Ve=Ht,Dn>0){if(++Ce>=i)return arguments[0]}else Ce=0;return fe.apply(void 0,arguments)}}function Mm(fe){if(fe!=null){try{return ft.call(fe)}catch{}try{return fe+""}catch{}}return""}function xo(fe,Ce){return fe===Ce||fe!==fe&&Ce!==Ce}var Di=Wl((function(){return arguments})())?Wl:function(fe){return hs(fe)&&rt.call(fe,"callee")&&!Rn.call(fe,"callee")},Ys=Array.isArray;function ka(fe){return fe!=null&&ob(fe.length)&&!al(fe)}function hf(fe){return hs(fe)&&ka(fe)}var Aa=Gn||$c;function al(fe){if(!ku(fe))return!1;var Ce=Cs(fe);return Ce==h||Ce==p||Ce==u||Ce==w}function ob(fe){return typeof fe=="number"&&fe>-1&&fe%1==0&&fe<=o}function ku(fe){var Ce=typeof fe;return fe!=null&&(Ce=="object"||Ce=="function")}function hs(fe){return fe!=null&&typeof fe=="object"}function SE(fe){if(!hs(fe)||Cs(fe)!=y)return!1;var Ce=wt(fe);if(Ce===null)return!0;var Ve=rt.call(Ce,"constructor")&&Ce.constructor;return typeof Ve=="function"&&Ve instanceof Ve&&ft.call(Ve)==ge}var ry=ne?xe(ne):Oc;function Nc(fe){return De(fe,pf(fe))}function pf(fe){return ka(fe)?df(fe):Om(fe)}var ab=ke(function(fe,Ce,Ve){Su(fe,Ce,Ve)});function Gl(fe){return function(){return fe}}function ll(fe){return fe}function $c(){return!1}e.exports=ab})(pS,pS.exports)),pS.exports}var SEt=CEt();const zke=qs(SEt);function Ol(e,t){var n;return C6(e)&&t.baseComponents?zke({},(n=t.baseComponents)==null?void 0:n[e.baseComponent],e):e}function Jue(e,t){return t.components[e]===void 0?null:Ol(t.components[e],t)}function Zue(e){const t=e.response.map(n=>n.id);return e.responseOrder==="random"?{response:[...t].map(n=>({value:n,sort:Math.random()})).sort((n,r)=>n.sort-r.sort).map(({value:n})=>n)}:{response:t}}function ece(e){return e.response.reduce((t,n)=>{if(n.type==="radio"||n.type==="checkbox"||n.type==="buttons")if(n.optionOrder==="random"){const i=[...n.options.map(s=>typeof s=="string"?{value:s,label:s}:s)].map(s=>({value:s,sort:Math.random()})).sort((s,o)=>s.sort-o.sort).map(({value:s})=>s);t[n.id]=i}else t[n.id]=n.options.map(r=>typeof r=="string"?{value:r,label:r}:r);return t},{})}function tce(e){return e.response.reduce((t,n)=>{if(n.type==="matrix-radio"||n.type==="matrix-checkbox")if(n.questionOrder==="random"){const i=[...n.questionOptions].map(s=>({value:s,sort:Math.random()})).sort((s,o)=>s.sort-o.sort).map(({value:s})=>s);t[n.id]=i}else t[n.id]=n.questionOptions;return t},{})}async function TEt(e,t,n,r,i,s,o){const a=Rd(n),l=Object.fromEntries(a.filter(p=>p!=="end").map((p,m)=>{const g=Ol(t.components[p]||{},t);return t.components[p]?[`${p}_${m}`,{answer:{},trialOrder:`${m}`,componentName:p,incorrectAnswers:{},startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:Object.hasOwn(g,"parameters")?g.parameters:{},correctAnswer:Object.hasOwn(g,"correctAnswer")?g.correctAnswer:[],optionOrders:ece(g),questionOrders:tce(g),formOrder:Zue(g)}]:null}).filter(p=>p!==null)),u=Object.assign({},...a.map((p,m)=>{const g=Ol(t.components[p]||{response:[]},t);return{[`${p}_${m}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},stimulus:{valid:!g.response.some(v=>v.type==="reactive"&&v.required!==!1),values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}})),c=Object.assign({},...a.map((p,m)=>({[`${p}_${m}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,stimulus:!0,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}))),d={studyId:e,isRecording:!1,answers:Object.keys(i).length>0?i:l,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:Object.keys(i).length>0?c:u,reactiveAnswers:{},metadata:r,analysisProvState:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},analysisIsPlaying:!1,analysisHasAudio:!1,analysisHasProvenance:!1,modes:s,matrixAnswers:{},participantId:o,funcSequence:{}},f=yEt({name:"storeSlice",initialState:d,reducers:{setConfig(p,{payload:m}){p.config=m},setIsRecording(p,{payload:m}){p.isRecording=m},pushToFuncSequence(p,{payload:m}){if(p.funcSequence[m.funcName]||(p.funcSequence[m.funcName]=[]),p.funcSequence[m.funcName].length>m.funcIndex)return;const g=Ol(p.config.components[m.component]||{response:[]},t),v=`${m.funcName}_${m.index}_${m.component}_${m.funcIndex}`;p.funcSequence[m.funcName].push(m.component),p.answers[v]={answer:{},incorrectAnswers:{},componentName:m.component,trialOrder:`${m.index}_${m.funcIndex}`,startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:m.parameters||("parameters"in g?g.parameters:{})||{},correctAnswer:m.correctAnswer||g.correctAnswer||[],optionOrders:ece(g),questionOrders:tce(g),formOrder:Zue(g)},p.trialValidation[v]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},stimulus:{valid:g.response.every(y=>y.type!=="reactive"),values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}},toggleStudyBrowser:p=>{p.showStudyBrowser=!p.showStudyBrowser},toggleShowHelpText:p=>{p.showHelpText=!p.showHelpText},setAlertModal:(p,m)=>{p.alertModal=m.payload},setReactiveAnswers:(p,m)=>{p.reactiveAnswers=m.payload},saveAnalysisState(p,{payload:m}){p.analysisProvState[m.location]=m.prov},setAnalysisIsPlaying(p,{payload:m}){p.analysisIsPlaying=m},setAnalysisHasAudio(p,{payload:m}){p.analysisHasAudio=m},setAnalysisHasProvenance(p,{payload:m}){p.analysisHasProvenance=m},setMatrixAnswersRadio:(p,m)=>{if(m.payload){const{responseId:g,questionKey:v,val:y}=m.payload;p.matrixAnswers={...p.matrixAnswers,[g]:{...p.matrixAnswers[g],[v]:y}}}else p.matrixAnswers={}},setMatrixAnswersCheckbox:(p,m)=>{var g;if(m.payload){const{responseId:v,questionKey:y,value:w,isChecked:E,choiceOptions:C}=m.payload,S=((g=p.matrixAnswers[v])==null?void 0:g[y])??"";let T="";E?S.length>0?T=[...S.split("|"),w].sort((k,I)=>C.map(R=>R.value).indexOf(k)-C.map(R=>R.value).indexOf(I)).join("|"):T=`${w}`:T=S.split("|").filter(k=>k!==w).join("|"),p.matrixAnswers={...p.matrixAnswers,[v]:{...p.matrixAnswers[v],[y]:T}}}else p.matrixAnswers={}},updateResponseBlockValidation:(p,{payload:m})=>{var v,y;if(!p.trialValidation[m.identifier])return;const g=(y=(v=p.trialValidation[m.identifier])==null?void 0:v[m.location])==null?void 0:y.values;Object.keys(m.values).length>0?p.trialValidation[m.identifier][m.location]={valid:m.status,values:{...g,...m.values}}:p.trialValidation[m.identifier][m.location]={valid:m.status,values:g||{}},m.provenanceGraph&&(p.trialValidation[m.identifier].provenanceGraph[m.location]=m.provenanceGraph)},saveTrialAnswer(p,{payload:m}){p.answers[m.identifier]={...m}},incrementHelpCounter(p,{payload:m}){p.answers[m.identifier].helpButtonClickedCount+=1},saveIncorrectAnswer(p,{payload:m}){const{identifier:g,answer:v,question:y}=m;p.answers[y].incorrectAnswers||(p.answers[y].incorrectAnswers={}),p.answers[y].incorrectAnswers[g]||(p.answers[y].incorrectAnswers[g]={id:g,value:[]}),p.answers[y].incorrectAnswers[g].value.push(v)},deleteDynamicBlockAnswers(p,{payload:m}){var E;const{currentStep:g,funcIndex:v,funcName:y}=m,w=new RegExp(`.*_${g}_.*_${v}`);Object.keys(p.answers).forEach(C=>{C.match(w)&&delete p.answers[C]}),p.funcSequence[y]&&(p.funcSequence[y]=p.funcSequence[m.funcName].filter((C,S)=>S!==v)),((E=p.funcSequence[y])==null?void 0:E.length)===0&&delete p.funcSequence[y]}}});return{store:cEt({reducer:f.reducer,preloadedState:d}),actions:f.actions}}const Uke=D.createContext(null);function bs(){return D.useContext(Uke).actions}const Vs=REe,ar=Fct;function kEt(e){return ar(t=>{if(e.includes("reviewer-"))return!0;const n=t.trialValidation[e]?Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0):!0;return n?Object.values(n).every(r=>r):!1})}const AEt=Pke(e=>e.sequence,e=>Rd(e));function F1(){return ar(AEt)}var pD={exports:{}};function mS(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mD={exports:{}};const IEt={},REt=Object.freeze(Object.defineProperty({__proto__:null,default:IEt},Symbol.toStringTag,{value:"Module"})),qke=uve(REt);var DEt=mD.exports,nce;function ur(){return nce||(nce=1,(function(e,t){(function(n,r){e.exports=r()})(DEt,function(){var n=n||(function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Ls<"u"&&Ls.crypto&&(s=Ls.crypto),!s&&typeof mS=="function")try{s=qke}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||(function(){function y(){}return function(w){var E;return y.prototype=w,E=new y,y.prototype=null,E}})(),l={},u=l.lib={},c=u.Base=(function(){return{extend:function(y){var w=a(this);return y&&w.mixIn(y),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var w in y)y.hasOwnProperty(w)&&(this[w]=y[w]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),d=u.WordArray=c.extend({init:function(y,w){y=this.words=y||[],w!=i?this.sigBytes=w:this.sigBytes=y.length*4},toString:function(y){return(y||h).stringify(this)},concat:function(y){var w=this.words,E=y.words,C=this.sigBytes,S=y.sigBytes;if(this.clamp(),C%4)for(var T=0;T<S;T++){var k=E[T>>>2]>>>24-T%4*8&255;w[C+T>>>2]|=k<<24-(C+T)%4*8}else for(var I=0;I<S;I+=4)w[C+I>>>2]=E[I>>>2];return this.sigBytes+=S,this},clamp:function(){var y=this.words,w=this.sigBytes;y[w>>>2]&=4294967295<<32-w%4*8,y.length=r.ceil(w/4)},clone:function(){var y=c.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var w=[],E=0;E<y;E+=4)w.push(o());return new d.init(w,y)}}),f=l.enc={},h=f.Hex={stringify:function(y){for(var w=y.words,E=y.sigBytes,C=[],S=0;S<E;S++){var T=w[S>>>2]>>>24-S%4*8&255;C.push((T>>>4).toString(16)),C.push((T&15).toString(16))}return C.join("")},parse:function(y){for(var w=y.length,E=[],C=0;C<w;C+=2)E[C>>>3]|=parseInt(y.substr(C,2),16)<<24-C%8*4;return new d.init(E,w/2)}},p=f.Latin1={stringify:function(y){for(var w=y.words,E=y.sigBytes,C=[],S=0;S<E;S++){var T=w[S>>>2]>>>24-S%4*8&255;C.push(String.fromCharCode(T))}return C.join("")},parse:function(y){for(var w=y.length,E=[],C=0;C<w;C++)E[C>>>2]|=(y.charCodeAt(C)&255)<<24-C%4*8;return new d.init(E,w)}},m=f.Utf8={stringify:function(y){try{return decodeURIComponent(escape(p.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return p.parse(unescape(encodeURIComponent(y)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=m.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var w,E=this._data,C=E.words,S=E.sigBytes,T=this.blockSize,k=T*4,I=S/k;y?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var R=I*T,O=r.min(R*4,S);if(R){for(var M=0;M<R;M+=T)this._doProcessBlock(C,M);w=C.splice(0,R),E.sigBytes-=O}return new d.init(w,O)},clone:function(){var y=c.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});u.Hasher=g.extend({cfg:c.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(y){return function(w,E){return new y.init(E).finalize(w)}},_createHmacHelper:function(y){return function(w,E){return new v.HMAC.init(y,E).finalize(w)}}});var v=l.algo={};return l})(Math);return n})})(mD)),mD.exports}var gD={exports:{}},PEt=gD.exports,rce;function S6(){return rce||(rce=1,(function(e,t){(function(n,r){e.exports=r(ur())})(PEt,function(n){return(function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=i.x64={};l.Word=o.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=o.extend({init:function(u,c){u=this.words=u||[],c!=r?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,d=[],f=0;f<c;f++){var h=u[f];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),c=u.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return u}})})(),n})})(gD)),gD.exports}var yD={exports:{}},OEt=yD.exports,ice;function NEt(){return ice||(ice=1,(function(e,t){(function(n,r){e.exports=r(ur())})(OEt,function(n){return(function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],d=0;d<u;d++)c[d>>>2]|=l[d]<<24-d%4*8;o.call(this,c,u)}else o.apply(this,arguments)};a.prototype=s}})(),n.lib.WordArray})})(yD)),yD.exports}var vD={exports:{}},$Et=vD.exports,sce;function MEt(){return sce||(sce=1,(function(e,t){(function(n,r){e.exports=r(ur())})($Et,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=u[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return s.create(c,u*2)}},o.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=a(u[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=a(l.charCodeAt(d)<<16-d%2*16);return s.create(c,u*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}})(),n.enc.Utf16})})(vD)),vD.exports}var bD={exports:{}},FEt=bD.exports,oce;function L1(){return oce||(oce=1,(function(e,t){(function(n,r){e.exports=r(ur())})(FEt,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,d=this._map;l.clamp();for(var f=[],h=0;h<c;h+=3)for(var p=u[h>>>2]>>>24-h%4*8&255,m=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,v=p<<16|m<<8|g,y=0;y<4&&h+y*.75<c;y++)f.push(d.charAt(v>>>6*(3-y)&63));var w=d.charAt(64);if(w)for(;f.length%4;)f.push(w);return f.join("")},parse:function(l){var u=l.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var h=c.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(u=p)}return a(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var p=c[l.charCodeAt(h-1)]<<h%4*2,m=c[l.charCodeAt(h)]>>>6-h%4*2,g=p|m;d[f>>>2]|=g<<24-f%4*8,f++}return s.create(d,f)}})(),n.enc.Base64})})(bD)),bD.exports}var wD={exports:{}},LEt=wD.exports,ace;function jEt(){return ace||(ace=1,(function(e,t){(function(n,r){e.exports=r(ur())})(LEt,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,d=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<d;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,g=c[p+1>>>2]>>>24-(p+1)%4*8&255,v=c[p+2>>>2]>>>24-(p+2)%4*8&255,y=m<<16|g<<8|v,w=0;w<4&&p+w*.75<d;w++)h.push(f.charAt(y>>>6*(3-w)&63));var E=f.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,d=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<d.length;h++)f[d.charCodeAt(h)]=h}var p=d.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(c=m)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var p=c[l.charCodeAt(h-1)]<<h%4*2,m=c[l.charCodeAt(h)]>>>6-h%4*2,g=p|m;d[f>>>2]|=g<<24-f%4*8,f++}return s.create(d,f)}})(),n.enc.Base64url})})(wD)),wD.exports}var xD={exports:{}},BEt=xD.exports,lce;function j1(){return lce||(lce=1,(function(e,t){(function(n,r){e.exports=r(ur())})(BEt,function(n){return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[];(function(){for(var m=0;m<64;m++)u[m]=r.abs(r.sin(m+1))*4294967296|0})();var c=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,g){for(var v=0;v<16;v++){var y=g+v,w=m[y];m[y]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var E=this._hash.words,C=m[g+0],S=m[g+1],T=m[g+2],k=m[g+3],I=m[g+4],R=m[g+5],O=m[g+6],M=m[g+7],$=m[g+8],L=m[g+9],U=m[g+10],B=m[g+11],V=m[g+12],G=m[g+13],Y=m[g+14],z=m[g+15],F=E[0],W=E[1],q=E[2],K=E[3];F=d(F,W,q,K,C,7,u[0]),K=d(K,F,W,q,S,12,u[1]),q=d(q,K,F,W,T,17,u[2]),W=d(W,q,K,F,k,22,u[3]),F=d(F,W,q,K,I,7,u[4]),K=d(K,F,W,q,R,12,u[5]),q=d(q,K,F,W,O,17,u[6]),W=d(W,q,K,F,M,22,u[7]),F=d(F,W,q,K,$,7,u[8]),K=d(K,F,W,q,L,12,u[9]),q=d(q,K,F,W,U,17,u[10]),W=d(W,q,K,F,B,22,u[11]),F=d(F,W,q,K,V,7,u[12]),K=d(K,F,W,q,G,12,u[13]),q=d(q,K,F,W,Y,17,u[14]),W=d(W,q,K,F,z,22,u[15]),F=f(F,W,q,K,S,5,u[16]),K=f(K,F,W,q,O,9,u[17]),q=f(q,K,F,W,B,14,u[18]),W=f(W,q,K,F,C,20,u[19]),F=f(F,W,q,K,R,5,u[20]),K=f(K,F,W,q,U,9,u[21]),q=f(q,K,F,W,z,14,u[22]),W=f(W,q,K,F,I,20,u[23]),F=f(F,W,q,K,L,5,u[24]),K=f(K,F,W,q,Y,9,u[25]),q=f(q,K,F,W,k,14,u[26]),W=f(W,q,K,F,$,20,u[27]),F=f(F,W,q,K,G,5,u[28]),K=f(K,F,W,q,T,9,u[29]),q=f(q,K,F,W,M,14,u[30]),W=f(W,q,K,F,V,20,u[31]),F=h(F,W,q,K,R,4,u[32]),K=h(K,F,W,q,$,11,u[33]),q=h(q,K,F,W,B,16,u[34]),W=h(W,q,K,F,Y,23,u[35]),F=h(F,W,q,K,S,4,u[36]),K=h(K,F,W,q,I,11,u[37]),q=h(q,K,F,W,M,16,u[38]),W=h(W,q,K,F,U,23,u[39]),F=h(F,W,q,K,G,4,u[40]),K=h(K,F,W,q,C,11,u[41]),q=h(q,K,F,W,k,16,u[42]),W=h(W,q,K,F,O,23,u[43]),F=h(F,W,q,K,L,4,u[44]),K=h(K,F,W,q,V,11,u[45]),q=h(q,K,F,W,z,16,u[46]),W=h(W,q,K,F,T,23,u[47]),F=p(F,W,q,K,C,6,u[48]),K=p(K,F,W,q,M,10,u[49]),q=p(q,K,F,W,Y,15,u[50]),W=p(W,q,K,F,R,21,u[51]),F=p(F,W,q,K,V,6,u[52]),K=p(K,F,W,q,k,10,u[53]),q=p(q,K,F,W,U,15,u[54]),W=p(W,q,K,F,S,21,u[55]),F=p(F,W,q,K,$,6,u[56]),K=p(K,F,W,q,z,10,u[57]),q=p(q,K,F,W,O,15,u[58]),W=p(W,q,K,F,G,21,u[59]),F=p(F,W,q,K,I,6,u[60]),K=p(K,F,W,q,B,10,u[61]),q=p(q,K,F,W,T,15,u[62]),W=p(W,q,K,F,L,21,u[63]),E[0]=E[0]+F|0,E[1]=E[1]+W|0,E[2]=E[2]+q|0,E[3]=E[3]+K|0},_doFinalize:function(){var m=this._data,g=m.words,v=this._nDataBytes*8,y=m.sigBytes*8;g[y>>>5]|=128<<24-y%32;var w=r.floor(v/4294967296),E=v;g[(y+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,g[(y+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var C=this._hash,S=C.words,T=0;T<4;T++){var k=S[T];S[T]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return C},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function d(m,g,v,y,w,E,C){var S=m+(g&v|~g&y)+w+C;return(S<<E|S>>>32-E)+g}function f(m,g,v,y,w,E,C){var S=m+(g&y|v&~y)+w+C;return(S<<E|S>>>32-E)+g}function h(m,g,v,y,w,E,C){var S=m+(g^v^y)+w+C;return(S<<E|S>>>32-E)+g}function p(m,g,v,y,w,E,C){var S=m+(v^(g|~y))+w+C;return(S<<E|S>>>32-E)+g}i.MD5=a._createHelper(c),i.HmacMD5=a._createHmacHelper(c)})(Math),n.MD5})})(xD)),xD.exports}var _D={exports:{}},zEt=_D.exports,uce;function Hke(){return uce||(uce=1,(function(e,t){(function(n,r){e.exports=r(ur())})(zEt,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,l=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,d){for(var f=this._hash.words,h=f[0],p=f[1],m=f[2],g=f[3],v=f[4],y=0;y<80;y++){if(y<16)l[y]=c[d+y]|0;else{var w=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=w<<1|w>>>31}var E=(h<<5|h>>>27)+v+l[y];y<20?E+=(p&m|~p&g)+1518500249:y<40?E+=(p^m^g)+1859775393:y<60?E+=(p&m|p&g|m&g)-1894007588:E+=(p^m^g)-899497514,v=g,g=m,m=p<<30|p>>>2,p=h,h=E}f[0]=f[0]+h|0,f[1]=f[1]+p|0,f[2]=f[2]+m|0,f[3]=f[3]+g|0,f[4]=f[4]+v|0},_doFinalize:function(){var c=this._data,d=c.words,f=this._nDataBytes*8,h=c.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(h+64>>>9<<4)+15]=f,c.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var c=o.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u)})(),n.SHA1})})(_D)),_D.exports}var ED={exports:{}},UEt=ED.exports,cce;function HK(){return cce||(cce=1,(function(e,t){(function(n,r){e.exports=r(ur())})(UEt,function(n){return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[],c=[];(function(){function h(v){for(var y=r.sqrt(v),w=2;w<=y;w++)if(!(v%w))return!1;return!0}function p(v){return(v-(v|0))*4294967296|0}for(var m=2,g=0;g<64;)h(m)&&(g<8&&(u[g]=p(r.pow(m,1/2))),c[g]=p(r.pow(m,1/3)),g++),m++})();var d=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,g=m[0],v=m[1],y=m[2],w=m[3],E=m[4],C=m[5],S=m[6],T=m[7],k=0;k<64;k++){if(k<16)d[k]=h[p+k]|0;else{var I=d[k-15],R=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,O=d[k-2],M=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;d[k]=R+d[k-7]+M+d[k-16]}var $=E&C^~E&S,L=g&v^g&y^v&y,U=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),B=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),V=T+B+$+c[k]+d[k],G=U+L;T=S,S=C,C=E,E=w+V|0,w=y,y=v,v=g,g=V+G|0}m[0]=m[0]+g|0,m[1]=m[1]+v|0,m[2]=m[2]+y|0,m[3]=m[3]+w|0,m[4]=m[4]+E|0,m[5]=m[5]+C|0,m[6]=m[6]+S|0,m[7]=m[7]+T|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,g=h.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=r.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)})(Math),n.SHA256})})(ED)),ED.exports}var CD={exports:{}},qEt=CD.exports,dce;function HEt(){return dce||(dce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),HK())})(qEt,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)})(),n.SHA224})})(CD)),CD.exports}var SD={exports:{}},VEt=SD.exports,fce;function Vke(){return fce||(fce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),S6())})(VEt,function(n){return(function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,l=o.WordArray,u=r.algo;function c(){return a.create.apply(a,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=c()})();var h=u.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var g=this._hash.words,v=g[0],y=g[1],w=g[2],E=g[3],C=g[4],S=g[5],T=g[6],k=g[7],I=v.high,R=v.low,O=y.high,M=y.low,$=w.high,L=w.low,U=E.high,B=E.low,V=C.high,G=C.low,Y=S.high,z=S.low,F=T.high,W=T.low,q=k.high,K=k.low,J=I,te=R,le=O,oe=M,ie=$,he=L,ee=U,ne=B,ue=V,ve=G,xe=Y,Re=z,Te=F,we=W,He=q,Xe=K,tt=0;tt<80;tt++){var ft,rt,Pe=f[tt];if(tt<16)rt=Pe.high=p[m+tt*2]|0,ft=Pe.low=p[m+tt*2+1]|0;else{var Le=f[tt-15],ge=Le.high,$e=Le.low,ze=(ge>>>1|$e<<31)^(ge>>>8|$e<<24)^ge>>>7,it=($e>>>1|ge<<31)^($e>>>8|ge<<24)^($e>>>7|ge<<25),st=f[tt-2],wt=st.high,un=st.low,Rn=(wt>>>19|un<<13)^(wt<<3|un>>>29)^wt>>>6,Mn=(un>>>19|wt<<13)^(un<<3|wt>>>29)^(un>>>6|wt<<26),Lt=f[tt-7],wn=Lt.high,Gn=Lt.low,Fn=f[tt-16],Bi=Fn.high,Zn=Fn.low;ft=it+Gn,rt=ze+wn+(ft>>>0<it>>>0?1:0),ft=ft+Mn,rt=rt+Rn+(ft>>>0<Mn>>>0?1:0),ft=ft+Zn,rt=rt+Bi+(ft>>>0<Zn>>>0?1:0),Pe.high=rt,Pe.low=ft}var Mr=ue&xe^~ue&Te,Kr=ve&Re^~ve&we,Yn=J&le^J&ie^le&ie,Ji=te&oe^te&he^oe&he,Go=(J>>>28|te<<4)^(J<<30|te>>>2)^(J<<25|te>>>7),Es=(te>>>28|J<<4)^(te<<30|J>>>2)^(te<<25|J>>>7),rr=(ue>>>14|ve<<18)^(ue>>>18|ve<<14)^(ue<<23|ve>>>9),Ct=(ve>>>14|ue<<18)^(ve>>>18|ue<<14)^(ve<<23|ue>>>9),zr=d[tt],dn=zr.high,Rr=zr.low,Sn=Xe+Ct,br=He+rr+(Sn>>>0<Xe>>>0?1:0),Sn=Sn+Kr,br=br+Mr+(Sn>>>0<Kr>>>0?1:0),Sn=Sn+Rr,br=br+dn+(Sn>>>0<Rr>>>0?1:0),Sn=Sn+ft,br=br+rt+(Sn>>>0<ft>>>0?1:0),ni=Es+Ji,Ei=Go+Yn+(ni>>>0<Es>>>0?1:0);He=Te,Xe=we,Te=xe,we=Re,xe=ue,Re=ve,ve=ne+Sn|0,ue=ee+br+(ve>>>0<ne>>>0?1:0)|0,ee=ie,ne=he,ie=le,he=oe,le=J,oe=te,te=Sn+ni|0,J=br+Ei+(te>>>0<Sn>>>0?1:0)|0}R=v.low=R+te,v.high=I+J+(R>>>0<te>>>0?1:0),M=y.low=M+oe,y.high=O+le+(M>>>0<oe>>>0?1:0),L=w.low=L+he,w.high=$+ie+(L>>>0<he>>>0?1:0),B=E.low=B+ne,E.high=U+ee+(B>>>0<ne>>>0?1:0),G=C.low=G+ve,C.high=V+ue+(G>>>0<ve>>>0?1:0),z=S.low=z+Re,S.high=Y+xe+(z>>>0<Re>>>0?1:0),W=T.low=W+we,T.high=F+Te+(W>>>0<we>>>0?1:0),K=k.low=K+Xe,k.high=q+He+(K>>>0<Xe>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,g=this._nDataBytes*8,v=p.sigBytes*8;m[v>>>5]|=128<<24-v%32,m[(v+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(v+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=s._createHelper(h),r.HmacSHA512=s._createHmacHelper(h)})(),n.SHA512})})(SD)),SD.exports}var TD={exports:{}},WEt=TD.exports,hce;function GEt(){return hce||(hce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),S6(),Vke())})(WEt,function(n){return(function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,l=a.SHA512,u=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});r.SHA384=l._createHelper(u),r.HmacSHA384=l._createHmacHelper(u)})(),n.SHA384})})(TD)),TD.exports}var kD={exports:{}},YEt=kD.exports,pce;function KEt(){return pce||(pce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),S6())})(YEt,function(n){return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.x64,u=l.Word,c=i.algo,d=[],f=[],h=[];(function(){for(var g=1,v=0,y=0;y<24;y++){d[g+5*v]=(y+1)*(y+2)/2%64;var w=v%5,E=(2*g+3*v)%5;g=w,v=E}for(var g=0;g<5;g++)for(var v=0;v<5;v++)f[g+5*v]=v+(2*g+3*v)%5*5;for(var C=1,S=0;S<24;S++){for(var T=0,k=0,I=0;I<7;I++){if(C&1){var R=(1<<I)-1;R<32?k^=1<<R:T^=1<<R-32}C&128?C=C<<1^113:C<<=1}h[S]=u.create(T,k)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=u.create()})();var m=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],v=0;v<25;v++)g[v]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,v){for(var y=this._state,w=this.blockSize/2,E=0;E<w;E++){var C=g[v+2*E],S=g[v+2*E+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var T=y[E];T.high^=S,T.low^=C}for(var k=0;k<24;k++){for(var I=0;I<5;I++){for(var R=0,O=0,M=0;M<5;M++){var T=y[I+5*M];R^=T.high,O^=T.low}var $=p[I];$.high=R,$.low=O}for(var I=0;I<5;I++)for(var L=p[(I+4)%5],U=p[(I+1)%5],B=U.high,V=U.low,R=L.high^(B<<1|V>>>31),O=L.low^(V<<1|B>>>31),M=0;M<5;M++){var T=y[I+5*M];T.high^=R,T.low^=O}for(var G=1;G<25;G++){var R,O,T=y[G],Y=T.high,z=T.low,F=d[G];F<32?(R=Y<<F|z>>>32-F,O=z<<F|Y>>>32-F):(R=z<<F-32|Y>>>64-F,O=Y<<F-32|z>>>64-F);var W=p[f[G]];W.high=R,W.low=O}var q=p[0],K=y[0];q.high=K.high,q.low=K.low;for(var I=0;I<5;I++)for(var M=0;M<5;M++){var G=I+5*M,T=y[G],J=p[G],te=p[(I+1)%5+5*M],le=p[(I+2)%5+5*M];T.high=J.high^~te.high&le.high,T.low=J.low^~te.low&le.low}var T=y[0],oe=h[k];T.high^=oe.high,T.low^=oe.low}},_doFinalize:function(){var g=this._data,v=g.words;this._nDataBytes*8;var y=g.sigBytes*8,w=this.blockSize*32;v[y>>>5]|=1<<24-y%32,v[(r.ceil((y+1)/w)*w>>>5)-1]|=128,g.sigBytes=v.length*4,this._process();for(var E=this._state,C=this.cfg.outputLength/8,S=C/8,T=[],k=0;k<S;k++){var I=E[k],R=I.high,O=I.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,T.push(O),T.push(R)}return new o.init(T,C)},clone:function(){for(var g=a.clone.call(this),v=g._state=this._state.slice(0),y=0;y<25;y++)v[y]=v[y].clone();return g}});i.SHA3=a._createHelper(m),i.HmacSHA3=a._createHmacHelper(m)})(Math),n.SHA3})})(kD)),kD.exports}var AD={exports:{}},XEt=AD.exports,mce;function QEt(){return mce||(mce=1,(function(e,t){(function(n,r){e.exports=r(ur())})(XEt,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,T){for(var k=0;k<16;k++){var I=T+k,R=S[I];S[I]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var O=this._hash.words,M=h.words,$=p.words,L=u.words,U=c.words,B=d.words,V=f.words,G,Y,z,F,W,q,K,J,te,le;q=G=O[0],K=Y=O[1],J=z=O[2],te=F=O[3],le=W=O[4];for(var oe,k=0;k<80;k+=1)oe=G+S[T+L[k]]|0,k<16?oe+=g(Y,z,F)+M[0]:k<32?oe+=v(Y,z,F)+M[1]:k<48?oe+=y(Y,z,F)+M[2]:k<64?oe+=w(Y,z,F)+M[3]:oe+=E(Y,z,F)+M[4],oe=oe|0,oe=C(oe,B[k]),oe=oe+W|0,G=W,W=F,F=C(z,10),z=Y,Y=oe,oe=q+S[T+U[k]]|0,k<16?oe+=E(K,J,te)+$[0]:k<32?oe+=w(K,J,te)+$[1]:k<48?oe+=y(K,J,te)+$[2]:k<64?oe+=v(K,J,te)+$[3]:oe+=g(K,J,te)+$[4],oe=oe|0,oe=C(oe,V[k]),oe=oe+le|0,q=le,le=te,te=C(J,10),J=K,K=oe;oe=O[1]+z+te|0,O[1]=O[2]+F+le|0,O[2]=O[3]+W+q|0,O[3]=O[4]+G+K|0,O[4]=O[0]+Y+J|0,O[0]=oe},_doFinalize:function(){var S=this._data,T=S.words,k=this._nDataBytes*8,I=S.sigBytes*8;T[I>>>5]|=128<<24-I%32,T[(I+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,S.sigBytes=(T.length+1)*4,this._process();for(var R=this._hash,O=R.words,M=0;M<5;M++){var $=O[M];O[M]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}return R},clone:function(){var S=a.clone.call(this);return S._hash=this._hash.clone(),S}});function g(S,T,k){return S^T^k}function v(S,T,k){return S&T|~S&k}function y(S,T,k){return(S|~T)^k}function w(S,T,k){return S&k|T&~k}function E(S,T,k){return S^(T|~k)}function C(S,T){return S<<T|S>>>32-T}i.RIPEMD160=a._createHelper(m),i.HmacRIPEMD160=a._createHmacHelper(m)})(),n.RIPEMD160})})(AD)),AD.exports}var ID={exports:{}},JEt=ID.exports,gce;function VK(){return gce||(gce=1,(function(e,t){(function(n,r){e.exports=r(ur())})(JEt,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,l=r.algo;l.HMAC=s.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=a.parse(c));var d=u.blockSize,f=d*4;c.sigBytes>f&&(c=u.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),p=this._iKey=c.clone(),m=h.words,g=p.words,v=0;v<d;v++)m[v]^=1549556828,g[v]^=909522486;h.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,d=c.finalize(u);c.reset();var f=c.finalize(this._oKey.clone().concat(d));return f}})})()})})(ID)),ID.exports}var RD={exports:{}},ZEt=RD.exports,yce;function eCt(){return yce||(yce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),HK(),VK())})(ZEt,function(n){return(function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.SHA256,u=a.HMAC,c=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var h=this.cfg,p=u.create(h.hasher,d),m=o.create(),g=o.create([1]),v=m.words,y=g.words,w=h.keySize,E=h.iterations;v.length<w;){var C=p.update(f).finalize(g);p.reset();for(var S=C.words,T=S.length,k=C,I=1;I<E;I++){k=p.finalize(k),p.reset();for(var R=k.words,O=0;O<T;O++)S[O]^=R[O]}m.concat(C),y[0]++}return m.sigBytes=w*4,m}});r.PBKDF2=function(d,f,h){return c.create(h).compute(d,f)}})(),n.PBKDF2})})(RD)),RD.exports}var DD={exports:{}},tCt=DD.exports,vce;function Mg(){return vce||(vce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),Hke(),VK())})(tCt,function(n){return(function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.MD5,u=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var f,h=this.cfg,p=h.hasher.create(),m=o.create(),g=m.words,v=h.keySize,y=h.iterations;g.length<v;){f&&p.update(f),f=p.update(c).finalize(d),p.reset();for(var w=1;w<y;w++)f=p.finalize(f),p.reset();m.concat(f)}return m.sigBytes=v*4,m}});r.EvpKDF=function(c,d,f){return u.create(f).compute(c,d)}})(),n.EvpKDF})})(DD)),DD.exports}var PD={exports:{}},nCt=PD.exports,bce;function vo(){return bce||(bce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),Mg())})(nCt,function(n){n.lib.Cipher||(function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,d=i.algo,f=d.EvpKDF,h=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(R,O){return this.create(this._ENC_XFORM_MODE,R,O)},createDecryptor:function(R,O){return this.create(this._DEC_XFORM_MODE,R,O)},init:function(R,O,M){this.cfg=this.cfg.extend(M),this._xformMode=R,this._key=O,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function R(O){return typeof O=="string"?I:S}return function(O){return{encrypt:function(M,$,L){return R($).encrypt(O,M,$,L)},decrypt:function(M,$,L){return R($).decrypt(O,M,$,L)}}}})()});s.StreamCipher=h.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var p=i.mode={},m=s.BlockCipherMode=o.extend({createEncryptor:function(R,O){return this.Encryptor.create(R,O)},createDecryptor:function(R,O){return this.Decryptor.create(R,O)},init:function(R,O){this._cipher=R,this._iv=O}}),g=p.CBC=(function(){var R=m.extend();R.Encryptor=R.extend({processBlock:function(M,$){var L=this._cipher,U=L.blockSize;O.call(this,M,$,U),L.encryptBlock(M,$),this._prevBlock=M.slice($,$+U)}}),R.Decryptor=R.extend({processBlock:function(M,$){var L=this._cipher,U=L.blockSize,B=M.slice($,$+U);L.decryptBlock(M,$),O.call(this,M,$,U),this._prevBlock=B}});function O(M,$,L){var U,B=this._iv;B?(U=B,this._iv=r):U=this._prevBlock;for(var V=0;V<L;V++)M[$+V]^=U[V]}return R})(),v=i.pad={},y=v.Pkcs7={pad:function(R,O){for(var M=O*4,$=M-R.sigBytes%M,L=$<<24|$<<16|$<<8|$,U=[],B=0;B<$;B+=4)U.push(L);var V=a.create(U,$);R.concat(V)},unpad:function(R){var O=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=O}};s.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:y}),reset:function(){var R;h.reset.call(this);var O=this.cfg,M=O.iv,$=O.mode;this._xformMode==this._ENC_XFORM_MODE?R=$.createEncryptor:(R=$.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,M&&M.words):(this._mode=R.call($,this,M&&M.words),this._mode.__creator=R)},_doProcessBlock:function(R,O){this._mode.processBlock(R,O)},_doFinalize:function(){var R,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),O.unpad(R)),R},blockSize:128/32});var w=s.CipherParams=o.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),E=i.format={},C=E.OpenSSL={stringify:function(R){var O,M=R.ciphertext,$=R.salt;return $?O=a.create([1398893684,1701076831]).concat($).concat(M):O=M,O.toString(c)},parse:function(R){var O,M=c.parse(R),$=M.words;return $[0]==1398893684&&$[1]==1701076831&&(O=a.create($.slice(2,4)),$.splice(0,4),M.sigBytes-=16),w.create({ciphertext:M,salt:O})}},S=s.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(R,O,M,$){$=this.cfg.extend($);var L=R.createEncryptor(M,$),U=L.finalize(O),B=L.cfg;return w.create({ciphertext:U,key:M,iv:B.iv,algorithm:R,mode:B.mode,padding:B.padding,blockSize:R.blockSize,formatter:$.format})},decrypt:function(R,O,M,$){$=this.cfg.extend($),O=this._parse(O,$.format);var L=R.createDecryptor(M,$).finalize(O.ciphertext);return L},_parse:function(R,O){return typeof R=="string"?O.parse(R,this):R}}),T=i.kdf={},k=T.OpenSSL={execute:function(R,O,M,$,L){if($||($=a.random(64/8)),L)var U=f.create({keySize:O+M,hasher:L}).compute(R,$);else var U=f.create({keySize:O+M}).compute(R,$);var B=a.create(U.words.slice(O),M*4);return U.sigBytes=O*4,w.create({key:U,iv:B,salt:$})}},I=s.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:k}),encrypt:function(R,O,M,$){$=this.cfg.extend($);var L=$.kdf.execute(M,R.keySize,R.ivSize,$.salt,$.hasher);$.iv=L.iv;var U=S.encrypt.call(this,R,O,L.key,$);return U.mixIn(L),U},decrypt:function(R,O,M,$){$=this.cfg.extend($),O=this._parse(O,$.format);var L=$.kdf.execute(M,R.keySize,R.ivSize,O.salt,$.hasher);$.iv=L.iv;var U=S.decrypt.call(this,R,O,L.key,$);return U}})})()})})(PD)),PD.exports}var OD={exports:{}},rCt=OD.exports,wce;function iCt(){return wce||(wce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(rCt,function(n){return n.mode.CFB=(function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;i.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=s.slice(o,o+l);i.call(this,s,o,l,a),this._prevBlock=u}});function i(s,o,a,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var d=0;d<a;d++)s[o+d]^=u[d]}return r})(),n.mode.CFB})})(OD)),OD.exports}var ND={exports:{}},sCt=ND.exports,xce;function oCt(){return xce||(xce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(sCt,function(n){return n.mode.CTR=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var d=c.slice(0);a.encryptBlock(d,0),c[l-1]=c[l-1]+1|0;for(var f=0;f<l;f++)s[o+f]^=d[f]}});return r.Decryptor=i,r})(),n.mode.CTR})})(ND)),ND.exports}var $D={exports:{}},aCt=$D.exports,_ce;function lCt(){return _ce||(_ce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(aCt,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=(function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,u=a>>8&255,c=a&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,a=0,a+=l<<16,a+=u<<8,a+=c}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,l){var u=this._cipher,c=u.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),s(f);var h=f.slice(0);u.encryptBlock(h,0);for(var p=0;p<c;p++)a[l+p]^=h[p]}});return r.Decryptor=o,r})(),n.mode.CTRGladman})})($D)),$D.exports}var MD={exports:{}},uCt=MD.exports,Ece;function cCt(){return Ece||(Ece=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(uCt,function(n){return n.mode.OFB=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var d=0;d<l;d++)s[o+d]^=c[d]}});return r.Decryptor=i,r})(),n.mode.OFB})})(MD)),MD.exports}var FD={exports:{}},dCt=FD.exports,Cce;function fCt(){return Cce||(Cce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(dCt,function(n){return n.mode.ECB=(function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r})(),n.mode.ECB})})(FD)),FD.exports}var LD={exports:{}},hCt=LD.exports,Sce;function pCt(){return Sce||(Sce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(hCt,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,l=s+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})})(LD)),LD.exports}var jD={exports:{}},mCt=jD.exports,Tce;function gCt(){return Tce||(Tce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(mCt,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})})(jD)),jD.exports}var BD={exports:{}},yCt=BD.exports,kce;function vCt(){return kce||(kce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(yCt,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})})(BD)),BD.exports}var zD={exports:{}},bCt=zD.exports,Ace;function wCt(){return Ace||(Ace=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(bCt,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})})(zD)),zD.exports}var UD={exports:{}},xCt=UD.exports,Ice;function _Ct(){return Ice||(Ice=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(xCt,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})})(UD)),UD.exports}var qD={exports:{}},ECt=qD.exports,Rce;function CCt(){return Rce||(Rce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),vo())})(ECt,function(n){return(function(r){var i=n,s=i.lib,o=s.CipherParams,a=i.enc,l=a.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var d=l.parse(c);return o.create({ciphertext:d})}}})(),n.format.Hex})})(qD)),qD.exports}var HD={exports:{}},SCt=HD.exports,Dce;function TCt(){return Dce||(Dce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),L1(),j1(),Mg(),vo())})(SCt,function(n){return(function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],l=[],u=[],c=[],d=[],f=[],h=[],p=[],m=[],g=[];(function(){for(var w=[],E=0;E<256;E++)E<128?w[E]=E<<1:w[E]=E<<1^283;for(var C=0,S=0,E=0;E<256;E++){var T=S^S<<1^S<<2^S<<3^S<<4;T=T>>>8^T&255^99,a[C]=T,l[T]=C;var k=w[C],I=w[k],R=w[I],O=w[T]*257^T*16843008;u[C]=O<<24|O>>>8,c[C]=O<<16|O>>>16,d[C]=O<<8|O>>>24,f[C]=O;var O=R*16843009^I*65537^k*257^C*16843008;h[T]=O<<24|O>>>8,p[T]=O<<16|O>>>16,m[T]=O<<8|O>>>24,g[T]=O,C?(C=k^w[w[w[R^k]]],S^=w[w[S]]):C=S=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],y=o.AES=s.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,C=E.words,S=E.sigBytes/4,T=this._nRounds=S+6,k=(T+1)*4,I=this._keySchedule=[],R=0;R<k;R++)R<S?I[R]=C[R]:(w=I[R-1],R%S?S>6&&R%S==4&&(w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255]):(w=w<<8|w>>>24,w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255],w^=v[R/S|0]<<24),I[R]=I[R-S]^w);for(var O=this._invKeySchedule=[],M=0;M<k;M++){var R=k-M;if(M%4)var w=I[R];else var w=I[R-4];M<4||R<=4?O[M]=w:O[M]=h[a[w>>>24]]^p[a[w>>>16&255]]^m[a[w>>>8&255]]^g[a[w&255]]}}},encryptBlock:function(w,E){this._doCryptBlock(w,E,this._keySchedule,u,c,d,f,a)},decryptBlock:function(w,E){var C=w[E+1];w[E+1]=w[E+3],w[E+3]=C,this._doCryptBlock(w,E,this._invKeySchedule,h,p,m,g,l);var C=w[E+1];w[E+1]=w[E+3],w[E+3]=C},_doCryptBlock:function(w,E,C,S,T,k,I,R){for(var O=this._nRounds,M=w[E]^C[0],$=w[E+1]^C[1],L=w[E+2]^C[2],U=w[E+3]^C[3],B=4,V=1;V<O;V++){var G=S[M>>>24]^T[$>>>16&255]^k[L>>>8&255]^I[U&255]^C[B++],Y=S[$>>>24]^T[L>>>16&255]^k[U>>>8&255]^I[M&255]^C[B++],z=S[L>>>24]^T[U>>>16&255]^k[M>>>8&255]^I[$&255]^C[B++],F=S[U>>>24]^T[M>>>16&255]^k[$>>>8&255]^I[L&255]^C[B++];M=G,$=Y,L=z,U=F}var G=(R[M>>>24]<<24|R[$>>>16&255]<<16|R[L>>>8&255]<<8|R[U&255])^C[B++],Y=(R[$>>>24]<<24|R[L>>>16&255]<<16|R[U>>>8&255]<<8|R[M&255])^C[B++],z=(R[L>>>24]<<24|R[U>>>16&255]<<16|R[M>>>8&255]<<8|R[$&255])^C[B++],F=(R[U>>>24]<<24|R[M>>>16&255]<<16|R[$>>>8&255]<<8|R[L&255])^C[B++];w[E]=G,w[E+1]=Y,w[E+2]=z,w[E+3]=F},keySize:256/32});r.AES=s._createHelper(y)})(),n.AES})})(HD)),HD.exports}var VD={exports:{}},kCt=VD.exports,Pce;function ACt(){return Pce||(Pce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),L1(),j1(),Mg(),vo())})(kCt,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=o.extend({_doReset:function(){for(var v=this._key,y=v.words,w=[],E=0;E<56;E++){var C=l[E]-1;w[E]=y[C>>>5]>>>31-C%32&1}for(var S=this._subKeys=[],T=0;T<16;T++){for(var k=S[T]=[],I=c[T],E=0;E<24;E++)k[E/6|0]|=w[(u[E]-1+I)%28]<<31-E%6,k[4+(E/6|0)]|=w[28+(u[E+24]-1+I)%28]<<31-E%6;k[0]=k[0]<<1|k[0]>>>31;for(var E=1;E<7;E++)k[E]=k[E]>>>(E-1)*4+3;k[7]=k[7]<<5|k[7]>>>27}for(var R=this._invSubKeys=[],E=0;E<16;E++)R[E]=S[15-E]},encryptBlock:function(v,y){this._doCryptBlock(v,y,this._subKeys)},decryptBlock:function(v,y){this._doCryptBlock(v,y,this._invSubKeys)},_doCryptBlock:function(v,y,w){this._lBlock=v[y],this._rBlock=v[y+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var E=0;E<16;E++){for(var C=w[E],S=this._lBlock,T=this._rBlock,k=0,I=0;I<8;I++)k|=d[I][((T^C[I])&f[I])>>>0];this._lBlock=T,this._rBlock=S^k}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),v[y]=this._lBlock,v[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(v,y){var w=(this._lBlock>>>v^this._rBlock)&y;this._rBlock^=w,this._lBlock^=w<<v}function m(v,y){var w=(this._rBlock>>>v^this._lBlock)&y;this._lBlock^=w,this._rBlock^=w<<v}r.DES=o._createHelper(h);var g=a.TripleDES=o.extend({_doReset:function(){var v=this._key,y=v.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=y.slice(0,2),E=y.length<4?y.slice(0,2):y.slice(2,4),C=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=h.createEncryptor(s.create(w)),this._des2=h.createEncryptor(s.create(E)),this._des3=h.createEncryptor(s.create(C))},encryptBlock:function(v,y){this._des1.encryptBlock(v,y),this._des2.decryptBlock(v,y),this._des3.encryptBlock(v,y)},decryptBlock:function(v,y){this._des3.decryptBlock(v,y),this._des2.encryptBlock(v,y),this._des1.decryptBlock(v,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(g)})(),n.TripleDES})})(VD)),VD.exports}var WD={exports:{}},ICt=WD.exports,Oce;function RCt(){return Oce||(Oce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),L1(),j1(),Mg(),vo())})(ICt,function(n){return(function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var c=this._key,d=c.words,f=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var g=p%f,v=d[g>>>2]>>>24-g%4*8&255;m=(m+h[p]+v)%256;var y=h[p];h[p]=h[m],h[m]=y}this._i=this._j=0},_doProcessBlock:function(c,d){c[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,d=this._i,f=this._j,h=0,p=0;p<4;p++){d=(d+1)%256,f=(f+c[d])%256;var m=c[d];c[d]=c[f],c[f]=m,h|=c[(c[d]+c[f])%256]<<24-p*8}return this._i=d,this._j=f,h}r.RC4=s._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});r.RC4Drop=s._createHelper(u)})(),n.RC4})})(WD)),WD.exports}var GD={exports:{}},DCt=GD.exports,Nce;function PCt(){return Nce||(Nce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),L1(),j1(),Mg(),vo())})(DCt,function(n){return(function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],u=[],c=o.Rabbit=s.extend({_doReset:function(){for(var f=this._key.words,h=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(h){var v=h.words,y=v[0],w=v[1],E=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=E>>>16|C&4294901760,T=C<<16|E&65535;g[0]^=E,g[1]^=S,g[2]^=C,g[3]^=T,g[4]^=E,g[5]^=S,g[6]^=C,g[7]^=T;for(var p=0;p<4;p++)d.call(this)}},_doProcessBlock:function(f,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+h[p],g=m&65535,v=m>>>16,y=((g*g>>>17)+g*v>>>15)+v*v,w=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=y^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=s._createHelper(c)})(),n.Rabbit})})(GD)),GD.exports}var YD={exports:{}},OCt=YD.exports,$ce;function NCt(){return $ce||($ce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),L1(),j1(),Mg(),vo())})(OCt,function(n){return(function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],u=[],c=o.RabbitLegacy=s.extend({_doReset:function(){var f=this._key.words,h=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],m=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(h){var v=h.words,y=v[0],w=v[1],E=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=E>>>16|C&4294901760,T=C<<16|E&65535;m[0]^=E,m[1]^=S,m[2]^=C,m[3]^=T,m[4]^=E,m[5]^=S,m[6]^=C,m[7]^=T;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(f,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+h[p],g=m&65535,v=m>>>16,y=((g*g>>>17)+g*v>>>15)+v*v,w=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=y^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=s._createHelper(c)})(),n.RabbitLegacy})})(YD)),YD.exports}var KD={exports:{}},$Ct=KD.exports,Mce;function MCt(){return Mce||(Mce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),L1(),j1(),Mg(),vo())})($Ct,function(n){return(function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function d(g,v){let y=v>>24&255,w=v>>16&255,E=v>>8&255,C=v&255,S=g.sbox[0][y]+g.sbox[1][w];return S=S^g.sbox[2][E],S=S+g.sbox[3][C],S}function f(g,v,y){let w=v,E=y,C;for(let S=0;S<a;++S)w=w^g.pbox[S],E=d(g,w)^E,C=w,w=E,E=C;return C=w,w=E,E=C,E=E^g.pbox[a],w=w^g.pbox[a+1],{left:w,right:E}}function h(g,v,y){let w=v,E=y,C;for(let S=a+1;S>1;--S)w=w^g.pbox[S],E=d(g,w)^E,C=w,w=E,E=C;return C=w,w=E,E=C,E=E^g.pbox[1],w=w^g.pbox[0],{left:w,right:E}}function p(g,v,y){for(let T=0;T<4;T++){g.sbox[T]=[];for(let k=0;k<256;k++)g.sbox[T][k]=u[T][k]}let w=0;for(let T=0;T<a+2;T++)g.pbox[T]=l[T]^v[w],w++,w>=y&&(w=0);let E=0,C=0,S=0;for(let T=0;T<a+2;T+=2)S=f(g,E,C),E=S.left,C=S.right,g.pbox[T]=E,g.pbox[T+1]=C;for(let T=0;T<4;T++)for(let k=0;k<256;k+=2)S=f(g,E,C),E=S.left,C=S.right,g.sbox[T][k]=E,g.sbox[T][k+1]=C;return!0}var m=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,v=g.words,y=g.sigBytes/4;p(c,v,y)}},encryptBlock:function(g,v){var y=f(c,g[v],g[v+1]);g[v]=y.left,g[v+1]=y.right},decryptBlock:function(g,v){var y=h(c,g[v],g[v+1]);g[v]=y.left,g[v+1]=y.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(m)})(),n.Blowfish})})(KD)),KD.exports}var FCt=pD.exports,Fce;function LCt(){return Fce||(Fce=1,(function(e,t){(function(n,r,i){e.exports=r(ur(),S6(),NEt(),MEt(),L1(),jEt(),j1(),Hke(),HK(),HEt(),Vke(),GEt(),KEt(),QEt(),VK(),eCt(),Mg(),vo(),iCt(),oCt(),lCt(),cCt(),fCt(),pCt(),gCt(),vCt(),wCt(),_Ct(),CCt(),TCt(),ACt(),RCt(),PCt(),NCt(),MCt())})(FCt,function(n){return n})})(pD)),pD.exports}var lx=LCt();const Wke=lx.enc.Hex.parse("000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f");function ri(e){const t=lx.AES.encrypt(e.toString(),Wke,{mode:lx.mode.ECB}).toString();return btoa(t)}function Rl(e){const t=lx.AES.decrypt(atob(e),Wke,{mode:lx.mode.ECB}).toString(lx.enc.Utf8);return parseInt(t,10)}function Cu(){return ar(e=>e.config)}function Oh(){const{studyId:e}=va();return`${e}`}function rl(){const{index:e}=va();return e===void 0?0:e.startsWith("reviewer-")||e.startsWith("__")?e:Rl(e)}const Lce=Object.assign({"../public/example-VLAT-adaptive/assets/Feedback.tsx":WEe,"../public/example-VLAT-adaptive/assets/FeedbackTrial.tsx":VEe,"../public/libraries/adaptive-vlat/assets/VlatTrial.tsx":GEe,"../public/libraries/adaptive-vlat/assets/dynamic.tsx":XEe,"../public/libraries/adaptive-vlat/assets/utils.ts":KEe,"../public/libraries/adaptive-vlat/assets/vlatQ.tsx":qEe,"../public/libraries/berlin-num/assets/dynamic.tsx":QEe,"../public/libraries/mic-check/assets/AudioTest.tsx":sCe,"../public/libraries/test/assets/test.tsx":oCe,"../public/matrices/Stimuli.tsx":xke,"../public/matrices/components/Background.tsx":NTe,"../public/matrices/components/ControlPanel.tsx":vke,"../public/matrices/components/EncodedCells.tsx":qTe,"../public/matrices/components/Highlighting.tsx":FTe,"../public/matrices/components/InteractionButtons.tsx":gke,"../public/matrices/components/Legend.tsx":zTe,"../public/matrices/components/Marks.tsx":YTe,"../public/matrices/components/Matrix.tsx":wke,"../public/matrices/components/Tooltip.tsx":VTe,"../public/matrices/components/axis/DestinationAxis.tsx":PTe,"../public/matrices/components/axis/OriginAxis.tsx":RTe,"../public/matrices/hooks/useCellScales.tsx":ZTe,"../public/matrices/hooks/useConfig.tsx":pke,"../public/matrices/hooks/useOrdering.tsx":cke,"../public/matrices/hooks/useRenderEncodeCells.tsx":QTe,"../public/matrices/hooks/useReplay.tsx":fke,"../public/matrices/utils/Accessors.tsx":LTe,"../public/matrices/utils/Constants.ts":$Te,"../public/matrices/utils/Enums.ts":jTe,"../public/matrices/utils/Interfaces.tsx":_ke,"../public/matrices/utils/MatrixContext.tsx":kTe});function Gd(){const{funcIndex:e}=va(),t=ar(m=>m.answers),n=Cu(),r=rl(),i=F1(),s=Ea(),o=Oh(),a=Vs(),{pushToFuncSequence:l}=bs(),[u,c]=D.useState(null),d=D.useMemo(()=>typeof r=="number"?Jue(i[r],n):r.includes("reviewer-")||r.startsWith("__")?r:null,[r,i,n]),[f,h]=D.useState("__dynamicLoading"),p=D.useMemo(()=>{if(typeof r=="number"&&!d){const m=JU(i[r],n.sequence);if(!m)return null;const g=`../public/${m.functionPath}`;return g in Lce?Lce[g].default:null}return null},[d,r,i,n.sequence]);return D.useEffect(()=>{!e&&p&&typeof r=="number"&&s(`/${o}/${ri(r)}/${ri(0)}${window.location.search}`)},[r,e,s,p,o]),D.useEffect(()=>{var m;if(typeof r=="number"){const g=Jue(i[r],n),v=i[r],y=e?Rl(e):0,w=Object.entries(t).find(([C,S])=>C.startsWith(`${v}_${r}_`)&&C.endsWith(`${y}`)),E=w?w[1].componentName:null;if(E!==null){h(E),c(y);return}if(!g&&p!==null){const{component:C,parameters:S,correctAnswer:T}=p({answers:t,customParameters:(m=JU(i[r],n.sequence))==null?void 0:m.parameters,currentStep:r,currentBlock:i[r]});C!==null?e&&(h(C),c(y),a(l({component:C,funcName:v,index:r,funcIndex:y,parameters:S||void 0,correctAnswer:T||void 0}))):(h("__dynamicLoading"),c(null),s(`/${o}/${ri(r+1)}${window.location.search}`))}}},[r,e]),typeof r=="number"&&i[r]==="end"?"end":d?typeof r=="number"?i[r]:r.replace("reviewer-",""):u!==null&&e&&Rl(e)===u?f:"__dynamicLoading"}function B1(){const e=rl(),t=F1(),n=Gd(),{funcIndex:r}=va();return D.useMemo(()=>r&&typeof e=="number"?`${t[e]}_${e}_${n}_${Rl(r)}`:`${n}_${e}`,[n,e,r,t])}function Fg(){const{funcIndex:e}=va(),t=F1(),n=rl(),r=Gd(),i=e&&typeof n=="number"?`${t[n]}_${n}_${r}_${Rl(e)}`:`${r}_${n}`;return ar(o=>o.answers[i])}const Gke=D.createContext(null);function jCt(){const e=D.useContext(Gke);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Lg(){const[e]=kh();return!!e.get("participantId")}function jce(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),s=Object.entries(r.components).find(([a])=>a===i),o=s?s[1]:null;if(!o)throw new Error(`Component ${i} could not be found in the study components.`);return o.correctAnswer?o.correctAnswer.every(a=>e[a.id]===a.answer):!0}function BCt(e,t){return t.every(n=>e[n.id]===n.answer)}function zCt(){const e=rl(),t=F1(),n=ar(I=>I.trialValidation),r=ar(I=>I.sequence),i=ar(I=>I.answers),s=ar(I=>I.modes),o=Cu(),{funcIndex:a}=va(),l=B1(),u=Vs(),{saveTrialAnswer:c,setReactiveAnswers:d,setMatrixAnswersRadio:f,setMatrixAnswersCheckbox:h}=bs(),{storageEngine:p}=Qi(),m=Oh(),g=D.useMemo(()=>s.dataCollectionEnabled,[s]),v=kEt(l),y=Lg(),w=typeof e!="number"||y||!v,E=Fg(),C=Ea(),S=D.useMemo(()=>Date.now(),[a,e]),T=jCt(),k=D.useCallback((I=!0)=>{if(typeof e!="number")return;const R=structuredClone(n[l]),O=R?Object.values(R).reduce((z,F)=>Object.hasOwn(F,"values")?{...z,...F.values}:z,{}):{},{provenanceGraph:M}=R||{},$=Date.now(),{componentName:L}=E,U=T&&"current"in T&&T.current?T.current.splice(0,T.current.length):[];if(g){const z={...E,answer:I?O:{},startTime:S,endTime:$,provenanceGraph:M,windowEvents:U,timedOut:!I};u(c({identifier:l,...z})),p&&p.saveAnswers({...i,[l]:z}),u(d({})),u(h(null)),u(f(null))}let B=e+1;const V=jke(r,e),G=V!==null&&V.some(z=>Object.hasOwn(z.currentBlock,"skip")&&z.currentBlock.skip!==void 0),Y={...i,[l]:{answer:O,startTime:S,endTime:$,provenanceGraph:M,windowEvents:U}};G&&[...V.flatMap(F=>F.currentBlock.skip?F.currentBlock.skip.map(W=>({...W,firstIndex:F.firstIndex,lastIndex:F.lastIndex})):[])].some(F=>{let W=!1;const q=Object.fromEntries(Object.entries(Y).filter(([J])=>{const te=parseInt(J.slice(J.lastIndexOf("_")+1),10);return te>=F.firstIndex&&te<=e})),K=F.check!=="block"?Object.entries(q).filter(([J])=>J.slice(0,J.lastIndexOf("_"))===F.name):Object.entries(q);if(K.length===0)return!1;if(K.some(([J,te])=>!te))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(F,null,2)}`);if(F.check==="response"||F.check==="responses"){const[J,te]=K[0];F.check==="response"?W=F.comparison==="equal"?F.value===te.answer[F.responseId]:F.value!==te.answer[F.responseId]:W=!jce(te.answer,J,o.components[J.slice(0,J.lastIndexOf("_"))],o)}else if(F.check==="block"||F.check==="repeatedComponent"){if(K.length<F.value)return!1;const J=K.map(([oe,ie])=>jce(ie.answer,oe,o.components[L.slice(0,L.lastIndexOf("_"))],o)),te=J.filter(oe=>oe).length,le=J.length-te;W=F.condition==="numCorrect"&&te===F.value||F.condition==="numIncorrect"&&le===F.value}if(W){const J=t.indexOf(F.to),te=J===-1?EEt(r,F.to):-1;return B=J===-1?te:J,!0}return!1}),C(a?`/${m}/${ri(e)}/${ri(Rl(a)+1)}${window.location.search}`:`/${m}/${ri(B)}${window.location.search}`)},[e,n,l,E,T,g,r,i,S,a,C,m,u,c,p,d,h,f,o,t]);return{isNextDisabled:w,goToNextStep:k}}function UCt(){const e=rl(),{funcIndex:t}=va(),n=Oh(),r=Ea(),i=Lg(),s=Cu(),o=Vs(),{deleteDynamicBlockAnswers:a}=bs(),l=ar(d=>d.answers),u=typeof e!="number"||i||e<=0,c=D.useCallback(()=>{if(typeof e!="number")return;const d=e-1,f=Rd(s.sequence);if(t&&(o(a({currentStep:e,funcIndex:Rl(t),funcName:f[e]})),Rl(t)!==0)){r(`/${n}/${ri(e)}/${ri(Rl(t)-1)}${window.location.search}`);return}const h=f[d];if(JU(h,s.sequence)){const g=Object.keys(l).filter(v=>v.startsWith(`${h}_${d}_`)).length-1;r(`/${n}/${ri(d)}/${ri(g)}${window.location.search}`)}else r(`/${n}/${ri(d)}${window.location.search}`)},[e,t,r,n,s,o,a,l]);return{isPreviousDisabled:u,goToPreviousStep:c}}function qCt({label:e="Previous",px:t}){const{isPreviousDisabled:n,goToPreviousStep:r}=UCt(),i=D.useCallback(()=>{r()},[r]);return x.jsx(Wt,{type:"submit",disabled:n,onClick:i,px:t,children:e})}function HCt({label:e="Next",disabled:t=!1,configInUse:n,location:r,checkAnswer:i}){const{isNextDisabled:s,goToNextStep:o}=zCt(),a=Cu(),l=Ea(),u=D.useMemo(()=>(n==null?void 0:n.nextButtonDisableTime)??a.uiConfig.nextButtonDisableTime,[n,a]),c=D.useMemo(()=>(n==null?void 0:n.nextButtonEnableTime)??a.uiConfig.nextButtonEnableTime??0,[n,a]),[d,f]=D.useState(void 0);D.useEffect(()=>{let v=0;const y=setInterval(()=>{v+=100,f(v)},100);return()=>{clearInterval(y)}},[]),D.useEffect(()=>{d&&u&&d>=u&&a.uiConfig.timeoutReject&&l("./../__timedOut")},[u,d,l,a.uiConfig.timeoutReject]);const h=D.useMemo(()=>{const v=u&&d?d<=u:!0,y=d?d>=c:!0;return v&&y},[u,c,d]),p=D.useMemo(()=>(n==null?void 0:n.nextOnEnter)??a.uiConfig.nextOnEnter,[n,a]);D.useEffect(()=>{const v=y=>{y.key==="Enter"&&!t&&!s&&h&&o()};return p?(window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}):()=>{}},[t,s,h,o,p]);const m=D.useMemo(()=>t||s||!h,[t,s,h]),g=D.useMemo(()=>(n==null?void 0:n.previousButtonText)??a.uiConfig.previousButtonText??"Previous",[n,a]);return x.jsxs(x.Fragment,{children:[x.jsxs(_i,{justify:"right",gap:"xs",mt:"sm",children:[(n==null?void 0:n.previousButton)&&x.jsx(qCt,{label:g,px:r==="sidebar"&&i?8:void 0}),i,x.jsx(Wt,{type:"submit",disabled:m,onClick:()=>o(),px:r==="sidebar"&&i?8:void 0,children:e})]}),d&&x.jsxs(x.Fragment,{children:[c>0&&d<c&&x.jsxs(Xf,{mt:"md",title:"Please wait",color:"blue",icon:x.jsx(UG,{}),children:["The next button will be enabled in"," ",Math.ceil((c-d)/1e3)," ","seconds."]}),u&&d&&u-d<1e4&&(u-d>0?x.jsxs(Xf,{mt:"md",title:"Next button disables soon",color:"yellow",icon:x.jsx(Lp,{}),children:["The next button disables in"," ",Math.ceil((u-d)/1e3)," ","seconds."]}):!a.uiConfig.timeoutReject&&x.jsxs(Xf,{mt:"md",title:"Next button disabled",color:"red",icon:x.jsx(Lp,{}),children:["The next button has timed out and is now disabled.",x.jsx(_i,{justify:"right",mt:"sm",children:x.jsx(Wt,{onClick:()=>o(!1),variant:"link",color:"red",children:"Proceed"})})]}))]})]})}function VCt(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const WCt=typeof window<"u"?D.useLayoutEffect:D.useEffect;function So(e,t){WCt(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function GCt(e,t){e&&VCt(e),So(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),So(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),So(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),So(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),So(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),So(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),So(`mantine-form:${e}:clear-errors`,t.clearErrors),So(`mantine-form:${e}:reset`,t.reset),So(`mantine-form:${e}:validate`,t.validate),So(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),So(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),So(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),So(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),So(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),So(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),So(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),So(`mantine-form:${e}:reset-touched`,t.resetTouched)}function YCt(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function ZU(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function KCt(e){const[t,n]=D.useState(ZU(e)),r=D.useRef(t),i=D.useCallback(l=>{n(u=>{const c=ZU(typeof l=="function"?l(u):l);return r.current=c,c})},[]),s=D.useCallback(()=>i({}),[]),o=D.useCallback(l=>{r.current[l]!==void 0&&i(u=>{const c={...u};return delete c[l],c})},[t]),a=D.useCallback((l,u)=>{u==null||u===!1?o(l):r.current[l]!==u&&i(c=>({...c,[l]:u}))},[t]);return{errorsState:t,setErrors:i,clearErrors:s,setFieldError:a,clearFieldError:o}}function eq(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function Bce(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function zce(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=eq(`${i}.${t}`,s));const o={...s},a=new Set;return Object.entries(s).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=Bce(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=Bce(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);o[d]=u,a.add(d),a.has(l)||delete o[l]}),o}function XCt(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o={...r},a=new Set;return Object.keys(r).forEach(l=>{if(a.has(l))return;let u,c;if(l.startsWith(i)?(u=l,c=l.replace(i,s)):l.startsWith(s)&&(u=l.replace(s,i),c=l),u&&c){const d=o[u],f=o[c];f===void 0?delete o[u]:o[u]=f,d===void 0?delete o[c]:o[c]=d,a.add(u),a.add(c)}}),o}function Uce(e,t,n){typeof n.value=="object"&&(n.value=Nw(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Nw(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Nw(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Nw(a),Nw(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Nw(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)Uce(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||Uce(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function Yke(e){return typeof e!="string"?[]:e.split(".")}function $o(e,t){const n=Yke(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!=null;i+=1)r=r[n[i]];return r}function Sk(e,t,n){const r=Yke(e);if(r.length===0)return n;const i=Nw(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function QCt(e,{from:t,to:n},r){const i=$o(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),Sk(e,s,r)}function JCt(e,t,n,r){const i=$o(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),Sk(e,s,r)}function ZCt(e,t,n){const r=$o(e,n);return Array.isArray(r)?Sk(e,r.filter((i,s)=>s!==t),n):n}function eSt(e,t,n,r){const i=$o(e,r);if(!Array.isArray(i)||i.length<=n)return r;const s=[...i];return s[n]=t,Sk(e,s,r)}function tSt({$values:e,$errors:t,$status:n}){const r=D.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>XCt(a,l,u)),e.setValues({values:QCt(a,l,e.refValues.current),updateState:!0})},[]),i=D.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>zce(a,l,u,-1)),e.setValues({values:ZCt(a,l,e.refValues.current),updateState:!0})},[]),s=D.useCallback((a,l,u)=>{n.clearFieldDirty(a),t.setErrors(c=>zce(a,u,c,1)),e.setValues({values:JCt(a,l,u,e.refValues.current),updateState:!0})},[]),o=D.useCallback((a,l,u)=>{n.clearFieldDirty(a),e.setValues({values:eSt(a,u,l,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:s,replaceListItem:o}}var kj,qce;function WK(){return qce||(qce=1,kj=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),kj}var nSt=WK();const gS=qs(nSt);function yC(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function rSt({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,s]=D.useState(t),[o,a]=D.useState(e),l=D.useRef(t),u=D.useRef(e),c=D.useCallback(S=>{const T=typeof S=="function"?S(l.current):S;l.current=T,n==="controlled"&&s(T)},[]),d=D.useCallback((S,T=!1)=>{const k=typeof S=="function"?S(u.current):S;u.current=k,(n==="controlled"||T)&&a(k)},[]),f=D.useCallback(()=>c({}),[]),h=D.useCallback(S=>{const T=S?{...r.refValues.current,...S}:r.refValues.current;r.setValuesSnapshot(T),d({})},[]),p=D.useCallback((S,T)=>{c(k=>yC(k,S)===T?k:{...k,[S]:T})},[]),m=D.useCallback((S,T,k)=>{d(I=>yC(I,S)===T?I:{...I,[S]:T},k)},[]),g=D.useCallback((S,T)=>{const k=yC(u.current,S),I=!gS($o(S,r.getValuesSnapshot()),T),R=eq(S,u.current);R[S]=I,d(R,k!==I)},[]),v=D.useCallback(S=>yC(l.current,S),[]),y=D.useCallback(S=>d(T=>{if(typeof S!="string")return T;const k=eq(S,T);return delete k[S],gS(k,T)?T:k}),[]),w=D.useCallback(S=>{if(S){const k=$o(S,u.current);if(typeof k=="boolean")return k;const I=$o(S,r.refValues.current),R=$o(S,r.valuesSnapshot.current);return!gS(I,R)}return Object.keys(u.current).length>0?yC(u.current):!gS(r.refValues.current,r.valuesSnapshot.current)},[]),E=D.useCallback(()=>u.current,[]),C=D.useCallback(()=>l.current,[]);return{touchedState:i,dirtyState:o,touchedRef:l,dirtyRef:u,setTouched:c,setDirty:d,resetDirty:h,resetTouched:f,isTouched:v,setFieldTouched:p,setFieldDirty:m,setTouchedState:s,setDirtyState:a,clearFieldDirty:y,isDirty:w,getDirty:E,getTouched:C,setCalculatedFieldDirty:g}}function iSt({initialValues:e,onValuesChange:t,mode:n}){const r=D.useRef(!1),[i,s]=D.useState(e||{}),o=D.useRef(i),a=D.useRef(i),l=D.useCallback(({values:m,subscribers:g,updateState:v=!0,mergeWithPreviousValues:y=!0})=>{const w=o.current,E=m instanceof Function?m(o.current):m,C=y?{...w,...E}:E;o.current=C,v&&s(C),t==null||t(C,w),g==null||g.filter(Boolean).forEach(S=>S({updatedValues:C,previousValues:w}))},[t]),u=D.useCallback(m=>{var y;const g=$o(m.path,o.current),v=m.value instanceof Function?m.value(g):m.value;if(g!==v){const w=o.current,E=Sk(m.path,v,o.current);l({values:E,updateState:m.updateState}),(y=m.subscribers)==null||y.filter(Boolean).forEach(C=>C({path:m.path,updatedValues:E,previousValues:w}))}},[l]),c=D.useCallback(m=>{a.current=m},[]),d=D.useCallback((m,g)=>{r.current||(r.current=!0,l({values:m,updateState:n==="controlled"}),c(m),g())},[l]),f=D.useCallback(()=>{l({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),h=D.useCallback(()=>o.current,[]),p=D.useCallback(()=>a.current,[]);return{initialized:r,stateValues:i,refValues:o,valuesSnapshot:a,setValues:l,setFieldValue:u,resetValues:f,setValuesSnapshot:c,initialize:d,getValues:h,getValuesSnapshot:p}}function sSt({$status:e}){const t=D.useRef({}),n=D.useCallback((i,s)=>{D.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(s),()=>{t.current[i]=t.current[i].filter(o=>o!==s)}),[s])},[]),r=D.useCallback(i=>t.current[i]?t.current[i].map(s=>o=>s({previousValue:$o(i,o.previousValues),value:$o(i,o.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function Hce(e,t){return e?`${e}-${t.toString()}`:t.toString()}const aR=Symbol("root-rule");function Vce(e){const t=ZU(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function tq(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,l=$o(a,t);let u=!1;return typeof o=="function"&&(i[a]=o(l,t,a)),typeof o=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>tq(o,t,`${a}.${d}`,i)),aR in o&&(i[a]=o[aR](l,t,a))),typeof o=="object"&&typeof l=="object"&&l!==null&&(u||tq(o,t,a,i),aR in o&&(i[a]=o[aR](l,t,a))),i},r)}function nq(e,t){return Vce(typeof e=="function"?e(t):tq(e,t))}function lR(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=nq(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const oSt="__MANTINE_FORM_INDEX__";function Wce(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${oSt}`)):!1:!1}function Kke({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:s={},clearInputErrorOnChange:o=!0,validateInputOnChange:a=!1,validateInputOnBlur:l=!1,onValuesChange:u,transformValues:c=m=>m,enhanceGetInputProps:d,validate:f,onSubmitPreventDefault:h="always",touchTrigger:p="change"}={}){const m=KCt(r),g=iSt({initialValues:n,onValuesChange:u,mode:t}),v=rSt({initialDirty:i,initialTouched:s,$values:g,mode:t}),y=tSt({$values:g,$errors:m,$status:v}),w=sSt({$status:v}),[E,C]=D.useState(0),[S,T]=D.useState({}),[k,I]=D.useState(!1),R=D.useCallback(()=>{g.resetValues(),m.clearErrors(),v.resetDirty(),v.resetTouched(),t==="uncontrolled"&&C(J=>J+1)},[]),O=D.useCallback(J=>{o&&m.clearErrors(),t==="uncontrolled"&&C(te=>te+1),Object.keys(w.subscribers.current).forEach(te=>{const le=$o(te,g.refValues.current),oe=$o(te,J);le!==oe&&w.getFieldSubscribers(te).forEach(ie=>ie({previousValues:J,updatedValues:g.refValues.current}))})},[o]),M=D.useCallback(J=>{const te=g.refValues.current;g.initialize(J,()=>t==="uncontrolled"&&C(le=>le+1)),O(te)},[O]),$=D.useCallback((J,te,le)=>{const oe=Wce(J,a),ie=te instanceof Function?te($o(J,g.refValues.current)):te;v.setCalculatedFieldDirty(J,ie),p==="change"&&v.setFieldTouched(J,!0),!oe&&o&&m.clearFieldError(J),g.setFieldValue({path:J,value:te,updateState:t==="controlled",subscribers:[...w.getFieldSubscribers(J),oe?he=>{const ee=lR(J,f,he.updatedValues);ee.hasError?m.setFieldError(J,ee.error):m.clearFieldError(J)}:null,(le==null?void 0:le.forceUpdate)!==!1&&t!=="controlled"?()=>T(he=>({...he,[J]:(he[J]||0)+1})):null]})},[u,f]),L=D.useCallback(J=>{const te=g.refValues.current;g.setValues({values:J,updateState:t==="controlled"}),O(te)},[u,O]),U=D.useCallback(()=>{const J=nq(f,g.refValues.current);return m.setErrors(J.errors),J},[f]),B=D.useCallback(J=>{const te=lR(J,f,g.refValues.current);return te.hasError?m.setFieldError(J,te.error):m.clearFieldError(J),te},[f]),V=(J,{type:te="input",withError:le=!0,withFocus:oe=!0,...ie}={})=>{const ee={onChange:YCt(ne=>$(J,ne,{forceUpdate:!1})),"data-path":Hce(e,J)};return le&&(ee.error=m.errorsState[J]),te==="checkbox"?ee[t==="controlled"?"checked":"defaultChecked"]=$o(J,g.refValues.current):ee[t==="controlled"?"value":"defaultValue"]=$o(J,g.refValues.current),oe&&(ee.onFocus=()=>v.setFieldTouched(J,!0),ee.onBlur=()=>{if(Wce(J,l)){const ne=lR(J,f,g.refValues.current);ne.hasError?m.setFieldError(J,ne.error):m.clearFieldError(J)}}),Object.assign(ee,d==null?void 0:d({inputProps:ee,field:J,options:{type:te,withError:le,withFocus:oe,...ie},form:K}))},G=(J,te)=>le=>{h==="always"&&(le==null||le.preventDefault());const oe=U();if(oe.hasErrors)h==="validation-failed"&&(le==null||le.preventDefault()),te==null||te(oe.errors,g.refValues.current,le);else{const ie=J==null?void 0:J(c(g.refValues.current),le);ie instanceof Promise&&(I(!0),ie.finally(()=>I(!1)))}},Y=J=>c(J||g.refValues.current),z=D.useCallback(J=>{J.preventDefault(),R()},[]),F=D.useCallback(J=>J?!lR(J,f,g.refValues.current).hasError:!nq(f,g.refValues.current).hasErrors,[f]),W=J=>`${E}-${J}-${S[J]||0}`,q=D.useCallback(J=>document.querySelector(`[data-path="${Hce(e,J)}"]`),[]),K={watch:w.watch,initialized:g.initialized.current,values:g.stateValues,getValues:g.getValues,getInitialValues:g.getValuesSnapshot,setInitialValues:g.setValuesSnapshot,initialize:M,setValues:L,setFieldValue:$,submitting:k,setSubmitting:I,errors:m.errorsState,setErrors:m.setErrors,setFieldError:m.setFieldError,clearFieldError:m.clearFieldError,clearErrors:m.clearErrors,resetDirty:v.resetDirty,setTouched:v.setTouched,setDirty:v.setDirty,isTouched:v.isTouched,resetTouched:v.resetTouched,isDirty:v.isDirty,getTouched:v.getTouched,getDirty:v.getDirty,reorderListItem:y.reorderListItem,insertListItem:y.insertListItem,removeListItem:y.removeListItem,replaceListItem:y.replaceListItem,reset:R,validate:U,validateField:B,getInputProps:V,onSubmit:G,onReset:z,isValid:F,getTransformedValues:Y,key:W,getInputNode:q};return GCt(e,K),K}function aSt(e,t){const n=t;return r=>typeof r!="string"?n:e.test(r)?null:n}function lSt(e){return aSt(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function Xke(e,t){if(e.type==="checkbox"){const n=e,r=n.minSelections&&t.length<n.minSelections,i=n.maxSelections&&t.length>n.maxSelections;if(r&&i)return`Please select between ${n.minSelections} and ${n.maxSelections} options`;if(r)return`Please select at least ${n.minSelections} options`;if(i)return`Please select at most ${n.maxSelections} options`}return null}const uSt=new URLSearchParams(window.location.search),cSt=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{},s=t&&t[`${r.id}-dontKnow`]!==void 0?t[`${r.id}-dontKnow`]:!1,o=r.withDontKnow?{[`${r.id}-dontKnow`]:s}:{},a=t&&t[`${r.id}-other`]!==void 0?t[`${r.id}-other`]:"",l=r.withOther?{[`${r.id}-other`]:a}:{};if(i)n={...n,[r.id]:i,...o,...l};else{let u="";r.paramCapture?u=uSt.get(r.paramCapture):r.type==="reactive"?u=[]:r.type==="matrix-radio"||r.type==="matrix-checkbox"?u=Object.fromEntries(r.questionOptions.map(c=>[c,""])):r.type==="slider"&&r.startingValue&&(u=r.startingValue.toString()),n={...n,[r.id]:u,...o,...l}}}),{...n}},dSt=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:(r,i)=>{if(typeof r=="object"&&!Array.isArray(r)&&r!==null)return Object.values(r).every(s=>s!=="")?null:"Empty Input";if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value. Contact study administrator.";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const s=[...n.requiredValue].sort(),o=[...r].sort();return s.every((a,l)=>a===o[l])?null:"Incorrect input"}return n.type==="checkbox"?Xke(n,r):r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?(r==null||r==="")&&!i[`${n.id}-dontKnow`]?"Empty input":null:r===null?"Empty input":null}})}),t};function fSt(e,t,n){const[r,i]=D.useState(null),s=Kke({initialValues:cSt(e,n),validate:dSt(e)});return D.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function jg(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:t.checked&&e.required?s=Xke(e,t.checked):s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}function Qke({horizontal:e,children:t,style:n}){return e?x.jsx(_i,{mt:Be(4),gap:"lg",style:n,children:t}):x.jsx(Mi,{gap:"md",style:n,children:t})}const hSt="_fixDisabled_1k5ri_1",pSt="_fixDisabledIcon_1k5ri_16",mSt="_fixDisabledLabel_1k5ri_20",Zc={fixDisabled:hSt,fixDisabledIcon:pSt,fixDisabledLabel:mSt},gSt="_fixDisabled_d4mus_1",ug={fixDisabled:gSt};function Nh({prompt:e,required:t,index:n,enumerateQuestions:r}){return x.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[r&&x.jsx(_e,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${n}. `}),x.jsx(_e,{style:{display:"block"},className:"no-last-child-bottom-padding",children:x.jsx(uh,{text:e,required:t})})]})}function ySt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,otherValue:s}){const{prompt:o,required:a,secondaryText:l,horizontal:u,withOther:c,options:d}=e,f=Fg(),h=D.useMemo(()=>f?f.optionOrders:{},[f]),p=D.useMemo(()=>h[e.id]||d.map(y=>typeof y=="string"?{label:y,value:y}:y),[h,d,e.id]),[m,g]=D.useState(!1),v=D.useMemo(()=>jg(e,n,p),[e,n,p]);return x.jsxs(Fo.Group,{label:o.length>0&&x.jsx(Nh,{prompt:o,required:a,index:r,enumerateQuestions:i}),description:l,...n,error:v,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[x.jsx(_e,{mt:"xs",children:x.jsxs(Qke,{horizontal:!!u,style:{flexGrow:1},children:[p.map(y=>x.jsx(Fo,{disabled:t,value:y.value,label:y.label,classNames:{input:Zc.fixDisabled,label:Zc.fixDisabledLabel,icon:Zc.fixDisabledIcon}},y.value)),c&&x.jsx(Fo,{disabled:t,value:"__other",checked:m,onClick:y=>g(y.currentTarget.checked),label:u?"Other":x.jsx($r,{mt:-8,placeholder:"Other",disabled:!m,...s,classNames:{input:ug.fixDisabled}}),classNames:{input:Zc.fixDisabled,label:Zc.fixDisabledLabel,icon:Zc.fixDisabledIcon}},"__other")]})}),u&&c&&x.jsx($r,{mt:"sm",placeholder:"Other",disabled:!m,...s,w:216,classNames:{input:ug.fixDisabled}})]})}function vSt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,options:l,secondaryText:u}=e,c=l.map(d=>typeof d=="string"?{value:d,label:d}:d);return x.jsx(Ag,{disabled:t,label:o.length>0&&x.jsx(Nh,{prompt:o,required:a,index:r,enumerateQuestions:i}),description:u,placeholder:s,data:c,radius:"md",size:"md",...n,value:n.value===""?null:n.value,error:jg(e,n,c),classNames:{input:ug.fixDisabled}})}function bSt({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:s,secondaryText:o}=e;return x.jsx($r.Wrapper,{label:i.length>0&&x.jsx(Nh,{prompt:i,required:s,index:n,enumerateQuestions:r}),description:o,size:"md",children:t.value&&x.jsx(gd,{children:Array.isArray(t.value)?t.value.map(a=>x.jsx(gd.Item,{children:a},a)):x.jsx(gd.Item,{children:t.value})})})}const wSt="_fixDisabled_14ab8_1",xSt="_fixDisabledIcon_14ab8_16",_St="_fixDisabledLabel_14ab8_20",p0={fixDisabled:wSt,fixDisabledIcon:xSt,fixDisabledLabel:_St};function Jke({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,stretch:s,otherValue:o}){const{prompt:a,required:l,leftLabel:u,rightLabel:c,secondaryText:d,horizontal:f,withOther:h,options:p}=e,m=Fg(),g=D.useMemo(()=>m?m.optionOrders:{},[m]),v=D.useMemo(()=>g[e.id]||p.map(C=>typeof C=="string"?{label:C,value:C}:C),[g,p,e.id]),[y,w]=D.useState(!1),E=D.useMemo(()=>jg(e,n,v),[e,n,v]);return x.jsxs(zo.Group,{name:`radioInput${e.id}`,label:a.length>0&&x.jsx(Nh,{prompt:a,required:l,index:r,enumerateQuestions:i}),description:d,...n,error:E,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[x.jsxs(_i,{gap:"lg",align:"flex-end",mt:f?0:"sm",children:[u?x.jsx(Ue,{children:u}):null,x.jsxs(Qke,{horizontal:!!f,style:{flexGrow:1},children:[v.map(C=>x.jsxs("div",{style:{display:"flex",flexDirection:f?"column":"row",gap:f?"unset":Be(12),flex:s?1:"unset",alignItems:"center"},children:[f&&x.jsx(uh,{text:C.label}),x.jsx(zo,{disabled:t,value:C.value,label:C.label,styles:{label:{display:f?"none":"initial"}},onChange:()=>w(!1),classNames:{radio:p0.fixDisabled,label:p0.fixDisabledLabel,icon:p0.fixDisabledIcon}})]},`${C.value}-${e.id}`)),h&&x.jsxs("div",{style:{display:"flex",flexDirection:f?"column":"row",gap:f?"unset":Be(12),flex:s?1:"unset",alignItems:"center"},children:[f&&x.jsx(Ue,{size:"sm",children:"Other"}),x.jsx(zo,{disabled:t,value:"other",checked:y,onClick:C=>w(C.currentTarget.checked),label:!f&&x.jsx($r,{mt:-8,placeholder:"Other",disabled:!y,...o,classNames:{input:ug.fixDisabled}}),mt:0,classNames:{radio:p0.fixDisabled,label:p0.fixDisabledLabel,icon:p0.fixDisabledIcon}})]})]}),x.jsx(Ue,{children:c})]}),f&&h&&x.jsx($r,{mt:"sm",placeholder:"Other",disabled:!y,...o,w:216,classNames:{input:ug.fixDisabled}})]},e.id)}function ESt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:s,start:o,spacing:a}=e,l=[],u=o??1,c=a??1;for(let f=0;f<+s;f+=1){const h=u+f*c;l.push({label:`${h}`,value:`${h}`})}const d={...e,type:"radio",options:l,horizontal:!0};return x.jsx(Jke,{disabled:t,response:d,answer:n,index:r,enumerateQuestions:i,stretch:!0})}function CSt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,min:a,max:l,placeholder:u,secondaryText:c}=e;return x.jsx(oG,{disabled:t,placeholder:u,label:s.length>0&&x.jsx(Nh,{prompt:s,required:o,index:r,enumerateQuestions:i}),description:c,radius:"md",size:"md",min:a,max:l,...n,error:jg(e,n),classNames:{input:ug.fixDisabled}})}const SSt="_track_w59g7_1",TSt="_fixDisabled_w59g7_11",Gce={track:SSt,fixDisabled:TSt};function kSt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,secondaryText:l,snap:u,step:c,withBar:d,tlxStyle:f,smeqStyle:h,spacing:p}=e,[m,g]=D.useMemo(()=>[Math.min(...a.map(R=>R.value)),Math.max(...a.map(R=>R.value))],[a]),v=a.some(R=>R.label!==""),y=jg(e,n),w=D.useMemo(()=>{const R=p??10**Math.floor(Math.log10((g-m)/10)),O=Math.ceil(m/R)*R,M=Math.floor((g-O)/R)+1;return Array.from({length:M},($,L)=>O+L*R)},[m,g,p]),[E,C]=D.useState(n.value??(m+g)/2),S=(E-m)/(g-m),[T,k]=D.useState(!1),{ref:I}=AV(({y:R})=>{var L;const O=Math.max(m,Math.min(g,m+(1-R)*(g-m))),M=c??(u?.001:(g-m)/100),$=Math.round((O-m)/M)*M+m;C($),(L=n==null?void 0:n.onChange)==null||L.call(n,$)});return x.jsx($r.Wrapper,{label:s.length>0&&x.jsx(Nh,{prompt:s,required:o,index:r,enumerateQuestions:i}),description:l,error:y,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:h?x.jsx(_e,{style:{overflow:"hidden"},children:x.jsxs(Rt,{direction:"row",align:"flex-start",gap:"sm",m:"md",justify:"center",wrap:"nowrap",children:[x.jsx(_e,{style:{height:450,position:"relative",minWidth:30,textAlign:"right",flexShrink:0},children:w.map(R=>{const O=(R-m)/(g-m)*100;return x.jsx(_e,{style:{position:"absolute",bottom:`${O}%`,fontSize:"var(--mantine-font-size-xs)",color:"var(--mantine-color-gray-7)",right:0,transform:"translateY(50%)"},children:R},R)})}),x.jsxs(_e,{ref:I,style:{width:22,height:450,position:"relative",flexShrink:0},onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:[x.jsx(_e,{style:{position:"absolute",left:20,top:0,width:2,height:"100%",backgroundColor:"var(--mantine-color-gray-5)"}}),w.map(R=>{const O=(R-m)/(g-m)*100;return x.jsx(_e,{style:{position:"absolute",bottom:`${O}%`,left:2,width:20,height:1,backgroundColor:"var(--mantine-color-gray-7)",transform:"translateY(50%)"}},R)}),a.map(R=>{const O=(R.value-m)/(g-m)*100;return x.jsx(_e,{style:{position:"absolute",bottom:`${O}%`,left:R.label!==""?20:2,width:(R.label!=="",20),height:1,backgroundColor:"var(--mantine-color-gray-7)",transform:"translateY(50%)"}},R.value)}),x.jsx(_e,{style:{backgroundColor:"var(--mantine-color-red-6)",width:20,height:1,border:"1px solid var(--mantine-color-red-6)",position:"absolute",bottom:`calc(${S*100}% - 1px)`},children:T&&x.jsx(_e,{style:{position:"absolute",left:40,top:-10,transform:"translateX(-50%)",background:"var(--mantine-color-gray-8)",color:"white",fontSize:12,padding:"2px 6px",borderRadius:4},children:Math.round(E)})})]}),x.jsx(_e,{style:{height:450,position:"relative",minWidth:200},children:a.map(R=>{if(!R.label)return null;const O=(R.value-m)/(g-m)*100;return x.jsx(_e,{style:{fontSize:"var(--mantine-font-size-xs)",color:"var(--mantine-color-gray-7)",position:"absolute",bottom:`${O}%`,transform:"translateY(50%)",left:20},children:R.label},R.value)})})]})}):x.jsx(Gw,{disabled:t,marks:[...w.map(R=>({value:R})),...a],min:m,max:g,step:c??(u?.001:(g-m)/100),h:v?40:void 0,...n,classNames:{track:f?Gce.track:"",bar:Gce.fixDisabled},restrictToMarks:u,label:R=>u?null:R,styles:R=>({mark:{...f?{height:20,width:1,marginTop:-6,marginLeft:2,borderRadius:0}:{},...d===!1?{borderColor:"var(--mantine-color-gray-2)"}:{}},bar:d===!1||f?{display:"none"}:{},markLabel:{fontSize:R.fontSizes.sm,color:R.colors.gray[7],transform:"translate(calc((var(--mark-offset) * -1) + (var(--slider-size) / 2)), calc(var(--mantine-spacing-xs) / 2)"},thumb:{...f?{borderColor:"var(--mantine-color-red-6)",width:1,borderWidth:1,height:22,borderRadius:0,backgroundColor:"var(--mantine-color-red-6)",transform:"translate(-50%, -62%)"}:{}}}),flex:1,mt:f?"sm":"xs"})})}function ASt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:l}=e;return x.jsx(Gu,{disabled:t,placeholder:s,label:o.length>0&&x.jsx(Nh,{prompt:o,required:a,index:r,enumerateQuestions:i}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:jg(e,n),classNames:{input:ug.fixDisabled}})}function ISt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:l}=e;return x.jsx(GW,{disabled:t,placeholder:s,label:o.length>0&&x.jsx(Nh,{prompt:o,required:a,index:r,enumerateQuestions:i}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:jg(e,n),classNames:{input:ug.fixDisabled}})}function RSt({_choices:e,_n:t,idx:n,question:r,answer:i,onChange:s,disabled:o}){return x.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(a=>x.jsx(Fo,{disabled:o,checked:i.value[r].split("|").includes(a.value),onChange:l=>s(l,r,a),value:a.value,classNames:{input:Zc.fixDisabled,icon:Zc.fixDisabledIcon}},`${a.label}-${n}`))})}function DSt({_choices:e,_n:t,idx:n,question:r,response:i,answer:s,onChange:o,disabled:a}){return x.jsx(zo.Group,{name:`radioInput${i.id}-${n}`,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))",flex:1},onChange:l=>o(l,r),value:s.value[r],children:x.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(l=>x.jsx(zo,{disabled:a,value:l.value,classNames:{radio:p0.fixDisabled,icon:p0.fixDisabledIcon}},`${l.label}-${n}`))})},`${i.id}-${n}`)}function PSt({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{setMatrixAnswersRadio:s,setMatrixAnswersCheckbox:o}=bs(),a=Vs(),{answerOptions:l,prompt:u,secondaryText:c,required:d}=e,h=typeof l=="string"?{likely5:["Highly Unlikely","Unlikely","Neutral","Likely","Highly Likely"],likely7:["Highly Unlikely","Unlikely","Slightly Unlikely","Neutral","Slightly Likely","Likely","Highly Likely"],satisfaction5:["Highly Unsatisfied","Unsatisfied","Neutral","Satisfied","Highly Satisfied"],satisfaction7:["Highly Unsatisfied","Unsatisfied","Slightly Unsatisfied","Neutral","Slightly Satisfied","Satisfied","Highly Satisfied"]}[l].map(E=>({value:E,label:E})):l.map(E=>typeof E=="string"?{value:E,label:E}:E),{questionOrders:p}=Fg(),m=D.useMemo(()=>p[e.id],[p,e.id]),g=(E,C)=>{const S={type:"radio",questionKey:C,val:E,responseId:e.id};a(s(S))},v=(E,C,S)=>{const T=E.target.checked,k={questionKey:C,responseId:e.id,value:S.value,label:S.label,isChecked:T,choiceOptions:h};a(o(k))},y=h.length,w=m.length;return x.jsxs(x.Fragment,{children:[u.length>0&&x.jsx(Nh,{prompt:u,required:d,index:n,enumerateQuestions:i}),x.jsx(Ue,{c:"dimmed",size:"sm",mt:0,children:c}),x.jsxs(_e,{style:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto 1fr"},m:"md",mt:"xs",children:[x.jsx("div",{style:{borderBottom:"1px solid var(--mantine-color-dark-0)",borderRight:"1px solid var(--mantine-color-dark-0)"}}),x.jsx("div",{style:{height:"100%",display:"grid",gridTemplateColumns:`repeat(${y}, 1fr)`,alignItems:"center",justifyItems:"center",borderBottom:"1px solid var(--mantine-color-dark-0)"},children:h.map((E,C)=>x.jsx(Ue,{style:{fontWeight:"bold",textAlign:"center",fontSize:"0.8em"},mb:"sm",ml:"xs",mr:"xs",children:E.label},`choice-${C}-label`))}),x.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${w}, 1fr)`},children:m.map((E,C)=>x.jsx(Ue,{style:{height:"80px",width:"100%",display:"flex",alignItems:"safe center",justifyContent:"end",borderRight:"1px solid var(--mantine-color-dark-0)",backgroundColor:`${(C+1)%2===0?"var(--mantine-color-gray-2)":"white"}`,overflowY:"auto"},ta:"right",p:"sm",miw:140,maw:400,children:E},`question-${C}-label`))}),x.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${w},1fr)`},children:m.map((E,C)=>x.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",backgroundColor:`${(C+1)%2===0?"var(--mantine-color-gray-2)":"white"}`},children:e.type==="matrix-radio"?x.jsx(DSt,{disabled:r,idx:C,question:E,answer:t,_choices:h,_n:y,onChange:g,response:e}):x.jsx(RSt,{disabled:r,idx:C,question:E,answer:t,_choices:h,_n:y,onChange:v})},`question-${C}`))})]})]})}const OSt="_root_152zr_1",NSt={root:OSt};function $St({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,secondaryText:a,options:l}=e,u=Fg(),c=D.useMemo(()=>u?u.optionOrders:{},[u]),d=D.useMemo(()=>c[e.id]||l,[c,l,e.id]),f=D.useMemo(()=>jg(e,n,d),[e,n,d]);return x.jsx(BT,{children:x.jsx(zo.Group,{name:`radioInput${e.id}`,label:s.length>0&&x.jsx(Nh,{prompt:s,required:o,index:r,enumerateQuestions:i}),description:a,...n,error:f,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:x.jsx(Rt,{justify:"space-between",align:"center",gap:"xl",mt:"xs",children:d.map((h,p)=>x.jsx(zo.Card,{value:h.value,disabled:t,ta:"center",className:NSt.root,p:"xs",children:x.jsx(Ue,{children:h.label})},`radio-${p}`))})},e.id)})}function MSt({response:e}){const{prompt:t}=e;return x.jsx(Rt,{direction:"row",wrap:"nowrap",gap:4,children:x.jsx(_e,{style:{display:"block"},className:"no-last-child-bottom-padding",children:x.jsx(uh,{text:t,required:!1})})})}const GK=e=>{D.useEffect(()=>{if(!e)return()=>{};const t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=`${as}${e}`,t.dataset.stylesheetPath=e,document.head.appendChild(t),()=>{t.parentNode&&t.parentNode.removeChild(t)}},[e])};function FSt({response:e,form:t,storedAnswer:n,index:r,configInUse:i,dontKnowCheckbox:s,otherInput:o,disabled:a}){const u=(Lg()||Object.keys(n||{}).length>0?{value:n[e.id]}:t)||{value:void 0},c=(Object.keys(n||{}).length>0?{checked:n[`${e.id}-dontKnow`]}:s)||{checked:void 0},d=(Object.keys(n||{}).length>0?{value:n[`${e.id}-other`]}:o)||{value:void 0},f=Object.keys(n||{}).length>0||a,[h]=kh(),p=Cu(),m=D.useMemo(()=>(i==null?void 0:i.enumerateQuestions)??p.uiConfig.enumerateQuestions??!1,[i,p]),g=ar(T=>T.sequence),v=Rd(g),y=rl();GK(e.stylesheetPath);const w=D.useMemo(()=>{if(typeof y=="number"){const T=v[y];for(let k=0;k<g.components.length;k+=1){const I=g.components[k];if(typeof I=="string"&&I===T){if(k+1<g.components.length&&typeof g.components[k+1]!="string")return!1;break}}}if(typeof y=="number"&&y+1<v.length){const T=v[y+1],k=p.components[T];if(k!=null&&k.previousButton)return!1}if(e.paramCapture){const T=h.get(e.paramCapture);return f||!!T}return a},[a,e.paramCapture,h,y,v,p.components,g,f]),E=D.useMemo(()=>e.paramCapture?h.get(e.paramCapture)||"":e.type==="reactive"||e.type==="checkbox"?[]:e.type==="matrix-radio"||e.type==="matrix-checkbox"?Object.fromEntries(e.questionOptions.map(T=>[T,""])):e.type==="slider"&&e.startingValue?e.startingValue.toString():"",[e.paramCapture,e.questionOptions,e.startingValue,e.type,h]),C=e.style||{},S=D.useMemo(()=>e.withDivider??(i==null?void 0:i.responseDividers)??p.uiConfig.responseDividers,[e,i,p]);return x.jsxs(_e,{mb:S?"xl":"lg",className:"response",id:e.id,style:C,children:[e.type==="numerical"&&x.jsx(CSt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="shortText"&&x.jsx(ASt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="longText"&&x.jsx(ISt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="likert"&&x.jsx(ESt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="dropdown"&&x.jsx(vSt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="slider"&&x.jsx(kSt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="radio"&&x.jsx(Jke,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m,otherValue:d}),e.type==="checkbox"&&x.jsx(ySt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m,otherValue:d}),e.type==="reactive"&&x.jsx(bSt,{response:e,answer:u,index:r,enumerateQuestions:m}),(e.type==="matrix-radio"||e.type==="matrix-checkbox")&&x.jsx(PSt,{disabled:w||(s==null?void 0:s.checked),response:e,answer:u,index:r,enumerateQuestions:m}),e.type==="buttons"&&x.jsx($St,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="textOnly"&&x.jsx(MSt,{response:e}),e.withDontKnow&&x.jsx(Fo,{mt:"xs",disabled:w,label:"I don't know",classNames:{input:Zc.fixDisabled,label:Zc.fixDisabledLabel,icon:Zc.fixDisabledIcon},...s,checked:c.checked,onChange:T=>{s==null||s.onChange(T.currentTarget.checked),t.onChange(E)}}),S&&x.jsx(I_,{mt:"xl",mb:"xs"})]})}function LSt(e,t){const n=[];for(const r of e)t.includes(r)&&n.push(r);return n}function h4({config:e,location:t,status:n,style:r}){var he;const{storageEngine:i}=Qi(),s=Vs(),{updateResponseBlockValidation:o,toggleShowHelpText:a,saveIncorrectAnswer:l,incrementHelpCounter:u}=bs(),c=rl(),d=ar(ee=>ee.analysisProvState[t]),f=D.useMemo(()=>(d==null?void 0:d.form)||(n==null?void 0:n.answer),[d,n]),h=Fg(),p=D.useMemo(()=>(h==null?void 0:h.formOrder)||{},[h]),m=Ea(),g=e,v=D.useMemo(()=>p!=null&&p.response?p.response.map(ee=>{var ne;return(ne=g==null?void 0:g.response)==null?void 0:ne.find(ue=>ue.id===ee)}).filter(ee=>ee!==void 0&&(ee.location?ee.location===t:t==="belowStimulus")):[],[g==null?void 0:g.response,t,p]),y=D.useMemo(()=>v.map(ee=>ee.type!=="textOnly"?{...ee,required:ee.required===void 0?!0:ee.required}:ee),[v]),w=fSt(y,c,f||{}),{actions:E,trrack:C}=D.useMemo(()=>{const ee=O1.create(),ne=ee.register("update",(ve,xe)=>(ve.form=xe,ve)),ue=gk({registry:ee,initialState:{form:null}});return{actions:{updateFormAction:ne},trrack:ue}},[]),S=ar(ee=>ee.reactiveAnswers),T=ar(ee=>ee.matrixAnswers),k=Cu(),R=D.useMemo(()=>(g==null?void 0:g.provideFeedback)??k.uiConfig.provideFeedback,[g,k])&&(((he=g==null?void 0:g.correctAnswer)==null?void 0:he.length)||0)>0,O=D.useMemo(()=>(g==null?void 0:g.allowFailedTraining)??k.uiConfig.allowFailedTraining??!0,[g,k]),[M,$]=D.useState(0),L=D.useMemo(()=>(g==null?void 0:g.trainingAttempts)??k.uiConfig.trainingAttempts??2,[g,k]),[U,B]=D.useState(!1),[V,G]=D.useState(!1),z=M>=L&&L>=0||V,F=D.useMemo(()=>t===((g==null?void 0:g.nextButtonLocation)??k.uiConfig.nextButtonLocation??"belowStimulus"),[g,k,t]),W=B1();D.useEffect(()=>{const ee=y.find(ne=>ne.type==="reactive");if(S&&ee){const ne=ee.id;w.setValues({...w.values,[ne]:S[ne]})}},[S]),D.useEffect(()=>{const ee=y.filter(ne=>ne.type==="matrix-radio"||ne.type==="matrix-checkbox");if(T&&ee.length>0){const ne={...w.values};ee.forEach(ue=>{const{id:ve}=ue;ne[ve]={...w.getInputProps(ve).value,...T[ve]}}),w.setValues(ne)}},[T]),D.useEffect(()=>{C.apply("update",E.updateFormAction(structuredClone(w.values))),s(o({location:t,identifier:W,status:w.isValid(),values:structuredClone(w.values),provenanceGraph:C.graph.backend}))},[w.values,W,t,s,o]);const[q,K]=D.useState(Object.fromEntries(y.map(ee=>[ee.id,{visible:!1,title:"Correct Answer",message:"The correct answer is: ",color:"green"}]))),J=(ee,ne,ue,ve,xe)=>{K(Re=>({...Re,[ee]:{visible:ne,title:ue,message:ve,color:xe}}))},te=D.useCallback(()=>{const ee=M+1;$(ee);const ne=Object.fromEntries(y.map(ue=>{var Re,Te;const ve=(Te=(Re=g==null?void 0:g.correctAnswer)==null?void 0:Re.find(we=>we.id===ue.id))==null?void 0:Te.answer,xe=w.values[ue.id];return[ue.id,Array.isArray(xe)?typeof ve=="string"?xe.length===1&&ve===xe[0]:xe.length===ve.length&&xe.every(we=>ve.includes(we)):ve===xe]}));R&&(y.forEach(ue=>{var ve,xe,Re;if(ne[ue.id]&&!((ve=q[ue.id])!=null&&ve.message.includes("You've failed to answer this question correctly")))J(ue.id,!0,"Correct Answer","You have answered the question correctly.","green");else{s(l({question:W,identifier:ue.id,answer:w.values[ue.id]}));let Te="";if(L===-1?Te="Please try again.":ee>=L?(Te=`You didn't answer this question correctly after ${L} attempts. ${O?"You can continue to the next question.":"Unfortunately you have not met the criteria for continuing this study."}`,!O&&i&&i.rejectCurrentParticipant("Failed training").then(()=>{setTimeout(()=>{m("./../__trainingFailed")},5e3)}).catch(()=>{console.error("Failed to reject participant who failed training"),setTimeout(()=>{m("./../__trainingFailed")},5e3)})):L-ee===1?Te="Please try again. You have 1 attempt left.":Te=`Please try again. You have ${L-ee} attempts left.`,ue.type==="checkbox"){const we=(Re=(xe=g==null?void 0:g.correctAnswer)==null?void 0:xe.find(ft=>ft.id===ue.id))==null?void 0:Re.answer,He=w.values[ue.id],Xe=LSt(He,we),tt=we.length===Xe.length&&He.length>we.length?"However, you have selected too many boxes. ":"";Te=`You have successfully checked ${Xe.length}/${we.length} correct boxes. ${tt}${Te}`}J(ue.id,!0,"Incorrect Answer",Te,"red")}}),G(Object.values(ne).every(ue=>ue)),B(O&&ee>=L||Object.values(ne).every(ue=>ue)&&ee<=L))},[M,y,g,R,L,O,i,m,W,s,w,q,l]),le=(g==null?void 0:g.nextOnEnter)??k.uiConfig.nextOnEnter;D.useEffect(()=>{if(le){const ee=ne=>{ne.key==="Enter"&&te()};return window.addEventListener("keydown",ee),()=>{window.removeEventListener("keydown",ee)}}return()=>{}},[te,le]);const oe=D.useMemo(()=>(g==null?void 0:g.nextButtonText)??k.uiConfig.nextButtonText??"Next",[g,k]);let ie=0;return x.jsxs(x.Fragment,{children:[x.jsx(_e,{className:`responseBlock responseBlock-${t}`,style:r,children:y.map(ee=>{var ue,ve,xe;const ne=(ve=(ue=g.correctAnswer)==null?void 0:ue.find(Re=>Re.id===ee.id))==null?void 0:ve.answer;return ee.type!=="textOnly"?ie+=1:ee.restartEnumeration&&(ie=0),x.jsx(sr.Fragment,{children:ee.hidden?"":x.jsxs(x.Fragment,{children:[x.jsx(FSt,{storedAnswer:f,form:{...w.getInputProps(ee.id,{type:ee.type==="checkbox"?"checkbox":"input"})},dontKnowCheckbox:{...w.getInputProps(`${ee.id}-dontKnow`,{type:"checkbox"})},otherInput:{...w.getInputProps(`${ee.id}-other`)},response:ee,index:ie,configInUse:g,disabled:z}),((xe=q[ee.id])==null?void 0:xe.visible)&&x.jsxs(Xf,{mb:"md",title:q[ee.id].title,color:q[ee.id].color,children:[q[ee.id].message,q[ee.id].message.includes("Please try again")&&x.jsxs(x.Fragment,{children:[x.jsx("br",{}),x.jsx("br",{}),"If you're unsure"," ",x.jsx(C1,{style:{fontSize:14},onClick:()=>{s(a()),s(u({identifier:W}))},children:"review the help text."})," "]}),x.jsx("br",{}),x.jsx("br",{}),M>=L&&L>=0&&ne&&` The correct answer was: ${ne}.`]})]})},`${ee.id}-${c}`)})}),F&&x.jsx(HCt,{disabled:R&&!U||!w.isValid(),label:oe,configInUse:g,location:t,checkAnswer:F&&R?x.jsx(Wt,{disabled:V||M>=L&&L>=0,onClick:()=>te(),px:t==="sidebar"?8:void 0,children:"Check Answer"}):null})]})}const vC="@REVISIT_COMMS";function jSt({currentConfig:e,provState:t,answers:n}){const{setReactiveAnswers:r,updateResponseBlockValidation:i}=bs(),s=Vs(),o=REe(),a=B1(),l=D.useRef(null),u=D.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),c=Gd(),d=D.useCallback((f,h)=>{var p,m;(m=(p=l.current)==null?void 0:p.contentWindow)==null||m.postMessage({error:!1,type:`${vC}/${f}`,iframeId:u,message:h},"*")},[l,u]);return D.useEffect(()=>{t&&d("PROVENANCE",t)},[t,d]),D.useEffect(()=>{n&&d("ANSWERS",n)},[n,d]),D.useEffect(()=>{const f=h=>{const{data:p}=h;if(typeof p=="object"&&u===p.iframeId)switch(p.type){case`${vC}/WINDOW_READY`:e.parameters&&d("STUDY_DATA",e.parameters);break;case`${vC}/READY`:break;case`${vC}/ANSWERS`:s(r(p.message)),s(i({location:"stimulus",identifier:a,status:!0,values:p.message}));break;case`${vC}/PROVENANCE`:s(i({location:"stimulus",identifier:a,values:{},status:!0,provenanceGraph:p.message}));break}};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[s,o,u,e,d,r,i,a]),x.jsx("iframe",{ref:l,style:{width:"100%",flexGrow:1,border:0},src:e.path.startsWith("http")?e.path:`${as}${e.path}?trialid=${c}&id=${u}`})}async function T6(e){const n=await(await fetch(e)).text();if(!n.includes("<title>ReVISit</title>"))return n}async function BSt(e){const t=await fetch(`${as}${e}`);let n;try{n=await t.json()}catch(r){console.error("Invalid JSON:",r)}return n}function om({email:e,path:t}){const n=bc();return x.jsxs(kg,{fluid:!0,my:50,maw:800,mx:"auto",children:[x.jsx(Br,{order:2,children:x.jsx(Ue,{span:!0,c:"orange",children:"404"})}),x.jsxs(Ue,{children:[x.jsx(Ue,{span:!0,fw:700,children:t||n.pathname})," ","not Found."]}),x.jsx(Ju,{h:"lg"}),x.jsxs(gd,{children:[x.jsx(gd.Item,{children:x.jsx(Ue,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),x.jsx(gd.Item,{children:x.jsxs(Ue,{children:["If you're a participant, please contact the study administrator"," ",e&&x.jsxs(x.Fragment,{children:["at"," ",x.jsxs(C1,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}function zSt({currentConfig:e}){const t=D.useMemo(()=>e.path.startsWith("http")?e.path:`${as}${e.path}`,[e.path]),[n,r]=D.useState(!0),[i,s]=D.useState(!1);return D.useEffect(()=>{async function o(){let a=await T6(t);a=a!=null&&a.includes("File not found")?void 0:a,s(!!a),r(!1)}o()},[t]),n||i?x.jsx(Th,{mx:"auto",src:t}):x.jsx(om,{path:e.path})}class USt extends sr.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?x.jsx(Ue,{children:this.state.error.toString()}):this.props.children}}const Yce=Object.assign({"../public/example-VLAT-adaptive/assets/Feedback.tsx":WEe,"../public/example-VLAT-adaptive/assets/FeedbackTrial.tsx":VEe,"../public/libraries/adaptive-vlat/assets/VlatTrial.tsx":GEe,"../public/libraries/adaptive-vlat/assets/dynamic.tsx":XEe,"../public/libraries/adaptive-vlat/assets/utils.ts":KEe,"../public/libraries/adaptive-vlat/assets/vlatQ.tsx":qEe,"../public/libraries/berlin-num/assets/dynamic.tsx":QEe,"../public/libraries/mic-check/assets/AudioTest.tsx":sCe,"../public/libraries/test/assets/test.tsx":oCe,"../public/matrices/Stimuli.tsx":xke,"../public/matrices/components/Background.tsx":NTe,"../public/matrices/components/ControlPanel.tsx":vke,"../public/matrices/components/EncodedCells.tsx":qTe,"../public/matrices/components/Highlighting.tsx":FTe,"../public/matrices/components/InteractionButtons.tsx":gke,"../public/matrices/components/Legend.tsx":zTe,"../public/matrices/components/Marks.tsx":YTe,"../public/matrices/components/Matrix.tsx":wke,"../public/matrices/components/Tooltip.tsx":VTe,"../public/matrices/components/axis/DestinationAxis.tsx":PTe,"../public/matrices/components/axis/OriginAxis.tsx":RTe,"../public/matrices/hooks/useCellScales.tsx":ZTe,"../public/matrices/hooks/useConfig.tsx":pke,"../public/matrices/hooks/useOrdering.tsx":cke,"../public/matrices/hooks/useRenderEncodeCells.tsx":QTe,"../public/matrices/hooks/useReplay.tsx":fke,"../public/matrices/utils/Accessors.tsx":LTe,"../public/matrices/utils/Constants.ts":$Te,"../public/matrices/utils/Enums.ts":jTe,"../public/matrices/utils/Interfaces.tsx":_ke,"../public/matrices/utils/MatrixContext.tsx":kTe});function qSt({currentConfig:e,provState:t,answers:n}){const r=`../public/${e.path}`,i=r in Yce?Yce[r].default:null,s=B1(),o=Vs(),{updateResponseBlockValidation:a,setReactiveAnswers:l}=bs(),u=D.useCallback(({status:c,provenanceGraph:d,answers:f})=>{o(a({location:"stimulus",identifier:s,status:c,values:f,provenanceGraph:d})),o(l(f))},[l,o,a,s]);return x.jsx(D.Suspense,{fallback:x.jsx("div",{children:"Loading..."}),children:i?x.jsx(USt,{children:x.jsx(i,{parameters:e.parameters,setAnswer:u,answers:n,provenanceState:t})}):x.jsx(om,{path:e.path})})}function HSt({currentConfig:e}){const[t,n]=D.useState(""),[r,i]=D.useState(!0);return D.useEffect(()=>{async function s(){const o=await T6(`${as}${e.path}`);o!==void 0&&n(o),i(!1)}s()},[e.path]),r||t?x.jsx(uh,{text:t}):x.jsx(om,{path:e.path})}function Zke(){const e=rl(),{setAlertModal:t}=bs(),n=Vs();D.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))}},[e,t,n])}var Kce=Object.prototype.hasOwnProperty;function Xce(e,t,n){for(n of e.keys())if(n2(n,t))return n}function n2(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&n2(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=Xce(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=Xce(t,i),!i)||!n2(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Kce.call(e,n)&&++r&&!Kce.call(t,n)||!(n in t)||!n2(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function VSt(e){var t=D.useRef(e),n=D.useRef(0);return n2(e,t.current)||(t.current=e,n.current+=1),D.useMemo(function(){return t.current},[n.current])}function WSt(e,t){return D.useEffect(e,VSt(t))}const YK=(e,t=null)=>{const[n,r]=D.useState("idle"),[i,s]=D.useState(null),[o,a]=D.useState(null),l=D.useRef(null),u=D.useRef(!1);D.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const c=D.useCallback((...d)=>{r("pending"),a(null);const f=Promise.resolve(e(...d)).then(h=>(u.current&&f===l.current&&(s(h),r("success")),h)).catch(h=>{throw u.current&&f===l.current&&(s(null),a(h),r("error")),h});return l.current=f,f},[e]);return WSt(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}};function KK(e){const t=e.endTime===-1?void 0:e.endTime-e.startTime,n=(e.windowEvents||[]).filter(o=>o!==void 0).filter(([o,a,l])=>a==="visibility");let r=0,i=0;for(;i<n.length-1;){if(n[i][2]==="hidden"){for(let o=i+1;o<n.length;o+=1)if(n[o][2]==="visible"){r+=n[o][0]-n[i][0],i=o;break}}i+=1}return t?t-r:void 0}const GSt="_root_1spq0_1",YSt="_description_1spq0_9",KSt="_title_1spq0_10",XSt="_closeButton_1spq0_14",QSt={root:GSt,description:YSt,title:KSt,closeButton:XSt},iT=e=>{const{title:t,message:n,color:r}=e;A1.show({title:t,message:n,position:"top-center",classNames:QSt,color:r||"blue",autoClose:r==="red"||r==="yellow"?!1:5e3})},Qce=["status","rejectReason","rejectTime","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","responseMin","responseMax","startTime","endTime","duration","cleanedDuration","meta","configHash"],eAe=["participantId","trialId","trialOrder","responseId"];function XK(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function JSt(e,t,n){const r=(Object.entries(e.answers).filter(([s,o])=>o.endTime!==-1).length/Object.entries(e.answers).length*100).toFixed(2),i=new Set;return[[{participantId:e.participantId,trialId:"participantTags",trialOrder:null,responseId:"participantTags",answer:JSON.stringify(e.participantTags)},...Object.values(e.answers).map(s=>{const o=s.componentName,{trialOrder:a}=s,l=n.components[o],u=Ol(l,n),c=s.endTime===-1?void 0:s.endTime-s.startTime,d=KK(s),f=Object.keys(s.answer).length===0?{"":void 0}:s.answer;return Object.entries(f).map(([p,m])=>{var y,w,E;const g={participantId:e.participantId,trialId:o,trialOrder:a,responseId:p};Object.entries(s.parameters).forEach(([C,S])=>{g[`parameters_${C}`]=S,i.add(`parameters_${C}`)});const v=u.response.find(C=>C.id===p);if(t.includes("status")&&(g.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("rejectReason")&&(g.rejectReason=e.rejected?e.rejected.reason:void 0),t.includes("rejectTime")&&(g.rejectTime=e.rejected?new Date(e.rejected.timestamp).toISOString():void 0),t.includes("configHash")&&(g.configHash=e.participantConfigHash),t.includes("percentComplete")&&(g.percentComplete=r),t.includes("description")&&(g.description=u.description),t.includes("instruction")&&(g.instruction=u.instruction),t.includes("responsePrompt")&&(g.responsePrompt=v==null?void 0:v.prompt),t.includes("answer")&&(g.answer=m),t.includes("correctAnswer")){const C=(w=(y=u.correctAnswer)==null?void 0:y.find(k=>k.id===p))==null?void 0:w.answer,T=((E=s.correctAnswer.find(k=>k.id===p))==null?void 0:E.answer)||C;g.correctAnswer=typeof T=="object"?JSON.stringify(T):T}return t.includes("responseMin")&&(g.responseMin=(v==null?void 0:v.type)==="numerical"?v.min:void 0),t.includes("responseMax")&&(g.responseMax=(v==null?void 0:v.type)==="numerical"?v.max:void 0),t.includes("startTime")&&(g.startTime=new Date(s.startTime).toISOString()),t.includes("endTime")&&(g.endTime=new Date(s.endTime).toISOString()),t.includes("duration")&&(g.duration=c),t.includes("cleanedDuration")&&(g.cleanedDuration=d),t.includes("meta")&&(g.meta=JSON.stringify(u.meta,null,2)),g}).flat()}).flat()],Array.from(i)]}async function ZSt(e,t,n,r){if(!n)return{header:[],rows:[]};const i=[...eAe,...e],s=[...new Set(t.map(f=>f.participantConfigHash))],o=await n.getAllConfigsFromHash(s,r),a=i,l=await Promise.all(t.map(async f=>await JSt(f,i,o[f.participantConfigHash]))),u=l.map(f=>f[0]),c=new Set(l.map(f=>f[1]).flat()),d=u.flat().sort((f,h)=>f!==h?f.participantId.localeCompare(h.participantId):f.trialOrder-h.trialOrder);return{header:[...a,...c],rows:d}}function e2t({opened:e,close:t,filename:n,data:r,studyId:i}){const[s,o]=D.useState([...Qce].filter(p=>p!=="meta")),a=Qi(),{value:l,status:u,error:c}=YK(ZSt,[s,r,a.storageEngine,i]),d=D.useCallback(()=>{if(!l)return;const p=[l.header.join(","),...l.rows.map(m=>l.header.map(g=>`"${`${m[g]}`.replace(/"/g,'""')}"`).join(","))].join(`
`);XK(p,n)},[n,l]),f=D.useCallback(()=>{l&&(window.parent.postMessage({type:"revisitWidget/PYTHON_EXPORT_TIDY",payload:l},"*"),iT({title:"Success",message:"Data sent to python notebook",color:"green"}))},[l]),h=D.useMemo(()=>{if(!l)return"";const p=l.rows.length>5?5:l.rows.length,m=p===1?"":"s";return`This is a preview of the first ${m?p:""} row${m} of the CSV. The full CSV contains ${l.rows.length} row${m}.`},[l]);return x.jsxs(xi,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,children:[x.jsx(WT,{searchable:!0,nothingFoundMessage:"Property not found",data:[...Qce],value:s,onChange:p=>o(p),label:"Included optional columns:",leftSection:x.jsx(jKe,{}),variant:"filled"}),x.jsx(Ju,{h:"md"}),x.jsxs(_e,{mih:300,style:{width:"100%",overflow:"scroll"},children:[u==="success"&&l?x.jsxs(Xn,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[x.jsx(Xn.Thead,{children:x.jsx(Xn.Tr,{children:l.header.map(p=>x.jsx(Xn.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(p)?200:void 0},children:x.jsxs(Rt,{direction:"row",justify:"space-between",align:"center",children:[p,!eAe.includes(p)&&x.jsx(tr,{onClick:()=>o(s.filter(m=>m!==p)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:x.jsx(Lv,{size:16})})]})},p))})}),x.jsx(Xn.Tbody,{children:l.rows.slice(0,5).map((p,m)=>x.jsx(Xn.Tr,{children:l.header.map(g=>x.jsx(Xn.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(g)?"normal":"nowrap"},children:p[g]},`${m}-${g}`))},m))})]}):u==="error"&&c?x.jsx(Xf,{variant:"light",children:c.message}):null,x.jsx(rc,{visible:u==="pending"||u==="idle"})]}),x.jsx(Ju,{h:"sm"}),x.jsx(Rt,{justify:"center",fz:"sm",c:"dimmed",children:x.jsx(Ue,{children:h})}),x.jsx(Ju,{h:"md"}),x.jsxs(_i,{justify:"right",children:[x.jsx(Wt,{onClick:t,color:"dark",variant:"subtle",children:"Close"}),x.jsx(Wt,{leftSection:x.jsx(Uwe,{}),onClick:d,"data-autofocus":!0,children:"Download"}),i==="__revisit-widget"&&x.jsx(Wt,{onClick:f,children:x.jsx(DYe,{})})]})]})}function t2t(){const e=Cu(),{storageEngine:t}=Qi(),n=Lg(),[r,i]=D.useState(!1);D.useEffect(()=>{if(n){i(!0);return}const w=setInterval(async()=>{await t.verifyCompletion()&&(i(!0),clearInterval(w))},1e3)},[]),Zke();const[s,o]=D.useState(),[a,l]=D.useState(""),u=e.studyMetadata.title.replace(" ","_");D.useEffect(()=>{async function w(){if(t){const E=await t.getCurrentParticipantId(),C=await t.getParticipantData();l(E),o(C)}}w()},[t]);const c=D.useCallback(async()=>{XK(JSON.stringify(s,null,2),`${u}_${a}.json`)},[u,s,a]),d=e.uiConfig.autoDownloadStudy||!1,f=d&&e.uiConfig.autoDownloadTime||-1,[h,p]=D.useState(Math.floor(f/1e3));D.useEffect(()=>{if(r){const w=setInterval(()=>{p(E=>E-1)},1e3);return h<=0?(d&&c(),clearInterval(w),()=>clearInterval(w)):()=>clearInterval(w)}return()=>{}},[d,r,h,c]);const m=Oh(),[g,v]=D.useState(!1);D.useEffect(()=>{(async()=>{if(t){const E=await t.getModes(m);v(E.dataCollectionEnabled)}})()},[t,m]);const y=D.useMemo(()=>{const{studyEndMsg:w,urlParticipantIdParam:E}=e.uiConfig;return!E||!(w!=null&&w.includes("{PARTICIPANT_ID}"))?w:w.replace(/\{PARTICIPANT_ID\}/g,()=>a)},[e,a]);return x.jsx(Ga,{style:{height:"100%"},children:x.jsx(Rt,{direction:"column",children:r||!g?y?x.jsx(uh,{text:y}):x.jsx(Ue,{size:"xl",display:"block",children:"Thank you for completing the study. You may close this window now."}):x.jsxs(x.Fragment,{children:[x.jsx(Ue,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),x.jsx(Ju,{h:"lg"}),x.jsx(Ga,{children:x.jsx(Bd,{color:"blue"})})]})})})}function n2t(){return x.jsx(Ue,{children:"Thank you for participating. Unfortunately you have didn't answer the training correctly, which means you are not eligible to participate in the study. You may close this window now."})}function r2t(){return x.jsx(Ue,{children:"Thank you for participating. Unfortunately, you have not answered the questions within the given time limit. Because of this, you are no longer eligible to participate in the study. You may close this window now."})}const Jce={};function rq(e,t){e===void 0&&(e=Jce),t===void 0&&(t=Jce);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var i2t=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),s2t=Object.prototype.hasOwnProperty;function iq(e,t){return s2t.call(e,t)}function sq(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)iq(e,i)&&r.push(i);return r}function ou(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function oq(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Wy(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function tAe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function aq(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(aq(e[t]))return!0}else if(typeof e=="object"){for(var r=sq(e),i=r.length,s=0;s<i;s++)if(aq(e[r[s]]))return!0}}return!1}function Zce(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var nAe=(function(e){i2t(t,e);function t(n,r,i,s,o){var a=this.constructor,l=e.call(this,Zce(n,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=Zce(n,{name:r,index:i,operation:s,tree:o}),l}return t})(Error),Vi=nAe,o2t=ou,$w={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=p4(n,this.path);r&&(r=ou(r));var i=kv(n,{op:"remove",path:this.from}).removed;return kv(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=p4(n,this.from);return kv(n,{op:"add",path:this.path,value:ou(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:sT(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},a2t={add:function(e,t,n){return oq(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:$w.move,copy:$w.copy,test:$w.test,_get:$w._get};function p4(e,t){if(t=="")return e;var n={op:"_get",path:t};return kv(e,n),n.value}function kv(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):m4(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=p4(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=sT(e,t.value),o.test===!1)throw new Vi("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Vi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=ou(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=m4;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=tAe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!oq(h))throw new Vi("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);oq(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new Vi("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=a2t[t.op].call(t,u,h,e);if(o.test===!1)throw new Vi("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=d){var o=$w[t.op].call(t,u,h,e);if(o.test===!1)throw new Vi("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new Vi("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function k6(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Vi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=ou(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=kv(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function l2t(e,t,n){var r=kv(e,t);if(r.test===!1)throw new Vi("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function m4(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Vi("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if($w[e.op]){if(typeof e.path!="string")throw new Vi("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Vi('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Vi("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Vi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&aq(e.value))throw new Vi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Vi("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Vi("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=rAe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Vi("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Vi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function rAe(e,t,n){try{if(!Array.isArray(e))throw new Vi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)k6(ou(t),ou(e),n||!0);else{n=n||m4;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Vi)return i;throw i}}function sT(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!sT(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!sT(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const u2t=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Vi,_areEquals:sT,applyOperation:kv,applyPatch:k6,applyReducer:l2t,deepClone:o2t,getValueByPointer:p4,validate:rAe,validator:m4},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var QK=new WeakMap,c2t=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),d2t=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function f2t(e){return QK.get(e)}function h2t(e,t){return e.observers.get(t)}function p2t(e,t){e.observers.delete(t.callback)}function m2t(e,t){t.unobserve()}function g2t(e,t){var n=[],r,i=f2t(e);if(!i)i=new c2t(e),QK.set(e,i);else{var s=h2t(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=ou(e),t){r.callback=t,r.next=null;var o=function(){lq(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){lq(r),clearTimeout(r.next),p2t(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new d2t(t,r)),r}function lq(e,t){t===void 0&&(t=!1);var n=QK.get(e.object);JK(n.value,e.object,e.patches,"",t),e.patches.length&&k6(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function JK(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=sq(t),o=sq(e),a=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(iq(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?JK(c,d,n,r+"/"+Wy(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Wy(u),value:ou(c)}),n.push({op:"replace",path:r+"/"+Wy(u),value:ou(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Wy(u),value:ou(c)}),n.push({op:"remove",path:r+"/"+Wy(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var l=0;l<s.length;l++){var u=s[l];!iq(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Wy(u),value:ou(t[u])})}}}function y2t(e,t,n){n===void 0&&(n=!1);var r=[];return JK(e,t,r,"",n),r}const v2t=Object.freeze(Object.defineProperty({__proto__:null,compare:y2t,generate:lq,observe:g2t,unobserve:m2t},Symbol.toStringTag,{value:"Module"}));Object.assign({},u2t,v2t,{JsonPatchError:nAe,deepClone:ou,escapePathComponent:Wy,unescapePathComponent:tAe});var Aj,ede;function b2t(){if(ede)return Aj;ede=1;var e=/("(?:[^\\"]|\\.)*")|[:,]/g;return Aj=function(n,r){var i,s,o;return r=r||{},i=JSON.stringify([1],void 0,r.indent===void 0?2:r.indent).slice(2,-3),s=i===""?1/0:r.maxLength===void 0?80:r.maxLength,o=r.replacer,(function a(l,u,c){var d,f,h,p,m,g,v,y,w,E,C,S;if(l&&typeof l.toJSON=="function"&&(l=l.toJSON()),C=JSON.stringify(l,o),C===void 0)return C;if(v=s-u.length-c,C.length<=v&&(w=C.replace(e,function(T,k){return k||T+" "}),w.length<=v))return w;if(o!=null&&(l=JSON.parse(C),o=void 0),typeof l=="object"&&l!==null){if(y=u+i,h=[],f=0,Array.isArray(l))for(E="[",d="]",v=l.length;f<v;f++)h.push(a(l[f],y,f===v-1?0:1)||"null");else for(E="{",d="}",g=Object.keys(l),v=g.length;f<v;f++)p=g[f],m=JSON.stringify(p)+": ",S=a(l[p],y,m.length+(f===v-1?0:1)),S!==void 0&&h.push(m+S);if(h.length>0)return[E,i+h.join(`,
`+y),d].join(`
`+u)}return C})(n,"",0)},Aj}var w2t=b2t();const Ij=qs(w2t);var uR={exports:{}},Rj,tde;function A6(){if(tde)return Rj;tde=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return Rj={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Rj}var Dj,nde;function I6(){if(nde)return Dj;nde=1;var e={};return Dj=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Dj}var rde;function Tk(){return rde||(rde=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=A6(),s=I6();t=e.exports={};const o=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],p=g=>{for(const[v,y]of h)g=g.split(`${v}*`).join(`${v}{0,${y}}`).split(`${v}+`).join(`${v}{1,${y}}`);return g},m=(g,v,y)=>{const w=p(v),E=d++;s(g,E,v),c[g]=E,l[E]=v,u[E]=w,o[E]=new RegExp(v,y?"g":void 0),a[E]=new RegExp(w,y?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),m("FULL",`^${l[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),m("LOOSE",`^${l[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),m("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[c.COERCE],!0),m("COERCERTLFULL",l[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(uR,uR.exports)),uR.exports}var Pj,ide;function ZK(){if(ide)return Pj;ide=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Pj=r=>r?typeof r!="object"?e:r:t,Pj}var Oj,sde;function iAe(){if(sde)return Oj;sde=1;const e=/^[0-9]+$/,t=(r,i)=>{const s=e.test(r),o=e.test(i);return s&&o&&(r=+r,i=+i),r===i?0:s&&!o?-1:o&&!s?1:r<i?-1:1};return Oj={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},Oj}var Nj,ode;function il(){if(ode)return Nj;ode=1;const e=I6(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=A6(),{safeRe:r,t:i}=Tk(),s=ZK(),{compareIdentifiers:o}=iAe();class a{constructor(u,c){if(c=s(c),u instanceof a){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const d=u.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(f=>{if(/^[0-9]+$/.test(f)){const h=+f;if(h>=0&&h<n)return h}return f}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof a)){if(typeof u=="string"&&u===this.version)return 0;u=new a(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof a||(u=new a(u,this.options)),o(this.major,u.major)||o(this.minor,u.minor)||o(this.patch,u.patch)}comparePre(u){if(u instanceof a||(u=new a(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const d=this.prerelease[c],f=u.prerelease[c];if(e("prerelease compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return o(d,f)}while(++c)}compareBuild(u){u instanceof a||(u=new a(u,this.options));let c=0;do{const d=this.build[c],f=u.build[c];if(e("build compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return o(d,f)}while(++c)}inc(u,c,d){if(u.startsWith("pre")){if(!c&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(c){const f=`-${c}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!f||f[1]!==c)throw new Error(`invalid identifier: ${c}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,d),this.inc("pre",c,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,d),this.inc("pre",c,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const f=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[f];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(c===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(f)}}if(c){let h=[c,f];d===!1&&(h=[c]),o(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Nj=a,Nj}var $j,ade;function Z_(){if(ade)return $j;ade=1;const e=il();return $j=(n,r,i=!1)=>{if(n instanceof e)return n;try{return new e(n,r)}catch(s){if(!i)return null;throw s}},$j}var Mj,lde;function x2t(){if(lde)return Mj;lde=1;const e=Z_();return Mj=(n,r)=>{const i=e(n,r);return i?i.version:null},Mj}var Fj,ude;function _2t(){if(ude)return Fj;ude=1;const e=Z_();return Fj=(n,r)=>{const i=e(n.trim().replace(/^[=v]+/,""),r);return i?i.version:null},Fj}var Lj,cde;function E2t(){if(cde)return Lj;cde=1;const e=il();return Lj=(n,r,i,s,o)=>{typeof i=="string"&&(o=s,s=i,i=void 0);try{return new e(n instanceof e?n.version:n,i).inc(r,s,o).version}catch{return null}},Lj}var jj,dde;function C2t(){if(dde)return jj;dde=1;const e=Z_();return jj=(n,r)=>{const i=e(n,null,!0),s=e(r,null,!0),o=i.compare(s);if(o===0)return null;const a=o>0,l=a?i:s,u=a?s:i,c=!!l.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}const f=c?"pre":"";return i.major!==s.major?f+"major":i.minor!==s.minor?f+"minor":i.patch!==s.patch?f+"patch":"prerelease"},jj}var Bj,fde;function S2t(){if(fde)return Bj;fde=1;const e=il();return Bj=(n,r)=>new e(n,r).major,Bj}var zj,hde;function T2t(){if(hde)return zj;hde=1;const e=il();return zj=(n,r)=>new e(n,r).minor,zj}var Uj,pde;function k2t(){if(pde)return Uj;pde=1;const e=il();return Uj=(n,r)=>new e(n,r).patch,Uj}var qj,mde;function A2t(){if(mde)return qj;mde=1;const e=Z_();return qj=(n,r)=>{const i=e(n,r);return i&&i.prerelease.length?i.prerelease:null},qj}var Hj,gde;function Yd(){if(gde)return Hj;gde=1;const e=il();return Hj=(n,r,i)=>new e(n,i).compare(new e(r,i)),Hj}var Vj,yde;function I2t(){if(yde)return Vj;yde=1;const e=Yd();return Vj=(n,r,i)=>e(r,n,i),Vj}var Wj,vde;function R2t(){if(vde)return Wj;vde=1;const e=Yd();return Wj=(n,r)=>e(n,r,!0),Wj}var Gj,bde;function eX(){if(bde)return Gj;bde=1;const e=il();return Gj=(n,r,i)=>{const s=new e(n,i),o=new e(r,i);return s.compare(o)||s.compareBuild(o)},Gj}var Yj,wde;function D2t(){if(wde)return Yj;wde=1;const e=eX();return Yj=(n,r)=>n.sort((i,s)=>e(i,s,r)),Yj}var Kj,xde;function P2t(){if(xde)return Kj;xde=1;const e=eX();return Kj=(n,r)=>n.sort((i,s)=>e(s,i,r)),Kj}var Xj,_de;function R6(){if(_de)return Xj;_de=1;const e=Yd();return Xj=(n,r,i)=>e(n,r,i)>0,Xj}var Qj,Ede;function tX(){if(Ede)return Qj;Ede=1;const e=Yd();return Qj=(n,r,i)=>e(n,r,i)<0,Qj}var Jj,Cde;function sAe(){if(Cde)return Jj;Cde=1;const e=Yd();return Jj=(n,r,i)=>e(n,r,i)===0,Jj}var Zj,Sde;function oAe(){if(Sde)return Zj;Sde=1;const e=Yd();return Zj=(n,r,i)=>e(n,r,i)!==0,Zj}var e9,Tde;function nX(){if(Tde)return e9;Tde=1;const e=Yd();return e9=(n,r,i)=>e(n,r,i)>=0,e9}var t9,kde;function rX(){if(kde)return t9;kde=1;const e=Yd();return t9=(n,r,i)=>e(n,r,i)<=0,t9}var n9,Ade;function aAe(){if(Ade)return n9;Ade=1;const e=sAe(),t=oAe(),n=R6(),r=nX(),i=tX(),s=rX();return n9=(a,l,u,c)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return e(a,u,c);case"!=":return t(a,u,c);case">":return n(a,u,c);case">=":return r(a,u,c);case"<":return i(a,u,c);case"<=":return s(a,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},n9}var r9,Ide;function O2t(){if(Ide)return r9;Ide=1;const e=il(),t=Z_(),{safeRe:n,t:r}=Tk();return r9=(s,o)=>{if(s instanceof e)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;o=o||{};let a=null;if(!o.rtl)a=s.match(o.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const h=o.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let p;for(;(p=h.exec(s))&&(!a||a.index+a[0].length!==s.length);)(!a||p.index+p[0].length!==a.index+a[0].length)&&(a=p),h.lastIndex=p.index+p[1].length+p[2].length;h.lastIndex=-1}if(a===null)return null;const l=a[2],u=a[3]||"0",c=a[4]||"0",d=o.includePrerelease&&a[5]?`-${a[5]}`:"",f=o.includePrerelease&&a[6]?`+${a[6]}`:"";return t(`${l}.${u}.${c}${d}${f}`,o)},r9}var i9,Rde;function N2t(){if(Rde)return i9;Rde=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(n,r)}return this}}return i9=e,i9}var s9,Dde;function Kd(){if(Dde)return s9;Dde=1;const e=/\s+/g;class t{constructor(U,B){if(B=i(B),U instanceof t)return U.loose===!!B.loose&&U.includePrerelease===!!B.includePrerelease?U:new t(U.raw,B);if(U instanceof s)return this.raw=U.value,this.set=[[U]],this.formatted=void 0,this;if(this.options=B,this.loose=!!B.loose,this.includePrerelease=!!B.includePrerelease,this.raw=U.trim().replace(e," "),this.set=this.raw.split("||").map(V=>this.parseRange(V.trim())).filter(V=>V.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const V=this.set[0];if(this.set=this.set.filter(G=>!m(G[0])),this.set.length===0)this.set=[V];else if(this.set.length>1){for(const G of this.set)if(G.length===1&&g(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let U=0;U<this.set.length;U++){U>0&&(this.formatted+="||");const B=this.set[U];for(let V=0;V<B.length;V++)V>0&&(this.formatted+=" "),this.formatted+=B[V].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(U){const V=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+U,G=r.get(V);if(G)return G;const Y=this.options.loose,z=Y?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];U=U.replace(z,M(this.options.includePrerelease)),o("hyphen replace",U),U=U.replace(l[u.COMPARATORTRIM],c),o("comparator trim",U),U=U.replace(l[u.TILDETRIM],d),o("tilde trim",U),U=U.replace(l[u.CARETTRIM],f),o("caret trim",U);let F=U.split(" ").map(J=>y(J,this.options)).join(" ").split(/\s+/).map(J=>O(J,this.options));Y&&(F=F.filter(J=>(o("loose invalid filter",J,this.options),!!J.match(l[u.COMPARATORLOOSE])))),o("range list",F);const W=new Map,q=F.map(J=>new s(J,this.options));for(const J of q){if(m(J))return[J];W.set(J.value,J)}W.size>1&&W.has("")&&W.delete("");const K=[...W.values()];return r.set(V,K),K}intersects(U,B){if(!(U instanceof t))throw new TypeError("a Range is required");return this.set.some(V=>v(V,B)&&U.set.some(G=>v(G,B)&&V.every(Y=>G.every(z=>Y.intersects(z,B)))))}test(U){if(!U)return!1;if(typeof U=="string")try{U=new a(U,this.options)}catch{return!1}for(let B=0;B<this.set.length;B++)if($(this.set[B],U,this.options))return!0;return!1}}s9=t;const n=N2t(),r=new n,i=ZK(),s=D6(),o=I6(),a=il(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:f}=Tk(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=A6(),m=L=>L.value==="<0.0.0-0",g=L=>L.value==="",v=(L,U)=>{let B=!0;const V=L.slice();let G=V.pop();for(;B&&V.length;)B=V.every(Y=>G.intersects(Y,U)),G=V.pop();return B},y=(L,U)=>(o("comp",L,U),L=S(L,U),o("caret",L),L=E(L,U),o("tildes",L),L=k(L,U),o("xrange",L),L=R(L,U),o("stars",L),L),w=L=>!L||L.toLowerCase()==="x"||L==="*",E=(L,U)=>L.trim().split(/\s+/).map(B=>C(B,U)).join(" "),C=(L,U)=>{const B=U.loose?l[u.TILDELOOSE]:l[u.TILDE];return L.replace(B,(V,G,Y,z,F)=>{o("tilde",L,V,G,Y,z,F);let W;return w(G)?W="":w(Y)?W=`>=${G}.0.0 <${+G+1}.0.0-0`:w(z)?W=`>=${G}.${Y}.0 <${G}.${+Y+1}.0-0`:F?(o("replaceTilde pr",F),W=`>=${G}.${Y}.${z}-${F} <${G}.${+Y+1}.0-0`):W=`>=${G}.${Y}.${z} <${G}.${+Y+1}.0-0`,o("tilde return",W),W})},S=(L,U)=>L.trim().split(/\s+/).map(B=>T(B,U)).join(" "),T=(L,U)=>{o("caret",L,U);const B=U.loose?l[u.CARETLOOSE]:l[u.CARET],V=U.includePrerelease?"-0":"";return L.replace(B,(G,Y,z,F,W)=>{o("caret",L,G,Y,z,F,W);let q;return w(Y)?q="":w(z)?q=`>=${Y}.0.0${V} <${+Y+1}.0.0-0`:w(F)?Y==="0"?q=`>=${Y}.${z}.0${V} <${Y}.${+z+1}.0-0`:q=`>=${Y}.${z}.0${V} <${+Y+1}.0.0-0`:W?(o("replaceCaret pr",W),Y==="0"?z==="0"?q=`>=${Y}.${z}.${F}-${W} <${Y}.${z}.${+F+1}-0`:q=`>=${Y}.${z}.${F}-${W} <${Y}.${+z+1}.0-0`:q=`>=${Y}.${z}.${F}-${W} <${+Y+1}.0.0-0`):(o("no pr"),Y==="0"?z==="0"?q=`>=${Y}.${z}.${F}${V} <${Y}.${z}.${+F+1}-0`:q=`>=${Y}.${z}.${F}${V} <${Y}.${+z+1}.0-0`:q=`>=${Y}.${z}.${F} <${+Y+1}.0.0-0`),o("caret return",q),q})},k=(L,U)=>(o("replaceXRanges",L,U),L.split(/\s+/).map(B=>I(B,U)).join(" ")),I=(L,U)=>{L=L.trim();const B=U.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return L.replace(B,(V,G,Y,z,F,W)=>{o("xRange",L,V,G,Y,z,F,W);const q=w(Y),K=q||w(z),J=K||w(F),te=J;return G==="="&&te&&(G=""),W=U.includePrerelease?"-0":"",q?G===">"||G==="<"?V="<0.0.0-0":V="*":G&&te?(K&&(z=0),F=0,G===">"?(G=">=",K?(Y=+Y+1,z=0,F=0):(z=+z+1,F=0)):G==="<="&&(G="<",K?Y=+Y+1:z=+z+1),G==="<"&&(W="-0"),V=`${G+Y}.${z}.${F}${W}`):K?V=`>=${Y}.0.0${W} <${+Y+1}.0.0-0`:J&&(V=`>=${Y}.${z}.0${W} <${Y}.${+z+1}.0-0`),o("xRange return",V),V})},R=(L,U)=>(o("replaceStars",L,U),L.trim().replace(l[u.STAR],"")),O=(L,U)=>(o("replaceGTE0",L,U),L.trim().replace(l[U.includePrerelease?u.GTE0PRE:u.GTE0],"")),M=L=>(U,B,V,G,Y,z,F,W,q,K,J,te)=>(w(V)?B="":w(G)?B=`>=${V}.0.0${L?"-0":""}`:w(Y)?B=`>=${V}.${G}.0${L?"-0":""}`:z?B=`>=${B}`:B=`>=${B}${L?"-0":""}`,w(q)?W="":w(K)?W=`<${+q+1}.0.0-0`:w(J)?W=`<${q}.${+K+1}.0-0`:te?W=`<=${q}.${K}.${J}-${te}`:L?W=`<${q}.${K}.${+J+1}-0`:W=`<=${W}`,`${B} ${W}`.trim()),$=(L,U,B)=>{for(let V=0;V<L.length;V++)if(!L[V].test(U))return!1;if(U.prerelease.length&&!B.includePrerelease){for(let V=0;V<L.length;V++)if(o(L[V].semver),L[V].semver!==s.ANY&&L[V].semver.prerelease.length>0){const G=L[V].semver;if(G.major===U.major&&G.minor===U.minor&&G.patch===U.patch)return!0}return!1}return!0};return s9}var o9,Pde;function D6(){if(Pde)return o9;Pde=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=c.match(d);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}o9=t;const n=ZK(),{safeRe:r,t:i}=Tk(),s=aAe(),o=I6(),a=il(),l=Kd();return o9}var a9,Ode;function P6(){if(Ode)return a9;Ode=1;const e=Kd();return a9=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},a9}var l9,Nde;function $2t(){if(Nde)return l9;Nde=1;const e=Kd();return l9=(n,r)=>new e(n,r).set.map(i=>i.map(s=>s.value).join(" ").trim().split(" ")),l9}var u9,$de;function M2t(){if($de)return u9;$de=1;const e=il(),t=Kd();return u9=(r,i,s)=>{let o=null,a=null,l=null;try{l=new t(i,s)}catch{return null}return r.forEach(u=>{l.test(u)&&(!o||a.compare(u)===-1)&&(o=u,a=new e(o,s))}),o},u9}var c9,Mde;function F2t(){if(Mde)return c9;Mde=1;const e=il(),t=Kd();return c9=(r,i,s)=>{let o=null,a=null,l=null;try{l=new t(i,s)}catch{return null}return r.forEach(u=>{l.test(u)&&(!o||a.compare(u)===1)&&(o=u,a=new e(o,s))}),o},c9}var d9,Fde;function L2t(){if(Fde)return d9;Fde=1;const e=il(),t=Kd(),n=R6();return d9=(i,s)=>{i=new t(i,s);let o=new e("0.0.0");if(i.test(o)||(o=new e("0.0.0-0"),i.test(o)))return o;o=null;for(let a=0;a<i.set.length;++a){const l=i.set[a];let u=null;l.forEach(c=>{const d=new e(c.semver.version);switch(c.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!u||n(d,u))&&(u=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),u&&(!o||n(o,u))&&(o=u)}return o&&i.test(o)?o:null},d9}var f9,Lde;function j2t(){if(Lde)return f9;Lde=1;const e=Kd();return f9=(n,r)=>{try{return new e(n,r).range||"*"}catch{return null}},f9}var h9,jde;function iX(){if(jde)return h9;jde=1;const e=il(),t=D6(),{ANY:n}=t,r=Kd(),i=P6(),s=R6(),o=tX(),a=rX(),l=nX();return h9=(c,d,f,h)=>{c=new e(c,h),d=new r(d,h);let p,m,g,v,y;switch(f){case">":p=s,m=a,g=o,v=">",y=">=";break;case"<":p=o,m=l,g=s,v="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(c,d,h))return!1;for(let w=0;w<d.set.length;++w){const E=d.set[w];let C=null,S=null;if(E.forEach(T=>{T.semver===n&&(T=new t(">=0.0.0")),C=C||T,S=S||T,p(T.semver,C.semver,h)?C=T:g(T.semver,S.semver,h)&&(S=T)}),C.operator===v||C.operator===y||(!S.operator||S.operator===v)&&m(c,S.semver))return!1;if(S.operator===y&&g(c,S.semver))return!1}return!0},h9}var p9,Bde;function B2t(){if(Bde)return p9;Bde=1;const e=iX();return p9=(n,r,i)=>e(n,r,">",i),p9}var m9,zde;function z2t(){if(zde)return m9;zde=1;const e=iX();return m9=(n,r,i)=>e(n,r,"<",i),m9}var g9,Ude;function U2t(){if(Ude)return g9;Ude=1;const e=Kd();return g9=(n,r,i)=>(n=new e(n,i),r=new e(r,i),n.intersects(r,i)),g9}var y9,qde;function q2t(){if(qde)return y9;qde=1;const e=P6(),t=Yd();return y9=(n,r,i)=>{const s=[];let o=null,a=null;const l=n.sort((f,h)=>t(f,h,i));for(const f of l)e(f,r,i)?(a=f,o||(o=f)):(a&&s.push([o,a]),a=null,o=null);o&&s.push([o,null]);const u=[];for(const[f,h]of s)f===h?u.push(f):!h&&f===l[0]?u.push("*"):h?f===l[0]?u.push(`<=${h}`):u.push(`${f} - ${h}`):u.push(`>=${f}`);const c=u.join(" || "),d=typeof r.raw=="string"?r.raw:String(r);return c.length<d.length?c:r},y9}var v9,Hde;function H2t(){if(Hde)return v9;Hde=1;const e=Kd(),t=D6(),{ANY:n}=t,r=P6(),i=Yd(),s=(d,f,h={})=>{if(d===f)return!0;d=new e(d,h),f=new e(f,h);let p=!1;e:for(const m of d.set){for(const g of f.set){const v=l(m,g,h);if(p=p||v!==null,v)continue e}if(p)return!1}return!0},o=[new t(">=0.0.0-0")],a=[new t(">=0.0.0")],l=(d,f,h)=>{if(d===f)return!0;if(d.length===1&&d[0].semver===n){if(f.length===1&&f[0].semver===n)return!0;h.includePrerelease?d=o:d=a}if(f.length===1&&f[0].semver===n){if(h.includePrerelease)return!0;f=a}const p=new Set;let m,g;for(const k of d)k.operator===">"||k.operator===">="?m=u(m,k,h):k.operator==="<"||k.operator==="<="?g=c(g,k,h):p.add(k.semver);if(p.size>1)return null;let v;if(m&&g){if(v=i(m.semver,g.semver,h),v>0)return null;if(v===0&&(m.operator!==">="||g.operator!=="<="))return null}for(const k of p){if(m&&!r(k,String(m),h)||g&&!r(k,String(g),h))return null;for(const I of f)if(!r(k,String(I),h))return!1;return!0}let y,w,E,C,S=g&&!h.includePrerelease&&g.semver.prerelease.length?g.semver:!1,T=m&&!h.includePrerelease&&m.semver.prerelease.length?m.semver:!1;S&&S.prerelease.length===1&&g.operator==="<"&&S.prerelease[0]===0&&(S=!1);for(const k of f){if(C=C||k.operator===">"||k.operator===">=",E=E||k.operator==="<"||k.operator==="<=",m){if(T&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===T.major&&k.semver.minor===T.minor&&k.semver.patch===T.patch&&(T=!1),k.operator===">"||k.operator===">="){if(y=u(m,k,h),y===k&&y!==m)return!1}else if(m.operator===">="&&!r(m.semver,String(k),h))return!1}if(g){if(S&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===S.major&&k.semver.minor===S.minor&&k.semver.patch===S.patch&&(S=!1),k.operator==="<"||k.operator==="<="){if(w=c(g,k,h),w===k&&w!==g)return!1}else if(g.operator==="<="&&!r(g.semver,String(k),h))return!1}if(!k.operator&&(g||m)&&v!==0)return!1}return!(m&&E&&!g&&v!==0||g&&C&&!m&&v!==0||T||S)},u=(d,f,h)=>{if(!d)return f;const p=i(d.semver,f.semver,h);return p>0?d:p<0||f.operator===">"&&d.operator===">="?f:d},c=(d,f,h)=>{if(!d)return f;const p=i(d.semver,f.semver,h);return p<0?d:p>0||f.operator==="<"&&d.operator==="<="?f:d};return v9=s,v9}var b9,Vde;function V2t(){if(Vde)return b9;Vde=1;const e=Tk(),t=A6(),n=il(),r=iAe(),i=Z_(),s=x2t(),o=_2t(),a=E2t(),l=C2t(),u=S2t(),c=T2t(),d=k2t(),f=A2t(),h=Yd(),p=I2t(),m=R2t(),g=eX(),v=D2t(),y=P2t(),w=R6(),E=tX(),C=sAe(),S=oAe(),T=nX(),k=rX(),I=aAe(),R=O2t(),O=D6(),M=Kd(),$=P6(),L=$2t(),U=M2t(),B=F2t(),V=L2t(),G=j2t(),Y=iX(),z=B2t(),F=z2t(),W=U2t(),q=q2t(),K=H2t();return b9={parse:i,valid:s,clean:o,inc:a,diff:l,major:u,minor:c,patch:d,prerelease:f,compare:h,rcompare:p,compareLoose:m,compareBuild:g,sort:v,rsort:y,gt:w,lt:E,eq:C,neq:S,gte:T,lte:k,cmp:I,coerce:R,Comparator:O,Range:M,satisfies:$,toComparators:L,maxSatisfying:U,minSatisfying:B,minVersion:V,validRange:G,outside:Y,gtr:z,ltr:F,intersects:W,simplifyRange:q,subset:K,SemVer:n,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},b9}var lAe=V2t();function Hl(e,t,n){return e.fields=t||[],e.fname=n,e}function Ki(e){return e==null?null:e.fname}function fa(e){return e==null?null:e.fields}function uAe(e){return e.length===1?W2t(e[0]):G2t(e)}const W2t=e=>function(t){return t[e]},G2t=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function et(e){throw Error(e)}function $h(e){const t=[],n=e.length;let r=null,i=0,s="",o,a,l;e=e+"";function u(){t.push(s+e.substring(o,a)),s="",o=a+1}for(o=a=0;a<n;++a)if(l=e[a],l==="\\")s+=e.substring(o,a++),o=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;o===i&&l==='"'||o===i&&l==="'"?(o=a+1,r=l):l==="."&&!i?a>o?u():o=a+1:l==="["?(a>o&&u(),i=o=a+1):l==="]"&&(i||et("Access path missing open bracket: "+e),i>0&&u(),i=0,o=a+1)}return i&&et("Access path missing closing bracket: "+e),r&&et("Access path missing closing quote: "+e),a>o&&(a++,u()),t}function ac(e,t,n){const r=$h(e);return e=r.length===1?r[0]:e,Hl((n&&n.get||uAe)(r),[e],t||e)}const kk=ac("id"),ba=Hl(e=>e,[],"identity"),T0=Hl(()=>0,[],"zero"),eE=Hl(()=>1,[],"one"),lc=Hl(()=>!0,[],"true"),l0=Hl(()=>!1,[],"false");function Y2t(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const cAe=0,sX=1,oX=2,dAe=3,fAe=4;function aX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y2t,r=e||cAe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=sX&&n(t||"error","ERROR",arguments),this},warn(){return r>=oX&&n(t||"warn","WARN",arguments),this},info(){return r>=dAe&&n(t||"log","INFO",arguments),this},debug(){return r>=fAe&&n(t||"log","DEBUG",arguments),this}}}var nt=Array.isArray;function Mt(e){return e===Object(e)}const Wde=e=>e!=="__proto__";function tE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const s in i)if(s==="signals")r.signals=K2t(r.signals,i.signals);else{const o=s==="legend"?{layout:1}:s==="style"?!0:null;nE(r,s,i[s],o)}return r},{})}function nE(e,t,n,r){if(!Wde(t))return;let i,s;if(Mt(n)&&!nt(n)){s=Mt(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?nE(s,i,n[i]):Wde(i)&&(s[i]=n[i])}else e[t]=n}function K2t(e,t){if(e==null)return t;const n={},r=[];function i(s){n[s.name]||(n[s.name]=1,r.push(s))}return t.forEach(i),e.forEach(i),r}function lr(e){return e[e.length-1]}function ca(e){return e==null||e===""?null:+e}const hAe=e=>t=>e*Math.exp(t),pAe=e=>t=>Math.log(e*t),mAe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),gAe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,g4=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function O6(e,t,n,r){const i=n(e[0]),s=n(lr(e)),o=(s-i)*t;return[r(i-o),r(s-o)]}function yAe(e,t){return O6(e,t,ca,ba)}function vAe(e,t){var n=Math.sign(e[0]);return O6(e,t,pAe(n),hAe(n))}function bAe(e,t,n){return O6(e,t,g4(n),g4(1/n))}function wAe(e,t,n){return O6(e,t,mAe(n),gAe(n))}function N6(e,t,n,r,i){const s=r(e[0]),o=r(lr(e)),a=t!=null?r(t):(s+o)/2;return[i(a+(s-a)*n),i(a+(o-a)*n)]}function lX(e,t,n){return N6(e,t,n,ca,ba)}function uX(e,t,n){const r=Math.sign(e[0]);return N6(e,t,n,pAe(r),hAe(r))}function y4(e,t,n,r){return N6(e,t,n,g4(r),g4(1/r))}function cX(e,t,n,r){return N6(e,t,n,mAe(r),gAe(r))}function xAe(e){return 1+~~(new Date(e).getMonth()/3)}function _Ae(e){return 1+~~(new Date(e).getUTCMonth()/3)}function $t(e){return e!=null?nt(e)?e:[e]:[]}function EAe(e,t,n){let r=e[0],i=e[1],s;return i<r&&(s=i,i=r,r=s),s=i-r,s>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-s),r+s]}function $n(e){return typeof e=="function"}const X2t="descending";function dX(e,t,n){n=n||{},t=$t(t)||[];const r=[],i=[],s={},o=n.comparator||Q2t;return $t(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===X2t?-1:1),i.push(a=$n(a)?a:ac(a,null,n)),(fa(a)||[]).forEach(u=>s[u]=1))}),i.length===0?null:Hl(o(i,r),Object.keys(s))}const Ak=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),Q2t=(e,t)=>e.length===1?J2t(e[0],t[0]):Z2t(e,t,e.length),J2t=(e,t)=>function(n,r){return Ak(e(n),e(r))*t},Z2t=(e,t,n)=>(t.push(0),function(r,i){let s,o=0,a=-1;for(;o===0&&++a<n;)s=e[a],o=Ak(s(r),s(i));return o*t[a]});function wa(e){return $n(e)?e:()=>e}function fX(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Nn(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function mh(e,t){let n=0,r,i,s,o;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(s=o=i;n<r;++n)i=e[n],i!=null&&(i<s&&(s=i),i>o&&(o=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(s=o=i;n<r;++n)i=t(e[n]),i!=null&&(i<s&&(s=i),i>o&&(o=i))}return[s,o]}function CAe(e,t){const n=e.length;let r=-1,i,s,o,a,l;if(t==null){for(;++r<n;)if(s=e[r],s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)s=e[r],s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,l=r))}else{for(;++r<n;)if(s=t(e[r],r,e),s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)s=t(e[r],r,e),s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,l=r))}return[a,l]}function zt(e,t){return Object.hasOwn(e,t)}const cR={};function rE(e){let t={},n;function r(s){return zt(t,s)&&t[s]!==cR}const i={size:0,empty:0,object:t,has:r,get(s){return r(s)?t[s]:void 0},set(s,o){return r(s)||(++i.size,t[s]===cR&&--i.empty),t[s]=o,this},delete(s){return r(s)&&(--i.size,++i.empty,t[s]=cR),this},clear(){i.size=i.empty=0,i.object=t={}},test(s){return arguments.length?(n=s,i):n},clean(){const s={};let o=0;for(const a in t){const l=t[a];l!==cR&&(!n||!n(l))&&(s[a]=l,++o)}i.size=o,i.empty=0,i.object=t=s}};return e&&Object.keys(e).forEach(s=>{i.set(s,e[s])}),i}function SAe(e,t,n,r,i,s){if(!n&&n!==0)return s;const o=+n;let a=e[0],l=lr(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=o?r:c<=o?i:s}function Tt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Nn(r,n)}function Mw(e,t,n,r){let i=t[0],s=t[t.length-1],o;return i>s&&(o=i,i=s,s=o),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=s:e<s)}function Bg(e){return typeof e=="boolean"}function G0(e){return Object.prototype.toString.call(e)==="[object Date]"}function TAe(e){return e&&$n(e[Symbol.iterator])}function kr(e){return typeof e=="number"}function hX(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ft(e){return typeof e=="string"}function pX(e,t,n){e&&(e=t?$t(e).map(a=>a.replace(/\\(.)/g,"$1")):$t(e));const r=e&&e.length,i=n&&n.get||uAe,s=a=>i(t?[a]:$h(a));let o;if(!r)o=function(){return""};else if(r===1){const a=s(e[0]);o=function(l){return""+a(l)}}else{const a=e.map(s);o=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return Hl(o,e,"key")}function kAe(e,t){const n=e[0],r=lr(e),i=+t;return i?i===1?r:n+i*(r-n):n}const eTt=1e4;function AAe(e){e=+e||eTt;let t,n,r;const i=()=>{t={},n={},r=0},s=(o,a)=>(++r>e&&(n=t,t={},r=1),t[o]=a);return i(),{clear:i,has:o=>zt(t,o)||zt(n,o),get:o=>zt(t,o)?t[o]:zt(n,o)?s(o,n[o]):void 0,set:(o,a)=>zt(t,o)?t[o]=a:s(o,a)}}function IAe(e,t,n,r){const i=t.length,s=n.length;if(!s)return t;if(!i)return n;const o=r||new t.constructor(i+s);let a=0,l=0,u=0;for(;a<i&&l<s;++u)o[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)o[u]=t[a];for(;l<s;++l,++u)o[u]=n[l];return o}function yS(e,t){let n="";for(;--t>=0;)n+=e;return n}function RAe(e,t,n,r){const i=n||" ",s=e+"",o=t-s.length;return o<=0?s:r==="left"?yS(i,o)+s:r==="center"?yS(i,~~(o/2))+s+yS(i,Math.ceil(o/2)):s+yS(i,o)}function Ik(e){return e&&lr(e)-e[0]||0}function Et(e){return nt(e)?"["+e.map(Et)+"]":Mt(e)||Ft(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function mX(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const tTt=e=>kr(e)||G0(e)?e:Date.parse(e);function gX(e,t){return t=t||tTt,e==null||e===""?null:t(e)}function yX(e){return e==null||e===""?null:e+""}function Dd(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function DAe(e,t,n,r){const i=r??"",s=e+"",o=s.length,a=Math.max(0,t-i.length);return o<=t?s:n==="left"?i+s.slice(o-a):n==="center"?s.slice(0,Math.ceil(a/2))+i+s.slice(o-~~(a/2)):s.slice(0,a)+i}function m0(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const s=t(e[i]);s&&n(s,i,e)}}else e.forEach(n)}function nTt(e){return e}function rTt(e){if(e==null)return nTt;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],o=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,d=new Array(c);for(d[0]=(t+=a[0])*r+s,d[1]=(n+=a[1])*i+o;u<c;)d[u]=a[u],++u;return d}}function iTt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function sTt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Gde(e,n)})}:Gde(e,t)}function Gde(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=PAe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function PAe(e,t){var n=rTt(e.transform),r=e.arcs;function i(c,d){d.length&&d.pop();for(var f=r[c<0?~c:c],h=0,p=f.length;h<p;++h)d.push(n(f[h],h));c<0&&iTt(d,p)}function s(c){return n(c)}function o(c){for(var d=[],f=0,h=c.length;f<h;++f)i(c[f],d);return d.length<2&&d.push(d[0]),d}function a(c){for(var d=o(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(a)}function u(c){var d=c.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":f=s(c.coordinates);break;case"MultiPoint":f=c.coordinates.map(s);break;case"LineString":f=o(c.arcs);break;case"MultiLineString":f=c.arcs.map(o);break;case"Polygon":f=l(c.arcs);break;case"MultiPolygon":f=c.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return u(t)}function oTt(e,t){var n={},r={},i={},s=[],o=-1;t.forEach(function(u,c){var d=e.arcs[u<0?~u:u],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=t[++o],t[o]=u,t[c]=f)}),t.forEach(function(u){var c=a(u),d=c[0],f=c[1],h,p;if(h=i[d])if(delete i[h.end],h.push(u),h.end=f,p=r[f]){delete r[p.start];var m=p===h?h:h.concat(p);r[m.start=h.start]=i[m.end=p.end]=m}else r[h.start]=i[h.end]=h;else if(h=r[f])if(delete r[h.start],h.unshift(u),h.start=d,p=i[d]){delete i[p.end];var g=p===h?h:p.concat(h);r[g.start=p.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=d]=i[h.end=f]=h});function a(u){var c=e.arcs[u<0?~u:u],d=c[0],f;return e.transform?(f=[0,0],c.forEach(function(h){f[0]+=h[0],f[1]+=h[1]})):f=c[c.length-1],u<0?[f,d]:[d,f]}function l(u,c){for(var d in u){var f=u[d];delete c[f.start],delete f.start,delete f.end,f.forEach(function(h){n[h<0?~h:h]=1}),s.push(f)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||s.push([u])}),s}function aTt(e){return PAe(e,lTt.apply(this,arguments))}function lTt(e,t,n){var r,i,s;if(arguments.length>1)r=uTt(e,t,n);else for(i=0,r=new Array(s=e.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:oTt(e,r)}}function uTt(e,t,n){var r=[],i=[],s;function o(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:s})}function a(d){d.forEach(o)}function l(d){d.forEach(a)}function u(d){d.forEach(l)}function c(d){switch(s=d,d.type){case"GeometryCollection":d.geometries.forEach(c);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return c(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}const Uo="year",Ll="quarter",ha="month",Bs="week",jl="date",la="day",gh="dayofyear",bu="hours",wu="minutes",uc="seconds",Pd="milliseconds",vX=[Uo,Ll,ha,Bs,jl,la,gh,bu,wu,uc,Pd],w9=vX.reduce((e,t,n)=>(e[t]=1+n,e),{});function bX(e){const t=$t(e).slice(),n={};return t.length||et("Missing time unit."),t.forEach(i=>{zt(w9,i)?n[i]=1:et(`Invalid time unit: ${i}.`)}),(n[Bs]||n[la]?1:0)+(n[Ll]||n[ha]||n[jl]?1:0)+(n[gh]?1:0)>1&&et(`Incompatible time units: ${e}`),t.sort((i,s)=>w9[i]-w9[s]),t}const cTt={[Uo]:"%Y ",[Ll]:"Q%q ",[ha]:"%b ",[jl]:"%d ",[Bs]:"W%U ",[la]:"%a ",[gh]:"%j ",[bu]:"%H:00",[wu]:"00:%M",[uc]:":%S",[Pd]:".%L",[`${Uo}-${ha}`]:"%Y-%m ",[`${Uo}-${ha}-${jl}`]:"%Y-%m-%d ",[`${bu}-${wu}`]:"%H:%M"};function OAe(e,t){const n=Nn({},cTt,t),r=bX(e),i=r.length;let s="",o=0,a,l;for(o=0;o<i;)for(a=r.length;a>o;--a)if(l=r.slice(o,a).join("-"),n[l]!=null){s+=n[l],o=a;break}return s.trim()}const Jy=new Date;function wX(e){return Jy.setFullYear(e),Jy.setMonth(0),Jy.setDate(1),Jy.setHours(0,0,0,0),Jy}function NAe(e){return MAe(new Date(e))}function $Ae(e){return uq(new Date(e))}function MAe(e){return zp.count(wX(e.getFullYear())-1,e)}function uq(e){return Q_.count(wX(e.getFullYear())-1,e)}function cq(e){return wX(e).getDay()}function dTt(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,s,o);return a.setFullYear(e),a}return new Date(e,t,n,r,i,s,o)}function FAe(e){return jAe(new Date(e))}function LAe(e){return dq(new Date(e))}function jAe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return W0.count(t-1,e)}function dq(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return J_.count(t-1,e)}function fq(e){return Jy.setTime(Date.UTC(e,0,1)),Jy.getUTCDay()}function fTt(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,s,o));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,s,o))}function BAe(e,t,n,r,i){const s=t||1,o=lr(e),a=(v,y,w)=>(w=w||v,hTt(n[w],r[w],v===o&&s,y)),l=new Date,u=Dd(e),c=u[Uo]?a(Uo):wa(2012),d=u[ha]?a(ha):u[Ll]?a(Ll):T0,f=u[Bs]&&u[la]?a(la,1,Bs+la):u[Bs]?a(Bs,1):u[la]?a(la,1):u[jl]?a(jl,1):u[gh]?a(gh,1):eE,h=u[bu]?a(bu):T0,p=u[wu]?a(wu):T0,m=u[uc]?a(uc):T0,g=u[Pd]?a(Pd):T0;return function(v){l.setTime(+v);const y=c(l);return i(y,d(l),f(l,y),h(l),p(l),m(l),g(l))}}function hTt(e,t,n,r){const i=n<=1?e:r?(s,o)=>r+n*Math.floor((e(s,o)-r)/n):(s,o)=>n*Math.floor(e(s,o)/n);return t?(s,o)=>t(i(s,o),o):i}function Yx(e,t,n){return t+e*7-(n+6)%7}const pTt={[Uo]:e=>e.getFullYear(),[Ll]:e=>Math.floor(e.getMonth()/3),[ha]:e=>e.getMonth(),[jl]:e=>e.getDate(),[bu]:e=>e.getHours(),[wu]:e=>e.getMinutes(),[uc]:e=>e.getSeconds(),[Pd]:e=>e.getMilliseconds(),[gh]:e=>MAe(e),[Bs]:e=>uq(e),[Bs+la]:(e,t)=>Yx(uq(e),e.getDay(),cq(t)),[la]:(e,t)=>Yx(1,e.getDay(),cq(t))},mTt={[Ll]:e=>3*e,[Bs]:(e,t)=>Yx(e,0,cq(t))};function zAe(e,t){return BAe(e,t||1,pTt,mTt,dTt)}const gTt={[Uo]:e=>e.getUTCFullYear(),[Ll]:e=>Math.floor(e.getUTCMonth()/3),[ha]:e=>e.getUTCMonth(),[jl]:e=>e.getUTCDate(),[bu]:e=>e.getUTCHours(),[wu]:e=>e.getUTCMinutes(),[uc]:e=>e.getUTCSeconds(),[Pd]:e=>e.getUTCMilliseconds(),[gh]:e=>jAe(e),[Bs]:e=>dq(e),[la]:(e,t)=>Yx(1,e.getUTCDay(),fq(t)),[Bs+la]:(e,t)=>Yx(dq(e),e.getUTCDay(),fq(t))},yTt={[Ll]:e=>3*e,[Bs]:(e,t)=>Yx(e,0,fq(t))};function UAe(e,t){return BAe(e,t||1,gTt,yTt,fTt)}const vTt={[Uo]:hh,[Ll]:eT.every(3),[ha]:eT,[Bs]:Q_,[jl]:zp,[la]:zp,[gh]:zp,[bu]:u6,[wu]:a6,[uc]:Rp,[Pd]:qx},bTt={[Uo]:ph,[Ll]:tT.every(3),[ha]:tT,[Bs]:J_,[jl]:W0,[la]:W0,[gh]:W0,[bu]:c6,[wu]:l6,[uc]:Rp,[Pd]:qx};function iE(e){return vTt[e]}function sE(e){return bTt[e]}function qAe(e,t,n){return e?e.offset(t,n):void 0}function HAe(e,t,n){return qAe(iE(e),t,n)}function VAe(e,t,n){return qAe(sE(e),t,n)}function WAe(e,t,n,r){return e?e.range(t,n,r):void 0}function GAe(e,t,n,r){return WAe(iE(e),t,n,r)}function YAe(e,t,n,r){return WAe(sE(e),t,n,r)}const vS=1e3,bS=vS*60,wS=bS*60,$6=wS*24,wTt=$6*7,Yde=$6*30,hq=$6*365,KAe=[Uo,ha,jl,bu,wu,uc,Pd],xS=KAe.slice(0,-1),_S=xS.slice(0,-1),ES=_S.slice(0,-1),xTt=ES.slice(0,-1),_Tt=[Uo,Bs],Kde=[Uo,ha],XAe=[Uo],bC=[[xS,1,vS],[xS,5,5*vS],[xS,15,15*vS],[xS,30,30*vS],[_S,1,bS],[_S,5,5*bS],[_S,15,15*bS],[_S,30,30*bS],[ES,1,wS],[ES,3,3*wS],[ES,6,6*wS],[ES,12,12*wS],[xTt,1,$6],[_Tt,1,wTt],[Kde,1,Yde],[Kde,3,3*Yde],[XAe,1,hq]];function QAe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Ik(t))/n;let i=Y_(a=>a[2]).right(bC,r),s,o;return i===bC.length?(s=XAe,o=sg(t[0]/hq,t[1]/hq,n)):i?(i=bC[r/bC[i-1][2]<bC[i][2]/r?i-1:i],s=i[0],o=i[1]):(s=KAe,o=Math.max(sg(t[0],t[1],n),1)),{units:s,step:o}}function CS(e){const t={};return n=>t[n]||(t[n]=e(n))}function ETt(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let s=CTt(r,i);const o=s<r.length?r.slice(s):"";for(;--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+o}}function CTt(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function JAe(e){const t=CS(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Gv(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return ETt(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,s,o){o=Gv(o??",f");const a=sg(r,i,s),l=Math.max(Math.abs(r),Math.abs(i));let u;if(o.precision==null)switch(o.type){case"s":return isNaN(u=qSe(a,l))||(o.precision=u),n(o,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=HSe(a,l))||(o.precision=u-(o.type==="e"));break}case"f":case"%":{isNaN(u=USe(a))||(o.precision=u-(o.type==="%")*2);break}}return t(o)}}}let pq;ZAe();function ZAe(){return pq=JAe({format:e6,formatPrefix:lK})}function eIe(e){return JAe(zSe(e))}function v4(e){return arguments.length?pq=eIe(e):pq}function Xde(e,t,n){n=n||{},Mt(n)||et(`Invalid time multi-format specifier: ${n}`);const r=t(uc),i=t(wu),s=t(bu),o=t(jl),a=t(Bs),l=t(ha),u=t(Ll),c=t(Uo),d=e(n[Pd]||".%L"),f=e(n[uc]||":%S"),h=e(n[wu]||"%I:%M"),p=e(n[bu]||"%I %p"),m=e(n[jl]||n[la]||"%a %d"),g=e(n[Bs]||"%b %d"),v=e(n[ha]||"%B"),y=e(n[Ll]||"%B"),w=e(n[Uo]||"%Y");return E=>(r(E)<E?d:i(E)<E?f:s(E)<E?h:o(E)<E?p:l(E)<E?a(E)<E?m:g:c(E)<E?u(E)<E?v:y:w)(E)}function tIe(e){const t=CS(e.format),n=CS(e.utcFormat);return{timeFormat:r=>Ft(r)?t(r):Xde(t,iE,r),utcFormat:r=>Ft(r)?n(r):Xde(n,sE,r),timeParse:CS(e.parse),utcParse:CS(e.utcParse)}}let mq;nIe();function nIe(){return mq=tIe({format:_K,parse:tTe,utcFormat:EK,utcParse:nTe})}function rIe(e){return tIe(X2e(e))}function oT(e){return arguments.length?mq=rIe(e):mq}const gq=(e,t)=>Nn({},e,t);function iIe(e,t){const n=e?eIe(e):v4(),r=t?rIe(t):oT();return gq(n,r)}function xX(e,t){const n=arguments.length;return n&&n!==2&&et("defaultLocale expects either zero or two arguments."),n?gq(v4(e),oT(t)):gq(v4(),oT())}function STt(){return ZAe(),nIe(),xX()}const TTt=/^(data:|([A-Za-z]+:)?\/\/)/,kTt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ATt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Qde="file://";function ITt(e,t){return n=>({options:n||{},sanitize:DTt,load:RTt,fileAccess:!1,file:PTt(t),http:NTt(e)})}async function RTt(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function DTt(e,t){t=Nn({},this.options,t);const n=this.fileAccess,r={href:null};let i,s,o;const a=kTt.test(e.replace(ATt,""));(e==null||typeof e!="string"||!a)&&et("Sanitize failure, invalid URI: "+Et(e));const l=TTt.test(e);return(o=t.baseURL)&&!l&&(!e.startsWith("/")&&!o.endsWith("/")&&(e="/"+e),e=o+e),s=(i=e.startsWith(Qde))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(Qde.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!s}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function PTt(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,s)=>{i?r(i):n(s)})}):OTt}async function OTt(){et("No file system access.")}function NTt(e){return e?async function(t,n){const r=Nn({},this.options.http,n),i=n&&n.response,s=await e(t,r);return s.ok?$n(s[i])?s[i]():s.text():et(s.status+""+s.statusText)}:$Tt}async function $Tt(){et("No HTTP fetch method available.")}const MTt=e=>e!=null&&e===e,FTt=e=>e==="true"||e==="false"||e===!0||e===!1,LTt=e=>!Number.isNaN(Date.parse(e)),sIe=e=>!Number.isNaN(+e)&&!(e instanceof Date),jTt=e=>sIe(e)&&Number.isInteger(+e),yq={boolean:mX,integer:ca,number:ca,date:gX,string:yX,unknown:ba},dR=[FTt,jTt,sIe,LTt],BTt=["boolean","integer","number","date"];function oIe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=dR.length,i=dR.map((s,o)=>o+1);for(let s=0,o=0,a,l;s<n;++s)for(l=t?e[s][t]:e[s],a=0;a<r;++a)if(i[a]&&MTt(l)&&!dR[a](l)&&(i[a]=0,++o,o===dR.length))return"string";return BTt[i.reduce((s,o)=>s===0?o:s,0)-1]}function aIe(e,t){return t.reduce((n,r)=>(n[r]=oIe(e,r),n),{})}function Jde(e){const t=function(n,r){const i={delimiter:e};return _X(n,r?Nn(r,i):i)};return t.responseType="text",t}function _X(e,t){return t.header&&(e=t.header.map(Et).join(t.delimiter)+`
`+e),Agt(t.delimiter).parse(e+"")}_X.responseType="text";function zTt(e){return typeof Buffer=="function"&&$n(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function EX(e,t){const n=t&&t.property?ac(t.property):ba;return Mt(e)&&!zTt(e)?UTt(n(e),t):n(JSON.parse(e))}EX.responseType="json";function UTt(e,t){return!nt(e)&&TAe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const qTt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function lIe(e,t){let n,r,i,s;return e=EX(e,t),t&&t.feature?(n=sTt,i=t.feature):t&&t.mesh?(n=aTt,i=t.mesh,s=qTt[t.filter]):et("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,s):et("Invalid TopoJSON object: "+i),r&&r.features||[r]}lIe.responseType="json";const XD={dsv:_X,csv:Jde(","),tsv:Jde("	"),json:EX,topojson:lIe};function CX(e,t){return arguments.length>1?(XD[e]=t,this):zt(XD,e)?XD[e]:null}function uIe(e){const t=CX(e);return t&&t.responseType||"text"}function cIe(e,t,n,r){t=t||{};const i=CX(t.type||"json");return i||et("Unknown data format type: "+t.type),e=i(e,t),t.parse&&HTt(e,t.parse,n,r),zt(e,"columns")&&delete e.columns,e}function HTt(e,t,n,r){if(!e.length)return;const i=oT();n=n||i.timeParse,r=r||i.utcParse;let s=e.columns||Object.keys(e[0]),o,a,l,u,c,d;t==="auto"&&(t=aIe(e,s)),s=Object.keys(t);const f=s.map(h=>{const p=t[h];let m,g;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),g=m[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(m[0]==="utc"?r:n)(g);if(!yq[p])throw Error("Illegal format pattern: "+h+":"+p);return yq[p]});for(l=0,c=e.length,d=s.length;l<c;++l)for(o=e[l],u=0;u<d;++u)a=s[u],o[a]=f[u](o[a])}const M6=ITt(typeof fetch<"u"&&fetch,null);function F6(e){const t=e||ba,n=[],r={};return n.add=i=>{const s=t(i);return r[s]||(r[s]=1,n.push(i)),n},n.remove=i=>{const s=t(i);if(r[s]){r[s]=0;const o=n.indexOf(i);o>=0&&n.splice(o,1)}return n},n}async function QD(e,t){try{await t(e)}catch(n){e.error(n)}}const dIe=Symbol("vega_id");let VTt=1;function L6(e){return!!(e&&rn(e))}function rn(e){return e[dIe]}function fIe(e,t){return e[dIe]=t,e}function Nr(e){const t=e===Object(e)?e:{data:e};return rn(t)?t:fIe(t,VTt++)}function SX(e){return j6(e,Nr({}))}function j6(e,t){for(const n in e)t[n]=e[n];return t}function hIe(e,t){return fIe(t,rn(e))}function z1(e,t){return e?t?(n,r)=>e(n,r)||rn(t(n))-rn(t(r)):(n,r)=>e(n,r)||rn(n)-rn(r):null}function pIe(e){return e&&e.constructor===U1}function U1(){const e=[],t=[],n=[],r=[],i=[];let s=null,o=!1;return{constructor:U1,insert(a){const l=$t(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=$n(a)?r:t,u=$t(a),c=u.length;for(let d=0;d<c;++d)l.push(u[d]);return this},modify(a,l,u){const c={field:l,value:wa(u)};return $n(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return $n(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return s=a,this},reflow(){return o=!0,this},pulse(a,l){const u={},c={};let d,f,h,p,m,g;for(d=0,f=l.length;d<f;++d)u[rn(l[d])]=1;for(d=0,f=t.length;d<f;++d)m=t[d],u[rn(m)]=-1;for(d=0,f=r.length;d<f;++d)p=r[d],l.forEach(y=>{p(y)&&(u[rn(y)]=-1)});for(d=0,f=e.length;d<f;++d)m=e[d],g=rn(m),u[g]?u[g]=1:a.add.push(Nr(e[d]));for(d=0,f=l.length;d<f;++d)m=l[d],u[rn(m)]<0&&a.rem.push(m);function v(y,w,E){E?y[w]=E(y):a.encode=w,o||(c[rn(y)]=y)}for(d=0,f=n.length;d<f;++d)h=n[d],m=h.tuple,p=h.field,g=u[rn(m)],g>0&&(v(m,p,h.value),a.modifies(p));for(d=0,f=i.length;d<f;++d)h=i[d],p=h.filter,l.forEach(y=>{p(y)&&u[rn(y)]>0&&v(y,h.field,h.value)}),a.modifies(h.field);if(o)a.mod=t.length||r.length?l.filter(y=>u[rn(y)]>0):l.slice();else for(g in c)a.mod.push(c[g]);return(s||s==null&&(t.length||r.length))&&a.clean(!0),a}}}const JD="_:mod:_";function B6(){Object.defineProperty(this,JD,{writable:!0,value:{}})}B6.prototype={set(e,t,n,r){const i=this,s=i[e],o=i[JD];return t!=null&&t>=0?(s[t]!==n||r)&&(s[t]=n,o[t+":"+e]=-1,o[e]=-1):(s!==n||r)&&(i[e]=n,o[e]=nt(n)?1+n.length:-1),i},modified(e,t){const n=this[JD];if(arguments.length){if(nt(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[JD]={},this}};let WTt=0;const GTt="pulse",YTt=new B6,KTt=1,XTt=2;function ii(e,t,n,r){this.id=++WTt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Zde(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}ii.prototype={targets(){return this._targets||(this._targets=F6(kk))},set(e){return this.value!==e?(this.value=e,1):0},skip:Zde(KTt),modified:Zde(XTt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new B6,i=this._argops=this._argops||[],s=[];let o,a,l,u;const c=(d,f,h)=>{h instanceof ii?(h!==this&&(t&&h.targets().add(this),s.push(h)),i.push({op:h,name:d,index:f})):r.set(d,f,h)};for(o in e)if(a=e[o],o===GTt)$t(a).forEach(d=>{d instanceof ii?d!==this&&(d.targets().add(this),s.push(d)):et("Pulse parameters must be operator instances.")}),this.source=a;else if(nt(a))for(r.set(o,-1,Array(l=a.length)),u=0;u<l;++u)c(o,u,a[u]);else c(o,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),s},marshall(e){const t=this._argval||YTt,n=this._argops;let r,i,s,o;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],s=r.op,o=s.modified()&&s.stamp===e,t.set(r.name,r.index,s.value,o);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function QTt(e,t,n,r){let i=1,s;return e instanceof ii?s=e:e&&e.prototype instanceof ii?s=new e:$n(e)?s=new ii(null,e):(i=0,s=new ii(e,t)),this.rank(s),i&&(r=n,n=t),n&&this.connect(s,s.parameters(n,r)),this.touch(s),s}function JTt(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let ZTt=0;function z6(e,t,n){this.id=++ZTt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function u0(e,t,n){return new z6(e,t,n)}z6.prototype={_filter:lc,_apply:ba,targets(){return this._targets||(this._targets=F6(kk))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=u0(e);return this.targets().add(t),t},apply(e){const t=u0(null,e);return this.targets().add(t),t},merge(){const e=u0();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=u0();return this.targets().add(u0(null,null,fX(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(u0(null,null,()=>n=!0)),t.targets().add(u0(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=lc,this._targets=null}};function ekt(e,t,n,r){const i=this,s=u0(n,r),o=function(u){u.dataflow=i;try{s.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=$t(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,o);return s}function tkt(e,t){const n=this.locale();return cIe(e,t,n.timeParse,n.utcParse)}function nkt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function rkt(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:uIe(t&&t.type)});try{i=n.parse(i,t)}catch(s){r=-2,n.warn("Data ingestion failed",e,s)}}catch(s){r=-1,n.warn("Loading failed",e,s)}return{data:i,status:r}}async function ikt(e,t,n){const r=this,i=r._pending||skt(r);i.requests+=1;const s=await r.request(t,n);return r.pulse(e,r.changeset().remove(lc).insert(s.data||[])),i.done(),s}function skt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const okt={skip:!0};function akt(e,t,n,r,i){return(e instanceof ii?ukt:lkt)(this,e,t,n,r,i),this}function lkt(e,t,n,r,i,s){const o=Nn({},s,okt);let a,l;$n(n)||(n=wa(n)),r===void 0?a=u=>e.touch(n(u)):$n(r)?(l=new ii(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),d=l.value;pIe(d)?e.pulse(c,d,s):e.update(c,d,o)}):a=u=>e.update(n(u),r,o),t.apply(a)}function ukt(e,t,n,r,i,s){if(r===void 0)t.targets().add(n);else{const o=s||{},a=new ii(null,ckt(n,r),i,!1);a.modified(o.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function ckt(e,t){return t=$n(t)?t:wa(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function dkt(e){e.rank=++this._rank}function fkt(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&et("Cycle detected in dataflow graph.")}const b4={},Rf=1,g0=2,pp=4,hkt=Rf|g0,efe=Rf|pp,Yb=Rf|g0|pp,tfe=8,wC=16,nfe=32,rfe=64;function Y0(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function x9(e,t){const n=[];return m0(e,t,r=>n.push(r)),n}function ife(e,t){const n={};return e.visit(t,r=>{n[rn(r)]=1}),r=>n[rn(r)]?null:r}function fR(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Y0.prototype={StopPropagation:b4,ADD:Rf,REM:g0,MOD:pp,ADD_REM:hkt,ADD_MOD:efe,ALL:Yb,REFLOW:tfe,SOURCE:wC,NO_SOURCE:nfe,NO_FIELDS:rfe,fork(e){return new Y0(this.dataflow).init(this,e)},clone(){const e=this.fork(Yb);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Yb|wC)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Y0(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&rfe)&&(n.fields=e.fields),t&Rf?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&g0?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&pp?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&nfe?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Yb;return t&Rf&&this.add.length||t&g0&&this.rem.length||t&pp&&this.mod.length},reflow(e){if(e)return this.fork(Yb).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(pp,ife(this,Rf))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return nt(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?nt(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Rf&&(n.addF=fR(n.addF,t)),e&g0&&(n.remF=fR(n.remF,t)),e&pp&&(n.modF=fR(n.modF,t)),e&wC&&(n.srcF=fR(n.srcF,t)),n},materialize(e){e=e||Yb;const t=this;return e&Rf&&t.addF&&(t.add=x9(t.add,t.addF),t.addF=null),e&g0&&t.remF&&(t.rem=x9(t.rem,t.remF),t.remF=null),e&pp&&t.modF&&(t.mod=x9(t.mod,t.modF),t.modF=null),e&wC&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&wC)return m0(n.source,n.srcF,r),n;e&Rf&&m0(n.add,n.addF,r),e&g0&&m0(n.rem,n.remF,r),e&pp&&m0(n.mod,n.modF,r);const i=n.source;if(e&tfe&&i){const s=n.add.length+n.mod.length;s===i.length||(s?m0(i,ife(n,efe),r):m0(i,n.srcF,r))}return n}};function TX(e,t,n,r){const i=this;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const o of n)if(o.stamp===t){if(o.fields){const a=i.fields||(i.fields={});for(const l in o.fields)a[l]=1}o.changed(i.ADD)&&(s|=i.ADD),o.changed(i.REM)&&(s|=i.REM),o.changed(i.MOD)&&(s|=i.MOD)}this.changes=s}Tt(TX,Y0,{fork(e){const t=new Y0(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?nt(e)?e.some(r=>n[r]):n[e]:0},filter(){et("MultiPulse does not support filtering.")},materialize(){et("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let s=0;if(e&n.SOURCE)for(;s<i;++s)r[s].visit(e,t);else for(;s<i;++s)r[s].stamp===n.stamp&&r[s].visit(e,t);return n}});async function pkt(e,t,n){const r=this,i=[];if(r._pulse)return mIe(r);if(r._pending&&await r._pending,t&&await QD(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const s=++r._clock;r._pulse=new Y0(r,s,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=F6(kk);let o=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=b4),l!==b4&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++o}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${s}: ${o} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((d,f)=>f.priority-d.priority);r._postrun=[];for(let d=0;d<c.length;++d)await QD(r,c[d].callback)}return n&&await QD(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(d=>{try{d(r)}catch(f){r.error(f)}})})),r}async function mkt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function gkt(e,t,n){return this._pulse?mIe(this):(this.evaluate(e,t,n),this)}function ykt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function mIe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function vkt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function bkt(e,t){const n=e.source,r=this._clock;return n&&nt(n)?new TX(this,r,n.map(i=>i.pulse),t):this._input[e.id]||wkt(this._pulse,n&&n.pulse)}function wkt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==b4&&(e.source=t.source),e)}const kX={skip:!1,force:!1};function xkt(e,t){const n=t||kX;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function _kt(e,t,n){const r=n||kX;return(e.set(t)||r.force)&&this.touch(e,r),this}function Ekt(e,t,n){this.touch(e,n||kX);const r=new Y0(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function Ckt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),gIe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,Skt(t,0,e)):r=n,r}}}function gIe(e,t,n,r){let i,s;const o=e[n];for(;n>t;){if(s=n-1>>1,i=e[s],r(o,i)<0){e[n]=i,n=s;continue}break}return e[n]=o}function Skt(e,t,n){const r=t,i=e.length,s=e[t];let o=(t<<1)+1,a;for(;o<i;)a=o+1,a<i&&n(e[o],e[a])>=0&&(o=a),e[t]=e[o],t=o,o=(t<<1)+1;return e[t]=s,gIe(e,r,t,n)}function ux(){this.logger(aX()),this.logLevel(sX),this._clock=0,this._rank=0,this._locale=xX();try{this._loader=M6()}catch{}this._touched=F6(kk),this._input={},this._pulse=null,this._heap=Ckt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function xC(e){return function(){return this._log[e].apply(this,arguments)}}ux.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:xC("error"),warn:xC("warn"),info:xC("info"),debug:xC("debug"),logLevel:xC("level"),cleanThreshold:1e4,add:QTt,connect:JTt,rank:dkt,rerank:fkt,pulse:Ekt,touch:xkt,update:_kt,changeset:U1,ingest:nkt,parse:tkt,preload:ikt,request:rkt,events:ekt,on:akt,evaluate:pkt,run:gkt,runAsync:mkt,runAfter:ykt,_enqueue:vkt,_getPulse:bkt};function Ye(e,t){ii.call(this,e,null,t)}Tt(Ye,ii,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Kx={};function yIe(e){const t=vIe(e);return t&&t.Definition||null}function vIe(e){return e=e&&e.toLowerCase(),zt(Kx,e)?Kx[e]:null}function*bIe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function AX(e,t,n){const r=Float64Array.from(bIe(e,n));return r.sort(jp),t.map(i=>zCe(r,i))}function IX(e,t){return AX(e,[.25,.5,.75],t)}function RX(e,t){const n=e.length,r=pht(e,t),i=IX(e,t),s=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,s)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function wIe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let s=e.extent[0],o=e.extent[1],a,l,u,c,d,f;const h=e.span||o-s||Math.abs(s)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,d=0,f=e.steps.length;d<f&&e.steps[d]<c;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(d=0,f=i.length;d<f;++d)c=a/i[d],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(s/a+m)*a,s=s<c?c-a:c,o=Math.ceil(o/a)*a),{start:s,stop:o===s?s+a:o,step:a}}var cc=Math.random;function Tkt(e){cc=e}function xIe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(bIe(e,r)),s=i.length,o=t;let a,l,u,c;for(u=0,c=Array(o);u<o;++u){for(a=0,l=0;l<s;++l)a+=i[~~(cc()*s)];c[u]=a/s}return c.sort(jp),[uU(c,n/2),uU(c,1-n/2)]}function _Ie(e,t,n,r){r=r||(f=>f);const i=e.length,s=new Float64Array(i);let o=0,a=1,l=r(e[0]),u=l,c=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=c){for(u=(l+u)/2;o<a;++o)s[o]=u;c=d+t,l=d}u=d}for(u=(l+u)/2;o<a;++o)s[o]=u;return n?kkt(s,t+t/4):s}function kkt(e,t){const n=e.length;let r=0,i=1,s,o;for(;e[r]===e[i];)++i;for(;i<n;){for(s=i+1;e[i]===e[s];)++s;if(e[i]-e[i-1]<t){for(o=i+(r+s-i-i>>1);o<i;)e[o++]=e[i];for(;o>i;)e[o--]=e[r]}r=i,i=s}return e}function Akt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function Ikt(e,t){t==null&&(t=e,e=0);let n,r,i;const s={min(o){return arguments.length?(n=o||0,i=r-n,s):n},max(o){return arguments.length?(r=o||0,i=r-n,s):r},sample(){return n+Math.floor(i*cc())},pdf(o){return o===Math.floor(o)&&o>=n&&o<r?1/i:0},cdf(o){const a=Math.floor(o);return a<n?0:a>=r?1:(a-n+1)/i},icdf(o){return o>=0&&o<=1?n-1+Math.floor(o*i):NaN}};return s.min(e).max(t)}const EIe=Math.sqrt(2*Math.PI),Rkt=Math.SQRT2;let _C=NaN;function U6(e,t){e=e||0,t=t??1;let n=0,r=0,i,s;if(_C===_C)n=_C,_C=NaN;else{do n=cc()*2-1,r=cc()*2-1,i=n*n+r*r;while(i===0||i>1);s=Math.sqrt(-2*Math.log(i)/i),n*=s,_C=r*s}return e+n*t}function DX(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*EIe)}function q6(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let s;if(i>37)s=0;else{const o=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,s=o*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,s=s/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,s=o/a/2.506628274631)}return r>0?1-s:s}function H6(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*Rkt*Dkt(2*e-1)}function Dkt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function PX(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>U6(n,r),pdf:s=>DX(s,n,r),cdf:s=>q6(s,n,r),icdf:s=>H6(s,n,r)};return i.mean(e).stdev(t)}function OX(e,t){const n=PX();let r=0;const i={data(s){return arguments.length?(e=s,r=s?s.length:0,i.bandwidth(t)):e},bandwidth(s){return arguments.length?(t=s,!t&&e&&(t=RX(e)),i):t},sample(){return e[~~(cc()*r)]+t*n.sample()},pdf(s){let o=0,a=0;for(;a<r;++a)o+=n.pdf((s-e[a])/t);return o/t/r},cdf(s){let o=0,a=0;for(;a<r;++a)o+=n.cdf((s-e[a])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function NX(e,t){return e=e||0,t=t??1,Math.exp(e+U6()*t)}function $X(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*EIe*e)}function MX(e,t,n){return q6(Math.log(e),t,n)}function FX(e,t,n){return Math.exp(H6(e,t,n))}function CIe(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>NX(n,r),pdf:s=>$X(s,n,r),cdf:s=>MX(s,n,r),icdf:s=>FX(s,n,r)};return i.mean(e).stdev(t)}function SIe(e,t){let n=0,r;function i(o){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=o[u]==null?1:+o[u];for(u=0;u<n;++u)a[u]/=l;return a}const s={weights(o){return arguments.length?(r=i(t=o||[]),s):t},distributions(o){return arguments.length?(o?(n=o.length,e=o):(n=0,e=[]),s.weights(t)):e},sample(){const o=cc();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(o<l){a=e[u];break}return a.sample()},pdf(o){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(o);return a},cdf(o){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(o);return a},icdf(){throw Error("Mixture icdf not supported.")}};return s.distributions(e).weights(t)}function LX(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*cc()}function jX(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function BX(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function zX(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function TIe(e,t){let n,r;const i={min(s){return arguments.length?(n=s||0,i):n},max(s){return arguments.length?(r=s??1,i):r},sample:()=>LX(n,r),pdf:s=>jX(s,n,r),cdf:s=>BX(s,n,r),icdf:s=>zX(s,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function UX(e,t,n){let r=0,i=0;for(const s of e){const o=n(s);t(s)==null||o==null||isNaN(o)||(r+=(o-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Rk(e,t,n,r){const i=r-e*e,s=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-s*e,s]}function V6(e,t,n,r){e=e.filter(h=>{let p=t(h),m=n(h);return p!=null&&(p=+p)>=p&&m!=null&&(m=+m)>=m}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,s=new Float64Array(i),o=new Float64Array(i);let a=0,l=0,u=0,c,d,f;for(f of e)s[a]=c=+t(f),o[a]=d=+n(f),++a,l+=(c-l)/a,u+=(d-u)/a;for(a=0;a<i;++a)s[a]-=l,o[a]-=u;return[s,o,l,u]}function Dk(e,t,n,r){let i=-1,s,o;for(const a of e)s=t(a),o=n(a),s!=null&&(s=+s)>=s&&o!=null&&(o=+o)>=o&&r(s,o,++i)}function oE(e,t,n,r,i){let s=0,o=0;return Dk(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;s+=u*u,o+=c*c}),1-s/o}function qX(e,t,n){let r=0,i=0,s=0,o=0,a=0;Dk(e,t,n,(c,d)=>{++a,r+=(c-r)/a,i+=(d-i)/a,s+=(c*d-s)/a,o+=(c*c-o)/a});const l=Rk(r,i,s,o),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:oE(e,t,n,i,u)}}function kIe(e,t,n){let r=0,i=0,s=0,o=0,a=0;Dk(e,t,n,(c,d)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(d-i)/a,s+=(c*d-s)/a,o+=(c*c-o)/a});const l=Rk(r,i,s,o),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:oE(e,t,n,i,u)}}function AIe(e,t,n){const[r,i,s,o]=V6(e,t,n);let a=0,l=0,u=0,c=0,d=0,f,h,p;Dk(e,t,n,(y,w)=>{f=r[d++],h=Math.log(w),p=f*w,a+=(w*h-a)/d,l+=(p-l)/d,u+=(p*h-u)/d,c+=(f*p-c)/d});const[m,g]=Rk(l/o,a/o,u/o,c/o),v=y=>Math.exp(m+g*(y-s));return{coef:[Math.exp(m-g*s),g],predict:v,rSquared:oE(e,t,n,o,v)}}function IIe(e,t,n){let r=0,i=0,s=0,o=0,a=0,l=0;Dk(e,t,n,(d,f)=>{const h=Math.log(d),p=Math.log(f);++l,r+=(h-r)/l,i+=(p-i)/l,s+=(h*p-s)/l,o+=(h*h-o)/l,a+=(f-a)/l});const u=Rk(r,i,s,o),c=d=>u[0]*Math.pow(d,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:oE(e,t,n,a,c)}}function HX(e,t,n){const[r,i,s,o]=V6(e,t,n),a=r.length;let l=0,u=0,c=0,d=0,f=0,h,p,m,g;for(h=0;h<a;)p=r[h],m=i[h++],g=p*p,l+=(g-l)/h,u+=(g*p-u)/h,c+=(g*g-c)/h,d+=(p*m-d)/h,f+=(g*m-f)/h;const v=c-l*l,y=l*v-u*u,w=(f*l-d*u)/y,E=(d*v-f*u)/y,C=-w*l,S=T=>(T=T-s,w*T*T+E*T+C+o);return{coef:[C-E*s+w*s*s+o,E-2*w*s,w],predict:S,rSquared:oE(e,t,n,o,S)}}function RIe(e,t,n,r){if(r===0)return UX(e,t,n);if(r===1)return qX(e,t,n);if(r===2)return HX(e,t,n);const[i,s,o,a]=V6(e,t,n),l=i.length,u=[],c=[],d=r+1;let f,h,p,m,g;for(f=0;f<d;++f){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f)*s[p];for(u.push(m),g=new Float64Array(d),h=0;h<d;++h){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f+h);g[h]=m}c.push(g)}c.push(u);const v=Okt(c),y=w=>{w-=o;let E=a+v[0]+v[1]*w+v[2]*w*w;for(f=3;f<d;++f)E+=v[f]*Math.pow(w,f);return E};return{coef:Pkt(d,v,-o,a),predict:y,rSquared:oE(e,t,n,a,y)}}function Pkt(e,t,n,r){const i=Array(e);let s,o,a,l;for(s=0;s<e;++s)i[s]=0;for(s=e-1;s>=0;--s)for(a=t[s],l=1,i[s]+=a,o=1;o<=s;++o)l*=(s+1-o)/o,i[s-o]+=a*Math.pow(n,o)*l;return i[0]+=r,i}function Okt(e){const t=e.length-1,n=[];let r,i,s,o,a;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(s=r;s<t+1;++s)a=e[s][r],e[s][r]=e[s][o],e[s][o]=a;for(i=r+1;i<t;++i)for(s=t;s>=r;s--)e[s][i]-=e[s][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,s=i+1;s<t;++s)a+=e[s][i]*n[s];n[i]=(e[t][i]-a)/e[i][i]}return n}const sfe=2,ofe=1e-12;function DIe(e,t,n,r){const[i,s,o,a]=V6(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),f=new Float64Array(l).fill(1);for(let h=-1;++h<=sfe;){const p=[0,u-1];for(let g=0;g<l;++g){const v=i[g],y=p[0],w=p[1],E=v-i[y]>i[w]-v?y:w;let C=0,S=0,T=0,k=0,I=0;const R=1/Math.abs(i[E]-v||1);for(let $=y;$<=w;++$){const L=i[$],U=s[$],B=Nkt(Math.abs(v-L)*R)*f[$],V=L*B;C+=B,S+=V,T+=U*B,k+=U*V,I+=L*V}const[O,M]=Rk(S/C,T/C,k/C,I/C);c[g]=O+M*v,d[g]=Math.abs(s[g]-c[g]),$kt(i,g+1,p)}if(h===sfe)break;const m=UCe(d);if(Math.abs(m)<ofe)break;for(let g=0,v,y;g<l;++g)v=d[g]/(6*m),f[g]=v>=1?ofe:(y=1-v*v)*y}return Mkt(i,c,o,a)}function Nkt(e){return(e=1-e*e*e)*e*e}function $kt(e,t,n){const r=e[t];let i=n[0],s=n[1]+1;if(!(s>=e.length))for(;t>i&&e[s]-r<=r-e[i];)n[0]=++i,n[1]=s,++s}function Mkt(e,t,n,r){const i=e.length,s=[];let o=0,a=0,l=[],u;for(;o<i;++o)u=e[o]+n,l[0]===u?l[1]+=(t[o]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[o]],s.push(l));return l[1]+=r,s}const Fkt=.5*Math.PI/180;function W6(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],s=t[0],o=t[1],a=o-s,l=a/r,u=[i(s)],c=[];if(n===r){for(let m=1;m<r;++m)u.push(i(s+m/n*a));return u.push(i(o)),u}else{c.push(i(o));for(let m=n;--m>0;)c.push(i(s+m/n*a))}let d=u[0],f=c[c.length-1];const h=1/a,p=Lkt(d[1],c);for(;f;){const m=i((d[0]+f[0])/2);m[0]-d[0]>=l&&jkt(d,m,f,h,p)>Fkt?c.push(m):(d=f,u.push(f),c.pop()),f=c[c.length-1]}return u}function Lkt(e,t){let n=e,r=e;const i=t.length;for(let s=0;s<i;++s){const o=t[s][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}function jkt(e,t,n,r,i){const s=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(s-o)}function Bkt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function vq(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:Bkt(e)}function PIe(e,t,n){return n||e+(t?"_"+t:"")}const _9=()=>{},zkt={init:_9,add:_9,rem:_9,idx:0},aT={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},Pk=Object.keys(aT).filter(e=>e!=="__count__");function Ukt(e,t){return(n,r)=>Nn({name:e,aggregate_param:r,out:n||e},zkt,t)}[...Pk,"__count__"].forEach(e=>{aT[e]=Ukt(e,aT[e])});function OIe(e,t,n){return aT[e](n,t)}function NIe(e,t){return e.idx-t.idx}function qkt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=aT[i]())})};return e.forEach(n),Object.values(t).sort(NIe)}function Hkt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function Vkt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function Wkt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function Gkt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function $Ie(e,t){const n=t||ba,r=qkt(e),i=e.slice().sort(NIe);function s(o){this._ops=r,this._out=i,this.cell=o,this.init()}return s.prototype.init=Hkt,s.prototype.add=Vkt,s.prototype.rem=Wkt,s.prototype.set=Gkt,s.prototype.get=n,s.fields=e.map(o=>o.out),s}function VX(e){this._key=e?ac(e):rn,this.reset()}const Wo=VX.prototype;Wo.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Wo.add=function(e){this._add.push(e)};Wo.rem=function(e){this._rem.push(e)};Wo.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,s=Array(r-i),o={};let a,l,u;for(a=0;a<i;++a)o[n(t[a])]=1;for(a=0,l=0;a<r;++a)o[n(u=e[a])]?o[n(u)]=0:s[l++]=u;return this._rem=[],this._add=s};Wo.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,s;for(;--r>=0;)s=e(t[r])+"",zt(n,s)||(n[s]=1,++i);return i};Wo.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=CAe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Wo.argmin=function(e){return this.extent(e)[0]||{}};Wo.argmax=function(e){return this.extent(e)[1]||{}};Wo.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Wo.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Wo.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=IX(this.values(),e),this._get=e),this._q};Wo.q1=function(e){return this.quartile(e)[0]};Wo.q2=function(e){return this.quartile(e)[1]};Wo.q3=function(e){return this.quartile(e)[2]};Wo.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=xIe(this.values(),1e3,.05,e),this._get=e),this._ci};Wo.ci0=function(e){return this.ci(e)[0]};Wo.ci1=function(e){return this.ci(e)[1]};function cg(e){Ye.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}cg.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Pk},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Tt(cg,Ye,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,s=>n.add(s))):(n.value=n.value||n.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function s(a){let l,u,c,d;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][d=c[n[u]]]=d}s(e._prev),s(t);function o(a,l,u){const c=n[u],d=r[u++];for(const f in d){const h=a?a+"|"+f:f;l[c]=d[f],u<i?o(h,l,u):t[h]||e.cell(h,l)}}o("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(y){const w=$t(fa(y)),E=w.length;let C=0,S;for(;C<E;++C)r[S=w[C]]||(r[S]=1,t.push(S))}this._dims=$t(e.groupby),this._dnames=this._dims.map(y=>{const w=Ki(y);return i(y),n.push(w),w}),this.cellkey=e.key?e.key:vq(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=e.fields||[null],o=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=s.length,c={};let d,f,h,p,m,g,v;for(u!==o.length&&et("Unmatched number of fields and aggregate ops."),v=0;v<u;++v){if(d=s[v],f=o[v],h=a[v]||null,d==null&&f!=="count"&&et("Null aggregate field specified."),m=Ki(d),g=PIe(f,m,l[v]),n.push(g),f==="count"){this._counts.push(g);continue}p=c[m],p||(i(d),p=c[m]=[],p.field=d,this._measures.push(p)),f!=="count"&&(this._countOnly=!1),p.push(OIe(f,h,g))}return this._measures=this._measures.map(y=>$Ie(y,y.field)),Object.create(null)},cellkey:vq(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let s=0;s<i;++s)n.agg[s]=new r[s](n)}return n.store&&(n.data=new VX),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,s={};for(let o=0;o<i;++o)s[n[o]]=r[o](e);return t?hIe(t.tuple,s):Nr(s)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,s=r.length;i<s;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,s=e.add,o=e.rem,a=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],(!i||l.num)&&o.push(l.tuple);for(c=0,d=this._alen;c<d;++c)s.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(l.num===0&&i?o:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const Ykt=1e-14;function WX(e){Ye.call(this,null,e)}WX.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Tt(WX,Ye,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,s=r.step,o=e.as||["bin0","bin1"],a=o[0],l=o[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(fa(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const d=r(c);c[a]=d,c[l]=d==null?null:i+s*(1+(d-i)/s)}:c=>c[a]=r(c)),t.modifies(n?o:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=wIe(e),r=n.step;let i=n.start,s=i+Math.ceil((n.stop-i)/r)*r,o,a;(o=e.anchor)!=null&&(a=o-(i+r*Math.floor((o-i)/r)),i+=a,s+=a);const l=function(u){let c=ca(t(u));return c==null?null:c<i?-1/0:c>s?1/0:(c=Math.max(i,Math.min(c,s-r)),i+r*Math.floor(Ykt+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=Hl(l,fa(t),e.name||"bin_"+Ki(t))}});function MIe(e,t,n){const r=e;let i=t||[],s=n||[],o={},a=0;return{add:l=>s.push(l),remove:l=>o[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!o[r(c)]),o={},a=0),u&&l&&i.sort(l),s.length&&(i=l?IAe(l,i,s.sort(l)):i.concat(s),s=[]),i)}}function GX(e){Ye.call(this,[],e)}GX.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Tt(GX,Ye,{transform(e,t){const n=t.fork(t.ALL),r=MIe(rn,this.value,n.materialize(n.ADD).add),i=e.sort,s=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(s),this.value=n.source=r.data(z1(i),s),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function FIe(e){ii.call(this,null,Kkt,e)}Tt(FIe,ii);function Kkt(e){return this.value&&!e.modified()?this.value:dX(e.fields,e.orders)}function YX(e){Ye.call(this,null,e)}YX.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Xkt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Tt(YX,Ye,{transform(e,t){const n=d=>f=>{for(var h=Xkt(a(f),e.case,s)||[],p,m=0,g=h.length;m<g;++m)o.test(p=h[m])||d(p)},r=this._parameterCheck(e,t),i=this._counts,s=this._match,o=this._stop,a=e.field,l=e.as||["text","count"],u=n(d=>i[d]=1+(i[d]||0)),c=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],s=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=Nr({}),l[i]=a,l[s]=u,o.add.push(l)):u===0?(l&&o.rem.push(l),n[a]=null,r[a]=null):l[s]!==u&&(l[s]=u,o.mod.push(l));return o.modifies(t)}});function KX(e){Ye.call(this,null,e)}KX.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Tt(KX,Ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],s=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return o?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=Qkt(a,i,s,e.filter||lc)):n.mod=a,n.source=this.value,n.modifies(r)}});function Qkt(e,t,n,r){for(var i=[],s={},o=e.length,a=0,l,u;a<o;++a)for(s[t]=u=e[a],l=0;l<o;++l)s[n]=e[l],r(s)&&(i.push(Nr(s)),s={},s[t]=u);return i}const afe={kde:OX,mixture:SIe,normal:PX,lognormal:CIe,uniform:TIe},Jkt="distributions",lfe="function",Zkt="field";function LIe(e,t){const n=e[lfe];zt(afe,n)||et("Unknown distribution function: "+n);const r=afe[n]();for(const i in e)i===Zkt?r.data((e.from||t()).map(e[i])):i===Jkt?r[i](e[i].map(s=>LIe(s,t))):typeof r[i]===lfe&&r[i](e[i]);return r}function XX(e){Ye.call(this,null,e)}const jIe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],eAt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:jIe},{name:"weights",type:"number",array:!0}]};XX.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:jIe.concat(eAt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Tt(XX,Ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=LIe(e.distribution,tAt(t)),i=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200;let o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&et("Invalid density method: "+o),!e.extent&&!r.data&&et("Missing density extent parameter."),o=r[o];const a=e.as||["value","density"],l=e.extent||mh(r.data()),u=W6(o,l,i,s).map(c=>{const d={};return d[a[0]]=c[0],d[a[1]]=c[1],Nr(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function tAt(e){return()=>e.materialize(e.SOURCE).source}function BIe(e,t){return e?e.map((n,r)=>t[r]||Ki(n)):null}function QX(e,t,n){const r=[],i=d=>d(l);let s,o,a,l,u,c;if(t==null)r.push(e.map(n));else for(s={},o=0,a=e.length;o<a;++o)l=e[o],u=t.map(i),c=s[u],c||(s[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const zIe="bin";function JX(e){Ye.call(this,null,e)}JX.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:zIe}]};const nAt=(e,t)=>Ik(mh(e,t))/30;Tt(JX,Ye,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=QX(t.source,e.groupby,ba),i=e.smooth||!1,s=e.field,o=e.step||nAt(n,s),a=z1((p,m)=>s(p)-s(m)),l=e.as||zIe,u=r.length;let c=1/0,d=-1/0,f=0,h;for(;f<u;++f){const p=r[f].sort(a);h=-1;for(const m of _Ie(p,o,i,s))m<c&&(c=m),m>d&&(d=m),p[++h][l]=m}return this.value={start:c,stop:d,step:o},t.reflow(!0).modifies(l)}});function UIe(e){ii.call(this,null,rAt,e),this.modified(!0)}Tt(UIe,ii);function rAt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Hl(n=>t(n,e),fa(t),Ki(t))}function ZX(e){Ye.call(this,[void 0,void 0],e)}ZX.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Tt(ZX,Ye,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let s=n[0],o=n[1];if((i||s==null)&&(s=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=ca(r(a));l!=null&&(l<s&&(s=l),l>o&&(o=l))}),!Number.isFinite(s)||!Number.isFinite(o)){let a=Ki(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${s}, ${o}]`),s=o=void 0}this.value=[s,o]}});function eQ(e,t){ii.call(this,e),this.parent=t,this.count=0}Tt(eQ,ii,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function G6(e){Ye.call(this,{},e),this._keys=rE();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Tt(G6,Ye,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let s=zt(i,e)&&i[e],o,a;return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,o=n.dataflow,s=new eQ(n.fork(n.NO_SOURCE),this),o.add(s).connect(t(o,e,a)),i[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,s=this._keys,o=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=rn(l),c=s.get(u);c!==void 0&&(s.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);s.set(rn(l),u),a(u).add(l)}),o||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=rn(l),c=s.get(u),d=r(l);c===d?a(d).mod(l):(s.set(u,d),a(c).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(s.get(rn(l))).mod(l)}),o&&t.visit(t.REFLOW,l=>{const u=rn(l),c=s.get(u),d=r(l);c!==d&&(s.set(u,d),a(c).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),s.clean()}):s.empty>n.cleanThreshold&&n.runAfter(s.clean),t}});function qIe(e){ii.call(this,null,iAt,e)}Tt(qIe,ii);function iAt(e){return this.value&&!e.modified()?this.value:nt(e.name)?$t(e.name).map(t=>ac(t)):ac(e.name,e.as)}function tQ(e){Ye.call(this,rE(),e)}tQ.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Tt(tQ,Ye,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),s=i.add,o=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,d=>{const f=rn(d);r.has(f)?r.delete(f):o.push(d)}),t.visit(t.ADD,d=>{l(d,e)?s.push(d):r.set(rn(d),1)});function c(d){const f=rn(d),h=l(d,e),p=r.get(f);h&&p?(r.delete(f),s.push(d)):!h&&!p?(r.set(f,1),o.push(d)):u&&h&&!p&&a.push(d)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function nQ(e){Ye.call(this,[],e)}nQ.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Tt(nQ,Ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=BIe(r,e.as||[]),s=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,m)=>Math.max(p,m.length),0);let c=0,d,f,h;for(;c<u;++c){for(f=SX(a),d=0;d<o;++d)f[i[d]]=(h=l[d][c])==null?null:h;s&&(f[s]=c),n.add.push(f)}}),this.value=n.source=n.add,s&&n.modifies(s),n.modifies(i)}});function rQ(e){Ye.call(this,[],e)}rQ.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Tt(rQ,Ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Ki),s=e.as||["key","value"],o=s[0],a=s[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,d;c<l;++c)d=SX(u),d[o]=i[c],d[a]=r[c](u),n.add.push(d)}),this.value=n.source=n.add,n.modifies(s)}});function iQ(e){Ye.call(this,null,e)}iQ.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Tt(iQ,Ye,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),s=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(s,o=>o[r]=n(o,e))}});function HIe(e){Ye.call(this,[],e)}Tt(HIe,Ye,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,s=e.size-i.length,o,a,l;if(s>0){for(o=[];--s>=0;)o.push(l=Nr(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else a=i.slice(0,-s),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-s);return n.source=this.value=i,n}});const hR={value:"value",median:UCe,mean:xht,min:lU,max:Cv},sAt=[];function sQ(e){Ye.call(this,[],e)}sQ.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function oAt(e){var t=e.method||hR.value,n;if(hR[t]==null)et("Unrecognized imputation method: "+t);else return t===hR.value?(n=e.value!==void 0?e.value:0,()=>n):hR[t]}function aAt(e){const t=e.field;return n=>n?t(n):NaN}Tt(sQ,Ye,{transform(e,t){var n=t.fork(t.ALL),r=oAt(e),i=aAt(e),s=Ki(e.field),o=Ki(e.key),a=(e.groupby||[]).map(Ki),l=lAt(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,d=l.domain.length,f,h,p,m,g,v,y,w,E,C;for(g=0,w=l.length;g<w;++g)for(f=l[g],p=f.values,h=NaN,y=0;y<d;++y)if(f[y]==null){for(m=l.domain[y],C={_impute:!0},v=0,E=p.length;v<E;++v)C[a[v]]=p[v];C[o]=m,C[s]=Number.isNaN(h)?h=r(f,i):h,u.push(Nr(C))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function lAt(e,t,n,r){var i=v=>v(g),s=[],o=r?r.slice():[],a={},l={},u,c,d,f,h,p,m,g;for(o.forEach((v,y)=>a[v]=y+1),f=0,m=e.length;f<m;++f)g=e[f],p=n(g),h=a[p]||(a[p]=o.push(p)),c=(u=t?t.map(i):sAt)+"",(d=l[c])||(d=l[c]=[],s.push(d),d.values=u),d[h-1]=g;return s.domain=o,s}function oQ(e){cg.call(this,e)}oQ.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Pk},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Tt(oQ,cg,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,s=>n.add(s))):(i=n.value=n.value||this.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),n.changes(),t.visit(t.SOURCE,s=>{Nn(s,i[n.cellkey(s)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function aQ(e){Ye.call(this,null,e)}aQ.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Tt(aQ,Ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=QX(r,e.groupby,e.field),s=(e.groupby||[]).map(Ki),o=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&et("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=mh(r,e.field)),d=f=e.steps||f),i.forEach(h=>{const p=OX(h,o)[a],m=e.counts?h.length:1,g=c||mh(h);W6(p,g,d,f).forEach(v=>{const y={};for(let w=0;w<s.length;++w)y[s[w]]=h.dims[w];y[l[0]]=v[0],y[l[1]]=v[1]*m,u.push(Nr(y))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function VIe(e){ii.call(this,null,uAt,e)}Tt(VIe,ii);function uAt(e){return this.value&&!e.modified()?this.value:pX(e.fields,e.flat)}function WIe(e){Ye.call(this,[],e),this._pending=null}Tt(WIe,Ye,{transform(e,t){const n=t.dataflow;return this._pending?E9(this,t,this._pending):cAt(e)?t.StopPropagation:e.values?E9(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=$t(i.data),s=>s.touch(this)))}:n.request(e.url,e.format).then(r=>E9(this,t,$t(r.data)))}});function cAt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function E9(e,t,n){n.forEach(Nr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function lQ(e){Ye.call(this,{},e)}lQ.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Tt(lQ,Ye,{transform(e,t){const n=e.fields,r=e.index,i=e.values,s=e.default==null?null:e.default,o=e.modified(),a=n.length;let l=o?t.SOURCE:t.ADD,u=t,c=e.as,d,f,h;return i?(f=i.length,a>1&&!c&&et('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*f&&et('The "as" parameter has too few output field names.'),c=c||i.map(Ki),d=function(p){for(var m=0,g=0,v,y;m<a;++m)if(y=r.get(n[m](p)),y==null)for(v=0;v<f;++v,++g)p[c[g]]=s;else for(v=0;v<f;++v,++g)p[c[g]]=i[v](y)}):(c||et("Missing output field names."),d=function(p){for(var m=0,g;m<a;++m)g=r.get(n[m](p)),p[c[m]]=g??s}),o?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,d),u.modifies(c)}});function GIe(e){ii.call(this,null,dAt,e)}Tt(GIe,ii);function dAt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,s,o;for(s=0;s<n;++s)o=t[s],o[0]<r&&(r=o[0]),o[1]>i&&(i=o[1]);return[r,i]}function YIe(e){ii.call(this,null,fAt,e)}Tt(YIe,ii);function fAt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function KIe(e){Ye.call(this,null,e)}Tt(KIe,Ye,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function uQ(e){cg.call(this,e)}uQ.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Pk,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Tt(uQ,cg,{_transform:cg.prototype.transform,transform(e,t){return this._transform(hAt(e,t),t)}});function hAt(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",s=fa(n).concat(fa(r)),o=mAt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:o.map(()=>i),fields:o.map(a=>pAt(a,n,r,s)),as:o.map(a=>a+""),modified:e.modified.bind(e)}}function pAt(e,t,n,r){return Hl(i=>t(i)===e?n(i):NaN,r,e+"")}function mAt(e,t,n){const r={},i=[];return n.visit(n.SOURCE,s=>{const o=e(s);r[o]||(r[o]=1,i.push(o))}),i.sort(Ak),t?i.slice(0,t):i}function XIe(e){G6.call(this,e)}Tt(XIe,G6,{transform(e,t){const n=e.subflow,r=e.field,i=s=>this.subflow(rn(s),n,t,s);return(e.modified("field")||r&&t.modified(fa(r)))&&et("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,s=>{const o=i(s);r(s).forEach(a=>o.mod(a))}),t.visit(t.ADD,s=>{const o=i(s);r(s).forEach(a=>o.add(Nr(a)))}),t.visit(t.REM,s=>{const o=i(s);r(s).forEach(a=>o.rem(a))})):(t.visit(t.MOD,s=>i(s).mod(s)),t.visit(t.ADD,s=>i(s).add(s)),t.visit(t.REM,s=>i(s).rem(s))),t.clean()&&t.runAfter(()=>this.clean()),t}});function cQ(e){Ye.call(this,null,e)}cQ.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Tt(cQ,Ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=BIe(e.fields,e.as||[]),s=r?(a,l)=>gAt(a,l,r,i):j6;let o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,a=>{const l=rn(a);n.rem.push(o[l]),o[l]=null}),t.visit(t.ADD,a=>{const l=s(a,Nr({}));o[rn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(s(a,o[rn(a)]))}),n}});function gAt(e,t,n,r){for(let i=0,s=n.length;i<s;++i)t[r[i]]=n[i](e);return t}function QIe(e){Ye.call(this,null,e)}Tt(QIe,Ye,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function dQ(e){Ye.call(this,null,e)}dQ.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const yAt=1e-14;Tt(dQ,Ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,s=QX(i,e.groupby,e.field),o=(e.groupby||[]).map(Ki),a=[],l=e.step||.01,u=e.probs||Al(l/2,1-yAt,l),c=u.length;return s.forEach(d=>{const f=AX(d,u);for(let h=0;h<c;++h){const p={};for(let m=0;m<o.length;++m)p[o[m]]=d.dims[m];p[r[0]]=u[h],p[r[1]]=f[h],a.push(Nr(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function JIe(e){Ye.call(this,null,e)}Tt(JIe,Ye,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const s=rn(i);n.rem.push(r[s]),r[s]=null}),t.visit(t.ADD,i=>{const s=SX(i);r[rn(i)]=s,n.add.push(s)}),t.visit(t.MOD,i=>{const s=r[rn(i)];for(const o in i)s[o]=i[o],n.modifies(o);n.mod.push(s)})),n}});function fQ(e){Ye.call(this,[],e),this.count=0}fQ.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Tt(fQ,Ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,s=this.value.reduce((c,d)=>(c[rn(d)]=1,c),{});let o=this.value,a=this.count,l=0;function u(c){let d,f;o.length<i?o.push(c):(f=~~((a+1)*cc()),f<o.length&&f>=l&&(d=o[f],s[rn(d)]&&n.rem.push(d),o[f]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const d=rn(c);s[d]&&(s[d]=-1,n.rem.push(c)),--a}),o=o.filter(c=>s[rn(c)]!==-1)),(t.rem.length||r)&&o.length<i&&t.source&&(l=a=o.length,t.visit(t.SOURCE,c=>{s[rn(c)]||u(c)}),l=-1),r&&o.length>i){const c=o.length-i;for(let d=0;d<c;++d)s[rn(o[d])]=-1,n.rem.push(o[d]);o=o.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{s[rn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=o.filter(c=>!s[rn(c)])),this.count=a,this.value=n.source=o,n}});function hQ(e){Ye.call(this,null,e)}hQ.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Tt(hQ,Ye,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Al(e.start,e.stop,e.step||1).map(i=>{const s={};return s[r]=i,Nr(s)}),n.add=t.add.concat(this.value),n}});function ZIe(e){Ye.call(this,null,e),this.modified(!0)}Tt(ZIe,Ye,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function pQ(e){Ye.call(this,null,e)}const eRe=["unit0","unit1"];pQ.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:vX,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:eRe}]};Tt(pQ,Ye,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",s=this._floor(e,t),o=(i?sE:iE)(s.unit).offset,a=e.as||eRe,l=a[0],u=a[1],c=s.step;let d=s.start||1/0,f=s.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(fa(n)))&&(t=t.reflow(!0),h=t.SOURCE,d=1/0,f=-1/0),t.visit(h,p=>{const m=n(p);let g,v;m==null?(p[l]=null,r&&(p[u]=null)):(p[l]=g=v=s(m),r&&(p[u]=v=o(g,c)),g<d&&(d=g),v>f&&(f=v))}),s.start=d,s.stop=f,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:QAe({extent:e.extent||mh(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=bX(r),o=this.value||{},a=(n?UAe:zAe)(s,i);return a.unit=lr(s),a.units=s,a.step=i,a.start=o.start,a.stop=o.stop,this.value=a}});function tRe(e){Ye.call(this,rE(),e)}Tt(tRe,Ye,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,s=a=>i.set(r(a),a);let o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,s)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,s)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function nRe(e){Ye.call(this,null,e)}Tt(nRe,Ye,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(z1(e.sort)):t.source).map(e.field))}});function vAt(e,t,n,r){const i=lT[e](t,n);return{init:i.init||T0,update:function(s,o){o[r]=i.next(s)}}}const lT={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=lT.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||et("ntile num must be greater than zero.");const n=lT.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||et("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=bAt(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function bAt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const wAt=Object.keys(lT);function rRe(e){const t=$t(e.ops),n=$t(e.fields),r=$t(e.params),i=$t(e.aggregate_params),s=$t(e.as),o=this.outputs=[],a=this.windows=[],l={},u={},c=[],d=[];let f=!0;function h(p){$t(fa(p)).forEach(m=>l[m]=1)}h(e.sort),t.forEach((p,m)=>{const g=n[m],v=r[m],y=i[m]||null,w=Ki(g),E=PIe(p,w,s[m]);if(h(g),o.push(E),zt(lT,p))a.push(vAt(p,g,v,E));else{if(g==null&&p!=="count"&&et("Null aggregate field specified."),p==="count"){c.push(E);return}f=!1;let C=u[w];C||(C=u[w]=[],C.field=g,d.push(C)),C.push(OIe(p,y,E))}}),(c.length||d.length)&&(this.cell=xAt(d,c,f)),this.inputs=Object.keys(l)}const iRe=rRe.prototype;iRe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};iRe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,s=r&&r.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(i[o]);for(o=e.p1;o<e.i1;++o)n.add(i[o]);n.set(t)}for(o=0;o<s;++o)r[o].update(e,t)};function xAt(e,t,n){e=e.map(l=>$Ie(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,s=r.agg=Array(i),o=0;o<i;++o)s[o]=new e[o](r);if(r.store)var a=r.data=new VX;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)s[u].add(s[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)s[u].rem(s[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=s.length;u<c;++u)s[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)s[l].init()},r}function mQ(e){Ye.call(this,{},e),this._mlen=0,this._mods=[]}mQ.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:wAt.concat(Pk)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Tt(mQ,Ye,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=z1(e.sort),i=vq(e.groupby),s=a=>this.group(i(a));let o=this.state;(!o||n)&&(o=this.state=new rRe(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,a=>s(a).add(a))):(t.visit(t.REM,a=>s(a).remove(a)),t.visit(t.ADD,a=>s(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)_At(this._mods[a],o,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=MIe(rn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function _At(e,t,n,r){const i=r.sort,s=i&&!r.ignorePeers,o=r.frame||[null,0],a=e.data(n),l=a.length,u=s?Y_(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||wa(-1)};t.init();for(let d=0;d<l;++d)EAt(c,o,d,l),s&&CAt(c,u),t.update(c,a[d])}function EAt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function CAt(e,t){const n=e.i0,r=e.i1-1,i=e.compare,s=e.data,o=s.length-1;n>0&&!i(s[n],s[n-1])&&(e.i0=t.left(s,s[n])),r<o&&!i(s[r],s[r+1])&&(e.i1=t.right(s,s[r]))}const SAt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:cg,bin:WX,collect:GX,compare:FIe,countpattern:YX,cross:KX,density:XX,dotbin:JX,expression:UIe,extent:ZX,facet:G6,field:qIe,filter:tQ,flatten:nQ,fold:rQ,formula:iQ,generate:HIe,impute:sQ,joinaggregate:oQ,kde:aQ,key:VIe,load:WIe,lookup:lQ,multiextent:GIe,multivalues:YIe,params:KIe,pivot:uQ,prefacet:XIe,project:cQ,proxy:QIe,quantile:dQ,relay:JIe,sample:fQ,sequence:hQ,sieve:ZIe,subflow:eQ,timeunit:pQ,tupleindex:tRe,values:nRe,window:mQ},Symbol.toStringTag,{value:"Module"}));function K0(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const TAt=()=>typeof Image<"u"?Image:null;function gQ(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const kAt="identity",Xx="linear",am="log",Ok="pow",Nk="sqrt",Y6="symlog",e1="time",t1="utc",ih="sequential",aE="diverging",Qx="quantile",K6="quantize",X6="threshold",yQ="ordinal",bq="point",sRe="band",vQ="bin-ordinal",Ws="continuous",$k="discrete",Mk="discretizing",Ec="interpolating",bQ="temporal";function AAt(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function IAt(e){return function(t){const n=e.range();let r=t[0],i=t[1],s=-1,o,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(s<0&&(s=l),o=l);if(!(s<0))return r=e.invertExtent(n[s]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function wQ(){const e=s6().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,s,o=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const d=t().length,f=r[1]<r[0],h=r[1-f],p=gQ(d,a,l);let m=r[f-0];i=(h-m)/(p||1),o&&(i=Math.floor(i)),m+=(h-m-i*(d-a))*u,s=i*(1-a),o&&(m=Math.round(m),s=Math.round(s));const g=Al(d).map(v=>m+i*v);return n(f?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(d){return arguments.length?(o=!!d,c()):o},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,c()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),c()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),c()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=r[1]<r[0],h=f?n().reverse():n(),p=h.length-1;let m=+d[0],g=+d[1],v,y,w;if(!(m!==m||g!==g)&&(g<m&&(w=m,m=g,g=w),!(g<h[0]||m>r[1-f])))return v=Math.max(0,ig(h,m)-1),y=m===g?v:ig(h,g)-1,m-h[v]>s+1e-10&&++v,f&&(w=v,v=p-y,y=p-w),v>y?void 0:t().slice(v,y+1)},e.invert=function(d){const f=e.invertRange([d,d]);return f&&f[0]},e.copy=function(){return wQ().domain(t()).range(r).round(o).paddingInner(a).paddingOuter(l).align(u)},c()}function oRe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return oRe(t())},e}function RAt(){return oRe(wQ().paddingInner(1))}var DAt=Array.prototype.map;function PAt(e){return DAt.call(e,ca)}const OAt=Array.prototype.slice;function aRe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(ig(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=PAt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=OAt.call(r),n):t.slice()},n.tickFormat=function(r,i){return z2e(e[0],lr(e),r??10,i)},n.copy=function(){return aRe().domain(n.domain()).range(n.range())},n}const w4=new Map,lRe=Symbol("vega_scale");function uRe(e){return e[lRe]=!0,e}function ufe(e){return e&&e[lRe]===!0}function NAt(e,t,n){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?AAt(s):s.invertExtent?IAt(s):void 0),s.type=e,uRe(s)};return r.metadata=Dd($t(n)),r}function Ar(e,t,n){return arguments.length>1?(w4.set(e,NAt(e,t,n)),this):cRe(e)?w4.get(e):void 0}Ar(kAt,U2e);Ar(Xx,Z2,Ws);Ar(am,H2e,[Ws,am]);Ar(Ok,wK,Ws);Ar(Nk,N1t,Ws);Ar(Y6,V2e,Ws);Ar(e1,Kbt,[Ws,bQ]);Ar(t1,Xbt,[Ws,bQ]);Ar(ih,SK,[Ws,Ec]);Ar(`${ih}-${Xx}`,SK,[Ws,Ec]);Ar(`${ih}-${am}`,rTe,[Ws,Ec,am]);Ar(`${ih}-${Ok}`,TK,[Ws,Ec]);Ar(`${ih}-${Nk}`,Qbt,[Ws,Ec]);Ar(`${ih}-${Y6}`,iTe,[Ws,Ec]);Ar(`${aE}-${Xx}`,sTe,[Ws,Ec]);Ar(`${aE}-${am}`,oTe,[Ws,Ec,am]);Ar(`${aE}-${Ok}`,kK,[Ws,Ec]);Ar(`${aE}-${Nk}`,Jbt,[Ws,Ec]);Ar(`${aE}-${Y6}`,aTe,[Ws,Ec]);Ar(Qx,W2e,[Mk,Qx]);Ar(K6,t2,Mk);Ar(X6,G2e,Mk);Ar(vQ,aRe,[$k,Mk]);Ar(yQ,s6,$k);Ar(sRe,wQ,$k);Ar(bq,RAt,$k);function cRe(e){return w4.has(e)}function q1(e,t){const n=w4.get(e);return n&&n.metadata[t]}function xQ(e){return q1(e,Ws)}function Jx(e){return q1(e,$k)}function wq(e){return q1(e,Mk)}function dRe(e){return q1(e,am)}function $At(e){return q1(e,bQ)}function fRe(e){return q1(e,Ec)}function hRe(e){return q1(e,Qx)}const MAt=["clamp","base","constant","exponent"];function pRe(e,t){const n=t[0],r=lr(t)-n;return function(i){return e(n+i*r)}}function Q6(e,t,n){return ZY(_Q(t||"rgb",n),e)}function mRe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function gRe(e,t,n){const r=n-t;let i,s,o;return!r||!Number.isFinite(r)?wa(.5):(i=(s=e.type).indexOf("-"),s=i<0?s:s.slice(i+1),o=Ar(s)().domain([t,n]).range([0,1]),MAt.forEach(a=>e[a]?o[a](e[a]()):0),o)}function _Q(e,t){const n=qmt[FAt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function FAt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const LAt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},jAt={accent:ewt,category10:Zbt,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:twt,observable10:nwt,paired:rwt,pastel1:iwt,pastel2:swt,set1:owt,set2:awt,set3:lwt,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function yRe(e){if(nt(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function vRe(e,t){for(const n in e)EQ(n,t(e[n]))}const cfe={};vRe(jAt,yRe);vRe(LAt,e=>Q6(yRe(e)));function EQ(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(cfe[e]=t,this):cfe[e]}const ZD="symbol",BAt="discrete",zAt="gradient",UAt=e=>nt(e)?e.map(t=>String(t)):String(e),qAt=(e,t)=>e[1]-t[1],HAt=(e,t)=>t[1]-e[1];function CQ(e,t,n){let r;return kr(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(Ik(e.domain())/n||1)+1))),Mt(t)&&(r=t.step,t=t.interval),Ft(t)&&(t=e.type===e1?iE(t):e.type==t1?sE(t):et("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function bRe(e,t,n){let r=e.range(),i=r[0],s=lr(r),o=qAt;if(i>s&&(r=s,s=i,i=r,o=HAt),i=Math.floor(i),s=Math.ceil(s),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=s).sort(o).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],lr(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function SQ(e,t){return e.bins?bRe(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function wRe(e,t,n,r,i,s){const o=t.type;let a=UAt;if(o===e1||i===e1)a=e.timeFormat(r);else if(o===t1||i===t1)a=e.utcFormat(r);else if(dRe(o)){const l=e.formatFloat(r);if(s||t.bins)a=l;else{const u=xRe(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function xRe(e,t,n){const r=SQ(e,t),i=e.base(),s=Math.log(i),o=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/s));return u*i<i-.5&&(u*=i),u<=o};return n?r.filter(a):a}const xq={[Qx]:"quantiles",[K6]:"thresholds",[X6]:"domain"},_Re={[Qx]:"quantiles",[K6]:"domain"};function ERe(e,t){return e.bins?GAt(e.bins):e.type===am?xRe(e,t,!0):xq[e.type]?WAt(e[xq[e.type]]()):SQ(e,t)}function VAt(e,t,n){const r=t[_Re[t.type]](),i=r.length;let s=i>1?r[1]-r[0]:r[0],o;for(o=1;o<i;++o)s=Math.min(s,r[o]-r[o-1]);return e.formatSpan(0,s,30,n)}function WAt(e){const t=[-1/0].concat(e);return t.max=1/0,t}function GAt(e){const t=e.slice(0,-1);return t.max=lr(e),t}const YAt=e=>xq[e.type]||e.bins;function CRe(e,t,n,r,i,s,o){const a=_Re[t.type]&&s!==e1&&s!==t1?VAt(e,t,i):wRe(e,t,n,i,s,o);return r===ZD&&YAt(t)?KAt(a):r===BAt?XAt(a):QAt(a)}const KAt=e=>(t,n,r)=>{const i=dfe(r[n+1],dfe(r.max,1/0)),s=ffe(t,e),o=ffe(i,e);return s&&o?s+"  "+o:o?"< "+o:" "+s},dfe=(e,t)=>e??t,XAt=e=>(t,n)=>n?e(t):null,QAt=e=>t=>e(t),ffe=(e,t)=>Number.isFinite(e)?t(e):null;function JAt(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+lr(t),s=i-r;if(e.type===X6){const o=n?s/n:.1;r-=o,i+=o,s=i-r}return o=>(o-r)/s}function ZAt(e,t,n,r){const i=r||t.type;return Ft(n)&&$At(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===e1?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===t1?e.utcFormat("%A, %d %B %Y, %X UTC"):CRe(e,t,5,null,n,r,!0)}function SRe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=ZAt(e,t,n.format,n.formatType);if(wq(t.type)){const s=ERe(t).slice(1).map(i),o=s.length;return`${o} boundar${o===1?"y":"ies"}: ${s.join(", ")}`}else if(Jx(t.type)){const s=t.domain(),o=s.length,a=o>r?s.slice(0,r-2).map(i).join(", ")+", ending with "+s.slice(-1).map(i):s.map(i).join(", ");return`${o} value${o===1?"":"s"}: ${a}`}else{const s=t.domain();return`values from ${i(s[0])} to ${i(lr(s))}`}}let TRe=0;function eIt(){TRe=0}const x4="p_";function TQ(e){return e&&e.gradient}function kRe(e,t,n){const r=e.gradient;let i=e.id,s=r==="radial"?x4:"";return i||(i=e.id="gradient_"+TRe++,r==="radial"?(e.x1=_f(e.x1,.5),e.y1=_f(e.y1,.5),e.r1=_f(e.r1,0),e.x2=_f(e.x2,.5),e.y2=_f(e.y2,.5),e.r2=_f(e.r2,.5),s=x4):(e.x1=_f(e.x1,0),e.y1=_f(e.y1,0),e.x2=_f(e.x2,1),e.y2=_f(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+s+i+")"}function _f(e,t){return e??t}function ARe(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,s){return n.push({offset:i,color:s}),r}}}const hfe={basis:{curve:Owt},"basis-closed":{curve:Nwt},"basis-open":{curve:$wt},bundle:{curve:Mwt,tension:"beta",value:.85},cardinal:{curve:Fwt,tension:"tension",value:0},"cardinal-open":{curve:jwt,tension:"tension",value:0},"cardinal-closed":{curve:Lwt,tension:"tension",value:0},"catmull-rom":{curve:Bwt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:zwt,tension:"alpha",value:.5},"catmull-rom-open":{curve:Uwt,tension:"alpha",value:.5},linear:{curve:IK},"linear-closed":{curve:qwt},monotone:{horizontal:Vwt,vertical:Hwt},natural:{curve:Wwt},step:{curve:Gwt},"step-after":{curve:Kwt},"step-before":{curve:Ywt}};function kQ(e,t,n){var r=zt(hfe,e)&&hfe[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const tIt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},nIt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,rIt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,iIt=/^((\s+,?\s*)|(,\s*))/,sIt=/^[01]/;function Zx(e){const t=[];return(e.match(nIt)||[]).forEach(r=>{let i=r[0];const s=i.toLowerCase(),o=tIt[s],a=oIt(s,o,r.slice(1).trim()),l=a.length;if(l<o||l&&l%o!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,o)]),l!==o){s==="m"&&(i=i==="M"?"L":"l");for(let u=o;u<l;u+=o)t.push([i,...a.slice(u,u+o)])}}),t}function oIt(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let s=0;s<t;++s){const o=e==="a"&&(s===3||s===4)?sIt:rIt,a=n.slice(i).match(o);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(iIt);l!==null&&(i+=l[0].length)}return r}const dg=Math.PI/180,aIt=1e-14,Zy=Math.PI/2,Uf=Math.PI*2,Kb=Math.sqrt(3)/2;var C9={},S9={},IRe=[].join;function lIt(e,t,n,r,i,s,o,a,l){const u=IRe.call(arguments);if(C9[u])return C9[u];const c=o*dg,d=Math.sin(c),f=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=f*(a-e)*.5+d*(l-t)*.5,p=f*(l-t)*.5-d*(a-e)*.5;let m=h*h/(n*n)+p*p/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=f/n,v=d/n,y=-d/r,w=f/r,E=g*a+v*l,C=y*a+w*l,S=g*e+v*t,T=y*e+w*t;let I=1/((S-E)*(S-E)+(T-C)*(T-C))-.25;I<0&&(I=0);let R=Math.sqrt(I);s==i&&(R=-R);const O=.5*(E+S)-R*(T-C),M=.5*(C+T)+R*(S-E),$=Math.atan2(C-M,E-O);let U=Math.atan2(T-M,S-O)-$;U<0&&s===1?U+=Uf:U>0&&s===0&&(U-=Uf);const B=Math.ceil(Math.abs(U/(Zy+.001))),V=[];for(let G=0;G<B;++G){const Y=$+G*U/B,z=$+(G+1)*U/B;V[G]=[O,M,Y,z,n,r,d,f]}return C9[u]=V}function uIt(e){const t=IRe.call(e);if(S9[t])return S9[t];var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7];const c=u*o,d=-l*a,f=l*o,h=u*a,p=Math.cos(i),m=Math.sin(i),g=Math.cos(s),v=Math.sin(s),y=.5*(s-i),w=Math.sin(y*.5),E=8/3*w*w/Math.sin(y),C=n+p-E*m,S=r+m+E*p,T=n+g,k=r+v,I=T+E*v,R=k-E*g;return S9[t]=[c*C+d*S,f*C+h*S,c*I+d*R,f*I+h*R,c*T+d*k,f*T+h*k]}const $u=["l",0,0,0,0,0,0,0];function cIt(e,t,n){const r=$u[0]=e[0];if(r==="a"||r==="A")$u[1]=t*e[1],$u[2]=n*e[2],$u[3]=e[3],$u[4]=e[4],$u[5]=e[5],$u[6]=t*e[6],$u[7]=n*e[7];else if(r==="h"||r==="H")$u[1]=t*e[1];else if(r==="v"||r==="V")$u[1]=n*e[1];else for(var i=1,s=e.length;i<s;++i)$u[i]=(i%2==1?t:n)*e[i];return $u}function uT(e,t,n,r,i,s){var o,a=null,l=0,u=0,c=0,d=0,f,h,p,m,g=0,v=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),s==null&&(s=i),e.beginPath&&e.beginPath();for(var y=0,w=t.length;y<w;++y){switch(o=t[y],(i!==1||s!==1)&&(o=cIt(o,i,s)),o[0]){case"l":l+=o[1],u+=o[2],e.lineTo(l+n,u+r);break;case"L":l=o[1],u=o[2],e.lineTo(l+n,u+r);break;case"h":l+=o[1],e.lineTo(l+n,u+r);break;case"H":l=o[1],e.lineTo(l+n,u+r);break;case"v":u+=o[1],e.lineTo(l+n,u+r);break;case"V":u=o[1],e.lineTo(l+n,u+r);break;case"m":l+=o[1],u+=o[2],g=l,v=u,e.moveTo(l+n,u+r);break;case"M":l=o[1],u=o[2],g=l,v=u,e.moveTo(l+n,u+r);break;case"c":f=l+o[5],h=u+o[6],c=l+o[3],d=u+o[4],e.bezierCurveTo(l+o[1]+n,u+o[2]+r,c+n,d+r,f+n,h+r),l=f,u=h;break;case"C":l=o[5],u=o[6],c=o[3],d=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,c+n,d+r,l+n,u+r);break;case"s":f=l+o[3],h=u+o[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,l+o[1]+n,u+o[2]+r,f+n,h+r),c=l+o[1],d=u+o[2],l=f,u=h;break;case"S":f=o[3],h=o[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,o[1]+n,o[2]+r,f+n,h+r),l=f,u=h,c=o[1],d=o[2];break;case"q":f=l+o[3],h=u+o[4],c=l+o[1],d=u+o[2],e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"Q":f=o[3],h=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,f+n,h+r),l=f,u=h,c=o[1],d=o[2];break;case"t":f=l+o[1],h=u+o[2],a[0].match(/[QqTt]/)===null?(c=l,d=u):a[0]==="t"?(c=2*l-p,d=2*u-m):a[0]==="q"&&(c=2*l-c,d=2*u-d),p=c,m=d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h,c=l+o[1],d=u+o[2];break;case"T":f=o[1],h=o[2],c=2*l-c,d=2*u-d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"a":pfe(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+l+n,o[7]+u+r]),l+=o[6],u+=o[7];break;case"A":pfe(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),l=o[6],u=o[7];break;case"z":case"Z":l=g,u=v,e.closePath();break}a=o}}function pfe(e,t,n,r){const i=lIt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let s=0;s<i.length;++s){const o=uIt(i[s]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const mfe=.5773502691896257,gfe={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Uf)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,s=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-s),e.lineTo(i,-s),e.lineTo(0,-n),e.lineTo(-i,-s),e.lineTo(-r,-s),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kb*n,i=r-n*mfe,s=n/4;e.moveTo(0,-r-i),e.lineTo(-s,r-i),e.lineTo(s,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kb*n,i=r-n*mfe;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kb*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kb*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kb*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kb*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function RRe(e){return zt(gfe,e)?gfe[e]:dIt(e)}var T9={};function dIt(e){if(!zt(T9,e)){const t=Zx(e);T9[e]={draw:function(n,r){uT(n,t,0,0,Math.sqrt(r)/2)}}}return T9[e]}const n0=.448084975506;function fIt(e){return e.x}function hIt(e){return e.y}function pIt(e){return e.width}function mIt(e){return e.height}function sp(e){return typeof e=="function"?e:()=>+e}function pR(e,t,n){return Math.max(t,Math.min(e,n))}function DRe(){var e=fIt,t=hIt,n=pIt,r=mIt,i=sp(0),s=i,o=i,a=i,l=null;function u(c,d,f){var h,p=d??+e.call(this,c),m=f??+t.call(this,c),g=+n.call(this,c),v=+r.call(this,c),y=Math.min(g,v)/2,w=pR(+i.call(this,c),0,y),E=pR(+s.call(this,c),0,y),C=pR(+o.call(this,c),0,y),S=pR(+a.call(this,c),0,y);if(l||(l=h=Z$()),w<=0&&E<=0&&C<=0&&S<=0)l.rect(p,m,g,v);else{var T=p+g,k=m+v;l.moveTo(p+w,m),l.lineTo(T-E,m),l.bezierCurveTo(T-n0*E,m,T,m+n0*E,T,m+E),l.lineTo(T,k-S),l.bezierCurveTo(T,k-n0*S,T-n0*S,k,T-S,k),l.lineTo(p+C,k),l.bezierCurveTo(p+n0*C,k,p,k-n0*C,p,k-C),l.lineTo(p,m+w),l.bezierCurveTo(p,m+n0*w,p+n0*w,m,p+w,m),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=sp(c),u):e},u.y=function(c){return arguments.length?(t=sp(c),u):t},u.width=function(c){return arguments.length?(n=sp(c),u):n},u.height=function(c){return arguments.length?(r=sp(c),u):r},u.cornerRadius=function(c,d,f,h){return arguments.length?(i=sp(c),s=d!=null?sp(d):i,a=f!=null?sp(f):i,o=h!=null?sp(h):s,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function PRe(){var e,t,n,r,i=null,s,o,a,l;function u(d,f,h){const p=h/2;if(s){var m=a-f,g=d-o;if(m||g){var v=Math.hypot(m,g),y=(m/=v)*l,w=(g/=v)*l,E=Math.atan2(g,m);i.moveTo(o-y,a-w),i.lineTo(d-m*p,f-g*p),i.arc(d,f,p,E-Math.PI,E),i.lineTo(o+y,a+w),i.arc(o,a,l,E,E+Math.PI)}else i.arc(d,f,p,0,Uf);i.closePath()}else s=1;o=d,a=f,l=p}function c(d){var f,h=d.length,p,m=!1,g;for(i==null&&(i=g=Z$()),f=0;f<=h;++f)!(f<h&&r(p=d[f],f,d))===m&&(m=!m)&&(s=0),m&&u(+e(p,f,d),+t(p,f,d),+n(p,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=d,c):e},c.y=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(n=d,c):n},c.defined=function(d){return arguments.length?(r=d,c):r},c.context=function(d){return arguments.length?(d==null?i=null:i=d,c):i},c}function Fk(e,t){return e??t}const Lk=e=>e.x||0,jk=e=>e.y||0,gIt=e=>e.width||0,yIt=e=>e.height||0,vIt=e=>(e.x||0)+(e.width||0),bIt=e=>(e.y||0)+(e.height||0),wIt=e=>e.startAngle||0,xIt=e=>e.endAngle||0,_It=e=>e.padAngle||0,EIt=e=>e.innerRadius||0,CIt=e=>e.outerRadius||0,SIt=e=>e.cornerRadius||0,TIt=e=>Fk(e.cornerRadiusTopLeft,e.cornerRadius)||0,kIt=e=>Fk(e.cornerRadiusTopRight,e.cornerRadius)||0,AIt=e=>Fk(e.cornerRadiusBottomRight,e.cornerRadius)||0,IIt=e=>Fk(e.cornerRadiusBottomLeft,e.cornerRadius)||0,RIt=e=>Fk(e.size,64),DIt=e=>e.size||1,J6=e=>e.defined!==!1,PIt=e=>RRe(e.shape||"circle"),OIt=Rwt().startAngle(wIt).endAngle(xIt).padAngle(_It).innerRadius(EIt).outerRadius(CIt).cornerRadius(SIt),NIt=pTe().x(Lk).y1(jk).y0(bIt).defined(J6),$It=pTe().y(jk).x1(Lk).x0(vIt).defined(J6),MIt=hTe().x(Lk).y(jk).defined(J6),FIt=DRe().x(Lk).y(jk).width(gIt).height(yIt).cornerRadius(TIt,kIt,AIt,IIt),LIt=Pwt().type(PIt).size(RIt),jIt=PRe().x(Lk).y(jk).defined(J6).size(DIt);function AQ(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function BIt(e,t){return OIt.context(e)(t)}function zIt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?$It:NIt).curve(kQ(r,n.orient,n.tension)).context(e)(t)}function UIt(e,t){const n=t[0],r=n.interpolate||"linear";return MIt.curve(kQ(r,n.orient,n.tension)).context(e)(t)}function lE(e,t,n,r){return FIt.context(e)(t,n,r)}function qIt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function HIt(e,t){return LIt.context(e)(t)}function VIt(e,t){return jIt.context(e)(t)}var ORe=1;function NRe(){ORe=1}function IQ(e,t,n){var r=t.clip,i=e._defs,s=t.clip_id||(t.clip_id="clip"+ORe++),o=i.clipping[s]||(i.clipping[s]={id:s});return $n(r)?o.path=r(null):AQ(n)?o.path=lE(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+s+")"}function ws(e){this.clear(),e&&this.union(e)}ws.prototype={clone(){return new ws(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:s,y2:o}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*o+u,l*r+a*o+c,a*s-l*i+u,l*s+a*i+c,a*s-l*o+u,l*s+a*o+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Z6(e){this.mark=e,this.bounds=this.bounds||new ws}function e5(e){Z6.call(this,e),this.items=this.items||[]}Tt(e5,Z6);class $Re{constructor(t){this._pending=0,this._loader=t||M6()}pending(){return this._pending}sanitizeURL(t){const n=this;return yfe(n),n._loader.sanitize(t,{context:"href"}).then(r=>(EC(n),r)).catch(()=>(EC(n),null))}loadImage(t){const n=this,r=TAt();return yfe(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const s=i.href;if(!s||!r)throw{url:s};const o=new r,a=zt(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(o.crossOrigin=a),o.onload=()=>EC(n),o.onerror=()=>EC(n),o.src=s,o}).catch(i=>(EC(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function yfe(e){e._pending+=1}function EC(e){e._pending-=1}function Em(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?WIt(t,r):0))}return e}function WIt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const GIt=Uf-1e-8;let t5,eP,tP,pv,_q,nP,Eq,Cq;const P0=(e,t)=>t5.add(e,t),rP=(e,t)=>P0(eP=e,tP=t),vfe=e=>P0(e,t5.y1),bfe=e=>P0(t5.x1,e),ev=(e,t)=>_q*e+Eq*t,tv=(e,t)=>nP*e+Cq*t,k9=(e,t)=>P0(ev(e,t),tv(e,t)),A9=(e,t)=>rP(ev(e,t),tv(e,t));function Bk(e,t){return t5=e,t?(pv=t*dg,_q=Cq=Math.cos(pv),nP=Math.sin(pv),Eq=-nP):(_q=Cq=1,pv=nP=Eq=0),YIt}const YIt={beginPath(){},closePath(){},moveTo:A9,lineTo:A9,rect(e,t,n,r){pv?(k9(e+n,t),k9(e+n,t+r),k9(e,t+r),A9(e,t)):(P0(e+n,t+r),rP(e,t))},quadraticCurveTo(e,t,n,r){const i=ev(e,t),s=tv(e,t),o=ev(n,r),a=tv(n,r);wfe(eP,i,o,vfe),wfe(tP,s,a,bfe),rP(o,a)},bezierCurveTo(e,t,n,r,i,s){const o=ev(e,t),a=tv(e,t),l=ev(n,r),u=tv(n,r),c=ev(i,s),d=tv(i,s);xfe(eP,o,l,c,vfe),xfe(tP,a,u,d,bfe),rP(c,d)},arc(e,t,n,r,i,s){if(r+=pv,i+=pv,eP=n*Math.cos(i)+e,tP=n*Math.sin(i)+t,Math.abs(i-r)>GIt)P0(e-n,t-n),P0(e+n,t+n);else{const o=u=>P0(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(o(r),o(i),i!==r)if(r=r%Uf,r<0&&(r+=Uf),i=i%Uf,i<0&&(i+=Uf),i<r&&(s=!s,a=r,r=i,i=a),s)for(i-=Uf,a=r-r%Zy,l=0;l<4&&a>i;++l,a-=Zy)o(a);else for(a=r-r%Zy+Zy,l=0;l<4&&a<i;++l,a=a+Zy)o(a)}}};function wfe(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function xfe(e,t,n,r,i){const s=r-e+3*t-3*n,o=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(s)>aIt?(c=o*o+a*s,c>=0&&(c=Math.sqrt(c),l=(-o+c)/s,u=(-o-c)/s)):l=.5*a/o,0<l&&l<1&&i(_fe(l,e,t,n,r)),0<u&&u<1&&i(_fe(u,e,t,n,r))}function _fe(e,t,n,r,i){const s=1-e,o=s*s,a=e*e;return o*s*t+3*o*e*n+3*s*a*r+a*e*i}var X0=(X0=K0(1,1))?X0.getContext("2d"):null;const Sq=new ws;function RQ(e){return function(t,n){if(!X0)return!0;e(X0,t),Sq.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:s,y2:o}=Sq;for(let a=i;a<=o;++a)for(let l=r;l<=s;++l)if(X0.isPointInPath(l,a))return!0;return!1}}function DQ(e,t){return t.contains(e.x||0,e.y||0)}function MRe(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,s=e.height||0;return t.intersects(Sq.set(n,r,n+i,r+s))}function FRe(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,s=e.y2!=null?e.y2:r;return Fw(t,n,r,i,s)}function Fw(e,t,n,r,i){const{x1:s,y1:o,x2:a,y2:l}=e,u=r-t,c=i-n;let d=0,f=1,h,p,m,g;for(g=0;g<4;++g){if(g===0&&(h=-u,p=-(s-t)),g===1&&(h=u,p=a-t),g===2&&(h=-c,p=-(o-n)),g===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(m=p/h,h<0){if(m>f)return!1;m>d&&(d=m)}else if(h>0){if(m<d)return!1;m<f&&(f=m)}}return!0}function e_(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Wc(e,t){return e??t}function Efe(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function KIt(e,t,n){const r=n.width(),i=n.height();let s;if(t.gradient==="radial")s=e.createRadialGradient(n.x1+Wc(t.x1,.5)*r,n.y1+Wc(t.y1,.5)*i,Math.max(r,i)*Wc(t.r1,0),n.x1+Wc(t.x2,.5)*r,n.y1+Wc(t.y2,.5)*i,Math.max(r,i)*Wc(t.r2,.5));else{const o=Wc(t.x1,0),a=Wc(t.y1,0),l=Wc(t.x2,1),u=Wc(t.y2,0);if(o===l||a===u||r===i)s=e.createLinearGradient(n.x1+o*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=K0(Math.ceil(r),Math.ceil(i)),d=c.getContext("2d");return d.scale(r,i),d.fillStyle=Efe(d.createLinearGradient(o,a,l,u),t.stops),d.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return Efe(s,t.stops)}function LRe(e,t,n){return TQ(n)?KIt(e,n,t.bounds):n}function _4(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=LRe(e,t,t.fill),!0):!1}var XIt=[];function t_(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=LRe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||XIt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function QIt(e,t){return e.zindex-t.zindex||e.index-t.index}function PQ(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,s;for(i=0,s=t.length;i<s;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(QIt)}function Od(e,t){var n=e.items,r,i;if(!n||!n.length)return;const s=PQ(e);if(s&&s.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=s}for(r=0,i=n.length;r<i;++r)t(n[r])}function E4(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const s=PQ(e);for(s&&s.length&&(n=s),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===s){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function OQ(e){return function(t,n,r){Od(n,i=>{(!r||r.intersects(i.bounds))&&jRe(e,t,i,i)})}}function JIt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&jRe(e,t,n.items[0],n.items)}}function jRe(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(e_(t,n),n.fill&&_4(t,n,i)&&t.fill(),n.stroke&&t_(t,n,i)&&t.stroke()))}function n5(e){return e=e||lc,function(t,n,r,i,s,o){return r*=t.pixelRatio,i*=t.pixelRatio,E4(n,a=>{const l=a.bounds;if(!(l&&!l.contains(s,o)||!l)&&e(t,a,r,i,s,o))return a})}}function zk(e,t){return function(n,r,i,s){var o=Array.isArray(r)?r[0]:r,a=t??o.fill,l=o.stroke&&n.isPointInStroke,u,c;return l&&(u=o.strokeWidth,c=o.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,s)||l&&n.isPointInStroke(i,s)}}function NQ(e){return n5(zk(e))}function Av(e,t){return"translate("+e+","+t+")"}function $Q(e){return"rotate("+e+")"}function ZIt(e,t){return"scale("+e+","+t+")"}function BRe(e){return Av(e.x||0,e.y||0)}function eRt(e){return Av(e.x||0,e.y||0)+(e.angle?" "+$Q(e.angle):"")}function tRt(e){return Av(e.x||0,e.y||0)+(e.angle?" "+$Q(e.angle):"")+(e.scaleX||e.scaleY?" "+ZIt(e.scaleX||1,e.scaleY||1):"")}function MQ(e,t,n){function r(o,a){o("transform",eRt(a)),o("d",t(null,a))}function i(o,a){return t(Bk(o,a.angle),a),Em(o,a).translate(a.x||0,a.y||0)}function s(o,a){var l=a.x||0,u=a.y||0,c=a.angle||0;o.translate(l,u),c&&o.rotate(c*=dg),o.beginPath(),t(o,a),c&&o.rotate(-c),o.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:OQ(s),pick:NQ(s),isect:n||RQ(s)}}var nRt=MQ("arc",BIt);function rRt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,s=1/0,o,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<s&&(s=a,o=e[i]));return o}function iRt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,s,o;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],s=e[r].y-t[1],o=i*i+s*s,o<n))return e[r];return null}function sRt(e,t){for(var n=e.length,r,i,s;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],s=r*r+i*i,r=e[n].size||1,s<r*r))return e[n];return null}function FQ(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(Bk(l),c),Em(l,c[0]))}function s(l,u){l.beginPath(),t(l,u)}const o=zk(s);function a(l,u,c,d,f,h){var p=u.items,m=u.bounds;return!p||!p.length||m&&!m.contains(f,h)?null:(c*=l.pixelRatio,d*=l.pixelRatio,o(l,p,c,d)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:JIt(s),pick:a,isect:DQ,tip:n}}var oRt=FQ("area",zIt,rRt);function aRt(e,t){var n=t.clip;e.save(),$n(n)?(e.beginPath(),n(e),e.clip()):zRe(e,t.group)}function zRe(e,t){e.beginPath(),AQ(t)?lE(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function URe(e){const t=Wc(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function lRt(e,t){e("transform",BRe(t))}function qRe(e,t){const n=URe(t);e("d",lE(null,t,n,n))}function uRt(e,t){e("class","background"),e("aria-hidden",!0),qRe(e,t)}function cRt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?qRe(e,t):e("d","")}function dRt(e,t,n){const r=t.clip?IQ(n,t,t):null;e("clip-path",r)}function fRt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Em(e,t),e.translate(t.x||0,t.y||0)}function cT(e,t,n,r){const i=URe(t);e.beginPath(),lE(e,t,(n||0)+i,(r||0)+i)}const hRt=zk(cT),pRt=zk(cT,!1),mRt=zk(cT,!0);function gRt(e,t,n,r){Od(t,i=>{const s=i.x||0,o=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(cT(e,i,s,o),e_(e,i),i.fill&&_4(e,i,l)&&e.fill(),i.stroke&&!a&&t_(e,i,l)&&e.stroke()),e.save(),e.translate(s,o),i.clip&&zRe(e,i),n&&n.translate(-s,-o),Od(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(s,o),e.restore(),a&&i.stroke&&l&&(cT(e,i,s,o),e_(e,i),t_(e,i,l)&&e.stroke())})}function yRt(e,t,n,r,i,s){if(t.bounds&&!t.bounds.contains(i,s)||!t.items)return null;const o=n*e.pixelRatio,a=r*e.pixelRatio;return E4(t,l=>{let u,c,d;const f=l.bounds;if(f&&!f.contains(i,s))return;c=l.x||0,d=l.y||0;const h=c+(l.width||0),p=d+(l.height||0),m=l.clip;if(m&&(i<c||i>h||s<d||s>p))return;if(e.save(),e.translate(c,d),c=i-c,d=s-d,m&&AQ(l)&&!mRt(e,l,o,a))return e.restore(),null;const g=l.strokeForeground,v=t.interactive!==!1;return v&&g&&l.stroke&&pRt(e,l,o,a)?(e.restore(),l):(u=E4(l,y=>vRt(y,c,d)?this.pick(y,n,r,c,d):null),!u&&v&&(l.fill||!g&&l.stroke)&&hRt(e,l,o,a)&&(u=l),e.restore(),u||null)})}function vRt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var bRt={type:"group",tag:"g",nested:!1,attr:lRt,bound:fRt,draw:gRt,pick:yRt,isect:MRe,content:dRt,background:uRt,foreground:cRt},dT={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function LQ(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function jQ(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function BQ(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function r5(e,t){return e==="center"?t/2:e==="right"?t:0}function i5(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function wRt(e,t,n){const r=LQ(t,n),i=jQ(t,r),s=BQ(t,r),o=(t.x||0)-r5(t.align,i),a=(t.y||0)-i5(t.baseline,s),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,dT["xmlns:xlink"],"xlink:href"),e("transform",Av(o,a)),e("width",i),e("height",s),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function xRt(e,t){const n=t.image,r=jQ(t,n),i=BQ(t,n),s=(t.x||0)-r5(t.align,r),o=(t.y||0)-i5(t.baseline,i);return e.set(s,o,s+r,o+i)}function _Rt(e,t,n){Od(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=LQ(r,this);let s=jQ(r,i),o=BQ(r,i);if(s===0||o===0)return;let a=(r.x||0)-r5(r.align,s),l=(r.y||0)-i5(r.baseline,o),u,c,d,f;r.aspect!==!1&&(c=i.width/i.height,d=r.width/r.height,c===c&&d===d&&c!==d&&(d<c?(f=s/c,l+=(o-f)/2,o=f):(f=o*c,a+=(s-f)/2,s=f))),(i.complete||i.toDataURL)&&(e_(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,s,o))})}var ERt={type:"image",tag:"image",nested:!1,attr:wRt,bound:xRt,draw:_Rt,pick:n5(),isect:lc,get:LQ,xOffset:r5,yOffset:i5},CRt=FQ("line",UIt,iRt);function SRt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",tRt(t)),e("d",t.path)}function iP(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,s=t.scaleX||1,o=t.scaleY||1,a=(t.angle||0)*dg,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=Zx(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),uT(e,l,0,0,s,o),e.rotate(-a),e.translate(-r,-i)):uT(e,l,r,i,s,o)}function TRt(e,t){return iP(Bk(e,t.angle),t)?e.set(0,0,0,0):Em(e,t,!0)}var kRt={type:"path",tag:"path",nested:!1,attr:SRt,bound:TRt,draw:OQ(iP),pick:NQ(iP),isect:RQ(iP)};function ARt(e,t){e("d",lE(null,t))}function IRt(e,t){var n,r;return Em(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function Cfe(e,t){e.beginPath(),lE(e,t)}var RRt={type:"rect",tag:"path",nested:!1,attr:ARt,bound:IRt,draw:OQ(Cfe),pick:NQ(Cfe),isect:MRe};function DRt(e,t){e("transform",BRe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function PRt(e,t){var n,r;return Em(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function HRe(e,t,n){var r,i,s,o;return t.stroke&&t_(e,t,n)?(r=t.x||0,i=t.y||0,s=t.x2!=null?t.x2:r,o=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(s,o),!0):!1}function ORt(e,t,n){Od(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&HRe(e,r,i)&&(e_(e,r),e.stroke())}})}function NRt(e,t,n,r){return e.isPointInStroke?HRe(e,t,1)&&e.isPointInStroke(n,r):!1}var $Rt={type:"rule",tag:"line",nested:!1,attr:DRt,bound:PRt,draw:ORt,pick:n5(NRt),isect:FRe},MRt=MQ("shape",qIt),FRt=MQ("symbol",HIt,DQ);const Sfe=AAe();var uu={height:Mh,measureWidth:zQ,estimateWidth:C4,width:C4,canvas:VRe};VRe(!0);function VRe(e){uu.width=e&&X0?zQ:C4}function C4(e,t){return WRe(hg(e,t),Mh(e))}function WRe(e,t){return~~(.8*e.length*t)}function zQ(e,t){return Mh(e)<=0||!(t=hg(e,t))?0:GRe(t,s5(e))}function GRe(e,t){const n=`(${t}) ${e}`;let r=Sfe.get(n);return r===void 0&&(X0.font=t,r=X0.measureText(e).width,Sfe.set(n,r)),r}function Mh(e){return e.fontSize!=null?+e.fontSize||0:11}function fg(e){return e.lineHeight!=null?e.lineHeight:Mh(e)+2}function LRt(e){return nt(e)?e.length>1?e:e[0]:e}function Uk(e){return LRt(e.lineBreak&&e.text&&!nt(e.text)?e.text.split(e.lineBreak):e.text)}function UQ(e){const t=Uk(e);return(nt(t)?t.length-1:0)*fg(e)}function hg(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?BRt(e,n):n}function jRt(e){if(uu.width===zQ){const t=s5(e);return n=>GRe(n,t)}else if(uu.width===C4){const t=Mh(e);return n=>WRe(n,t)}else return t=>uu.width(e,t)}function BRt(e,t){var n=+e.limit,r=jRt(e);if(r(t)<n)return t;var i=e.ellipsis||"",s=e.dir==="rtl",o=0,a=t.length,l;if(n-=r(i),s){for(;o<a;)l=o+a>>>1,r(t.slice(l))>n?o=l+1:a=l;return i+t.slice(o)}else{for(;o<a;)l=1+(o+a>>>1),r(t.slice(0,l))<n?o=l:a=l-1;return t.slice(0,o)+i}}function qk(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function s5(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Mh(e)+"px "+qk(e,t)}function qQ(e){var t=e.baseline,n=Mh(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*fg(e):t==="line-bottom"?.29*n-.5*fg(e):0)}const zRt={left:"start",center:"middle",right:"end"},r2=new ws;function o5(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Zy,t+=r*Math.cos(i),n+=r*Math.sin(i)),r2.x1=t,r2.y1=n,r2}function URt(e,t){var n=t.dx||0,r=(t.dy||0)+qQ(t),i=o5(t),s=i.x1,o=i.y1,a=t.angle||0,l;e("text-anchor",zRt[t.align]||"start"),a?(l=Av(s,o)+" "+$Q(a),(n||r)&&(l+=" "+Av(n,r))):l=Av(s+n,o+r),e("transform",l)}function HQ(e,t,n){var r=uu.height(t),i=t.align,s=o5(t),o=s.x1,a=s.y1,l=t.dx||0,u=(t.dy||0)+qQ(t)-Math.round(.8*r),c=Uk(t),d;if(nt(c)?(r+=fg(t)*(c.length-1),d=c.reduce((f,h)=>Math.max(f,uu.width(t,h)),0)):d=uu.width(t,c),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=o,u+=a,l+d,u+r),t.angle&&!n)e.rotate(t.angle*dg,o,a);else if(n===2)return e.rotatedPoints(t.angle*dg,o,a);return e}function qRt(e,t,n){Od(t,r=>{var i=r.opacity==null?1:r.opacity,s,o,a,l,u,c,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=s5(r),e.textAlign=r.align||"left",s=o5(r),o=s.x1,a=s.y1,r.angle&&(e.save(),e.translate(o,a),e.rotate(r.angle*dg),o=a=0),o+=r.dx||0,a+=(r.dy||0)+qQ(r),c=Uk(r),e_(e,r),nt(c))for(u=fg(r),l=0;l<c.length;++l)d=hg(r,c[l]),r.fill&&_4(e,r,i)&&e.fillText(d,o,a),r.stroke&&t_(e,r,i)&&e.strokeText(d,o,a),a+=u;else d=hg(r,c),r.fill&&_4(e,r,i)&&e.fillText(d,o,a),r.stroke&&t_(e,r,i)&&e.strokeText(d,o,a);r.angle&&e.restore()}})}function HRt(e,t,n,r,i,s){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=o5(t),a=o.x1,l=o.y1,u=HQ(r2,t,1),c=-t.angle*dg,d=Math.cos(c),f=Math.sin(c),h=d*i-f*s+(a-d*a+f*l),p=f*i+d*s+(l-f*a-d*l);return u.contains(h,p)}function VRt(e,t){const n=HQ(r2,e,2);return Fw(t,n[0],n[1],n[2],n[3])||Fw(t,n[0],n[1],n[4],n[5])||Fw(t,n[4],n[5],n[6],n[7])||Fw(t,n[2],n[3],n[6],n[7])}var WRt={type:"text",tag:"text",nested:!1,attr:URt,bound:HQ,draw:qRt,pick:n5(HRt),isect:VRt},GRt=FQ("trail",VIt,sRt),xu={arc:nRt,area:oRt,group:bRt,image:ERt,line:CRt,path:kRt,rect:RRt,rule:$Rt,shape:MRt,symbol:FRt,text:WRt,trail:GRt};function Tq(e,t,n){var r=xu[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new ws),e,n)}var Tfe={mark:null};function YRe(e,t,n){var r=xu[e.marktype],i=r.bound,s=e.items,o=s&&s.length,a,l,u,c;if(r.nested)return o?u=s[0]:(Tfe.mark=e,u=Tfe),c=Tq(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new ws,o)for(a=0,l=s.length;a<l;++a)t.union(Tq(s[a],i,n));return e.bounds=t}const YRt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function KRe(e,t){return JSON.stringify(e,YRt,t)}function XRe(e){const t=typeof e=="string"?JSON.parse(e):e;return QRe(t)}function QRe(e){var t=e.marktype,n=e.items,r,i,s;if(n)for(i=0,s=n.length;i<s;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&QRe(n[i]);return t&&YRe(e),e}class JRe{constructor(t){arguments.length?this.root=XRe(t):(this.root=kfe({marktype:"group",name:"root",role:"frame"}),this.root.items=[new e5(this.root)])}toJSON(t){return KRe(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=kfe(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function kfe(e,t){const n={bounds:new ws,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function O0(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function VQ(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Fs(e,t,n,r){var i=e.childNodes[t],s;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(s=i||null,i=O0(e.ownerDocument,n,r),e.insertBefore(i,s)),i}function qu(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function ZRe(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function a5(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function KRt(e,t,n,r){var i=e&&e.mark,s,o;if(i&&(s=xu[i.marktype]).tip){for(o=a5(t,n),o[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=s.tip(i.items,o)}return e}let WQ=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||M6(),this._tooltip=n||XRt}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const s=new MouseEvent(t.type,t),o=O0(null,"a");for(const a in i)o.setAttribute(a,i[a]);o.dispatchEvent(s)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=KRt(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,s=t.bounds,o=s.width(),a=s.height();let l=s.x1+i[0]+r.left,u=s.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:o,height:a,left:l,top:u,right:l+o,bottom:u+a}}};function XRt(e,t,n,r){e.element().setAttribute("title",r||"")}class Hk{constructor(t){this._el=null,this._bgcolor=null,this._loader=new $Re(t)}initialize(t,n,r,i,s){return this._el=t,this.resize(n,r,i,s)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const s=r._call;r._ready=r._loader.ready().then(o=>{o&&s(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const QRt="keydown",JRt="keypress",ZRt="keyup",e3e="dragenter",sP="dragleave",t3e="dragover",kq="pointerdown",e3t="pointerup",S4="pointermove",oP="pointerout",n3e="pointerover",Aq="mousedown",t3t="mouseup",r3e="mousemove",T4="mouseout",i3e="mouseover",k4="click",n3t="dblclick",r3t="wheel",s3e="mousewheel",A4="touchstart",I4="touchmove",R4="touchend",i3t=[QRt,JRt,ZRt,e3e,sP,t3e,kq,e3t,S4,oP,n3e,Aq,t3t,r3e,T4,i3e,k4,n3t,r3t,s3e,A4,I4,R4],Iq=S4,i2=T4,Rq=k4;class Vk extends WQ{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=i3t,this.pointermove=Ife([S4,r3e],[n3e,i3e],[oP,T4]),this.dragover=Ife([t3e],[e3e],[sP]),this.pointerout=Rfe([oP,T4]),this.dragleave=Rfe([sP])}initialize(t,n,r){return this._canvas=t&&VQ(t,"canvas"),[k4,Aq,kq,S4,oP,sP].forEach(i=>Afe(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(s3e,t)}pointerdown(t){this._down=this._active,this.fire(kq,t)}mousedown(t){this._down=this._active,this.fire(Aq,t)}click(t){this._down===this._active&&(this.fire(k4,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(A4,t,!0)}touchmove(t){this.fire(I4,t,!0)}touchend(t){this.fire(R4,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,s=this._handlers[t];if(n.vegaType=t,t===Rq&&i&&i.href?this.handleHref(n,i,i.href):(t===Iq||t===i2)&&this.handleTooltip(n,i,t!==i2),s)for(let o=0,a=s.length;o<a;++o)s[o].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(Afe(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&i.splice(s,1),this}pickEvent(t){const n=a5(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,s){const o=this.context();return xu[t.marktype].pick.call(this,o,t,n,r,i,s)}}const s3t=e=>e===A4||e===I4||e===R4?[A4,I4,R4]:[e];function Afe(e,t){s3t(t).forEach(n=>o3t(e,n))}function o3t(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function SS(e,t,n){t.forEach(r=>e.fire(r,n))}function Ife(e,t,n){return function(r){const i=this._active,s=this.pickEvent(r);s===i?SS(this,e,r):((!i||!i.exit)&&SS(this,n,r),this._active=s,SS(this,t,r),SS(this,e,r))}}function Rfe(e){return function(t){SS(this,e,t),this._active=null}}function a3t(){return typeof window<"u"&&window.devicePixelRatio||1}function l3t(e,t,n,r,i,s){const o=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=o?a3t():i;e.width=t*l,e.height=n*l;for(const u in s)a[u]=s[u];return o&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class D4 extends Hk{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new ws,this._tempb=new ws}initialize(t,n,r,i,s,o){return this._options=o||{},this._canvas=this._options.externalContext?null:K0(1,1,this._options.type),t&&this._canvas&&(qu(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,s)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)l3t(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||et("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,s=this._width,o=this._height,a=this._dirty,l=u3t(i,s,o);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):c3t(r,l.intersect(a),i);return this.clear(-i[0],-i[1],s,o),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const s=xu[n.marktype];n.clip&&aRt(t,n),s.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const s=this._options,o=this.context();s.type!=="pdf"&&!s.externalContext&&o.clearRect(t,n,r,i),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(t,n,r,i))}}const u3t=(e,t,n)=>new ws().set(0,0,t,n).translate(-e[0],-e[1]);function c3t(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class o3e extends WQ{constructor(t,n){super(t,n);const r=this;r._hrefHandler=I9(r,(i,s)=>{s&&s.href&&r.handleHref(i,s,s.href)}),r._tooltipHandler=I9(r,(i,s)=>{r.handleTooltip(i,s,i.type!==i2)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(Rq,this._hrefHandler),i.removeEventListener(Iq,this._tooltipHandler),i.removeEventListener(i2,this._tooltipHandler)),this._svg=i=t&&VQ(t,"svg"),i&&(i.addEventListener(Rq,this._hrefHandler),i.addEventListener(Iq,this._tooltipHandler),i.addEventListener(i2,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const o={type:t,handler:n,listener:I9(this,n)};(i[r]||(i[r]=[])).push(o),this._svg&&this._svg.addEventListener(r,o.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&(this._svg&&this._svg.removeEventListener(r,i[s].listener),i.splice(s,1)),this}}const I9=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},a3e="aria-hidden",GQ="aria-label",YQ="role",KQ="aria-roledescription",l3e="graphics-object",XQ="graphics-symbol",u3e=(e,t,n)=>({[YQ]:e,[KQ]:t,[GQ]:n||void 0}),d3t=Dd(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Dfe={axis:{desc:"axis",caption:p3t},legend:{desc:"legend",caption:m3t},"title-text":{desc:"title",caption:e=>`Title text '${Ofe(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Ofe(e)}'`}},Pfe={ariaRole:YQ,ariaRoleDescription:KQ,description:GQ};function c3e(e,t){const n=t.aria===!1;if(e(a3e,n||void 0),n||t.description==null)for(const r in Pfe)e(Pfe[r],void 0);else{const r=t.mark.marktype;e(GQ,t.description),e(YQ,t.ariaRole||(r==="group"?l3e:XQ)),e(KQ,t.ariaRoleDescription||`${r} mark`)}}function d3e(e){return e.aria===!1?{[a3e]:!0}:d3t[e.role]?null:Dfe[e.role]?h3t(e,Dfe[e.role]):f3t(e)}function f3t(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return u3e(n?l3e:XQ,`${t} mark container`,e.description)}function h3t(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return u3e(t.role||XQ,t.desc,n.description||r(n))}catch{return null}}function Ofe(e){return $t(e.text).join(" ")}function p3t(e){const t=e.datum,n=e.orient,r=t.title?f3e(e):null,i=e.context,s=i.scales[t.scale].value,o=i.dataflow.locale(),a=s.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${Jx(a)?"discrete":a} scale with ${SRe(o,s,e)}`}function m3t(e){const t=e.datum,n=t.title?f3e(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,s=Object.keys(i),o=e.context,a=o.scales[i[s[0]]].value,l=o.dataflow.locale();return y3t(r)+(n?` titled '${n}'`:"")+` for ${g3t(s)} with ${SRe(l,a,e)}`}function f3e(e){try{return $t(lr(e.items).items[0].text).join(" ")}catch{return null}}function g3t(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+lr(e)}function y3t(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const h3e=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),v3t=e=>h3e(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function QQ(){let e="",t="",n="";const r=[],i=()=>t=n="",s=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},o=(l,u)=>(u!=null&&(t+=` ${l}="${v3t(u)}"`),a),a={open(l){s(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];for(const f of c)for(const h in f)o(h,f[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:o,text:l=>(n+=h3e(l),a),toString:()=>e};return a}const p3e=e=>m3e(QQ(),e)+"";function m3e(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):m3e(e,r)}return e.close()}const P4={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},O4={blend:"mix-blend-mode"},g3e={fill:"none","stroke-miterlimit":10},CC=0,Nfe="http://www.w3.org/2000/xmlns/",Ms=dT.xmlns;class JQ extends Hk{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,s){return this._defs={},this._clearDefs(),t&&(this._svg=Fs(t,0,"svg",Ms),this._svg.setAttributeNS(Nfe,"xmlns",Ms),this._svg.setAttributeNS(Nfe,"xmlns:xlink",dT["xmlns:xlink"]),this._svg.setAttribute("version",dT.version),this._svg.setAttribute("class","marks"),qu(t,1),this._root=Fs(this._svg,CC,"g",Ms),N0(this._root,g3e),qu(this._svg,CC+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,s)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(N0(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=Fs(t,CC,"rect",Ms),N0(r,{width:this._width,height:this._height,fill:n}));const i=p3e(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),qu(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,s,o,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==s&&(s=i.marktype,o=xu[s]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,$fe(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){o.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(o,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=o.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,$fe(r,n)):this._update(o,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const s=this._svg,o=n.marktype,a=xu[o],l=n.interactive===!1?"none":null,u=a.tag==="g",c=Mfe(n,t,r,"g",s);if(o!=="group"&&i!=null&&!i.includes(o))return qu(c,0),n._svg;c.setAttribute("class",ZRe(n));const d=d3e(n);for(const m in d)Ma(c,m,d[m]);u||Ma(c,"pointer-events",l),Ma(c,"clip-path",n.clip?IQ(this,n,n.group):null);let f=null,h=0;const p=m=>{const g=this.isDirty(m),v=Mfe(m,c,f,a.tag,s);g&&(this._update(a,v,m),u&&x3t(this,v,m,i)),f=v,++h};return a.nested?n.items.length&&p(n.items[0]):Od(n,p),qu(c,h),c}_update(t,n,r){Dp=n,sa=n.__values__,c3e(s2,r),t.attr(s2,r,this);const i=E3t[t.type];i&&i.call(this,t,n,r),Dp&&this.style(Dp,r)}style(t,n){if(n!=null){for(const r in P4){let i=r==="font"?qk(n):n[r];if(i===sa[r])continue;const s=P4[r];i==null?t.removeAttribute(s):(TQ(i)&&(i=kRe(i,this._defs.gradient,y3e())),t.setAttribute(s,i+"")),sa[r]=i}for(const r in O4)aP(t,O4[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const s in n.gradient)r||(n.el=r=Fs(t,CC+1,"defs",Ms)),i=b3t(r,n.gradient[s],i);for(const s in n.clipping)r||(n.el=r=Fs(t,CC+1,"defs",Ms)),i=w3t(r,n.clipping[s],i);r&&(i===0?(t.removeChild(r),n.el=null):qu(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function $fe(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function b3t(e,t,n){let r,i,s;if(t.gradient==="radial"){let o=Fs(e,n++,"pattern",Ms);N0(o,{id:x4+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=Fs(o,0,"rect",Ms),N0(o,{width:1,height:1,fill:`url(${y3e()}#${t.id})`}),e=Fs(e,n++,"radialGradient",Ms),N0(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Fs(e,n++,"linearGradient",Ms),N0(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)s=Fs(e,r,"stop",Ms),s.setAttribute("offset",t.stops[r].offset),s.setAttribute("stop-color",t.stops[r].color);return qu(e,r),n}function w3t(e,t,n){let r;return e=Fs(e,n,"clipPath",Ms),e.setAttribute("id",t.id),t.path?(r=Fs(e,0,"path",Ms),r.setAttribute("d",t.path)):(r=Fs(e,0,"rect",Ms),N0(r,{x:0,y:0,width:t.width,height:t.height})),qu(e,1),n+1}function x3t(e,t,n,r){t=t.lastChild.previousSibling;let i,s=0;Od(n,o=>{i=e.mark(t,o,i,r),++s}),qu(t,1+s)}function Mfe(e,t,n,r,i){let s=e._svg,o;if(!s&&(o=t.ownerDocument,s=O0(o,r,Ms),e._svg=s,e.mark&&(s.__data__=e,s.__values__={fill:"default"},r==="g"))){const a=O0(o,"path",Ms);s.appendChild(a),a.__data__=e;const l=O0(o,"g",Ms);s.appendChild(l),l.__data__=e;const u=O0(o,"path",Ms);s.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(s.ownerSVGElement!==i||_3t(s,n))&&t.insertBefore(s,n?n.nextSibling:t.firstChild),s}function _3t(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Dp=null,sa=null;const E3t={group(e,t,n){const r=Dp=t.childNodes[2];sa=r.__values__,e.foreground(s2,n,this),sa=t.__values__,Dp=t.childNodes[1],e.content(s2,n,this);const i=Dp=t.childNodes[0];e.background(s2,n,this);const s=n.mark.interactive===!1?"none":null;if(s!==sa.events&&(Ma(r,"pointer-events",s),Ma(i,"pointer-events",s),sa.events=s),n.strokeForeground&&n.stroke){const o=n.fill;Ma(r,"display",null),this.style(i,n),Ma(i,"stroke",null),o&&(n.fill=null),sa=r.__values__,this.style(r,n),o&&(n.fill=o),Dp=null}else Ma(r,"display","none")},image(e,t,n){n.smooth===!1?(aP(t,"image-rendering","optimizeSpeed"),aP(t,"image-rendering","pixelated")):aP(t,"image-rendering",null)},text(e,t,n){const r=Uk(n);let i,s,o,a;nt(r)?(s=r.map(l=>hg(n,l)),i=s.join(`
`),i!==sa.text&&(qu(t,0),o=t.ownerDocument,a=fg(n),s.forEach((l,u)=>{const c=O0(o,"tspan",Ms);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),sa.text=i)):(s=hg(n,r),s!==sa.text&&(t.textContent=s,sa.text=s)),Ma(t,"font-family",qk(n)),Ma(t,"font-size",Mh(n)+"px"),Ma(t,"font-style",n.fontStyle),Ma(t,"font-variant",n.fontVariant),Ma(t,"font-weight",n.fontWeight)}};function s2(e,t,n){t!==sa[e]&&(n?C3t(Dp,e,t,n):Ma(Dp,e,t),sa[e]=t)}function aP(e,t,n){n!==sa[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),sa[t]=n)}function N0(e,t){for(const n in t)Ma(e,n,t[n])}function Ma(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function C3t(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function y3e(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class v3e extends Hk{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=QQ();n.open("svg",Nn({},dT,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",g3e,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=xu[n.marktype],i=r.tag,s=[c3e,r.attr];t.open("g",{class:ZRe(n),"clip-path":n.clip?IQ(this,n,n.group):null},d3e(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const o=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,s,i!=="g"?i:null)),i==="text"){const u=Uk(a);if(nt(u)){const c={x:0,dy:fg(a)};for(let d=0;d<u.length;++d)t.open("tspan",d?c:null).text(hg(a,u[d])).close()}else t.text(hg(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,d=a.stroke;u&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),Od(a,f=>this.mark(t,f)),t.close(),u&&d?(c&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&o(n.items[0]):Od(n,o),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const s={},o=(a,l,u,c)=>{s[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(o,n,this)):r(o,n,this),i&&S3t(s,n,t,i,this._defs),s}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const s in n){const o=n[s],a=o.stops;o.gradient==="radial"?(t.open("pattern",{id:x4+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):t.open("linearGradient",{id:s,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const s in r){const o=r[s];t.open("clipPath",{id:s}),o.path?t.open("path",{d:o.path}).close():t.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),t.close()}t.close()}}}function S3t(e,t,n,r,i){let s;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(s=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=qk(t),e["font-size"]=Mh(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in P4){let a=t[o];const l=P4[o];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(TQ(a)&&(a=kRe(a,i.gradient,"")),e[l]=a)}for(const o in O4){const a=t[o];a!=null&&(s=s||[],s.push(`${O4[o]}: ${a};`))}return s&&(e.style=s.join(" ")),e}const Xc={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function T3t(e){Xc.svgMarkTypes=e.svgMarkTypes??["text"],Xc.svgOnTop=e.svgOnTop??!0,Xc.debug=e.debug??!1}class Dq extends Hk{constructor(t){super(t),this._svgRenderer=new JQ(t),this._canvasRenderer=new D4(t)}initialize(t,n,r,i,s){this._root_el=Fs(t,0,"div");const o=Fs(this._root_el,0,"div"),a=Fs(this._root_el,1,"div");return this._root_el.style.position="relative",Xc.debug||(o.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=Xc.svgOnTop?a:o,this._canvasEl=Xc.svgOnTop?o:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,s),this._svgRenderer.initialize(this._svgEl,n,r,i,s),super.initialize(t,n,r,i,s)}dirty(t){return Xc.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(s=>!Xc.svgMarkTypes.includes(s));this._svgRenderer.render(t,Xc.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return Xc.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class b3e extends Vk{constructor(t,n){super(t,n)}initialize(t,n,r){const i=Fs(Fs(t,0,"div"),Xc.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const w3e="canvas",x3e="hybrid",_3e="png",E3e="svg",C3e="none",$0={Canvas:w3e,PNG:_3e,SVG:E3e,Hybrid:x3e,None:C3e},n1={};n1[w3e]=n1[_3e]={renderer:D4,headless:D4,handler:Vk};n1[E3e]={renderer:JQ,headless:v3e,handler:o3e};n1[x3e]={renderer:Dq,headless:Dq,handler:b3e};n1[C3e]={};function l5(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(n1[e]=t,this):n1[e]}function S3e(e,t,n){const r=[],i=new ws().union(t),s=e.marktype;return s?T3e(e,i,n,r):s==="group"?k3e(e,i,n,r):et("Intersect scene must be mark node or group item.")}function T3e(e,t,n,r){if(k3t(e,t,n)){const i=e.items,s=e.marktype,o=i.length;let a=0;if(s==="group")for(;a<o;++a)k3e(i[a],t,n,r);else for(const l=xu[s].isect;a<o;++a){const u=i[a];A3e(u,t,l)&&r.push(u)}}return r}function k3t(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function k3e(e,t,n,r){n&&n(e.mark)&&A3e(e,t,xu.group.isect)&&r.push(e);const i=e.items,s=i&&i.length;if(s){const o=e.x||0,a=e.y||0;t.translate(-o,-a);for(let l=0;l<s;++l)T3e(i[l],t,n,r);t.translate(o,a)}return r}function A3e(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const R9=new ws;function I3e(e){const t=e.clip;if($n(t))t(Bk(R9.clear()));else if(t)R9.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(R9)}const A3t=1e-9;function ZQ(e,t,n){return e===t?!0:n==="path"?R3e(e,t):e instanceof Date&&t instanceof Date?+e==+t:kr(e)&&kr(t)?Math.abs(e-t)<=A3t:!e||!t||!Mt(e)&&!Mt(t)?e==t:I3t(e,t)}function R3e(e,t){return ZQ(Zx(e),Zx(t))}function I3t(e,t){var n=Object.keys(e),r=Object.keys(t),i,s;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!ZQ(e[i],t[i],i))return!1;return typeof e==typeof t}function R3t(){NRe(),eIt()}const n_="top",sd="left",dd="right",pg="bottom",D3t="top-left",P3t="top-right",O3t="bottom-left",N3t="bottom-right",eJ="start",Pq="middle",ja="end",$3t="x",M3t="y",u5="group",tJ="axis",nJ="title",F3t="frame",L3t="scope",rJ="legend",D3e="row-header",P3e="row-footer",O3e="row-title",N3e="column-header",$3e="column-footer",M3e="column-title",j3t="padding",B3t="symbol",F3e="fit",L3e="fit-x",j3e="fit-y",z3t="pad",iJ="none",mR="all",Oq="each",sJ="flush",M0="column",F0="row";function B3e(e){Ye.call(this,null,e)}Tt(B3e,Ye,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,s=xu[i],o=s.bound;let a=r.bounds,l;if(s.nested)r.items.length&&n.dirty(r.items[0]),a=gR(r,o),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===u5||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(gR(u,o))),r.role){case tJ:case rJ:case nJ:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(gR(u,o))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(gR(u,o))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return I3e(r),t.modifies("bounds")}});function gR(e,t,n){return t(e.bounds.clear(),e,n)}const Ffe=":vega_identifier:";function oJ(e){Ye.call(this,0,e)}oJ.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Tt(oJ,Ye,{transform(e,t){const n=U3t(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,s=>s[r]=s[r]||++i),n.set(this.value=i),t}});function U3t(e){return e._signals[Ffe]||(e._signals[Ffe]=e.add(0))}function z3e(e){Ye.call(this,null,e)}Tt(z3e,Ye,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,q3t(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===u5?e5:Z6;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function q3t(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function U3e(e){Ye.call(this,null,e)}const Lfe={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!q3e(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},q3e=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),jfe=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,s;n<r;i=s,++n)if(q3e(i,s=e[n].bounds,t))return!0},H3t=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},V3t=(e,t,n)=>{var r=e.range(),i=new ws;return t===n_||t===pg?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),s=>i.encloses(s.bounds)},Bfe=e=>(e.forEach(t=>t.opacity=1),e),zfe=(e,t)=>e.reflow(t.modified()).modifies("opacity");Tt(U3e,Ye,{transform(e,t){const n=Lfe[e.method]||Lfe.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,s,o;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(Bfe(i),t=zfe(t,e)),t;if(i=i.filter(H3t),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),s=Bfe(i),t=zfe(t,e),s.length>=3&&jfe(s,r)){do s=n(s,r);while(s.length>=3&&jfe(s,r));s.length<3&&!lr(i).opacity&&(s.length>1&&(lr(s).opacity=0),lr(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=V3t(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{o(l)||(l.opacity=0)}));const a=s[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function H3e(e){Ye.call(this,null,e)}Tt(H3e,Ye,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ra=new ws;function Lw(e,t,n){return e[t]===n?0:(e[t]=n,1)}function W3t(e){var t=e.items[0].orient;return t===sd||t===dd}function G3t(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function Y3t(e,t,n,r){var i=t.items[0],s=i.datum,o=i.translate!=null?i.translate:.5,a=i.orient,l=G3t(s),u=i.range,c=i.offset,d=i.position,f=i.minExtent,h=i.maxExtent,p=s.title&&i.items[l[2]].items[0],m=i.titlePadding,g=i.bounds,v=p&&UQ(p),y=0,w=0,E,C;switch(ra.clear().union(g),g.clear(),(E=l[0])>-1&&g.union(i.items[E].bounds),(E=l[1])>-1&&g.union(i.items[E].bounds),a){case n_:y=d||0,w=-c,C=Math.max(f,Math.min(h,-g.y1)),g.add(0,-C).add(u,0),p&&yR(e,p,C,m,v,0,-1,g);break;case sd:y=-c,w=d||0,C=Math.max(f,Math.min(h,-g.x1)),g.add(-C,0).add(0,u),p&&yR(e,p,C,m,v,1,-1,g);break;case dd:y=n+c,w=d||0,C=Math.max(f,Math.min(h,g.x2)),g.add(0,0).add(C,u),p&&yR(e,p,C,m,v,1,1,g);break;case pg:y=d||0,w=r+c,C=Math.max(f,Math.min(h,g.y2)),g.add(0,0).add(u,C),p&&yR(e,p,C,m,0,0,1,g);break;default:y=i.x,w=i.y}return Em(g.translate(y,w),i),Lw(i,"x",y+o)|Lw(i,"y",w+o)&&(i.bounds=ra,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function yR(e,t,n,r,i,s,o,a){const l=t.bounds;if(t.auto){const u=o*(n+i+r);let c=0,d=0;e.dirty(t),s?c=(t.x||0)-(t.x=u):d=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-d)),e.dirty(t)}a.union(l)}const Ufe=(e,t)=>Math.floor(Math.min(e,t)),qfe=(e,t)=>Math.ceil(Math.max(e,t));function K3t(e){var t=e.items,n=t.length,r=0,i,s;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],s=i.items,i.marktype===u5)switch(i.role){case tJ:case rJ:case nJ:break;case D3e:o.rowheaders.push(...s);break;case P3e:o.rowfooters.push(...s);break;case N3e:o.colheaders.push(...s);break;case $3e:o.colfooters.push(...s);break;case O3e:o.rowtitle=s[0];break;case M3e:o.coltitle=s[0];break;default:o.marks.push(...s)}return o}function X3t(e){return new ws().set(0,0,e.width||0,e.height||0)}function Q3t(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Ti(e,t,n){const r=Mt(e)?e[t]:e;return r??(n!==void 0?n:0)}function Hfe(e){return e<0?Math.ceil(-e):0}function V3e(e,t,n){var r=!n.nodirty,i=n.bounds===sJ?X3t:Q3t,s=ra.set(0,0,0,0),o=Ti(n.align,M0),a=Ti(n.align,F0),l=Ti(n.padding,M0),u=Ti(n.padding,F0),c=n.columns||t.length,d=c<=0?1:Math.ceil(t.length/c),f=t.length,h=Array(f),p=Array(c),m=0,g=Array(f),v=Array(d),y=0,w=Array(f),E=Array(f),C=Array(f),S,T,k,I,R,O,M,$,L,U,B;for(T=0;T<c;++T)p[T]=0;for(T=0;T<d;++T)v[T]=0;for(T=0;T<f;++T)O=t[T],R=C[T]=i(O),O.x=O.x||0,w[T]=0,O.y=O.y||0,E[T]=0,k=T%c,I=~~(T/c),m=Math.max(m,M=Math.ceil(R.x2)),y=Math.max(y,$=Math.ceil(R.y2)),p[k]=Math.max(p[k],M),v[I]=Math.max(v[I],$),h[T]=l+Hfe(R.x1),g[T]=u+Hfe(R.y1),r&&e.dirty(t[T]);for(T=0;T<f;++T)T%c===0&&(h[T]=0),T<c&&(g[T]=0);if(o===Oq)for(k=1;k<c;++k){for(B=0,T=k;T<f;T+=c)B<h[T]&&(B=h[T]);for(T=k;T<f;T+=c)h[T]=B+p[k-1]}else if(o===mR){for(B=0,T=0;T<f;++T)T%c&&B<h[T]&&(B=h[T]);for(T=0;T<f;++T)T%c&&(h[T]=B+m)}else for(o=!1,k=1;k<c;++k)for(T=k;T<f;T+=c)h[T]+=p[k-1];if(a===Oq)for(I=1;I<d;++I){for(B=0,T=I*c,S=T+c;T<S;++T)B<g[T]&&(B=g[T]);for(T=I*c;T<S;++T)g[T]=B+v[I-1]}else if(a===mR){for(B=0,T=c;T<f;++T)B<g[T]&&(B=g[T]);for(T=c;T<f;++T)g[T]=B+y}else for(a=!1,I=1;I<d;++I)for(T=I*c,S=T+c;T<S;++T)g[T]+=v[I-1];for(L=0,T=0;T<f;++T)L=h[T]+(T%c?L:0),w[T]+=L-t[T].x;for(k=0;k<c;++k)for(U=0,T=k;T<f;T+=c)U+=g[T],E[T]+=U-t[T].y;if(o&&Ti(n.center,M0)&&d>1)for(T=0;T<f;++T)R=o===mR?m:p[T%c],L=R-C[T].x2-t[T].x-w[T],L>0&&(w[T]+=L/2);if(a&&Ti(n.center,F0)&&c!==1)for(T=0;T<f;++T)R=a===mR?y:v[~~(T/c)],U=R-C[T].y2-t[T].y-E[T],U>0&&(E[T]+=U/2);for(T=0;T<f;++T)s.union(C[T].translate(w[T],E[T]));switch(L=Ti(n.anchor,$3t),U=Ti(n.anchor,M3t),Ti(n.anchor,M0)){case ja:L-=s.width();break;case Pq:L-=s.width()/2}switch(Ti(n.anchor,F0)){case ja:U-=s.height();break;case Pq:U-=s.height()/2}for(L=Math.round(L),U=Math.round(U),s.clear(),T=0;T<f;++T)t[T].mark.bounds.clear();for(T=0;T<f;++T)O=t[T],O.x+=w[T]+=L,O.y+=E[T]+=U,s.union(O.mark.bounds.union(O.bounds.translate(w[T],E[T]))),r&&e.dirty(O);return s}function J3t(e,t,n){var r=K3t(t),i=r.marks,s=n.bounds===sJ?Z3t:eDt,o=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,d,f,h,p,m,g;const v=V3e(e,i,n);v.empty()&&v.set(0,0,0,0),r.rowheaders&&(m=Ti(n.headerBand,F0,null),c=vR(e,r.rowheaders,i,a,l,-Ti(o,"rowHeader"),Ufe,0,s,"x1",0,a,1,m)),r.colheaders&&(m=Ti(n.headerBand,M0,null),d=vR(e,r.colheaders,i,a,a,-Ti(o,"columnHeader"),Ufe,1,s,"y1",0,1,a,m)),r.rowfooters&&(m=Ti(n.footerBand,F0,null),f=vR(e,r.rowfooters,i,a,l,Ti(o,"rowFooter"),qfe,0,s,"x2",a-1,a,1,m)),r.colfooters&&(m=Ti(n.footerBand,M0,null),h=vR(e,r.colfooters,i,a,a,Ti(o,"columnFooter"),qfe,1,s,"y2",u-a,1,a,m)),r.rowtitle&&(p=Ti(n.titleAnchor,F0),g=Ti(o,"rowTitle"),g=p===ja?f+g:c-g,m=Ti(n.titleBand,F0,.5),Vfe(e,r.rowtitle,g,0,v,m)),r.coltitle&&(p=Ti(n.titleAnchor,M0),g=Ti(o,"columnTitle"),g=p===ja?h+g:d-g,m=Ti(n.titleBand,M0,.5),Vfe(e,r.coltitle,g,1,v,m))}function Z3t(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function eDt(e,t){return e.bounds[t]}function vR(e,t,n,r,i,s,o,a,l,u,c,d,f,h){var p=n.length,m=0,g=0,v,y,w,E,C,S,T,k,I;if(!p)return m;for(v=c;v<p;v+=d)n[v]&&(m=o(m,l(n[v],u)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=s,y=0,E=t.length;y<E;++y)e.dirty(t[y]),t[y].mark.bounds.clear();for(v=c,y=0,E=t.length;y<E;++y,v+=d){for(S=t[y],C=S.mark.bounds,w=v;w>=0&&(T=n[w])==null;w-=f);a?(k=h==null?T.x:Math.round(T.bounds.x1+h*T.bounds.width()),I=m):(k=m,I=h==null?T.y:Math.round(T.bounds.y1+h*T.bounds.height())),C.union(S.bounds.translate(k-(S.x||0),I-(S.y||0))),S.x=k,S.y=I,e.dirty(S),g=o(g,C[u])}return g}function Vfe(e,t,n,r,i,s){if(t){e.dirty(t);var o=n,a=n;r?o=Math.round(i.x1+s*i.width()):a=Math.round(i.y1+s*i.height()),t.bounds.translate(o-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=a,e.dirty(t)}}function tDt(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function nDt(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function rDt(e,t,n,r,i,s,o){const a=tDt(n,t),l=nDt(e,a("offset",0)),u=a("anchor",eJ),c=u===ja?1:u===Pq?.5:0,d={align:Oq,bounds:a("bounds",sJ),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case sd:d.anchor={x:Math.floor(r.x1)-l,column:ja,y:c*(o||r.height()+2*r.y1),row:u};break;case dd:d.anchor={x:Math.ceil(r.x2)+l,y:c*(o||r.height()+2*r.y1),row:u};break;case n_:d.anchor={y:Math.floor(i.y1)-l,row:ja,x:c*(s||i.width()+2*i.x1),column:u};break;case pg:d.anchor={y:Math.ceil(i.y2)+l,x:c*(s||i.width()+2*i.x1),column:u};break;case D3t:d.anchor={x:l,y:l};break;case P3t:d.anchor={x:s-l,y:l,column:ja};break;case O3t:d.anchor={x:l,y:o-l,row:ja};break;case N3t:d.anchor={x:s-l,y:o-l,column:ja,row:ja};break}return d}function iDt(e,t){var n=t.items[0],r=n.datum,i=n.orient,s=n.bounds,o=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(s):n._bounds=s.clone(),s.clear(),oDt(e,n,n.items[0].items[0]),s=sDt(n,s),l=2*n.padding,u=2*n.padding,s.empty()||(l=Math.ceil(s.width()+l),u=Math.ceil(s.height()+u)),r.type===B3t&&aDt(n.items[0].items[0].items[0].items),i!==iJ&&(n.x=o=0,n.y=a=0),n.width=l,n.height=u,Em(s.set(o,a,o+l,a+u),n),n.mark.bounds.clear().union(s),n}function sDt(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function oDt(e,t,n){var r=t.padding,i=r-n.x,s=r-n.y;if(!t.datum.title)(i||s)&&SC(e,n,i,s);else{var o=t.items[1].items[0],a=o.anchor,l=t.titlePadding||0,u=r-o.x,c=r-o.y;switch(o.orient){case sd:i+=Math.ceil(o.bounds.width())+l;break;case dd:case pg:break;default:s+=o.bounds.height()+l}switch((i||s)&&SC(e,n,i,s),o.orient){case sd:c+=Xb(t,n,o,a,1,1);break;case dd:u+=Xb(t,n,o,ja,0,0)+l,c+=Xb(t,n,o,a,1,1);break;case pg:u+=Xb(t,n,o,a,0,0),c+=Xb(t,n,o,ja,-1,0,1)+l;break;default:u+=Xb(t,n,o,a,0,0)}(u||c)&&SC(e,o,u,c),(u=Math.round(o.bounds.x1-r))<0&&(SC(e,n,-u,0),SC(e,o,-u,0))}}function Xb(e,t,n,r,i,s,o){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(s||!l)&&!o?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,d=l&&s?c:0,f=l&&s?0:c,h=i<=0?0:UQ(n);return Math.round(r===eJ?d:r===ja?f-h:.5*(c-h))}function SC(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function aDt(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function lDt(e,t,n,r,i){var s=t.items[0],o=s.frame,a=s.orient,l=s.anchor,u=s.offset,c=s.padding,d=s.items[0].items[0],f=s.items[1]&&s.items[1].items[0],h=a===sd||a===dd?r:n,p=0,m=0,g=0,v=0,y=0,w;if(o!==u5?a===sd?(p=i.y2,h=i.y1):a===dd?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===sd&&(p=r,h=0),w=l===eJ?p:l===ja?h:(p+h)/2,f&&f.text){switch(a){case n_:case pg:y=d.bounds.height()+c;break;case sd:v=d.bounds.width()+c;break;case dd:v=-d.bounds.width()-c;break}ra.clear().union(f.bounds),ra.translate(v-(f.x||0),y-(f.y||0)),Lw(f,"x",v)|Lw(f,"y",y)&&(e.dirty(f),f.bounds.clear().union(ra),f.mark.bounds.clear().union(ra),e.dirty(f)),ra.clear().union(f.bounds)}else ra.clear();switch(ra.union(d.bounds),a){case n_:m=w,g=i.y1-ra.height()-u;break;case sd:m=i.x1-ra.width()-u,g=w;break;case dd:m=i.x2+ra.width()+u,g=w;break;case pg:m=w,g=i.y2+u;break;default:m=s.x,g=s.y}return Lw(s,"x",m)|Lw(s,"y",g)&&(ra.translate(m,g),e.dirty(s),s.bounds.clear().union(ra),t.bounds.clear().union(ra),e.dirty(s)),s.bounds}function W3e(e){Ye.call(this,null,e)}Tt(W3e,Ye,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&J3t(n,r,e.layout),cDt(n,r,e)}),uDt(e.mark.group)?t.reflow():t}});function uDt(e){return e&&e.mark.role!=="legend-entry"}function cDt(e,t,n){var r=t.items,i=Math.max(0,t.width||0),s=Math.max(0,t.height||0),o=new ws().set(0,0,i,s),a=o.clone(),l=o.clone(),u=[],c,d,f,h,p,m;for(p=0,m=r.length;p<m;++p)switch(d=r[p],d.role){case tJ:h=W3t(d)?a:l,h.union(Y3t(e,d,i,s));break;case nJ:c=d;break;case rJ:u.push(iDt(e,d));break;case F3t:case L3t:case D3e:case P3e:case O3e:case N3e:case $3e:case M3e:a.union(d.bounds),l.union(d.bounds);break;default:o.union(d.bounds)}if(u.length){const g={};u.forEach(v=>{f=v.orient||dd,f!==iJ&&(g[f]||(g[f]=[])).push(v)});for(const v in g){const y=g[v];V3e(e,y,rDt(y,v,n.legends,a,l,i,s))}u.forEach(v=>{const y=v.bounds;if(y.equals(v._bounds)||(v.bounds=v._bounds,e.dirty(v),v.bounds=y,e.dirty(v)),n.autosize&&(n.autosize.type===F3e||n.autosize.type===L3e||n.autosize.type===j3e))switch(v.orient){case sd:case dd:o.add(y.x1,0).add(y.x2,0);break;case n_:case pg:o.add(0,y.y1).add(0,y.y2)}else o.union(y)})}o.union(a).union(l),c&&o.union(lDt(e,c,i,s,o)),t.clip&&o.set(0,0,t.width||0,t.height||0),dDt(e,t,o,n)}function dDt(e,t,n,r){const i=r.autosize||{},s=i.type;if(e._autosize<1||!s)return;let o=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===j3t){const p=e.padding();o-=p.left+p.right,a-=p.top+p.bottom}s===iJ?(u=0,d=0,l=o,c=a):s===F3e?(l=Math.max(0,o-u-f),c=Math.max(0,a-d-h)):s===L3e?(l=Math.max(0,o-u-f),a=c+d+h):s===j3e?(o=l+u+f,c=Math.max(0,a-d-h)):s===z3t&&(o=l+u+f,a=c+d+h),e._resizeView(o,a,l,c,[u,d],i.resize)}const fDt=Object.freeze(Object.defineProperty({__proto__:null,bound:B3e,identifier:oJ,mark:z3e,overlap:U3e,render:H3e,viewlayout:W3e},Symbol.toStringTag,{value:"Module"}));function G3e(e){Ye.call(this,null,e)}Tt(G3e,Ye,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.scale,o=e.count==null?e.values?e.values.length:10:e.count,a=CQ(s,o,e.minstep),l=e.format||wRe(n,s,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?bRe(s,e.values,a):SQ(s,a);return i&&(r.rem=i),i=u.map((c,d)=>Nr({index:d/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(Nr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function Y3e(e){Ye.call(this,null,e)}function hDt(){return Nr({})}function pDt(e){const t=rE().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Tt(Y3e,Ye,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||hDt,s=e.key||rn,o=this.value;return nt(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(s))&&et("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=pDt(s)),t.visit(t.ADD,a=>{const l=s(a);let u=o.get(l);u?u.exit?(o.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),o.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=s(a),u=o.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=s(a),u=o.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}});function K3e(e){Ye.call(this,null,e)}Tt(K3e,Ye,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,s=t.encode;if(nt(s))if(n.changed()||s.every(d=>i[d]))s=s[0],n.encode=null;else return t.StopPropagation;var o=s==="enter",a=i.update||l0,l=i.enter||l0,u=i.exit||l0,c=(s&&!o?i[s]:a)||l0;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),c!==l0&&c!==a&&(t.visit(t.ADD,d=>{c(d,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==l0&&(t.visit(t.REM,d=>{u(d,e)}),n.modifies(u.output)),o||c!==l0){const d=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(d,f=>{const h=l(f,e)||r;(c(f,e)||h)&&n.mod.push(f)}),n.mod.length&&n.modifies(l.output)):t.visit(d,f=>{(c(f,e)||r)&&n.mod.push(f)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function X3e(e){Ye.call(this,[],e)}Tt(X3e,Ye,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.type||ZD,o=e.scale,a=+e.limit,l=CQ(o,e.count==null?5:e.count,e.minstep),u=!!e.values||s===ZD,c=e.format||CRe(n,o,l,s,e.formatSpecifier,e.formatType,u),d=e.values||ERe(o,l),f,h,p,m,g;return i&&(r.rem=i),s===ZD?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),g=!0):i=d,$n(p=e.size)?(!e.values&&o(i[0])===0&&(i=i.slice(1)),m=i.reduce((v,y)=>Math.max(v,p(y,e)),0)):p=wa(m=p||8),i=i.map((v,y)=>Nr({index:y,label:c(v,y,i),value:v,offset:m,size:p(v,e)})),g&&(g=d[i.length],i.push(Nr({index:i.length,label:`${d.length-i.length} entries`,value:g,offset:m,size:p(g,e)})))):s===zAt?(f=o.domain(),h=gRe(o,f[0],lr(f)),d.length<3&&!e.values&&f[0]!==lr(f)&&(d=[f[0],lr(f)]),i=d.map((v,y)=>Nr({index:y,label:c(v,y,d),value:v,perc:h(v)}))):(p=d.length-1,h=JAt(o),i=d.map((v,y)=>Nr({index:y,label:c(v,y,d),value:v,perc:y?h(v):0,perc2:y===p?1:h(d[y+1])}))),r.source=i,r.add=i,this.value=i,r}});const mDt=e=>e.source.x,gDt=e=>e.source.y,yDt=e=>e.target.x,vDt=e=>e.target.y;function aJ(e){Ye.call(this,{},e)}aJ.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Tt(aJ,Ye,{transform(e,t){var n=e.sourceX||mDt,r=e.sourceY||gDt,i=e.targetX||yDt,s=e.targetY||vDt,o=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=Wfe.get(l+"-"+a)||Wfe.get(l);return u||et("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[o]=u(n(c),r(c),i(c),s(c))}),t.reflow(e.modified()).modifies(o)}});const Q3e=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,bDt=(e,t,n,r)=>Q3e(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),J3e=(e,t,n,r)=>{var i=n-e,s=r-t,o=Math.hypot(i,s)/2,a=180*Math.atan2(s,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+a+" 0 1 "+n+","+r},wDt=(e,t,n,r)=>J3e(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Z3e=(e,t,n,r)=>{const i=n-e,s=r-t,o=.2*(i+s),a=.2*(s-i);return"M"+e+","+t+"C"+(e+o)+","+(t+a)+" "+(n+a)+","+(r-o)+" "+n+","+r},xDt=(e,t,n,r)=>Z3e(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),_Dt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,EDt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,CDt=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*s+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*o+","+t*a+"L"+r*o+","+r*a},SDt=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},TDt=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},kDt=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*s+"C"+l*i+","+l*s+" "+l*o+","+l*a+" "+r*o+","+r*a},Wfe=rE({line:Q3e,"line-radial":bDt,arc:J3e,"arc-radial":wDt,curve:Z3e,"curve-radial":xDt,"orthogonal-horizontal":_Dt,"orthogonal-vertical":EDt,"orthogonal-radial":CDt,"diagonal-horizontal":SDt,"diagonal-vertical":TDt,"diagonal-radial":kDt});function lJ(e){Ye.call(this,null,e)}lJ.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Tt(lJ,Ye,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],s=e.field||eE,o=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(s),c=u.length,d=o,f=(a-o)/HCe(u),h=Al(c),p,m,g;for(e.sort&&h.sort((v,y)=>u[v]-u[y]),p=0;p<c;++p)g=u[h[p]],m=l[h[p]],m[r]=d,m[i]=d+=g*f;return this.value=u,t.reflow(e.modified()).modifies(n)}});const ADt=5;function IDt(e){const t=e.type;return!e.bins&&(t===Xx||t===Ok||t===Nk)}function eDe(e){return xQ(e)&&e!==ih}const RDt=Dd(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function tDe(e){Ye.call(this,null,e),this.modified(!0)}Tt(tDe,Ye,{transform(e,t){var n=t.dataflow,r=this.value,i=DDt(e);(!r||i!==r.type)&&(this.value=r=Ar(i)());for(i in e)if(!RDt[i]){if(i==="padding"&&eDe(r.type))continue;$n(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return FDt(r,e,MDt(r,e,ODt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function DDt(e){var t=e.type,n="",r;return t===ih?ih+"-"+Xx:(PDt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?ih+"-":r===3?aE+"-":""),(n+t||Xx).toLowerCase())}function PDt(e){const t=e.type;return xQ(t)&&t!==e1&&t!==t1&&(e.scheme||e.range&&e.range.length&&e.range.every(Ft))}function ODt(e,t,n){const r=NDt(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,s=e.type,o=t.zero||t.zero===void 0&&IDt(e),a,l;if(!i)return 0;if((o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return eDe(s)&&t.padding&&i[0]!==lr(i)&&(i=$Dt(s,i,t.range,t.padding,t.exponent,t.constant)),e.domain(nDe(s,i,n)),s===yQ&&e.unknown(t.domainImplicit?zU:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&CQ(e,t.nice)||null),i.length}function NDt(e,t,n){return t?(e.domain(nDe(e.type,t,n)),t.length):-1}function $Dt(e,t,n,r,i,s){var o=Math.abs(lr(n)-n[0]),a=o/(o-2*r),l=e===am?uX(t,null,a):e===Nk?y4(t,null,a,.5):e===Ok?y4(t,null,a,i||1):e===Y6?cX(t,null,a,s||1):lX(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function nDe(e,t,n){if(dRe(e)){var r=Math.abs(t.reduce((i,s)=>i+(s<0?-1:s>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+Et(t))}return t}function MDt(e,t,n){let r=t.bins;if(r&&!nt(r)){const i=e.domain(),s=i[0],o=lr(i),a=r.step;let l=r.start==null?s:r.start,u=r.stop==null?o:r.stop;a||et("Scale bins parameter missing step property."),l<s&&(l=a*Math.ceil(s/a)),u>o&&(u=a*Math.floor(o/a)),r=Al(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===vQ&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function FDt(e,t,n){var r=e.type,i=t.round||!1,s=t.range;if(t.rangeStep!=null)s=LDt(r,t,n);else if(t.scheme&&(s=jDt(r,t,n),$n(s))){if(e.interpolator)return e.interpolator(s);et(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&fRe(r))return e.interpolator(Q6(Nq(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(_Q(t.interpolate,t.interpolateGamma)):$n(e.round)?e.round(i):$n(e.rangeRound)&&e.interpolate(i?bk:Pg),s&&e.range(Nq(s,t.reverse))}function LDt(e,t,n){e!==sRe&&e!==bq&&et("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===bq?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*gQ(n,i,r)]}function jDt(e,t,n){var r=t.schemeExtent,i,s;return nt(t.scheme)?s=Q6(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),s=EQ(i),s||et(`Unrecognized scheme name: ${t.scheme}`)),n=e===X6?n+1:e===vQ?n-1:e===Qx||e===K6?+t.schemeCount||ADt:n,fRe(e)?Gfe(s,r,t.reverse):$n(s)?mRe(Gfe(s,r),n):e===yQ?s:s.slice(0,n)}function Gfe(e,t,n){return $n(e)&&(t||n)?pRe(e,Nq(t||[0,1],n)):e}function Nq(e,t){return t?e.slice().reverse():e}function rDe(e){Ye.call(this,null,e)}Tt(rDe,Ye,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(z1(e.sort)),this.modified(n),t}});const Yfe="zero",iDe="center",sDe="normalize",oDe=["y0","y1"];function uJ(e){Ye.call(this,null,e)}uJ.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Yfe,values:[Yfe,iDe,sDe]},{name:"as",type:"string",array:!0,length:2,default:oDe}]};Tt(uJ,Ye,{transform(e,t){var n=e.as||oDe,r=n[0],i=n[1],s=z1(e.sort),o=e.field||eE,a=e.offset===iDe?BDt:e.offset===sDe?zDt:UDt,l,u,c,d;for(l=qDt(t.source,e.groupby,s,o),u=0,c=l.length,d=l.max;u<c;++u)a(l[u],d,o,r,i);return t.reflow(e.modified()).modifies(n)}});function BDt(e,t,n,r,i){for(var s=(t-e.sum)/2,o=e.length,a=0,l;a<o;++a)l=e[a],l[r]=s,l[i]=s+=Math.abs(n(l))}function zDt(e,t,n,r,i){for(var s=1/e.sum,o=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=o,c[i]=o=s*(u+=Math.abs(n(c)))}function UDt(e,t,n,r,i){for(var s=0,o=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=o,c[i]=o+=u):(c[r]=s,c[i]=s+=u)}function qDt(e,t,n,r){var i=[],s=m=>m(c),o,a,l,u,c,d,f,h,p;if(t==null)i.push(e.slice());else for(o={},a=0,l=e.length;a<l;++a)c=e[a],d=t.map(s),f=o[d],f||(o[d]=f=[],i.push(f)),f.push(c);for(d=0,p=0,u=i.length;d<u;++d){for(f=i[d],a=0,h=0,l=f.length;a<l;++a)h+=Math.abs(r(f[a]));f.sum=h,h>p&&(p=h),n&&f.sort(n)}return i.max=p,i}const HDt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:G3e,datajoin:Y3e,encode:K3e,legendentries:X3e,linkpath:aJ,pie:lJ,scale:tDe,sortitems:rDe,stack:uJ},Symbol.toStringTag,{value:"Module"}));var VDt=Math.abs,$q=Math.cos,N4=Math.sin,WDt=1e-6,aDe=Math.PI,Mq=aDe/2,Kfe=GDt(2);function Xfe(e){return e>1?Mq:e<-1?-Mq:Math.asin(e)}function GDt(e){return e>0?Math.sqrt(e):0}function YDt(e,t){var n=e*N4(t),r=30,i;do t-=i=(t+N4(t)-n)/(1+$q(t));while(VDt(i)>WDt&&--r>0);return t/2}function KDt(e,t,n){function r(i,s){return[e*i*$q(s=YDt(n,s)),t*N4(s)]}return r.invert=function(i,s){return s=Xfe(s/t),[i/(e*$q(s)),Xfe((2*s+N4(2*s))/n)]},r}var XDt=KDt(Kfe/Mq,Kfe,aDe);function QDt(){return Ph(XDt).scale(169.529)}const JDt=b2e(),Fq=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function ZDt(e,t){return function n(){const r=t();return r.type=e,r.path=b2e().projection(r),r.copy=r.copy||function(){const i=n();return Fq.forEach(s=>{r[s]&&i[s](r[s]())}),i.path.pointRadius(r.path.pointRadius()),i},uRe(r)}}function cJ(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?($4[e]=ZDt(e,t),this):$4[e]||null}function lDe(e){return e&&e.path||JDt}const $4={albers:x2e,albersusa:ovt,azimuthalequalarea:avt,azimuthalequidistant:lvt,conicconformal:dvt,conicequalarea:ZO,conicequidistant:pvt,equalEarth:gvt,equirectangular:fvt,gnomonic:yvt,identity:vvt,mercator:uvt,mollweide:QDt,naturalEarth1:bvt,orthographic:wvt,stereographic:xvt,transversemercator:_vt};for(const e in $4)cJ(e,$4[e]);function ePt(){}const op=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function uDe(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],d=[];return s(l,u,f=>{n(f,l,u),tPt(f)>0?c.push([f]):d.push(f)}),d.forEach(f=>{for(var h=0,p=c.length,m;h<p;++h)if(nPt((m=c[h])[0],f)!==-1){m.push(f);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function s(l,u,c){var d=[],f=[],h,p,m,g,v,y;for(h=p=-1,g=l[0]>=u,op[g<<1].forEach(w);++h<e-1;)m=g,g=l[h+1]>=u,op[m|g<<1].forEach(w);for(op[g<<0].forEach(w);++p<t-1;){for(h=-1,g=l[p*e+e]>=u,v=l[p*e]>=u,op[g<<1|v<<2].forEach(w);++h<e-1;)m=g,g=l[p*e+e+h+1]>=u,y=v,v=l[p*e+h+1]>=u,op[m|g<<1|v<<2|y<<3].forEach(w);op[g|v<<3].forEach(w)}for(h=-1,v=l[p*e]>=u,op[v<<2].forEach(w);++h<e-1;)y=v,v=l[p*e+h+1]>=u,op[v<<2|y<<3].forEach(w);op[v<<3].forEach(w);function w(E){var C=[E[0][0]+h,E[0][1]+p],S=[E[1][0]+h,E[1][1]+p],T=o(C),k=o(S),I,R;(I=f[T])?(R=d[k])?(delete f[I.end],delete d[R.start],I===R?(I.ring.push(S),c(I.ring)):d[I.start]=f[R.end]={start:I.start,end:R.end,ring:I.ring.concat(R.ring)}):(delete f[I.end],I.ring.push(S),f[I.end=k]=I):(I=d[k])?(R=f[T])?(delete d[I.start],delete f[R.end],I===R?(I.ring.push(S),c(I.ring)):d[R.start]=f[I.end]={start:R.start,end:I.end,ring:R.ring.concat(I.ring)}):(delete d[I.start],I.ring.unshift(C),d[I.start=T]=I):d[T]=f[k]={start:T,end:k,ring:[C,S]}}}function o(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(d=>{var f=d[0],h=d[1],p=f|0,m=h|0,g,v=u[m*e+p];f>0&&f<e&&p===f&&(g=u[m*e+p-1],d[0]=f+(c-g)/(v-g)-.5),h>0&&h<t&&m===h&&(g=u[(m-1)*e+p],d[1]=h+(c-g)/(v-g)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||et("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:ePt,r):n===a},r}function tPt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function nPt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=rPt(e,t[n]))return i;return 0}function rPt(e,t){for(var n=t[0],r=t[1],i=-1,s=0,o=e.length,a=o-1;s<o;a=s++){var l=e[s],u=l[0],c=l[1],d=e[a],f=d[0],h=d[1];if(iPt(l,d,t))return 0;c>r!=h>r&&n<(f-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function iPt(e,t,n){var r;return sPt(e,t,n)&&oPt(e[r=+(e[0]===t[0])],n[r],t[r])}function sPt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function oPt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function cDe(e,t,n){return function(r){var i=mh(r),s=n?Math.min(i[0],0):i[0],o=i[1],a=o-s,l=t?sg(s,o,e):a/(e+1);return Al(s+l,o,l)}}function dJ(e){Ye.call(this,null,e)}dJ.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Tt(dJ,Ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ba,s=uDe().smooth(e.smooth!==!1),o=e.thresholds||aPt(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),d=s.size([c.width,c.height])(c.values,nt(o)?o:o(c.values));lPt(d,c,u,e),d.forEach(f=>{l.push(j6(u,Nr(a!=null?{[a]:f}:f)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function aPt(e,t,n){const r=cDe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Cv(t(i).values)))}function lPt(e,t,n,r){let i=r.scale||t.scale,s=r.translate||t.translate;if($n(i)&&(i=i(n,r)),$n(s)&&(s=s(n,r)),(i===1||i==null)&&!s)return;const o=(kr(i)?i:i[0])||1,a=(kr(i)?i:i[1])||1,l=s&&s[0]||0,u=s&&s[1]||0;e.forEach(dDe(t,o,a,l,u))}function dDe(e,t,n,r,i){const s=e.x1||0,o=e.y1||0,a=t*n<0;function l(d){d.forEach(u)}function u(d){a&&d.reverse(),d.forEach(c)}function c(d){d[0]=(d[0]-s)*t+r,d[1]=(d[1]-o)*n+i}return function(d){return d.coordinates.forEach(l),d}}function Qfe(e,t,n){const r=e>=0?e:RX(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function D9(e){return $n(e)?e:wa(+e)}function fDe(){var e=l=>l[0],t=l=>l[1],n=eE,r=[-1,-1],i=960,s=500,o=2;function a(l,u){const c=Qfe(r[0],l,e)>>o,d=Qfe(r[1],l,t)>>o,f=c?c+2:0,h=d?d+2:0,p=2*f+(i>>o),m=2*h+(s>>o),g=new Float32Array(p*m),v=new Float32Array(p*m);let y=g;l.forEach(E=>{const C=f+(+e(E)>>o),S=h+(+t(E)>>o);C>=0&&C<p&&S>=0&&S<m&&(g[C+S*p]+=+n(E))}),c>0&&d>0?(Qb(p,m,g,v,c),Jb(p,m,v,g,d),Qb(p,m,g,v,c),Jb(p,m,v,g,d),Qb(p,m,g,v,c),Jb(p,m,v,g,d)):c>0?(Qb(p,m,g,v,c),Qb(p,m,v,g,c),Qb(p,m,g,v,c),y=v):d>0&&(Jb(p,m,g,v,d),Jb(p,m,v,g,d),Jb(p,m,g,v,d),y=v);const w=u?Math.pow(2,-2*o):1/HCe(y);for(let E=0,C=p*m;E<C;++E)y[E]*=w;return{values:y,scale:1<<o,width:p,height:m,x1:f,y1:h,x2:f+(i>>o),y2:h+(s>>o)}}return a.x=function(l){return arguments.length?(e=D9(l),a):e},a.y=function(l){return arguments.length?(t=D9(l),a):t},a.weight=function(l){return arguments.length?(n=D9(l),a):n},a.size=function(l){if(!arguments.length)return[i,s];var u=+l[0],c=+l[1];return u>=0&&c>=0||et("invalid size"),i=u,s=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||et("invalid cell size"),o=Math.floor(Math.log(l)/Math.LN2),a):1<<o},a.bandwidth=function(l){return arguments.length?(l=$t(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&et("invalid bandwidth"),r=l,a):r},a}function Qb(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<t;++o)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+o*e]),a>=i&&(a>=s&&(l-=n[a-s+o*e]),r[a-i+o*e]=l/Math.min(a+1,e-1+s-a,s))}function Jb(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<e;++o)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[o+a*e]),a>=i&&(a>=s&&(l-=n[o+(a-s)*e]),r[o+(a-i)*e]=l/Math.min(a+1,t-1+s-a,s))}function fJ(e){Ye.call(this,null,e)}fJ.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const uPt=["x","y","weight","size","cellSize","bandwidth"];function hDe(e,t){return uPt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Tt(fJ,Ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=cPt(r,e.groupby),s=(e.groupby||[]).map(Ki),o=hDe(fDe(),e),a=e.as||"grid",l=[];function u(c,d){for(let f=0;f<s.length;++f)c[s[f]]=d[f];return c}return l=i.map(c=>Nr(u({[a]:o(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function cPt(e,t){var n=[],r=c=>c(a),i,s,o,a,l,u;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function hJ(e){Ye.call(this,null,e)}hJ.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Tt(hJ,Ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=uDe().smooth(e.smooth!==!1),i=e.values,s=e.thresholds||cDe(e.count||10,e.nice,!!i),o=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=hDe(fDe(),e)(i,!0),l=dDe(a,a.scale||1,a.scale||1,0,0),o=[a.width,a.height],i=a.values),s=nt(s)?s:s(i),i=r.size(o)(i,s),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Nr),n}});const Lq="Feature",pJ="FeatureCollection",dPt="MultiPoint";function mJ(e){Ye.call(this,null,e)}mJ.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Tt(mJ,Ye,{transform(e,t){var n=this._features,r=this._points,i=e.fields,s=i&&i[0],o=i&&i[1],a=e.geojson||!i&&ba,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(fa(a))||s&&t.modified(fa(s))||o&&t.modified(fa(o)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),s&&o&&(t.visit(l,c=>{var d=s(c),f=o(c);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&r.push([d,f])}),n=n.concat({type:Lq,geometry:{type:dPt,coordinates:r}})),this.value={type:pJ,features:n}}});function gJ(e){Ye.call(this,null,e)}gJ.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Tt(gJ,Ye,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ba,s=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=lDe(e.projection),n.materialize().reflow()):o=i===ba||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=fPt(r,e.pointRadius);return n.visit(o,l=>l[s]=r(i(l))),r.pointRadius(a),n.modifies(s)}});function fPt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function yJ(e){Ye.call(this,null,e)}yJ.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Tt(yJ,Ye,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],s=e.as||["x","y"],o=s[0],a=s[1],l;function u(c){const d=n([r(c),i(c)]);d?(c[o]=d[0],c[a]=d[1]):(c[o]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(s)}});function vJ(e){Ye.call(this,null,e)}vJ.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Tt(vJ,Ye,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",s=n.ADD;return(!r||e.modified())&&(this.value=r=hPt(lDe(e.projection),e.field||ac("datum"),e.pointRadius),n.materialize().reflow(),s=n.SOURCE),n.visit(s,o=>o[i]=r),n.modifies(i)}});function hPt(e,t,n){const r=n==null?i=>e(t(i)):i=>{var s=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(s),o};return r.context=i=>(e.context(i),r),r}function bJ(e){Ye.call(this,[],e),this.generator=jyt()}bJ.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Tt(bJ,Ye,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const s in e)$n(r[s])&&r[s](e[s]);return i=r(),n.length?t.mod.push(hIe(n[0],i)):t.add.push(Nr(i)),n[0]=i,t}});function wJ(e){Ye.call(this,null,e)}wJ.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Tt(wJ,Ye,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||ba,s=mPt(e.opacity,e),o=pPt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Cv(n.map(u=>Cv(i(u).values))):0};return n.forEach(u=>{const c=i(u),d=Nn({},u,l);r||(d.$max=Cv(c.values||[])),u[a]=gPt(c,d,o.dep?o:wa(o(d)),s.dep?s:wa(s(d)))}),t.reflow(!0).modifies(a)}});function pPt(e,t){let n;return $n(e)?(n=r=>og(e(r,t)),n.dep=pDe(e)):n=wa(og(e||"#888")),n}function mPt(e,t){let n;return $n(e)?(n=r=>e(r,t),n.dep=pDe(e)):e?n=wa(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function pDe(e){if(!$n(e))return!1;const t=Dd(fa(e));return t.$x||t.$y||t.$value||t.$max}function gPt(e,t,n,r){const i=e.width,s=e.height,o=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||s,c=e.values,d=c?g=>c[g]:T0,f=K0(l-o,u-a),h=f.getContext("2d"),p=h.getImageData(0,0,l-o,u-a),m=p.data;for(let g=a,v=0;g<u;++g){t.$y=g-a;for(let y=o,w=g*i;y<l;++y,v+=4){t.$x=y-o,t.$value=d(y+w);const E=n(t);m[v+0]=E.r,m[v+1]=E.g,m[v+2]=E.b,m[v+3]=~~(255*r(t))}}return h.putImageData(p,0,0),f}function mDe(e){Ye.call(this,null,e),this.modified(!0)}Tt(mDe,Ye,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=vPt(e.type),Fq.forEach(r=>{e[r]!=null&&Jfe(n,r,e[r])})):Fq.forEach(r=>{e.modified(r)&&Jfe(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&yPt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function yPt(e,t){const n=bPt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function vPt(e){const t=cJ((e||"mercator").toLowerCase());return t||et("Unrecognized projection type: "+e),t()}function Jfe(e,t,n){$n(e[t])&&e[t](n)}function bPt(e){return e=$t(e),e.length===1?e[0]:{type:pJ,features:e.reduce((t,n)=>t.concat(wPt(n)),[])}}function wPt(e){return e.type===pJ?e.features:$t(e).filter(t=>t!=null).map(t=>t.type===Lq?t:{type:Lq,geometry:t})}const xPt=Object.freeze(Object.defineProperty({__proto__:null,contour:hJ,geojson:mJ,geopath:gJ,geopoint:yJ,geoshape:vJ,graticule:bJ,heatmap:wJ,isocontour:dJ,kde2d:fJ,projection:mDe},Symbol.toStringTag,{value:"Module"})),Zfe={center:Igt,collide:Ygt,nbody:syt,link:Xgt,x:oyt,y:ayt},TS="forces",jq=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],_Pt=["static","iterations"],gDe=["x","y","vx","vy"];function xJ(e){Ye.call(this,null,e)}xJ.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:gDe}]};Tt(xJ,Ye,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(jq),s=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&yDe(n,e,0,t)):(this.value=n=CPt(t.source,e),n.on("tick",EPt(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(_Pt)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/s)),e.static)for(n.stop();--s>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==TS||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,s=r.length,o;i<s;++i)if(r[i].name==="links"&&(o=r[i].op.source)){n.pulse(o,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(gDe)}});function EPt(e,t){return()=>e.touch(t).run()}function CPt(e,t){const n=iyt(e),r=n.stop,i=n.restart;let s=!1;return n.stopped=()=>s,n.restart=()=>(s=!1,i()),n.stop=()=>(s=!0,r()),yDe(n,t,!0).on("end",()=>s=!0)}function yDe(e,t,n,r){var i=$t(t.forces),s,o,a,l;for(s=0,o=jq.length;s<o;++s)a=jq[s],a!==TS&&t.modified(a)&&e[a](t[a]);for(s=0,o=i.length;s<o;++s)l=TS+s,a=n||t.modified(TS,s)?TPt(i[s]):r&&SPt(i[s],r)?e.force(l):null,a&&e.force(l,a);for(o=e.numForces||0;s<o;++s)e.force(TS+s,null);return e.numForces=i.length,e}function SPt(e,t){var n,r;for(n in e)if($n(r=e[n])&&t.modified(fa(r)))return 1;return 0}function TPt(e){var t,n;zt(Zfe,e.force)||et("Unrecognized force: "+e.force),t=Zfe[e.force]();for(n in e)$n(t[n])&&kPt(t[n],e[n],e);return t}function kPt(e,t,n){e($n(t)?r=>t(r,n):t)}const APt=Object.freeze(Object.defineProperty({__proto__:null,force:xJ},Symbol.toStringTag,{value:"Module"}));function Bq(e,t,n){const r={};return e.each(i=>{const s=i.data;n(s)&&(r[t(s)]=i)}),e.lookup=r,e}function _J(e){Ye.call(this,null,e)}_J.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const IPt=e=>e.values;Tt(_J,Ye,{transform(e,t){t.source||et("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),s=this.value;return(!s||r||t.changed())&&(s&&s.each(o=>{o.children&&L6(o.data)&&i.rem.push(o.data)}),this.value=s=gK({values:$t(e.keys).reduce((o,a)=>(o.key(a),o),RPt()).entries(i.source)},IPt),n&&s.each(o=>{o.children&&(o=Nr(o.data),i.add.push(o),i.source.push(o))}),Bq(s,rn,rn)),i.source.root=s,i}});function RPt(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,s){if(s>=e.length)return i;const o=i.length,a=e[s++],l={},u={};let c=-1,d,f,h;for(;++c<o;)d=a(f=i[c])+"",(h=l[d])?h.push(f):l[d]=[f];for(d in l)u[d]=n(l[d],s);return u}function r(i,s){if(++s>e.length)return i;const o=[];for(const a in i)o.push({key:a,values:r(i[a],s)});return o}return t}function Cm(e){Ye.call(this,null,e)}const DPt=(e,t)=>e.parent===t.parent?1:2;Tt(Cm,Ye,{transform(e,t){(!t.source||!t.source.root)&&et(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,s=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(z1(e.sort,o=>o.data)),PPt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?DPt:eE);try{this.value=n(i)}catch(o){et(o)}return i.each(o=>OPt(o,r,s)),t.reflow(e.modified()).modifies(s).modifies("leaf")}});function PPt(e,t,n){for(let r,i=0,s=t.length;i<s;++i)r=t[i],r in n&&e[r](n[r])}function OPt(e,t,n){const r=e.data,i=t.length-1;for(let s=0;s<i;++s)r[n[s]]=e[t[s]];r[n[i]]=e.children?e.children.length:0}const zq=["x","y","r","depth","children"];function EJ(e){Cm.call(this,e)}EJ.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:zq.length,default:zq}]};Tt(EJ,Cm,{layout:a1t,params:["radius","size","padding"],fields:zq});const Uq=["x0","y0","x1","y1","depth","children"];function CJ(e){Cm.call(this,e)}CJ.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Uq.length,default:Uq}]};Tt(CJ,Cm,{layout:l1t,params:["size","round","padding"],fields:Uq});function SJ(e){Ye.call(this,null,e)}SJ.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Tt(SJ,Ye,{transform(e,t){t.source||et("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),s=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),s&&(n=i.source.length?Bq(aue().id(e.key).parentId(e.parentKey)(i.source),e.key,lc):Bq(aue()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const ehe={tidy:v1t,cluster:Rvt},qq=["x","y","depth","children"];function TJ(e){Cm.call(this,e)}TJ.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:qq.length,default:qq}]};Tt(TJ,Cm,{layout(e){const t=e||"tidy";if(zt(ehe,t))return ehe[t]();et("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:qq});function kJ(e){Ye.call(this,[],e)}kJ.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Tt(kJ,Ye,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),s={};return r||et("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,o=>s[rn(o)]=1),r.each(o=>{const a=o.data,l=o.parent&&o.parent.data;l&&s[rn(a)]&&s[rn(l)]&&i.add.push(Nr({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>s[rn(o)]=1),n.forEach(o=>{(s[rn(o.source)]||s[rn(o.target)])&&i.mod.push(o)})),i}});const the={binary:w1t,dice:Ek,slice:i6,slicedice:x1t,squarify:j2e,resquarify:_1t},Hq=["x0","y0","x1","y1","depth","children"];function AJ(e){Cm.call(this,e)}AJ.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Hq.length,default:Hq}]};Tt(AJ,Cm,{layout(){const e=b1t();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{zt(the,t)?e.tile(the[t]):et("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Hq});const NPt=Object.freeze(Object.defineProperty({__proto__:null,nest:_J,pack:EJ,partition:CJ,stratify:SJ,tree:TJ,treelinks:kJ,treemap:AJ},Symbol.toStringTag,{value:"Module"})),P9=4278190080;function $Pt(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function MPt(e,t,n,r,i){const s=e.width,o=e.height,a=r||i,l=K0(s,o).getContext("2d"),u=K0(s,o).getContext("2d"),c=a&&K0(s,o).getContext("2d");n.forEach(k=>lP(l,k,!1)),lP(u,t,!1),a&&lP(c,t,!0);const d=O9(l,s,o),f=O9(u,s,o),h=a&&O9(c,s,o),p=e.bitmap(),m=a&&e.bitmap();let g,v,y,w,E,C,S,T;for(v=0;v<o;++v)for(g=0;g<s;++g)E=v*s+g,C=d[E]&P9,T=f[E]&P9,S=a&&h[E]&P9,(C||S||T)&&(y=e(g),w=e(v),!i&&(C||T)&&p.set(y,w),a&&(C||S)&&m.set(y,w));return[p,m]}function O9(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function lP(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(s=>lP(e,s.items,n))}):xu[r].draw(e,{items:n?t.map(FPt):t})}function FPt(e){const t=j6(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const ap=5,Oa=31,fT=32,y0=new Uint32Array(fT+1),ed=new Uint32Array(fT+1);ed[0]=0;y0[0]=~ed[0];for(let e=1;e<=fT;++e)ed[e]=ed[e-1]<<1|1,y0[e]=~ed[e];function LPt(e,t){const n=new Uint32Array(~~((e*t+fT)/fT));function r(s,o){n[s]|=o}function i(s,o){n[s]&=o}return{array:n,get:(s,o)=>{const a=o*e+s;return n[a>>>ap]&1<<(a&Oa)},set:(s,o)=>{const a=o*e+s;r(a>>>ap,1<<(a&Oa))},clear:(s,o)=>{const a=o*e+s;i(a>>>ap,~(1<<(a&Oa)))},getRange:(s,o,a,l)=>{let u=l,c,d,f,h;for(;u>=o;--u)if(c=u*e+s,d=u*e+a,f=c>>>ap,h=d>>>ap,f===h){if(n[f]&y0[c&Oa]&ed[(d&Oa)+1])return!0}else{if(n[f]&y0[c&Oa]||n[h]&ed[(d&Oa)+1])return!0;for(let p=f+1;p<h;++p)if(n[p])return!0}return!1},setRange:(s,o,a,l)=>{let u,c,d,f,h;for(;o<=l;++o)if(u=o*e+s,c=o*e+a,d=u>>>ap,f=c>>>ap,d===f)r(d,y0[u&Oa]&ed[(c&Oa)+1]);else for(r(d,y0[u&Oa]),r(f,ed[(c&Oa)+1]),h=d+1;h<f;++h)r(h,4294967295)},clearRange:(s,o,a,l)=>{let u,c,d,f,h;for(;o<=l;++o)if(u=o*e+s,c=o*e+a,d=u>>>ap,f=c>>>ap,d===f)i(d,ed[u&Oa]|y0[(c&Oa)+1]);else for(i(d,ed[u&Oa]),i(f,y0[(c&Oa)+1]),h=d+1;h<f;++h)i(h,0)},outOfBounds:(s,o,a,l)=>s<0||o<0||l>=t||a>=e}}function jPt(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),s=~~((t+2*n+r)/r),o=a=>~~((a+n)/r);return o.invert=a=>a*r-n,o.bitmap=()=>LPt(i,s),o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function BPt(e,t,n,r){const i=e.width,s=e.height;return function(o){const a=o.datum.datum.items[r].items,l=a.length,u=o.datum.fontSize,c=uu.width(o.datum,o.datum.text);let d=0,f,h,p,m,g,v,y;for(let w=0;w<l;++w)f=a[w].x,p=a[w].y,h=a[w].x2===void 0?f:a[w].x2,m=a[w].y2===void 0?p:a[w].y2,g=(f+h)/2,v=(p+m)/2,y=Math.abs(h-f+m-p),y>=d&&(d=y,o.x=g,o.y=v);return g=c/2,v=u/2,f=o.x-g,h=o.x+g,p=o.y-v,m=o.y+v,o.align="center",f<0&&h<=i?o.align="left":0<=f&&i<h&&(o.align="right"),o.baseline="middle",p<0&&m<=s?o.baseline="top":0<=p&&s<m&&(o.baseline="bottom"),!0}}function M4(e,t,n,r,i,s){let o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>s}function L0(e,t,n,r,i,s,o,a){const l=i*s/(r*2),u=e(t-l),c=e(t+l),d=e(n-(s=s/2)),f=e(n+s);return o.outOfBounds(u,d,c,f)||o.getRange(u,d,c,f)||a&&a.getRange(u,d,c,f)}function zPt(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1];function l(u,c,d,f,h){const p=e.invert(u),m=e.invert(c);let g=d,v=s,y;if(!M4(p,m,f,h,i,s)&&!L0(e,p,m,h,f,g,o,a)&&!L0(e,p,m,h,f,h,o,null)){for(;v-g>=1;)y=(g+v)/2,L0(e,p,m,h,f,y,o,a)?v=y:g=y;if(g>d)return[p,m,g,!0]}}return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=uu.width(u.datum,u.datum.text);let p=n?f:0,m=!1,g=!1,v=0,y,w,E,C,S,T,k,I,R,O,M,$,L,U,B,V,G;for(let Y=0;Y<d;++Y){for(y=c[Y].x,E=c[Y].y,w=c[Y].x2===void 0?y:c[Y].x2,C=c[Y].y2===void 0?E:c[Y].y2,y>w&&(G=y,y=w,w=G),E>C&&(G=E,E=C,C=G),R=e(y),M=e(w),O=~~((R+M)/2),$=e(E),U=e(C),L=~~(($+U)/2),k=O;k>=R;--k)for(I=L;I>=$;--I)V=l(k,I,p,h,f),V&&([u.x,u.y,p,m]=V);for(k=O;k<=M;++k)for(I=L;I<=U;++I)V=l(k,I,p,h,f),V&&([u.x,u.y,p,m]=V);!m&&!n&&(B=Math.abs(w-y+C-E),S=(y+w)/2,T=(E+C)/2,B>=v&&!M4(S,T,h,f,i,s)&&!L0(e,S,T,f,h,f,o,null)&&(v=B,u.x=S,u.y=T,g=!0))}return m||g?(S=h/2,T=f/2,o.setRange(e(u.x-S),e(u.y-T),e(u.x+S),e(u.y+T)),u.align="center",u.baseline="middle",!0):!1}}const UPt=[-1,-1,1,1],qPt=[-1,1,-1,1];function HPt(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=uu.width(u.datum,u.datum.text),p=[];let m=n?f:0,g=!1,v=!1,y=0,w,E,C,S,T,k,I,R,O,M,$,L;for(let U=0;U<d;++U){for(w=c[U].x,C=c[U].y,E=c[U].x2===void 0?w:c[U].x2,S=c[U].y2===void 0?C:c[U].y2,p.push([e((w+E)/2),e((C+S)/2)]);p.length;)if([I,R]=p.pop(),!(o.get(I,R)||a.get(I,R)||l.get(I,R))){l.set(I,R);for(let B=0;B<4;++B)T=I+UPt[B],k=R+qPt[B],l.outOfBounds(T,k,T,k)||p.push([T,k]);if(T=e.invert(I),k=e.invert(R),O=m,M=s,!M4(T,k,h,f,i,s)&&!L0(e,T,k,f,h,O,o,a)&&!L0(e,T,k,f,h,f,o,null)){for(;M-O>=1;)$=(O+M)/2,L0(e,T,k,f,h,$,o,a)?M=$:O=$;O>m&&(u.x=T,u.y=k,m=O,g=!0)}}!g&&!n&&(L=Math.abs(E-w+S-C),T=(w+E)/2,k=(C+S)/2,L>=y&&!M4(T,k,h,f,i,s)&&!L0(e,T,k,f,h,f,o,null)&&(y=L,u.x=T,u.y=k,v=!0))}return g||v?(T=h/2,k=f/2,o.setRange(e(u.x-T),e(u.y-k),e(u.x+T),e(u.y+k)),u.align="center",u.baseline="middle",!0):!1}}const VPt=["right","center","left"],WPt=["bottom","middle","top"];function GPt(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,d=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>s)return!1;let f=u.textWidth??0,h,p,m,g,v,y,w,E,C,S,T,k,I,R,O;for(let M=0;M<l;++M){if(h=(n[M]&3)-1,p=(n[M]>>>2&3)-1,m=h===0&&p===0||r[M]<0,g=h&&p?Math.SQRT1_2:1,v=r[M]<0?-1:1,y=c[1+h]+r[M]*h*g,T=c[4+p]+v*d*p/2+r[M]*p*g,E=T-d/2,C=T+d/2,k=e(y),R=e(E),O=e(C),!f)if(nhe(k,k,R,O,o,a,y,y,E,C,c,m))f=uu.width(u.datum,u.datum.text);else continue;if(S=y+v*f*h/2,y=S-f/2,w=S+f/2,k=e(y),I=e(w),nhe(k,I,R,O,o,a,y,w,E,C,c,m))return u.x=h?h*v<0?w:y:S,u.y=p?p*v<0?C:E:T,u.align=VPt[h*v+1],u.baseline=WPt[p*v+1],o.setRange(k,R,I,O),!0}return!1}}function nhe(e,t,n,r,i,s,o,a,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&s||i).getRange(e,n,t,r))}const N9=0,$9=4,M9=8,F9=0,L9=1,j9=2,YPt={"top-left":N9+F9,top:N9+L9,"top-right":N9+j9,left:$9+F9,middle:$9+L9,right:$9+j9,"bottom-left":M9+F9,bottom:M9+L9,"bottom-right":M9+j9},KPt={naive:BPt,"reduced-search":zPt,floodfill:HPt};function XPt(e,t,n,r,i,s,o,a,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),f=QPt(r,d),h=JPt(i,d),p=ZPt(e[0].datum),m=p==="group"&&e[0].datum.items[l].marktype,g=m==="area",v=eOt(p,m,a,l),y=u===null||u===1/0,w=g&&c==="naive";let E=-1,C=-1;const S=e.map(R=>{const O=y?uu.width(R,R.text):void 0;return E=Math.max(E,O),C=Math.max(C,R.fontSize),{datum:R,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v(R),textWidth:O}});u=u===null||u===1/0?Math.max(E,C)+Math.max(...r):u;const T=jPt(t[0],t[1],u);let k;if(!w){n&&S.sort((M,$)=>n(M.datum,$.datum));let R=!1;for(let M=0;M<h.length&&!R;++M)R=h[M]===5||f[M]<0;const O=(p&&o||g)&&e.map(M=>M.datum);k=s.length||O?MPt(T,O||[],s,R,g):$Pt(T,o&&S)}const I=g?KPt[c](T,k,o,l):GPt(T,k,h,f);return S.forEach(R=>R.opacity=+I(R)),S}function QPt(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function JPt(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=YPt[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function ZPt(e){return e&&e.mark&&e.mark.marktype}function eOt(e,t,n,r){const i=s=>[s.x,s.x,s.x,s.y,s.y,s.y];return e?e==="line"||e==="area"?s=>i(s.datum):t==="line"?s=>{const o=s.datum.items[r].items;return i(o.length?o[n==="start"?0:o.length-1]:{x:NaN,y:NaN})}:s=>{const o=s.datum.bounds;return[o.x1,(o.x1+o.x2)/2,o.x2,o.y1,(o.y1+o.y2)/2,o.y2]}:i}const Vq=["x","y","opacity","align","baseline"],vDe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function IJ(e){Ye.call(this,null,e)}IJ.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:vDe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Vq.length,default:Vq}]};Tt(IJ,Ye,{transform(e,t){function n(s){const o=e[s];return $n(o)&&t.modified(o.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&et("Size parameter should be specified as a [width, height] array.");const i=e.as||Vq;return XPt(t.materialize(t.SOURCE).source||[],e.size,e.sort,$t(e.offset==null?1:e.offset),$t(e.anchor||vDe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(s=>{const o=s.datum;o[i[0]]=s.x,o[i[1]]=s.y,o[i[2]]=s.opacity,o[i[3]]=s.align,o[i[4]]=s.baseline}),t.reflow(r).modifies(i)}});const tOt=Object.freeze(Object.defineProperty({__proto__:null,label:IJ},Symbol.toStringTag,{value:"Module"}));function bDe(e,t){var n=[],r=function(c){return c(a)},i,s,o,a,l,u;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function RJ(e){Ye.call(this,null,e)}RJ.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Tt(RJ,Ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=bDe(r,e.groupby),s=(e.groupby||[]).map(Ki),o=s.length,a=e.as||[Ki(e.x),Ki(e.y)],l=[];i.forEach(u=>{DIe(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const d={};for(let f=0;f<o;++f)d[s[f]]=u.dims[f];d[a[0]]=c[0],d[a[1]]=c[1],l.push(Nr(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const Wq={constant:UX,linear:qX,log:kIe,exp:AIe,pow:IIe,quad:HX,poly:RIe},nOt=(e,t)=>e==="poly"?t:e==="quad"?2:1;function DJ(e){Ye.call(this,null,e)}DJ.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(Wq)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Tt(DJ,Ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=bDe(r,e.groupby),s=(e.groupby||[]).map(Ki),o=e.method||"linear",a=e.order==null?3:e.order,l=nOt(o,a),u=e.as||[Ki(e.x),Ki(e.y)],c=Wq[o],d=[];let f=e.extent;zt(Wq,o)||et("Invalid regression method: "+o),f!=null&&o==="log"&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(h,e.x,e.y,a);if(e.params){d.push(Nr({keys:h.dims,coef:m.coef,rSquared:m.rSquared}));return}const g=f||mh(h,e.x),v=y=>{const w={};for(let E=0;E<s.length;++E)w[s[E]]=h.dims[E];w[u[0]]=y[0],w[u[1]]=y[1],d.push(Nr(w))};o==="linear"||o==="constant"?g.forEach(y=>v([y,m.predict(y)])):W6(m.predict,g,25,200).forEach(v)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const rOt=Object.freeze(Object.defineProperty({__proto__:null,loess:RJ,regression:DJ},Symbol.toStringTag,{value:"Module"}));function PJ(e){Ye.call(this,null,e)}PJ.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const iOt=[-1e5,-1e5,1e5,1e5];Tt(PJ,Ye,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:iOt;const s=this.value=iK.from(r,e.x,e.y).voronoi(i);for(let o=0,a=r.length;o<a;++o){const l=s.cellPolygon(o);r[o][n]=l&&!oOt(l)?sOt(l):null}return t.reflow(e.modified()).modifies(n)}});function sOt(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function oOt(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const aOt=Object.freeze(Object.defineProperty({__proto__:null,voronoi:PJ},Symbol.toStringTag,{value:"Module"}));var B9=Math.PI/180,kS=64,uP=2048;function lOt(){var e=[256,256],t,n,r,i,s,o,a,l=wDe,u=[],c=Math.random,d={};d.layout=function(){for(var p=f(K0()),m=pOt((e[0]>>5)*e[1]),g=null,v=u.length,y=-1,w=[],E=u.map(S=>({text:t(S),font:n(S),style:i(S),weight:s(S),rotate:o(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,T)=>T.size-S.size);++y<v;){var C=E[y];C.x=e[0]*(c()+.5)>>1,C.y=e[1]*(c()+.5)>>1,uOt(p,C,E,y),C.hasText&&h(m,C,g)&&(w.push(C),g?dOt(g,C):g=[{x:C.x+C.x0,y:C.y+C.y0},{x:C.x+C.x1,y:C.y+C.y1}],C.x-=e[0]>>1,C.y-=e[1]>>1)}return w};function f(p){p.width=p.height=1;var m=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(kS<<5)/m,p.height=uP/m;var g=p.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:m}}function h(p,m,g){for(var v=m.x,y=m.y,w=Math.hypot(e[0],e[1]),E=l(e),C=c()<.5?1:-1,S=-C,T,k,I;(T=E(S+=C))&&(k=~~T[0],I=~~T[1],!(Math.min(Math.abs(k),Math.abs(I))>=w));)if(m.x=v+k,m.y=y+I,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!g||!cOt(m,p,e[0]))&&(!g||fOt(m,g))){for(var R=m.sprite,O=m.width>>5,M=e[0]>>5,$=m.x-(O<<4),L=$&127,U=32-L,B=m.y1-m.y0,V=(m.y+m.y0)*M+($>>5),G,Y=0;Y<B;Y++){G=0;for(var z=0;z<=O;z++)p[V+z]|=G<<U|(z<O?(G=R[Y*O+z])>>>L:0);V+=M}return m.sprite=null,!0}return!1}return d.words=function(p){return arguments.length?(u=p,d):u},d.size=function(p){return arguments.length?(e=[+p[0],+p[1]],d):e},d.font=function(p){return arguments.length?(n=wy(p),d):n},d.fontStyle=function(p){return arguments.length?(i=wy(p),d):i},d.fontWeight=function(p){return arguments.length?(s=wy(p),d):s},d.rotate=function(p){return arguments.length?(o=wy(p),d):o},d.text=function(p){return arguments.length?(t=wy(p),d):t},d.spiral=function(p){return arguments.length?(l=mOt[p]||p,d):l},d.fontSize=function(p){return arguments.length?(r=wy(p),d):r},d.padding=function(p){return arguments.length?(a=wy(p),d):a},d.random=function(p){return arguments.length?(c=p,d):c},d}function uOt(e,t,n,r){if(!t.sprite){var i=e.context,s=e.ratio;i.clearRect(0,0,(kS<<5)/s,uP/s);var o=0,a=0,l=0,u=n.length,c,d,f,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,c=i.measureText(t.text+"m").width*s,f=t.size<<1,t.rotate){var m=Math.sin(t.rotate*B9),g=Math.cos(t.rotate*B9),v=c*g,y=c*m,w=f*g,E=f*m;c=Math.max(Math.abs(v+E),Math.abs(v-E))+31>>5<<5,f=~~Math.max(Math.abs(y+w),Math.abs(y-w))}else c=c+31>>5<<5;if(f>l&&(l=f),o+c>=kS<<5&&(o=0,a+=l,l=0),a+f>=uP)break;i.translate((o+(c>>1))/s,(a+(f>>1))/s),t.rotate&&i.rotate(t.rotate*B9),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=f,t.xoff=o,t.yoff=a,t.x1=c>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=c}for(var C=i.getImageData(0,0,(kS<<5)/s,uP/s).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,d=c>>5,f=t.y1-t.y0,h=0;h<f*d;h++)S[h]=0;if(o=t.xoff,o==null)return;a=t.yoff;var T=0,k=-1;for(p=0;p<f;p++){for(h=0;h<c;h++){var I=d*p+(h>>5),R=C[(a+p)*(kS<<5)+(o+h)<<2]?1<<31-h%32:0;S[I]|=R,T|=R}T?k=p:(t.y0++,f--,p--,a++)}t.y1=t.y0+k,t.sprite=S.slice(0,(t.y1-t.y0)*d)}}}function cOt(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,s=e.x-(i<<4),o=s&127,a=32-o,l=e.y1-e.y0,u=(e.y+e.y0)*n+(s>>5),c,d=0;d<l;d++){c=0;for(var f=0;f<=i;f++)if((c<<a|(f<i?(c=r[d*i+f])>>>o:0))&t[u+f])return!0;u+=n}return!1}function dOt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function fOt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function wDe(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function hOt(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(s){var o=s<0?-1:1;switch(Math.sqrt(1+4*o*s)-o&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function pOt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function wy(e){return typeof e=="function"?e:function(){return e}}var mOt={archimedean:wDe,rectangular:hOt};const xDe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],gOt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function OJ(e){Ye.call(this,lOt(),e)}OJ.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:xDe}]};Tt(OJ,Ye,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&et("Wordcloud size dimensions must be non-zero.");function n(p){const m=e[p];return $n(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||gOt.some(n)))return;const i=t.materialize(t.SOURCE).source,s=this.value,o=e.as||xDe;let a=e.fontSize||14,l;if($n(a)?l=e.fontSizeRange:a=wa(a),l){const p=a,m=Ar("sqrt")().domain(mh(i,p)).range(l);a=g=>m(p(g))}i.forEach(p=>{p[o[0]]=NaN,p[o[1]]=NaN,p[o[3]]=0});const u=s.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(cc).layout(),c=s.size(),d=c[0]>>1,f=c[1]>>1,h=u.length;for(let p=0,m,g;p<h;++p)m=u[p],g=m.datum,g[o[0]]=m.x+d,g[o[1]]=m.y+f,g[o[2]]=m.font,g[o[3]]=m.size,g[o[4]]=m.style,g[o[5]]=m.weight,g[o[6]]=m.rotate;return t.reflow(r).modifies(o)}});const yOt=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:OJ},Symbol.toStringTag,{value:"Module"})),vOt=e=>new Uint8Array(e),bOt=e=>new Uint16Array(e),o2=e=>new Uint32Array(e);function wOt(){let e=8,t=[],n=o2(0),r=bR(0,e),i=bR(0,e);return{data:()=>t,seen:()=>n=xOt(n,t.length),add(s){for(let o=0,a=t.length,l=s.length,u;o<l;++o)u=s[o],u._index=a++,t.push(u)},remove(s,o){const a=t.length,l=Array(a-s),u=t;let c,d,f;for(d=0;!o[d]&&d<a;++d)l[d]=t[d],u[d]=d;for(f=d;d<a;++d)c=t[d],o[d]?u[d]=-1:(u[d]=f,r[f]=r[d],i[f]=i[d],l[f]=c,c._index=f++),r[d]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:s=>i[s]=r[s],all:()=>e<257?255:e<65537?65535:4294967295,set(s,o){r[s]|=o},clear(s,o){r[s]&=~o},resize(s,o){const a=r.length;(s>a||o>e)&&(e=Math.max(o,e),r=bR(s,e,r),i=bR(s,e))}}}function xOt(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function bR(e,t,n){const r=(t<257?vOt:t<65537?bOt:o2)(e);return n&&r.set(n),r}function rhe(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,s){const o=this,a=o.bisect(o.range,i.value),l=i.index,u=a[0],c=a[1],d=l.length;let f;for(f=0;f<u;++f)s[l[f]]|=r;for(f=c;f<d;++f)s[l[f]]|=r;return o}}}function ihe(){let e=o2(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,d=l.length,f=o2(d);let h=Array(d),p,m,g;for(g=0;g<d;++g)h[g]=a(l[g]),f[g]=g;if(h=_Ot(h,f),c)p=t,m=e,t=Array(c+d),e=o2(c+d),EOt(u,p,m,c,h,f,d,t,e);else{if(u>0)for(g=0;g<d;++g)f[g]+=u;t=h,e=f}return n=c+d,{index:f,value:h}}function i(a,l){const u=n;let c,d,f;for(d=0;!l[e[d]]&&d<u;++d);for(f=d;d<u;++d)l[c=e[d]]||(e[f]=c,t[f]=t[d],++f);n=u-a}function s(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function o(a,l){let u;return l?u=l.length:(l=t,u=n),[fht(l,a[0],0,u),ig(l,a[1],0,u)]}return{insert:r,remove:i,bisect:o,reindex:s,index:()=>e,size:()=>n}}function _Ot(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],s=e[r];return i<s?-1:i>s?1:0}),ght(e,t)}function EOt(e,t,n,r,i,s,o,a,l){let u=0,c=0,d;for(d=0;u<r&&c<o;++d)t[u]<i[c]?(a[d]=t[u],l[d]=n[u++]):(a[d]=i[c],l[d]=s[c++]+e);for(;u<r;++u,++d)a[d]=t[u],l[d]=n[u];for(;c<o;++c,++d)a[d]=i[c],l[d]=s[c]+e}function NJ(e){Ye.call(this,wOt(),e),this._indices=null,this._dims=null}NJ.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Tt(NJ,Ye,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},s=this._dims=[],o=r.length;let a=0,l,u;for(;a<o;++a)l=n[a].fname,u=i[l]||(i[l]=ihe()),s.push(rhe(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,s=this._indices,o=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),d=n.rem=n.add,f=n.mod,h=i.length,p={};let m,g,v,y,w,E,C,S,T;if(u.set(l),t.rem.length&&(w=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(E={},y=t.mod,C=0,S=y.length;C<S;++C)E[y[C]._index]=1;for(C=0;C<h;++C)T=r[C],(!o[C]||e.modified("fields",C)||t.modified(T.fields))&&(v=T.fname,(m=p[v])||(s[v]=g=ihe(),p[v]=m=g.insert(T,t.source,0)),o[C]=rhe(g,C,i[C]).onAdd(m,l));for(C=0,S=a.data().length;C<S;++C)w[C]||(u[C]!==l[C]?d.push(C):E[C]&&l[C]!==c&&f.push(C));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,s=this._dims,o=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,d=s.length;let f=i.size(),h,p,m;i.resize(c,d),i.add(r);const g=i.curr(),v=i.prev(),y=i.all();for(h=0;h<d;++h)p=a[h].fname,m=l[p]||(l[p]=o[p].insert(a[h],r,f)),s[h].onAdd(m,g);for(;f<c;++f)v[f]=y,g[f]!==y&&u.push(f)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),s=r.all(),o=e.mod;let a,l,u;for(a=0,l=o.length;a<l;++a)u=o[a]._index,i[u]!==s&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,s=i.curr(),o=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let d,f,h,p;for(d=0,f=c.length;d<f;++d)h=c[d]._index,l[h]=1,o[h]=p=s[h],s[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(f,l);return this.reindex(t,f,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const s=i.remove(t,n);for(const o in r)r[o].reindex(s)})},update(e,t,n){const r=this._dims,i=e.query,s=t.stamp,o=r.length;let a=0,l,u;for(n.filters=0,u=0;u<o;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<o;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],s,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,s=i.seen(),o=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],f=c[1],h=u[0],p=u[1],m=e.one;let g,v,y;if(d<h)for(g=d,v=Math.min(h,f);g<v;++g)y=l[g],s[y]!==n&&(a[y]=o[y],s[y]=n,r.push(y)),o[y]^=m;else if(d>h)for(g=h,v=Math.min(d,p);g<v;++g)y=l[g],s[y]!==n&&(a[y]=o[y],s[y]=n,r.push(y)),o[y]^=m;if(f>p)for(g=Math.max(d,p),v=f;g<v;++g)y=l[g],s[y]!==n&&(a[y]=o[y],s[y]=n,r.push(y)),o[y]^=m;else if(f<p)for(g=Math.max(h,f),v=p;g<v;++g)y=l[g],s[y]!==n&&(a[y]=o[y],s[y]=n,r.push(y)),o[y]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,s=i.curr(),o=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],d=a[0],f=a[1],h=e.one;let p,m,g;if(u<d)for(p=u,m=Math.min(d,c);p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(u>d)for(p=d,m=Math.min(u,f);p<m;++p)g=o[p],s[g]^=h,r.push(g);if(c>f)for(p=Math.max(u,f),m=c;p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(c<f)for(p=Math.max(d,c),m=f;p<m;++p)g=o[p],s[g]^=h,r.push(g);e.range=t.slice()}});function $J(e){Ye.call(this,null,e)}$J.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Tt($J,Ye,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const s=t.fork(t.ALL),o=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:o[c];return s.filter(s.MOD,u),i&i-1?(s.filter(s.ADD,c=>{const d=a[c]&n;return!d&&d^l[c]&n?o[c]:null}),s.filter(s.REM,c=>{const d=a[c]&n;return d&&!(d^(d^l[c]&n))?o[c]:null})):(s.filter(s.ADD,u),s.filter(s.REM,c=>(a[c]&n)===i?o[c]:null)),s.filter(s.SOURCE,c=>u(c._index))}});const COt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:NJ,resolvefilter:$J},Symbol.toStringTag,{value:"Module"})),SOt="RawCode",r1="Literal",TOt="Property",kOt="Identifier",AOt="ArrayExpression",IOt="BinaryExpression",_De="CallExpression",ROt="ConditionalExpression",DOt="LogicalExpression",POt="MemberExpression",OOt="ObjectExpression",NOt="UnaryExpression";function Xd(e){this.type=e}Xd.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=$Ot(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function $Ot(e){switch(e.type){case AOt:return e.elements;case IOt:case DOt:return[e.left,e.right];case _De:return[e.callee].concat(e.arguments);case ROt:return[e.test,e.consequent,e.alternate];case POt:return[e.object,e.property];case OOt:return e.properties;case TOt:return[e.key,e.value];case NOt:return[e.argument];case kOt:case r1:case SOt:default:return[]}}var Fh,Kt,Je,pa,Wr,c5=1,Wk=2,i1=3,zg=4,d5=5,H1=6,_l=7,Gk=8,MOt=9;Fh={};Fh[c5]="Boolean";Fh[Wk]="<end>";Fh[i1]="Identifier";Fh[zg]="Keyword";Fh[d5]="Null";Fh[H1]="Numeric";Fh[_l]="Punctuator";Fh[Gk]="String";Fh[MOt]="RegularExpression";var FOt="ArrayExpression",LOt="BinaryExpression",jOt="CallExpression",BOt="ConditionalExpression",EDe="Identifier",zOt="Literal",UOt="LogicalExpression",qOt="MemberExpression",HOt="ObjectExpression",VOt="Property",WOt="UnaryExpression",uo="Unexpected token %0",GOt="Unexpected number",YOt="Unexpected string",KOt="Unexpected identifier",XOt="Unexpected reserved word",QOt="Unexpected end of input",Gq="Invalid regular expression",z9="Invalid regular expression: missing /",CDe="Octal literals are not allowed in strict mode.",JOt="Duplicate data property in object literal not allowed in strict mode",jo="ILLEGAL",hT="Disabled.",ZOt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),e4t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function f5(e,t){if(!e)throw new Error("ASSERT: "+t)}function yp(e){return e>=48&&e<=57}function MJ(e){return"0123456789abcdefABCDEF".includes(e)}function a2(e){return"01234567".includes(e)}function t4t(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function pT(e){return e===10||e===13||e===8232||e===8233}function Yk(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&ZOt.test(String.fromCharCode(e))}function F4(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&e4t.test(String.fromCharCode(e))}const n4t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function SDe(){for(;Je<pa;){const e=Kt.charCodeAt(Je);if(t4t(e)||pT(e))++Je;else break}}function Yq(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Je<pa&&MJ(Kt[Je])?(r=Kt[Je++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Er({},uo,jo);return String.fromCharCode(i)}function r4t(){var e,t,n,r;for(e=Kt[Je],t=0,e==="}"&&Er({},uo,jo);Je<pa&&(e=Kt[Je++],!!MJ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Er({},uo,jo),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function TDe(){var e,t;for(e=Kt.charCodeAt(Je++),t=String.fromCharCode(e),e===92&&(Kt.charCodeAt(Je)!==117&&Er({},uo,jo),++Je,e=Yq("u"),(!e||e==="\\"||!Yk(e.charCodeAt(0)))&&Er({},uo,jo),t=e);Je<pa&&(e=Kt.charCodeAt(Je),!!F4(e));)++Je,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Kt.charCodeAt(Je)!==117&&Er({},uo,jo),++Je,e=Yq("u"),(!e||e==="\\"||!F4(e.charCodeAt(0)))&&Er({},uo,jo),t+=e);return t}function i4t(){var e,t;for(e=Je++;Je<pa;){if(t=Kt.charCodeAt(Je),t===92)return Je=e,TDe();if(F4(t))++Je;else break}return Kt.slice(e,Je)}function s4t(){var e,t,n;return e=Je,t=Kt.charCodeAt(Je)===92?TDe():i4t(),t.length===1?n=i1:n4t.hasOwnProperty(t)?n=zg:t==="null"?n=d5:t==="true"||t==="false"?n=c5:n=i1,{type:n,value:t,start:e,end:Je}}function U9(){var e=Je,t=Kt.charCodeAt(Je),n,r=Kt[Je],i,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Je,{type:_l,value:String.fromCharCode(t),start:e,end:Je};default:if(n=Kt.charCodeAt(Je+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Je+=2,{type:_l,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Je};case 33:case 61:return Je+=2,Kt.charCodeAt(Je)===61&&++Je,{type:_l,value:Kt.slice(e,Je),start:e,end:Je}}}if(o=Kt.substr(Je,4),o===">>>=")return Je+=4,{type:_l,value:o,start:e,end:Je};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return Je+=3,{type:_l,value:s,start:e,end:Je};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Je+=2,{type:_l,value:i,start:e,end:Je};if(i==="//"&&Er({},uo,jo),"<>=!+-*%&|^/".includes(r))return++Je,{type:_l,value:r,start:e,end:Je};Er({},uo,jo)}function o4t(e){let t="";for(;Je<pa&&MJ(Kt[Je]);)t+=Kt[Je++];return t.length===0&&Er({},uo,jo),Yk(Kt.charCodeAt(Je))&&Er({},uo,jo),{type:H1,value:parseInt("0x"+t,16),start:e,end:Je}}function a4t(e){let t="0"+Kt[Je++];for(;Je<pa&&a2(Kt[Je]);)t+=Kt[Je++];return(Yk(Kt.charCodeAt(Je))||yp(Kt.charCodeAt(Je)))&&Er({},uo,jo),{type:H1,value:parseInt(t,8),octal:!0,start:e,end:Je}}function she(){var e,t,n;if(n=Kt[Je],f5(yp(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Je,e="",n!=="."){if(e=Kt[Je++],n=Kt[Je],e==="0"){if(n==="x"||n==="X")return++Je,o4t(t);if(a2(n))return a4t(t);n&&yp(n.charCodeAt(0))&&Er({},uo,jo)}for(;yp(Kt.charCodeAt(Je));)e+=Kt[Je++];n=Kt[Je]}if(n==="."){for(e+=Kt[Je++];yp(Kt.charCodeAt(Je));)e+=Kt[Je++];n=Kt[Je]}if(n==="e"||n==="E")if(e+=Kt[Je++],n=Kt[Je],(n==="+"||n==="-")&&(e+=Kt[Je++]),yp(Kt.charCodeAt(Je)))for(;yp(Kt.charCodeAt(Je));)e+=Kt[Je++];else Er({},uo,jo);return Yk(Kt.charCodeAt(Je))&&Er({},uo,jo),{type:H1,value:parseFloat(e),start:t,end:Je}}function l4t(){var e="",t,n,r,i,s=!1;for(t=Kt[Je],f5(t==="'"||t==='"',"String literal must starts with a quote"),n=Je,++Je;Je<pa;)if(r=Kt[Je++],r===t){t="";break}else if(r==="\\")if(r=Kt[Je++],!r||!pT(r.charCodeAt(0)))switch(r){case"u":case"x":Kt[Je]==="{"?(++Je,e+=r4t()):e+=Yq(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:a2(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),Je<pa&&a2(Kt[Je])&&(s=!0,i=i*8+"01234567".indexOf(Kt[Je++]),"0123".includes(r)&&Je<pa&&a2(Kt[Je])&&(i=i*8+"01234567".indexOf(Kt[Je++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Kt[Je]===`
`&&++Je;else{if(pT(r.charCodeAt(0)))break;e+=r}return t!==""&&Er({},uo,jo),{type:Gk,value:e,octal:s,start:n,end:Je}}function u4t(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Er({},Gq)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Er({},Gq)}try{return new RegExp(e,t)}catch{return null}}function c4t(){var e,t,n,r,i;for(e=Kt[Je],f5(e==="/","Regular expression literal must start with a slash"),t=Kt[Je++],n=!1,r=!1;Je<pa;)if(e=Kt[Je++],t+=e,e==="\\")e=Kt[Je++],pT(e.charCodeAt(0))&&Er({},z9),t+=e;else if(pT(e.charCodeAt(0)))Er({},z9);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Er({},z9),i=t.substr(1,t.length-2),{value:i,literal:t}}function d4t(){var e,t,n;for(t="",n="";Je<pa&&(e=Kt[Je],!!F4(e.charCodeAt(0)));)++Je,e==="\\"&&Je<pa?Er({},uo,jo):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Er({},Gq,n),{value:n,literal:t}}function f4t(){var e,t,n,r;return Wr=null,SDe(),e=Je,t=c4t(),n=d4t(),r=u4t(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Je}}function h4t(e){return e.type===i1||e.type===zg||e.type===c5||e.type===d5}function kDe(){if(SDe(),Je>=pa)return{type:Wk,start:Je,end:Je};const e=Kt.charCodeAt(Je);return Yk(e)?s4t():e===40||e===41||e===59?U9():e===39||e===34?l4t():e===46?yp(Kt.charCodeAt(Je+1))?she():U9():yp(e)?she():U9()}function Sl(){const e=Wr;return Je=e.end,Wr=kDe(),Je=e.end,e}function ADe(){const e=Je;Wr=kDe(),Je=e}function p4t(e){const t=new Xd(FOt);return t.elements=e,t}function ohe(e,t,n){const r=new Xd(e==="||"||e==="&&"?UOt:LOt);return r.operator=e,r.left=t,r.right=n,r}function m4t(e,t){const n=new Xd(jOt);return n.callee=e,n.arguments=t,n}function g4t(e,t,n){const r=new Xd(BOt);return r.test=e,r.consequent=t,r.alternate=n,r}function FJ(e){const t=new Xd(EDe);return t.name=e,t}function AS(e){const t=new Xd(zOt);return t.value=e.value,t.raw=Kt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function ahe(e,t,n){const r=new Xd(qOt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function y4t(e){const t=new Xd(HOt);return t.properties=e,t}function lhe(e,t,n){const r=new Xd(VOt);return r.key=t,r.value=n,r.kind=e,r}function v4t(e,t){const n=new Xd(WOt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Er(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,o)=>(f5(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=Je,n.description=i,n}function h5(e){e.type===Wk&&Er(e,QOt),e.type===H1&&Er(e,GOt),e.type===Gk&&Er(e,YOt),e.type===i1&&Er(e,KOt),e.type===zg&&Er(e,XOt),Er(e,uo,e.value)}function ma(e){const t=Sl();(t.type!==_l||t.value!==e)&&h5(t)}function yi(e){return Wr.type===_l&&Wr.value===e}function q9(e){return Wr.type===zg&&Wr.value===e}function b4t(){const e=[];for(Je=Wr.start,ma("[");!yi("]");)yi(",")?(Sl(),e.push(null)):(e.push(s1()),yi("]")||ma(","));return Sl(),p4t(e)}function uhe(){Je=Wr.start;const e=Sl();return e.type===Gk||e.type===H1?(e.octal&&Er(e,CDe),AS(e)):FJ(e.value)}function w4t(){var e,t,n,r;if(Je=Wr.start,e=Wr,e.type===i1)return n=uhe(),ma(":"),r=s1(),lhe("init",n,r);if(e.type===Wk||e.type===_l)h5(e);else return t=uhe(),ma(":"),r=s1(),lhe("init",t,r)}function x4t(){var e=[],t,n,r,i={},s=String;for(Je=Wr.start,ma("{");!yi("}");)t=w4t(),t.key.type===EDe?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Er({},JOt):i[r]=!0,e.push(t),yi("}")||ma(",");return ma("}"),y4t(e)}function _4t(){ma("(");const e=LJ();return ma(")"),e}const E4t={if:1};function C4t(){var e,t,n;if(yi("("))return _4t();if(yi("["))return b4t();if(yi("{"))return x4t();if(e=Wr.type,Je=Wr.start,e===i1||E4t[Wr.value])n=FJ(Sl().value);else if(e===Gk||e===H1)Wr.octal&&Er(Wr,CDe),n=AS(Sl());else{if(e===zg)throw new Error(hT);e===c5?(t=Sl(),t.value=t.value==="true",n=AS(t)):e===d5?(t=Sl(),t.value=null,n=AS(t)):yi("/")||yi("/=")?(n=AS(f4t()),ADe()):h5(Sl())}return n}function S4t(){const e=[];if(ma("("),!yi(")"))for(;Je<pa&&(e.push(s1()),!yi(")"));)ma(",");return ma(")"),e}function T4t(){Je=Wr.start;const e=Sl();return h4t(e)||h5(e),FJ(e.value)}function k4t(){return ma("."),T4t()}function A4t(){ma("[");const e=LJ();return ma("]"),e}function I4t(){var e,t,n;for(e=C4t();;)if(yi("."))n=k4t(),e=ahe(".",e,n);else if(yi("("))t=S4t(),e=m4t(e,t);else if(yi("["))n=A4t(),e=ahe("[",e,n);else break;return e}function che(){const e=I4t();if(Wr.type===_l&&(yi("++")||yi("--")))throw new Error(hT);return e}function cP(){var e,t;if(Wr.type!==_l&&Wr.type!==zg)t=che();else{if(yi("++")||yi("--"))throw new Error(hT);if(yi("+")||yi("-")||yi("~")||yi("!"))e=Sl(),t=cP(),t=v4t(e.value,t);else{if(q9("delete")||q9("void")||q9("typeof"))throw new Error(hT);t=che()}}return t}function dhe(e){let t=0;if(e.type!==_l&&e.type!==zg)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function R4t(){var e,t,n,r,i,s,o,a,l,u;if(e=Wr,l=cP(),r=Wr,i=dhe(r),i===0)return l;for(r.prec=i,Sl(),t=[e,Wr],o=cP(),s=[l,r,o];(i=dhe(Wr))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,l=s.pop(),t.pop(),n=ohe(a,l,o),s.push(n);r=Sl(),r.prec=i,s.push(r),t.push(Wr),n=cP(),s.push(n)}for(u=s.length-1,n=s[u],t.pop();u>1;)t.pop(),n=ohe(s[u-1].value,s[u-2],n),u-=2;return n}function s1(){var e,t,n;return e=R4t(),yi("?")&&(Sl(),t=s1(),ma(":"),n=s1(),e=g4t(e,t,n)),e}function LJ(){const e=s1();if(yi(","))throw new Error(hT);return e}function IDe(e){Kt=e,Je=0,pa=Kt.length,Wr=null,ADe();const t=LJ();if(Wr.type!==Wk)throw new Error("Unexpect token after expression.");return t}var RDe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function DDe(e){function t(o,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+o+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(o,a,l){return u=>t(o,u,a,l)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&et("Missing arguments to clamp function."),o.length>3&&et("Too many arguments to clamp function.");const a=o.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:s,test:n("test",s),if:function(o){o.length<3&&et("Missing arguments to if function."),o.length>3&&et("Too many arguments to if function.");const a=o.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function D4t(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function PDe(e){e=e||{};const t=e.allowed?Dd(e.allowed):{},n=e.forbidden?Dd(e.forbidden):{},r=e.constants||RDe,i=(e.functions||DDe)(d),s=e.globalvar,o=e.fieldvar,a=$n(s)?s:p=>`${s}["${p}"]`;let l={},u={},c=0;function d(p){if(Ft(p))return p;const m=f[p.type];return m==null&&et("Unsupported type: "+p.type),m(p)}const f={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return c>0?m:zt(n,m)?et("Illegal identifier: "+m):zt(r,m)?r[m]:zt(t,m)?m:(l[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,g=d(p.object);m&&(c+=1);const v=d(p.property);return g===o&&(u[D4t(v)]=1),m&&(c-=1),g+(m?"."+v:"["+v+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&et("Illegal callee type: "+p.callee.type);const m=p.callee.name,g=p.arguments,v=zt(i,m)&&i[m];return v||et("Unrecognized function: "+m),$n(v)?v(g):v+"("+g.map(d).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(d).join(",")+"]",BinaryExpression:p=>"("+d(p.left)+" "+p.operator+" "+d(p.right)+")",UnaryExpression:p=>"("+p.operator+d(p.argument)+")",ConditionalExpression:p=>"("+d(p.test)+"?"+d(p.consequent)+":"+d(p.alternate)+")",LogicalExpression:p=>"("+d(p.left)+p.operator+d(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(d).join(",")+"}",Property:p=>{c+=1;const m=d(p.key);return c-=1,m+":"+d(p.value)}};function h(p){const m={code:d(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},m}return h.functions=i,h.constants=r,h}const fhe=Symbol("vega_selection_getter");function ODe(e){return(!e.getter||!e.getter[fhe])&&(e.getter=ac(e.field),e.getter[fhe]=!0),e.getter}const jJ="intersect",hhe="union",P4t="vlMulti",O4t="vlPoint",phe="or",N4t="and",$f="_vgsid_",mT=ac($f),$4t="E",M4t="R",F4t="R-E",L4t="R-LE",j4t="R-RE",B4t="E-LT",z4t="E-LTE",U4t="E-GT",q4t="E-GTE",H4t="E-VALID",V4t="E-ONE",L4="index:unit";function mhe(e,t){for(var n=t.fields,r=t.values,i=n.length,s=0,o,a;s<i;++s)if(a=n[s],o=ODe(a)(e),G0(o)&&(o=ca(o)),G0(r[s])&&(r[s]=ca(r[s])),nt(r[s])&&G0(r[s][0])&&(r[s]=r[s].map(ca)),a.type===$4t){if(nt(r[s])?!r[s].includes(o):o!==r[s])return!1}else if(a.type===M4t){if(!Mw(o,r[s]))return!1}else if(a.type===j4t){if(!Mw(o,r[s],!0,!1))return!1}else if(a.type===F4t){if(!Mw(o,r[s],!1,!1))return!1}else if(a.type===L4t){if(!Mw(o,r[s],!1,!0))return!1}else if(a.type===B4t){if(o>=r[s])return!1}else if(a.type===z4t){if(o>r[s])return!1}else if(a.type===U4t){if(o<=r[s])return!1}else if(a.type===q4t){if(o<r[s])return!1}else if(a.type===H4t){if(o===null||isNaN(o))return!1}else if(a.type===V4t&&r[s].indexOf(o)===-1)return!1;return!0}function W4t(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],s=r?r[L4]&&r[L4].value:void 0,o=n===jJ,a=i.length,l=0,u,c,d,f,h;l<a;++l)if(u=i[l],s&&o){if(c=c||{},d=c[f=u.unit]||0,d===-1)continue;if(h=mhe(t,u),c[f]=h?-1:++d,h&&s.size===1)return!0;if(!h&&d===s.get(f).count)return!1}else if(h=mhe(t,u),o^h)return h;return a&&o}const NDe=Y_(mT),G4t=NDe.left,Y4t=NDe.right;function K4t(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],s=r?r[L4]&&r[L4].value:void 0,o=n===jJ,a=mT(t),l=G4t(i,a);if(l===i.length||mT(i[l])!==a)return!1;if(s&&o){if(s.size===1)return!0;if(Y4t(i,a)-l<s.size)return!1}return!0}function X4t(e,t){return e.map(n=>Nn(t.fields?{values:t.fields.map(r=>ODe(r)(n.datum))}:{[$f]:mT(n.datum)},t))}function Q4t(e,t,n,r){for(var i=this.context.data[e],s=i?i.values.value:[],o={},a={},l={},u,c,d,f,h,p,m,g,v,y,w=s.length,E=0,C,S;E<w;++E)if(u=s[E],f=u.unit,c=u.fields,d=u.values,c&&d){for(C=0,S=c.length;C<S;++C)h=c[C],m=o[h.field]||(o[h.field]={}),g=m[f]||(m[f]=[]),l[h.field]=v=h.type.charAt(0),y=H9[`${v}_union`],m[f]=y(g,$t(d[C]));n&&(g=a[f]||(a[f]=[]),g.push($t(d).reduce((T,k,I)=>(T[c[I].field]=k,T),{})))}else h=$f,p=mT(u),m=o[h]||(o[h]={}),g=m[f]||(m[f]=[]),g.push(p),n&&(g=a[f]||(a[f]=[]),g.push({[$f]:p}));if(t=t||hhe,o[$f]?o[$f]=H9[`${$f}_${t}`](...Object.values(o[$f])):Object.keys(o).forEach(T=>{o[T]=Object.keys(o[T]).map(k=>o[T][k]).reduce((k,I)=>k===void 0?I:H9[`${l[T]}_${t}`](k,I))}),s=Object.keys(a),n&&s.length){const T=r?O4t:P4t;o[T]=t===hhe?{[phe]:s.reduce((k,I)=>(k.push(...a[I]),k),[])}:{[N4t]:s.map(k=>({[phe]:a[k]}))}}return o}var H9={[`${$f}_union`]:Sht,[`${$f}_intersect`]:Eht,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=ca(t[0]),r=ca(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=ca(t[0]),r=ca(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const J4t=":",Z4t="@";function BJ(e,t,n,r){t[0].type!==r1&&et("First argument to selection functions must be a string literal.");const i=t[0].value,s=t.length>=2&&lr(t).value,o="unit",a=Z4t+o,l=J4t+i;s===jJ&&!zt(r,a)&&(r[a]=n.getData(i).indataRef(n,o)),zt(r,l)||(r[l]=n.getData(i).tuplesRef())}function $De(e){const t=this.context.data[e];return t?t.values.value:[]}function eNt(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function tNt(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(lc).insert(t)),1}function nNt(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const Kk=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},rNt=Kk("format"),MDe=Kk("timeFormat"),iNt=Kk("utcFormat"),sNt=Kk("timeParse"),oNt=Kk("utcParse"),wR=new Date(2e3,0,1);function p5(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(wR.setYear(2e3),wR.setMonth(e),wR.setDate(t),MDe.call(this,wR,n))}function aNt(e){return p5.call(this,e,1,"%B")}function lNt(e){return p5.call(this,e,1,"%b")}function uNt(e){return p5.call(this,0,2+e,"%A")}function cNt(e){return p5.call(this,0,2+e,"%a")}const dNt=":",fNt="@",Kq="%",FDe="$";function zJ(e,t,n,r){t[0].type!==r1&&et("First argument to data functions must be a string literal.");const i=t[0].value,s=dNt+i;if(!zt(s,r))try{r[s]=n.getData(i).tuplesRef()}catch{}}function hNt(e,t,n,r){t[0].type!==r1&&et("First argument to indata must be a string literal."),t[1].type!==r1&&et("Second argument to indata must be a string literal.");const i=t[0].value,s=t[1].value,o=fNt+s;zt(o,r)||(r[o]=n.getData(i).indataRef(n,s))}function Ka(e,t,n,r){if(t[0].type===r1)ghe(n,r,t[0].value);else for(e in n.scales)ghe(n,r,e)}function ghe(e,t,n){const r=Kq+n;if(!zt(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Lh(e,t){if(Ft(e)){const n=t.scales[e];return n&&ufe(n.value)?n.value:void 0}else if($n(e))return ufe(e)?e:void 0}function pNt(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Ka,n._range=Ka,n._scale=Ka;const r=i=>"_["+(i.type===r1?Et(Kq+i.value):Et(Kq)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function UJ(e,t){return function(n,r,i){if(n){const s=Lh(n,(i||this).context);return s&&s.path[e](r)}else return t(r)}}const mNt=UJ("area",vyt),gNt=UJ("bounds",_yt),yNt=UJ("centroid",Ayt);function vNt(e,t){const n=Lh(e,(t||this).context);return n&&n.scale()}function bNt(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function qJ(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function wNt(){return qJ(this.context.dataflow,"warn",arguments)}function xNt(){return qJ(this.context.dataflow,"info",arguments)}function _Nt(){return qJ(this.context.dataflow,"debug",arguments)}function V9(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Xq(e){const t=og(e),n=V9(t.r),r=V9(t.g),i=V9(t.b);return .2126*n+.7152*r+.0722*i}function ENt(e,t){const n=Xq(e),r=Xq(t),i=Math.max(n,r),s=Math.min(n,r);return(i+.05)/(s+.05)}function CNt(){const e=[].slice.call(arguments);return e.unshift({}),Nn(...e)}function LDe(e,t){return e===t||e!==e&&t!==t?!0:nt(e)?nt(t)&&e.length===t.length?SNt(e,t):!1:Mt(e)&&Mt(t)?jDe(e,t):!1}function SNt(e,t){for(let n=0,r=e.length;n<r;++n)if(!LDe(e[n],t[n]))return!1;return!0}function jDe(e,t){for(const n in e)if(!LDe(e[n],t[n]))return!1;return!0}function yhe(e){return t=>jDe(e,t)}function TNt(e,t,n,r,i,s){const o=this.context.dataflow,a=this.context.data[e],l=a.input,u=o.stamp();let c=a.changes,d,f;if(o._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=o.changeset(),c.stamp=u,o.runAfter(()=>{a.modified=!0,o.pulse(l,c).run()},!0,1)),n&&(d=n===!0?lc:nt(n)||L6(n)?n:yhe(n),c.remove(d)),t&&c.insert(t),r&&(d=yhe(r),l.value.some(d)?c.remove(d):c.insert(r)),i)for(f in s)c.modify(i,f,s[f]);return 1}function kNt(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function ANt(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const vhe={};function INt(e,t){const n=vhe[t]||(vhe[t]=ac(t));return nt(e)?e.map(n):n(e)}function m5(e){return nt(e)||ArrayBuffer.isView(e)?e:null}function HJ(e){return m5(e)||(Ft(e)?e:null)}function RNt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m5(e).join(...n)}function DNt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return HJ(e).indexOf(...n)}function PNt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return HJ(e).lastIndexOf(...n)}function ONt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return HJ(e).slice(...n)}function NNt(e,t,n){return $n(n)&&et("Function argument passed to replace."),!Ft(t)&&!hX(t)&&et("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function $Nt(e){return m5(e).slice().reverse()}function MNt(e){return m5(e).slice().sort(Ak)}function FNt(e,t,n){return gQ(e||0,t||0,n||0)}function LNt(e,t){const n=Lh(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function jNt(e,t){const n=Lh(e,(t||this).context);return n?n.copy():void 0}function BNt(e,t){const n=Lh(e,(t||this).context);return n?n.domain():[]}function zNt(e,t,n){const r=Lh(e,(n||this).context);return r?nt(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function UNt(e,t){const n=Lh(e,(t||this).context);return n&&n.range?n.range():[]}function qNt(e,t,n){const r=Lh(e,(n||this).context);return r?r(t):void 0}function HNt(e,t,n,r,i){e=Lh(e,(i||this).context);const s=ARe(t,n);let o=e.domain(),a=o[0],l=lr(o),u=ba;return l-a?u=gRe(e,a,l):e=(e.interpolator?Ar("sequential")().interpolator(e.interpolator()):Ar("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(o=e.ticks(+r||15),a!==o[0]&&o.unshift(a),l!==lr(o)&&o.push(l)),o.forEach(c=>s.stop(u(c),e(c))),s}function VNt(e,t,n){const r=Lh(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function WNt(e){let t=null;return function(n){return n?uT(n,t=t||Zx(e)):e}}const BDe=e=>e.data;function zDe(e,t){const n=$De.call(t,e);return n.root&&n.root.lookup||{}}function GNt(e,t,n){const r=zDe(e,this),i=r[t],s=r[n];return i&&s?i.path(s).map(BDe):void 0}function YNt(e,t){const n=zDe(e,this)[t];return n?n.ancestors().map(BDe):void 0}const UDe=()=>typeof window<"u"&&window||null;function KNt(){const e=UDe();return e?e.screen:{}}function XNt(){const e=UDe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function QNt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function qDe(e,t,n){if(!e)return[];const[r,i]=e,s=new ws().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return S3e(o,s,JNt(t))}function JNt(e){let t=null;if(e){const n=$t(e.marktype),r=$t(e.markname);t=i=>(!n.length||n.some(s=>i.marktype===s))&&(!r.length||r.some(s=>i.name===s))}return t}function ZNt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=$t(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function e$t(e){return $t(e).reduce((t,n,r)=>{let[i,s]=n;return t+=r==0?`M ${i},${s} `:r===e.length-1?" Z":`L ${i},${s} `},"")}function t$t(e,t,n){const{x:r,y:i,mark:s}=n,o=new ws().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<o.x1&&(o.x1=l),l>o.x2&&(o.x2=l),u<o.y1&&(o.y1=u),u>o.y2&&(o.y2=u);return o.translate(r,i),qDe([[o.x1,o.y1],[o.x2,o.y2]],e,s).filter(l=>n$t(l.x,l.y,t))}function n$t(e,t,n){let r=0;for(let i=0,s=n.length-1;i<n.length;s=i++){const[o,a]=n[s],[l,u]=n[i];u>t!=a>t&&e<(o-l)*(t-u)/(a-u)+l&&r++}return r&1}const gT={random(){return cc()},cumulativeNormal:q6,cumulativeLogNormal:MX,cumulativeUniform:BX,densityNormal:DX,densityLogNormal:$X,densityUniform:jX,quantileNormal:H6,quantileLogNormal:FX,quantileUniform:zX,sampleNormal:U6,sampleLogNormal:NX,sampleUniform:LX,isArray:nt,isBoolean:Bg,isDate:G0,isDefined(e){return e!==void 0},isNumber:kr,isObject:Mt,isRegExp:hX,isString:Ft,isTuple:L6,isValid(e){return e!=null&&e===e},toBoolean:mX,toDate(e){return gX(e)},toNumber:ca,toString:yX,indexof:DNt,join:RNt,lastindexof:PNt,replace:NNt,reverse:$Nt,sort:MNt,slice:ONt,flush:SAe,lerp:kAe,merge:CNt,pad:RAe,peek:lr,pluck:INt,span:Ik,inrange:Mw,truncate:DAe,rgb:og,lab:Fx,hcl:kO,hsl:SO,luminance:Xq,contrast:ENt,sequence:Al,format:rNt,utcFormat:iNt,utcParse:oNt,utcOffset:VAe,utcSequence:YAe,timeFormat:MDe,timeParse:sNt,timeOffset:HAe,timeSequence:GAe,timeUnitSpecifier:OAe,monthFormat:aNt,monthAbbrevFormat:lNt,dayFormat:uNt,dayAbbrevFormat:cNt,quarter:xAe,utcquarter:_Ae,week:$Ae,utcweek:LAe,dayofyear:NAe,utcdayofyear:FAe,warn:wNt,info:xNt,debug:_Nt,extent(e){return mh(e)},inScope:bNt,intersect:qDe,clampRange:EAe,pinchDistance:kNt,pinchAngle:ANt,screen:KNt,containerSize:QNt,windowSize:XNt,bandspace:FNt,setdata:tNt,pathShape:WNt,panLinear:yAe,panLog:vAe,panPow:bAe,panSymlog:wAe,zoomLinear:lX,zoomLog:uX,zoomPow:y4,zoomSymlog:cX,encode:nNt,modify:TNt,lassoAppend:ZNt,lassoPath:e$t,intersectLasso:t$t},r$t=["view","item","group","xy","x","y"],i$t="event.vega.",HDe="this.",VJ={},VDe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Et(FDe+e)}]`,functions:s$t,constants:RDe,visitors:VJ},Qq=PDe(VDe);function s$t(e){const t=DDe(e);r$t.forEach(n=>t[n]=i$t+n);for(const n in gT)t[n]=HDe+n;return Nn(t,pNt(e,gT,VJ)),t}function fs(e,t,n){return arguments.length===1?gT[e]:(gT[e]=t,n&&(VJ[e]=n),Qq&&(Qq.functions[e]=HDe+e),this)}fs("bandwidth",LNt,Ka);fs("copy",jNt,Ka);fs("domain",BNt,Ka);fs("range",UNt,Ka);fs("invert",zNt,Ka);fs("scale",qNt,Ka);fs("gradient",HNt,Ka);fs("geoArea",mNt,Ka);fs("geoBounds",gNt,Ka);fs("geoCentroid",yNt,Ka);fs("geoShape",VNt,Ka);fs("geoScale",vNt,Ka);fs("indata",eNt,hNt);fs("data",$De,zJ);fs("treePath",GNt,zJ);fs("treeAncestors",YNt,zJ);fs("vlSelectionTest",W4t,BJ);fs("vlSelectionIdTest",K4t,BJ);fs("vlSelectionResolve",Q4t,BJ);fs("vlSelectionTuples",X4t);function yh(e,t){const n={};let r;try{e=Ft(e)?e:Et(e)+"",r=IDe(e)}catch{et("Expression parse error: "+e)}r.visit(s=>{if(s.type!==_De)return;const o=s.callee.name,a=VDe.visitors[o];a&&a(o,s.arguments,t,n)});const i=Qq(r);return i.globals.forEach(s=>{const o=FDe+s;!zt(n,o)&&t.getSignal(s)&&(n[o]=t.signalRef(s))}),{$expr:Nn({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function o$t(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const a$t=Dd(["rule"]),bhe=Dd(["group","image","rect"]);function l$t(e,t){let n="";return a$t[t]||(e.x2&&(e.x?(bhe[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(bhe[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function WJ(e){return(e+"").toLowerCase()}function u$t(e){return WJ(e)==="operator"}function c$t(e){return WJ(e)==="collect"}function TC(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function d$t(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var f$t={operator:(e,t)=>TC(e,["_"],t.code),parameter:(e,t)=>TC(e,["datum","_"],t.code),event:(e,t)=>TC(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return TC(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const s in r){const o="o["+Et(s)+"]";i+=`$=${r[s].code};if(${o}!==$)${o}=$,m=1;`}return i+=l$t(r,n),i+="return m;",TC(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(Et).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(s,o)=>{const a=t[o];let l,u;return s.path?(l=`a${s.path}`,u=`b${s.path}`):((n=n||{})["f"+o]=s,l=`this.f${o}(a)`,u=`this.f${o}(b)`),d$t(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function h$t(e){const t=this;u$t(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function p$t(e){const t=this;if(e.params){const n=t.get(e.id);n||et("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function m$t(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=nt(i)?i.map(s=>whe(s,n,t)):whe(i,n,t)}return t}function whe(e,t,n){if(!e||!Mt(e))return e;for(let r=0,i=xhe.length,s;r<i;++r)if(s=xhe[r],zt(e,s.key))return s.parse(e,t,n);return e}var xhe=[{key:"$ref",parse:g$t},{key:"$key",parse:v$t},{key:"$expr",parse:y$t},{key:"$field",parse:b$t},{key:"$encode",parse:x$t},{key:"$compare",parse:w$t},{key:"$context",parse:_$t},{key:"$subflow",parse:E$t},{key:"$tupleid",parse:C$t}];function g$t(e,t){return t.get(e.$ref)||et("Operator not defined: "+e.$ref)}function y$t(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Hl(t.parameterExpression(e.$expr),e.$fields))}function v$t(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=pX(e.$key,e.$flat,t.expr.codegen))}function b$t(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=ac(e.$field,e.$name,t.expr.codegen))}function w$t(e,t){const n="c:"+e.$compare+"_"+e.$order,r=$t(e.$compare).map(i=>i&&i.$tupleid?rn:i);return t.fn[n]||(t.fn[n]=dX(r,e.$order,t.expr.codegen))}function x$t(e,t){const n=e.$encode,r={};for(const i in n){const s=n[i];r[i]=Hl(t.encodeExpression(s.$expr),s.$fields),r[i].output=s.$output}return r}function _$t(e,t){return t}function E$t(e,t){const n=e.$subflow;return function(r,i,s){const o=t.fork().parse(n),a=o.get(n.operators[0].id),l=o.signals.parent;return l&&l.set(s),a.detachSubflow=()=>t.detach(o),a}}function C$t(){return rn}function S$t(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(s=>t.get(s)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(s=>t.get(s)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&et("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function T$t(e){var t=this,n=Mt(n=e.source)?n.$ref:n,r=t.get(n),i=null,s=e.update,o=void 0;r||et("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),s&&s.$expr&&(s.$params&&(o=t.parseParameters(s.$params)),s=t.handlerExpression(s.$expr)),t.update(e,r,i,s,o)}const k$t={skip:!0};function A$t(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(s=>{const o=t.signals[s];e.signals(s,o)&&(r[s]=o.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(s=>{const o=t.data[s];e.data(s,o)&&(i[s]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(s=>s.getState(e))),n}function I$t(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(s=>{n.update(t.signals[s],i[s],k$t)}),Object.keys(r||{}).forEach(s=>{n.pulse(t.data[s].input,n.changeset().remove(lc).insert(r[s]))}),(e.subcontext||[]).forEach((s,o)=>{const a=t.subcontext[o];a&&a.setState(s)})}function WDe(e,t,n,r){return new GDe(e,t,n,r)}function GDe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||f$t,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function _he(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}GDe.prototype=_he.prototype={fork(){const e=new _he(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),c$t(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let s=n.get(e.parent.$ref);s?(r.connect(s,[t]),t.targets().add(s)):(n.unresolved=n.unresolved||[]).push(()=>{s=n.get(e.parent.$ref),r.connect(s,[t]),t.targets().add(s)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const s in e.data){const o=n.data[s]||(n.data[s]={});e.data[s].forEach(a=>o[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[WJ(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:o$t,parseOperator:h$t,parseOperatorParameters:p$t,parseParameters:m$t,parseStream:S$t,parseUpdate:T$t,getState:A$t,setState:I$t};function R$t(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),YDe(t,e.description()))}function YDe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function D$t(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const W9="default";function P$t(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:W9,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,s=i?Ft(i)?i:i.user:W9,o=r.item&&r.item.cursor||null;return i&&s===i.user&&o==i.item?i:{user:s,item:o}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Ft(r)||(i=r.item,r=r.user),Jq(e,r&&r!==W9?r:i||r),i},{cursor:t})}function Jq(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function j4(e,t){var n=e._runtime.data;return zt(n,t)||et("Unrecognized data set: "+t),n[t]}function O$t(e,t){return arguments.length<2?j4(this,e).values.value:g5.call(this,e,U1().remove(lc).insert(t))}function g5(e,t){pIe(t)||et("Second argument to changes must be a changeset.");const n=j4(this,e);return n.modified=!0,this.pulse(n.input,t)}function N$t(e,t){return g5.call(this,e,U1().insert(t))}function $$t(e,t){return g5.call(this,e,U1().remove(t))}function KDe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function XDe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function y5(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function M$t(e){var t=y5(e),n=KDe(e),r=XDe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(s){e.error(s)}})}function F$t(e,t,n){var r=e._renderer,i=r&&r.canvas(),s,o,a;return i&&(a=y5(e),o=t.changedTouches?t.changedTouches[0]:t,s=a5(o,i),s[0]-=a[0],s[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=L$t(e,n,s),t}function L$t(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(o){var a=r,l;if(o){for(l=t;l;l=l.mark.group)if(l.mark.name===o){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function s(o){if(!o)return n;Ft(o)&&(o=i(o));const a=n.slice();for(;o;)a[0]-=o.x||0,a[1]-=o.y||0,o=o.mark&&o.mark.group;return a}return{view:wa(e),item:wa(t||{}),group:i,xy:s,x:o=>s(o)[0],y:o=>s(o)[1]}}const Ehe="view",j$t="timer",B$t="window",z$t={trap:!1};function U$t(e){const t=Nn({defaults:{}},e),n=(r,i)=>{i.forEach(s=>{nt(r[s])&&(r[s]=Dd(r[s]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function QDe(e,t,n,r){e._eventListeners.push({type:n,sources:$t(t),handler:r})}function q$t(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function xR(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Mt(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function H$t(e,t,n){var r=this,i=new z6(n),s=function(u,c){r.runAsync(null,()=>{e===Ehe&&q$t(r,t)&&u.preventDefault(),i.receive(F$t(r,u,c))})},o;if(e===j$t)xR(r,"timer",t)&&r.timer(s,t);else if(e===Ehe)xR(r,"view",t)&&r.addEventListener(t,s,z$t);else if(e===B$t?xR(r,"window",t)&&typeof window<"u"&&(o=[window]):typeof document<"u"&&xR(r,"selector",t)&&(o=Array.from(document.querySelectorAll(e))),!o)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=o.length;a<l;++a)o[a].addEventListener(t,s);QDe(r,o,t,s)}return i}function Che(e){return e.item}function She(e){return e.item.mark.source}function The(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function V$t(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",Che),She,The(e)),this.on(this.events("view","pointerout",Che),She,The(t)),this}function W$t(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,s,o,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(o=r[i],s=o.sources.length;--s>=0;)o.sources[s].removeEventListener(o.type,o.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function cu(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const G$t="vega-bind",Y$t="vega-bind-name",K$t="vega-bind-radio";function X$t(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:o=>{o!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,o)})}},r.debounce&&(i.update=fX(r.debounce,i.update))),(r.input==null&&r.element?Q$t:Z$t)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function Q$t(e,t,n,r){const i=n.event||"input",s=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,s),QDe(r,t,i,s),e.set=o=>{t.value=o,t.dispatchEvent(J$t(i))}}function J$t(e){return typeof Event<"u"?new Event(e):{type:e}}function Z$t(e,t,n,r){const i=r.signal(n.signal),s=cu("div",{class:G$t}),o=n.input==="radio"?s:s.appendChild(cu("label"));o.appendChild(cu("span",{class:Y$t},n.name||n.signal)),t.appendChild(s);let a=e6t;switch(n.input){case"checkbox":a=t6t;break;case"select":a=n6t;break;case"radio":a=r6t;break;case"range":a=i6t;break}a(e,o,n,i)}function e6t(e,t,n,r){const i=cu("input");for(const s in n)s!=="signal"&&s!=="element"&&i.setAttribute(s==="input"?"type":s,n[s]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=s=>i.value=s}function t6t(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const s=cu("input",i);t.appendChild(s),s.addEventListener("change",()=>e.update(s.checked)),e.elements=[s],e.set=o=>s.checked=!!o||null}function n6t(e,t,n,r){const i=cu("select",{name:n.signal}),s=n.labels||[];n.options.forEach((o,a)=>{const l={value:o};B4(o,r)&&(l.selected=!0),i.appendChild(cu("option",l,(s[a]||o)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=o=>{for(let a=0,l=n.options.length;a<l;++a)if(B4(n.options[a],o)){i.selectedIndex=a;return}}}function r6t(e,t,n,r){const i=cu("span",{class:K$t}),s=n.labels||[];t.appendChild(i),e.elements=n.options.map((o,a)=>{const l={type:"radio",name:n.signal,value:o};B4(o,r)&&(l.checked=!0);const u=cu("input",l);u.addEventListener("change",()=>e.update(o));const c=cu("label",{},(s[a]||o)+"");return c.prepend(u),i.appendChild(c),u}),e.set=o=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)B4(a[u].value,o)&&(a[u].checked=!0)}}function i6t(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,s=n.min||Math.min(0,i,+r)||0,o=n.step||sg(s,i,100),a=cu("input",{type:"range",name:n.signal,min:s,max:i,step:o});a.value=r;const l=cu("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function B4(e,t){return e===t||e+""==t+""}function JDe(e,t,n,r,i,s){return t=t||new r(e.loader()),t.initialize(n,KDe(e),XDe(e),y5(e),i,s).background(e.background())}function GJ(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function s6t(e,t,n,r){const i=new r(e.loader(),GJ(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,y5(e),e);return t&&t.handlers().forEach(s=>{i.on(s.type,s.handler)}),i}function o6t(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,s=l5(r);e=n._el=e?G9(n,e,!0):null,R$t(n),s||n.error("Unrecognized renderer type: "+r);const o=s.handler||Vk,a=e?s.renderer:s.headless;return n._renderer=a?JDe(n,n._renderer,e,a):null,n._handler=s6t(n,n._handler,e,o),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=G9(n,t,!0):e.appendChild(cu("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=G9(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{X$t(n,l.element||t,l)})),n}function G9(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const kC=e=>+e||0,a6t=e=>({top:e,bottom:e,left:e,right:e});function khe(e){return Mt(e)?{top:kC(e.top),bottom:kC(e.bottom),left:kC(e.left),right:kC(e.right)}:a6t(kC(e))}async function YJ(e,t,n,r){const i=l5(t),s=i&&i.headless;return s||et("Unrecognized renderer type: "+t),await e.runAsync(),JDe(e,null,null,s,n,r).renderAsync(e._scenegraph.root)}async function l6t(e,t){e!==$0.Canvas&&e!==$0.SVG&&e!==$0.PNG&&et("Unrecognized image type: "+e);const n=await YJ(this,e,t);return e===$0.SVG?u6t(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function u6t(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function c6t(e,t){return(await YJ(this,$0.Canvas,e,t)).canvas()}async function d6t(e){return(await YJ(this,$0.SVG,e)).svg()}function f6t(e,t,n){return WDe(e,Kx,gT,n).parse(t)}function h6t(e){var t=this._runtime.scales;return zt(t,e)||et("Unrecognized scale or projection: "+e),t[e].value}var ZDe="width",ePe="height",KJ="padding",Ahe={skip:!0};function tPe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===KJ?r.left+r.right:0)}function nPe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===KJ?r.top+r.bottom:0)}function p6t(e){var t=e._signals,n=t[ZDe],r=t[ePe],i=t[KJ];function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=tPe(e,a.size),s()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=nPe(e,a.size),s()},{size:r});const o=e.add(null,s,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function m6t(e,t,n,r,i,s){this.runAfter(o=>{let a=0;o._autosize=0,o.width()!==n&&(a=1,o.signal(ZDe,n,Ahe),o._resizeWidth.skip(!0)),o.height()!==r&&(a=1,o.signal(ePe,r,Ahe),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),(o._origin[0]!==i[0]||o._origin[1]!==i[1])&&(o._resize=1,o._origin=i),a&&o.run("enter"),s&&o.runAfter(l=>l.resize())},!1,1)}function g6t(e){return this._runtime.getState(e||{data:y6t,signals:v6t,recurse:!0})}function y6t(e,t){return t.modified&&nt(t.input.value)&&!e.startsWith("_:vega:_")}function v6t(e,t){return!(e==="parent"||t instanceof Kx.proxy)}function b6t(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function w6t(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(Ymt(n,t))}function x6t(e,t,n,r){const i=e.element();i&&i.setAttribute("title",_6t(r))}function _6t(e){return e==null?"":nt(e)?rPe(e):Mt(e)&&!G0(e)?E6t(e):e+""}function E6t(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(nt(n)?rPe(n):iPe(n))}).join(`
`)}function rPe(e){return"["+e.map(iPe).join(", ")+"]"}function iPe(e){return nt(e)?"[]":Mt(e)&&!G0(e)?"{}":e}function C6t(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function sPe(e,t){const n=this;if(t=t||{},ux.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const s=Nn({},e.locale,t.locale);n.locale(iIe(s.number,s.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||$0.Canvas,n._scenegraph=new JRe;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||x6t,n._redraw=!0,n._handler=new Vk().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=U$t(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=f6t(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(s=>({state:null,param:Nn({},s)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=tPe(n,n._width),n._viewHeight=nPe(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,p6t(n),D$t(n),P$t(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function _R(e,t){return zt(e._signals,t)?e._signals[t]:et("Unrecognized signal name: "+Et(t))}function oPe(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function Ihe(e,t,n,r){let i=oPe(n,r);return i||(i=GJ(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function Rhe(e,t,n){const r=oPe(t,n);return r&&t._targets.remove(r),e}Tt(sPe,ux,{async evaluate(e,t,n){if(await ux.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,M$t(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&QD(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&YDe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=_R(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",khe(e)):khe(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(l5(e)||et("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(ux.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(_R(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:m6t,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=GJ(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,s;--r>=0;)if(s=n[r].type,i=n[r].handler,e===s&&(t===i||t===i.raw)){this._handler.off(s,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return Ihe(this,e,_R(this,e),t)},removeSignalListener(e,t){return Rhe(this,_R(this,e),t)},addDataListener(e,t){return Ihe(this,e,j4(this,e).values,t)},removeDataListener(e,t){return Rhe(this,j4(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=Jq(this,null);this._globalCursor=!!e,t&&Jq(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:w6t,events:H$t,finalize:W$t,hover:V$t,data:O$t,change:g5,insert:N$t,remove:$$t,scale:h6t,initialize:o6t,toImageURL:l6t,toCanvas:c6t,toSVG:d6t,getState:g6t,setState:b6t,_watchPixelRatio:C6t});const S6t="view",z4="[",U4="]",aPe="{",lPe="}",T6t=":",uPe=",",k6t="@",A6t=">",I6t=/[[\]{}]/,R6t={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let cPe,dPe;function Ug(e,t,n){return cPe=t||S6t,dPe=n||R6t,fPe(e.trim()).map(Zq)}function D6t(e){return dPe[e]}function l2(e,t,n,r,i){const s=e.length;let o=0,a;for(;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function fPe(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=l2(e,i,uPe,z4+aPe,U4+lPe),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function Zq(e){return e[0]==="["?P6t(e):O6t(e)}function P6t(e){const t=e.length;let n=1,r;if(n=l2(e,n,U4,z4,U4),n===t)throw"Empty between selector: "+e;if(r=fPe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==A6t)throw"Expected '>' after between selector: "+e;r=r.map(Zq);const i=Zq(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function O6t(e){const t={source:cPe},n=[];let r=[0,0],i=0,s=0,o=e.length,a=0,l,u;if(e[o-1]===lPe){if(a=e.lastIndexOf(aPe),a>=0){try{r=N6t(e.substring(a+1,o-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),o=e.length}else throw"Unmatched right brace: "+e;a=0}if(!o)throw e;if(e[0]===k6t&&(i=++a),l=l2(e,a,T6t),l<o&&(n.push(e.substring(s,l).trim()),s=a=++l),a=l2(e,a,z4),a===o)n.push(e.substring(s,o).trim());else if(n.push(e.substring(s,a).trim()),u=[],s=++a,s===o)throw"Unmatched left bracket: "+e;for(;a<o;){if(a=l2(e,a,U4),a===o)throw"Unmatched left bracket: "+e;if(u.push(e.substring(s,a).trim()),a<o-1&&e[++a]!==z4)throw"Expected left bracket: "+e;s=++a}if(!(o=n.length)||I6t.test(n[o-1]))throw"Invalid event selector: "+e;return o>1?(t.type=n[1],i?t.markname=n[0].slice(1):D6t(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function N6t(e){const t=e.split(uPe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function $6t(e){return Mt(e)?e:{type:e||"pad"}}const AC=e=>+e||0,M6t=e=>({top:e,bottom:e,left:e,right:e});function F6t(e){return Mt(e)?e.signal?e:{top:AC(e.top),bottom:AC(e.bottom),left:AC(e.left),right:AC(e.right)}:M6t(AC(e))}const co=e=>Mt(e)&&!nt(e)?Nn({},e):{value:e};function Dhe(e,t,n,r){return n!=null?(Mt(n)&&!nt(n)||nt(n)&&n.length&&Mt(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Ho(e,t,n){for(const r in t)Dhe(e,r,t[r]);for(const r in n)Dhe(e,r,n[r],"update")}function uE(e,t,n){for(const r in t)n&&zt(n,r)||(e[r]=Nn(e[r]||{},t[r]));return e}function Tw(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const XJ="mark",QJ="frame",JJ="scope",L6t="axis",j6t="axis-domain",B6t="axis-grid",z6t="axis-label",U6t="axis-tick",q6t="axis-title",H6t="legend",V6t="legend-band",W6t="legend-entry",G6t="legend-gradient",hPe="legend-label",Y6t="legend-symbol",K6t="legend-title",X6t="title",Q6t="title-text",J6t="title-subtitle";function Z6t(e,t,n,r,i){const s={},o={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!Tw(l,e)&&Y9(s,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===QJ?i.group:n===XJ?Nn({},i.mark,i[t]):null;for(l in c)u=Tw(l,e)||(l==="fill"||l==="stroke")&&(Tw("fill",e)||Tw("stroke",e)),u||Y9(s,l,c[l]);$t(r).forEach(d=>{const f=i.style&&i.style[d];for(const h in f)Tw(h,e)||Y9(s,h,f[h])}),e=Nn({},e);for(l in s)c=s[l],c.signal?(a=a||{})[l]=c:o[l]=c;return e.enter=Nn(o,e.enter),a&&(e.update=Nn(a,e.update)),e}function Y9(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const pPe=e=>Ft(e)?Et(e):e.signal?`(${e.signal})`:mPe(e);function v5(e){if(e.gradient!=null)return t5t(e);let t=e.signal?`(${e.signal})`:e.color?e5t(e.color):e.field!=null?mPe(e.field):e.value!==void 0?Et(e.value):void 0;return e.scale!=null&&(t=n5t(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${dP(e.exponent)})`),e.mult!=null&&(t+=`*${dP(e.mult)}`),e.offset!=null&&(t+=`+${dP(e.offset)}`),e.round&&(t=`round(${t})`),t}const ER=(e,t,n,r)=>`(${e}(${[t,n,r].map(v5).join(",")})+'')`;function e5t(e){return e.c?ER("hcl",e.h,e.c,e.l):e.h||e.s?ER("hsl",e.h,e.s,e.l):e.l||e.a?ER("lab",e.l,e.a,e.b):e.r||e.g||e.b?ER("rgb",e.r,e.g,e.b):null}function t5t(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:Et(n));for(;t.length&&lr(t)==null;)t.pop();return t.unshift(pPe(e.gradient)),`gradient(${t.join(",")})`}function dP(e){return Mt(e)?"("+v5(e)+")":e}function mPe(e){return gPe(Mt(e)?e:{datum:e})}function gPe(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):et("Invalid field reference: "+Et(e));return e.signal||(r=Ft(r)?$h(r).map(Et).join("]["):gPe(r)),t+"["+r+"]"}function n5t(e,t){const n=pPe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+dP(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function r5t(e){let t="";return e.forEach(n=>{const r=v5(n);t+=n.test?`(${n.test})?${r}:`:r}),lr(t)===":"&&(t+="null"),t}function yPe(e,t,n,r,i,s){const o={};s=s||{},s.encoders={$encode:o},e=Z6t(e,t,n,r,i.config);for(const a in e)o[a]=i5t(e[a],t,s,i);return s}function i5t(e,t,n,r){const i={},s={};for(const o in e)e[o]!=null&&(i[o]=o5t(s5t(e[o]),r,n,s));return{$expr:{marktype:t,channels:i},$fields:Object.keys(s),$output:Object.keys(e)}}function s5t(e){return nt(e)?r5t(e):v5(e)}function o5t(e,t,n,r){const i=yh(e,t);return i.$fields.forEach(s=>r[s]=1),Nn(n,i.$params),i.$expr}const a5t="outer",l5t=["value","update","init","react","bind"];function Phe(e,t){et(e+' for "outer" push: '+Et(t))}function vPe(e,t){const n=e.name;if(e.push===a5t)t.signals[n]||Phe("No prior signal definition",n),l5t.forEach(r=>{e[r]!==void 0&&Phe("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function eH(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function b5(e,t,n,r){return new eH(e,t,n,r)}function q4(e,t){return b5("operator",e,t)}function nn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function yT(e,t){return t?{$field:e,$name:t}:{$field:e}}const tH=yT("key");function Ohe(e,t){return{$compare:e,$order:t}}function u5t(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const c5t="ascending",d5t="descending";function f5t(e){return Mt(e)?(e.order===d5t?"-":"+")+w5(e.op,e.field):""}function w5(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const ZJ="scope",nH="view";function Us(e){return e&&e.signal}function h5t(e){return e&&e.expr}function fP(e){if(Us(e))return!0;if(Mt(e)){for(const t in e)if(fP(e[t]))return!0}return!1}function Qc(e,t){return e??t}function Iv(e){return e&&e.signal||e}const Nhe="timer";function vT(e,t){return(e.merge?m5t:e.stream?g5t:e.type?y5t:et("Invalid stream specification: "+Et(e)))(e,t)}function p5t(e){return e===ZJ?nH:e||nH}function m5t(e,t){const n=e.merge.map(i=>vT(i,t)),r=eZ({merge:n},e,t);return t.addStream(r).id}function g5t(e,t){const n=vT(e.stream,t),r=eZ({stream:n},e,t);return t.addStream(r).id}function y5t(e,t){let n;e.type===Nhe?(n=t.event(Nhe,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(p5t(e.source),e.type);const r=eZ({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function eZ(e,t,n){let r=t.between;return r&&(r.length!==2&&et('Stream "between" parameter must have 2 entries: '+Et(t)),e.between=[vT(r[0],n),vT(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(v5t(t.marktype,t.markname,t.markrole)),t.source===ZJ&&r.push("inScope(event.item)"),r.length&&(e.filter=yh("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function v5t(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const b5t={code:"_.$value",ast:{type:"Identifier",value:"value"}};function w5t(e,t,n){const r=e.encode,i={target:n};let s=e.events,o=e.update,a=[];s||et("Signal update missing events specification."),Ft(s)&&(s=Ug(s,t.isSubscope()?ZJ:nH)),s=$t(s).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[_5t(a)]),s.length&&a.push(s.length>1?{merge:s}:s[0]),r!=null&&(o&&et("Signal encode and update are mutually exclusive."),o="encode(item(),"+Et(r)+")"),i.update=Ft(o)?yh(o,t):o.expr!=null?yh(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:b5t,$params:{$value:t.signalRef(o.signal)}}:et("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(Nn(x5t(l,t),i)))}function x5t(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):vT(e,t)}}function _5t(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function E5t(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?et("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=yh(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>w5t(i,t,n.id))}const ti=e=>(t,n,r)=>b5(e,n,t||void 0,r),bPe=ti("aggregate"),C5t=ti("axisticks"),wPe=ti("bound"),Qd=ti("collect"),$he=ti("compare"),S5t=ti("datajoin"),xPe=ti("encode"),T5t=ti("expression"),k5t=ti("facet"),A5t=ti("field"),I5t=ti("key"),R5t=ti("legendentries"),D5t=ti("load"),P5t=ti("mark"),O5t=ti("multiextent"),N5t=ti("multivalues"),$5t=ti("overlap"),M5t=ti("params"),_Pe=ti("prefacet"),F5t=ti("projection"),L5t=ti("proxy"),j5t=ti("relay"),EPe=ti("render"),B5t=ti("scale"),V1=ti("sieve"),z5t=ti("sortitems"),CPe=ti("viewlayout"),U5t=ti("values");let q5t=0;const SPe={min:"min",max:"max",count:"sum"};function H5t(e,t){const n=e.type||"linear";cRe(n)||et("Unrecognized scale type: "+Et(n)),t.addScale(e.name,{type:n,domain:void 0})}function V5t(e,t){const n=t.getScale(e.name).params;let r;n.domain=TPe(e.domain,e,t),e.range!=null&&(n.range=APe(e,t,n)),e.interpolate!=null&&tMt(e.interpolate,n),e.nice!=null&&(n.nice=eMt(e.nice,t)),e.bins!=null&&(n.bins=Z5t(e.bins,t));for(r in e)zt(n,r)||r==="name"||(n[r]=Xu(e[r],t))}function Xu(e,t){return Mt(e)?e.signal?t.signalRef(e.signal):et("Unsupported object: "+Et(e)):e}function hP(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Xu(n,t))}function x5(e){et("Can not find data set: "+Et(e))}function TPe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&et("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(nt(e)?W5t:e.fields?Y5t:G5t)(e,t,n)}function W5t(e,t,n){return e.map(r=>Xu(r,n))}function G5t(e,t,n){const r=n.getData(e.data);return r||x5(e.data),Jx(t.type)?r.valuesRef(n,e.field,kPe(e.sort,!1)):hRe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function Y5t(e,t,n){const r=e.data,i=e.fields.reduce((s,o)=>(o=Ft(o)?{data:r,field:o}:nt(o)||o.signal?K5t(o,n):o,s.push(o),s),[]);return(Jx(t.type)?X5t:hRe(t.type)?Q5t:J5t)(e,n,i)}function K5t(e,t){const n="_:vega:_"+q5t++,r=Qd({});if(nt(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+Et(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,V1({})]),{data:n,field:"data"}}function X5t(e,t,n){const r=kPe(e.sort,!0);let i,s;const o=n.map(u=>{const c=t.getData(u.data);return c||x5(u.data),c.countsRef(t,u.field,r)}),a={groupby:tH,pulse:o};r&&(i=r.op||"count",s=r.field?w5(i,r.field):"count",a.ops=[SPe[i]],a.fields=[t.fieldRef(s)],a.as=[s]),i=t.add(bPe(a));const l=t.add(Qd({pulse:nn(i)}));return s=t.add(U5t({field:tH,sort:t.sortRef(r),pulse:nn(l)})),nn(s)}function kPe(e,t){return e&&(!e.field&&!e.op?Mt(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?et("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!SPe[e.op]&&et("Multiple domain scales can not be sorted using "+e.op)),e}function Q5t(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||x5(i.data),s.domainRef(t,i.field)});return nn(t.add(N5t({values:r})))}function J5t(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||x5(i.data),s.extentRef(t,i.field)});return nn(t.add(O5t({extents:r})))}function Z5t(e,t){return e.signal||nt(e)?hP(e,t):t.objectProperty(e)}function eMt(e,t){return e.signal?t.signalRef(e.signal):Mt(e)?{interval:Xu(e.interval),step:Xu(e.step)}:Xu(e)}function tMt(e,t){t.interpolate=Xu(e.type||e),e.gamma!=null&&(t.interpolateGamma=Xu(e.gamma))}function APe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Ft(i)){if(r&&zt(r,i))return e=Nn({},e,{range:r[i]}),APe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=Jx(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:et("Unrecognized scale range value: "+Et(i))}else if(i.scheme){n.scheme=nt(i.scheme)?hP(i.scheme,t):Xu(i.scheme,t),i.extent&&(n.schemeExtent=hP(i.extent,t)),i.count&&(n.schemeCount=Xu(i.count,t));return}else if(i.step){n.rangeStep=Xu(i.step,t);return}else{if(Jx(e.type)&&!nt(i))return TPe(i,e,t);nt(i)||et("Unsupported range type: "+Et(i))}return i.map(s=>(nt(s)?hP:Xu)(s,t))}function nMt(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=rH(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=rH(n[i],i,t));t.addProjection(e.name,r)}function rH(e,t,n){return nt(e)?e.map(r=>rH(r,t,n)):Mt(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:et("Unsupported parameter object: "+Et(e)):e}const Jd="top",cE="left",dE="right",mg="bottom",IPe="center",rMt="vertical",iMt="start",sMt="middle",oMt="end",iH="index",tZ="label",aMt="offset",r_="perc",lMt="perc2",Zu="value",Xk="guide-label",nZ="guide-title",uMt="group-title",cMt="group-subtitle",Mhe="symbol",pP="gradient",sH="discrete",oH="size",dMt="shape",fMt="fill",hMt="stroke",pMt="strokeWidth",mMt="strokeDash",gMt="opacity",rZ=[oH,dMt,fMt,hMt,pMt,mMt,gMt],Qk={name:1,style:1,interactive:1},hr={value:0},ec={value:1},_5="group",RPe="rect",iZ="rule",yMt="symbol",W1="text";function bT(e){return e.type=_5,e.interactive=e.interactive||!1,e}function Vl(e,t){const n=(r,i)=>Qc(e[r],Qc(t[r],i));return n.isVertical=r=>rMt===Qc(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Qc(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Qc(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Qc(e.columns,Qc(t.columns,+n.isVertical(!0))),n}function DPe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function vMt(e,t,n){const r=t.config.style[n];return r&&r[e]}function E5(e,t,n){return`item.anchor === '${iMt}' ? ${e} : item.anchor === '${oMt}' ? ${t} : ${n}`}const sZ=E5(Et(cE),Et(dE),Et(IPe));function bMt(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Mt(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function PPe(e,t){return t?e?Mt(e)?Object.assign({},e,{offset:PPe(e.offset,t)}):{value:e,offset:t}:t:e}function _u(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=uE(e.encode,t,Qk)):e.interactive=!1,e}function wMt(e,t,n,r){const i=Vl(e,n),s=i.isVertical(),o=i.gradientThickness(),a=i.gradientLength();let l,u,c,d,f;s?(u=[0,1],c=[0,0],d=o,f=a):(u=[0,0],c=[1,0],d=a,f=o);const h={enter:l={opacity:hr,x:hr,y:hr,width:co(d),height:co(f)},update:Nn({},l,{opacity:ec,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:hr}};return Ho(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),_u({type:RPe,role:G6t,encode:h},r)}function xMt(e,t,n,r,i){const s=Vl(e,n),o=s.isVertical(),a=s.gradientThickness(),l=s.gradientLength();let u,c,d,f,h="";o?(u="y",d="y2",c="x",f="width",h="1-"):(u="x",d="x2",c="y",f="height");const p={opacity:hr,fill:{scale:t,field:Zu}};p[u]={signal:h+"datum."+r_,mult:l},p[c]=hr,p[d]={signal:h+"datum."+lMt,mult:l},p[f]=co(a);const m={enter:p,update:Nn({},p,{opacity:ec}),exit:{opacity:hr}};return Ho(m,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),_u({type:RPe,role:V6t,key:Zu,from:i,encode:m},r)}const _Mt=`datum.${r_}<=0?"${cE}":datum.${r_}>=1?"${dE}":"${IPe}"`,EMt=`datum.${r_}<=0?"${mg}":datum.${r_}>=1?"${Jd}":"${sMt}"`;function Fhe(e,t,n,r){const i=Vl(e,t),s=i.isVertical(),o=co(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,d,f,h="";const p={enter:u={opacity:hr},update:c={opacity:ec,text:{field:tZ}},exit:{opacity:hr}};return Ho(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Qc(e.labelLimit,t.gradientLabelLimit)}),s?(u.align={value:"left"},u.baseline=c.baseline={signal:EMt},d="y",f="x",h="1-"):(u.align=c.align={signal:_Mt},u.baseline={value:"top"},d="x",f="y"),u[d]=c[d]={signal:h+"datum."+r_,mult:a},u[f]=c[f]=o,o.offset=Qc(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+iH}:void 0,_u({type:W1,role:hPe,style:Xk,key:Zu,from:r,encode:p,overlap:l},n)}function CMt(e,t,n,r,i){const s=Vl(e,t),o=n.entries,a=!!(o&&o.interactive),l=o?o.name:void 0,u=s("clipHeight"),c=s("symbolOffset"),d={data:"value"},f=`(${i}) ? datum.${aMt} : datum.${oH}`,h=u?co(u):{field:oH},p=`datum.${iH}`,m=`max(1, ${i})`;let g,v,y,w,E;h.mult=.5,g={enter:v={opacity:hr,x:{signal:f,mult:.5,offset:c},y:h},update:y={opacity:ec,x:v.x,y:v.y},exit:{opacity:hr}};let C=null,S=null;e.fill||(C=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),Ho(g,{fill:s("symbolFillColor",C),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",S),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),rZ.forEach(R=>{e[R]&&(y[R]=v[R]={scale:e[R],field:Zu})});const T=_u({type:yMt,role:Y6t,key:Zu,from:d,clip:u?!0:void 0,encode:g},n.symbols),k=co(c);k.offset=s("labelOffset"),g={enter:v={opacity:hr,x:{signal:f,offset:k},y:h},update:y={opacity:ec,text:{field:tZ},x:v.x,y:v.y},exit:{opacity:hr}},Ho(g,{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});const I=_u({type:W1,role:hPe,style:Xk,key:Zu,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!u},width:hr,height:u?co(u):hr,opacity:hr},exit:{opacity:hr},update:y={opacity:ec,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(w=`ceil(item.mark.items.length / ${m})`,y.row.signal=`${p}%${w}`,y.column.signal=`floor(${p} / ${w})`,E={field:["row",p]}):(y.row.signal=`floor(${p} / ${m})`,y.column.signal=`${p} % ${m}`,E={field:p}),y.column.signal=`(${i})?${y.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:iH}},bT({role:JJ,from:r,encode:uE(g,o,Qk),marks:[T,I],name:l,interactive:a,sort:E})}function SMt(e,t){const n=Vl(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const oZ='item.orient === "left"',aZ='item.orient === "right"',C5=`(${oZ} || ${aZ})`,TMt=`datum.vgrad && ${C5}`,kMt=E5('"top"','"bottom"','"middle"'),AMt=E5('"right"','"left"','"center"'),IMt=`datum.vgrad && ${aZ} ? (${AMt}) : (${C5} && !(datum.vgrad && ${oZ})) ? "left" : ${sZ}`,RMt=`item._anchor || (${C5} ? "middle" : "start")`,DMt=`${TMt} ? (${oZ} ? -90 : 90) : 0`,PMt=`${C5} ? (datum.vgrad ? (${aZ} ? "bottom" : "top") : ${kMt}) : "top"`;function OMt(e,t,n,r){const i=Vl(e,t),s={enter:{opacity:hr},update:{opacity:ec,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:hr}};return Ho(s,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:RMt},angle:{signal:DMt},align:{signal:IMt},baseline:{signal:PMt},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),_u({type:W1,role:K6t,style:nZ,from:r,encode:s},n)}function NMt(e,t){let n;return Mt(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+Lhe(e.path)+")":e.sphere&&(n="geoShape("+Lhe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function Lhe(e){return Mt(e)&&e.signal?e.signal:Et(e)}function OPe(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===_5?JJ:t||XJ}function $Mt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||OPe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function MMt(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function lZ(e,t){const n=yIe(e.type);n||et("Unrecognized transform type: "+Et(e.type));const r=b5(n.type.toLowerCase(),null,NPe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function NPe(e,t,n){const r={},i=e.params.length;for(let s=0;s<i;++s){const o=e.params[s];r[o.name]=FMt(o,t,n)}return r}function FMt(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return LMt(e,t,n);if(i===void 0){e.required&&et("Missing required "+Et(t.type)+" parameter: "+Et(e.name));return}else{if(r==="param")return jMt(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Us(i)?i.map(s=>jhe(e,s,n)):jhe(e,i,n)}function jhe(e,t,n){const r=e.type;if(Us(t))return zhe(r)?et("Expression references can not be signals."):K9(r)?n.fieldRef(t):Uhe(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||K9(r);return i&&BMt(t)?n.exprRef(t.expr,t.as):i&&zMt(t)?yT(t.field,t.as):zhe(r)?yh(t,n):UMt(r)?nn(n.getData(t).values):K9(r)?yT(t):Uhe(r)?n.compareRef(t):t}}function LMt(e,t,n){return Ft(t.from)||et('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function jMt(e,t,n){const r=t[e.name];return e.array?(nt(r)||et("Expected an array of sub-parameters. Instead: "+Et(r)),r.map(i=>Bhe(e,i,n))):Bhe(e,r,n)}function Bhe(e,t,n){const r=e.params.length;let i;for(let o=0;o<r;++o){i=e.params[o];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||et("Unsupported parameter: "+Et(t));const s=Nn(NPe(i,t,n),i.key);return nn(n.add(M5t(s)))}const BMt=e=>e&&e.expr,zMt=e=>e&&e.field,UMt=e=>e==="data",zhe=e=>e==="expr",K9=e=>e==="field",Uhe=e=>e==="compare";function qMt(e,t,n){let r,i,s,o,a;return e?(r=e.facet)&&(t||et("Only group marks can be faceted."),r.field!=null?o=a=mP(r,n):(e.data?a=nn(n.getData(e.data).aggregate):(s=lZ(Nn({type:"aggregate",groupby:$t(r.groupby)},r.aggregate),n),s.params.key=n.keyRef(r.groupby),s.params.pulse=mP(r,n),o=a=nn(n.add(s))),i=n.keyRef(r.groupby,!0))):o=nn(n.add(Qd(null,[{}]))),o||(o=mP(e,n)),{key:i,pulse:o,parent:a}}function mP(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:nn(t.getData(e.data).output)}function o1(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}o1.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let s=t[0],o=null,a=1;for(s&&s.type==="load"&&(s=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=nn(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(o=t[a]);return new o1(e,s,i,r,o)};function $Pe(e){return Ft(e)?e:null}function qhe(e,t,n){const r=w5(n.op,n.field);let i;if(t.ops){for(let s=0,o=t.as.length;s<o;++s)if(t.as[s]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function IC(e,t,n,r,i,s,o){const a=t[n]||(t[n]={}),l=f5t(s);let u=$Pe(i),c,d;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const f=s?{field:tH,pulse:t.countsRef(e,i,s)}:{field:e.fieldRef(i),pulse:nn(t.output)};l&&(f.sort=e.sortRef(s)),d=e.add(b5(r,void 0,f)),o&&(t.index[i]=d),c=nn(d),u!=null&&(a[u]=c)}return c}o1.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),s=$Pe(t);let o,a,l;return s!=null&&(e=r.scope,o=i[s]),o?n&&n.field&&qhe(e,o.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:nn(r.output)},n&&n.field&&qhe(e,l,n),a=e.add(bPe(l)),o=e.add(Qd({pulse:nn(a)})),o={agg:a,ref:nn(o)},s!=null&&(i[s]=o)),o.ref},tuplesRef(){return nn(this.values)},extentRef(e,t){return IC(e,this,"extent","extent",t,!1)},domainRef(e,t){return IC(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return IC(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return IC(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return IC(e,this,"indata","tupleindex",t,!0,!0)}};function HMt(e,t,n){const r=e.from.facet,i=r.name,s=mP(r,t);let o;r.name||et("Facet must have a name: "+Et(r)),r.data||et("Facet must reference a data set: "+Et(r)),r.field?o=t.add(_Pe({field:t.fieldRef(r.field),pulse:s})):r.groupby?o=t.add(k5t({key:t.keyRef(r.groupby),group:nn(t.proxy(n.parent)),pulse:s})):et("Facet must specify groupby or field: "+Et(r));const a=t.fork(),l=a.add(Qd()),u=a.add(V1({pulse:nn(l)}));a.addData(i,new o1(a,l,l,u)),a.addSignal("parent",null),o.params.subflow={$subflow:a.parse(e).toRuntime()}}function VMt(e,t,n){const r=t.add(_Pe({pulse:n.pulse})),i=t.fork();i.add(V1()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function MPe(e,t,n){const r=e.remove,i=e.insert,s=e.toggle,o=e.modify,a=e.values,l=t.add(q4()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,s,o,a].map(d=>d??"null").join(",")+"),0)",c=yh(u,t);l.update=c.$expr,l.params=c.$params}function S5(e,t){const n=OPe(e),r=e.type===_5,i=e.from&&e.from.facet,s=e.overlap;let o=e.layout||n===JJ||n===QJ,a,l,u,c,d,f,h;const p=n===XJ||o||i,m=qMt(e.from,r,t);l=t.add(S5t({key:m.key||(e.key?yT(e.key):void 0),pulse:m.pulse,clean:!r}));const g=nn(l);l=u=t.add(Qd({pulse:g})),l=t.add(P5t({markdef:$Mt(e),interactive:MMt(e.interactive,t),clip:NMt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:nn(l)}));const v=nn(l);l=c=t.add(xPe(yPe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const T=lZ(S,t),k=T.metadata;(k.generates||k.changes)&&et("Mark transforms should not generate new data."),k.nomod||(c.params.mod=!0),T.params.pulse=nn(l),t.add(l=T)}),e.sort&&(l=t.add(z5t({sort:t.compareRef(e.sort),pulse:nn(l)})));const y=nn(l);(i||o)&&(o=t.add(CPe({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:y})),f=nn(o));const w=t.add(wPe({mark:v,pulse:f||y}));h=nn(w),r&&(p&&(a=t.operators,a.pop(),o&&a.pop()),t.pushState(y,f||h,g),i?HMt(e,t,m):p?VMt(e,t,m):t.parse(e),t.popState(),p&&(o&&a.push(o),a.push(w))),s&&(h=WMt(s,h,t));const E=t.add(EPe({pulse:h})),C=t.add(V1({pulse:nn(E)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new o1(t,u,E,C)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&et("Marks only support modify triggers."),MPe(S,t,d)}))}function WMt(e,t,n){const r=e.method,i=e.bound,s=e.separation,o={separation:Us(s)?n.signalRef(s.signal):s,method:Us(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;o.boundTolerance=Us(a)?n.signalRef(a.signal):+a,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return nn(n.add($5t(o)))}function GMt(e,t){const n=t.config.legend,r=e.encode||{},i=Vl(e,n),s=r.legend||{},o=s.name||void 0,a=s.interactive,l=s.style,u={};let c=0,d,f,h;rZ.forEach(w=>e[w]?(u[w]=e[w],c=c||e[w]):0),c||et("Missing valid scale for legend.");const p=YMt(e,t.scaleType(c)),m={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},g=nn(t.add(Qd(null,[m]))),v={enter:{x:{value:0},y:{value:0}}},y=nn(t.add(R5t(f={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===pP?(h=[wMt(e,c,n,r.gradient),Fhe(e,n,r.labels,y)],f.count=f.count||t.signalRef(`max(2,2*floor((${Iv(i.gradientLength())})/100))`)):p===sH?h=[xMt(e,c,n,r.gradient,y),Fhe(e,n,r.labels,y)]:(d=SMt(e,n),h=[CMt(e,n,r,y,Iv(d.columns))],f.size=QMt(e,t,h[0].marks)),h=[bT({role:W6t,from:g,encode:v,marks:h,layout:d,interactive:a})],m.title&&h.push(OMt(e,n,r.title,g)),S5(bT({role:H6t,from:g,encode:uE(XMt(i,e,n),s,Qk),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:o,interactive:a,style:l}),t)}function YMt(e,t){let n=e.type||Mhe;return!e.type&&KMt(e)===1&&(e.fill||e.stroke)&&(n=xQ(t)?pP:wq(t)?sH:Mhe),n!==pP?n:wq(t)?sH:pP}function KMt(e){return rZ.reduce((t,n)=>t+(e[n]?1:0),0)}function XMt(e,t,n){const r={enter:{},update:{}};return Ho(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function QMt(e,t,n){const r=Iv(Hhe("size",e,n)),i=Iv(Hhe("strokeWidth",e,n)),s=Iv(JMt(n[1].encode,t,Xk));return yh(`max(ceil(sqrt(${r})+${i}),${s})`,t)}function Hhe(e,t,n){return t[e]?`scale("${t[e]}",datum)`:DPe(e,n[0].encode)}function JMt(e,t,n){return DPe("fontSize",e)||vMt("fontSize",t,n)}const ZMt=`item.orient==="${cE}"?-90:item.orient==="${dE}"?90:0`;function e8t(e,t){e=Ft(e)?{text:e}:e;const n=Vl(e,t.config.title),r=e.encode||{},i=r.group||{},s=i.name||void 0,o=i.interactive,a=i.style,l=[],u={},c=nn(t.add(Qd(null,[u])));return l.push(r8t(e,n,t8t(e),c)),e.subtitle&&l.push(i8t(e,n,r.subtitle,c)),S5(bT({role:X6t,from:c,encode:n8t(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:s,interactive:o,style:a}),t)}function t8t(e){const t=e.encode;return t&&t.title||Nn({name:e.name,interactive:e.interactive,style:e.style},t)}function n8t(e,t){const n={enter:{},update:{}};return Ho(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:sZ},angle:{signal:ZMt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),uE(n,t,Qk)}function r8t(e,t,n,r){const i={value:0},s=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Ho(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),_u({type:W1,role:Q6t,style:uMt,from:r,encode:o},n)}function i8t(e,t,n,r){const i={value:0},s=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Ho(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),_u({type:W1,role:J6t,style:cMt,from:r,encode:o},n)}function s8t(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(lZ(r,t))}),e.on&&e.on.forEach(r=>{MPe(r,t,e.name)}),t.addDataPipeline(e.name,o8t(e,t,n))}function o8t(e,t,n){const r=[];let i=null,s=!1,o=!1,a,l,u,c,d;for(e.values?Us(e.values)||fP(e.format)?(r.push(Vhe(t,e)),r.push(i=xy())):r.push(i=xy({$ingest:e.values,$format:e.format})):e.url?fP(e.url)||fP(e.format)?(r.push(Vhe(t,e)),r.push(i=xy())):r.push(i=xy({$request:e.url,$format:e.format})):e.source&&(i=a=$t(e.source).map(f=>nn(t.getData(f).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],d=c.metadata,!i&&!d.source&&r.push(i=xy()),r.push(c),d.generates&&(o=!0),d.modifies&&!o&&(s=!0),d.source?i=c:d.changes&&(i=null);return a&&(u=a.length-1,r[0]=j5t({derive:s,pulse:u?a:a[0]}),(s||u)&&r.splice(1,0,xy())),i||r.push(xy()),r.push(V1({})),r}function xy(e){const t=Qd({},e);return t.metadata={source:!0},t}function Vhe(e,t){return D5t({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const FPe=e=>e===mg||e===Jd,T5=(e,t,n)=>Us(e)?c8t(e.signal,t,n):e===cE||e===Jd?t:n,fo=(e,t,n)=>Us(e)?l8t(e.signal,t,n):FPe(e)?t:n,xd=(e,t,n)=>Us(e)?u8t(e.signal,t,n):FPe(e)?n:t,LPe=(e,t,n)=>Us(e)?d8t(e.signal,t,n):e===Jd?{value:t}:{value:n},a8t=(e,t,n)=>Us(e)?f8t(e.signal,t,n):e===dE?{value:t}:{value:n},l8t=(e,t,n)=>jPe(`${e} === '${Jd}' || ${e} === '${mg}'`,t,n),u8t=(e,t,n)=>jPe(`${e} !== '${Jd}' && ${e} !== '${mg}'`,t,n),c8t=(e,t,n)=>uZ(`${e} === '${cE}' || ${e} === '${Jd}'`,t,n),d8t=(e,t,n)=>uZ(`${e} === '${Jd}'`,t,n),f8t=(e,t,n)=>uZ(`${e} === '${dE}'`,t,n),jPe=(e,t,n)=>(t=t!=null?co(t):t,n=n!=null?co(n):n,Whe(t)&&Whe(n)?(t=t?t.signal||Et(t.value):null,n=n?n.signal||Et(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Nn({test:e},t)].concat(n||[])),Whe=e=>e==null||Object.keys(e).length===1,uZ=(e,t,n)=>({signal:`${e} ? (${jw(t)}) : (${jw(n)})`}),h8t=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${cE}' ? (${jw(r)}) : `:"")+(n!=null?`${e} === '${mg}' ? (${jw(n)}) : `:"")+(i!=null?`${e} === '${dE}' ? (${jw(i)}) : `:"")+(t!=null?`${e} === '${Jd}' ? (${jw(t)}) : `:"")+"(null)"}),jw=e=>Us(e)?e.signal:e==null?null:Et(e),p8t=(e,t)=>t===0?0:Us(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},cx=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Zb(e,t,n,r){let i;if(t&&zt(t,e))return t[e];if(zt(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[nZ][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Xk][i]}return null}function Ghe(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function m8t(e,t){var n=t.config,r=n.style,i=n.axis,s=t.scaleType(e.scale)==="band"&&n.axisBand,o=e.orient,a,l,u;if(Us(o)){const d=Ghe([n.axisX,n.axisY]),f=Ghe([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of d)a[u]=fo(o,Zb(u,n.axisX,i,r),Zb(u,n.axisY,i,r));l={};for(u of f)l[u]=h8t(o.signal,Zb(u,n.axisTop,i,r),Zb(u,n.axisBottom,i,r),Zb(u,n.axisLeft,i,r),Zb(u,n.axisRight,i,r))}else a=o===Jd||o===mg?n.axisX:n.axisY,l=n["axis"+o[0].toUpperCase()+o.slice(1)];return a||l||s?Nn({},i,a,l,s):i}function g8t(e,t,n,r){const i=Vl(e,t),s=e.orient;let o,a;const l={enter:o={opacity:hr},update:a={opacity:ec},exit:{opacity:hr}};Ho(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=Yhe(e,0),c=Yhe(e,1);return o.x=a.x=fo(s,u,hr),o.x2=a.x2=fo(s,c),o.y=a.y=xd(s,u,hr),o.y2=a.y2=xd(s,c),_u({type:iZ,role:j6t,from:r,encode:l},n)}function Yhe(e,t){return{scale:e.scale,range:t}}function y8t(e,t,n,r,i){const s=Vl(e,t),o=e.orient,a=e.gridScale,l=T5(o,1,-1),u=v8t(e.offset,l);let c,d,f;const h={enter:c={opacity:hr},update:f={opacity:ec},exit:d={opacity:hr}};Ho(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});const p={scale:e.scale,field:Zu,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},m=fo(o,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},v=a?{scale:a,range:1,mult:l,offset:u}:Nn(m,{mult:l,offset:u});return c.x=f.x=fo(o,p,g),c.y=f.y=xd(o,p,g),c.x2=f.x2=xd(o,v),c.y2=f.y2=fo(o,v),d.x=fo(o,p),d.y=xd(o,p),_u({type:iZ,role:B6t,key:Zu,from:r,encode:h},n)}function v8t(e,t){if(t!==1)if(!Mt(e))e=Us(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Nn({},e);for(;n.mult!=null;)if(Mt(n.mult))n=n.mult=Nn({},n.mult);else return n.mult=Us(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function b8t(e,t,n,r,i,s){const o=Vl(e,t),a=e.orient,l=T5(a,-1,1);let u,c,d;const f={enter:u={opacity:hr},update:d={opacity:ec},exit:c={opacity:hr}};Ho(f,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const h=co(i);h.mult=l;const p={scale:e.scale,field:Zu,band:s.band,extra:s.extra,offset:s.offset,round:o("tickRound")};return d.y=u.y=fo(a,hr,p),d.y2=u.y2=fo(a,h),c.x=fo(a,p),d.x=u.x=xd(a,hr,p),d.x2=u.x2=xd(a,h),c.y=xd(a,p),_u({type:iZ,role:U6t,key:Zu,from:r,encode:f},n)}function X9(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function w8t(e,t,n,r,i,s){const o=Vl(e,t),a=e.orient,l=e.scale,u=T5(a,-1,1),c=Iv(o("labelFlush")),d=Iv(o("labelFlushOffset")),f=o("labelAlign"),h=o("labelBaseline");let p=c===0||!!c,m;const g=co(i);g.mult=u,g.offset=co(o("labelPadding")||0),g.offset.mult=u;const v={scale:l,field:Zu,band:.5,offset:PPe(s.offset,o("labelOffset"))},y=fo(a,p?X9(l,c,'"left"','"right"','"center"'):{value:"center"},a8t(a,"left","right")),w=fo(a,LPe(a,"bottom","top"),p?X9(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),E=X9(l,c,`-(${d})`,d,0);p=p&&d;const C={opacity:hr,x:fo(a,v,g),y:xd(a,v,g)},S={enter:C,update:m={opacity:ec,text:{field:tZ},x:C.x,y:C.y,align:y,baseline:w},exit:{opacity:hr,x:C.x,y:C.y}};Ho(S,{dx:!f&&p?fo(a,E):null,dy:!h&&p?xd(a,E):null}),Ho(S,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:f,baseline:h});const T=o("labelBound");let k=o("labelOverlap");return k=k||T?{separation:o("labelSeparation"),method:k,order:"datum.index",bound:T?{scale:l,orient:a,tolerance:T}:null}:void 0,m.align!==y&&(m.align=cx(m.align,y)),m.baseline!==w&&(m.baseline=cx(m.baseline,w)),_u({type:W1,role:z6t,style:Xk,key:Zu,from:r,encode:S,overlap:k},n)}function x8t(e,t,n,r){const i=Vl(e,t),s=e.orient,o=T5(s,-1,1);let a,l;const u={enter:a={opacity:hr,anchor:co(i("titleAnchor",null)),align:{signal:sZ}},update:l=Nn({},a,{opacity:ec,text:co(e.title)}),exit:{opacity:hr}},c={signal:`lerp(range("${e.scale}"), ${E5(0,1,.5)})`};return l.x=fo(s,c),l.y=xd(s,c),a.angle=fo(s,hr,p8t(o,90)),a.baseline=fo(s,LPe(s,mg,Jd),{value:mg}),l.angle=a.angle,l.baseline=a.baseline,Ho(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),_8t(i,s,u,n),u.update.align=cx(u.update.align,a.align),u.update.angle=cx(u.update.angle,a.angle),u.update.baseline=cx(u.update.baseline,a.baseline),_u({type:W1,role:q6t,style:nZ,from:r,encode:u},n)}function _8t(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=cx(co(a),n.update[l]),!1):!Tw(l,r),s=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===s?co(o):fo(t,co(o),co(s))}function E8t(e,t){const n=m8t(e,t),r=e.encode||{},i=r.axis||{},s=i.name||void 0,o=i.interactive,a=i.style,l=Vl(e,n),u=bMt(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=nn(t.add(Qd({},[c]))),f=nn(t.add(C5t({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(y8t(e,n,r.grid,f,u)),c.ticks&&(p=l("tickSize"),h.push(b8t(e,n,r.ticks,f,p,u))),c.labels&&(p=c.ticks?p:0,h.push(w8t(e,n,r.labels,f,p,u))),c.domain&&h.push(g8t(e,n,r.domain,d)),c.title&&h.push(x8t(e,n,r.title,d)),S5(bT({role:L6t,from:d,encode:uE(C8t(l,e),i,Qk),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:s,interactive:o,style:a}),t)}function C8t(e,t){const n={enter:{},update:{}};return Ho(n,{orient:e("orient"),offset:e("offset")||0,position:Qc(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function BPe(e,t,n){const r=$t(e.signals),i=$t(e.scales);return n||r.forEach(s=>vPe(s,t)),$t(e.projections).forEach(s=>nMt(s,t)),i.forEach(s=>H5t(s,t)),$t(e.data).forEach(s=>s8t(s,t)),i.forEach(s=>V5t(s,t)),(n||r).forEach(s=>E5t(s,t)),$t(e.axes).forEach(s=>E8t(s,t)),$t(e.marks).forEach(s=>S5(s,t)),$t(e.legends).forEach(s=>GMt(s,t)),e.title&&e8t(e.title,t),t.parseLambdas(),t}const S8t=e=>uE({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function T8t(e,t){const n=t.config,r=nn(t.root=t.add(q4())),i=k8t(e,n);i.forEach(u=>vPe(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const s=t.add(Qd()),o=t.add(xPe(yPe(S8t(e.encode),_5,QJ,e.style,t,{pulse:nn(s)}))),a=t.add(CPe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:nn(o)}));t.operators.pop(),t.pushState(nn(o),nn(a),null),BPe(e,t,i),t.operators.push(a);let l=t.add(wPe({mark:r,pulse:nn(a)}));return l=t.add(EPe({pulse:nn(l)})),l=t.add(V1({pulse:nn(l)})),t.addData("root",new o1(t,s,s,l)),t}function RC(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function k8t(e,t){const n=o=>Qc(e[o],t[o]),r=[RC("background",n("background")),RC("autosize",$6t(n("autosize"))),RC("padding",F6t(n("padding"))),RC("width",n("width")||0),RC("height",n("height")||0)],i=r.reduce((o,a)=>(o[a.name]=a,o),{}),s={};return $t(e.signals).forEach(o=>{zt(i,o.name)?o=Nn(i[o.name],o):r.push(o),s[o.name]=o}),$t(t.signals).forEach(o=>{!zt(s,o.name)&&!zt(i,o.name)&&r.push(o)}),r}function zPe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Khe(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}zPe.prototype=Khe.prototype={parse(e){return BPe(e,this)},fork(){return new Khe(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof eH?nn(e):e;return this.add(L5t({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,s){let o,a;r&&(o=r.data||(r.data={}),a=o[i]||(o[i]=[]),a.push(s))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(nn(this.add(V1({pulse:e})))),this._parent.push(t),this._lookup.push(n?nn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return lr(this._parent)},encode(){return lr(this._encode)},lookup(){return lr(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Ft(e))return yT(e,t);e.signal||et("Unsupported field reference: "+Et(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=nn(this.add(A5t(i)))}return r},compareRef(e){let t=!1;const n=s=>Us(s)?(t=!0,this.signalRef(s.signal)):h5t(s)?(t=!0,this.exprRef(s.expr)):s,r=$t(e.field).map(n),i=$t(e.order).map(n);return t?nn(this.add($he({fields:r,orders:i}))):Ohe(r,i)},keyRef(e,t){let n=!1;const r=s=>Us(s)?(n=!0,nn(i[s.signal])):s,i=this.signals;return e=$t(e).map(r),n?nn(this.add(I5t({fields:e,flat:t}))):u5t(e,t)},sortRef(e){if(!e)return e;const t=w5(e.op,e.field),n=e.order||c5t;return n.signal?nn(this.add($he({fields:t,orders:this.signalRef(n.signal)}))):Ohe(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return zt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&et("Duplicate signal name: "+Et(e));const n=t instanceof eH?t:this.add(q4(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||et("Unrecognized signal name: "+Et(e)),this.signals[e]},signalRef(e){return this.signals[e]?nn(this.signals[e]):(zt(this.lambdas,e)||(this.lambdas[e]=this.add(q4(null))),nn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=yh(r,this),s=this.lambdas[r];s.params=i.$params,s.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Mt(e)?e:this.signalRef(e.signal||cZ(e))},exprRef(e,t){const n={expr:yh(e,this)};return t&&(n.expr.$name=t),nn(this.add(T5t(n)))},addBinding(e,t){this.bindings||et("Nested signals do not support binding: "+Et(e)),this.bindings.push(Nn({signal:e},t))},addScaleProj(e,t){zt(this.scales,e)&&et("Duplicate scale or projection name: "+Et(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,B5t(t))},addProjection(e,t){this.addScaleProj(e,F5t(t))},getScale(e){return this.scales[e]||et("Unrecognized scale name: "+Et(e)),this.scales[e]},scaleRef(e){return nn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return zt(this.data,e)&&et("Duplicate data set name: "+Et(e)),this.data[e]=t},getData(e){return this.data[e]||et("Undefined data set name: "+Et(e)),this.data[e]},addDataPipeline(e,t){return zt(this.data,e)&&et("Duplicate data set name: "+Et(e)),this.addData(e,o1.fromEntries(this,t))}};function cZ(e){return(nt(e)?A8t:I8t)(e)}function A8t(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Mt(i)?i.signal||cZ(i):Et(i))}return n+"]"}function I8t(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+Et(r)+":"+(Mt(i)?i.signal||cZ(i):Et(i));return t+"}"}function R8t(){const e="sans-serif",r="#4c78a8",i="#000",s="#888",o="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:o},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:s,grid:!1,gridWidth:1,gridColor:o,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:s,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:o,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:s,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function D8t(e,t,n){return Mt(e)||et("Input Vega specification must be an object."),t=tE(R8t(),t,e.config),T8t(e,new zPe(t,n)).toRuntime()}var P8t="5.33.0";Nn(Kx,SAt,fDt,HDt,xPt,APt,tOt,NPt,rOt,aOt,yOt,COt);const O8t=Object.freeze(Object.defineProperty({__proto__:null,Bounds:ws,CanvasHandler:Vk,CanvasRenderer:D4,DATE:jl,DAY:la,DAYOFYEAR:gh,Dataflow:ux,Debug:fAe,Error:sX,EventStream:z6,Gradient:ARe,GroupItem:e5,HOURS:bu,Handler:WQ,HybridHandler:b3e,HybridRenderer:Dq,Info:dAe,Item:Z6,MILLISECONDS:Pd,MINUTES:wu,MONTH:ha,Marks:xu,MultiPulse:TX,None:cAe,Operator:ii,Parameters:B6,Pulse:Y0,QUARTER:Ll,RenderType:$0,Renderer:Hk,ResourceLoader:$Re,SECONDS:uc,SVGHandler:o3e,SVGRenderer:JQ,SVGStringRenderer:v3e,Scenegraph:JRe,TIME_UNITS:vX,Transform:Ye,View:sPe,WEEK:Bs,Warn:oX,YEAR:Uo,accessor:Hl,accessorFields:fa,accessorName:Ki,array:$t,ascending:Ak,bandwidthNRD:RX,bin:wIe,bootstrapCI:xIe,boundClip:I3e,boundContext:Bk,boundItem:Tq,boundMark:YRe,boundStroke:Em,changeset:U1,clampRange:EAe,codegenExpression:PDe,compare:dX,constant:wa,cumulativeLogNormal:MX,cumulativeNormal:q6,cumulativeUniform:BX,dayofyear:NAe,debounce:fX,defaultLocale:xX,definition:yIe,densityLogNormal:$X,densityNormal:DX,densityUniform:jX,domChild:Fs,domClear:qu,domCreate:O0,domFind:VQ,dotbin:_Ie,error:et,expressionFunction:fs,extend:Nn,extent:mh,extentIndex:CAe,falsy:l0,fastmap:rE,field:ac,flush:SAe,font:s5,fontFamily:qk,fontSize:Mh,format:XD,formatLocale:v4,formats:CX,hasOwnProperty:zt,id:kk,identity:ba,inferType:oIe,inferTypes:aIe,ingest:Nr,inherits:Tt,inrange:Mw,interpolate:_Q,interpolateColors:Q6,interpolateRange:pRe,intersect:S3e,intersectBoxLine:Fw,intersectPath:RQ,intersectPoint:DQ,intersectRule:FRe,isArray:nt,isBoolean:Bg,isDate:G0,isFunction:$n,isIterable:TAe,isNumber:kr,isObject:Mt,isRegExp:hX,isString:Ft,isTuple:L6,key:pX,lerp:kAe,lineHeight:fg,loader:M6,locale:iIe,logger:aX,lruCache:AAe,markup:QQ,merge:IAe,mergeConfig:tE,multiLineOffset:UQ,one:eE,pad:RAe,panLinear:yAe,panLog:vAe,panPow:bAe,panSymlog:wAe,parse:D8t,parseExpression:IDe,parseSelector:Ug,path:Z$,pathCurves:kQ,pathEqual:R3e,pathParse:Zx,pathRectangle:DRe,pathRender:uT,pathSymbols:RRe,pathTrail:PRe,peek:lr,point:a5,projection:cJ,quantileLogNormal:FX,quantileNormal:H6,quantileUniform:zX,quantiles:AX,quantizeInterpolator:mRe,quarter:xAe,quartiles:IX,get random(){return cc},randomInteger:Ikt,randomKDE:OX,randomLCG:Akt,randomLogNormal:CIe,randomMixture:SIe,randomNormal:PX,randomUniform:TIe,read:cIe,regressionConstant:UX,regressionExp:AIe,regressionLinear:qX,regressionLoess:DIe,regressionLog:kIe,regressionPoly:RIe,regressionPow:IIe,regressionQuad:HX,renderModule:l5,repeat:yS,resetDefaultLocale:STt,resetSVGClipId:NRe,resetSVGDefIds:R3t,responseType:uIe,runtimeContext:WDe,sampleCurve:W6,sampleLogNormal:NX,sampleNormal:U6,sampleUniform:LX,scale:Ar,sceneEqual:ZQ,sceneFromJSON:XRe,scenePickVisit:E4,sceneToJSON:KRe,sceneVisit:Od,sceneZOrder:PQ,scheme:EQ,serializeXML:p3e,setHybridRendererOptions:T3t,setRandom:Tkt,span:Ik,splitAccessPath:$h,stringValue:Et,textMetrics:uu,timeBin:QAe,timeFloor:zAe,timeFormatLocale:oT,timeInterval:iE,timeOffset:HAe,timeSequence:GAe,timeUnitSpecifier:OAe,timeUnits:bX,toBoolean:mX,toDate:gX,toNumber:ca,toSet:Dd,toString:yX,transform:vIe,transforms:Kx,truncate:DAe,truthy:lc,tupleid:rn,typeParsers:yq,utcFloor:UAe,utcInterval:sE,utcOffset:VAe,utcSequence:YAe,utcdayofyear:FAe,utcquarter:_Ae,utcweek:LAe,version:P8t,visitArray:m0,week:$Ae,writeConfig:nE,zero:T0,zoomLinear:lX,zoomLog:uX,zoomPow:y4,zoomSymlog:cX},Symbol.toStringTag,{value:"Module"})),N8t="5.23.0",$8t={version:N8t};function dZ(e){return pt(e,"or")}function fZ(e){return pt(e,"and")}function hZ(e){return pt(e,"not")}function gP(e,t){if(hZ(e))gP(e.not,t);else if(fZ(e))for(const n of e.and)gP(n,t);else if(dZ(e))for(const n of e.or)gP(n,t);else t(e)}function dx(e,t){return hZ(e)?{not:dx(e.not,t)}:fZ(e)?{and:e.and.map(n=>dx(n,t))}:dZ(e)?{or:e.or.map(n=>dx(n,t))}:t(e)}const Cn=structuredClone;function UPe(e){throw new Error(e)}function i_(e,t){const n={};for(const r of t)zt(e,r)&&(n[r]=e[r]);return n}function Nl(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>ei(e)).join(",")})`};function nr(e){if(kr(e))return e;const t=Ft(e)?e:ei(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function aH(e){return e===!1||e===null}function Wn(e,t){return e.includes(t)}function s_(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function pZ(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function qPe(e,...t){for(const n of t)M8t(e,n??{});return e}function M8t(e,t){for(const n of ht(t))nE(e,n,t[n],!0)}function Hf(e,t){const n=[],r={};let i;for(const s of e)i=t(s),!(i in r)&&(r[i]=1,n.push(s));return n}function F8t(e,t){const n=ht(e),r=ht(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function HPe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function mZ(e,t){for(const n of e)if(t.has(n))return!0;return!1}function lH(e){const t=new Set;for(const n of e){const i=$h(n).map((o,a)=>a===0?o:`[${o}]`),s=i.map((o,a)=>i.slice(0,a+1).join(""));for(const o of s)t.add(o)}return t}function gZ(e,t){return e===void 0||t===void 0?!0:mZ(lH(e),lH(t))}function Zr(e){return ht(e).length===0}const ht=Object.keys,qo=Object.values,gg=Object.entries;function wT(e){return e===!0||e===!1}function Ai(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function u2(e,t){return hZ(e)?`!(${u2(e.not,t)})`:fZ(e)?`(${e.and.map(n=>u2(n,t)).join(") && (")})`:dZ(e)?`(${e.or.map(n=>u2(n,t)).join(") || (")})`:t(e)}function H4(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&H4(e[n],t)&&delete e[n],Zr(e)}function Jk(e){return e.charAt(0).toUpperCase()+e.substr(1)}function yZ(e,t="datum"){const n=$h(e),r=[];for(let i=1;i<=n.length;i++){const s=`[${n.slice(0,i).map(Et).join("][")}]`;r.push(`${t}${s}`)}return r.join(" && ")}function VPe(e,t="datum"){return`${t}[${Et($h(e).join("."))}]`}function Hr(e){return`datum['${e.replaceAll("'","\\'")}']`}function L8t(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function dc(e){return`${$h(e).map(L8t).join("\\.")}`}function a1(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function fE(e){return`${$h(e).join(".")}`}function o_(e){return e?$h(e).length:0}function ls(...e){return e.find(t=>t!==void 0)}let WPe=42;function GPe(e){const t=++WPe;return e?String(e)+t:t}function j8t(){WPe=42}function YPe(e){return KPe(e)?e:`__${e}`}function KPe(e){return e.startsWith("__")}function xT(e){if(e!==void 0)return(e%360+360)%360}function k5(e){return kr(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const Xhe=Object.getPrototypeOf(structuredClone({}));function au(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!au(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;for(const s of e.entries())if(!au(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==Xhe.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==Xhe.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!au(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function ei(e){const t=[];return(function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,s;if(Array.isArray(r)){for(s="[",i=0;i<r.length;i++)i&&(s+=","),s+=n(r[i])||"null";return s+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const o=t.push(r)-1,a=Object.keys(r).sort();for(s="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(s&&(s+=","),s+=JSON.stringify(l)+":"+u)}return t.splice(o,1),`{${s}}`})(e)}function pt(e,t){return Mt(e)&&zt(e,t)&&e[t]!==void 0}const qp="row",Hp="column",A5="facet",Ri="x",bo="y",Zd="x2",jh="y2",qg="xOffset",hE="yOffset",ef="radius",Sm="radius2",Cc="theta",Tm="theta2",tf="latitude",nf="longitude",rf="latitude2",fc="longitude2",Hg="time",Bl="color",Bh="fill",zh="stroke",zl="shape",km="size",G1="angle",Am="opacity",Vg="fillOpacity",Wg="strokeOpacity",Gg="strokeWidth",Yg="strokeDash",Zk="text",a_="order",eA="detail",I5="key",l1="tooltip",R5="href",D5="url",P5="description",B8t={x:1,y:1,x2:1,y2:1},XPe={theta:1,theta2:1,radius:1,radius2:1};function QPe(e){return zt(XPe,e)}const vZ={longitude:1,longitude2:1,latitude:1,latitude2:1};function JPe(e){switch(e){case tf:return"y";case rf:return"y2";case nf:return"x";case fc:return"x2"}}function ZPe(e){return zt(vZ,e)}const z8t=ht(vZ),bZ={...B8t,...XPe,...vZ,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function fx(e){return e===Bl||e===Bh||e===zh}const eOe={row:1,column:1,facet:1},Qu=ht(eOe),wZ={...bZ,...eOe},U8t=ht(wZ),{order:Kin,detail:Xin,tooltip:Qin,...q8t}=wZ,{row:Jin,column:Zin,facet:esn,...H8t}=q8t;function V8t(e){return zt(H8t,e)}function tOe(e){return zt(wZ,e)}const W8t=[Zd,jh,rf,fc,Tm,Sm];function nOe(e){return Y1(e)!==e}function Y1(e){switch(e){case Zd:return Ri;case jh:return bo;case rf:return tf;case fc:return nf;case Tm:return Cc;case Sm:return ef}return e}function yg(e){if(QPe(e))switch(e){case Cc:return"startAngle";case Tm:return"endAngle";case ef:return"outerRadius";case Sm:return"innerRadius"}return e}function Uh(e){switch(e){case Ri:return Zd;case bo:return jh;case tf:return rf;case nf:return fc;case Cc:return Tm;case ef:return Sm}}function Ul(e){switch(e){case Ri:case Zd:return"width";case bo:case jh:return"height"}}function rOe(e){switch(e){case Ri:return"xOffset";case bo:return"yOffset";case Zd:return"x2Offset";case jh:return"y2Offset";case Cc:return"thetaOffset";case ef:return"radiusOffset";case Tm:return"theta2Offset";case Sm:return"radius2Offset"}}function xZ(e){switch(e){case Ri:return"xOffset";case bo:return"yOffset"}}function G8t(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Y8t=ht(bZ),{x:tsn,y:nsn,x2:rsn,y2:isn,xOffset:ssn,yOffset:osn,latitude:asn,longitude:lsn,latitude2:usn,longitude2:csn,theta:dsn,theta2:fsn,radius:hsn,radius2:psn,..._Z}=bZ,K8t=ht(_Z),EZ={x:1,y:1},Im=ht(EZ);function us(e){return zt(EZ,e)}const CZ={theta:1,radius:1},X8t=ht(CZ);function O5(e){return e==="width"?Ri:bo}const iOe={xOffset:1,yOffset:1};function tA(e){return zt(iOe,e)}const Q8t={time:1};function Q9(e){return e in Q8t}const{text:msn,tooltip:gsn,href:ysn,url:vsn,description:bsn,detail:wsn,key:xsn,order:_sn,...sOe}=_Z,J8t=ht(sOe);function Z8t(e){return zt(_Z,e)}function eFt(e){switch(e){case Bl:case Bh:case zh:case km:case zl:case Am:case Gg:case Yg:return!0;case Vg:case Wg:case G1:case Hg:return!1}}const oOe={...EZ,...CZ,...iOe,...sOe},SZ=ht(oOe);function qh(e){return zt(oOe,e)}function tFt(e,t){return rFt(e)[t]}const aOe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Esn,...nFt}=aOe;function rFt(e){switch(e){case Bl:case Bh:case zh:case P5:case eA:case I5:case l1:case R5:case a_:case Am:case Vg:case Wg:case Gg:case A5:case qp:case Hp:return aOe;case Ri:case bo:case qg:case hE:case tf:case nf:case Hg:return nFt;case Zd:case jh:case rf:case fc:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case km:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Yg:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case zl:return{point:"always",geoshape:"always"};case Zk:return{text:"always"};case G1:return{point:"always",square:"always",text:"always"};case D5:return{image:"always"};case Cc:return{text:"always",arc:"always"};case ef:return{text:"always",arc:"always"};case Tm:case Sm:return{arc:"always"}}}function J9(e){switch(e){case Ri:case bo:case Cc:case ef:case qg:case hE:case km:case G1:case Gg:case Am:case Vg:case Wg:case Hg:case Zd:case jh:case Tm:case Sm:return;case A5:case qp:case Hp:case zl:case Yg:case Zk:case l1:case R5:case D5:case P5:return"discrete";case Bl:case Bh:case zh:return"flexible";case tf:case nf:case rf:case fc:case eA:case I5:case a_:return}}const iFt={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},sFt={count:1,min:1,max:1};function lm(e){return pt(e,"argmin")}function Kg(e){return pt(e,"argmax")}function TZ(e){return Ft(e)&&zt(iFt,e)}const oFt=new Set(["count","valid","missing","distinct"]);function N5(e){return Ft(e)&&oFt.has(e)}function aFt(e){return Ft(e)&&Wn(["min","max"],e)}const lFt=new Set(["count","sum","distinct","valid","missing"]),uFt=new Set(["mean","average","median","q1","q3","min","max"]);function lOe(e){return Bg(e)&&(e=W5(e,void 0)),"bin"+ht(e).map(t=>$5(e[t])?Ai(`_${t}_${gg(e[t])}`):Ai(`_${t}_${e[t]}`)).join("")}function fi(e){return e===!0||K1(e)&&!e.binned}function Do(e){return e==="binned"||K1(e)&&e.binned===!0}function K1(e){return Mt(e)}function $5(e){return pt(e,"param")}function Qhe(e){switch(e){case qp:case Hp:case km:case Bl:case Bh:case zh:case Gg:case Am:case Vg:case Wg:case zl:return 6;case Yg:return 4;default:return 10}}function nA(e){return pt(e,"expr")}function Po(e,{level:t}={level:0}){const n=ht(e||{}),r={};for(const i of n)r[i]=t===0?su(e[i]):Po(e[i],{level:t-1});return r}function uOe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:s,limit:o,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:h,subtitlePadding:p,...m}=e,g={...m,...a?{fill:a}:{}},v={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...s!==void 0?{angle:s}:{},...o!==void 0?{limit:o}:{}},y={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},w=i_(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:w,nonMarkTitleProperties:v,subtitle:y}}function v0(e){return Ft(e)||nt(e)&&Ft(e[0])}function Jt(e){return pt(e,"signal")}function X1(e){return pt(e,"step")}function cFt(e){return nt(e)?!1:pt(e,"fields")&&!pt(e,"data")}function dFt(e){return nt(e)?!1:pt(e,"fields")&&pt(e,"data")}function Pp(e){return nt(e)?!1:pt(e,"field")&&pt(e,"data")}const fFt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},hFt=ht(fFt),pFt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},uH=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function cOe(e){const t=nt(e.condition)?e.condition.map(Jhe):Jhe(e.condition);return{...su(e),condition:t}}function su(e){if(nA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Jhe(e){if(nA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function vi(e){if(nA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Jt(e)?e:e!==void 0?{value:e}:void 0}function mFt(e){return Jt(e)?e.signal:Et(e)}function Zhe(e){return Jt(e)?e.signal:Et(e.value)}function fd(e){return Jt(e)?e.signal:e==null?null:Et(e)}function gFt(e,t,n){for(const r of n){const i=vh(r,t.markDef,t.config);i!==void 0&&(e[r]=vi(i))}return e}function dOe(e){return[].concat(e.type,e.style??[])}function Jr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:s}=r;return i&&pt(t,i)?t[i]:t[e]!==void 0?t[e]:s&&(!i||i===e)?void 0:vh(e,t,n,r)}function vh(e,t,n,{vgChannel:r}={}){const i=cH(e,t,n.style);return ls(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function cH(e,t,n){return fOe(e,dOe(t),n)}function fOe(e,t,n){t=$t(t);let r;for(const i of t){const s=n[i];pt(s,e)&&(r=s[e])}return r}function hOe(e,t){return $t(e).reduce((n,r)=>(n.field.push(It(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function pOe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(au(i,r))return;n.push(r)}),n}function mOe(e,t){return au(e,t)||!t?e:e?[...$t(e),...$t(t)].join(", "):t}function gOe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((v0(n)||Jt(n))&&(v0(r)||Jt(r)))return{explicit:e.explicit,value:mOe(n,r)};if(v0(n)||Jt(n))return{explicit:e.explicit,value:n};if(v0(r)||Jt(r))return{explicit:e.explicit,value:r};if(!v0(n)&&!Jt(n)&&!v0(r)&&!Jt(r))return{explicit:e.explicit,value:pOe(n,r)};throw new Error("It should never reach here")}function kZ(e){return`Invalid specification ${ei(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const yFt='Autosize "fit" only works for single views and layered views.';function epe(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function tpe(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function npe(e){return e?`Dropping "fit-${e}" because spec has discrete ${Ul(e)}.`:'Dropping "fit" because spec has discrete size.'}function AZ(e){return`Unknown field for ${e}. Cannot calculate view size.`}function rpe(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function vFt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function bFt(e){return`The "nearest" transform is not supported for ${e} marks.`}function yOe(e){return`Selection not supported for ${e} yet.`}function wFt(e){return`Cannot find a selection named "${e}".`}const xFt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",_Ft="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",EFt="Legend bindings are only supported for selections over an individual field or encoding channel.";function CFt(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function SFt(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const TFt="The same selection must be used to override scale domains in a layered view.",kFt='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function AFt(e){return`Unknown repeated value "${e}".`}function ipe(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const IFt="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",IZ="Animation involving facet, layer, or concat is currently unsupported.";function RFt(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Et(e)}.`}function DFt(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${Et(t)} encoding found for selection ${Et(n.param)}. Using "field": ${Et(r)}.`}const PFt="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function OFt(e){return`Unrecognized parse "${e}".`}function spe(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const NFt="Attempt to add the same child twice.";function $Ft(e){return`Ignoring an invalid transform: ${ei(e)}.`}const MFt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function ope(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function FFt(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${ei(t)} is overridden by a child projection ${ei(n)}.`}const LFt="Arc marks uses theta channel rather than angle, replacing angle with theta.";function jFt(e){return`${e}Offset dropped because ${e} is continuous`}function BFt(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${ei(n)}}.`}function vOe(e){return`Invalid field type "${e}".`}function zFt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function UFt(e){return`Invalid aggregation operator "${e}".`}function bOe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function qFt(e){return`Position range does not support relative band size for ${e}.`}function dH(e,t){return`Dropping ${ei(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const HFt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function M5(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function VFt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function WFt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function GFt(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function YFt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function Z9(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function KFt(e){return`The ${e} for range marks cannot be an expression`}function XFt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function QFt(e,t){return`Specified orient "${e}" overridden with "${t}".`}function JFt(e){return`Cannot use the scale property "${e}" with non-color channel.`}function ZFt(e){return`Cannot use the relative band size with ${e} scale.`}function eLt(e){return`Using unaggregated domain with raw field has no effect (${ei(e)}).`}function tLt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function nLt(e){return`Unaggregated domain is currently unsupported for log scale (${ei(e)}).`}function rLt(e){return`Cannot apply size to non-oriented mark "${e}".`}function iLt(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function sLt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function wOe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function xOe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function oLt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${ei(n)} and ${ei(r)}). Using ${ei(n)}.`}function aLt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${ei(n)} and ${ei(r)}). Using the union of the two domains.`}function lLt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function uLt(e){return`Dropping sort property ${ei(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const ape="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",cLt="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",dLt="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",fLt="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function hLt(e){return`Cannot stack "${e}" if there is already "${e}2".`}function pLt(e){return`Stack is applied to a non-linear scale (${e}).`}function mLt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function V4(e,t){return`Invalid ${e}: ${ei(t)}.`}function gLt(e){return`Dropping day from datetime ${ei(e)} as day cannot be combined with other units.`}function yLt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function vLt(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function bLt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function lpe(e){return`1D error band does not support ${e}.`}function _Oe(e){return`Channel ${e} is required for "binned" bin.`}function wLt(e){return`Channel ${e} should not be used with "binned" bin.`}function xLt(e){return`Domain for ${e} is required for threshold scale.`}const EOe=aX(oX);let u1=EOe;function _Lt(e){return u1=e,u1}function ELt(){return u1=EOe,u1}function RZ(...e){u1.error(...e)}function yt(...e){u1.warn(...e)}function CLt(...e){u1.debug(...e)}function Q1(e){if(e&&Mt(e)){for(const t of PZ)if(pt(e,t))return!0}return!1}const COe=["january","february","march","april","may","june","july","august","september","october","november","december"],SLt=COe.map(e=>e.substr(0,3)),SOe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],TLt=SOe.map(e=>e.substr(0,3));function kLt(e){if(k5(e)&&(e=+e),kr(e))return e>4&&yt(V4("quarter",e)),e-1;throw new Error(V4("quarter",e))}function ALt(e){if(k5(e)&&(e=+e),kr(e))return e-1;{const t=e.toLowerCase(),n=COe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=SLt.indexOf(r);if(i!==-1)return i;throw new Error(V4("month",e))}}function ILt(e){if(k5(e)&&(e=+e),kr(e))return e%7;{const t=e.toLowerCase(),n=SOe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=TLt.indexOf(r);if(i!==-1)return i;throw new Error(V4("day",e))}}function DZ(e,t){const n=[];if(t&&e.day!==void 0&&ht(e).length>1&&(yt(gLt(e)),e=Cn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?ALt(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?kLt(e.quarter):e.quarter;n.push(kr(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?ILt(e.day):e.day;n.push(kr(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function c1(e){const n=DZ(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function RLt(e){const n=DZ(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function DLt(e){const t=DZ(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const TOe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},PZ=ht(TOe);function PLt(e){return zt(TOe,e)}function J1(e){return Mt(e)?e.binned:kOe(e)}function kOe(e){return e&&e.startsWith("binned")}function OZ(e){return e.startsWith("utc")}function OLt(e){return e.substring(3)}const NLt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function F5(e){return PZ.filter(t=>IOe(e,t))}function AOe(e){const t=F5(e);return t[t.length-1]}function IOe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function $Lt(e,t,{end:n}={end:!1}){const r=yZ(t),i=OZ(e)?"utc":"";function s(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let o;const a={};for(const l of PZ)IOe(e,l)&&(a[l]=s(l),o=l);return n&&(a[o]+="+1"),RLt(a)}function ROe(e){if(!e)return;const t=F5(e);return`timeUnitSpecifier(${ei(t)}, ${ei(NLt)})`}function MLt(e,t,n){if(!e)return;const r=ROe(e);return`${n||OZ(e)?"utc":"time"}Format(${t}, ${r})`}function po(e){if(!e)return;let t;return Ft(e)?kOe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Mt(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),OZ(t.unit)&&(t.utc=!0,t.unit=OLt(t.unit)),t}function FLt(e){const{utc:t,...n}=po(e);return n.unit?(t?"utc":"")+ht(n).map(r=>Ai(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+ht(n).map(r=>Ai(`_${r}_${n[r]}`)).join("")}function DOe(e,t=n=>n){const n=po(e),r=AOe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:s,part:o}=POe(r,n.step),a={...i,[o]:+i[o]+s};return`${t(c1(a))} - ${t(c1(i))}`}}const LLt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function jLt(e){return zt(LLt,e)}function POe(e,t=1){if(jLt(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function BLt(e){return pt(e,"param")}function NZ(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function $Z(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function MZ(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function FZ(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function LZ(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function jZ(e){if(e!=null&&e.field){if(nt(e.range)&&e.range.length===2)return!0;if(Jt(e.range))return!0}return!1}function BZ(e){return!!(e!=null&&e.field)&&(nt(e.oneOf)||nt(e.in))}function zLt(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function OOe(e){return BZ(e)||NZ(e)||jZ(e)||$Z(e)||FZ(e)||MZ(e)||LZ(e)}function Sf(e,t){return G5(e,{timeUnit:t,wrapTime:!0})}function ULt(e,t){return e.map(n=>Sf(n,t))}function NOe(e,t=!0){const{field:n}=e,r=po(e.timeUnit),{unit:i,binned:s}=r||{},o=It(e,{expr:"datum"}),a=i?`time(${s?o:$Lt(i,n)})`:o;if(NZ(e))return`${a}===${Sf(e.equal,i)}`;if($Z(e)){const l=e.lt;return`${a}<${Sf(l,i)}`}else if(FZ(e)){const l=e.gt;return`${a}>${Sf(l,i)}`}else if(MZ(e)){const l=e.lte;return`${a}<=${Sf(l,i)}`}else if(LZ(e)){const l=e.gte;return`${a}>=${Sf(l,i)}`}else{if(BZ(e))return`indexof([${ULt(e.oneOf,i).join(",")}], ${a}) !== -1`;if(zLt(e))return L5(a,e.valid);if(jZ(e)){const{range:l}=Po(e),u=Jt(l)?{signal:`${l.signal}[0]`}:l[0],c=Jt(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+Sf(u,i)+", "+Sf(c,i)+"])";const d=[];return u!==null&&d.push(`${a} >= ${Sf(u,i)}`),c!==null&&d.push(`${a} <= ${Sf(c,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${ei(e)}`)}function L5(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function qLt(e){return OOe(e)&&e.timeUnit?{...e,timeUnit:po(e.timeUnit)}:e}const rA={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function HLt(e){return e==="quantitative"||e==="temporal"}function $Oe(e){return e==="ordinal"||e==="nominal"}const d1=rA.quantitative,zZ=rA.ordinal,l_=rA.temporal,UZ=rA.nominal,pE=rA.geojson;function VLt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case d1:return"quantitative";case"t":case l_:return"temporal";case"o":case zZ:return"ordinal";case"n":case UZ:return"nominal";case pE:return"geojson"}}const No={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},fH={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function WLt(e,t){const n=fH[e],r=fH[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const GLt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function upe(e){return GLt[e]}const MOe=new Set(["linear","log","pow","sqrt","symlog"]),FOe=new Set([...MOe,"time","utc"]);function LOe(e){return MOe.has(e)}const jOe=new Set(["quantile","quantize","threshold"]),YLt=new Set([...FOe,...jOe,"sequential","identity"]),KLt=new Set(["ordinal","bin-ordinal","point","band"]);function mo(e){return KLt.has(e)}function Nd(e){return YLt.has(e)}function Vf(e){return FOe.has(e)}function u_(e){return jOe.has(e)}const XLt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function QLt(e){return!Ft(e)&&pt(e,"name")}function BOe(e){return pt(e,"param")}function JLt(e){return pt(e,"unionWith")}function ZLt(e){return Mt(e)&&"field"in e}const ejt={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Csn,domain:Ssn,range:Tsn,rangeMax:ksn,rangeMin:Asn,scheme:Isn,...tjt}=ejt,njt=ht(tjt);function hH(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Vf(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Vf(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Vf(e);case"nice":return Vf(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Nd(e)&&!Wn(["log","time","utc","threshold","quantile"],e)}}function zOe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return fx(e)?void 0:JFt(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function rjt(e,t){return Wn([zZ,UZ],t)?e===void 0||mo(e):t===l_?Wn([No.TIME,No.UTC,void 0],e):t===d1?LOe(e)||u_(e)||e===void 0:!0}function ijt(e,t,n=!1){if(!qh(e))return!1;switch(e){case Ri:case bo:case qg:case hE:case Cc:case ef:return Vf(t)||t==="band"?!0:t==="point"?!n:!1;case Hg:return Wn(["linear","band"],t);case km:case Gg:case Am:case Vg:case Wg:case G1:return Vf(t)||u_(t)||Wn(["band","point","ordinal"],t);case Bl:case Bh:case zh:return t!=="band";case Yg:case zl:return t==="ordinal"||u_(t)}}function sjt(e){return Mt(e)&&"value"in e}const sl={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},UOe=sl.arc,j5=sl.area,B5=sl.bar,ojt=sl.image,z5=sl.line,U5=sl.point,ajt=sl.rect,W4=sl.rule,qOe=sl.text,qZ=sl.tick,ljt=sl.trail,HZ=sl.circle,VZ=sl.square,HOe=sl.geoshape;function Xg(e){return["line","area","trail"].includes(e)}function _T(e){return["rect","bar","image","arc","tick"].includes(e)}const ujt=new Set(ht(sl));function bh(e){return pt(e,"type")}const cjt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],djt=["fill","fillOpacity"],fjt=[...cjt,...djt],hjt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},cpe=ht(hjt),eB=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],pjt={area:["line","point"],bar:eB,rect:eB,line:["point"],tick:["bandSize","thickness",...eB]},mjt={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},gjt={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},VOe=ht(gjt);function f1(e){return pt(e,"band")}const yjt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},vjt=5,WZ={binSpacing:0,continuousBandSize:vjt,minBandSize:.25,timeUnitBandPosition:.5},bjt={...WZ,binSpacing:1},wjt={...WZ,thickness:1};function xjt(e){return bh(e)?e.type:e}function WOe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function GZ({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var a,l;if(!r||!Nd(r)||i)return"always-valid";const s=WOe(Jr("invalid",e,t),{isPath:Xg(e.type)});return((l=(a=t.scale)==null?void 0:a.invalid)==null?void 0:l[n])!==void 0?"show":s}function _jt(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function GOe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,s=`peek(${r})`,o=t.domainHasZero();return o==="definitely"?{scale:e,value:0}:o==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:s})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:s})`}}function YOe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:s}){var c;const o=n==null?void 0:n.get("type"),a=Md(t),l=N5(a==null?void 0:a.aggregate),u=GZ({scaleChannel:e,markDef:i,config:s,scaleType:o,isCountAggregate:l});if(a&&u==="show"){const d=((c=s.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:L5(It(a,{expr:"datum"}),!1),...Ejt(d,n,r)}}}function Ejt(e,t,n){if(sjt(e)){const{value:r}=e;return Jt(r)?{signal:r.signal}:{value:r}}return GOe({scale:t,scaleName:n,mode:"zeroOrMin"})}function YZ(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:s,config:o}=e,a=Y1(t),l=KZ(e),u=YOe({scaleChannel:a,channelDef:n,scale:i,scaleName:s,markDef:r,config:o});return u!==void 0?[u,l]:l}function Cjt(e){const{datum:t}=e;return Q1(t)?c1(t):`${ei(t)}`}function Rv(e,t,n,r){const i={};if(t&&(i.scale=t),Hh(e)){const{datum:s}=e;Q1(s)?i.signal=c1(s):Jt(s)?i.signal=s.signal:nA(s)?i.signal=s.expr:i.value=s}else i.field=It(e,n);if(r){const{offset:s,band:o}=r;s&&(i.offset=s),o&&(i.band=o)}return i}function G4({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:s="end",bandPosition:o=.5}){const a=!Jt(o)&&0<o&&o<1?"datum":void 0,l=It(t,{expr:a,suffix:i}),u=n!==void 0?It(n,{expr:a}):It(t,{suffix:s,expr:a}),c={};if(o===0||o===1){c.scale=e;const d=o===0?l:u;c.field=d}else{const d=Jt(o)?`(1-${o.signal}) * ${l} + ${o.signal} * ${u}`:`${1-o} * ${l} + ${o} * ${u}`;c.signal=`scale("${e}", ${d})`}return r&&(c.offset=r),c}function Sjt({scaleName:e,fieldDef:t}){const n=It(t,{expr:"datum"}),r=It(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function KZ({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(An(t)){const d=o==null?void 0:o.get("type");if(el(t)){c??(c=vg({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:f,timeUnit:h,type:p}=t;if(fi(f)||c&&h&&p===l_)return a!=null&&a.impute?Rv(t,s,{binSuffix:"mid"},{offset:l}):c&&!mo(d)?G4({scaleName:s,fieldOrDatumDef:t,bandPosition:c,offset:l}):Rv(t,s,lA(t,e)?{binSuffix:"range"}:{},{offset:l});if(Do(f)){if(bt(n))return G4({scaleName:s,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});yt(_Oe(e===Ri?Zd:jh))}}return Rv(t,s,mo(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?c??t.bandPosition??.5:void 0})}else if($d(t)){const d=t.value,f=l?{offset:l}:{};return{...c2(e,d),...f}}}return $n(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function c2(e,t){return Wn(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Wn(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:vi(t)}function h1(e){return e&&e!=="number"&&e!=="time"}function KOe(e,t,n){return`${e}(${t}${n?`, ${ei(n)}`:""})`}const Tjt="  ";function XZ({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s}){var l,u;if(h1(n))return hd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:s});const o=XOe(e,r,i),a=c_(e);if(t===void 0&&n===void 0&&s.customFormatTypes){if(a==="quantitative"){if(i&&s.normalizedNumberFormatType)return hd({fieldOrDatumDef:e,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:r,config:s});if(s.numberFormatType)return hd({fieldOrDatumDef:e,format:s.numberFormat,formatType:s.numberFormatType,expr:r,config:s})}if(a==="temporal"&&s.timeFormatType&&bt(e)&&e.timeUnit===void 0)return hd({fieldOrDatumDef:e,format:s.timeFormat,formatType:s.timeFormatType,expr:r,config:s})}if(f_(e)){const c=Ajt({field:o,timeUnit:bt(e)?(l=po(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:Z1(e)&&((u=e.scale)==null?void 0:u.type)===No.UTC});return c?{signal:c}:void 0}if(t=pH({type:a,specifiedFormat:t,config:s,normalizeStack:i}),bt(e)&&fi(e.bin)){const c=It(e,{expr:r,binSuffix:"end"});return{signal:iA(o,c,t,n,s)}}else return t||c_(e)==="quantitative"?{signal:`${ZOe(o,t)}`}:{signal:`isValid(${o}) ? ${o} : ""+${o}`}}function XOe(e,t,n){return bt(e)?n?`${It(e,{expr:t,suffix:"end"})}-${It(e,{expr:t,suffix:"start"})}`:It(e,{expr:t}):Cjt(e)}function hd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s,field:o}){if(o??(o=XOe(e,r,i)),o!=="datum.value"&&bt(e)&&fi(e.bin)){const a=It(e,{expr:r,binSuffix:"end"});return{signal:iA(o,a,t,n,s)}}return{signal:KOe(n,o,t)}}function QOe(e,t,n,r,i,s){var o;if(!(Ft(r)&&h1(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&c_(e)==="quantitative"&&(i.normalizedNumberFormatType&&d_(e)&&e.stack==="normalize"||i.numberFormatType))){if(d_(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return pH({type:"quantitative",config:i,normalizeStack:!0});if(f_(e)){const a=bt(e)?(o=po(e.timeUnit))==null?void 0:o.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:kjt({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:s})}return pH({type:t,specifiedFormat:n,config:i})}}function JOe(e,t,n){var r;if(e&&(Jt(e)||e==="number"||e==="time"))return e;if(f_(t)&&n!=="time"&&n!=="utc")return bt(t)&&((r=po(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function pH({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Ft(t))return t;if(e===d1)return r?n.normalizedNumberFormat:n.numberFormat}function kjt({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:ROe(t)}:r?void 0:n.timeFormat)}function ZOe(e,t){return`format(${e}, "${t||""}")`}function dpe(e,t,n,r){return h1(n)?KOe(n,e,t):ZOe(e,(Ft(t)?t:void 0)??r.numberFormat)}function iA(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return iA(e,t,i.numberFormat,i.numberFormatType,i);const s=dpe(e,n,r,i),o=dpe(t,n,r,i);return`${L5(e,!1)} ? "null" : ${s} + "${Tjt}" + ${o}`}function Ajt({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:s}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Ft(n)?n:i,`${s?"utc":"time"}Format(${e}, '${n}')`):MLt(t,e,s)}const q5="min",Ijt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function fpe(e){return zt(Ijt,e)}function Rjt(e){return pt(e,"encoding")}function Vp(e){return e&&(e.op==="count"||pt(e,"field"))}function e4e(e){return e&&nt(e)}function sA(e){return pt(e,"row")||pt(e,"column")}function QZ(e){return pt(e,"header")}function H5(e){return pt(e,"facet")}function Djt(e){return pt(e,"param")}function Pjt(e){return!Ft(e)&&pt(e,"repeat")}function hpe(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function JZ(e){return pt(e,"sort")}function vg({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(An(e)&&e.bandPosition!==void 0)return e.bandPosition;if(bt(e)){const{timeUnit:i,bin:s}=e;if(i&&!t)return vh("timeUnitBandPosition",n,r);if(fi(s))return .5}}function t4e({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:s,useVlSizeChannel:o}){var u,c,d;const a=Ul(e),l=Jr(o?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(bt(t)){const{timeUnit:f,bin:h}=t;if(f&&!n)return{band:vh("timeUnitBandSize",r,i)};if(fi(h)&&!mo(s))return{band:1}}if(_T(r.type))return s?mo(s)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(d=i[r.type])==null?void 0:d.discreteBandSize}function n4e(e,t,n,r){return fi(e.bin)||e.timeUnit&&el(e)&&e.type==="temporal"?vg({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function r4e(e){return pt(e,"sort")&&!pt(e,"field")}function oA(e){return pt(e,"condition")}function V5(e){const t=e==null?void 0:e.condition;return!!t&&!nt(t)&&bt(t)}function aA(e){const t=e==null?void 0:e.condition;return!!t&&!nt(t)&&An(t)}function Ojt(e){const t=e==null?void 0:e.condition;return!!t&&(nt(t)||$d(t))}function bt(e){return pt(e,"field")||(e==null?void 0:e.aggregate)==="count"}function c_(e){return e==null?void 0:e.type}function Hh(e){return pt(e,"datum")}function j0(e){return el(e)&&!K4(e)||Y4(e)}function ppe(e){return el(e)&&e.type==="quantitative"&&!e.bin||Y4(e)}function Y4(e){return Hh(e)&&kr(e.datum)}function An(e){return bt(e)||Hh(e)}function el(e){return e&&(pt(e,"field")||e.aggregate==="count")&&pt(e,"type")}function $d(e){return pt(e,"value")}function Z1(e){return pt(e,"scale")||pt(e,"sort")}function d_(e){return pt(e,"axis")||pt(e,"stack")||pt(e,"impute")}function i4e(e){return pt(e,"legend")}function s4e(e){return pt(e,"format")||pt(e,"formatType")}function Njt(e){return Nl(e,["legend","axis","header","scale"])}function $jt(e){return pt(e,"op")}function It(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,s="";if(Fjt(e))n=YPe("count");else{let o;if(!t.nofn)if($jt(e))o=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;fi(a)?(o=lOe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?Kg(l)?(s=`["${n}"]`,n=`argmax_${l.argmax}`):lm(l)?(s=`["${n}"]`,n=`argmin_${l.argmin}`):o=String(l):u&&!J1(u)&&(o=FLt(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}o&&(n=n?`${o}_${n}`:o)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?fE(n):t.expr?VPe(n,t.expr)+s:dc(n)+s}function K4(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return bt(e)&&!!e.bin;case"temporal":return!1}throw new Error(vOe(e.type))}function Mjt(e){var t;return Z1(e)&&u_((t=e.scale)==null?void 0:t.type)}function Fjt(e){return e.aggregate==="count"}function Ljt(e,t){var o;const{field:n,bin:r,timeUnit:i,aggregate:s}=e;if(s==="count")return t.countTitle;if(fi(r))return`${n} (binned)`;if(i&&!J1(i)){const a=(o=po(i))==null?void 0:o.unit;if(a)return`${n} (${F5(a).join("-")})`}else if(s)return Kg(s)?`${n} for max ${s.argmax}`:lm(s)?`${n} for min ${s.argmin}`:`${Jk(s)} of ${n}`;return n}function jjt(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Kg(t))return`${i} for argmax(${t.argmax})`;if(lm(t))return`${i} for argmin(${t.argmin})`;const s=r&&!J1(r)?po(r):void 0,o=t||(s==null?void 0:s.unit)||(s==null?void 0:s.maxbins)&&"timeunit"||fi(n)&&"bin";return o?`${o.toUpperCase()}(${i})`:i}const o4e=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return jjt(e);default:return Ljt(e,t)}};let a4e=o4e;function l4e(e){a4e=e}function Bjt(){l4e(o4e)}function hx(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=ZZ(e))==null?void 0:a.title;if(!bt(e))return i??e.title;const s=e,o=r?eee(s,t):void 0;return n?ls(i,s.title,o):i??s.title??o}function ZZ(e){if(d_(e)&&e.axis)return e.axis;if(i4e(e)&&e.legend)return e.legend;if(QZ(e)&&e.header)return e.header}function eee(e,t){return a4e(e,t)}function X4(e){if(s4e(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=ZZ(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function zjt(e,t){var s;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(JZ(e)&&nt(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Kg(n)&&!lm(n))return"quantitative";if(Z1(e)&&((s=e.scale)!=null&&s.type))switch(fH[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Md(e){if(bt(e))return e;if(V5(e))return e.condition}function zs(e){if(An(e))return e;if(aA(e))return e.condition}function u4e(e,t,n,r={}){if(Ft(e)||kr(e)||Bg(e)){const i=Ft(e)?"string":kr(e)?"number":"boolean";return yt(BFt(t,i,e)),{value:e}}return An(e)?Q4(e,t,n,r):aA(e)?{...e,condition:Q4(e.condition,t,n,r)}:e}function Q4(e,t,n,r){if(s4e(e)){const{format:i,formatType:s,...o}=e;if(h1(s)&&!n.customFormatTypes)return yt(ope(t)),Q4(o,t,n,r)}else{const i=d_(e)?"axis":i4e(e)?"legend":QZ(e)?"header":null;if(i&&e[i]){const{format:s,formatType:o,...a}=e[i];if(h1(o)&&!n.customFormatTypes)return yt(ope(t)),Q4({...e,[i]:a},t,n,r)}}return bt(e)?tee(e,t,r):Ujt(e)}function Ujt(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=kr(n)?"quantitative":Ft(n)?"nominal":Q1(n)?"temporal":void 0,{...e,type:t}}function tee(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:s,field:o}=e,a={...e};if(!n&&r&&!TZ(r)&&!Kg(r)&&!lm(r)&&(yt(UFt(r)),delete a.aggregate),i&&(a.timeUnit=po(i)),o&&(a.field=`${o}`),fi(s)&&(a.bin=W5(s,t)),Do(s)&&!us(t)&&yt(wLt(t)),el(a)){const{type:l}=a,u=VLt(l);l!==u&&(a.type=u),l!=="quantitative"&&N5(r)&&(yt(zFt(l,r)),a.type="quantitative")}else if(!nOe(t)){const l=zjt(a,t);a.type=l}if(el(a)){const{compatible:l,warning:u}=qjt(a,t)||{};l===!1&&yt(u)}if(JZ(a)&&Ft(a.sort)){const{sort:l}=a;if(fpe(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&fpe(u))return{...a,sort:{encoding:u,order:"descending"}}}if(QZ(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function W5(e,t){return Bg(e)?{maxbins:Qhe(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:Qhe(t)}:e}const ew={compatible:!0};function qjt(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case qp:case Hp:case A5:return K4(e)?ew:{compatible:!1,warning:WFt(t)};case Ri:case bo:case qg:case hE:case Bl:case Bh:case zh:case Zk:case eA:case I5:case l1:case R5:case D5:case G1:case Cc:case ef:case P5:return ew;case nf:case fc:case tf:case rf:return n!==d1?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:ew;case Am:case Vg:case Wg:case Gg:case km:case Tm:case Sm:case Zd:case jh:case Hg:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:ew;case zl:case Yg:return!K4(e)&&!Mjt(e)?{compatible:!1,warning:GFt(t)}:ew;case a_:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:ew}}function f_(e){const{formatType:t}=X4(e);return t==="time"||!t&&Hjt(e)}function Hjt(e){return e&&(e.type==="temporal"||bt(e)&&!!e.timeUnit)}function G5(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const s=t&&((l=po(t))==null?void 0:l.unit);let o=s||n==="temporal",a;return nA(e)?a=e.expr:Jt(e)?a=e.signal:Q1(e)?(o=!0,a=c1(e)):(Ft(e)||kr(e))&&o&&(a=`datetime(${ei(e)})`,PLt(s)&&(kr(e)&&e<1e4||Ft(e)&&isNaN(Date.parse(e)))&&(a=c1({[s]:e}))),a?r&&o?`time(${a})`:a:i?void 0:ei(e)}function c4e(e,t){const{type:n}=e;return t.map(r=>{const i=bt(e)&&!J1(e.timeUnit)?e.timeUnit:void 0,s=G5(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:r})}function lA(e,t){return fi(e.bin)?qh(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const mpe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function uA(e){return e==null?void 0:e.condition}const d4e=["domain","grid","labels","ticks","title"],Vjt={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},f4e={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Wjt={...f4e,style:1,labelExpr:1,encoding:1};function gpe(e){return zt(Wjt,e)}const Gjt={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},h4e=ht(Gjt);function Rm(e){return pt(e,"mark")}class Y5{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Rm(t)?xjt(t.mark)===this.name:!1}}function Dv(e,t){const n=e&&e[t];return n?nt(n)?s_(n,r=>!!r.field):bt(n)||V5(n):!1}function p4e(e,t){const n=e&&e[t];return n?nt(n)?s_(n,r=>!!r.field):bt(n)||Hh(n)||aA(n):!1}function m4e(e,t){if(us(t)){const n=e[t];if((bt(n)||Hh(n))&&($Oe(n.type)||bt(n)&&n.timeUnit)){const r=xZ(t);return p4e(e,r)}}return!1}function g4e(e){return s_(U8t,t=>{if(Dv(e,t)){const n=e[t];if(nt(n))return s_(n,r=>!!r.aggregate);{const r=Md(n);return r&&!!r.aggregate}}return!1})}function y4e(e,t){const n=[],r=[],i=[],s=[],o={};return nee(e,(a,l)=>{if(bt(a)){const{field:u,aggregate:c,bin:d,timeUnit:f,...h}=a;if(c||f||d){const p=ZZ(a),m=p==null?void 0:p.title;let g=It(a,{forAs:!0});const v={...m?[]:{title:hx(a,t,{allowDisabling:!0})},...h,field:g};if(c){let y;if(Kg(c)?(y="argmax",g=It({op:"argmax",field:c.argmax},{forAs:!0}),v.field=`${g}.${u}`):lm(c)?(y="argmin",g=It({op:"argmin",field:c.argmin},{forAs:!0}),v.field=`${g}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(y=c),y){const w={op:y,as:g};u&&(w.field=u),s.push(w)}}else if(n.push(g),el(a)&&fi(d)){if(r.push({bin:d,field:u,as:g}),n.push(It(a,{binSuffix:"end"})),lA(a,l)&&n.push(It(a,{binSuffix:"range"})),us(l)){const y={field:`${g}_end`};o[`${l}2`]=y}v.bin="binned",nOe(l)||(v.type=d1)}else if(f&&!J1(f)){i.push({timeUnit:f,field:u,as:g});const y=el(a)&&a.type!==l_&&"time";y&&(l===Zk||l===l1?v.formatType=y:Z8t(l)?v.legend={formatType:y,...v.legend}:us(l)&&(v.axis={formatType:y,...v.axis}))}o[l]=v}else n.push(u),o[l]=e[l]}else o[l]=e[l]}),{bins:r,timeUnits:i,aggregate:s,groupby:n,encoding:o}}function Yjt(e,t,n){const r=tFt(t,n);if(r){if(r==="binned"){const i=e[t===Zd?Ri:bo];return!!(bt(i)&&bt(e[t])&&Do(i.bin))}}else return!1;return!0}function Kjt(e,t,n,r){const i={};for(const s of ht(e))tOe(s)||yt(VFt(s));for(let s of Y8t){if(!e[s])continue;const o=e[s];if(tA(s)){const a=G8t(s),l=i[a];if(bt(l)&&HLt(l.type)&&bt(o)&&!l.timeUnit){yt(jFt(a));continue}}if(s==="angle"&&t==="arc"&&!e.theta&&(yt(LFt),s=Cc),!Yjt(e,s,t)){yt(M5(s,t));continue}if(s===km&&t==="line"){const a=Md(e[s]);if(a!=null&&a.aggregate){yt(HFt);continue}}if(s===Bl&&(n?"fill"in e:"stroke"in e)){yt(bOe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(s===eA||s===a_&&!nt(o)&&!$d(o)||s===l1&&nt(o)){if(o){if(s===a_){const a=e[s];if(r4e(a)){i[s]=a;continue}}i[s]=$t(o).reduce((a,l)=>(bt(l)?a.push(tee(l,s)):yt(dH(l,s)),a),[])}}else{if(s===l1&&o===null)i[s]=null;else if(!bt(o)&&!Hh(o)&&!$d(o)&&!oA(o)&&!Jt(o)){yt(dH(o,s));continue}i[s]=u4e(o,s,r)}}return i}function K5(e,t){const n={};for(const r of ht(e)){const i=u4e(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function Xjt(e){const t=[];for(const n of ht(e))if(Dv(e,n)){const r=e[n],i=$t(r);for(const s of i)bt(s)?t.push(s):V5(s)&&t.push(s.condition)}return t}function nee(e,t,n){if(e)for(const r of ht(e)){const i=e[r];if(nt(i))for(const s of i)t.call(n,s,r);else t.call(n,i,r)}}function Qjt(e,t,n,r){return e?ht(e).reduce((i,s)=>{const o=e[s];return nt(o)?o.reduce((a,l)=>t.call(r,a,l,s),i):t.call(r,i,o,s)},n):n}function v4e(e,t){return ht(t).reduce((n,r)=>{switch(r){case Ri:case bo:case R5:case P5:case D5:case Zd:case jh:case qg:case hE:case Cc:case Tm:case ef:case Sm:case Hg:case tf:case nf:case rf:case fc:case Zk:case zl:case G1:case l1:return n;case a_:if(e==="line"||e==="trail")return n;case eA:case I5:{const i=t[r];if(nt(i)||bt(i))for(const s of $t(i))s.aggregate||n.push(It(s,{}));return n}case km:if(e==="trail")return n;case Bl:case Bh:case zh:case Am:case Vg:case Wg:case Yg:case Gg:{const i=Md(t[r]);return i&&!i.aggregate&&n.push(It(i,{})),n}}},[])}function Jjt(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(nt(t)){for(const s of t)s.aggregate?(r||(r=[]),r.push(s)):(i||(i=[]),i.push(s));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return nt(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function mH(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:o,titlePrefix:a})=>{const l=r?` of ${ree(t)}`:"";return{field:o+t.field,type:t.type,title:Jt(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),s=Xjt(n).map(Njt);return{tooltip:[...i,...Hf(s,nr)]}}function ree(e){const{title:t,field:n}=e;return ls(t,n)}function iee(e,t,n,r,i){const{scale:s,axis:o}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:d={}})=>{const f=ree(n);return b4e(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...f!==void 0?{title:f}:{},...s!==void 0?{scale:s}:{},...o!==void 0?{axis:o}:{}},...Ft(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...d}})}}function b4e(e,t,n,r){const{clip:i,color:s,opacity:o}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...s?{color:s}:{},...o?{opacity:o}:{},...bh(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...Bg(e[t])?{}:e[t]}}]:[]}function w4e(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",s=r[i],o=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:CR(s,n),continuousAxisChannelDef2:CR(o,n),continuousAxisChannelDefError:CR(a,n),continuousAxisChannelDefError2:CR(l,n),continuousAxis:i}}function CR(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&yt(bLt(n,t)),r}else return e}function x4e(e,t){const{mark:n,encoding:r}=e,{x:i,y:s}=r;if(bh(n)&&n.orient)return n.orient;if(j0(i)){if(j0(s)){const o=bt(i)&&i.aggregate,a=bt(s)&&s.aggregate;if(!o&&a===t)return"vertical";if(!a&&o===t)return"horizontal";if(o===t&&a===t)throw new Error("Both x and y cannot have aggregate");return f_(s)&&!f_(i)?"horizontal":"vertical"}return"horizontal"}else{if(j0(s))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const J4="boxplot",Zjt=["box","median","outliers","rule","ticks"],e9t=new Y5(J4,E4e);function _4e(e){return kr(e)?"tukey":e}function E4e(e,{config:t}){e={...e,encoding:K5(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:s,...o}=e,a=bh(n)?n:{type:n};i&&yt(yOe("boxplot"));const l=a.extent??t.boxplot.extent,u=Jr("size",a,t),c=a.invalid,d=_4e(l),{bins:f,timeUnits:h,transform:p,continuousAxisChannelDef:m,continuousAxis:g,groupby:v,aggregate:y,encodingWithoutContinuousAxis:w,ticksOrient:E,boxOrient:C,customTooltipWithoutAggregatedField:S}=t9t(e,l,t),T=fE(m.field),{color:k,size:I,...R}=w,O=we=>iee(a,g,m,we,t.boxplot),M=O(R),$=O(w),L=(Mt(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",U=O({...R,...I?{size:I}:{},color:{condition:{test:`${Hr(`lower_box_${m.field}`)} >= ${Hr(`upper_box_${m.field}`)}`,...k||{value:L}}}}),B=mH([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,w),V={type:"tick",color:"black",opacity:1,orient:E,invalid:c,aria:!1},G=d==="min-max"?B:mH([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,w),Y=[...M({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:G}),...M({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:G}),...M({partName:"ticks",mark:V,positionPrefix:"lower_whisker",extraEncoding:G}),...M({partName:"ticks",mark:V,positionPrefix:"upper_whisker",extraEncoding:G})],z=[...d!=="tukey"?Y:[],...$({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:C,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:B}),...U({partName:"median",mark:{type:"tick",invalid:c,...Mt(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:E,aria:!1},positionPrefix:"mid_box",extraEncoding:B})];if(d==="min-max")return{...o,transform:(o.transform??[]).concat(p),layer:z};const F=Hr(`lower_box_${m.field}`),W=Hr(`upper_box_${m.field}`),q=`(${W} - ${F})`,K=`${F} - ${l} * ${q}`,J=`${W} + ${l} * ${q}`,te=Hr(m.field),le={joinaggregate:C4e(m.field),groupby:v},oe={transform:[{filter:`(${K} <= ${te}) && (${te} <= ${J})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${T}`},{op:"max",field:m.field,as:`upper_whisker_${T}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${T}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${T}`},...y],groupby:v}],layer:Y},{tooltip:ie,...he}=R,{scale:ee,axis:ne}=m,ue=ree(m),ve=Nl(ne,["title"]),xe=b4e(a,"outliers",t.boxplot,{transform:[{filter:`(${te} < ${K}) || (${te} > ${J})`}],mark:"point",encoding:{[g]:{field:m.field,type:m.type,...ue!==void 0?{title:ue}:{},...ee!==void 0?{scale:ee}:{},...Zr(ve)?{}:{axis:ve}},...he,...k?{color:k}:{},...S?{tooltip:S}:{}}})[0];let Re;const Te=[...f,...h,le];return xe?Re={transform:Te,layer:[xe,oe]}:(Re=oe,Re.transform.unshift(...Te)),{...o,layer:[Re,{transform:p,layer:z}]}}function C4e(e){const t=fE(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function t9t(e,t,n){const r=x4e(e,J4),{continuousAxisChannelDef:i,continuousAxis:s}=w4e(e,r,J4),o=i.field,a=fE(o),l=_4e(t),u=[...C4e(o),{op:"median",field:o,as:`mid_box_${a}`},{op:"min",field:o,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:o,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${Hr(`upper_box_${a}`)} - ${Hr(`lower_box_${a}`)}`,as:`iqr_${a}`},{calculate:`min(${Hr(`upper_box_${a}`)} + ${Hr(`iqr_${a}`)} * ${t}, ${Hr(`max_${a}`)})`,as:`upper_whisker_${a}`},{calculate:`max(${Hr(`lower_box_${a}`)} - ${Hr(`iqr_${a}`)} * ${t}, ${Hr(`min_${a}`)})`,as:`lower_whisker_${a}`}],{[s]:d,...f}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=Jjt(f),{bins:m,timeUnits:g,aggregate:v,groupby:y,encoding:w}=y4e(p,n),E=r==="vertical"?"horizontal":"vertical",C=r,S=[...m,...g,{aggregate:[...v,...u],groupby:y},...c];return{bins:m,timeUnits:g,transform:S,groupby:y,aggregate:v,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:w,ticksOrient:E,boxOrient:C,customTooltipWithoutAggregatedField:h}}const see="errorbar",n9t=["ticks","rule"],r9t=new Y5(see,S4e);function S4e(e,{config:t}){e={...e,encoding:K5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,ticksOrient:o,markDef:a,outerSpec:l,tooltipEncoding:u}=T4e(e,see,t);delete s.size;const c=iee(a,i,r,s,t.errorbar),d=a.thickness,f=a.size,h={type:"tick",orient:o,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function i9t(e,t){const{encoding:n}=e;if(s9t(n))return{orient:x4e(e,t),inputType:"raw"};const r=o9t(n),i=a9t(n),s=n.x,o=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(An(a)&&An(l))throw new Error(`${t} cannot have both x2 and y2`);if(An(a)){if(j0(s))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(An(l)){if(j0(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(An(l)&&!An(a))throw new Error(`${t} cannot have xError2 without xError`);if(An(c)&&!An(u))throw new Error(`${t} cannot have yError2 without yError`);if(An(a)&&An(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(An(a)){if(j0(s))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(An(u)){if(j0(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function s9t(e){return(An(e.x)||An(e.y))&&!An(e.x2)&&!An(e.y2)&&!An(e.xError)&&!An(e.xError2)&&!An(e.yError)&&!An(e.yError2)}function o9t(e){return An(e.x2)||An(e.y2)}function a9t(e){return An(e.xError)||An(e.xError2)||An(e.yError)||An(e.yError2)}function T4e(e,t,n){const{mark:r,encoding:i,params:s,projection:o,...a}=e,l=bh(r)?r:{type:r};s&&yt(yOe(t));const{orient:u,inputType:c}=i9t(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:m}=w4e(e,u,t),{errorBarSpecificAggregate:g,postAggregateCalculates:v,tooltipSummary:y,tooltipTitleWithFieldName:w}=l9t(l,d,f,h,p,c,t,n),{[m]:E,[m==="x"?"x2":"y2"]:C,[m==="x"?"xError":"yError"]:S,[m==="x"?"xError2":"yError2"]:T,...k}=i,{bins:I,timeUnits:R,aggregate:O,groupby:M,encoding:$}=y4e(k,n),L=[...O,...g],U=c!=="raw"?[]:M,B=mH(y,d,$,w);return{transform:[...a.transform??[],...I,...R,...L.length===0?[]:[{aggregate:L,groupby:U}],...v],groupby:U,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:$,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:B}}function l9t(e,t,n,r,i,s,o,a){let l=[],u=[];const c=t.field;let d,f=!1;if(s==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&yt(vLt(h,p,o)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`${Hr(`center_${c}`)} + ${Hr(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${Hr(`center_${c}`)} - ${Hr(`extent_${c}`)}`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:Jk(h)},{fieldPrefix:"upper_",titlePrefix:ype(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:ype(h,p,"-")}],f=!0;else{let m,g,v;p==="ci"?(m="mean",g="ci0",v="ci1"):(m="median",g="q1",v="q3"),l=[{op:g,field:c,as:`lower_${c}`},{op:v,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:hx({field:c,aggregate:v,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:hx({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:hx({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&yt(yLt(e.center,e.extent)),s==="aggregated-upper-lower"?(d=[],u=[{calculate:Hr(n.field),as:`upper_${c}`},{calculate:Hr(c),as:`lower_${c}`}]):s==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${Hr(c)} + ${Hr(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${Hr(c)} + ${Hr(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${Hr(c)} - ${Hr(r.field)}`,as:`lower_${c}`}));for(const h of u)d.push({fieldPrefix:h.as.substring(0,6),titlePrefix:a1(a1(h.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:f}}function ype(e,t,n){return`${Jk(e)} ${n} ${t}`}const oee="errorband",u9t=["band","borders"],c9t=new Y5(oee,k4e);function k4e(e,{config:t}){e={...e,encoding:K5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,markDef:o,outerSpec:a,tooltipEncoding:l}=T4e(e,oee,t),u=o,c=iee(u,i,r,s,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let f={type:d?"area":"rect"},h={type:d?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(f={...f,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?yt(lpe("interpolate")):u.tension&&yt(lpe("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const A4e={};function aee(e,t,n){const r=new Y5(e,t);A4e[e]={normalizer:r,parts:n}}function d9t(){return ht(A4e)}aee(J4,E4e,Zjt);aee(see,S4e,n9t);aee(oee,k4e,u9t);const f9t=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],I4e={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},R4e={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},h9t=ht(I4e),p9t=ht(R4e),m9t={header:1,headerRow:1,headerColumn:1,headerFacet:1},D4e=ht(m9t),P4e=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],g9t={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},y9t={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Fd="_vgsid_",v9t={point:{on:"click",fields:[Fd],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function lee(e){return e==="legend"||!!(e!=null&&e.legend)}function tB(e){return lee(e)&&Mt(e)}function uee(e){return!!(e!=null&&e.select)}function O4e(e){const t=[];for(const n of e||[]){if(uee(n))continue;const{expr:r,bind:i,...s}=n;if(i&&r){const o={...s,bind:i,init:r};t.push(o)}else{const o={...s,...r?{update:r}:{},...i?{bind:i}:{}};t.push(o)}}return t}function b9t(e){return X5(e)||dee(e)||cee(e)}function cee(e){return pt(e,"concat")}function X5(e){return pt(e,"vconcat")}function dee(e){return pt(e,"hconcat")}function N4e({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function wh(e){return pt(e,"step")}function vpe(e){return pt(e,"view")||pt(e,"width")||pt(e,"height")}const bpe=20,w9t={align:1,bounds:1,center:1,columns:1,spacing:1},x9t=ht(w9t);function _9t(e,t,n){const r=n[t],i={},{spacing:s,columns:o}=r;s!==void 0&&(i.spacing=s),o!==void 0&&(H5(e)&&!sA(e.facet)||cee(e))&&(i.columns=o),X5(e)&&(i.columns=1);for(const a of x9t)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=kr(l)?l:{row:l.row??s,column:l.column??s}}else i[a]=e[a];return i}function gH(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function yH(e,t){const n=Z4(e,t);return wh(n)?n.step:$4e}function Z4(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return ls(n,{step:e.step})}const $4e=20,E9t={continuousWidth:200,continuousHeight:200,step:$4e},C9t={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:E9t,mark:mjt,arc:{},area:{},bar:bjt,circle:{},geoshape:{},image:{},line:{},point:{},rect:WZ,rule:{color:"black"},square:{},text:{color:"black"},tick:wjt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:XLt,projection:{},legend:g9t,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:v9t,style:{},title:{},facet:{spacing:bpe},concat:{spacing:bpe},normalizedNumberFormat:".0%"},lp=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],wpe={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},xpe={blue:lp[0],orange:lp[1],red:lp[2],teal:lp[3],green:lp[4],yellow:lp[5],purple:lp[6],pink:lp[7],brown:lp[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function S9t(e={}){return{signals:[{name:"color",value:Mt(e)?{...xpe,...e}:xpe}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function T9t(e){return{signals:[{name:"fontSize",value:Mt(e)?{...wpe,...e}:wpe}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function k9t(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function M4e(e){const t=ht(e||{}),n={};for(const r of t){const i=e[r];n[r]=uA(i)?cOe(i):su(i)}return n}function A9t(e){const t=ht(e),n={};for(const r of t)n[r]=M4e(e[r]);return n}const I9t=[...VOe,...h4e,...D4e,"background","padding","legend","lineBreak","scale","style","title","view"];function F4e(e={}){const{color:t,font:n,fontSize:r,selection:i,...s}=e,o=tE({},Cn(C9t),n?k9t(n):{},t?S9t(t):{},r?T9t(r):{},s||{});i&&nE(o,"selection",i,!0);const a=Nl(o,I9t);for(const l of["background","lineBreak","padding"])o[l]&&(a[l]=su(o[l]));for(const l of VOe)o[l]&&(a[l]=Po(o[l]));for(const l of h4e)o[l]&&(a[l]=M4e(o[l]));for(const l of D4e)o[l]&&(a[l]=Po(o[l]));if(o.legend&&(a.legend=Po(o.legend)),o.scale){const{invalid:l,...u}=o.scale,c=Po(l,{level:1});a.scale={...Po(u),...ht(c).length>0?{invalid:c}:{}}}return o.style&&(a.style=A9t(o.style)),o.title&&(a.title=Po(o.title)),o.view&&(a.view=Po(o.view)),a}const R9t=new Set(["view",...ujt]),D9t=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],P9t={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...pjt};function O9t(e){e=Cn(e);for(const t of D9t)delete e[t];if(e.axis)for(const t in e.axis)uA(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of f9t)delete e.legend[t];if(e.mark){for(const t of cpe)delete e.mark[t];e.mark.tooltip&&Mt(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(O4e(e.params)),delete e.params);for(const t of R9t){for(const r of cpe)delete e[t][r];const n=P9t[t];if(n)for(const r of n)delete e[t][r];$9t(e,t)}for(const t of d9t())delete e[t];N9t(e);for(const t in e)Mt(e[t])&&Zr(e[t])&&delete e[t];return Zr(e)?void 0:e}function N9t(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=uOe(e.title);Zr(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Zr(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Zr(r)?delete e.title:e.title=r}function $9t(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const s={...i,...e.style[n??t]};Zr(s)||(e.style[n??t]=s),delete e[t]}function Q5(e){return pt(e,"layer")}function M9t(e){return pt(e,"repeat")}function F9t(e){return!nt(e.repeat)&&pt(e.repeat,"layer")}class fee{map(t,n){return H5(t)?this.mapFacet(t,n):M9t(t)?this.mapRepeat(t,n):dee(t)?this.mapHConcat(t,n):X5(t)?this.mapVConcat(t,n):cee(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(Q5(t))return this.mapLayer(t,n);if(Rm(t))return this.mapUnit(t,n);throw new Error(kZ(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(s=>this.map(s,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const L9t={zero:1,center:1,normalize:1};function j9t(e){return zt(L9t,e)}const B9t=new Set([UOe,B5,j5,W4,U5,HZ,VZ,z5,qOe,qZ]),z9t=new Set([B5,j5,UOe]);function tw(e){return bt(e)&&c_(e)==="quantitative"&&!e.bin}function _pe(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",s=t==="x"&&["bar","area"].includes(r),o=e[t],a=e[i];if(bt(o)&&bt(a))if(tw(o)&&tw(a)){if(o.stack)return t;if(a.stack)return i;const l=bt(o)&&!!o.aggregate,u=bt(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(s){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(tw(o))return t;if(tw(a))return i}else{if(tw(o))return s&&n==="vertical"?void 0:t;if(tw(a))return s&&n==="horizontal"?void 0:i}}function U9t(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function L4e(e,t){var m,g;const n=bh(e)?e:{type:e},r=n.type;if(!B9t.has(r))return null;const i=_pe(t,"x",n)||_pe(t,"theta",n);if(!i)return null;const s=t[i],o=bt(s)?It(s,{}):void 0,a=U9t(i),l=[],u=new Set;if(t[a]){const v=t[a],y=bt(v)?It(v,{}):void 0;y&&y!==o&&(l.push(a),u.add(y))}const c=a==="x"?"xOffset":"yOffset",d=t[c],f=bt(d)?It(d,{}):void 0;f&&f!==o&&(l.push(c),u.add(f));const h=K8t.reduce((v,y)=>{if(y!=="tooltip"&&Dv(t,y)){const w=t[y];for(const E of $t(w)){const C=Md(E);if(C.aggregate)continue;const S=It(C,{});(!S||!u.has(S))&&v.push({channel:y,fieldDef:C})}}return v},[]);let p;return s.stack!==void 0?Bg(s.stack)?p=s.stack?"zero":null:p=s.stack:z9t.has(r)&&(p="zero"),!p||!j9t(p)||g4e(t)&&h.length===0?null:((m=s==null?void 0:s.scale)!=null&&m.type&&((g=s==null?void 0:s.scale)==null?void 0:g.type)!==No.LINEAR&&s!=null&&s.stack&&yt(pLt(s.scale.type)),An(t[Uh(i)])?(s.stack!==void 0&&yt(hLt(i)),null):(bt(s)&&s.aggregate&&!lFt.has(s.aggregate)&&yt(mLt(s.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:s.impute===null?!1:Xg(r),stackBy:h,offset:p}))}function j4e(e,t,n){const r=Po(e),i=Jr("orient",r,n);if(r.orient=W9t(r.type,t,i),i!==void 0&&i!==r.orient&&yt(QFt(r.orient,i)),r.type==="bar"&&r.orient){const l=Jr("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:yjt[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const s=Jr("opacity",r,n),o=Jr("fillOpacity",r,n);return s===void 0&&o===void 0&&(r.opacity=H9t(r.type,t)),Jr("cursor",r,n)===void 0&&(r.cursor=q9t(r,t,n)),r}function q9t(e,t,n){return t.href||e.href||Jr("href",e,n)?"pointer":e.cursor}function H9t(e,t){if(Wn([U5,qZ,HZ,VZ],e)&&!g4e(t))return .7}function V9t(e,t,{graticule:n}){if(n)return!1;const r=vh("filled",e,t),i=e.type;return ls(r,i!==U5&&i!==z5&&i!==W4)}function W9t(e,t,n){switch(e){case U5:case HZ:case VZ:case qOe:case ajt:case ojt:return}const{x:r,y:i,x2:s,y2:o}=t;switch(e){case B5:if(bt(r)&&(Do(r.bin)||bt(i)&&i.aggregate&&!r.aggregate))return"vertical";if(bt(i)&&(Do(i.bin)||bt(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||s){if(n)return n;if(!s)return(bt(r)&&r.type===d1&&!fi(r.bin)||Y4(r))&&bt(i)&&Do(i.bin)?"horizontal":"vertical";if(!o)return(bt(i)&&i.type===d1&&!fi(i.bin)||Y4(i))&&bt(r)&&Do(r.bin)?"vertical":"horizontal"}case W4:if(s&&!(bt(r)&&Do(r.bin))&&o&&!(bt(i)&&Do(i.bin)))return;case j5:if(o)return bt(i)&&Do(i.bin)?"horizontal":"vertical";if(s)return bt(r)&&Do(r.bin)?"vertical":"horizontal";if(e===W4){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case z5:case qZ:{const a=ppe(r),l=ppe(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=el(r)&&r.type===l_,c=el(i)&&i.type===l_;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function G9t(e){const{point:t,line:n,...r}=e;return ht(r).length>1?r:r.type}function Y9t(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Nl(e[t],["point","line"])});return e}function nB(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Mt(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Mt(t.point)?t.point:{}:void 0}function Epe(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class K9t{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Rm(t)){const{mark:r,encoding:i}=t,s=bh(r)?r:{type:r};switch(s.type){case"line":case"rule":case"trail":return!!nB(s,n[s.type],i);case"area":return!!nB(s,n[s.type],i)||!!Epe(s,n[s.type])}}return!1}run(t,n,r){const{config:i}=n,{params:s,projection:o,mark:a,name:l,encoding:u,...c}=t,d=K5(u,i),f=bh(a)?a:{type:a},h=nB(f,i[f.type],d),p=f.type==="area"&&Epe(f,i[f.type]),m=[{name:l,...s?{params:s}:{},mark:G9t({...f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{},...f}),encoding:Nl(d,["shape"])}],g=L4e(j4e(f,d,i),d);let v=d;if(g){const{fieldChannel:y,offset:w}=g;v={...d,[y]:{...d[y],...w?{stack:w}:{}}}}return v=Nl(v,["y2","x2"]),p&&m.push({...o?{projection:o}:{},mark:{type:"line",...i_(f,["clip","interpolate","tension","tooltip"]),...p},encoding:v}),h&&m.push({...o?{projection:o}:{},mark:{type:"point",opacity:1,filled:!0,...i_(f,["clip","tooltip"]),...h},encoding:v}),r({...c,layer:m},{...n,config:Y9t(i)})}}function X9t(e,t){return t?sA(e)?z4e(e,t):B4e(e,t):e}function rB(e,t){return t?z4e(e,t):e}function vH(e,t,n){const r=t[e];if(Pjt(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};yt(AFt(r.repeat));return}return t}function B4e(e,t){if(e=vH("field",e,t),e!==void 0){if(e===null)return null;if(JZ(e)&&Vp(e.sort)){const n=vH("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function Cpe(e,t){if(bt(e))return B4e(e,t);{const n=vH("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Spe(e,t){if(An(e)){const n=Cpe(e,t);if(n)return n;if(oA(e))return{condition:e.condition}}else{if(aA(e)){const n=Cpe(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function z4e(e,t){const n={};for(const r in e)if(pt(e,r)){const i=e[r];if(nt(i))n[r]=i.map(s=>Spe(s,t)).filter(s=>s);else{const s=Spe(i,t);s!==void 0&&(n[r]=s)}}return n}class Q9t{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Rm(t)){const{encoding:n,mark:r}=t;if(r==="line"||bh(r)&&r.type==="line")for(const i of W8t){const s=Y1(i),o=n[s];if(n[i]&&(bt(o)&&!Do(o.bin)||Hh(o)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:s}=t;return yt(XFt(!!i.x2,!!i.y2)),r({...t,mark:Mt(s)?{...s,type:"rule"}:"rule"},n)}}class J9t extends fee{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[e9t,r9t,c9t,new K9t,new Q9t]}map(t,n){if(Rm(t)){const r=Dv(t.encoding,qp),i=Dv(t.encoding,Hp),s=Dv(t.encoding,A5);if(r||i||s)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,s=rB(t.encoding,n.repeater),o={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...s?{encoding:s}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(o,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(o,n.config))return l.run(o,n,a);return o}mapRepeat(t,n){return F9t(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...s}=t,{row:o,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return o||a?this.mapRepeat({...t,repeat:{...o?{row:o}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...s,layer:l.map(d=>{const f={...u,layer:d},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${Ai(d)}`,p=this.mapLayerOrUnit(i,{...n,repeater:f,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:s,...o}=t;!nt(r)&&t.columns&&(t=Nl(t,["columns"]),yt(ipe("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!nt(r)&&r.row||[l?l.row:null],d=!nt(r)&&r.column||[l?l.column:null],f=nt(r)&&r||[l?l.repeat:null];for(const p of f)for(const m of c)for(const g of d){const v={repeat:p,row:m,column:g,layer:l.layer},y=(i.name?`${i.name}_`:"")+u+"child__"+(nt(r)?`${Ai(p)}`:(r.row?`row_${Ai(m)}`:"")+(r.column?`column_${Ai(g)}`:"")),w=this.map(i,{...n,repeater:v,repeaterPrefix:y});w.name=y,a.push(Nl(w,["data"]))}const h=nt(r)?t.columns:r.column?r.column.length:1;return{data:i.data??s,align:"all",...o,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return sA(r)&&t.columns&&(t=Nl(t,["columns"]),yt(ipe("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:s,parentProjection:o,config:a}=n,l=kpe({parentProjection:o,projection:i}),u=Tpe({parentEncoding:s,encoding:rB(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:s,...o}=t.encoding,{mark:a,width:l,projection:u,height:c,view:d,params:f,encoding:h,...p}=t,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:s},n),v=rB(o,n.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...l?{width:l}:{},...c?{height:c}:{},...d?{view:d}:{},...u?{projection:u}:{},mark:a,encoding:v,...f?{params:f}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:s}=t;if(r||i){s&&yt(YFt([...r?[qp]:[],...i?[Hp]:[]]));const o={},a={};for(const l of[qp,Hp]){const u=t[l];if(u){const{align:c,center:d,spacing:f,columns:h,...p}=u;o[l]=p;for(const m of["align","center","spacing"])u[m]!==void 0&&(a[m]??(a[m]={}),a[m][l]=u[m])}}return{facetMapping:o,layout:a}}else{const{align:o,center:a,spacing:l,columns:u,...c}=s;return{facetMapping:X9t(c,n.repeater),layout:{...o?{align:o}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:s,projection:o,...a}=t,l={...i,parentEncoding:Tpe({parentEncoding:n,encoding:s,layer:!0}),parentProjection:kpe({parentProjection:r,projection:o})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function Tpe({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...ht(e),...ht(t)]);for(const s of i){const o=t[s],a=e[s];if(An(o)){const l={...a,...o};r[s]=l}else aA(o)?r[s]={...o,condition:{...a,...o.condition}}:o||o===null?r[s]=o:(n||$d(a)||Jt(a)||An(a)||nt(a))&&(r[s]=a)}}else r=t;return!r||Zr(r)?void 0:r}function kpe(e){const{parentProjection:t,projection:n}=e;return t&&n&&yt(FFt({parentProjection:t,projection:n})),n??t}function hee(e){return pt(e,"filter")}function Z9t(e){return pt(e,"stop")}function U4e(e){return pt(e,"lookup")}function eBt(e){return pt(e,"data")}function tBt(e){return pt(e,"param")}function nBt(e){return pt(e,"pivot")}function rBt(e){return pt(e,"density")}function iBt(e){return pt(e,"quantile")}function sBt(e){return pt(e,"regression")}function oBt(e){return pt(e,"loess")}function aBt(e){return pt(e,"sample")}function lBt(e){return pt(e,"window")}function uBt(e){return pt(e,"joinaggregate")}function cBt(e){return pt(e,"flatten")}function dBt(e){return pt(e,"calculate")}function q4e(e){return pt(e,"bin")}function fBt(e){return pt(e,"impute")}function hBt(e){return pt(e,"timeUnit")}function pBt(e){return pt(e,"aggregate")}function mBt(e){return pt(e,"stack")}function gBt(e){return pt(e,"fold")}function yBt(e){return pt(e,"extent")&&!pt(e,"density")&&!pt(e,"regression")}function vBt(e){return e.map(t=>hee(t)?{filter:dx(t.filter,qLt)}:t)}class bBt extends fee{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=Ape(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=Ape(t,n),t.encoding){const r={};for(const[i,s]of gg(t.encoding))r[i]=H4e(s,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:gg(r).map(([s,o])=>{const{init:a,bind:l,empty:u,...c}=o;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[s]=u!=="none";for(const d of qo(n.selectionPredicates[s]??{}))d.empty=u!=="none";return{name:s,value:a,select:c,bind:l}})}:t}}function Ape(e,t){const{transform:n,...r}=e;if(n){const i=n.map(s=>{if(hee(s))return{filter:bH(s,t)};if(q4e(s)&&K1(s.bin))return{...s,bin:V4e(s.bin)};if(U4e(s)){const{selection:o,...a}=s.from;return o?{...s,from:{param:o,...a}}:s}return s});return{...r,transform:i}}return e}function H4e(e,t){var r,i;const n=Cn(e);if(bt(n)&&K1(n.bin)&&(n.bin=V4e(n.bin)),Z1(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:s,...o}=n.scale.domain;n.scale.domain={...o,...s?{param:s}:{}}}if(oA(n))if(nt(n.condition))n.condition=n.condition.map(s=>{const{selection:o,param:a,test:l,...u}=s;return a?s:{...u,test:bH(s,t)}});else{const{selection:s,param:o,test:a,...l}=H4e(n.condition,t);n.condition=o?n.condition:{...l,test:bH(n.condition,t)}}return n}function V4e(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function bH(e,t){const n=r=>dx(r,i=>{var s;const o=t.emptySelections[i]??!0,a={param:i,empty:o};return(s=t.selectionPredicates)[i]??(s[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):dx(e.test||e.filter,r=>r.selection?n(r.selection):r)}class wH extends fee{map(t,n){const r=n.selections??[];if(t.params&&!Rm(t)){const i=[];for(const s of t.params)uee(s)?r.push(s):i.push(s);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),s=[];for(const o of r)if(!o.views||!o.views.length)s.push(o);else for(const a of o.views)(Ft(a)&&(a===t.name||i.includes(a))||nt(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&s.push(o);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=wH.prototype[e];wH.prototype[e]=function(n,r){return t.call(this,n,wBt(n,r))}}function wBt(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function W4e(e,t){t===void 0&&(t=F4e(e.config));const n=CBt(e,t),{width:r,height:i}=e,s=SBt(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...s?{autosize:s}:{}}}const xBt=new J9t,_Bt=new bBt,EBt=new wH;function CBt(e,t={}){const n={config:t};return EBt.map(xBt.map(_Bt.map(e,n),n),n)}function Ipe(e){return Ft(e)?{type:e}:e??{}}function SBt(e,t,n){let{width:r,height:i}=t;const s=Rm(e)||Q5(e),o={};s?r=="container"&&i=="container"?(o.type="fit",o.contains="padding"):r=="container"?(o.type="fit-x",o.contains="padding"):i=="container"&&(o.type="fit-y",o.contains="padding"):(r=="container"&&(yt(epe("width")),r=void 0),i=="container"&&(yt(epe("height")),i=void 0));const a={type:"pad",...o,...n?Ipe(n.autosize):{},...Ipe(e.autosize)};if(a.type==="fit"&&!s&&(yt(yFt),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&yt(tpe("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&yt(tpe("height")),!au(a,{type:"pad"}))return a}function TBt(e){return["fit","fit-x","fit-y"].includes(e)}function kBt(e){return e?`fit-${O5(e)}`:"fit"}const ABt=["background","padding"];function Rpe(e,t){const n={};for(const r of ABt)e&&e[r]!==void 0&&(n[r]=su(e[r]));return t&&(n.params=e.params),n}class Dm{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Dm(Cn(this.explicit),Cn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return ls(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of ht(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Df(e){return{explicit:!0,value:e}}function eu(e){return{explicit:!1,value:e}}function G4e(e){return(t,n,r,i)=>{const s=e(t.value,n.value);return s>0?t:s<0?n:J5(t,n,r,i)}}function J5(e,t,n,r){return e.explicit&&t.explicit&&yt(oLt(n,r,e.value,t.value)),e}function bg(e,t,n,r,i=J5){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:au(e.value,t.value)?e:i(e,t,n,r)}class IBt extends Dm{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function h_(e){return pt(e,"url")}function ET(e){return pt(e,"values")}function Y4e(e){return pt(e,"name")&&!h_(e)&&!ET(e)&&!Q0(e)}function Q0(e){return e&&(K4e(e)||X4e(e)||pee(e))}function K4e(e){return pt(e,"sequence")}function X4e(e){return pt(e,"sphere")}function pee(e){return pt(e,"graticule")}var Fi;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(Fi||(Fi={}));function Q4e({invalid:e,isPath:t}){switch(WOe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function RBt(e){const{marks:t,scales:n}=Q4e(e);return t===n?Fi.Main:n==="include-invalid-values"?Fi.PreFilterInvalid:Fi.PostFilterInvalid}class Yr{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){yt(NFt);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class $l extends Yr{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${GPe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function iB(e){return e.as!==void 0}function Dpe(e){return`${e}_end`}class sh extends Yr{clone(){return new sh(null,Cn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{const{field:a,timeUnit:l}=s;if(l){let u;if(J1(l)){if($i(n)){const{mark:c,markDef:d,config:f}=n,h=vg({fieldDef:s,markDef:d,config:f});(_T(c)||h)&&(u={timeUnit:po(l),field:a})}}else u={as:It(s,{forAs:!0}),field:a,timeUnit:l};if($i(n)){const{mark:c,markDef:d,config:f}=n,h=vg({fieldDef:s,markDef:d,config:f});_T(c)&&us(o)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[nr(u)]=u)}return i},{});return Zr(r)?null:new sh(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},s=po(r),o={...i,timeUnit:s};return new sh(t,{[nr(o)]:o})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of gg(this.timeUnits)){const s=iB(i)?i.as:`${i.field}_end`;t.has(s)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(qo(this.timeUnits).map(t=>iB(t)?t.as:Dpe(t.field)))}dependentFields(){return new Set(qo(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${nr(this.timeUnits)}`}assemble(){const t=[];for(const n of qo(this.timeUnits)){const{rectBandPosition:r}=n,i=po(n.timeUnit);if(iB(n)){const{field:s,as:o}=n,{unit:a,utc:l,...u}=i,c=[o,`${o}_end`];t.push({field:dc(s),type:"timeunit",...a?{units:F5(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...Ppe(c,r,i))}else if(n){const{field:s}=n,o=s.replaceAll("\\.","."),a=J4e({timeUnit:i,field:o}),l=Dpe(o);t.push({type:"formula",expr:a,as:l}),t.push(...Ppe([o,l],r,i))}}return t}}const Z5="offsetted_rect_start",eM="offsetted_rect_end";function J4e({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,s=AOe(r),{part:o,step:a}=POe(s,e.step);return`${i?"utcOffset":"timeOffset"}('${o}', ${Hr(t)}, ${n?-a:a})`}function Ppe([e,t],n,r){if(n!==void 0&&n!==.5){const i=Hr(e),s=Hr(t);return[{type:"formula",expr:Ope([J4e({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${Z5}`},{type:"formula",expr:Ope([i,s],n+.5),as:`${e}_${eM}`}]}return[]}function Ope([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const cA="_tuple_fields";class DBt{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const PBt={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new DBt),s={},o={},a=new Set,l=(p,m)=>{const g=m==="visual"?p.channel:p.field;let v=Ai(`${r}_${g}`);for(let y=1;a.has(v);y++)v=Ai(`${r}_${g}_${y}`);return a.add(v),{[m]:v}},u=t.type,c=e.config.selection[u],d=n.value!==void 0?$t(n.value):null;let{fields:f,encodings:h}=Mt(n.select)?n.select:{};if(!f&&!h&&d){for(const p of d)if(Mt(p))for(const m of ht(p))V8t(m)?(h||(h=[])).push(m):u==="interval"?(yt(kFt),h=c.encodings):(f??(f=[])).push(m)}!f&&!h&&(h=c.encodings,"fields"in c&&(f=c.fields));for(const p of h??[]){const m=e.fieldDef(p);if(m){let g=m.field;if(m.aggregate){yt(vFt(p,m.aggregate));continue}else if(!g){yt(rpe(p));continue}if(m.timeUnit&&!J1(m.timeUnit)){g=e.vgField(p);const v={timeUnit:m.timeUnit,as:g,field:m.field};o[nr(v)]=v}if(!s[g]){const v=u==="interval"&&qh(p)&&Nd(e.getScaleComponent(p).get("type"))?"R":m.bin?"R-RE":"E",y={field:g,channel:p,type:v,index:i.items.length};y.signals={...l(y,"data"),...l(y,"visual")},i.items.push(s[g]=y),i.hasField[g]=s[g],i.hasSelectionId=i.hasSelectionId||g===Fd,ZPe(p)?(y.geoChannel=p,y.channel=JPe(p),i.hasChannel[y.channel]=s[g]):i.hasChannel[p]=s[g]}}else yt(rpe(p))}for(const p of f??[]){if(i.hasField[p])continue;const m={type:"E",field:p,index:i.items.length};m.signals={...l(m,"data")},i.items.push(m),i.hasField[p]=m,i.hasSelectionId=i.hasSelectionId||p===Fd}d&&(t.init=d.map(p=>i.items.map(m=>Mt(p)?p[m.geoChannel||m.channel]!==void 0?p[m.geoChannel||m.channel]:p[m.field]:p))),Zr(o)||(i.timeUnit=new sh(null,o))},signals:(e,t,n)=>{const r=t.name+cA;return n.filter(s=>s.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(nNe)})}},Z4e="_curr",yP="anim_value",kw="anim_clock",xH="eased_anim_clock",eNe="min_extent",tNe="max_range_extent",sB="last_tick_at",oB="is_playing",OBt=1/60*1e3,NBt=(e,t)=>[{name:xH,update:kw},{name:`${e}_domain`,init:`domain('${t}')`},{name:eNe,init:`extent(${e}_domain)[0]`},{name:tNe,init:`extent(range('${t}'))[1]`},{name:yP,update:`invert('${t}', ${xH})`}],$Bt={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(oh(t)&&(n=n.concat([{name:kw,init:"0",on:[{events:{type:"timer",throttle:OBt},update:`${oB} ? (${kw} + (now() - ${sB}) > ${tNe} ? 0 : ${kw} + (now() - ${sB})) : ${kw}`}]},{name:sB,init:"now()",on:[{events:[{signal:kw},{signal:oB}],update:"now()"}]},{name:oB,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+cA,s=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=qo(e.component.selection??{}).reduce((c,d)=>d.type==="interval"?c.concat(d.name+px):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${Pv(e)}, `;if(t.project.hasSelectionId)u+=`${Fd}: ${o}[${Et(Fd)}]`;else if(oh(t))u+=`fields: ${i}, values: [${yP} ? ${yP} : ${eNe}]`;else{const c=s.items.map(d=>{const f=e.fieldDef(d.channel);return f!=null&&f.bin?`[${o}[${Et(e.vgField(d.channel,{}))}], ${o}[${Et(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${o}[${Et(d.field)}]`}).join(", ");u+=`fields: ${i}, values: [${c}]`}if(oh(t))return n.concat(NBt(t.name,e.scaleName(Hg)),[{name:r+cm,on:[{events:[{signal:xH},{signal:yP}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+cm,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function nNe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=dc(i.field),i}function p1(e,t=!0,n=ba){if(nt(e)){const r=e.map(i=>p1(i,t,n));return t?`[${r.join(", ")}]`:r}else if(Q1(e))return n(t?c1(e):DLt(e));return t?n(ei(e)):e}function MBt(e,t){for(const n of qo(e.component.selection??{})){const r=n.name;let i=`${r}${cm}, ${n.resolve==="global"?"true":`{unit: ${Pv(e)}}`}`;for(const s of nM)s.defined(n)&&(s.signals&&(t=s.signals(e,n,t)),s.modifyExpr&&(i=s.modifyExpr(e,n,i)));t.push({name:r+u7t,on:[{events:{signal:n.name+cm},update:`modify(${Et(n.name+m1)}, ${i})`}]})}return mee(t)}function FBt(e,t){if(e.component.selection&&ht(e.component.selection).length){const n=Et(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Ug("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return mee(t)}function LBt(e,t){let n=!1;for(const r of qo(e.component.selection??{})){const i=r.name,s=Et(i+m1);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${bNe}(${s}, ${Et(a)}${l}`})}n=!0;for(const a of nM)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),mee(t)}function jBt(e,t){const n=[],r=[],i=Pv(e,{escape:!1});for(const s of qo(e.component.selection??{})){const o={name:s.name+m1};if(s.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:Fd}}]),s.init){const l=s.project.items.map(nNe);o.values=s.project.hasSelectionId?s.init.map(u=>({unit:i,[Fd]:p1(u,!1)[0]})):s.init.map(u=>({unit:i,fields:l,values:p1(u,!1)}))}if([...n,...t].filter(l=>l.name===s.name+m1).length||n.push(o),oh(s)&&t.length){const l=e.lookupDataSource(e.getDataName(Fi.Main)),u=t.find(d=>d.name===l),c=u.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(f=>f!==c);const d={name:u.name+Z4e,source:u.name,transform:[c]};r.push(d)}}}return n.concat(t,r)}function rNe(e,t){for(const n of qo(e.component.selection??{}))for(const r of nM)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function BBt(e,t){for(const n of e.children)$i(n)&&(t=rNe(n,t));return t}function zBt(e,t,n,r){const i=RNe(e,t.param,t);return{signal:Nd(n.get("type"))&&nt(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function mee(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const Wp={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!qh(i))continue;const s=e.getScaleComponent(i),o=s?s.get("type"):void 0;if(o=="sequential"&&yt(_Ft),!s||!Nd(o)){yt(xFt);continue}s.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(o=>n.filter(a=>a.name===o.signals.data).length===0);if(!e.parent||EH(e)||r.length===0)return n;const i=n.find(o=>o.name===t.name);let s=i.update;if(s.includes(bNe))i.update=`{${r.map(o=>`${Et(dc(o.field))}: ${o.signals.data}`).join(", ")}}`;else{for(const o of r){const a=`${Et(dc(o.field))}: ${o.signals.data}`;s.includes(a)||(s=`${s.substring(0,s.length-1)}, ${a}}`)}i.update=s}return n.concat(r.map(o=>({name:o.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!EH(e))for(const r of t.scales){const i=n.find(s=>s.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function _H(e,t){return`domain(${Et(e.scaleName(t))})`}function EH(e){return e.parent&&bE(e.parent)&&(!e.parent.parent||EH(e.parent.parent))}const px="_brush",iNe="_scale_trigger",DC="geo_interval_init_tick",sNe="_init",UBt="_center",qBt={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Mt(n.select)?n.select:{}};i.fields=[Fd],i.encodings||(i.encodings=n.value?ht(n.value):[nf,tf]),n.select={type:"interval",...i}}if(t.translate&&!Wp.defined(t)){const i=`!event.item || event.item.mark.name !== ${Et(t.name+px)}`;for(const s of t.events){if(!s.between){yt(`${s} is not an ordered event stream for interval selections.`);continue}const o=$t((r=s.between[0]).filter??(r.filter=[]));o.includes(i)||o.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+cm,s=qo(t.project.hasChannel).filter(a=>a.channel===Ri||a.channel===bo),o=t.init?t.init[0]:null;if(n.push(...s.reduce((a,l)=>a.concat(HBt(e,t,l,o&&o[l.index])),[])),e.hasProjection){const a=Et(e.projectionName()),l=e.projectionName()+UBt,{x:u,y:c}=t.project.hasChannel,d=u&&u.signals.visual,f=c&&c.signals.visual,h=u?o&&o[u.index]:`${l}[0]`,p=c?o&&o[c.index]:`${l}[1]`,m=C=>e.getSizeSignalRef(C).signal,g=`[[${d?d+"[0]":"0"}, ${f?f+"[0]":"0"}],[${d?d+"[1]":m("width")}, ${f?f+"[1]":m("height")}]]`;o&&(n.unshift({name:r+sNe,init:`[scale(${a}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(S=>S.name===l)||n.unshift({name:l,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const v=`intersect(${g}, {markname: ${Et(e.getName("marks"))}}, unit.mark)`,y=`{unit: ${Pv(e)}}`,w=`vlSelectionTuples(${v}, ${y})`,E=s.map(C=>C.signals.visual);return n.concat({name:i,on:[{events:[...E.length?[{signal:E.join(" || ")}]:[],...o?[{signal:DC}]:[]],update:w}]})}else{if(!Wp.defined(t)){const u=r+iNe,c=s.map(d=>{const f=d.channel,{data:h,visual:p}=d.signals,m=Et(e.scaleName(f)),g=e.getScaleComponent(f).get("type"),v=Nd(g)?"+":"";return`(!isArray(${h}) || (${v}invert(${m}, ${p})[0] === ${v}${h}[0] && ${v}invert(${m}, ${p})[1] === ${v}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:s.map(d=>({scale:e.scaleName(d.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=s.map(u=>u.signals.data),l=`unit: ${Pv(e)}, fields: ${r+cA}, values`;return n.concat({name:i,...o?{init:`{${l}: ${p1(o)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>($i(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===DC).length||n.unshift({name:DC,value:null,on:[{events:"timer{1}",update:`${DC} === null ? {} : ${DC}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:s}=t.project.hasChannel,o=i==null?void 0:i.signals.visual,a=s==null?void 0:s.signals.visual,l=`data(${Et(t.name+m1)})`;if(Wp.defined(t)||!i&&!s)return n;const u={x:i!==void 0?{signal:`${o}[0]`}:{value:0},y:s!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${o}[1]`}:{field:{group:"width"}},y2:s!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of ht(u))u[g]=[{test:`${l}.length && ${l}[0].unit === ${Pv(e)}`,...u[g]},{value:0}];const{fill:c,fillOpacity:d,cursor:f,...h}=t.mark,p=ht(h).reduce((g,v)=>(g[v]=[{test:[i!==void 0&&`${o}[0] !== ${o}[1]`,s!==void 0&&`${a}[0] !== ${a}[1]`].filter(y=>y).join(" && "),value:h[v]},{value:null}],g),{}),m=f??(t.translate?"move":null);return[{name:`${r+px}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:d}},update:u}},...n,{name:r+px,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function HBt(e,t,n,r){const i=!e.hasProjection,s=n.channel,o=n.signals.visual,a=Et(i?e.scaleName(s):e.projectionName()),l=f=>`scale(${a}, ${f})`,u=e.getSizeSignalRef(s===Ri?"width":"height").signal,c=`${s}(unit)`,d=t.events.reduce((f,h)=>[...f,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${o}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const f=n.signals.data,h=Wp.defined(t),p=e.getScaleComponent(s),m=p?p.get("type"):void 0,g=r?{init:p1(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+iNe},update:Nd(m)?`[${l(`${f}[0]`)}, ${l(`${f}[1]`)}]`:"[0, 0]"}),h?[{name:f,on:[]}]:[{name:o,...g,on:d},{name:f,...r?{init:p1(r)}:{},on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${a}, ${o})`}]}]}else{const f=s===Ri?0:1,h=t.name+sNe,p=r?{init:`[${h}[0][${f}], ${h}[1][${f}]]`}:{value:[]};return[{name:o,...p,on:d}]}}function mE({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const s=oA(t)&&t.condition;let o=[];s&&(o=$t(s).map(u=>{const c=i(u);if(Djt(u)){const{param:d,empty:f}=u;return{test:INe(e,{param:d,empty:f}),...c}}else return{test:rN(e,u.test),...c}})),r!==void 0&&o.push(r);const a=i(t);return a!==void 0&&o.push(a),o.length>1||o.length===1&&o[0].test?{[n]:o}:o.length===1?{[n]:o[0]}:{}}function gee(e,t="text"){const n=e.encoding[t];return mE({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>tM(r,e.config),invalidValueRef:void 0})}function tM(e,t,n="datum"){if(e){if($d(e))return vi(e.value);if(An(e)){const{format:r,formatType:i}=X4(e);return XZ({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function oNe(e,t={}){const{encoding:n,markDef:r,config:i,stack:s}=e,o=n.tooltip;if(nt(o))return{tooltip:Npe({tooltip:o},s,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return mE({model:e,channelDef:o,vgChannel:"tooltip",mainRefFn:u=>{const c=tM(u,i,a);if(c)return c;if(u===null)return;let d=Jr("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),Ft(d))return{value:d};if(Mt(d))return Jt(d)?d:d.content==="encoding"?Npe(n,s,i,t):{signal:a}},invalidValueRef:void 0})}}function aNe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},s=new Set,o=r?"datum.datum":"datum",a=[];function l(c,d){const f=Y1(d),h=el(c)?c:{...c,type:e[f].type},p=h.title||eee(h,i),m=$t(p).join(", ").replaceAll(/"/g,'\\"');let g;if(us(d)){const v=d==="x"?"x2":"y2",y=Md(e[v]);if(Do(h.bin)&&y){const w=It(h,{expr:o}),E=It(y,{expr:o}),{format:C,formatType:S}=X4(h);g=iA(w,E,C,S,i),s.add(v)}}if((us(d)||d===Cc||d===ef)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:v,formatType:y}=X4(h);g=XZ({fieldOrDatumDef:h,format:v,formatType:y,expr:o,config:i,normalizeStack:!0}).signal}g??(g=tM(h,i,o).signal),a.push({channel:d,key:m,value:g})}nee(e,(c,d)=>{bt(c)?l(c,d):V5(c)&&l(c.condition,d)});const u={};for(const{channel:c,key:d,value:f}of a)!s.has(c)&&!u[d]&&(u[d]=f);return u}function Npe(e,t,n,{reactiveGeom:r}={}){const i=aNe(e,t,n,{reactiveGeom:r}),s=gg(i).map(([o,a])=>`"${o}": ${a}`);return s.length>0?{signal:`{${s.join(", ")}}`}:void 0}function VBt(e){const{markDef:t,config:n}=e,r=Jr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...WBt(e),...GBt(e)}}function WBt(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Jr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:zt(pFt,t)?{}:{ariaRoleDescription:{value:t}}}function GBt(e){const{encoding:t,markDef:n,config:r,stack:i}=e,s=t.description;if(s)return mE({model:e,channelDef:s,vgChannel:"description",mainRefFn:l=>tM(l,e.config),invalidValueRef:void 0});const o=Jr("description",n,r);if(o!=null)return{description:vi(o)};if(r.aria===!1)return{};const a=aNe(t,i,r);if(!Zr(a))return{description:{signal:gg(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Mo(e,t,n={}){const{markDef:r,encoding:i,config:s}=t,{vgChannel:o}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=Jr(e,r,s,{vgChannel:o,ignoreVgConfig:!oA(u)})),l!==void 0&&(a=vi(l)));const c={markDef:r,config:s,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=YOe({...c,scaleChannel:e,channelDef:u});return mE({model:t,channelDef:u,vgChannel:o??e,invalidValueRef:d,mainRefFn:h=>KZ({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function lNe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:s}=n,o=t.filled??Jr("filled",n,i),a=Wn(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,l=Jr(o===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[o===!0&&"color"]??a,u=Jr(o===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[o===!1&&"color"],c=o?"fill":"stroke",d={...l?{fill:vi(l)}:{},...u?{stroke:vi(u)}:{}};return n.color&&(o?n.fill:n.stroke)&&yt(bOe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...Mo("color",e,{vgChannel:c,defaultValue:o?l:u}),...Mo("fill",e,{defaultValue:r.fill?l:void 0}),...Mo("stroke",e,{defaultValue:r.stroke?u:void 0})}}function YBt(e){const{encoding:t,mark:n}=e,r=t.order;return!Xg(n)&&$d(r)?mE({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>vi(i.value),invalidValueRef:void 0}):{}}function p_({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const s=`${e}Offset`,o=t[s],a=n[s];if((s==="xOffset"||s==="yOffset")&&a)return{offsetType:"encoding",offset:KZ({channel:s,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(s),scale:r.getScaleComponent(s),stack:null,defaultRef:vi(o),bandPosition:i})};const l=t[s];return l?{offsetType:"visual",offset:l}:{}}function Wa(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:s,config:o,stack:a}=t,l=i[e],u=i[Uh(e)],c=t.scaleName(e),d=t.getScaleComponent(e),{offset:f,offsetType:h}=p_({channel:e,markDef:s,encoding:i,model:t,bandPosition:.5}),p=yee({model:t,defaultPos:n,channel:e,scaleName:c,scale:d}),m=!l&&us(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:KBt({channel:e,channelDef:l,channel2Def:u,markDef:s,config:o,scaleName:c,scale:d,stack:a,offset:f,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function KBt(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:s,markDef:o}=e;if(An(n)&&i&&t===i.fieldChannel){if(bt(n)){let a=n.bandPosition;if(a===void 0&&o.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return G4({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:s})}return Rv(n,r,{suffix:"end"},{offset:s})}return YZ(e)}function yee({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:s,config:o}=e;return()=>{const a=Y1(n),l=yg(n),u=Jr(n,s,o,{vgChannel:l});if(u!==void 0)return c2(n,u);switch(t){case"zeroOrMin":return $pe({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:o});case"zeroOrMax":return $pe({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:o});case"mid":return{...e[Ul(n)],mult:.5}}}}function $pe({mainChannel:e,config:t,...n}){const r=GOe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:s,heightSignal:o}=i.zeroOrMax;return{signal:`min(${s},${o})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const XBt={left:"x",center:"xc",right:"x2"},QBt={top:"y",middle:"yc",bottom:"y2"};function uNe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return yg(e);const i=e==="x"?"align":"baseline",s=Jr(i,t,n);let o;return Jt(s)?(yt(KFt(i)),o=void 0):o=s,e==="x"?XBt[o||(r==="top"?"left":"center")]:QBt[o||r]}function eN(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?cNe(e,t,{defaultPos:n,defaultPos2:r}):Wa(e,t,{defaultPos:n})}function cNe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:s}=t,o=Uh(e),a=Ul(e),l=JBt(t,r,o),u=l[a]?uNe(e,i,s):yg(e);return{...Wa(e,t,{defaultPos:n,vgChannel:u}),...l}}function JBt(e,t,n){const{encoding:r,mark:i,markDef:s,stack:o,config:a}=e,l=Y1(n),u=Ul(n),c=yg(n),d=r[l],f=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in s?p_({channel:n,markDef:s,encoding:r,model:e}):p_({channel:l,markDef:s,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=Ul(n),v=e.markDef[g];return v!=null?{[g]:{value:v}}:{[c]:{field:e.getName(n)}}}const m=ZBt({channel:n,channelDef:d,channel2Def:r[n],markDef:s,config:a,scaleName:f,scale:h,stack:o,offset:p,defaultRef:void 0});return m!==void 0?{[c]:m}:SR(n,s)||SR(n,{[n]:cH(n,s,a.style),[u]:cH(u,s,a.style)})||SR(n,a[i])||SR(n,a.mark)||{[c]:yee({model:e,defaultPos:t,channel:n,scaleName:f,scale:h})()}}function ZBt({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:l,defaultRef:u}){return An(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?Rv(t,s,{suffix:"start"},{offset:l}):YZ({channel:e,channelDef:n,scaleName:s,scale:o,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function SR(e,t){const n=Ul(e),r=yg(e);if(t[r]!==void 0)return{[r]:c2(e,t[r])};if(t[e]!==void 0)return{[r]:c2(e,t[e])};if(t[n]){const i=t[n];if(f1(i))yt(qFt(n));else return{[n]:c2(e,i)}}}function um(e,t){const{config:n,encoding:r,markDef:i}=e,s=i.type,o=Uh(t),a=Ul(t),l=r[t],u=r[o],c=e.getScaleComponent(t),d=c?c.get("type"):void 0,f=i.orient,h=r[a]??r.size??Jr("size",i,n,{vgChannel:a}),p=rOe(t),m=s==="bar"&&(t==="x"?f==="vertical":f==="horizontal")||s==="tick"&&(t==="y"?f==="vertical":f==="horizontal");return bt(l)&&(fi(l.bin)||Do(l.bin)||l.timeUnit&&!u)&&!(h&&!f1(h))&&!r[p]&&!mo(d)?n7t({fieldDef:l,fieldDef2:u,channel:t,model:e}):(An(l)&&mo(d)||m)&&!u?t7t(l,t,e):cNe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function e7t(e,t,n,r,i,s,o){if(f1(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=vh("minBandSize",{type:o},r);return{signal:c?`max(${fd(c)}, ${u})`:u}}else i.band!==1&&(yt(ZFt(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Jt(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(X1(l)&&kr(l.step))return{value:l.step-2}}if(!s){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:d}=r.scale,f=ls(l,o==="tick"?d:o==="bar"?u:c);if(Jt(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(kr(f))return{signal:`${1-f} * ${e}`}}return{value:yH(r.view,e)-2}}function t7t(e,t,n){var I,R;const{markDef:r,encoding:i,config:s,stack:o}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=Ul(t),d=Uh(t),f=rOe(t),h=n.scaleName(f),p=n.getScaleComponent(xZ(t)),m=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=Mo("size",n,{vgChannel:c,defaultRef:vi(r.size)}):yt(rLt(r.type)));const v=!!g,y=t4e({channel:t,fieldDef:e,markDef:r,config:s,scaleType:(I=u||p)==null?void 0:I.get("type"),useVlSizeChannel:m});g=g||{[c]:e7t(c,h||l,p||u,s,y,!!e,r.type)};const w=((R=u||p)==null?void 0:R.get("type"))==="band"&&f1(y)&&!v?"top":"middle",E=uNe(t,r,s,w),C=E==="xc"||E==="yc",{offset:S,offsetType:T}=p_({channel:t,markDef:r,encoding:i,model:n,bandPosition:C?.5:0}),k=YZ({channel:t,channelDef:e,markDef:r,config:s,scaleName:l,scale:u,stack:o,offset:S,defaultRef:yee({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:C?T==="encoding"?0:.5:Jt(y)?{signal:`(1-${y})/2`}:f1(y)?(1-y.band)/2:0});if(c)return{[E]:k,...g};{const O=yg(d),M=g[c],$=S?{...M,offset:S}:M;return{[E]:k,[O]:nt(k)?[k[0],{...k[1],offset:$}]:{...k,offset:$}}}}function Mpe(e,t,n,r,i,s,o){if(QPe(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(Jt(n)||Jt(i)||Jt(r)||s){const u=fd(n),c=fd(i),d=fd(r),f=fd(s),p=s?`(${o} < ${f} ? ${a?"":"-"}0.5 * (${f} - (${o})) : ${l})`:l,m=d?`${d} + `:"",g=u?`(${u} ? -1 : 1) * `:"",v=c?`(${c} + ${p})`:p;return{signal:m+g+v}}else return i=i||0,r+(n?-i-l:+i+l)}function n7t({fieldDef:e,fieldDef2:t,channel:n,model:r}){var R;const{config:i,markDef:s,encoding:o}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),d=t4e({channel:n,fieldDef:e,markDef:s,config:i,scaleType:u}),f=(R=r.component.axes[n])==null?void 0:R[0],h=(f==null?void 0:f.get("translate"))??.5,p=us(n)?Jr("binSpacing",s,i)??0:0,m=Uh(n),g=yg(n),v=yg(m),y=vh("minBandSize",s,i),{offset:w}=p_({channel:n,markDef:s,encoding:o,model:r,bandPosition:0}),{offset:E}=p_({channel:m,markDef:s,encoding:o,model:r,bandPosition:0}),C=Sjt({fieldDef:e,scaleName:l}),S=Mpe(n,p,c,h,w,y,C),T=Mpe(m,p,c,h,E??w,y,C),k=Jt(d)?{signal:`(1-${d.signal})/2`}:f1(d)?(1-d.band)/2:.5,I=vg({fieldDef:e,fieldDef2:t,markDef:s,config:i});if(fi(e.bin)||e.timeUnit){const O=e.timeUnit&&I!==.5;return{[v]:Fpe({fieldDef:e,scaleName:l,bandPosition:k,offset:T,useRectOffsetField:O}),[g]:Fpe({fieldDef:e,scaleName:l,bandPosition:Jt(k)?{signal:`1-${k.signal}`}:1-k,offset:S,useRectOffsetField:O})}}else if(Do(e.bin)){const O=Rv(e,l,{},{offset:T});if(bt(t))return{[v]:O,[g]:Rv(t,l,{},{offset:S})};if(K1(e.bin)&&e.bin.step)return{[v]:O,[g]:{signal:`scale("${l}", ${It(e,{expr:"datum"})} + ${e.bin.step})`,offset:S}}}yt(_Oe(m))}function Fpe({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return G4({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:Z5,endSuffix:eM}:{}})}const r7t=new Set(["aria","width","height"]);function Sc(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?lNe(e):{};return{...i7t(e.markDef,t),...Lpe("fill",n),...Lpe("stroke",r),...Mo("opacity",e),...Mo("fillOpacity",e),...Mo("strokeOpacity",e),...Mo("strokeWidth",e),...Mo("strokeDash",e),...YBt(e),...oNe(e),...gee(e,"href"),...VBt(e)}}function Lpe(e,t){return t?{[e]:t}:{}}function i7t(e,t){return hFt.reduce((n,r)=>(!r7t.has(r)&&pt(e,r)&&t[r]!=="ignore"&&(n[r]=vi(e[r])),n),{})}function vee(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,s)=>{var u;let o;if(!qh(s)||!(o=e.getScaleType(s)))return;const a=N5(i.aggregate),l=GZ({scaleChannel:s,markDef:n,config:t,scaleType:o,isCountAggregate:a});if(_jt(l)){const c=e.vgField(s,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(s=>L5(s,!0)).join(" && ")}}}function jpe(e,t){if(t!==void 0)return{[e]:vi(t)}}const aB="voronoi",dNe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(aB)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,s=e.mark;if(Xg(s))return yt(bFt(s)),n;const o={name:e.getName(aB),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...oNe(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const d=u.name??"";d===e.component.mark[0].name?a=c:d.includes(aB)&&(l=!0)}),l||n.splice(a+1,0,o),n}},fNe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!lee(e.bind),parse:(e,t,n)=>wNe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,s=t.bind,o=t.init&&t.init[0],a=dNe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=Ai(`${r}_${l.field}`);n.filter(f=>f.name===c).length||n.unshift({name:c,...o?{init:p1(o[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${Et(l.field)}] : null`}]:[],bind:s[l.field]??s[l.channel]??s})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(u=>u.name===r+cm),o=r+cA,a=i.items.map(u=>Ai(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(s.update=`${l} ? {fields: ${o}, values: [${a.join(", ")}]} : null`),delete s.value,delete s.on,n}},tN="_toggle",hNe={defined:e=>e.type==="point"&&!oh(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+tN,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+cm,r=t.name+tN;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Pv(e)}}, `)+`${r} ? ${n} : null`}},s7t={defined:e=>e.clear!==void 0&&e.clear!==!1&&!oh(e),parse:(e,t)=>{t.clear&&(t.clear=Ft(t.clear)?Ug(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(fNe.defined(t))for(const r of t.project.items){const i=n.findIndex(s=>s.name===Ai(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,s){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:s})}if(t.type==="interval")for(const i of t.project.items){const s=n.findIndex(o=>o.name===i.signals.visual);if(r(s,"[0, 0]"),s===-1){const o=n.findIndex(a=>a.name===i.signals.data);r(o,"null")}}else{let i=n.findIndex(s=>s.name===t.name+cm);r(i,"null"),hNe.defined(t)&&(i=n.findIndex(s=>s.name===t.name+tN),r(i,"false"))}return n}},pNe={defined:e=>{const t=e.resolve==="global"&&e.bind&&lee(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Fd;return t&&!n&&yt(EFt),t&&n},parse:(e,t,n)=>{const r=Cn(n);if(r.select=Ft(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},wNe(t,r),Mt(n.select)&&(n.select.on||n.select.clear)){const o='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=$t(a.filter??[]),a.filter.includes(o)||a.filter.push(o)}const i=tB(t.bind)?t.bind.legend:"click",s=Ft(i)?Ug(i,"view"):$t(i);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=tB(t.bind)&&t.bind.legend,s=o=>a=>{const l=Cn(a);return l.markname=o,l};for(const o of t.project.items){if(!o.hasLegend)continue;const a=`${Ai(o.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(s(`${a}_symbols`)).concat(i.merge.map(s(`${a}_labels`))).concat(i.merge.map(s(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(f=>f.name===r+cm),o=r+cA,a=i.items.filter(f=>f.hasLegend).map(f=>Ai(`${r}_${Ai(f.field)}_legend`)),u=`${a.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${o}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?s.on.push({events:a.map(f=>({signal:f})),update:u}):a.length>0&&(s.update=u,delete s.value,delete s.on);const c=n.find(f=>f.name===r+tN),d=tB(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:d}):c.on[0].events=d),n}};function o7t(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const s of qo(e.component.selection??{})){const o=s.project.hasField[r]??s.project.hasChannel[t];if(o&&pNe.defined(s)){const a=n.get("selections")??[];a.push(s.name),n.set("selections",a,!1),o.hasLegend=!0}}}const mNe="_translate_anchor",gNe="_translate_delta",a7t={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Wp.defined(t),s=r+mNe,{x:o,y:a}=t.project.hasChannel;let l=Ug(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+px,u))),n.push({name:s,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(o!==void 0?`, extent_x: ${i?_H(e,Ri):`slice(${o.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?_H(e,bo):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+gNe,value:{},on:[{events:l,update:`{x: ${s}.x - x(unit), y: ${s}.y - y(unit)}`}]}),o!==void 0&&Bpe(e,t,o,"width",n),a!==void 0&&Bpe(e,t,a,"height",n),n}};function Bpe(e,t,n,r,i){const s=t.name,o=s+mNe,a=s+gNe,l=n.channel,u=Wp.defined(t),c=i.find(C=>C.name===n.signals[u?"data":"visual"]),d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(l),h=f&&f.get("type"),p=f&&f.get("reverse"),m=u?l===Ri?p?"":"-":p?"-":"":"",g=`${o}.extent_${l}`,v=`${m}${a}.${l} / ${u?`${d}`:`span(${g})`}`,y=!u||!f?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",w=u?h==="pow"?`, ${f.get("exponent")??1}`:h==="symlog"?`, ${f.get("constant")??1}`:"":"",E=`${y}(${g}, ${v}${w})`;c.on.push({events:{signal:a},update:u?E:`clampRange(${E}, 0, ${d})`})}const yNe="_zoom_anchor",vNe="_zoom_delta",l7t={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Wp.defined(t),s=r+vNe,{x:o,y:a}=t.project.hasChannel,l=Et(e.scaleName(Ri)),u=Et(e.scaleName(bo));let c=Ug(t.zoom,"scope");return i||(c=c.map(d=>(d.markname=r+px,d))),n.push({name:r+yNe,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:s,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),o!==void 0&&zpe(e,t,o,"width",n),a!==void 0&&zpe(e,t,a,"height",n),n}};function zpe(e,t,n,r,i){const s=t.name,o=n.channel,a=Wp.defined(t),l=i.find(y=>y.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(o),d=c&&c.get("type"),f=a?_H(e,o):l.name,h=s+vNe,p=`${s}${yNe}.${o}`,m=!a||!c?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",g=a?d==="pow"?`, ${c.get("exponent")??1}`:d==="symlog"?`, ${c.get("constant")??1}`:"":"",v=`${m}(${f}, ${p}, ${h}${g})`;l.on.push({events:{signal:h},update:a?v:`clampRange(${v}, 0, ${u})`})}const m1="_store",cm="_tuple",u7t="_modify",bNe="vlSelectionResolve",nM=[$Bt,qBt,PBt,hNe,fNe,Wp,pNe,s7t,a7t,l7t,dNe];function c7t(e){let t=e.parent;for(;t&&!du(t);)t=t.parent;return t}function Pv(e,{escape:t}={escape:!0}){let n=t?Et(e.name):e.name;const r=c7t(e);if(r){const{facet:i}=r;for(const s of Qu)i[s]&&(n+=` + '__facet_${s}_' + (facet[${Et(r.vgField(s))}])`)}return n}function bee(e){return qo(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function wNe(e,t){(Ft(t.select)||!t.select.on)&&delete e.events,(Ft(t.select)||!t.select.clear)&&delete e.clear,(Ft(t.select)||!t.select.toggle)&&delete e.toggle}function oh(e){var t;return(t=e.events)==null?void 0:t.find(n=>"type"in n&&n.type==="timer")}const d7t="RawCode",f7t="Literal",h7t="Property",p7t="Identifier",m7t="ArrayExpression",g7t="BinaryExpression",y7t="CallExpression",v7t="ConditionalExpression",b7t="LogicalExpression",w7t="MemberExpression",x7t="ObjectExpression",_7t="UnaryExpression";function sf(e){this.type=e}sf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=E7t(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function E7t(e){switch(e.type){case m7t:return e.elements;case g7t:case b7t:return[e.left,e.right];case y7t:return[e.callee].concat(e.arguments);case v7t:return[e.test,e.consequent,e.alternate];case w7t:return[e.object,e.property];case x7t:return e.properties;case h7t:return[e.key,e.value];case _7t:return[e.argument];case p7t:case f7t:case d7t:default:return[]}}var Vh,Xt,Ze,ga,Gr,rM=1,dA=2,g1=3,Qg=4,iM=5,eb=6,El=7,fA=8,C7t=9;Vh={};Vh[rM]="Boolean";Vh[dA]="<end>";Vh[g1]="Identifier";Vh[Qg]="Keyword";Vh[iM]="Null";Vh[eb]="Numeric";Vh[El]="Punctuator";Vh[fA]="String";Vh[C7t]="RegularExpression";var S7t="ArrayExpression",T7t="BinaryExpression",k7t="CallExpression",A7t="ConditionalExpression",xNe="Identifier",I7t="Literal",R7t="LogicalExpression",D7t="MemberExpression",P7t="ObjectExpression",O7t="Property",N7t="UnaryExpression",ho="Unexpected token %0",$7t="Unexpected number",M7t="Unexpected string",F7t="Unexpected identifier",L7t="Unexpected reserved word",j7t="Unexpected end of input",CH="Invalid regular expression",lB="Invalid regular expression: missing /",_Ne="Octal literals are not allowed in strict mode.",B7t="Duplicate data property in object literal not allowed in strict mode",Bo="ILLEGAL",CT="Disabled.",z7t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),U7t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function sM(e,t){if(!e)throw new Error("ASSERT: "+t)}function vp(e){return e>=48&&e<=57}function wee(e){return"0123456789abcdefABCDEF".includes(e)}function d2(e){return"01234567".includes(e)}function q7t(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function ST(e){return e===10||e===13||e===8232||e===8233}function hA(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&z7t.test(String.fromCharCode(e))}function nN(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&U7t.test(String.fromCharCode(e))}const H7t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function ENe(){for(;Ze<ga;){const e=Xt.charCodeAt(Ze);if(q7t(e)||ST(e))++Ze;else break}}function SH(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Ze<ga&&wee(Xt[Ze])?(r=Xt[Ze++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Cr({},ho,Bo);return String.fromCharCode(i)}function V7t(){var e,t,n,r;for(e=Xt[Ze],t=0,e==="}"&&Cr({},ho,Bo);Ze<ga&&(e=Xt[Ze++],!!wee(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Cr({},ho,Bo),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function CNe(){var e,t;for(e=Xt.charCodeAt(Ze++),t=String.fromCharCode(e),e===92&&(Xt.charCodeAt(Ze)!==117&&Cr({},ho,Bo),++Ze,e=SH("u"),(!e||e==="\\"||!hA(e.charCodeAt(0)))&&Cr({},ho,Bo),t=e);Ze<ga&&(e=Xt.charCodeAt(Ze),!!nN(e));)++Ze,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Xt.charCodeAt(Ze)!==117&&Cr({},ho,Bo),++Ze,e=SH("u"),(!e||e==="\\"||!nN(e.charCodeAt(0)))&&Cr({},ho,Bo),t+=e);return t}function W7t(){var e,t;for(e=Ze++;Ze<ga;){if(t=Xt.charCodeAt(Ze),t===92)return Ze=e,CNe();if(nN(t))++Ze;else break}return Xt.slice(e,Ze)}function G7t(){var e,t,n;return e=Ze,t=Xt.charCodeAt(Ze)===92?CNe():W7t(),t.length===1?n=g1:H7t.hasOwnProperty(t)?n=Qg:t==="null"?n=iM:t==="true"||t==="false"?n=rM:n=g1,{type:n,value:t,start:e,end:Ze}}function uB(){var e=Ze,t=Xt.charCodeAt(Ze),n,r=Xt[Ze],i,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ze,{type:El,value:String.fromCharCode(t),start:e,end:Ze};default:if(n=Xt.charCodeAt(Ze+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ze+=2,{type:El,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Ze};case 33:case 61:return Ze+=2,Xt.charCodeAt(Ze)===61&&++Ze,{type:El,value:Xt.slice(e,Ze),start:e,end:Ze}}}if(o=Xt.substr(Ze,4),o===">>>=")return Ze+=4,{type:El,value:o,start:e,end:Ze};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return Ze+=3,{type:El,value:s,start:e,end:Ze};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Ze+=2,{type:El,value:i,start:e,end:Ze};if(i==="//"&&Cr({},ho,Bo),"<>=!+-*%&|^/".includes(r))return++Ze,{type:El,value:r,start:e,end:Ze};Cr({},ho,Bo)}function Y7t(e){let t="";for(;Ze<ga&&wee(Xt[Ze]);)t+=Xt[Ze++];return t.length===0&&Cr({},ho,Bo),hA(Xt.charCodeAt(Ze))&&Cr({},ho,Bo),{type:eb,value:parseInt("0x"+t,16),start:e,end:Ze}}function K7t(e){let t="0"+Xt[Ze++];for(;Ze<ga&&d2(Xt[Ze]);)t+=Xt[Ze++];return(hA(Xt.charCodeAt(Ze))||vp(Xt.charCodeAt(Ze)))&&Cr({},ho,Bo),{type:eb,value:parseInt(t,8),octal:!0,start:e,end:Ze}}function Upe(){var e,t,n;if(n=Xt[Ze],sM(vp(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Ze,e="",n!=="."){if(e=Xt[Ze++],n=Xt[Ze],e==="0"){if(n==="x"||n==="X")return++Ze,Y7t(t);if(d2(n))return K7t(t);n&&vp(n.charCodeAt(0))&&Cr({},ho,Bo)}for(;vp(Xt.charCodeAt(Ze));)e+=Xt[Ze++];n=Xt[Ze]}if(n==="."){for(e+=Xt[Ze++];vp(Xt.charCodeAt(Ze));)e+=Xt[Ze++];n=Xt[Ze]}if(n==="e"||n==="E")if(e+=Xt[Ze++],n=Xt[Ze],(n==="+"||n==="-")&&(e+=Xt[Ze++]),vp(Xt.charCodeAt(Ze)))for(;vp(Xt.charCodeAt(Ze));)e+=Xt[Ze++];else Cr({},ho,Bo);return hA(Xt.charCodeAt(Ze))&&Cr({},ho,Bo),{type:eb,value:parseFloat(e),start:t,end:Ze}}function X7t(){var e="",t,n,r,i,s=!1;for(t=Xt[Ze],sM(t==="'"||t==='"',"String literal must starts with a quote"),n=Ze,++Ze;Ze<ga;)if(r=Xt[Ze++],r===t){t="";break}else if(r==="\\")if(r=Xt[Ze++],!r||!ST(r.charCodeAt(0)))switch(r){case"u":case"x":Xt[Ze]==="{"?(++Ze,e+=V7t()):e+=SH(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:d2(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),Ze<ga&&d2(Xt[Ze])&&(s=!0,i=i*8+"01234567".indexOf(Xt[Ze++]),"0123".includes(r)&&Ze<ga&&d2(Xt[Ze])&&(i=i*8+"01234567".indexOf(Xt[Ze++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Xt[Ze]===`
`&&++Ze;else{if(ST(r.charCodeAt(0)))break;e+=r}return t!==""&&Cr({},ho,Bo),{type:fA,value:e,octal:s,start:n,end:Ze}}function Q7t(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Cr({},CH)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Cr({},CH)}try{return new RegExp(e,t)}catch{return null}}function J7t(){var e,t,n,r,i;for(e=Xt[Ze],sM(e==="/","Regular expression literal must start with a slash"),t=Xt[Ze++],n=!1,r=!1;Ze<ga;)if(e=Xt[Ze++],t+=e,e==="\\")e=Xt[Ze++],ST(e.charCodeAt(0))&&Cr({},lB),t+=e;else if(ST(e.charCodeAt(0)))Cr({},lB);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Cr({},lB),i=t.substr(1,t.length-2),{value:i,literal:t}}function Z7t(){var e,t,n;for(t="",n="";Ze<ga&&(e=Xt[Ze],!!nN(e.charCodeAt(0)));)++Ze,e==="\\"&&Ze<ga?Cr({},ho,Bo):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Cr({},CH,n),{value:n,literal:t}}function ezt(){var e,t,n,r;return Gr=null,ENe(),e=Ze,t=J7t(),n=Z7t(),r=Q7t(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ze}}function tzt(e){return e.type===g1||e.type===Qg||e.type===rM||e.type===iM}function SNe(){if(ENe(),Ze>=ga)return{type:dA,start:Ze,end:Ze};const e=Xt.charCodeAt(Ze);return hA(e)?G7t():e===40||e===41||e===59?uB():e===39||e===34?X7t():e===46?vp(Xt.charCodeAt(Ze+1))?Upe():uB():vp(e)?Upe():uB()}function Tl(){const e=Gr;return Ze=e.end,Gr=SNe(),Ze=e.end,e}function TNe(){const e=Ze;Gr=SNe(),Ze=e}function nzt(e){const t=new sf(S7t);return t.elements=e,t}function qpe(e,t,n){const r=new sf(e==="||"||e==="&&"?R7t:T7t);return r.operator=e,r.left=t,r.right=n,r}function rzt(e,t){const n=new sf(k7t);return n.callee=e,n.arguments=t,n}function izt(e,t,n){const r=new sf(A7t);return r.test=e,r.consequent=t,r.alternate=n,r}function xee(e){const t=new sf(xNe);return t.name=e,t}function IS(e){const t=new sf(I7t);return t.value=e.value,t.raw=Xt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Hpe(e,t,n){const r=new sf(D7t);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function szt(e){const t=new sf(P7t);return t.properties=e,t}function Vpe(e,t,n){const r=new sf(O7t);return r.key=t,r.value=n,r.kind=e,r}function ozt(e,t){const n=new sf(N7t);return n.operator=e,n.argument=t,n.prefix=!0,n}function Cr(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,o)=>(sM(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=Ze,n.description=i,n}function oM(e){e.type===dA&&Cr(e,j7t),e.type===eb&&Cr(e,$7t),e.type===fA&&Cr(e,M7t),e.type===g1&&Cr(e,F7t),e.type===Qg&&Cr(e,L7t),Cr(e,ho,e.value)}function ya(e){const t=Tl();(t.type!==El||t.value!==e)&&oM(t)}function bi(e){return Gr.type===El&&Gr.value===e}function cB(e){return Gr.type===Qg&&Gr.value===e}function azt(){const e=[];for(Ze=Gr.start,ya("[");!bi("]");)bi(",")?(Tl(),e.push(null)):(e.push(y1()),bi("]")||ya(","));return Tl(),nzt(e)}function Wpe(){Ze=Gr.start;const e=Tl();return e.type===fA||e.type===eb?(e.octal&&Cr(e,_Ne),IS(e)):xee(e.value)}function lzt(){var e,t,n,r;if(Ze=Gr.start,e=Gr,e.type===g1)return n=Wpe(),ya(":"),r=y1(),Vpe("init",n,r);if(e.type===dA||e.type===El)oM(e);else return t=Wpe(),ya(":"),r=y1(),Vpe("init",t,r)}function uzt(){var e=[],t,n,r,i={},s=String;for(Ze=Gr.start,ya("{");!bi("}");)t=lzt(),t.key.type===xNe?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Cr({},B7t):i[r]=!0,e.push(t),bi("}")||ya(",");return ya("}"),szt(e)}function czt(){ya("(");const e=_ee();return ya(")"),e}const dzt={if:1};function fzt(){var e,t,n;if(bi("("))return czt();if(bi("["))return azt();if(bi("{"))return uzt();if(e=Gr.type,Ze=Gr.start,e===g1||dzt[Gr.value])n=xee(Tl().value);else if(e===fA||e===eb)Gr.octal&&Cr(Gr,_Ne),n=IS(Tl());else{if(e===Qg)throw new Error(CT);e===rM?(t=Tl(),t.value=t.value==="true",n=IS(t)):e===iM?(t=Tl(),t.value=null,n=IS(t)):bi("/")||bi("/=")?(n=IS(ezt()),TNe()):oM(Tl())}return n}function hzt(){const e=[];if(ya("("),!bi(")"))for(;Ze<ga&&(e.push(y1()),!bi(")"));)ya(",");return ya(")"),e}function pzt(){Ze=Gr.start;const e=Tl();return tzt(e)||oM(e),xee(e.value)}function mzt(){return ya("."),pzt()}function gzt(){ya("[");const e=_ee();return ya("]"),e}function yzt(){var e,t,n;for(e=fzt();;)if(bi("."))n=mzt(),e=Hpe(".",e,n);else if(bi("("))t=hzt(),e=rzt(e,t);else if(bi("["))n=gzt(),e=Hpe("[",e,n);else break;return e}function Gpe(){const e=yzt();if(Gr.type===El&&(bi("++")||bi("--")))throw new Error(CT);return e}function vP(){var e,t;if(Gr.type!==El&&Gr.type!==Qg)t=Gpe();else{if(bi("++")||bi("--"))throw new Error(CT);if(bi("+")||bi("-")||bi("~")||bi("!"))e=Tl(),t=vP(),t=ozt(e.value,t);else{if(cB("delete")||cB("void")||cB("typeof"))throw new Error(CT);t=Gpe()}}return t}function Ype(e){let t=0;if(e.type!==El&&e.type!==Qg)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function vzt(){var e,t,n,r,i,s,o,a,l,u;if(e=Gr,l=vP(),r=Gr,i=Ype(r),i===0)return l;for(r.prec=i,Tl(),t=[e,Gr],o=vP(),s=[l,r,o];(i=Ype(Gr))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,l=s.pop(),t.pop(),n=qpe(a,l,o),s.push(n);r=Tl(),r.prec=i,s.push(r),t.push(Gr),n=vP(),s.push(n)}for(u=s.length-1,n=s[u],t.pop();u>1;)t.pop(),n=qpe(s[u-1].value,s[u-2],n),u-=2;return n}function y1(){var e,t,n;return e=vzt(),bi("?")&&(Tl(),t=y1(),ya(":"),n=y1(),e=izt(e,t,n)),e}function _ee(){const e=y1();if(bi(","))throw new Error(CT);return e}function bzt(e){Xt=e,Ze=0,ga=Xt.length,Gr=null,TNe();const t=_ee();if(Gr.type!==dA)throw new Error("Unexpect token after expression.");return t}function TH(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...TH(e.object)),t.push(...TH(e.property))),t)}function kNe(e){return e.object.type==="MemberExpression"?kNe(e.object):e.object.name==="datum"}function ANe(e){const t=bzt(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&kNe(r)&&n.add(TH(r).slice(1).join("."))}),n}class gE extends Yr{clone(){return new gE(null,this.model,Cn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=rN(this.model,this.filter,this),this._dependentFields=ANe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function wzt(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const s of t){const o=Ai(s.name),a=s.select,l=Ft(a)?a:a.type,u=Mt(a)?Cn(a):{type:l},c=r[l];for(const h in c)h==="fields"||h==="encodings"||(h==="mark"&&(u.mark={...c.mark,...u.mark}),(u[h]===void 0||u[h]===!0)&&(u[h]=Cn(c[h]??u[h])));const d=n[o]={...u,name:o,type:l,init:s.value,bind:s.bind,events:Ft(u.on)?Ug(u.on,"scope"):$t(Cn(u.on))};if(oh(d)&&(i++,i>1)){delete n[o];continue}const f=Cn(s);for(const h of nM)h.defined(d)&&h.parse&&h.parse(e,d,f)}return i>1&&yt(IFt),n}function INe(e,t,n,r="datum"){const i=Ft(t)?t:t.param,s=Ai(i),o=Et(s+m1);let a;try{a=e.getSelectionComponent(s,i)}catch{return`!!${s}`}if(a.project.timeUnit){const f=n??e.component.data.raw,h=a.project.timeUnit.clone();f.parent?h.insertAsParentOf(f):f.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${Et(a.resolve)})`,c=`${l}${o}, ${r}${u}`,d=`length(data(${o}))`;return t.empty===!1?`${d} && ${c}`:`!${d} || ${c}`}function RNe(e,t,n){const r=Ai(t),i=n.encoding;let s=n.field,o;try{o=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!s)s=o.project.items[0].field,o.project.items.length>1&&yt(RFt(s));else if(i&&!s){const a=o.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(s=o.project.items[0].field,yt(DFt(a,i,n,s))):s=a[0].field}return`${o.name}[${Et(dc(s))}]`}function xzt(e,t){for(const[n,r]of gg(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new $l(new gE(t,e,{param:n}),i,Fi.Lookup,e.component.data.outputNodeRefCounts)}}function rN(e,t,n){return u2(t,r=>Ft(r)?r:BLt(r)?INe(e,r,n):NOe(r))}function _zt(e,t){if(e)return nt(e)&&!v0(e)?e.map(n=>eee(n,t)).join(", "):e}function dB(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function RS(e,t,n,r={header:!1}){var d,f;const{disable:i,orient:s,scale:o,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const h in c){const p=h,m=Vjt[p],g=c[p];if(m&&m!==t&&m!=="both")delete c[p];else if(uA(g)){const{condition:v,...y}=g,w=$t(v),E=mpe[p];if(E){const{vgProp:C,part:S}=E,T=[...w.map(k=>{const{test:I,...R}=k;return{test:rN(null,I),...R}}),y];dB(c,S,C,T),delete c[p]}else if(E===null){const C={signal:w.map(S=>{const{test:T,...k}=S;return`${rN(null,T)} ? ${Zhe(k)} : `}).join("")+Zhe(y)};c[p]=C}}else if(Jt(g)){const v=mpe[p];if(v){const{vgProp:y,part:w}=v;dB(c,w,y,g),delete c[p]}}Wn(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},Zr(c.encode)&&delete c.encode}return{scale:o,orient:s,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:ls(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(f=(d=c.encode)==null?void 0:d.labels)!=null&&f.update&&Jt(c.encode.labels.update.text)&&(p=a1(a,"datum.label",c.encode.labels.update.text.signal)),dB(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of d4e)e.hasAxisPart(p)||delete c.encode[p];Zr(c.encode)&&delete c.encode}const h=_zt(l,n);return{scale:o,orient:s,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:ls(u,0)}}}}function DNe(e){const{axes:t}=e.component,n=[];for(const r of Im)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const s=r==="x"?"height":"width",o=e.getSizeSignalRef(s).signal;s!==o&&n.push({name:s,update:o})}}return n}function Ezt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>RS(i,"grid",t)),...r.map(i=>RS(i,"grid",t)),...n.map(i=>RS(i,"main",t)),...r.map(i=>RS(i,"main",t))].filter(i=>i)}function Kpe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const s=n==="x"?"bottom":"left",o=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...ht(o),...ht(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${s}" ? ${fd(o[c])} : ${fd(a[c])}`};return u}return t[i]})])}function Czt(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:LOe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],s=e==="x"?"axisX":"axisY",o=Jt(n)?"axisOrient":`axis${Jk(n)}`,a=[...i,...i.map(u=>s+u.substr(4))],l=["axis",o,s];return{vlOnlyAxisConfig:Kpe(a,r,e,n),vgAxisConfig:Kpe(l,r,e,n),axisConfigStyle:Szt([...l,...a],r)}}function Szt(e,t){var r;const n=[{}];for(const i of e){let s=(r=t[i])==null?void 0:r.style;if(s){s=$t(s);for(const o of s)n.push(t.style[o])}}return Object.assign.apply(null,n)}function kH(e,t,n,r={}){var s;const i=fOe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((s=r[o])==null?void 0:s[e])!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const Xpe={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??Tzt(n,e),gridScale:({model:e,channel:t})=>kzt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||ONe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||PNe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??Izt(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??Rzt(t.type,n,bt(t)&&!!t.timeUnit,bt(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const s=e==="x"?"width":e==="y"?"height":void 0,o=s?t.getSizeSignalRef(s):void 0;return n.tickCount??Pzt({fieldOrDatumDef:r,scaleType:i,size:o,values:n.values})},tickMinStep:Ozt,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=NNe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),s=n==="x"?"x2":"y2",o=t.fieldDef(s);return pOe(i?[hpe(i)]:[],bt(o)?[hpe(o)]:[])},values:({axis:e,fieldOrDatumDef:t})=>Nzt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??$zt(n,t)};function Tzt(e,t){return!mo(e)&&bt(t)&&!fi(t==null?void 0:t.bin)&&!Do(t==null?void 0:t.bin)}function kzt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function Azt(e,t,n,r,i){const s=t==null?void 0:t.labelAngle;if(s!==void 0)return Jt(s)?s:xT(s);{const{configValue:o}=kH("labelAngle",r,t==null?void 0:t.style,i);return o!==void 0?xT(o):n===Ri&&Wn([UZ,zZ],e.type)&&!(bt(e)&&e.timeUnit)?270:void 0}}function AH(e){return`(((${e.signal} % 360) + 360) % 360)`}function PNe(e,t,n,r){if(e!==void 0)if(n==="x"){if(Jt(e)){const i=AH(e),s=Jt(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${s} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Jt(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Jt(e)){const i=AH(e),s=Jt(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${s} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Jt(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function ONe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,s=r?"bottom":"left";if(Jt(e)){const o=AH(e),a=Jt(t)?`(${t.signal} === "${s}")`:t===s;return{signal:`(${i?`(${o} + 90)`:o} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${o} && ${o} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Jt(t)){const o=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${o} "${s}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===s)?"left":"right"}function Izt(e,t){if(t==="x"&&Wn(["quantitative","temporal"],e))return!0}function Rzt(e,t,n,r){if(n&&!Mt(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function Dzt(e){return e==="x"?"bottom":"left"}function Pzt({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!mo(t)&&t!=="log"){if(bt(e)){if(fi(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Wn(["month","hours","day","quarter"],(i=po(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function Ozt({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(bt(t)){const{timeUnit:n}=t;if(n){const r=DOe(n);if(r)return{signal:r}}}}function NNe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),s=r?r.title:void 0,o=i?i.title:void 0;if(s&&o)return mOe(s,o);if(s)return s;if(o)return o;if(s!==void 0)return s;if(o!==void 0)return o}function Nzt(e,t){const n=e.values;if(nt(n))return c4e(t,n);if(Jt(n))return n}function $zt(e,t){return e==="rect"&&K4(t)?1:0}class m_ extends Yr{clone(){return new m_(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=ANe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(Z1(r)&&e4e(r.sort)){const{field:s,timeUnit:o}=r,a=r.sort,l=a.map((u,c)=>`${NOe({field:s,timeUnit:o,equal:u})} ? ${c} : `).join("")+a.length;t=new m_(t,{calculate:l,as:g_(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${nr(this.transform)}`}}function g_(e,t,n){return It(e,{prefix:t,suffix:"sort_index",...n})}function aM(e,t){return Wn(["top","bottom"],t)?"column":Wn(["left","right"],t)||e==="row"?"row":"column"}function y_(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return ls((t||{})[e],i[e],n.header[e])}function lM(e,t,n,r){const i={};for(const s of e){const o=y_(s,t||{},n,r);o!==void 0&&(i[s]=o)}return i}const Eee=["row","column"],Cee=["header","footer"];function Mzt(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:s,titleAngle:o,titleOrient:a}=lM(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=aM(t,a),u=xT(o);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...MNe(u,l),...$Ne(l,u,s),...FNe(r,i,t,h9t,I4e)}}}function $Ne(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=ONe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function MNe(e,t){const n=PNe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function Fzt(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of Cee)if(n[i])for(const s of n[i]){const o=jzt(e,t,i,n,s);o!=null&&r.push(o)}return r}function Lzt(e,t){const{sort:n}=e;return Vp(n)?{field:It(n,{expr:"datum"}),order:n.order??"ascending"}:nt(n)?{field:g_(e,t,{expr:"datum"}),order:"ascending"}:{field:It(e,{expr:"datum"}),order:n??"ascending"}}function IH(e,t,n){const{format:r,formatType:i,labelAngle:s,labelAnchor:o,labelOrient:a,labelExpr:l}=lM(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=XZ({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=aM(t,a);return{text:{signal:l?a1(a1(l,"datum.label",u),"datum.value",It(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...MNe(s,c),...$Ne(c,s,o),...FNe(n,e,t,p9t,R4e)}}function jzt(e,t,n,r,i){if(i){let s=null;const{facetFieldDef:o}=r,a=e.config?e.config:void 0;if(o&&i.labels){const{labelOrient:d}=lM(["labelOrient"],o.header,a,t);(t==="row"&&!Wn(["top","bottom"],d)||t==="column"&&!Wn(["left","right"],d))&&(s=IH(o,t,a))}const l=du(e)&&!sA(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(s||c){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:Lzt(o,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...s?{title:s}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const Bzt={column:{start:0,end:1},row:{start:1,end:0}};function zzt(e,t){return Bzt[t][e]}function Uzt(e,t){const n={};for(const r of Qu){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:s,titleOrient:o}=lM(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=aM(r,o),l=zzt(s,a);l!==void 0&&(n[a]=l)}}return Zr(n)?void 0:n}function FNe(e,t,n,r,i){const s={};for(const o of r){if(!i[o])continue;const a=y_(o,t==null?void 0:t.header,e,n);a!==void 0&&(s[i[o]]=a)}return s}function See(e){return[...TR(e,"width"),...TR(e,"height"),...TR(e,"childWidth"),...TR(e,"childHeight")]}function TR(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const s=e.getScaleComponent(n);if(s){const o=s.get("type"),a=s.get("range");if(mo(o)&&X1(a)){const l=e.scaleName(n);return du(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[Qpe(l,a)]:[Qpe(l,a),{name:i,update:LNe(l,s,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const s=i.endsWith("width"),o=s?"containerSize()[0]":"containerSize()[1]",a=gH(e.config.view,s?"width":"height"),l=`isFinite(${o}) ? ${o} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function Qpe(e,t){const n=`${e}_step`;return Jt(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function LNe(e,t,n){const r=t.get("type"),i=t.get("padding"),s=ls(t.get("paddingOuter"),i);let o=t.get("paddingInner");return o=r==="band"?o!==void 0?o:i:1,`bandspace(${n}, ${fd(o)}, ${fd(s)}) * ${e}_step`}function jNe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function BNe(e,t){return ht(e).reduce((n,r)=>({...n,...mE({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>vi(i.value),invalidValueRef:void 0})}),{})}function zNe(e,t){if(du(t))return e==="theta"?"independent":"shared";if(bE(t))return"shared";if(Pee(t))return us(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function Tee(e,t){const n=e.scale[t],r=us(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&yt(lLt(t)),"independent"):e[r][t]||"shared"}const qzt={...y9t,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},UNe=ht(qzt);class Hzt extends Dm{}const Jpe={symbols:Vzt,gradient:Wzt,labels:Gzt,entries:Yzt};function Vzt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:s}){if(s!=="symbol")return;const{markDef:o,encoding:a,config:l,mark:u}=n,c=o.filled&&u!=="trail";let d={...gFt({},n,fjt),...lNe(n,{filled:c})};const f=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,m=f===void 0?qNe(a.opacity)??o.opacity:void 0;if(d.fill){if(r==="fill"||c&&r===Bl)delete d.fill;else if(pt(d.fill,"field"))h?delete d.fill:(d.fill=vi(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=vi(m??1));else if(nt(d.fill)){const g=RH(a.fill??a.color)??o.fill??(c&&o.color);g&&(d.fill=vi(g))}}if(d.stroke){if(r==="stroke"||!c&&r===Bl)delete d.stroke;else if(pt(d.stroke,"field")||p)delete d.stroke;else if(nt(d.stroke)){const g=ls(RH(a.stroke||a.color),o.stroke,c?o.color:void 0);g&&(d.stroke={value:g})}}if(r!==Am){const g=bt(t)&&VNe(n,i,t);g?d.opacity=[{test:g,...vi(m??1)},vi(l.legend.unselectedOpacity)]:m&&(d.opacity=vi(m))}return d={...d,...e},Zr(d)?void 0:d}function Wzt(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:s,encoding:o}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?qNe(o.opacity)||s.opacity:void 0;return u&&(a.opacity=vi(u)),a={...a,...e},Zr(a)?void 0:a}function Gzt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const s=n.legend(r)||{},o=n.config,a=bt(t)?VNe(n,i,t):void 0,l=a?[{test:a,value:1},{value:o.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=s;let d;h1(c)?d=hd({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:o}):u===void 0&&c===void 0&&o.customFormatTypes&&(t.type==="quantitative"&&o.numberFormatType?d=hd({fieldOrDatumDef:t,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}):t.type==="temporal"&&o.timeFormatType&&bt(t)&&t.timeUnit===void 0&&(d=hd({fieldOrDatumDef:t,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})));const f={...l?{opacity:l}:{},...d?{text:d}:{},...e};return Zr(f)?void 0:f}function Yzt(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function qNe(e){return HNe(e,(t,n)=>Math.max(t,n.value))}function RH(e){return HNe(e,(t,n)=>ls(t,n.value))}function HNe(e,t){if(Ojt(e))return $t(e.condition).reduce(t,e.value);if($d(e))return e.value}function VNe(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=Et(n.field);return r.map(s=>`(!length(data(${Et(Ai(s)+m1)})) || (${s}[${i}] && indexof(${s}[${i}], datum.value) >= 0))`).join(" || ")}const Zpe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return QOe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return JOe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??tUt(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??nUt(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??Xzt(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>hx(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(fx(n)&&Vf(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>Kzt(t,e)};function Kzt(e,t){const n=e.values;if(nt(n))return c4e(t,n);if(Jt(n))return n}function Xzt(e,t,n,r){if(t!=="shape"){const i=RH(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function Qzt(e){const{legend:t}=e;return ls(t.type,Jzt(e))}function Jzt({channel:e,timeUnit:t,scaleType:n}){if(fx(e)){if(Wn(["quarter","month","day"],t))return"symbol";if(Vf(n))return"gradient"}return"symbol"}function Zzt({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??eUt(n,t)}function eUt(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function tUt({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:s,gradientHorizontalMinLength:o,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(Vf(i))return n==="horizontal"?r==="top"||r==="bottom"?eme(t,"width",o,s):o:eme(t,"height",l,a)}function eme(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function nUt(e){if(Wn(["quantile","threshold","log","symlog"],e))return"greedy"}function WNe(e){const t=$i(e)?rUt(e):aUt(e);return e.component.legends=t,t}function rUt(e){const{encoding:t}=e,n={};for(const r of[Bl,...P4e]){const i=zs(t[r]);!i||!e.getScaleComponent(r)||r===zl&&bt(i)&&i.type===pE||(n[r]=oUt(e,r))}return n}function iUt(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function sUt(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function oUt(e,t){var E;let n=e.legend(t);const{markDef:r,encoding:i,config:s}=e,o=s.legend,a=new Hzt({},iUt(e,t));o7t(e,t,a);const l=n!==void 0?!n:o.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=zs(i[t]),d=bt(c)?(E=po(c.timeUnit))==null?void 0:E.unit:void 0,f=n.orient||s.legend.orient||"right",h=Qzt({legend:n,channel:t,timeUnit:d,scaleType:u}),p=Zzt({legend:n,legendType:h,orient:f,legendConfig:o}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:o,config:s,scaleType:u,orient:f,legendType:h,direction:p};for(const C of UNe){if(h==="gradient"&&C.startsWith("symbol")||h==="symbol"&&C.startsWith("gradient"))continue;const S=C in Zpe?Zpe[C](m):n[C];if(S!==void 0){const T=sUt(S,C,n,e.fieldDef(t));(T||s.legend[C]===void 0)&&a.set(C,S,T)}}const g=(n==null?void 0:n.encoding)??{},v=a.get("selections"),y={},w={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const C of["labels","legend","title","symbols","gradient","entries"]){const S=BNe(g[C]??{},e),T=C in Jpe?Jpe[C](S,w):S;T!==void 0&&!Zr(T)&&(y[C]={...v!=null&&v.length&&bt(c)?{name:`${Ai(c.field)}_legend_${C}`}:{},...v!=null&&v.length?{interactive:!!v}:{},update:T})}return Zr(y)||a.set("encode",y,!!(n!=null&&n.encoding)),a}function aUt(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){WNe(r);for(const i of ht(r.component.legends))n.legend[i]=Tee(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=GNe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of ht(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function GNe(e,t){var s,o,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of UNe){const c=bg(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(d,f)=>{switch(u){case"symbolType":return lUt(d,f);case"title":return gOe(d,f);case"type":return i=!0,eu("symbol")}return J5(d,f,u,"legend")});e.setWithExplicit(u,c)}return i&&((o=(s=e.implicit)==null?void 0:s.encode)!=null&&o.gradient&&H4(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&H4(e.explicit,["encode","gradient"])),e}function lUt(e,t){return t.value==="circle"?t:e}function uUt(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function YNe(e){const t=e.component.legends,n={};for(const i of ht(t)){const s=e.getScaleComponent(i),o=ei(s.get("domains"));if(n[o])for(const a of n[o])GNe(a,t[i])||n[o].push(t[i]);else n[o]=[t[i].clone()]}return qo(n).flat().map(i=>cUt(i,e.config)).filter(i=>i!==void 0)}function cUt(e,t){var o,a,l;const{disable:n,labelExpr:r,selections:i,...s}=e.combine();if(!n){if(t.aria===!1&&s.aria==null&&(s.aria=!1),(o=s.encode)!=null&&o.symbols){const u=s.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!s.stroke&&(u.stroke={value:"transparent"});for(const c of P4e)s[c]&&delete u[c]}if(s.title||delete s.title,r!==void 0){let u=r;(l=(a=s.encode)==null?void 0:a.labels)!=null&&l.update&&Jt(s.encode.labels.update.text)&&(u=a1(r,"datum.label",s.encode.labels.update.text.signal)),uUt(s,"labels","text",{signal:u})}return s}}function dUt(e){return bE(e)||Pee(e)?fUt(e):KNe(e)}function fUt(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),KNe(e))}function KNe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(o=>o.signal).join(", ")}]`},s=t.data.reduce((o,a)=>{const l=Jt(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return Wn(o,l)||o.push(l),o},[]);if(s.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:s.length>1?`[${s.join(", ")}]`:s[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const hUt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class XNe extends Dm{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function QNe(e){e.component.projection=$i(e)?pUt(e):yUt(e)}function pUt(e){if(e.hasProjection){const t=Po(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?mUt(e):void 0,s=new XNe(e.projectionName(!0),{...Po(e.config.projection),...t},r,i);return s.get("type")||s.set("type","equalEarth",!1),s}}function mUt(e){const t=[],{encoding:n}=e;for(const r of[[nf,tf],[fc,rf]])(zs(n[r[0]])||zs(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(zl)&&e.typedFieldDef(zl).type===pE&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Fi.Main)),t}function gUt(e,t){const n=pZ(hUt,i=>!!(!zt(e.explicit,i)&&!zt(t.explicit,i)||zt(e.explicit,i)&&zt(t.explicit,i)&&au(e.get(i),t.get(i))));if(au(e.size,t.size)){if(n)return e;if(au(e.explicit,{}))return t;if(au(t.explicit,{}))return e}return null}function yUt(e){if(e.children.length===0)return;let t;for(const r of e.children)QNe(r);const n=pZ(e.children,r=>{const i=r.component.projection;if(i)if(t){const s=gUt(t,i);return s&&(t=s),!!s}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new XNe(r,t.specifiedProjection,t.size,Cn(t.data));for(const s of e.children){const o=s.component.projection;o&&(o.isFit&&i.data.push(...s.component.projection.data),s.renameProjection(o.get("name"),r),o.merged=!0)}return i}}function vUt(e,t,n,r){if(lA(t,n)){const i=$i(e)?e.axis(n)??e.legend(n)??{}:{},s=It(t,{expr:"datum"}),o=It(t,{expr:"datum",binSuffix:"end"});return{formulaAs:It(t,{binSuffix:"range",forAs:!0}),formula:iA(s,o,i.format,i.formatType,r)}}return{}}function JNe(e,t){return`${lOe(e)}_${t}`}function bUt(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function kee(e,t,n){const r=W5(n,void 0)??{},i=JNe(r,t);return e.getName(`${i}_bins`)}function wUt(e){return"as"in e}function tme(e,t,n){let r,i;wUt(e)?r=Ft(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[It(e,{forAs:!0}),It(e,{binSuffix:"end",forAs:!0})];const s={...W5(t,void 0)},o=JNe(s,e.field),{signal:a,extentSignal:l}=bUt(n,o);if($5(s.extent)){const c=s.extent;i=RNe(n,c.param,c),delete s.extent}const u={bin:s,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:o,binComponent:u}}class ah extends Yr{clone(){return new ah(null,Cn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{if(el(s)&&fi(s.bin)){const{key:a,binComponent:l}=tme(s,s.bin,n);i[a]={...l,...i[a],...vUt(n,s,o,n.config)}}return i},{});return Zr(r)?null:new ah(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:s}=tme(n,n.bin,r);return new ah(t,{[i]:s})}merge(t,n){for(const r of ht(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Hf([...this.bins[r].as,...t.bins[r].as],nr)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(qo(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(qo(this.bins).map(t=>t.field))}hash(){return`Bin ${nr(this.bins)}`}assemble(){return qo(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:s,...o}=t.bin,a={type:"bin",field:dc(t.field),as:r,signal:t.signal,...$5(s)?{extent:null}:{extent:s},...t.span?{span:{signal:`span(${t.span})`}}:{},...o};!s&&t.extentSignal&&(n.push({type:"extent",field:dc(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:It({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function xUt(e,t,n,r){var s;const i=$i(r)?r.encoding[Uh(t)]:void 0;if(el(n)&&$i(r)&&n4e(n,i,r.markDef,r.config)){e.add(It(n,{})),e.add(It(n,{suffix:"end"}));const{mark:o,markDef:a,config:l}=r,u=vg({fieldDef:n,markDef:a,config:l});_T(o)&&u!==.5&&us(t)&&(e.add(It(n,{suffix:Z5})),e.add(It(n,{suffix:eM}))),n.bin&&lA(n,t)&&e.add(It(n,{binSuffix:"range"}))}else if(ZPe(t)){const o=JPe(t);e.add(r.getName(o))}else e.add(It(n));return Z1(n)&&ZLt((s=n.scale)==null?void 0:s.range)&&e.add(n.scale.range.field),e}function _Ut(e,t){for(const n of ht(t)){const r=t[n];for(const i of ht(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class _d extends Yr{clone(){return new _d(null,new Set(this.dimensions),Cn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(o=>{o.aggregate&&(r=!0)});const i={},s=new Set;return!r||(n.forEachFieldDef((o,a)=>{const{aggregate:l,field:u}=o;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([It(o,{forAs:!0})]);else{if(lm(l)||Kg(l)){const c=lm(l)?"argmin":"argmax",d=l[c];i[d]??(i[d]={}),i[d][c]=new Set([It({op:c,field:d},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([It(o,{forAs:!0})]);qh(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([It({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([It({field:u,aggregate:"max"},{forAs:!0})]))}else xUt(s,a,o,n)}),s.size+ht(i).length===0)?null:new _d(t,s,i)}static makeFromTransform(t,n){var r;const i=new Set,s={};for(const o of n.aggregate){const{op:a,field:l,as:u}=o;a&&(a==="count"?(s["*"]??(s["*"]={}),s["*"].count=new Set([u||It(o,{forAs:!0})])):(s[l]??(s[l]={}),(r=s[l])[a]??(r[a]=new Set),s[l][a].add(u||It(o,{forAs:!0}))))}for(const o of n.groupby??[])i.add(o);return i.size+ht(s).length===0?null:new _d(t,i,s)}merge(t){return HPe(this.dimensions,t.dimensions)?(_Ut(this.measures,t.measures),!0):(CLt("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ht(this.measures)])}producedFields(){const t=new Set;for(const n of ht(this.measures))for(const r of ht(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${nr({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const s of ht(this.measures))for(const o of ht(this.measures[s]))for(const a of this.measures[s][o])r.push(a),t.push(o),n.push(s==="*"?null:dc(s));return{type:"aggregate",groupby:[...this.dimensions].map(dc),ops:t,fields:n,as:r}}}class yE extends Yr{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const s of Qu){const o=n.facet[s];if(o){const{bin:a,sort:l}=o;this[s]={name:n.getName(`${s}_domain`),fields:[It(o),...fi(a)?[It(o,{binSuffix:"end"})]:[]],...Vp(l)?{sortField:l}:nt(l)?{sortIndexField:g_(o,s)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Qu)this[n]&&(t+=` ${n.charAt(0)}:${nr(this[n])}`);return t}get fields(){var n;const t=[];for(const r of Qu)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Qu)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Im){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),s=r.get("range");if(mo(i)&&X1(s)){const o=uM(this.childModel,n),a=Dee(o);a?t[n]=a:yt(AZ(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],s=[],o=[],a=[];i&&r&&r[i]&&(n?(s.push(`distinct_${r[i]}`),o.push("max")):(s.push(r[i]),o.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=q5,field:d}=l;s.push(d),o.push(c),a.push(It(l,{forAs:!0}))}else u&&(s.push(u),o.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...s.length?{fields:s,ops:o,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],s={};for(const u of Eee){for(const c of Cee){const d=(r[u]&&r[u][c])??[];for(const f of d)if(((l=f.axes)==null?void 0:l.length)>0){s[u]=!0;break}}if(s[u]){const c=`length(data("${this.facet.name}"))`,d=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:d}]})}}const{row:o,column:a}=s;return(o||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:s,facet:o}=this;if(i&&s&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[Hp,qp])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(o){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function nme(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function EUt(e,t){const n=yZ(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=nme(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=nme(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return yt(OFt(t)),null}function CUt(e){const t={};return gP(e.filter,n=>{if(OOe(n)){let r=null;NZ(n)?r=su(n.equal):MZ(n)?r=su(n.lte):$Z(n)?r=su(n.lt):FZ(n)?r=su(n.gt):LZ(n)?r=su(n.gte):jZ(n)?r=n.range[0]:BZ(n)&&(r=(n.oneOf??n.in)[0]),r&&(Q1(r)?t[n.field]="date":kr(r)?t[n.field]="number":Ft(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function SUt(e){const t={};function n(r){f_(r)?t[r.field]="date":r.type==="quantitative"&&aFt(r.aggregate)?t[r.field]="number":o_(r.field)>1?r.field in t||(t[r.field]="flatten"):Z1(r)&&Vp(r.sort)&&o_(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if(($i(e)||du(e))&&e.forEachFieldDef((r,i)=>{if(el(r))n(r);else{const s=Y1(i),o=e.fieldDef(s);n({...r,type:o.type})}}),$i(e)){const{mark:r,markDef:i,encoding:s}=e;if(Xg(r)&&!e.encoding.order){const o=i.orient==="horizontal"?"y":"x",a=s[o];bt(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function TUt(e){const t={};if($i(e)&&e.component.selection)for(const n of ht(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&o_(i.field)>1&&(t[i.field]="flatten")}return t}class da extends Yr{clone(){return new da(null,Cn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${nr(this._parse)}`}static makeExplicit(t,n,r){var o;let i={};const s=n.data;return!Q0(s)&&((o=s==null?void 0:s.format)!=null&&o.parse)&&(i=s.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of ht(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:yt(spe(a,r[a],l.value)))}for(const a of ht(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:yt(spe(a,n[a],l)))}const s=new Dm(n,r);i.copyAll(s);const o={};for(const a of ht(s.combine())){const l=s.get(a);l!==null&&(o[a]=l)}return ht(o).length===0||i.parseNothing?null:new da(t,o)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of ht(this._parse)){const r=this._parse[n];o_(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(ht(this._parse))}dependentFields(){return new Set(ht(this._parse))}assembleTransforms(t=!1){return ht(this._parse).filter(n=>t?o_(n)>1:!0).map(n=>{const r=EUt(n,this._parse[n]);return r?{type:"formula",expr:r,as:fE(n)}:null}).filter(n=>n!==null)}}class wg extends Yr{clone(){return new wg(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Fd])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Fd}}}class pA extends Yr{clone(){return new pA(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${nr(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class mA extends Yr{clone(){return new mA(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${nr(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class v1 extends Yr{constructor(t){super(null),t??(t={name:"source"});let n;if(Q0(t)||(n=t.format?{...Nl(t.format,["parse"])}:{}),ET(t))this._data={values:t.values};else if(h_(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Wn(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else X4e(t)?this._data={values:[{type:"Sphere"}]}:(Y4e(t)||Q0(t))&&(this._data={});this._generator=Q0(t),t.name&&(this._name=t.name),n&&!Zr(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var rme=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},kUt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},DS;function Aee(e){return e instanceof v1||e instanceof pA||e instanceof mA}class Iee{constructor(){DS.set(this,void 0),rme(this,DS,!1,"f")}setModified(){rme(this,DS,!0,"f")}get modifiedFlag(){return kUt(this,DS,"f")}}DS=new WeakMap;class tb extends Iee{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,s)=>s[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class Ree extends Iee{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class AUt extends Ree{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of ht(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class IUt extends Ree{constructor(t){super(),this.requiresSelectionId=t&&bee(t)}run(t){t instanceof wg&&(this.requiresSelectionId&&(Aee(t.parent)||t.parent instanceof _d||t.parent instanceof da)||(this.setModified(),t.remove()))}}class RUt extends Iee{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof sh&&(r=t.producedFields(),mZ(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class DUt extends Ree{constructor(){super()}run(t){t instanceof $l&&!t.isRequired()&&(this.setModified(),t.remove())}}class PUt extends tb{run(t){if(!Aee(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof da)if(t instanceof da)this.setModified(),t.merge(n);else{if(gZ(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class OUt extends tb{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof da);if(t.numChildren()>1&&r.length>=1){const i={},s=new Set;for(const o of r){const a=o.parse;for(const l of ht(a))l in i?i[l]!==a[l]&&s.add(l):i[l]=a[l]}for(const o of s)delete i[o];if(!Zr(i)){this.setModified();const o=new da(t,i);for(const a of n){if(a instanceof da)for(const l of ht(i))delete a.parse[l];t.removeChild(a),a.parent=o,a instanceof da&&ht(a.parse).length===0&&a.remove()}}}}}class NUt extends tb{run(t){t instanceof $l||t.numChildren()>0||t instanceof yE||t instanceof v1||(this.setModified(),t.remove())}}class $Ut extends tb{run(t){const n=t.children.filter(i=>i instanceof sh),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class MUt extends tb{run(t){const n=t.children.filter(i=>i instanceof _d),r={};for(const i of n){const s=nr(i.groupBy);s in r||(r[s]=[]),r[s].push(i)}for(const i of ht(r)){const s=r[i];if(s.length>1){const o=s.pop();for(const a of s)o.merge(a)&&(t.removeChild(a),a.parent=o,a.remove(),this.setModified())}}}}class FUt extends tb{constructor(t){super(),this.model=t}run(t){const n=!(Aee(t)||t instanceof gE||t instanceof da||t instanceof wg),r=[],i=[];for(const s of t.children)s instanceof ah&&(n&&!gZ(t.producedFields(),s.dependentFields())?r.push(s):i.push(s));if(r.length>0){const s=r.pop();for(const o of r)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof ah?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){const s=i.pop();for(const o of i)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class LUt extends tb{run(t){const n=[...t.children];if(!s_(n,o=>o instanceof $l)||t.numChildren()<=1)return;const i=[];let s;for(const o of n)if(o instanceof $l){let a=o;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof $l)a=l;else break}i.push(...a.children),s?(t.removeChild(o),o.parent=s.parent,s.parent.removeChild(s),s.parent=a,this.setModified()):s=a}else i.push(o);if(i.length){this.setModified();for(const o of i)o.parent.removeChild(o),o.parent=s}}}class nb extends Yr{clone(){return new nb(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Hf(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??It(t)}hash(){return`JoinAggregateTransform ${nr(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const s of this.transform.joinaggregate)n.push(s.op),r.push(this.getDefaultName(s)),t.push(s.field===void 0?null:s.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class v_ extends Yr{clone(){return new v_(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:s}=n,{marks:o,scales:a}=r;if(o==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,d)=>{const f=qh(d)&&n.getScaleComponent(d);if(f){const h=f.get("type"),{aggregate:p}=c,m=GZ({scaleChannel:d,markDef:s,config:i,scaleType:h,isCountAggregate:N5(p)});m!=="show"&&m!=="always-valid"&&(u[c.field]=c)}return u},{});return ht(l).length?new v_(t,l):null}dependentFields(){return new Set(ht(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${nr(this.filter)}`}assemble(){const t=ht(this.filter).reduce((n,r)=>{const i=this.filter[r],s=It(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${s}) || (${DH(s)}))`):i.type==="quantitative"&&n.push(DH(s))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function DH(e){return`isValid(${e}) && isFinite(+${e})`}function jUt(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=It(r);return i&&t.push(i),t},[])}function BUt(e){return nt(e)&&e.every(t=>Ft(t))&&e.length>1}class Gp extends Yr{clone(){return new Gp(null,Cn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:s,offset:o="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const d of n.sort)a.push(d.field),l.push(ls(d.order,"ascending"));const u={field:a,order:l};let c;return BUt(s)?c=s:Ft(s)?c=[s,`${s}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new Gp(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:o,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:s,fieldChannel:o,offset:a,impute:l}=r,u=s.map(h=>{const p=i[h];return Md(p)}).filter(h=>!!h),c=jUt(n),d=n.encoding.order;let f;if(nt(d)||bt(d))f=hOe(d);else{const h=r4e(d)?d.sort:o==="y"?"descending":"ascending";f=c.reduce((p,m)=>(p.field.includes(m)||(p.field.push(m),p.order.push(h)),p),{field:[],order:[]})}return new Gp(t,{dimensionFieldDefs:u,stackField:n.vgField(o),facetby:[],stackby:c,sort:f,offset:a,impute:l,as:[n.vgField(o,{suffix:"start",forAs:!0}),n.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${nr(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[It(i,{binSuffix:"mid"})]:[It(i,{}),It(i,{binSuffix:"end"})]:[It(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:s,sort:o,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:d=.5,bin:f}=c;if(f){const h=It(c,{expr:"datum"}),p=It(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${DH(h)} ? ${d}*${h}+${1-d}*${p} : ${h}`,as:It(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...s,...n],key:It(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:o,as:u,offset:a}),t}}class vE extends Yr{clone(){return new vE(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Hf(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??It(t)}hash(){return`WindowTransform ${nr(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const s=this.transform.frame,o=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&n.every(d=>TZ(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...o!==void 0?{groupby:o}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)a.push(d.field),l.push(d.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...o!==void 0?{groupby:o}:{},...s!==void 0?{frame:s}:{}}}}function zUt(e){function t(n){if(!(n instanceof yE)){const r=n.clone();if(r instanceof $l){const i=OH+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof _d||r instanceof Gp||r instanceof vE||r instanceof nb)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function PH(e){if(e instanceof yE)if(e.numChildren()===1&&!(e.children[0]instanceof $l)){const t=e.children[0];(t instanceof _d||t instanceof Gp||t instanceof vE||t instanceof nb)&&t.addDimensions(e.fields),t.swapWithParent(),PH(e)}else{const t=e.model.component.data.main;ZNe(t);const n=zUt(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(PH)}function ZNe(e){if(e instanceof $l&&e.type===Fi.Main&&e.numChildren()===1){const t=e.children[0];t instanceof yE||(t.swapWithParent(),ZNe(e))}}const OH="scale_",kR=5;function NH(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!NH(t.children))return!1}return!0}function qc(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function ime(e,t,n){let r=e.sources,i=!1;return i=qc(new DUt,r)||i,i=qc(new IUt(t),r)||i,r=r.filter(s=>s.numChildren()>0),i=qc(new NUt,r)||i,r=r.filter(s=>s.numChildren()>0),n||(i=qc(new PUt,r)||i,i=qc(new FUt(t),r)||i,i=qc(new RUt,r)||i,i=qc(new OUt,r)||i,i=qc(new MUt,r)||i,i=qc(new $Ut,r)||i,i=qc(new AUt,r)||i,i=qc(new LUt,r)||i),e.sources=r,i}function UUt(e,t){NH(e.sources);let n=0,r=0;for(let i=0;i<kR&&ime(e,t,!0);i++)n++;e.sources.map(PH);for(let i=0;i<kR&&ime(e,t,!1);i++)r++;NH(e.sources),Math.max(n,r)===kR&&yt(`Maximum optimization runs(${kR}) reached.`)}class io{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new io(()=>t(n))}}function e$e(e){$i(e)?qUt(e):HUt(e)}function qUt(e){const t=e.component.scales;for(const n of ht(t)){const r=WUt(e,n);if(t[n].setWithExplicit("domains",r),YUt(e,n),e.component.data.isFaceted){let s=e;for(;!du(s)&&s.parent;)s=s.parent;if(s.component.resolve.scale[n]==="shared")for(const a of r.value)Pp(a)&&(a.data=OH+a.data.replace(OH,""))}}}function HUt(e){for(const n of e.children)e$e(n);const t=e.component.scales;for(const n of ht(t)){let r,i=null;for(const s of e.children){const o=s.component.scales[n];if(o){r===void 0?r=o.getWithExplicit("domains"):r=bg(r,o.getWithExplicit("domains"),"domains","scale",$H);const a=o.get("selectionExtent");i&&a&&i.param!==a.param&&yt(TFt),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function VUt(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:s}=sme(t,n);if(!i){yt(s);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=sme(t,n);if(i)return"unaggregated"}return e}function WUt(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=VUt(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&zs(r.x2)?zs(r.x)?bg(c0(n,i,e,"x"),c0(n,i,e,"x2"),"domain","scale",$H):c0(n,i,e,"x2"):t==="y"&&zs(r.y2)?zs(r.y)?bg(c0(n,i,e,"y"),c0(n,i,e,"y2"),"domain","scale",$H):c0(n,i,e,"y2"):c0(n,i,e,t)}function GUt(e,t,n){return e.map(r=>({signal:`{data: ${G5(r,{timeUnit:n,type:t})}}`}))}function fB(e,t,n){var i;const r=(i=po(n))==null?void 0:i.unit;return t==="temporal"||r?GUt(e,t,r):[e]}function c0(e,t,n,r){const{encoding:i,markDef:s,mark:o,config:a,stack:l}=n,u=zs(i[r]),{type:c}=u,d=u.timeUnit,f=RBt({invalid:vh("invalid",s,a),isPath:Xg(o)});if(JLt(t)){const m=c0(e,void 0,n,r),g=fB(t.unionWith,c,d);return Df([...g,...m.value])}else{if(Jt(t))return Df([t]);if(t&&t!=="unaggregated"&&!BOe(t))return Df(fB(t,c,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return eu([[0,1]]);const m=n.requestDataName(f);return eu([{data:m,field:n.vgField(r,{suffix:"start"})},{data:m,field:n.vgField(r,{suffix:"end"})}])}const h=qh(r)&&bt(u)?KUt(n,r,e):void 0;if(Hh(u)){const m=fB([u.datum],c,d);return eu(m)}const p=u;if(t==="unaggregated"){const{field:m}=u;return eu([{data:n.requestDataName(f),field:It({field:m,aggregate:"min"})},{data:n.requestDataName(f),field:It({field:m,aggregate:"max"})}])}else if(fi(p.bin)){if(mo(e))return eu(e==="bin-ordinal"?[]:[{data:wT(h)?n.requestDataName(f):n.requestDataName(Fi.Raw),field:n.vgField(r,lA(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!Mt(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:m}=p;if(fi(m)){const g=kee(n,p.field,m);return eu([new io(()=>{const v=n.getSignalName(g);return`[${v}.start, ${v}.stop]`})])}else return eu([{data:n.requestDataName(f),field:n.vgField(r,{})}])}}else if(p.timeUnit&&Wn(["time","utc"],e)){const m=i[Uh(r)];if(n4e(p,m,s,a)){const g=n.requestDataName(f),v=vg({fieldDef:p,fieldDef2:m,markDef:s,config:a}),y=_T(o)&&v!==.5&&us(r);return eu([{data:g,field:n.vgField(r,y?{suffix:Z5}:{})},{data:g,field:n.vgField(r,{suffix:y?eM:"end"})}])}}return eu(h?[{data:wT(h)?n.requestDataName(f):n.requestDataName(Fi.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(f),field:n.vgField(r)}])}function hB(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":q5),...r?{field:dc(r)}:{},...i?{order:i}:{}}}function YUt(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,s=BOe(r)?r:void 0,o=K1(i)&&$5(i.extent)?i.extent:void 0;(s||o)&&n.set("selectionExtent",s??o,!0)}function KUt(e,t,n){if(!mo(n))return;const r=e.fieldDef(t),i=r.sort;if(e4e(i))return{op:"min",field:g_(r,t),order:"ascending"};const{stack:s}=e,o=s?new Set([...s.groupbyFields,...s.stackBy.map(a=>a.fieldDef.field)]):void 0;if(Vp(i)){const a=s&&!o.has(i.field);return hB(i,a)}else if(Rjt(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:d}=u,f=s&&!o.has(d);if(lm(c)||Kg(c))return hB({field:It(u),order:l},f);if(TZ(c)||!c)return hB({op:c,field:d,order:l},f)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Wn(["ascending",void 0],i))return!0}}function sme(e,t){const{aggregate:n,type:r}=e;return n?Ft(n)&&!uFt.has(n)?{valid:!1,reason:tLt(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:nLt(e)}:{valid:!0}:{valid:!1,reason:eLt(e)}}function $H(e,t,n,r){return e.explicit&&t.explicit&&yt(aLt(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function XUt(e){const t=Hf(e.map(o=>{if(Pp(o)){const{sort:a,...l}=o;return l}return o}),nr),n=Hf(e.map(o=>{if(Pp(o)){const a=o.sort;return a!==void 0&&!wT(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(o=>o!==void 0),nr);if(t.length===0)return;if(t.length===1){const o=e[0];if(Pp(o)&&n.length>0){let a=n[0];if(n.length>1){yt(ape);const l=n.filter(u=>Mt(u)&&"op"in u&&u.op!=="min");n.every(u=>Mt(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(Mt(a)&&"field"in a){const l=a.field;o.field===l&&(a=a.order?{order:a.order}:!0)}return{...o,sort:a}}return o}const r=Hf(n.map(o=>wT(o)||!("op"in o)||Ft(o.op)&&zt(sFt,o.op)?o:(yt(uLt(o)),!0)),nr);let i;r.length===1?i=r[0]:r.length>1&&(yt(ape),i=!0);const s=Hf(e.map(o=>Pp(o)?o.data:null),o=>o);return s.length===1&&s[0]!==null?{data:s[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function Dee(e){if(Pp(e)&&Ft(e.field))return e.field;if(cFt(e)){let t;for(const n of e.fields)if(Pp(n)&&Ft(n.field)){if(!t)t=n.field;else if(t!==n.field)return yt(cLt),t}return yt(dLt),t}else if(dFt(e)){yt(fLt);const t=e.fields[0];return Ft(t)?t:void 0}}function uM(e,t){const r=e.component.scales[t].get("domains").map(i=>(Pp(i)&&(i.data=e.lookupDataSource(i.data)),i));return XUt(r)}function t$e(e){return bE(e)||Pee(e)?e.children.reduce((t,n)=>t.concat(t$e(n)),ome(e)):ome(e)}function ome(e){return ht(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:s,type:o,selectionExtent:a,domains:l,range:u,reverse:c,...d}=i,f=QUt(i.range,s,n,e),h=uM(e,n),p=a?zBt(e,a,r,h):null;return t.push({name:s,type:o,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:f,...c!==void 0?{reverse:c}:{},...d}),t},[])}function QUt(e,t,n,r){if(us(n)){if(X1(e))return{step:{signal:`${t}_step`}}}else if(Mt(e)&&Pp(e))return{...e,data:r.lookupDataSource(e.data)};return e}class n$e extends Dm{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(Wn([No.LOG,No.TIME,No.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&Wn([No.LINEAR,No.SQRT,No.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,s=!1,o=!1;for(const a of r){if(nt(a)){const l=a[0],u=a[a.length-1];if(kr(l)&&kr(u))if(l<=0&&u>=0){i=!0;continue}else{s=!0;continue}}o=!0}if(i)return"definitely";if(s&&!o)return"definitely-not"}return"maybe"}}const JUt=["range","scheme"];function ZUt(e){const t=e.component.scales;for(const n of SZ){const r=t[n];if(!r)continue;const i=eqt(n,e);r.setWithExplicit("range",i)}}function ame(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,s=Ul(t),o=e.getName(s);if(Mt(r)&&r.binned&&r.step!==void 0)return new io(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(o)} / (${l})`});if(fi(r)){const a=kee(e,i,r);return new io(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(o)} / (${u})`})}}}function eqt(e,t){const n=t.specifiedScales[e],{size:r}=t,s=t.getScaleComponent(e).get("type");for(const d of JUt)if(n[d]!==void 0){const f=hH(s,d),h=zOe(e,d);if(!f)yt(wOe(s,d,e));else if(h)yt(h);else switch(d){case"range":{const p=n.range;if(nt(p)){if(us(e))return Df(p.map(m=>{if(m==="width"||m==="height"){const g=t.getName(m),v=t.getSignalName.bind(t);return io.fromName(v,g)}return m}))}else if(Mt(p))return Df({data:t.requestDataName(Fi.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return Df(p)}case"scheme":return Df(tqt(n[d]))}}const o=e===Ri||e==="xOffset"?"width":"height",a=r[o];if(wh(a)){if(us(e))if(mo(s)){const d=i$e(a,t,e);if(d)return Df({step:d})}else yt(xOe(o));else if(tA(e)){const d=e===qg?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const p=s$e(a,s);if(p)return Df(p)}}}const{rangeMin:l,rangeMax:u}=n,c=nqt(e,t);return(l!==void 0||u!==void 0)&&hH(s,"rangeMin")&&nt(c)&&c.length===2?Df([l??c[0],u??c[1]]):eu(c)}function tqt(e){return QLt(e)?{scheme:e.name,...Nl(e,["name"])}:{scheme:e}}function r$e(e,t,n,{center:r}={}){const i=Ul(e),s=t.getName(i),o=t.getSignalName.bind(t);return e===bo&&Nd(n)?r?[io.fromName(a=>`${o(a)}/2`,s),io.fromName(a=>`-${o(a)}/2`,s)]:[io.fromName(o,s),0]:r?[io.fromName(a=>`-${o(a)}/2`,s),io.fromName(a=>`${o(a)}/2`,s)]:[0,io.fromName(o,s)]}function nqt(e,t){const{size:n,config:r,mark:i,encoding:s}=t,{type:o}=zs(s[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case Ri:case bo:{if(Wn(["point","band"],l)){const d=o$e(e,n,r.view);if(wh(d))return{step:i$e(d,t,e)}}return r$e(e,t,l)}case qg:case hE:return rqt(e,t,l);case km:{const d=oqt(i,r),f=aqt(i,n,t,r);return u_(l)?sqt(d,f,iqt(l,r,u,e)):[d,f]}case Cc:return[0,Math.PI*2];case G1:return[0,360];case ef:return[0,new io(()=>{const d=t.getSignalName(du(t.parent)?"child_width":"width"),f=t.getSignalName(du(t.parent)?"child_height":"height");return`min(${d},${f})/2`})];case Hg:return{step:1e3/r.scale.framesPerSecond};case Gg:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Yg:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case zl:return"symbol";case Bl:case Bh:case zh:return l==="ordinal"?o==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Am:case Vg:case Wg:return[r.scale.minOpacity,r.scale.maxOpacity]}}function i$e(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),s=xZ(n),o=r[s];if(N4e({step:e,offsetIsDiscrete:An(o)&&$Oe(o.type)})==="offset"&&p4e(r,s)){const l=t.getScaleComponent(s);let c=`domain('${t.scaleName(s)}').length`;if(l.get("type")==="band"){const f=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${f}, ${h})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${mFt(d)})`}}else return e.step}function s$e(e,t){if(N4e({step:e,offsetIsDiscrete:mo(t)})==="offset")return{step:e.step}}function rqt(e,t,n){const r=e===qg?"x":"y",i=t.getScaleComponent(r);if(!i)return r$e(r,t,n,{center:!0});const s=i.get("type"),o=t.scaleName(r),{markDef:a,config:l}=t;if(s==="band"){const u=o$e(r,t.size,t.config.view);if(wh(u)){const c=s$e(u,n);if(c)return c}return[0,{signal:`bandwidth('${o}')`}]}else{const u=t.encoding[r];if(bt(u)&&u.timeUnit){const c=DOe(u.timeUnit,p=>`scale('${o}', ${p})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,f=vg({fieldDef:u,markDef:a,config:l})-.5,h=f!==0?` + ${f}`:"";if(d){const p=Jt(d)?`${d.signal}/2`+h:`${d/2+f}`,m=Jt(d)?`(1 - ${d.signal}/2)`+h:`${1-d/2+f}`;return[{signal:`${p} * (${c})`},{signal:`${m} * (${c})`}]}return[0,{signal:c}]}return UPe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function o$e(e,t,n){const r=e===Ri?"width":"height",i=t[r];return i||Z4(n,r)}function iqt(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&nt(n)?n.length+1:(yt(xLt(r)),3)}}function sqt(e,t,n){const r=()=>{const i=fd(t),s=fd(e),o=`(${i} - ${s}) / (${n} - 1)`;return`sequence(${s}, ${i} + ${o}, ${o})`};return Jt(t)?new io(r):{signal:r()}}function oqt(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(M5("size",e))}const lme=.95;function aqt(e,t,n,r){const i={x:ame(n,"x"),y:ame(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const s=ume(t,i,r.view);return kr(s)?s-1:new io(()=>`${s.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const s=ume(t,i,r.view);return kr(s)?Math.pow(lme*s,2):new io(()=>`pow(${lme} * ${s.signal}, 2)`)}}throw new Error(M5("size",e))}function ume(e,t,n){const r=wh(e.width)?e.width.step:yH(n,"width"),i=wh(e.height)?e.height.step:yH(n,"height");return t.x||t.y?new io(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function a$e(e,t){$i(e)?lqt(e,t):u$e(e,t)}function lqt(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:s,specifiedScales:o}=e;for(const a of ht(n)){const l=o[a],u=n[a],c=e.getScaleComponent(a),d=zs(i[a]),f=l[t],h=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=hH(h,t),v=zOe(a,t);if(f!==void 0&&(g?v&&yt(v):yt(wOe(h,t,a))),g&&v===void 0)if(f!==void 0){const y=d.timeUnit,w=d.type;switch(t){case"domainMax":case"domainMin":Q1(l[t])||w==="temporal"||y?u.set(t,{signal:G5(l[t],{type:w,timeUnit:y})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const y=pt(cme,t)?cme[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:h,scalePadding:p,scalePaddingInner:m,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:s,config:r,hasNestedOffsetScale:m4e(i,a),hasSecondaryRangeChannel:!!i[Uh(a)]}):r.scale[t];y!==void 0&&u.set(t,y,!1)}}}const cme={bins:({model:e,fieldOrDatumDef:t})=>bt(t)?uqt(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>cqt(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:s})=>dqt(e,t,n,r,i,s),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>fqt(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:s})=>hqt(e,t,n.type,r,i.scale,s),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:s})=>pqt(e,t,n,r,i.scale,s),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=bt(e)?e.sort:void 0;return mqt(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:s,hasSecondaryRangeChannel:o})=>gqt(e,t,n,r,i,s.scale,o)};function l$e(e){$i(e)?ZUt(e):u$e(e,"range")}function u$e(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?l$e(r):a$e(r,t);for(const r of ht(n)){let i;for(const s of e.children){const o=s.component.scales[r];if(o){const a=o.getWithExplicit(t);i=bg(i,a,t,"scale",G4e((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function uqt(e,t){const n=t.bin;if(fi(n)){const r=kee(e,t.field,n);return new io(()=>e.getSignalName(r))}else if(Do(n)&&K1(n)&&n.step!==void 0)return{step:n.step}}function cqt(e,t){if(Wn([Bl,Bh,zh],e)&&t!=="nominal")return"hcl"}function dqt(e,t,n,r,i,s){var o;if(!((o=Md(s))!=null&&o.bin||nt(n)||i!=null||r!=null||Wn([No.TIME,No.UTC],e)))return us(t)?!0:void 0}function fqt(e,t,n,r,i,s){if(us(e)){if(Vf(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:o,orient:a}=i;if(o==="bar"&&!(bt(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return s.continuousBandSize}if(t===No.POINT)return n.pointPadding}}function hqt(e,t,n,r,i,s=!1){if(e===void 0){if(us(t)){const{bandPaddingInner:o,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return s?c:ls(o,n==="bar"?a:n==="tick"?u:l)}else if(tA(t)&&r===No.BAND)return i.offsetBandPaddingInner}}function pqt(e,t,n,r,i,s=!1){if(e===void 0){if(us(t)){const{bandPaddingOuter:o,bandWithNestedOffsetPaddingOuter:a}=i;if(s)return a;if(n===No.BAND)return ls(o,Jt(r)?{signal:`${r.signal}/2`}:r/2)}else if(tA(t)){if(n===No.POINT)return .5;if(n===No.BAND)return i.offsetBandPaddingOuter}}}function mqt(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Nd(e)&&t==="descending"?Jt(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Nd(e)&&t==="descending")return!0}function gqt(e,t,n,r,i,s,o){if(!!n&&n!=="unaggregated"&&Nd(i)){if(nt(n)){const l=n[0],u=n[n.length-1];if(kr(l)&&l<=0&&kr(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!u_(i))return!0;if(!(bt(t)&&t.bin)&&Wn([...Im,...X8t],e)){const{orient:l,type:u}=r;return Wn(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:Wn(["bar","area"],u)&&!o?!0:s==null?void 0:s.zero}return!1}function yqt(e,t,n,r,i=!1){const s=vqt(t,n,r,i),{type:o}=e;return qh(t)?o!==void 0?ijt(t,o)?bt(n)&&!rjt(o,n.type)?(yt(sLt(o,s)),s):o:(yt(iLt(t,o,s)),s):s:null}function vqt(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(fx(e)||J9(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&yt(Z9(e,"ordinal")),"ordinal";if(Q9(e))return"band";if(us(e)||tA(e)){if(Wn(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in CZ)return"band";const s=n[Ul(e)];return f1(s)||d_(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return fx(e)?"time":J9(e)==="discrete"?(yt(Z9(e,"temporal")),"ordinal"):bt(t)&&t.timeUnit&&po(t.timeUnit).utc?"utc":Q9(e)?"band":"time";case"quantitative":return fx(e)?bt(t)&&fi(t.bin)?"bin-ordinal":"linear":J9(e)==="discrete"?(yt(Z9(e,"quantitative")),"ordinal"):Q9(e)?"band":"linear";case"geojson":return}throw new Error(vOe(t.type))}function bqt(e,{ignoreRange:t}={}){c$e(e),e$e(e);for(const n of njt)a$e(e,n);t||l$e(e)}function c$e(e){$i(e)?e.component.scales=wqt(e):e.component.scales=_qt(e)}function wqt(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const s of SZ){const o=zs(t[s]);if(o&&n===HOe&&s===zl&&o.type===pE)continue;let a=o&&o.scale;if(o&&a!==null&&a!==!1){a??(a={});const l=m4e(t,s),u=yqt(a,s,o,r,l);i[s]=new n$e(e.scaleName(`${s}`,!0),{value:u,explicit:a.type===u})}}return i}const xqt=G4e((e,t)=>upe(e)-upe(t));function _qt(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const s of e.children){c$e(s);for(const o of ht(s.component.scales))if((t=i.scale)[o]??(t[o]=zNe(o,e)),i.scale[o]==="shared"){const a=r[o],l=s.component.scales[o].getWithExplicit("type");a?WLt(a.value,l.value)?r[o]=bg(a,l,"type","scale",xqt):(i.scale[o]="independent",delete r[o]):r[o]=l}}for(const s of ht(r)){const o=e.scaleName(s,!0),a=r[s];n[s]=new n$e(o,a);for(const l of e.children){const u=l.component.scales[s];u&&(l.renameScale(u.get("name"),o),u.merged=!0)}}return n}class pB{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function $i(e){return(e==null?void 0:e.type)==="unit"}function du(e){return(e==null?void 0:e.type)==="facet"}function Pee(e){return(e==null?void 0:e.type)==="concat"}function bE(e){return(e==null?void 0:e.type)==="layer"}class Oee{constructor(t,n,r,i,s,o,a){this.type=n,this.parent=r,this.config=s,this.parent=r,this.config=s,this.view=Po(a),this.name=t.name??i,this.title=v0(t.title)?{text:t.title}:t.title?Po(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new pB,this.projectionNameMap=r?r.projectionNameMap:new pB,this.signalNameMap=r?r.signalNameMap:new pB,this.data=t.data,this.description=t.description,this.transforms=vBt(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:_9t(t,n,s),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:H5(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Dm,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...o?Cn(o):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){bqt(this)}parseProjection(){QNe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){WNe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const s of ht(r)){const o=r[s];o!==void 0&&(i[s]=vi(o))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=vi(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:Zr(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,s=Uzt(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...s?{titleBand:s}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Qu)t[r].title&&n.push(Mzt(this,r));for(const r of Eee)n=n.concat(Fzt(this,r));return n}assembleAxes(){return Ezt(this.component.axes,this.config)}assembleLegends(){return YNe(this)}assembleProjections(){return dUt(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...uOe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return Wn(["unit","layer"],this.type)?Wn(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Zr(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||du(this.parent)?t$e(this):[];i.length>0&&(n.scales=i);const s=this.assembleAxes();s.length>0&&(n.axes=s);const o=this.assembleLegends();return o.length>0&&(n.legends=o),n}getName(t){return Ai((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Fi[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(du(this.parent)){const n=jNe(t),r=O5(n),i=this.component.scales[r];if(i&&!i.merged){const s=i.get("type"),o=i.get("range");if(mo(s)&&X1(o)){const a=i.get("name"),l=uM(this,r),u=Dee(l);if(u){const c=It({aggregate:"distinct",field:u},{expr:"datum"});return{signal:LNe(a,i,c)}}else return yt(AZ(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(tOe(t)&&qh(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(wFt(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class d$e extends Oee{vgField(t,n={}){const r=this.fieldDef(t);if(r)return It(r,n)}reduceFieldDef(t,n){return Qjt(this.getMapping(),(r,i,s)=>{const o=Md(i);return o?t(r,o,s):r},n)}forEachFieldDef(t,n){nee(this.getMapping(),(r,i)=>{const s=Md(r);s&&t(s,i)},n)}}class cM extends Yr{clone(){return new cM(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Cn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${nr(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class dM extends Yr{clone(){return new dM(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Cn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${nr(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class fM extends Yr{clone(){return new fM(this.parent,Cn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Cn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((s,o)=>i[o]??s)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${nr(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class hM extends Yr{clone(){return new hM(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Cn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${nr(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class mx extends Yr{clone(){return new mx(null,Cn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[nf,tf],[fc,rf]]){const s=i.map(o=>{const a=zs(n.encoding[o]);return bt(a)?a.field:Hh(a)?{expr:`${a.datum}`}:$d(a)?{expr:`${a.value}`}:void 0});(s[0]||s[1])&&(t=new mx(t,s,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(zl)){const i=n.typedFieldDef(zl);i.type===pE&&(t=new mx(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Ft);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${nr(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class TT extends Yr{clone(){return new TT(null,this.projection,Cn(this.fields),Cn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[nf,tf],[fc,rf]]){const i=r.map(o=>{const a=zs(n.encoding[o]);return bt(a)?a.field:Hh(a)?{expr:`${a.datum}`}:$d(a)?{expr:`${a.value}`}:void 0}),s=r[0]===fc?"2":"";(i[0]||i[1])&&(t=new TT(t,n.projectionName(),i,[n.getName(`x${s}`),n.getName(`y${s}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Ft))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${nr(this.fields)} ${nr(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Ov extends Yr{clone(){return new Ov(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Ov(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,s=r.y;if(bt(i)&&bt(s)){const o=i.impute?i:s.impute?s:void 0;if(o===void 0)return;const a=i.impute?s:s.impute?i:void 0,{method:l,value:u,frame:c,keyvals:d}=o.impute,f=v4e(n.mark,r);return new Ov(t,{impute:o.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...d!==void 0?{keyvals:d}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${nr(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:s,value:o,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:Z9t(r)?this.processSequence(r):r}:{},method:"value",...s?{groupby:s}:{},value:!i||i==="value"?o:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...s?{groupby:s}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class pM extends Yr{clone(){return new pM(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Cn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${nr(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class kT extends Yr{clone(){return new kT(null,Cn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const s=n.component.data.sources,{from:o}=r;let a=null;if(eBt(o)){let l=p$e(o.data,s);l||(l=new v1(o.data),s.push(l));const u=n.getName(`lookup_${i}`);a=new $l(l,u,Fi.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(tBt(o)){const l=o.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(Ai(l),l)}catch{throw new Error(CFt(l))}if(a=u.materialized,!a)throw new Error(SFt(l))}return new kT(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?$t(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${nr({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:$t(this.transform.as)}:{}};else{let n=this.transform.as;Ft(n)||(yt(MFt),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class mM extends Yr{clone(){return new mM(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Cn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${nr(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class gM extends Yr{clone(){return new gM(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Cn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${nr(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class yM extends Yr{clone(){return new yM(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Hf((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${nr(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:s}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...s!==void 0?{op:s}:{},...r!==void 0?{groupby:r}:{}}}}class vM extends Yr{clone(){return new vM(null,Cn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${nr(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function f$e(e){let t=0;function n(r,i){if(r instanceof v1&&!r.isGenerator&&!h_(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof da&&(r.parent instanceof v1&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof yE){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof pA||r instanceof mA||r instanceof v_||r instanceof gE||r instanceof m_||r instanceof TT||r instanceof _d||r instanceof kT||r instanceof vE||r instanceof nb||r instanceof hM||r instanceof fM||r instanceof cM||r instanceof pM||r instanceof mM||r instanceof gM||r instanceof wg||r instanceof vM||r instanceof yM||r instanceof dM)&&i.transform.push(r.assemble()),(r instanceof ah||r instanceof sh||r instanceof Ov||r instanceof Gp||r instanceof mx)&&i.transform.push(...r.assemble()),r instanceof $l&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof $l?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof $l&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let s=i.name;!i.source||i.transform.length>0?e.push(i):s=i.source;for(const o of r.children)n(o,{name:null,source:s,transform:[]});break}}}return n}function Eqt(e){const t=[],n=f$e(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function Cqt(e,t){const n=[],r=f$e(n);let i=0;for(const o of e.sources){o.hasName()||(o.dataName=`source_${i++}`);const a=o.assemble();r(o,a)}for(const o of n)o.transform.length===0&&delete o.transform;let s=0;for(const[o,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(s++,0,n.splice(o,1)[0]);for(const o of n)for(const a of o.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const o of n)o.name in t&&(o.values=t[o.name]);return n}function Sqt(e){return e==="top"||e==="left"||Jt(e)?"header":"footer"}function Tqt(e){for(const t of Qu)kqt(e,t);dme(e,"x"),dme(e,"y")}function kqt(e,t){var o;const{facet:n,config:r,child:i,component:s}=e;if(e.channelHasField(t)){const a=n[t],l=y_("title",null,r,t);let u=hx(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=nt(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=y_("labelOrient",a.header,r,t),d=a.header!==null?ls((o=a.header)==null?void 0:o.labels,r.header.labels,!0):!1,f=Wn(["bottom","right"],c)?"footer":"header";s.layoutHeaders[t]={title:a.header!==null?u:null,facetFieldDef:a,[f]:t==="facet"?[]:[h$e(e,t,d)]}}}function h$e(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function dme(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=Tee(i,t),i.axis[t]==="shared"){const s=t==="x"?"column":"row",o=r[s];for(const a of n.component.axes[t]){const l=Sqt(a.get("orient"));o[l]??(o[l]=[h$e(e,s,!1)]);const u=RS(a,"main",e.config,{header:!0});u&&o[l][0].axes.push(u),a.mainExtracted=!0}}}}function Aqt(e){Nee(e),iN(e,"width"),iN(e,"height")}function Iqt(e){Nee(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";iN(e,t),iN(e,n)}function Nee(e){for(const t of e.children)t.parseLayoutSize()}function iN(e,t){const n=jNe(t),r=O5(n),i=e.component.resolve,s=e.component.layoutSize;let o;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??zNe(r,e);if(u==="independent"&&l.value==="step"){o=void 0;break}if(o){if(u==="independent"&&o.value!==l.value){o=void 0;break}o=bg(o,l,n,"")}else o=l}if(o){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);s.setWithExplicit(t,o)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function Rqt(e){const{size:t,component:n}=e;for(const r of Im){const i=Ul(r);if(t[i]){const s=t[i];n.layoutSize.set(i,wh(s)?"step":s,!0)}else{const s=Dqt(e,i);n.layoutSize.set(i,s,!1)}}}function Dqt(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const s=i.get("type"),o=i.get("range");if(mo(s)){const a=Z4(r.view,t);return X1(o)||wh(a)?"step":a}else return gH(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return gH(r.view,t);{const s=Z4(r.view,t);return wh(s)?s.step:s}}}function MH(e,t,n){return It(t,{suffix:`by_${It(e)}`,...n})}class f2 extends d$e{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=jee(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!sA(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=ht(t),r={};for(const i of n){if(![qp,Hp].includes(i)){yt(M5(i,"facet"));break}const s=t[i];if(s.field===void 0){yt(dH(s,i));break}r[i]=this.initFacetFieldDef(s,i)}return r}initFacetFieldDef(t,n){const r=tee(t,n);return r.header?r.header=Po(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return pt(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=bM(this),this.child.parseData()}parseLayoutSize(){Nee(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>oh(t))&&RZ(IZ)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),Tqt(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Qu)for(const r of Cee){const i=this.component.layoutHeaders[n],s=i[r],{facetFieldDef:o}=i;if(o){const a=y_("titleOrient",o.header,this.config,n);if(["right","bottom"].includes(a)){const l=aM(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(s!=null&&s[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof f2))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof f2?{...this.channelHasField("column")?{encode:{update:{columns:{field:It(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof f2){if(this.child.channelHasField("column")){const i=It(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Im){const s=this.child.component.scales[i];if(s&&!s.merged){const o=s.get("type"),a=s.get("range");if(mo(o)&&X1(a)){const l=uM(this.child,i),u=Dee(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):yt(AZ(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:s,ops:o,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of Qu){const d=this.facet[c];if(d){l.push(It(d));const{bin:f,sort:h}=d;if(fi(f)&&l.push(It(d,{binSuffix:"end"})),Vp(h)){const{field:p,op:m=q5}=h,g=MH(d,h);r&&i?(s.push(g),o.push("max"),a.push(g)):(s.push(p),o.push(m),a.push(g))}else if(nt(h)){const p=g_(d,c);s.push(p),o.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||s.length>0?{aggregate:{...u?{cross:u}:{},...s.length?{fields:s,ops:o,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Vp(r.sort)?[MH(r,r.sort,{expr:"datum"})]:nt(r.sort)?[g_(r,t,{expr:"datum"})]:[It(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Vp(i)?i.order:!nt(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return IH(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const s of Eee)if(t[s]){const o=y_("labelOrient",(i=t[s])==null?void 0:i.header,n,s);if(r[s].includes(o))return IH(t[s],s,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=Eqt(n),i=t.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...o?{style:o}:{},from:{facet:this.assembleFacet()},sort:{field:Qu.map(l=>this.facetSortFields(l)).flat(),order:Qu.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(FBt(this,[]))}]}getMapping(){return this.facet}}function Pqt(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const s of[n,r])if(Vp(s.sort)){const{field:o,op:a=q5}=s.sort;e=i=new nb(e,{joinaggregate:[{op:a,field:o,as:MH(s,s.sort,{forAs:!0})}],groupby:[It(s)]})}return i}return null}function p$e(e,t){var n,r,i,s;for(const o of t){const a=o.data;if(e.name&&o.hasName()&&e.name!==o.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=a.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const d=(s=a.format)==null?void 0:s.mesh;if(!((l||d)&&l!==d)){if(ET(e)&&ET(a)){if(au(e.values,a.values))return o}else if(h_(e)&&h_(a)){if(e.url===a.url)return o}else if(Y4e(e)&&e.name===o.dataName)return o}}return null}function Oqt(e,t){if(e.data||!e.parent){if(e.data===null){const r=new v1({values:[]});return t.push(r),r}const n=p$e(e.data,t);if(n)return Q0(e.data)||(n.data.format=qPe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new v1(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function Nqt(e,t,n){let r=0;for(const i of t.transforms){let s,o;if(dBt(i))o=e=new m_(e,i),s="derived";else if(hee(i)){const a=CUt(i);o=e=da.makeWithAncestors(e,{},a,n)??e,e=new gE(e,t,i.filter)}else if(q4e(i))o=e=ah.makeFromTransform(e,i,t),s="number";else if(hBt(i))s="date",n.getWithExplicit(i.field).value===void 0&&(e=new da(e,{[i.field]:s}),n.set(i.field,s,!1)),o=e=sh.makeFromTransform(e,i);else if(pBt(i))o=e=_d.makeFromTransform(e,i),s="number",bee(t)&&(e=new wg(e));else if(U4e(i))o=e=kT.make(e,t,i,r++),s="derived";else if(lBt(i))o=e=new vE(e,i),s="number";else if(uBt(i))o=e=new nb(e,i),s="number";else if(mBt(i))o=e=Gp.makeFromTransform(e,i),s="derived";else if(gBt(i))o=e=new hM(e,i),s="derived";else if(yBt(i))o=e=new dM(e,i),s="derived";else if(cBt(i))o=e=new fM(e,i),s="derived";else if(nBt(i))o=e=new yM(e,i),s="derived";else if(aBt(i))e=new vM(e,i);else if(fBt(i))o=e=Ov.makeFromTransform(e,i),s="derived";else if(rBt(i))o=e=new cM(e,i),s="derived";else if(iBt(i))o=e=new mM(e,i),s="derived";else if(sBt(i))o=e=new gM(e,i),s="derived";else if(oBt(i))o=e=new pM(e,i),s="derived";else{yt($Ft(i));continue}if(o&&s!==void 0)for(const a of o.producedFields()??[])n.set(a,s,!1)}return e}function bM(e){var g;let t=Oqt(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,o=!(i&&(Q0(i)||h_(i)||ET(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new IBt;Q0(i)?(K4e(i)?t=new mA(t,i.sequence):pee(i)&&(t=new pA(t,i.graticule)),o.parseNothing=!0):((g=i==null?void 0:i.format)==null?void 0:g.parse)===null&&(o.parseNothing=!0),t=da.makeExplicit(t,e,o)??t,t=new wg(t);const a=e.parent&&bE(e.parent);($i(e)||du(e))&&a&&(t=ah.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=Nqt(t,e,o));const l=TUt(e),u=SUt(e);t=da.makeWithAncestors(t,{},{...l,...u},o)??t,$i(e)&&(t=mx.parseAll(t,e),t=TT.parseAll(t,e)),($i(e)||du(e))&&(a||(t=ah.makeFromEncoding(t,e)??t),t=sh.makeFromEncoding(t,e)??t,t=m_.parseAllForSortIndex(t,e));const c=t=AR(Fi.Raw,e,t);if($i(e)){const v=_d.makeFromEncoding(t,e);v&&(t=v,bee(e)&&(t=new wg(t))),t=Ov.makeFromEncoding(t,e)??t,t=Gp.makeFromEncoding(t,e)??t}let d,f;if($i(e)){const{markDef:v,mark:y,config:w}=e,E=Jr("invalid",v,w),{marks:C,scales:S}=f=Q4e({invalid:E,isPath:Xg(y)});C!==S&&S==="include-invalid-values"&&(d=t=AR(Fi.PreFilterInvalid,e,t)),C==="exclude-invalid-values"&&(t=v_.make(t,e,f)??t)}const h=t=AR(Fi.Main,e,t);let p;if($i(e)&&f){const{marks:v,scales:y}=f;v==="include-invalid-values"&&y==="exclude-invalid-values"&&(t=v_.make(t,e,f)??t,p=t=AR(Fi.PostFilterInvalid,e,t))}$i(e)&&xzt(e,h);let m=null;if(du(e)){const v=e.getName("facet");t=Pqt(t,e.facet)??t,m=new yE(t,e,v,h.getSource()),n[v]=m}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:m,ancestorParse:o,preFilterInvalid:d,postFilterInvalid:p}}function AR(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,s=t.getDataName(e),o=new $l(n,s,e,i);return r[s]=o,o}class $qt extends Oee{constructor(t,n,r,i){var s,o,a,l;super(t,"concat",n,r,i,t.resolve),(((o=(s=t.resolve)==null?void 0:s.axis)==null?void 0:o.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&yt(PFt),this.children=this.getChildren(t).map((u,c)=>jee(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=bM(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ht(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>oh(t))&&RZ(IZ)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return X5(t)?t.vconcat:dee(t)?t.hconcat:t.concat}parseLayoutSize(){Iqt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=See(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function Mqt(e){return e===!1||e===null}const Fqt={disable:1,gridScale:1,scale:1,...f4e,labelExpr:1,encode:1},m$e=ht(Fqt);class $ee extends Dm{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new $ee(Cn(this.explicit),Cn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!Mqt(this.get(t))}hasOrientSignalRef(){return Jt(this.explicit.orient)}}function Lqt(e,t,n){const{encoding:r,config:i}=e,s=zs(r[t])??zs(r[Uh(t)]),o=e.axis(t)||{},{format:a,formatType:l}=o;if(h1(l))return{text:hd({fieldOrDatumDef:s,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(c_(s)==="quantitative"){if(d_(s)&&s.stack==="normalize"&&i.normalizedNumberFormatType)return{text:hd({fieldOrDatumDef:s,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:hd({fieldOrDatumDef:s,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(c_(s)==="temporal"&&i.timeFormatType&&bt(s)&&!s.timeUnit)return{text:hd({fieldOrDatumDef:s,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function jqt(e){return Im.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[Wqt(n,e)]),t),{})}const Bqt={bottom:"top",top:"bottom",left:"right",right:"left"};function zqt(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const s of ht(i.component.axes))n.axis[s]=Tee(e.component.resolve,s),n.axis[s]==="shared"&&(t[s]=Uqt(t[s],i.component.axes[s]),t[s]||(n.axis[s]="independent",delete t[s]))}for(const i of Im){for(const s of e.children)if(s.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(s.component.axes[i]);for(const o of s.component.axes[i]){const{value:a,explicit:l}=o.getWithExplicit("orient");if(!Jt(a)){if(r[a]>0&&!l){const u=Bqt[a];r[a]>r[u]&&o.set("orient",u,!1)}r[a]++}}}delete s.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[s,o]of(t[i]||[]).entries())s>0&&o.get("grid")&&!o.explicit.grid&&(o.implicit.grid=!1)}}function Uqt(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],s=t[r];if(!!i!=!!s)return;if(i&&s){const o=i.getWithExplicit("orient"),a=s.getWithExplicit("orient");if(o.explicit&&a.explicit&&o.value!==a.value)return;e[r]=qqt(i,s)}}}else return t.map(n=>n.clone());return e}function qqt(e,t){for(const n of m$e){const r=bg(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,s)=>{switch(n){case"title":return gOe(i,s);case"gridScale":return{explicit:i.explicit,value:ls(i.value,s.value)}}return J5(i,s,n,"axis")});e.setWithExplicit(n,r)}return e}function Hqt(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Jt(n.labelAngle)?n.labelAngle:xT(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===NNe(r,i))return!0}return e===n[t]}const Vqt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Wqt(e,t){var v,y;let n=t.axis(e);const r=new $ee,i=zs(t.encoding[e]),{mark:s,config:o}=t,a=(n==null?void 0:n.orient)||((v=o[e==="x"?"axisX":"axisY"])==null?void 0:v.orient)||((y=o.axis)==null?void 0:y.orient)||Dzt(e),l=t.getScaleComponent(e).get("type"),u=Czt(e,l,a,t.config),c=n!==void 0?!n:kH("disable",o.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const d=Azt(i,n,e,o.style,u),f=JOe(n.formatType,i,l),h=QOe(i,i.type,n.format,n.formatType,o,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:h,formatType:f,mark:s,config:o};for(const w of m$e){const E=w in Xpe?Xpe[w](p):gpe(w)?n[w]:void 0,C=E!==void 0,S=Hqt(E,w,n,t,e);if(C&&S)r.set(w,E,S);else{const{configValue:T=void 0,configFrom:k=void 0}=gpe(w)&&w!=="values"?kH(w,o.style,n.style,u):{},I=T!==void 0;C&&!I?r.set(w,E,S):(k!=="vgAxisConfig"||Vqt.has(w)&&I||uA(T)||Jt(T))&&r.set(w,T,!1)}}const m=n.encoding??{},g=d4e.reduce((w,E)=>{if(!r.hasAxisPart(E))return w;const C=BNe(m[E]??{},t),S=E==="labels"?Lqt(t,e,C):C;return S!==void 0&&!Zr(S)&&(w[E]={update:S}),w},{});return Zr(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function Gqt({encoding:e,size:t}){for(const n of Im){const r=Ul(n);wh(t[r])&&j0(e[n])&&(delete t[r],yt(xOe(r)))}return t}const Yqt={vgMark:"arc",encodeEntry:e=>({...Sc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Wa("x",e,{defaultPos:"mid"}),...Wa("y",e,{defaultPos:"mid"}),...um(e,"radius"),...um(e,"theta")})},Kqt={vgMark:"area",encodeEntry:e=>({...Sc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...eN("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...eN("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...vee(e)})},Xqt={vgMark:"rect",encodeEntry:e=>({...Sc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...um(e,"x"),...um(e,"y")})},Qqt={vgMark:"shape",encodeEntry:e=>({...Sc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&bt(n)&&n.type===pE?{field:It(n,{expr:"datum"})}:{}}]}},Jqt={vgMark:"image",encodeEntry:e=>({...Sc(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...um(e,"x"),...um(e,"y"),...gee(e,"url")})},Zqt={vgMark:"line",encodeEntry:e=>({...Sc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Wa("x",e,{defaultPos:"mid"}),...Wa("y",e,{defaultPos:"mid"}),...Mo("size",e,{vgChannel:"strokeWidth"}),...vee(e)})},eHt={vgMark:"trail",encodeEntry:e=>({...Sc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Wa("x",e,{defaultPos:"mid"}),...Wa("y",e,{defaultPos:"mid"}),...Mo("size",e),...vee(e)})};function Mee(e,t){const{config:n}=e;return{...Sc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Wa("x",e,{defaultPos:"mid"}),...Wa("y",e,{defaultPos:"mid"}),...Mo("size",e),...Mo("angle",e),...tHt(e,n,t)}}function tHt(e,t,n){return n?{shape:{value:n}}:Mo("shape",e)}const nHt={vgMark:"symbol",encodeEntry:e=>Mee(e)},rHt={vgMark:"symbol",encodeEntry:e=>Mee(e,"circle")},iHt={vgMark:"symbol",encodeEntry:e=>Mee(e,"square")},sHt={vgMark:"rect",encodeEntry:e=>({...Sc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...um(e,"x"),...um(e,"y")})},oHt={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Sc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...eN("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...eN("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Mo("size",e,{vgChannel:"strokeWidth"})}}},aHt={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Sc(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Wa("x",e,{defaultPos:"mid"}),...Wa("y",e,{defaultPos:"mid"}),...gee(e),...Mo("size",e,{vgChannel:"fontSize"}),...Mo("angle",e),...jpe("align",lHt(e.markDef,n,t)),...jpe("baseline",uHt(e.markDef,n,t)),...Wa("radius",e,{defaultPos:null}),...Wa("theta",e,{defaultPos:null})}}};function lHt(e,t,n){if(Jr("align",e,n)===void 0)return"center"}function uHt(e,t,n){if(Jr("baseline",e,n)===void 0)return"middle"}const cHt={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",s=r==="horizontal"?"y":"x",o=r==="horizontal"?"height":"width";return{...Sc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...um(e,i),...Wa(s,e,{defaultPos:"mid",vgChannel:s==="y"?"yc":"xc"}),[o]:vi(Jr("thickness",n,t))}}},IR={arc:Yqt,area:Kqt,bar:Xqt,circle:rHt,geoshape:Qqt,image:Jqt,line:Zqt,point:nHt,rect:sHt,rule:oHt,square:iHt,text:aHt,tick:cHt,trail:eHt};function dHt(e){if(Wn([z5,j5,ljt],e.mark)){const t=v4e(e.mark,e.encoding);if(t.length>0)return fHt(e,t)}else if(e.mark===B5){const t=uH.some(n=>Jr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return hHt(e)}return Fee(e)}const fme="faceted_path_";function fHt(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:fme+e.requestDataName(Fi.Main),data:e.requestDataName(Fi.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Fee(e,{fromPrefix:fme})}]}const hme="stack_group_";function hHt(e){var u;const[t]=Fee(e,{fromPrefix:hme}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,d)=>{const f=[r({prefix:"min",suffix:"start",expr:d}),r({prefix:"max",suffix:"start",expr:d}),r({prefix:"min",suffix:"end",expr:d}),r({prefix:"max",suffix:"end",expr:d})];return`${c}(${f.map(h=>`scale('${n}',${h})`).join(",")})`};let s,o;e.stack.fieldChannel==="x"?(s={...i_(t.encode.update,["y","yc","y2","height",...uH]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},o={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Nl(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(s={...i_(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},o={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Nl(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of uH){const d=vh(c,e.markDef,e.config);t.encode.update[c]?(s[c]=t.encode.update[c],delete t.encode.update[c]):d&&(s[c]=vi(d)),d&&(t.encode.update[c]={value:0})}const a=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const d=e.fieldDef(c),f=It(d);f&&a.push(f),(d!=null&&d.bin||d!=null&&d.timeUnit)&&a.push(It(d,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,d)=>{if(t.encode.update[d])return{...c,[d]:t.encode.update[d]};{const f=vh(d,e.markDef,e.config);return f!==void 0?{...c,[d]:vi(f)}:c}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Fi.Main),name:hme+e.requestDataName(Fi.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:o},marks:[t]}]}]}function pHt(e){const{encoding:t,stack:n,mark:r,markDef:i,config:s}=e,o=t.order;if(!(!nt(o)&&$d(o)&&aH(o.value)||!o&&aH(Jr("order",i,s)))){if((nt(o)||bt(o))&&!n)return hOe(o,{expr:"datum"});if(Xg(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(bt(l))return{field:a}}}}function Fee(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:s}=e,o=ls(r.clip,mHt(e),gHt(e)),a=dOe(r),l=i.key,u=pHt(e),c=yHt(e),d=Jr("aria",r,s),f=IR[n].postEncodingTransform?IR[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:IR[n].vgMark,...o?{clip:o}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(Fi.Main)},encode:{update:IR[n].encodeEntry(e)},...f?{transform:f}:{}}]}function mHt(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function gHt(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function yHt(e){if(!e.component.selection)return null;const t=ht(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=ht(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class g$e extends d$e{constructor(t,n,r,i={},s){super(t,"unit",n,r,s,void 0,vpe(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=u=>{var c,d,f;return(c=u.from)!=null&&c.data&&(u.from.data=this.lookupDataSource(u.from.data),"time"in this.encoding&&(u.from.data=u.from.data+Z4e)),(f=(d=u.from)==null?void 0:d.facet)!=null&&f.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u};const o=bh(t.mark)?{...t.mark}:{type:t.mark},a=o.type;o.filled===void 0&&(o.filled=V9t(o,s,{graticule:t.data&&pee(t.data)}));const l=this.encoding=Kjt(t.encoding||{},a,o.filled,s);this.markDef=j4e(o,l,s),this.size=Gqt({encoding:l,size:vpe(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=L4e(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>uee(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===HOe,r=t&&z8t.some(i=>An(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return SZ.reduce((r,i)=>{const s=zs(n[i]);return s&&(r[i]=this.initScale(s.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Po(t);return nt(n)&&(i.domain=n.map(su)),nt(r)&&(i.range=r.map(su)),i}initAxes(t){return Im.reduce((n,r)=>{const i=t[r];if(An(i)||r===Ri&&An(t.x2)||r===bo&&An(t.y2)){const s=An(i)?i.axis:void 0;n[r]=s&&this.initAxis({...s})}return n},{})}initAxis(t){const n=ht(t),r={};for(const i of n){const s=t[i];r[i]=uA(s)?cOe(s):su(s)}return r}initLegends(t){return J8t.reduce((n,r)=>{const i=zs(t[r]);if(i&&eFt(r)){const s=i.legend;n[r]=s&&Po(s)}return n},{})}parseData(){this.component.data=bM(this)}parseLayoutSize(){Rqt(this)}parseSelections(){this.component.selection=wzt(this,this.selection)}parseMarkGroup(){this.component.mark=dHt(this)}parseAxesAndHeaders(){this.component.axes=jqt(this)}assembleSelectionTopLevelSignals(t){return LBt(this,t)}assembleSignals(){return[...DNe(this),...MBt(this,[])]}assembleSelectionData(t){return jBt(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return See(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!bE(this.parent))&&(t=rNe(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return Dv(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Md(n)}typedFieldDef(t){const n=this.fieldDef(t);return el(n)?n:null}}class Lee extends Oee{constructor(t,n,r,i,s){super(t,"layer",n,r,s,t.resolve,t.view);const o={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(Q5(a))return new Lee(a,this,this.getName(`layer_${l}`),o,s);if(Rm(a))return new g$e(a,this,this.getName(`layer_${l}`),o,s);throw new Error(kZ(a))})}parseData(){this.component.data=bM(this);for(const t of this.children)t.parseData()}parseLayoutSize(){Aqt(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ht(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>oh(t))&&RZ(IZ)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){zqt(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),DNe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),See(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of $t(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return BBt(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),YNe(this))}}function jee(e,t,n,r,i){if(H5(e))return new f2(e,t,n,i);if(Q5(e))return new Lee(e,t,n,r,i);if(Rm(e))return new g$e(e,t,n,r,i);if(b9t(e))return new $qt(e,t,n,i);throw new Error(kZ(e))}function vHt(e,t={}){t.logger&&_Lt(t.logger),t.fieldTitle&&l4e(t.fieldTitle);try{const n=F4e(tE(t.config,e.config)),r=W4e(e,n),i=jee(r,null,"",void 0,n);return i.parse(),UUt(i.component.data,i),{spec:wHt(i,bHt(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&ELt(),t.fieldTitle&&Bjt()}}function bHt(e,t,n,r){const i=r.component.layoutSize.get("width"),s=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Ft(t)&&(t={type:t}),i&&s&&TBt(t.type)){if(i==="step"&&s==="step")yt(npe()),t.type="pad";else if(i==="step"||s==="step"){const o=i==="step"?"width":"height";yt(npe(O5(o)));const a=o==="width"?"height":"width";t.type=kBt(a)}}return{...ht(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...Rpe(n,!1),...Rpe(e,!0)}}function wHt(e,t,n={},r){const i=e.config?O9t(e.config):void 0,s=Cqt(e.component.data,n),o=e.assembleSelectionData(s),a=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(p=>(p.name==="width"||p.name==="height")&&p.value!==void 0?(t[p.name]=+p.value,!1):!0);const{params:f,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...h,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:o,...a.length>0?{projections:a}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...O4e(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const xHt=$8t.version,_Ht=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:o_,accessPathWithDatum:yZ,accessWithDatumToUnescapedPath:Hr,compile:vHt,contains:Wn,deepEqual:au,deleteNestedProperty:H4,duplicate:Cn,entries:gg,every:pZ,fieldIntersection:gZ,flatAccessWithDatum:VPe,getFirstDefined:ls,hasIntersection:mZ,hasProperty:pt,hash:nr,internalField:YPe,isBoolean:wT,isEmpty:Zr,isEqual:F8t,isInternalField:KPe,isNullOrFalse:aH,isNumeric:k5,keys:ht,logicalExpr:u2,mergeDeep:qPe,never:UPe,normalize:W4e,normalizeAngle:xT,omit:Nl,pick:i_,prefixGenerator:lH,removePathFromField:fE,replaceAll:a1,replacePathInField:dc,resetIdCounter:j8t,setEqual:HPe,some:s_,stringify:ei,titleCase:Jk,unique:Hf,uniqueId:GPe,vals:qo,varName:Ai,version:xHt},Symbol.toStringTag,{value:"Module"}));var RR={},pme;function EHt(){if(pme)return RR;pme=1,Object.defineProperty(RR,"__esModule",{value:!0});function e(t){var n=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g,r=n.exec(t).slice(1,3),i=r[0],s=r[1];return{library:i,version:s}}return RR.default=e,RR}var CHt=EHt();const y$e=qs(CHt);var SHt="2.15.0",THt={version:SHt};const nw="#fff",mme="#888",kHt={background:"#333",view:{stroke:mme},title:{color:nw,subtitleColor:nw},style:{"guide-label":{fill:nw},"guide-title":{fill:nw}},axis:{domainColor:nw,gridColor:mme,tickColor:nw}},_y="#4572a7",AHt={background:"#fff",arc:{fill:_y},area:{fill:_y},line:{stroke:_y,strokeWidth:2},path:{stroke:_y},rect:{fill:_y},shape:{stroke:_y},symbol:{fill:_y,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Ey="#30a2da",mB="#cbcbcb",IHt="#999",RHt="#333",gme="#f0f0f0",yme="#333",DHt={arc:{fill:Ey},area:{fill:Ey},axis:{domainColor:mB,grid:!0,gridColor:mB,gridWidth:1,labelColor:IHt,labelFontSize:10,titleColor:RHt,tickColor:mB,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:gme,group:{fill:gme},legend:{labelColor:yme,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:yme,titleFontSize:14,titlePadding:10},line:{stroke:Ey,strokeWidth:2},path:{stroke:Ey,strokeWidth:.5},rect:{fill:Ey},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Ey},bar:{binSpacing:2,fill:Ey,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Cy="#000",PHt={group:{fill:"#e5e5e5"},arc:{fill:Cy},area:{fill:Cy},line:{stroke:Cy},path:{stroke:Cy},rect:{fill:Cy},shape:{stroke:Cy},symbol:{fill:Cy,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},OHt=22,NHt="normal",vme="Benton Gothic, sans-serif",bme=11.5,$Ht="normal",Sy="#82c6df",gB="Benton Gothic Bold, sans-serif",wme="normal",xme=13,PC={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},MHt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:gB,fontSize:OHt,fontWeight:NHt},arc:{fill:Sy},area:{fill:Sy},line:{stroke:Sy,strokeWidth:2},path:{stroke:Sy},rect:{fill:Sy},shape:{stroke:Sy},symbol:{fill:Sy,size:30},axis:{labelFont:vme,labelFontSize:bme,labelFontWeight:$Ht,titleFont:gB,titleFontSize:xme,titleFontWeight:wme},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:vme,labelFontSize:bme,symbolType:"square",titleFont:gB,titleFontSize:xme,titleFontWeight:wme},range:{category:PC["category-6"],diverging:PC["fireandice-6"],heatmap:PC["fire-7"],ordinal:PC["fire-7"],ramp:PC["fire-7"]}},Ty="#ab5787",DR="#979797",FHt={background:"#f9f9f9",arc:{fill:Ty},area:{fill:Ty},line:{stroke:Ty},path:{stroke:Ty},rect:{fill:Ty},shape:{stroke:Ty},symbol:{fill:Ty,size:30},axis:{domainColor:DR,domainWidth:.5,gridWidth:.2,labelColor:DR,tickColor:DR,tickWidth:.2,titleColor:DR},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},ky="#3e5c69",LHt={background:"#fff",arc:{fill:ky},area:{fill:ky},line:{stroke:ky},path:{stroke:ky},rect:{fill:ky},shape:{stroke:ky},symbol:{fill:ky},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Mu="#1696d2",_me="#000000",jHt="#FFFFFF",PR="Lato",yB="Lato",BHt="Lato",zHt="#DEDDDD",UHt=18,OC={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},qHt={background:jHt,title:{anchor:"start",fontSize:UHt,font:PR},axisX:{domain:!0,domainColor:_me,domainWidth:1,grid:!1,labelFontSize:12,labelFont:yB,labelAngle:0,tickColor:_me,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:PR},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:zHt,gridWidth:1,labelFontSize:12,labelFont:yB,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:PR,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:yB,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:PR,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:OC["six-groups-cat-1"],diverging:OC["diverging-colors"],heatmap:OC["diverging-colors"],ordinal:OC["six-groups-seq"],ramp:OC["shades-blue"]},area:{fill:Mu},rect:{fill:Mu},line:{color:Mu,stroke:Mu,strokeWidth:5},trail:{color:Mu,stroke:Mu,strokeWidth:0,size:1},path:{stroke:Mu,strokeWidth:.5},point:{filled:!0},text:{font:BHt,color:Mu,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Mu,stroke:null}},arc:{fill:Mu},shape:{stroke:Mu},symbol:{fill:Mu,size:30}},Ay="#3366CC",Eme="#ccc",OR="Arial, sans-serif",HHt={arc:{fill:Ay},area:{fill:Ay},path:{stroke:Ay},rect:{fill:Ay},shape:{stroke:Ay},symbol:{stroke:Ay},circle:{fill:Ay},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:OR,fontSize:12},"guide-title":{font:OR,fontSize:12},"group-title":{font:OR,fontSize:12}},title:{font:OR,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Eme,tickColor:Eme,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Bee=e=>e*(1/3+1),Cme=Bee(9),Sme=Bee(10),Tme=Bee(12),NC="Segoe UI",kme="wf_standard-font, helvetica, arial, sans-serif",Ame="#252423",$C="#605E5C",Ime="transparent",VHt="#C8C6C4",Gc="#118DFF",WHt="#12239E",GHt="#E66C37",YHt="#6B007B",KHt="#E044A7",XHt="#744EC2",QHt="#D9B300",JHt="#D64550",v$e=Gc,b$e="#DEEFFF",Rme=[b$e,v$e],ZHt=[b$e,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",v$e],eVt={view:{stroke:Ime},background:Ime,font:NC,header:{titleFont:kme,titleFontSize:Tme,titleColor:Ame,labelFont:NC,labelFontSize:Sme,labelColor:$C},axis:{ticks:!1,grid:!1,domain:!1,labelColor:$C,labelFontSize:Cme,titleFont:kme,titleColor:Ame,titleFontSize:Tme,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:VHt,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Gc},line:{stroke:Gc,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:NC,fontSize:Cme,fill:$C},arc:{fill:Gc},area:{fill:Gc,line:!0,opacity:.6},path:{stroke:Gc},rect:{fill:Gc},point:{fill:Gc,filled:!0,size:75},shape:{stroke:Gc},symbol:{fill:Gc,strokeWidth:1.5,size:50},legend:{titleFont:NC,titleFontWeight:"bold",titleColor:$C,labelFont:NC,labelFontSize:Sme,labelColor:$C,symbolType:"circle",symbolSize:75},range:{category:[Gc,WHt,GHt,YHt,KHt,XHt,QHt,JHt],diverging:Rme,heatmap:Rme,ordinal:ZHt}},vB='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',tVt='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',bB=400,NR={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},nVt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],rVt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function wM({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=NR.gridBg[e],i=NR.textPrimary[e],s=NR.textSecondary[e],o=n==="dark"?nVt:rVt,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:vB,fontWeight:600},axis:{labelColor:s,labelFontSize:12,labelFont:tVt,labelFontWeight:bB,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:NR.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:vB,fill:s,fontWeight:bB},"guide-title":{font:vB,fill:s,fontWeight:bB}},range:{category:o,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const iVt=wM({theme:"white",background:"#ffffff"}),sVt=wM({theme:"g10",background:"#f4f4f4"}),oVt=wM({theme:"g90",background:"#262626"}),aVt=wM({theme:"g100",background:"#161616"}),lVt=THt.version,uVt=Object.freeze(Object.defineProperty({__proto__:null,carbong10:sVt,carbong100:aVt,carbong90:oVt,carbonwhite:iVt,dark:kHt,excel:AHt,fivethirtyeight:DHt,ggplot2:PHt,googlecharts:HHt,latimes:MHt,powerbi:eVt,quartz:FHt,urbaninstitute:qHt,version:lVt,vox:LHt},Symbol.toStringTag,{value:"Module"})),cVt=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black; }
  #vg-tooltip-element.visible {
    visibility: visible; }
  #vg-tooltip-element h2 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 13px; }
  #vg-tooltip-element table {
    border-spacing: 0; }
    #vg-tooltip-element table tr {
      border: none; }
      #vg-tooltip-element table tr td {
        overflow: hidden;
        text-overflow: ellipsis;
        padding-top: 2px;
        padding-bottom: 2px; }
        #vg-tooltip-element table tr td.key {
          color: #808080;
          max-width: 150px;
          text-align: right;
          padding-right: 4px; }
        #vg-tooltip-element table tr td.value {
          display: block;
          max-width: 300px;
          max-height: 7em;
          text-align: left; }
  #vg-tooltip-element.dark-theme {
    background-color: rgba(32, 32, 32, 0.9);
    border: 1px solid #f5f5f5;
    color: white; }
    #vg-tooltip-element.dark-theme td.key {
      color: #bfbfbf; }
`,w$e="vg-tooltip-element",dVt={offsetX:10,offsetY:10,id:w$e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:fVt,maxDepth:2};function fVt(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function hVt(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return cVt.toString().replace(w$e,e)}var pVt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function mVt(e,t,n){if(nt(e))return`[${e.map(r=>t(Ft(r)?r:Dme(r,n))).join(", ")}]`;if(Mt(e)){let r="";const i=e,{title:s}=i,o=pVt(i,["title"]);s&&(r+=`<h2>${t(s)}</h2>`);const a=Object.keys(o);if(a.length>0){r+="<table>";for(const l of a){let u=o[l];u!==void 0&&(Mt(u)&&(u=Dme(u,n)),r+=`<tr><td class="key">${t(l)}:</td><td class="value">${t(u)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function gVt(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function Dme(e,t){return JSON.stringify(e,gVt(t))}function yVt(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let s=e.clientY+r;return s+t.height>window.innerHeight&&(s=+e.clientY-r-t.height),{x:i,y:s}}class vVt{constructor(t){this.options=Object.assign(Object.assign({},dVt),t);const n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=hVt(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(t,n,r,i){if(i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=mVt(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:o}=yVt(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${o}px; left: ${s}px`)}}function bVt(e,t,n){const r=e.open(t),i=250;let s=40;function o(l){l.source===r&&(s=0,e.removeEventListener("message",o,!1))}e.addEventListener("message",o,!1);function a(){s<=0||(r.postMessage(n,"*"),setTimeout(a,i),s-=1)}setTimeout(a,i)}const wVt=`.vega-embed {
  position: relative;
  display: inline-block; }
  .vega-embed.has-actions {
    padding-right: 38px; }
  .vega-embed details:not([open]) > :not(summary) {
    display: none !important; }
  .vega-embed summary {
    list-style: none;
    position: absolute;
    top: 0;
    right: 0;
    padding: 6px;
    z-index: 1000;
    background: white;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
    color: #1b1e23;
    border: 1px solid #aaa;
    border-radius: 999px;
    opacity: 0.2;
    transition: opacity 0.4s ease-in;
    outline: none;
    cursor: pointer;
    line-height: 0px; }
    .vega-embed summary::-webkit-details-marker {
      display: none; }
    .vega-embed summary:active {
      box-shadow: #aaa 0px 0px 0px 1px inset; }
    .vega-embed summary svg {
      width: 14px;
      height: 14px; }
  .vega-embed details[open] summary {
    opacity: 0.7; }
  .vega-embed:hover summary,
  .vega-embed:focus summary {
    opacity: 1 !important;
    transition: opacity 0.2s ease; }
  .vega-embed .vega-actions {
    position: absolute;
    z-index: 1001;
    top: 35px;
    right: -9px;
    display: flex;
    flex-direction: column;
    padding-bottom: 8px;
    padding-top: 8px;
    border-radius: 4px;
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid #d9d9d9;
    background: white;
    animation-duration: 0.15s;
    animation-name: scale-in;
    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
    text-align: left; }
    .vega-embed .vega-actions a {
      padding: 8px 16px;
      font-family: sans-serif;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      color: #434a56;
      text-decoration: none; }
      .vega-embed .vega-actions a:hover {
        background-color: #f7f7f9;
        color: black; }
    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
      content: "";
      display: inline-block;
      position: absolute; }
    .vega-embed .vega-actions::before {
      left: auto;
      right: 14px;
      top: -16px;
      border: 8px solid #0000;
      border-bottom-color: #d9d9d9; }
    .vega-embed .vega-actions::after {
      left: auto;
      right: 15px;
      top: -14px;
      border: 7px solid #0000;
      border-bottom-color: #fff; }

.vega-embed-wrapper {
  max-width: 100%;
  overflow: scroll;
  padding-right: 14px; }

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6); }
  to {
    opacity: 1;
    transform: scale(1); } }
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function x$e(e,...t){for(const n of t)xVt(e,n);return e}function xVt(e,t){for(const n of Object.keys(t))nE(e,n,t[n],!0)}var wB;const k0=O8t;let AT=_Ht;const $R=typeof window<"u"?window:void 0;AT===void 0&&(!((wB=$R==null?void 0:$R.vl)===null||wB===void 0)&&wB.compile)&&(AT=$R.vl);const _Vt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},EVt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},PS={vega:"Vega","vega-lite":"Vega-Lite"},sN={vega:k0.version,"vega-lite":AT?AT.version:"not available"},CVt={vega:e=>e,"vega-lite":(e,t)=>AT.compile(e,{config:t}).spec},SVt=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`;function TVt(e){return typeof e=="function"}function Pme(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${n}</body></html>`,o=window.open("");o.document.write(i+e+s),o.document.title=`${PS[r]} JSON Source`}function kVt(e,t){var n;if(e.$schema){const r=y$e(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${PS[r.library]}, but mode argument sets ${(n=PS[t])!==null&&n!==void 0?n:t}.`);const i=r.library;return lAe.satisfies(sN[i],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${PS[i]} ${r.version}, but the current version of ${PS[i]} is v${sN[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function AVt(e){return!!(e&&"load"in e)}function IVt(e,t,n={}){var r,i,s;return PP(this,void 0,void 0,function*(){const o=AVt(n.loader)?n.loader:k0.loader(n.loader),a=Ft(t)?JSON.parse(yield o.load(t)):t,l=yield Ome((r=a.usermeta&&a.usermeta.embedOptions)!==null&&r!==void 0?r:{},o),u=yield Ome(n,o),c=Object.assign(Object.assign({},x$e(u,l)),{config:tE((i=u.config)!==null&&i!==void 0?i:{},(s=l.config)!==null&&s!==void 0?s:{})});return yield RVt(e,a,c,o)})}function Ome(e,t){var n;return PP(this,void 0,void 0,function*(){const r=Ft(e.config)?JSON.parse(yield t.load(e.config)):(n=e.config)!==null&&n!==void 0?n:{},i=Ft(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),i?{patch:i}:{}),r?{config:r}:{})})}function RVt(e,t,n={},r){var i,s,o,a,l,u;return PP(this,void 0,void 0,function*(){const c=n.theme?tE(uVt[n.theme],(i=n.config)!==null&&i!==void 0?i:{}):n.config,d=Bg(n.actions)?n.actions:x$e({},_Vt,(s=n.actions)!==null&&s!==void 0?s:{}),f=Object.assign(Object.assign({},EVt),n.i18n),h=(o=n.renderer)!==null&&o!==void 0?o:"canvas",p=(a=n.logLevel)!==null&&a!==void 0?a:k0.Warn,m=(l=n.downloadFileName)!==null&&l!==void 0?l:"visualization";if(n.defaultStyle!==!1){const I="vega-embed-style";if(!document.getElementById(I)){const R=document.createElement("style");R.id=I,R.innerText=n.defaultStyle===void 0||n.defaultStyle===!0?wVt.toString():n.defaultStyle,document.head.appendChild(R)}}const g=kVt(t,n.mode);let v=CVt[g](t,c);if(g==="vega-lite"&&v.$schema){const I=y$e(v.$schema);lAe.satisfies(sN.vega,`^${I.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${I.version}, but current version is v${sN.vega}.`)}const y=typeof e=="string"?document.querySelector(e):e;if(!y)throw Error(`${e} does not exist`);y.classList.add("vega-embed"),d&&y.classList.add("has-actions"),y.innerHTML="";const w=n.patch;w&&(w instanceof Function?v=w(v):v=k6(v,w,!0,!1).newDocument),n.formatLocale&&k0.formatLocale(n.formatLocale),n.timeFormatLocale&&k0.timeFormatLocale(n.timeFormatLocale);const E=k0.parse(v,g==="vega-lite"?{}:c),C=new k0.View(E,{loader:r,logLevel:p,renderer:h});if(n.tooltip!==!1){let I;TVt(n.tooltip)?I=n.tooltip:I=new vVt(n.tooltip===!0?{}:n.tooltip).call,C.tooltip(I)}let{hover:S}=n;if(S===void 0&&(S=g==="vega"),S){const{hoverSet:I,updateSet:R}=typeof S=="boolean"?{}:S;C.hover(I,R)}n&&(n.width!=null&&C.width(n.width),n.height!=null&&C.height(n.height),n.padding!=null&&C.padding(n.padding)),yield C.initialize(e).runAsync();let T;if(d!==!1){let I=y;if(n.defaultStyle!==!1){const O=document.createElement("details");O.title=f.CLICK_TO_VIEW_ACTIONS,y.append(O),I=O;const M=document.createElement("summary");M.innerHTML=SVt,O.append(M),T=$=>{O.contains($.target)||O.removeAttribute("open")},document.addEventListener("click",T)}const R=document.createElement("div");if(I.append(R),R.classList.add("vega-actions"),d===!0||d.export!==!1){for(const O of["svg","png"])if(d===!0||d.export===!0||d.export[O]){const M=f[`${O.toUpperCase()}_ACTION`],$=document.createElement("a");$.text=M,$.href="#",$.target="_blank",$.download=`${m}.${O}`,$.addEventListener("mousedown",function(L){return PP(this,void 0,void 0,function*(){L.preventDefault();const U=yield C.toImageURL(O,n.scaleFactor);this.href=U})}),R.append($)}}if(d===!0||d.source!==!1){const O=document.createElement("a");O.text=f.SOURCE_ACTION,O.href="#",O.addEventListener("mousedown",function(M){var $,L;Pme(Ij(t),($=n.sourceHeader)!==null&&$!==void 0?$:"",(L=n.sourceFooter)!==null&&L!==void 0?L:"",g),M.preventDefault()}),R.append(O)}if(g==="vega-lite"&&(d===!0||d.compiled!==!1)){const O=document.createElement("a");O.text=f.COMPILED_ACTION,O.href="#",O.addEventListener("mousedown",function(M){var $,L;Pme(Ij(v),($=n.sourceHeader)!==null&&$!==void 0?$:"",(L=n.sourceFooter)!==null&&L!==void 0?L:"","vega"),M.preventDefault()}),R.append(O)}if(d===!0||d.editor!==!1){const O=(u=n.editorUrl)!==null&&u!==void 0?u:"https://vega.github.io/editor/",M=document.createElement("a");M.text=f.EDITOR_ACTION,M.href="#",M.addEventListener("mousedown",function($){bVt(window,O,{config:c,mode:g,renderer:h,spec:Ij(t)}),$.preventDefault()}),R.append(M)}}function k(){T&&document.removeEventListener("click",T),C.finalize()}return{view:C,spec:t,vgSpec:v,finalize:k}})}function DVt(e){return!!e&&{}.toString.call(e)==="[object Function]"}function PVt(e,t,n){n&&(DVt(n)?n(e.data(t)):e.change(t,k0.changeset().remove(()=>!0).insert(n)))}function OVt(e,t){Object.keys(t).forEach(n=>{PVt(e,n,t[n])})}function _$e(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const E$e=()=>{};function xB(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function NVt(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=_$e([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!gS(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function Nme(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function _B(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function OS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C$e extends sr.PureComponent{constructor(){super(...arguments),OS(this,"containerRef",sr.createRef()),OS(this,"resultPromise",void 0),OS(this,"handleError",t=>{const{onError:n=E$e}=this.props;n(t,this.containerRef.current),console.warn(t)}),OS(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=_$e([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=NVt(_B(this.props),_B(t)),{signalListeners:i}=this.props,{signalListeners:s}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const o=!rq(i,s);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),o&&(s&&Nme(a,s),i&&xB(a,i)),a.run()})}else rq(i,s)||this.modifyView(o=>{s&&Nme(o,s),i&&xB(o,i),o.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:s,...o}=this.props;if(this.containerRef.current){const a=_B(this.props);this.resultPromise=IVt(this.containerRef.current,a,o).then(l=>{if(l){const{view:u}=l;xB(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return sr.createElement("div",{ref:this.containerRef,className:t,style:n})}}OS(C$e,"propTypes",{className:YP.string,onError:YP.func});function FH(){return FH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FH.apply(this,arguments)}function LH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $Vt={};class zee extends sr.PureComponent{constructor(){super(...arguments),LH(this,"vegaEmbed",sr.createRef()),LH(this,"handleNewView",t=>{this.update();const{onNewView:n=E$e}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){rq(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{OVt(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return sr.createElement(C$e,FH({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}LH(zee,"defaultProps",{data:$Vt});function jH(){return jH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jH.apply(this,arguments)}function $me(e){return sr.createElement(zee,jH({},e,{mode:"vega-lite"}))}const MVt=zee;function FVt({currentConfig:e,provState:t}){const n=Vs(),[r,i]=D.useState(null),[s,o]=D.useState(!0),a=B1(),{updateResponseBlockValidation:l,setReactiveAnswers:u}=bs(),[c,d]=D.useState(),{actions:f,trrack:h}=D.useMemo(()=>{const y=O1.create(),w=y.register("signal",(C,S)=>(C.event=S,C)),E=gk({registry:y,initialState:{event:{}}});return{actions:{signalAction:w},trrack:E}},[]),p=D.useCallback(({status:y,provenanceGraph:w,answers:E})=>{n(l({location:"stimulus",identifier:a,status:y,values:E,provenanceGraph:w})),n(u(E))},[n,l,a,u]),m=D.useCallback((y,w)=>{h.apply(y,f.signalAction({key:y,value:w}))},[f,h]),g=D.useCallback((y,w)=>{const{responseId:E,response:C}=w;p({status:!0,provenanceGraph:h.graph.backend,answers:{[E]:C}})},[p,h.graph.backend]),v=D.useMemo(()=>{var w;const y=(w=r==null?void 0:r.config)==null?void 0:w.signals;return y?y.reduce((E,C)=>(C.name==="revisitAnswer"?E[C.name]=g:E[C.name]=m,E),{}):{}},[g,m,r]);return D.useEffect(()=>{async function y(){o(!0);let w;"path"in e?w=await BSt(e.path):w=e.config,w!==void 0&&i(w),o(!1)}e&&y()},[e]),D.useEffect(()=>{c&&t&&t.event&&t.event.key&&c.signal(t.event.key,t.event.value).run()},[c,t]),s?x.jsx("div",{children:"Loading..."}):"path"in e&&!r?x.jsx(om,{path:e.path}):r?x.jsx(MVt,{spec:structuredClone(r),signalListeners:v,onNewView:y=>d(y),actions:e.withActions}):x.jsx("div",{children:"Failed to load vega config"})}function jt(e,t,n){return(t=jVt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LVt(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jVt(e){var t=LVt(e,"string");return typeof t=="symbol"?t:String(t)}function BVt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zVt(e,t,n){return t&&Mme(e.prototype,t),n&&Mme(e,n),e}function UVt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fme(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function Lme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fme(Object(n),!0).forEach((function(r){UVt(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fme(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var jme={addCSS:!0,thumbWidth:15,watch:!0};function qVt(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function HVt(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}var gA=function(e){return e!=null?e.constructor:null},Uee=function(e,t){return!!(e&&t&&e instanceof t)},S$e=function(e){return e==null},T$e=function(e){return gA(e)===Object},VVt=function(e){return gA(e)===Number&&!Number.isNaN(e)},k$e=function(e){return gA(e)===String},WVt=function(e){return gA(e)===Boolean},GVt=function(e){return gA(e)===Function},A$e=function(e){return Array.isArray(e)},I$e=function(e){return Uee(e,NodeList)},YVt=function(e){return Uee(e,Element)},KVt=function(e){return Uee(e,Event)},XVt=function(e){return S$e(e)||(k$e(e)||A$e(e)||I$e(e))&&!e.length||T$e(e)&&!Object.keys(e).length},ea={nullOrUndefined:S$e,object:T$e,number:VVt,string:k$e,boolean:WVt,function:GVt,array:A$e,nodeList:I$e,element:YVt,event:KVt,empty:XVt};function QVt(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function JVt(e,t){if(1>t){var n=QVt(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var ZVt=(function(){function e(t,n){BVt(this,e),ea.element(t)?this.element=t:ea.string(t)&&(this.element=document.querySelector(t)),ea.element(this.element)&&ea.empty(this.element.rangeTouch)&&(this.config=Lme({},jme,{},n),this.init())}return zVt(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var n=this,r=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(i){n.element[r](i,(function(s){return n.set(s)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!ea.event(t))return null;var n,r=t.target,i=t.changedTouches[0],s=parseFloat(r.getAttribute("min"))||0,o=parseFloat(r.getAttribute("max"))||100,a=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),s+JVt(n/100*(o-s),a)}},{key:"set",value:function(t){e.enabled&&ea.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),HVt(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=null;if(ea.empty(t)||ea.string(t)?r=Array.from(document.querySelectorAll(ea.string(t)?t:'input[type="range"]')):ea.element(t)?r=[t]:ea.nodeList(t)?r=Array.from(t):ea.array(t)&&(r=t.filter(ea.element)),ea.empty(r))return null;var i=Lme({},jme,{},n);if(ea.string(t)&&i.watch){var s=new MutationObserver((function(o){Array.from(o).forEach((function(a){Array.from(a.addedNodes).forEach((function(l){ea.element(l)&&qVt(l,t)&&new e(l,i)}))}))}));s.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(o){return new e(o,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e})();const yA=e=>e!=null?e.constructor:null,dm=(e,t)=>!!(e&&t&&e instanceof t),qee=e=>e==null,R$e=e=>yA(e)===Object,eWt=e=>yA(e)===Number&&!Number.isNaN(e),xM=e=>yA(e)===String,tWt=e=>yA(e)===Boolean,D$e=e=>typeof e=="function",P$e=e=>Array.isArray(e),nWt=e=>dm(e,WeakMap),O$e=e=>dm(e,NodeList),rWt=e=>yA(e)===Text,iWt=e=>dm(e,Event),sWt=e=>dm(e,KeyboardEvent),oWt=e=>dm(e,window.TextTrackCue)||dm(e,window.VTTCue),aWt=e=>dm(e,TextTrack)||!qee(e)&&xM(e.kind),lWt=e=>dm(e,Promise)&&D$e(e.then),uWt=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",N$e=e=>qee(e)||(xM(e)||P$e(e)||O$e(e))&&!e.length||R$e(e)&&!Object.keys(e).length,cWt=e=>{if(dm(e,window.URL))return!0;if(!xM(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!N$e(new URL(t).hostname)}catch{return!1}};var pe={nullOrUndefined:qee,object:R$e,number:eWt,string:xM,boolean:tWt,function:D$e,array:P$e,weakMap:nWt,nodeList:O$e,element:uWt,textNode:rWt,event:iWt,keyboardEvent:sWt,cue:oWt,track:aWt,promise:lWt,url:cWt,empty:N$e};const BH=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find((r=>e.style[r]!==void 0));return!!pe.string(n)&&t[n]})();function $$e(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}}),t)}const dWt=!!window.document.documentMode,fWt=/Edge/g.test(navigator.userAgent),hWt="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),pWt=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,mWt=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,gWt=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var ro={isIE:dWt,isEdge:fWt,isWebKit:hWt,isIPhone:pWt,isIPadOS:mWt,isIos:gWt};function yWt(e){return JSON.parse(JSON.stringify(e))}function M$e(e,t){return t.split(".").reduce(((n,r)=>n&&n[r]),e)}function es(e={},...t){if(!t.length)return e;const n=t.shift();return pe.object(n)?(Object.keys(n).forEach((r=>{pe.object(n[r])?(Object.keys(e).includes(r)||Object.assign(e,{[r]:{}}),es(e[r],n[r])):Object.assign(e,{[r]:n[r]})})),es(e,...t)):e}function F$e(e,t){const n=e.length?e:[e];Array.from(n).reverse().forEach(((r,i)=>{const s=i>0?t.cloneNode(!0):t,o=r.parentNode,a=r.nextSibling;s.appendChild(r),a?o.insertBefore(s,a):o.appendChild(s)}))}function zH(e,t){pe.element(e)&&!pe.empty(t)&&Object.entries(t).filter((([,n])=>!pe.nullOrUndefined(n))).forEach((([n,r])=>e.setAttribute(n,r)))}function bn(e,t,n){const r=document.createElement(e);return pe.object(t)&&zH(r,t),pe.string(n)&&(r.innerText=n),r}function vWt(e,t){pe.element(e)&&pe.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function Bme(e,t,n,r){pe.element(t)&&t.appendChild(bn(e,n,r))}function Op(e){pe.nodeList(e)||pe.array(e)?Array.from(e).forEach(Op):pe.element(e)&&pe.element(e.parentNode)&&e.parentNode.removeChild(e)}function bP(e){if(!pe.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function oN(e,t){return pe.element(t)&&pe.element(t.parentNode)&&pe.element(e)?(t.parentNode.replaceChild(e,t),e):null}function Af(e,t){if(!pe.string(e)||pe.empty(e))return{};const n={},r=es({},t);return e.split(",").forEach((i=>{const s=i.trim(),o=s.replace(".",""),a=s.replace(/[[\]]/g,"").split("="),[l]=a,u=a.length>1?a[1].replace(/["']/g,""):"";switch(s.charAt(0)){case".":pe.string(r.class)?n.class=`${r.class} ${o}`:n.class=o;break;case"#":n.id=s.replace("#","");break;case"[":n[l]=u}})),es(r,n)}function Iy(e,t){if(!pe.element(e))return;let n=t;pe.boolean(n)||(n=!e.hidden),e.hidden=n}function jr(e,t,n){if(pe.nodeList(e))return Array.from(e).map((r=>jr(r,t,n)));if(pe.element(e)){let r="toggle";return n!==void 0&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function aN(e,t){return pe.element(e)&&e.classList.contains(t)}function mv(e,t){const{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function bWt(e,t){const{prototype:n}=Element;return(n.closest||function(){let r=this;do{if(mv.matches(r,t))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}).call(e,t)}function IT(e){return this.elements.container.querySelectorAll(e)}function Os(e){return this.elements.container.querySelector(e)}function EB(e=null,t=!1){pe.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const zme={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ns={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const n=ns[e]||t!=="html5";return{api:n,ui:n&&ns.rangeInput}},pip:!(ro.isIPhone||!pe.function(bn("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||bn("video").disablePictureInPicture)),airplay:pe.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(pe.empty(e))return!1;const[t]=e.split("/");let n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(zme).includes(n)&&(n+=`; codecs="${zme[e]}"`);try{return!!(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:BH!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},wWt=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function RT(e,t,n,r=!1,i=!0,s=!1){if(!e||!("addEventListener"in e)||pe.empty(t)||!pe.function(n))return;const o=t.split(" ");let a=s;wWt&&(a={passive:i,capture:s}),o.forEach((l=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:e,type:l,callback:n,options:a}),e[r?"addEventListener":"removeEventListener"](l,n,a)}))}function gr(e,t="",n,r=!0,i=!1){RT.call(this,e,t,n,!0,r,i)}function _M(e,t="",n,r=!0,i=!1){RT.call(this,e,t,n,!1,r,i)}function Hee(e,t="",n,r=!0,i=!1){const s=(...o)=>{_M(e,t,s,r,i),n.apply(this,o)};RT.call(this,e,t,s,!0,r,i)}function xn(e,t="",n=!1,r={}){if(!pe.element(e)||pe.empty(t))return;const i=new CustomEvent(t,{bubbles:n,detail:{...r,plyr:this}});e.dispatchEvent(i)}function xWt(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:n,callback:r,options:i}=e;t.removeEventListener(n,r,i)})),this.eventListeners=[])}function _Wt(){return new Promise((e=>this.ready?setTimeout(e,0):gr.call(this,this.elements.container,"ready",e))).then((()=>{}))}function qf(e){pe.promise(e)&&e.then(null,(()=>{}))}function UH(e){return pe.array(e)?e.filter(((t,n)=>e.indexOf(t)===n)):e}function L$e(e,t){return pe.array(e)&&e.length?e.reduce(((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n)):null}function j$e(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const Ume=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,n])=>({...e,[t/n]:[t,n]})),{});function B$e(e){return pe.array(e)||pe.string(e)&&e.includes(":")?(pe.array(e)?e:e.split(":")).map(Number).every(pe.number):!1}function lN(e){if(!pe.array(e)||!e.every(pe.number))return null;const[t,n]=e,r=(s,o)=>o===0?s:r(o,s%o),i=r(t,n);return[t/i,n/i]}function Vee(e){const t=r=>B$e(r)?r.split(":").map(Number):null;let n=t(e);if(n===null&&(n=t(this.config.ratio)),n===null&&!pe.empty(this.embed)&&pe.array(this.embed.ratio)&&({ratio:n}=this.embed),n===null&&this.isHTML5){const{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return lN(n)}function b_(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,n=Vee.call(this,e);if(!pe.array(n))return{};const[r,i]=lN(n),s=100/r*i;if(j$e(`aspect-ratio: ${r}/${i}`)?t.style.aspectRatio=`${r}/${i}`:t.style.paddingBottom=`${s}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const o=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(o-s)/(o/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${a}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:s,ratio:n}}function z$e(e,t,n=.05){const r=e/t,i=L$e(Object.keys(Ume),r);return Math.abs(i-r)<=n?Ume[i]:[e,t]}function EWt(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const B0={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!pe.empty(t)||ns.mime.call(this,t)})):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:B0.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,pe.empty(this.config.ratio)||b_.call(e),Object.defineProperty(e.media,"quality",{get(){const t=B0.getSources.call(e).find((n=>n.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&pe.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const n=B0.getSources.call(e).find((l=>Number(l.getAttribute("size"))===t));if(!n)return;const{currentTime:r,paused:i,preload:s,readyState:o,playbackRate:a}=e.media;e.media.src=n.getAttribute("src"),(s!=="none"||o)&&(e.once("loadedmetadata",(()=>{e.speed=a,e.currentTime=r,i||qf(e.play())})),e.media.load())}xn.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(Op(B0.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function CWt(e){return`${e}-${Math.floor(1e4*Math.random())}`}function qH(e,...t){return pe.empty(e)?e:e.toString().replace(/{(\d+)}/g,((n,r)=>t[r].toString()))}function SWt(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const h2=(e="",t="",n="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),U$e=(e="")=>e.toString().replace(/\w\S*/g,(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()));function TWt(e=""){let t=e.toString();return t=h2(t,"-"," "),t=h2(t,"_"," "),t=U$e(t),h2(t," ","")}function kWt(e=""){let t=e.toString();return t=TWt(t),t.charAt(0).toLowerCase()+t.slice(1)}function AWt(e){const t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}function IWt(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const qme={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},no={get(e="",t={}){if(pe.empty(e)||pe.empty(t))return"";let n=M$e(t.i18n,e);if(pe.empty(n))return Object.keys(qme).includes(e)?qme[e]:"";const r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach((([i,s])=>{n=h2(n,i,s)})),n}};class DT{constructor(t){jt(this,"get",(n=>{if(!DT.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(pe.empty(r))return null;const i=JSON.parse(r);return pe.string(n)&&n.length?i[n]:i})),jt(this,"set",(n=>{if(!DT.supported||!this.enabled||!pe.object(n))return;let r=this.get();pe.empty(r)&&(r={}),es(r,n);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function vA(e,t="text"){return new Promise(((n,r)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",(()=>{if(t==="text")try{n(JSON.parse(i.responseText))}catch{n(i.responseText)}else n(i.response)})),i.addEventListener("error",(()=>{throw new Error(i.status)})),i.open("GET",e,!0),i.responseType=t,i.send()}catch(i){r(i)}}))}function q$e(e,t){if(!pe.string(e))return;const n="cache",r=pe.string(t);let i=!1;const s=()=>document.getElementById(t)!==null,o=(a,l)=>{a.innerHTML=l,r&&s()||document.body.insertAdjacentElement("afterbegin",a)};if(!r||!s()){const a=DT.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),r&&l.setAttribute("id",t),a){const u=window.localStorage.getItem(`${n}-${t}`);if(i=u!==null,i){const c=JSON.parse(u);o(l,c.content)}}vA(e).then((u=>{if(!pe.empty(u)){if(a)try{window.localStorage.setItem(`${n}-${t}`,JSON.stringify({content:u}))}catch{}o(l,u)}})).catch((()=>{}))}}const H$e=e=>Math.trunc(e/60/60%60,10),RWt=e=>Math.trunc(e/60%60,10),DWt=e=>Math.trunc(e%60,10);function EM(e=0,t=!1,n=!1){if(!pe.number(e))return EM(void 0,t,n);const r=a=>`0${a}`.slice(-2);let i=H$e(e);const s=RWt(e),o=DWt(e);return i=t||i>0?`${i}:`:"",`${n&&e>0?"-":""}${i}${r(s)}:${r(o)}`}const Ot={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||ro.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=Os.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:IT.call(this,this.config.selectors.buttons.play),pause:Os.call(this,this.config.selectors.buttons.pause),restart:Os.call(this,this.config.selectors.buttons.restart),rewind:Os.call(this,this.config.selectors.buttons.rewind),fastForward:Os.call(this,this.config.selectors.buttons.fastForward),mute:Os.call(this,this.config.selectors.buttons.mute),pip:Os.call(this,this.config.selectors.buttons.pip),airplay:Os.call(this,this.config.selectors.buttons.airplay),settings:Os.call(this,this.config.selectors.buttons.settings),captions:Os.call(this,this.config.selectors.buttons.captions),fullscreen:Os.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Os.call(this,this.config.selectors.progress),this.elements.inputs={seek:Os.call(this,this.config.selectors.inputs.seek),volume:Os.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Os.call(this,this.config.selectors.display.buffer),currentTime:Os.call(this,this.config.selectors.display.currentTime),duration:Os.call(this,this.config.selectors.display.duration)},pe.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const n="http://www.w3.org/2000/svg",r=Ot.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,s=document.createElementNS(n,"svg");zH(s,es(t,{"aria-hidden":"true",focusable:"false"}));const o=document.createElementNS(n,"use"),a=`${i}-${e}`;return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",a),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),s.appendChild(o),s},createLabel(e,t={}){const n=no.get(e,this.config);return bn("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(e){if(pe.empty(e))return null;const t=bn("span",{class:this.config.classNames.menu.value});return t.appendChild(bn("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const n=es({},t);let r=kWt(e);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((o=>{Object.keys(n).includes(o)&&(i[o]=n[o],delete n[o])})),i.element!=="button"||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some((o=>o===this.config.classNames.control))||es(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:pe.empty(i.label)&&(i.label=r),pe.empty(i.icon)&&(i.icon=e)}const s=bn(i.element);return i.toggle?(s.appendChild(Ot.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),s.appendChild(Ot.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),s.appendChild(Ot.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),s.appendChild(Ot.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(s.appendChild(Ot.createIcon.call(this,i.icon)),s.appendChild(Ot.createLabel.call(this,i.label))),es(n,Af(this.config.selectors.buttons[r],n)),zH(s,n),r==="play"?(pe.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(s)):this.elements.buttons[r]=s,s},createRange(e,t){const n=bn("input",es(Af(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":no.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,Ot.updateRangeFill.call(this,n),ZVt.setup(n),n},createProgress(e,t){const n=bn("progress",es(Af(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){n.appendChild(bn("span",null,"0"));const r={played:"played",buffer:"buffered"}[e],i=r?no.get(r,this.config):"";n.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=n,n},createTime(e,t){const n=Af(this.config.selectors.display[e],t),r=bn("div",es(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":no.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts(e,t){gr.call(this,e,"keydown keyup",(n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),n.type==="keydown"))return;const r=mv(e,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))Ot.showMenuPanel.call(this,t,!0);else{let i;n.key!==" "&&(n.key==="ArrowDown"||r&&n.key==="ArrowRight"?(i=e.nextElementSibling,pe.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,pe.element(i)||(i=e.parentNode.lastElementChild)),EB.call(this,i,!0))}}),!1),gr.call(this,e,"keyup",(n=>{n.key==="Return"&&Ot.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:n,title:r,badge:i=null,checked:s=!1}){const o=Af(this.config.selectors.inputs[n]),a=bn("button",es(o,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${o.class?o.class:""}`.trim(),"aria-checked":s,value:e})),l=bn("span");l.innerHTML=r,pe.element(i)&&l.appendChild(i),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>a.getAttribute("aria-checked")==="true",set(u){u&&Array.from(a.parentNode.children).filter((c=>mv(c,'[role="menuitemradio"]'))).forEach((c=>c.setAttribute("aria-checked","false"))),a.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(a,"click keyup",(u=>{if(!pe.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),a.checked=!0,n){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Ot.showMenuPanel.call(this,"home",pe.keyboardEvent(u))}}),n,!1),Ot.bindMenuItemShortcuts.call(this,a,n),t.appendChild(a)},formatTime(e=0,t=!1){return pe.number(e)?EM(e,H$e(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,n=!1){pe.element(e)&&pe.number(t)&&(e.innerText=Ot.formatTime(t,n))},updateVolume(){this.supported.ui&&(pe.element(this.elements.inputs.volume)&&Ot.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),pe.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){pe.element(e)&&(e.value=t,Ot.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!pe.event(e))return;let t=0;const n=(r,i)=>{const s=pe.number(i)?i:0,o=pe.element(r)?r:this.elements.display.buffer;if(pe.element(o)){o.value=s;const a=o.getElementsByTagName("span")[0];pe.element(a)&&(a.childNodes[0].nodeValue=s)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=SWt(this.currentTime,this.duration),e.type==="timeupdate"&&Ot.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":n(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=pe.event(e)?e.target:e;if(pe.element(t)&&t.getAttribute("type")==="range"){if(mv(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const n=Ot.formatTime(this.currentTime),r=Ot.formatTime(this.duration),i=no.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(mv(t,this.config.selectors.inputs.volume)){const n=100*t.value;t.setAttribute("aria-valuenow",n),t.setAttribute("aria-valuetext",`${n.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(ro.isWebKit||ro.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,n;if(!this.config.tooltips.seek||!pe.element(this.elements.inputs.seek)||!pe.element(this.elements.display.seekTooltip)||this.duration===0)return;const r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,s=c=>jr(r,i,c);if(this.touch)return void s(!1);let o=0;const a=this.elements.progress.getBoundingClientRect();if(pe.event(e))o=100/a.width*(e.pageX-a.left);else{if(!aN(r,i))return;o=parseFloat(r.style.left,10)}o<0?o=0:o>100&&(o=100);const l=this.duration/100*o;r.innerText=Ot.formatTime(l);const u=(t=this.config.markers)===null||t===void 0||(n=t.points)===null||n===void 0?void 0:n.find((({time:c})=>c===Math.round(l)));u&&r.insertAdjacentHTML("afterbegin",`${u.label}<br>`),r.style.left=`${o}%`,pe.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&s(e.type==="mouseenter")},timeUpdate(e){const t=!pe.element(this.elements.display.duration)&&this.config.invertTime;Ot.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||Ot.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return Iy(this.elements.display.currentTime,!0),void Iy(this.elements.progress,!0);pe.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=pe.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Ot.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Ot.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Ot.setMarkers.call(this),Ot.updateSeekTooltip.call(this)},toggleMenuButton(e,t){Iy(this.elements.settings.buttons[e],!t)},updateSetting(e,t,n){const r=this.elements.settings.panels[e];let i=null,s=t;if(e==="captions")i=this.currentTrack;else{if(i=pe.empty(n)?this[e]:n,pe.empty(i)&&(i=this.config[e].default),!pe.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(pe.element(s)||(s=r&&r.querySelector('[role="menu"]')),!pe.element(s))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Ot.getLabel.call(this,e,i);const o=s&&s.querySelector(`[value="${i}"]`);pe.element(o)&&(o.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?no.get("normal",this.config):`${t}&times;`;case"quality":if(pe.number(t)){const n=no.get(`qualityLabel.${t}`,this.config);return n.length?n:`${t}p`}return U$e(t);case"captions":return _r.getLabel.call(this);default:return null}},setQualityMenu(e){if(!pe.element(this.elements.settings.panels.quality))return;const t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');pe.array(e)&&(this.options.quality=UH(e).filter((s=>this.config.quality.options.includes(s))));const r=!pe.empty(this.options.quality)&&this.options.quality.length>1;if(Ot.toggleMenuButton.call(this,t,r),bP(n),Ot.checkMenu.call(this),!r)return;const i=s=>{const o=no.get(`qualityBadge.${s}`,this.config);return o.length?Ot.createBadge.call(this,o):null};this.options.quality.sort(((s,o)=>{const a=this.config.quality.options;return a.indexOf(s)>a.indexOf(o)?1:-1})).forEach((s=>{Ot.createMenuItem.call(this,{value:s,list:n,type:t,title:Ot.getLabel.call(this,"quality",s),badge:i(s)})})),Ot.updateSetting.call(this,t,n)},setCaptionsMenu(){if(!pe.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=_r.getTracks.call(this),r=!!n.length;if(Ot.toggleMenuButton.call(this,e,r),bP(t),Ot.checkMenu.call(this),!r)return;const i=n.map(((s,o)=>({value:o,checked:this.captions.toggled&&this.currentTrack===o,title:_r.getLabel.call(this,s),badge:s.language&&Ot.createBadge.call(this,s.language.toUpperCase()),list:t,type:"language"})));i.unshift({value:-1,checked:!this.captions.toggled,title:no.get("disabled",this.config),list:t,type:"language"}),i.forEach(Ot.createMenuItem.bind(this)),Ot.updateSetting.call(this,e,t)},setSpeedMenu(){if(!pe.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((r=>r>=this.minimumSpeed&&r<=this.maximumSpeed));const n=!pe.empty(this.options.speed)&&this.options.speed.length>1;Ot.toggleMenuButton.call(this,e,n),bP(t),Ot.checkMenu.call(this),n&&(this.options.speed.forEach((r=>{Ot.createMenuItem.call(this,{value:r,list:t,type:e,title:Ot.getLabel.call(this,"speed",r)})})),Ot.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!pe.empty(e)&&Object.values(e).some((n=>!n.hidden));Iy(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let n=e;pe.element(n)||(n=Object.values(this.elements.settings.panels).find((i=>!i.hidden)));const r=n.querySelector('[role^="menuitem"]');EB.call(this,r,t)},toggleMenu(e){const{popup:t}=this.elements.settings,n=this.elements.buttons.settings;if(!pe.element(t)||!pe.element(n))return;const{hidden:r}=t;let i=r;if(pe.boolean(e))i=e;else if(pe.keyboardEvent(e)&&e.key==="Escape")i=!1;else if(pe.event(e)){const s=pe.function(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(s);if(o||!o&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),Iy(t,!i),jr(this.elements.container,this.config.classNames.menu.open,i),i&&pe.keyboardEvent(e)?Ot.focusFirstMenuItem.call(this,null,!0):i||r||EB.call(this,n,pe.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const n=t.scrollWidth,r=t.scrollHeight;return Op(t),{width:n,height:r}},showMenuPanel(e="",t=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!pe.element(n))return;const r=n.parentNode,i=Array.from(r.children).find((s=>!s.hidden));if(ns.transitions&&!ns.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;const s=Ot.getMenuSize.call(this,n),o=a=>{a.target===r&&["width","height"].includes(a.propertyName)&&(r.style.width="",r.style.height="",_M.call(this,r,BH,o))};gr.call(this,r,BH,o),r.style.width=`${s.width}px`,r.style.height=`${s.height}px`}Iy(i,!0),Iy(n,!1),Ot.focusFirstMenuItem.call(this,n,t)},setDownloadUrl(){const e=this.elements.buttons.download;pe.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:n,createProgress:r,createRange:i,createTime:s,setQualityMenu:o,setSpeedMenu:a,showMenuPanel:l}=Ot;this.elements.controls=null,pe.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const u=bn("div",Af(this.config.selectors.controls.wrapper));this.elements.controls=u;const c={class:"plyr__controls__item"};return UH(pe.array(this.config.controls)?this.config.controls:[]).forEach((d=>{if(d==="restart"&&u.appendChild(n.call(this,"restart",c)),d==="rewind"&&u.appendChild(n.call(this,"rewind",c)),d==="play"&&u.appendChild(n.call(this,"play",c)),d==="fast-forward"&&u.appendChild(n.call(this,"fast-forward",c)),d==="progress"){const f=bn("div",{class:`${c.class} plyr__progress__container`}),h=bn("div",Af(this.config.selectors.progress));if(h.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),h.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const p=bn("span",{class:this.config.classNames.tooltip},"00:00");h.appendChild(p),this.elements.display.seekTooltip=p}this.elements.progress=h,f.appendChild(this.elements.progress),u.appendChild(f)}if(d==="current-time"&&u.appendChild(s.call(this,"currentTime",c)),d==="duration"&&u.appendChild(s.call(this,"duration",c)),d==="mute"||d==="volume"){let{volume:f}=this.elements;if(pe.element(f)&&u.contains(f)||(f=bn("div",es({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=f,u.appendChild(f)),d==="mute"&&f.appendChild(n.call(this,"mute")),d==="volume"&&!ro.isIos&&!ro.isIPadOS){const h={max:1,step:.05,value:this.config.volume};f.appendChild(i.call(this,"volume",es(h,{id:`plyr-volume-${e.id}`})))}}if(d==="captions"&&u.appendChild(n.call(this,"captions",c)),d==="settings"&&!pe.empty(this.config.settings)){const f=bn("div",es({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));f.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const h=bn("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),p=bn("div"),m=bn("div",{id:`plyr-settings-${e.id}-home`}),g=bn("div",{role:"menu"});m.appendChild(g),p.appendChild(m),this.elements.settings.panels.home=m,this.config.settings.forEach((v=>{const y=bn("button",es(Af(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,y,v),gr.call(this,y,"click",(()=>{l.call(this,v,!1)}));const w=bn("span",null,no.get(v,this.config)),E=bn("span",{class:this.config.classNames.menu.value});E.innerHTML=e[v],w.appendChild(E),y.appendChild(w),g.appendChild(y);const C=bn("div",{id:`plyr-settings-${e.id}-${v}`,hidden:""}),S=bn("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});S.appendChild(bn("span",{"aria-hidden":!0},no.get(v,this.config))),S.appendChild(bn("span",{class:this.config.classNames.hidden},no.get("menuBack",this.config))),gr.call(this,C,"keydown",(T=>{T.key==="ArrowLeft"&&(T.preventDefault(),T.stopPropagation(),l.call(this,"home",!0))}),!1),gr.call(this,S,"click",(()=>{l.call(this,"home",!1)})),C.appendChild(S),C.appendChild(bn("div",{role:"menu"})),p.appendChild(C),this.elements.settings.buttons[v]=y,this.elements.settings.panels[v]=C})),h.appendChild(p),f.appendChild(h),u.appendChild(f),this.elements.settings.popup=h,this.elements.settings.menu=f}if(d==="pip"&&ns.pip&&u.appendChild(n.call(this,"pip",c)),d==="airplay"&&ns.airplay&&u.appendChild(n.call(this,"airplay",c)),d==="download"){const f=es({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(f.download="");const{download:h}=this.config.urls;!pe.url(h)&&this.isEmbed&&es(f,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(n.call(this,"download",f))}d==="fullscreen"&&u.appendChild(n.call(this,"fullscreen",c))})),this.isHTML5&&o.call(this,B0.getQualityOptions.call(this)),a.call(this),u},inject(){if(this.config.loadSprite){const i=Ot.getIconUrl.call(this);i.cors&&q$e(i.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n=!0;pe.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),pe.element(this.config.controls)||pe.string(this.config.controls)?e=this.config.controls:(e=Ot.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:_r.getLabel.call(this)}),n=!1);let r;if(n&&pe.string(this.config.controls)&&(e=(i=>{let s=i;return Object.entries(t).forEach((([o,a])=>{s=h2(s,`{${o}}`,a)})),s})(e)),pe.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),pe.element(r)||(r=this.elements.container),r[pe.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),pe.element(this.elements.controls)||Ot.findElements.call(this),!pe.empty(this.elements.buttons)){const i=s=>{const o=this.config.classNames.controlPressed;s.setAttribute("aria-pressed","false"),Object.defineProperty(s,"pressed",{configurable:!0,enumerable:!0,get:()=>aN(s,o),set(a=!1){jr(s,o,a),s.setAttribute("aria-pressed",a?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((s=>{pe.array(s)||pe.nodeList(s)?Array.from(s).filter(Boolean).forEach(i):i(s)}))}if(ro.isEdge&&$$e(r),this.config.tooltips.controls){const{classNames:i,selectors:s}=this.config,o=`${s.controls.wrapper} ${s.labels} .${i.hidden}`,a=IT.call(this,o);Array.from(a).forEach((l=>{jr(l,this.config.classNames.hidden,!1),jr(l,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const n=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter((({time:l})=>l>0&&l<this.duration));if(n==null||!n.length)return;const r=document.createDocumentFragment(),i=document.createDocumentFragment();let s=null;const o=`${this.config.classNames.tooltip}--visible`,a=l=>jr(s,o,l);n.forEach((l=>{const u=bn("span",{class:this.config.classNames.marker},""),c=l.time/this.duration*100+"%";s&&(u.addEventListener("mouseenter",(()=>{l.label||(s.style.left=c,s.innerHTML=l.label,a(!0))})),u.addEventListener("mouseleave",(()=>{a(!1)}))),u.addEventListener("click",(()=>{this.currentTime=l.time})),u.style.left=c,i.appendChild(u)})),r.appendChild(i),this.config.tooltips.seek||(s=bn("span",{class:this.config.classNames.tooltip},""),r.appendChild(s)),this.elements.markers={points:i,tip:s},this.elements.progress.appendChild(r)}};function V$e(e,t=!0){let n=e;if(t){const r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch{return null}}function W$e(e){const t=new URLSearchParams;return pe.object(e)&&Object.entries(e).forEach((([n,r])=>{t.set(n,r)})),t}const _r={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!ns.textTracks)return void(pe.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ot.setCaptionsMenu.call(this));if(pe.element(this.elements.captions)||(this.elements.captions=bn("div",Af(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),vWt(this.elements.captions,this.elements.wrapper)),ro.isIE&&window.URL){const r=this.media.querySelectorAll("track");Array.from(r).forEach((i=>{const s=i.getAttribute("src"),o=V$e(s);o!==null&&o.hostname!==window.location.href.hostname&&["http:","https:"].includes(o.protocol)&&vA(s,"blob").then((a=>{i.setAttribute("src",window.URL.createObjectURL(a))})).catch((()=>{Op(i)}))}))}const e=UH((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((r=>r.split("-")[0])));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let n=this.storage.get("captions");if(pe.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:t,languages:e}),this.isHTML5){const r=this.config.captions.update?"addtrack removetrack":"removetrack";gr.call(this,this.media.textTracks,r,_r.update.bind(this))}setTimeout(_r.update.bind(this),0)},update(){const e=_r.getTracks.call(this,!0),{active:t,language:n,meta:r,currentTrackNode:i}=this.captions,s=!!e.find((o=>o.language===n));this.isHTML5&&this.isVideo&&e.filter((o=>!r.get(o))).forEach((o=>{this.debug.log("Track added",o),r.set(o,{default:o.mode==="showing"}),o.mode==="showing"&&(o.mode="hidden"),gr.call(this,o,"cuechange",(()=>_r.updateCues.call(this)))})),(s&&this.language!==n||!e.includes(i))&&(_r.setLanguage.call(this,n),_r.toggle.call(this,t&&s)),this.elements&&jr(this.elements.container,this.config.classNames.captions.enabled,!pe.empty(e)),pe.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ot.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=pe.nullOrUndefined(e)?!n:e;if(i!==n){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){const s=_r.getTracks.call(this),o=_r.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=o.language,void _r.set.call(this,s.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),jr(this.elements.container,r,i),this.captions.toggled=i,Ot.updateSetting.call(this,"captions"),xn.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout((()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const n=_r.getTracks.call(this);if(e!==-1)if(pe.number(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const r=n[e],{language:i}=r||{};this.captions.currentTrackNode=r,Ot.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),xn.call(this,this.media,"languagechange")}_r.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&_r.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else _r.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!pe.string(e))return void this.debug.warn("Invalid language argument",e);const n=e.toLowerCase();this.captions.language=n;const r=_r.getTracks.call(this),i=_r.findTrack.call(this,[n]);_r.set.call(this,r.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((t=>["captions","subtitles"].includes(t.kind)))},findTrack(e,t=!1){const n=_r.getTracks.call(this),r=o=>Number((this.captions.meta.get(o)||{}).default),i=Array.from(n).sort(((o,a)=>r(a)-r(o)));let s;return e.every((o=>(s=i.find((a=>a.language===o)),!s))),s||(t?i[0]:void 0)},getCurrentTrack(){return _r.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!pe.track(t)&&ns.textTracks&&this.captions.toggled&&(t=_r.getCurrentTrack.call(this)),pe.track(t)?pe.empty(t.label)?pe.empty(t.language)?no.get("enabled",this.config):e.language.toUpperCase():t.label:no.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!pe.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!pe.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const r=_r.getCurrentTrack.call(this);t=Array.from((r||{}).activeCues||[]).map((i=>i.getCueAsHTML())).map(IWt)}const n=t.map((r=>r.trim())).join(`
`);if(n!==this.elements.captions.innerHTML){bP(this.elements.captions);const r=bn("span",Af(this.config.selectors.caption));r.innerHTML=n,this.elements.captions.appendChild(r),xn.call(this,this.media,"cuechange")}}},G$e={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},CB={active:"picture-in-picture",inactive:"inline"},A0={html5:"html5",youtube:"youtube",vimeo:"vimeo"},SB={audio:"audio",video:"video"};function PWt(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?A0.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?A0.vimeo:null}const TB=()=>{};class OWt{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):TB}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):TB}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):TB}}class Kc{constructor(t){jt(this,"onChange",(()=>{if(!this.supported)return;const n=this.player.elements.buttons.fullscreen;pe.element(n)&&(n.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;xn.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)})),jt(this,"toggleFallback",((n=!1)=>{if(n?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=n?"hidden":"",jr(this.target,this.player.config.classNames.fullscreen.fallback,n),ro.isIos){let r=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const s=pe.string(r.content)&&r.content.includes(i);n?(this.cleanupViewport=!s,s||(r.content+=`,${i}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter((o=>o.trim()!==i)).join(","))}this.onChange()})),jt(this,"trapFocus",(n=>{if(ro.isIos||ro.isIPadOS||!this.active||n.key!=="Tab")return;const r=document.activeElement,i=IT.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,o=i[i.length-1];r!==o||n.shiftKey?r===s&&n.shiftKey&&(o.focus(),n.preventDefault()):(s.focus(),n.preventDefault())})),jt(this,"update",(()=>{if(this.supported){let n;n=this.forceFallback?"Fallback (forced)":Kc.nativeSupported?"Native":"Fallback",this.player.debug.log(`${n} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");jr(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),jt(this,"enter",(()=>{this.supported&&(ro.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Kc.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?pe.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),jt(this,"exit",(()=>{if(this.supported)if(ro.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),qf(this.player.play());else if(!Kc.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!pe.empty(this.prefix)){const n=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${n}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),jt(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=t,this.prefix=Kc.prefix,this.property=Kc.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&bWt(this.player.elements.container,t.config.fullscreen.container),gr.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),gr.call(this.player,this.player.elements.container,"dblclick",(n=>{pe.element(this.player.elements.controls)&&this.player.elements.controls.contains(n.target)||this.player.listeners.proxy(n,this.toggle,"fullscreen")})),gr.call(this,this.player.elements.container,"keydown",(n=>this.trapFocus(n))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Kc.nativeSupported&&!this.forceFallback}static get prefix(){if(pe.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some((n=>!(!pe.function(document[`${n}ExitFullscreen`])&&!pe.function(document[`${n}CancelFullScreen`]))&&(t=n,!0))),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Kc.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Kc.nativeSupported||!ro.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Kc.nativeSupported||this.forceFallback)return aN(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return ro.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function wP(e,t=1){return new Promise(((n,r)=>{const i=new Image,s=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:s,onerror:s,src:e})}))}const Xr={addStyleHook(){jr(this.elements.container,this.config.selectors.container.replace(".",""),!0),jr(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Xr.toggleNativeControls.call(this,!0);pe.element(this.elements.controls)||(Ot.inject.call(this),this.listeners.controls()),Xr.toggleNativeControls.call(this),this.isHTML5&&_r.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Ot.updateVolume.call(this),Ot.timeUpdate.call(this),Ot.durationUpdate.call(this),Xr.checkPlaying.call(this),jr(this.elements.container,this.config.classNames.pip.supported,ns.pip&&this.isHTML5&&this.isVideo),jr(this.elements.container,this.config.classNames.airplay.supported,ns.airplay&&this.isHTML5),jr(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{xn.call(this,this.media,"ready")}),0),Xr.setTitle.call(this),this.poster&&Xr.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Ot.durationUpdate.call(this),this.config.mediaMetadata&&Ot.setMediaMetadata.call(this)},setTitle(){let e=no.get("play",this.config);if(pe.string(this.config.title)&&!pe.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const t=Os.call(this,"iframe");if(!pe.element(t))return;const n=pe.empty(this.config.title)?"video":this.config.title,r=no.get("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster(e){jr(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),_Wt.call(this).then((()=>wP(e))).catch((n=>{throw e===this.poster&&Xr.togglePoster.call(this,!1),n})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Xr.togglePoster.call(this,!0),e))))},checkPlaying(e){jr(this.elements.container,this.config.classNames.playing,this.playing),jr(this.elements.container,this.config.classNames.paused,this.paused),jr(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",no.get(this.playing?"pause":"play",this.config))})),pe.event(e)&&e.type==="timeupdate"||Xr.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{jr(this.elements.container,this.config.classNames.loading,this.loading),Xr.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!pe.empty(e)&&pe.string(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),pe.empty(this.media.style)&&this.media.removeAttribute("style")}};class NWt{constructor(t){jt(this,"firstTouch",(()=>{const{player:n}=this,{elements:r}=n;n.touch=!0,jr(r.container,n.config.classNames.isTouch,!0)})),jt(this,"global",((n=!0)=>{const{player:r}=this;r.config.keyboard.global&&RT.call(r,window,"keydown keyup",this.handleKey,n,!1),RT.call(r,document.body,"click",this.toggleMenu,n),Hee.call(r,document.body,"touchstart",this.firstTouch)})),jt(this,"container",(()=>{const{player:n}=this,{config:r,elements:i,timers:s}=n;!r.keyboard.global&&r.keyboard.focused&&gr.call(n,i.container,"keydown keyup",this.handleKey,!1),gr.call(n,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(l=>{const{controls:u}=i;u&&l.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let c=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(Xr.toggleControls.call(n,!0),c=n.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout((()=>Xr.toggleControls.call(n,!1)),c)}));const o=()=>{if(!n.isVimeo||n.config.vimeo.premium)return;const l=i.wrapper,{active:u}=n.fullscreen,[c,d]=Vee.call(n),f=j$e(`aspect-ratio: ${c} / ${d}`);if(!u)return void(f?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[h,p]=EWt(),m=h/p>c/d;f?(l.style.width=m?"auto":"100%",l.style.height=m?"100%":"auto"):(l.style.maxWidth=m?p/d*c+"px":null,l.style.margin=m?"0 auto":null)},a=()=>{clearTimeout(s.resized),s.resized=setTimeout(o,50)};gr.call(n,i.container,"enterfullscreen exitfullscreen",(l=>{const{target:u}=n.fullscreen;u===i.container&&(!n.isEmbed&&pe.empty(n.config.ratio)||(o(),(l.type==="enterfullscreen"?gr:_M).call(n,window,"resize",a)))}))})),jt(this,"media",(()=>{const{player:n}=this,{elements:r}=n;if(gr.call(n,n.media,"timeupdate seeking seeked",(s=>Ot.timeUpdate.call(n,s))),gr.call(n,n.media,"durationchange loadeddata loadedmetadata",(s=>Ot.durationUpdate.call(n,s))),gr.call(n,n.media,"ended",(()=>{n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())})),gr.call(n,n.media,"progress playing seeking seeked",(s=>Ot.updateProgress.call(n,s))),gr.call(n,n.media,"volumechange",(s=>Ot.updateVolume.call(n,s))),gr.call(n,n.media,"playing play pause ended emptied timeupdate",(s=>Xr.checkPlaying.call(n,s))),gr.call(n,n.media,"waiting canplay seeked playing",(s=>Xr.checkLoading.call(n,s))),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){const s=Os.call(n,`.${n.config.classNames.video}`);if(!pe.element(s))return;gr.call(n,r.container,"click",(o=>{([r.container,s].includes(o.target)||s.contains(o.target))&&(n.touch&&n.config.hideControls||(n.ended?(this.proxy(o,n.restart,"restart"),this.proxy(o,(()=>{qf(n.play())}),"play")):this.proxy(o,(()=>{qf(n.togglePlay())}),"play")))}))}n.supported.ui&&n.config.disableContextMenu&&gr.call(n,r.wrapper,"contextmenu",(s=>{s.preventDefault()}),!1),gr.call(n,n.media,"volumechange",(()=>{n.storage.set({volume:n.volume,muted:n.muted})})),gr.call(n,n.media,"ratechange",(()=>{Ot.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})})),gr.call(n,n.media,"qualitychange",(s=>{Ot.updateSetting.call(n,"quality",null,s.detail.quality)})),gr.call(n,n.media,"ready qualitychange",(()=>{Ot.setDownloadUrl.call(n)}));const i=n.config.events.concat(["keyup","keydown"]).join(" ");gr.call(n,n.media,i,(s=>{let{detail:o={}}=s;s.type==="error"&&(o=n.media.error),xn.call(n,r.container,s.type,!0,o)}))})),jt(this,"proxy",((n,r,i)=>{const{player:s}=this,o=s.config.listeners[i];let a=!0;pe.function(o)&&(a=o.call(s,n)),a!==!1&&pe.function(r)&&r.call(s,n)})),jt(this,"bind",((n,r,i,s,o=!0)=>{const{player:a}=this,l=a.config.listeners[s],u=pe.function(l);gr.call(a,n,r,(c=>this.proxy(c,i,s)),o&&!u)})),jt(this,"controls",(()=>{const{player:n}=this,{elements:r}=n,i=ro.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach((s=>{this.bind(s,"click",(()=>{qf(n.togglePlay())}),"play")})),this.bind(r.buttons.restart,"click",n.restart,"restart"),this.bind(r.buttons.rewind,"click",(()=>{n.lastSeekTime=Date.now(),n.rewind()}),"rewind"),this.bind(r.buttons.fastForward,"click",(()=>{n.lastSeekTime=Date.now(),n.forward()}),"fastForward"),this.bind(r.buttons.mute,"click",(()=>{n.muted=!n.muted}),"mute"),this.bind(r.buttons.captions,"click",(()=>n.toggleCaptions())),this.bind(r.buttons.download,"click",(()=>{xn.call(n,n.media,"download")}),"download"),this.bind(r.buttons.fullscreen,"click",(()=>{n.fullscreen.toggle()}),"fullscreen"),this.bind(r.buttons.pip,"click",(()=>{n.pip="toggle"}),"pip"),this.bind(r.buttons.airplay,"click",n.airplay,"airplay"),this.bind(r.buttons.settings,"click",(s=>{s.stopPropagation(),s.preventDefault(),Ot.toggleMenu.call(n,s)}),null,!1),this.bind(r.buttons.settings,"keyup",(s=>{[" ","Enter"].includes(s.key)&&(s.key!=="Enter"?(s.preventDefault(),s.stopPropagation(),Ot.toggleMenu.call(n,s)):Ot.focusFirstMenuItem.call(n,null,!0))}),null,!1),this.bind(r.settings.menu,"keydown",(s=>{s.key==="Escape"&&Ot.toggleMenu.call(n,s)})),this.bind(r.inputs.seek,"mousedown mousemove",(s=>{const o=r.progress.getBoundingClientRect(),a=100/o.width*(s.pageX-o.left);s.currentTarget.setAttribute("seek-value",a)})),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(s=>{const o=s.currentTarget,a="play-on-seeked";if(pe.keyboardEvent(s)&&!["ArrowLeft","ArrowRight"].includes(s.key))return;n.lastSeekTime=Date.now();const l=o.hasAttribute(a),u=["mouseup","touchend","keyup"].includes(s.type);l&&u?(o.removeAttribute(a),qf(n.play())):!u&&n.playing&&(o.setAttribute(a,""),n.pause())})),ro.isIos){const s=IT.call(n,'input[type="range"]');Array.from(s).forEach((o=>this.bind(o,i,(a=>$$e(a.target)))))}this.bind(r.inputs.seek,i,(s=>{const o=s.currentTarget;let a=o.getAttribute("seek-value");pe.empty(a)&&(a=o.value),o.removeAttribute("seek-value"),n.currentTime=a/o.max*n.duration}),"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",(s=>Ot.updateSeekTooltip.call(n,s))),this.bind(r.progress,"mousemove touchmove",(s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.startMove(s)})),this.bind(r.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.endMove(!1,!0)})),this.bind(r.progress,"mousedown touchstart",(s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.startScrubbing(s)})),this.bind(r.progress,"mouseup touchend",(s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.endScrubbing(s)})),ro.isWebKit&&Array.from(IT.call(n,'input[type="range"]')).forEach((s=>{this.bind(s,"input",(o=>Ot.updateRangeFill.call(n,o.target)))})),n.config.toggleInvert&&!pe.element(r.display.duration)&&this.bind(r.display.currentTime,"click",(()=>{n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,Ot.timeUpdate.call(n))})),this.bind(r.inputs.volume,i,(s=>{n.volume=s.target.value}),"volume"),this.bind(r.controls,"mouseenter mouseleave",(s=>{r.controls.hover=!n.touch&&s.type==="mouseenter"})),r.fullscreen&&Array.from(r.fullscreen.children).filter((s=>!s.contains(r.container))).forEach((s=>{this.bind(s,"mouseenter mouseleave",(o=>{r.controls&&(r.controls.hover=!n.touch&&o.type==="mouseenter")}))})),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",(s=>{r.controls.pressed=["mousedown","touchstart"].includes(s.type)})),this.bind(r.controls,"focusin",(()=>{const{config:s,timers:o}=n;jr(r.controls,s.classNames.noTransition,!0),Xr.toggleControls.call(n,!0),setTimeout((()=>{jr(r.controls,s.classNames.noTransition,!1)}),0);const a=this.touch?3e3:4e3;clearTimeout(o.controls),o.controls=setTimeout((()=>Xr.toggleControls.call(n,!1)),a)})),this.bind(r.inputs.volume,"wheel",(s=>{const o=s.webkitDirectionInvertedFromDevice,[a,l]=[s.deltaX,-s.deltaY].map((d=>o?-d:d)),u=Math.sign(Math.abs(a)>Math.abs(l)?a:l);n.increaseVolume(u/50);const{volume:c}=n.media;(u===1&&c<1||u===-1&&c>0)&&s.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:n}=this,{elements:r}=n,{key:i,type:s,altKey:o,ctrlKey:a,metaKey:l,shiftKey:u}=t,c=s==="keydown",d=c&&i===this.lastKey;if(!(o||a||l||u)&&i){if(c){const h=document.activeElement;if(pe.element(h)){const{editable:p}=n.config.selectors,{seek:m}=r.inputs;if(h!==m&&mv(h,p)||t.key===" "&&mv(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(f=parseInt(i,10),n.currentTime=n.duration/10*f);break;case" ":case"k":d||qf(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}i==="Escape"&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null;var f}}toggleMenu(t){Ot.toggleMenu.call(this.player,t)}}function $Wt(e,t){return e(t={exports:{}},t.exports),t.exports}var MWt=$Wt((function(e,t){e.exports=(function(){var n=function(){},r={},i={},s={};function o(f,h){f=f.push?f:[f];var p,m,g,v=[],y=f.length,w=y;for(p=function(E,C){C.length&&v.push(E),--w||h(v)};y--;)m=f[y],(g=i[m])?p(m,g):(s[m]=s[m]||[]).push(p)}function a(f,h){if(f){var p=s[f];if(i[f]=h,p)for(;p.length;)p[0](f,h),p.splice(0,1)}}function l(f,h){f.call&&(f={success:f}),h.length?(f.error||n)(h):(f.success||n)(f)}function u(f,h,p,m){var g,v,y=document,w=p.async,E=(p.numRetries||0)+1,C=p.before||n,S=f.replace(/[\?|#].*$/,""),T=f.replace(/^(css|img)!/,"");m=m||0,/(^css!|\.css$)/.test(S)?((v=y.createElement("link")).rel="stylesheet",v.href=T,(g="hideFocus"in v)&&v.relList&&(g=0,v.rel="preload",v.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(S)?(v=y.createElement("img")).src=T:((v=y.createElement("script")).src=f,v.async=w===void 0||w),v.onload=v.onerror=v.onbeforeload=function(k){var I=k.type[0];if(g)try{v.sheet.cssText.length||(I="e")}catch(R){R.code!=18&&(I="e")}if(I=="e"){if((m+=1)<E)return u(f,h,p,m)}else if(v.rel=="preload"&&v.as=="style")return v.rel="stylesheet";h(f,I,k.defaultPrevented)},C(f,v)!==!1&&y.head.appendChild(v)}function c(f,h,p){var m,g,v=(f=f.push?f:[f]).length,y=v,w=[];for(m=function(E,C,S){if(C=="e"&&w.push(E),C=="b"){if(!S)return;w.push(E)}--v||h(w)},g=0;g<y;g++)u(f[g],m,p)}function d(f,h,p){var m,g;if(h&&h.trim&&(m=h),g=(m?p:h)||{},m){if(m in r)throw"LoadJS";r[m]=!0}function v(y,w){c(f,(function(E){l(g,E),y&&l({success:y,error:w},E),a(m,E)}),g)}if(g.returnPromise)return new Promise(v);v()}return d.ready=function(f,h){return o(f,(function(p){l(h,p)})),d},d.done=function(f){a(f,[])},d.reset=function(){r={},i={},s={}},d.isDefined=function(f){return f in r},d})()}));function Wee(e){return new Promise(((t,n)=>{MWt(e,{success:t,error:n})}))}function FWt(e){return pe.empty(e)?null:pe.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function LWt(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function MC(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,xn.call(this,this.media,e?"play":"pause"))}const HH={setup(){const e=this;jr(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,b_.call(e),pe.object(window.Vimeo)?HH.ready.call(e):Wee(e.config.urls.vimeo.sdk).then((()=>{HH.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:n,referrerPolicy:r,...i}=t;let s=e.media.getAttribute("src"),o="";pe.empty(s)?(s=e.media.getAttribute(e.config.attributes.embed.id),o=e.media.getAttribute(e.config.attributes.embed.hash)):o=LWt(s);const a=o?{h:o}:{};n&&Object.assign(i,{controls:!1,sidedock:!1});const l=W$e({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...i}),u=FWt(s),c=bn("iframe"),d=qH(e.config.urls.vimeo.iframe,u,l);if(c.setAttribute("src",d),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),pe.empty(r)||c.setAttribute("referrerPolicy",r),n||!t.customControls)c.setAttribute("data-poster",e.poster),e.media=oN(c,e.media);else{const y=bn("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});y.appendChild(c),e.media=oN(y,e.media)}t.customControls||vA(qH(e.config.urls.vimeo.api,d)).then((y=>{!pe.empty(y)&&y.thumbnail_url&&Xr.setPoster.call(e,y.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(c,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(MC.call(e,!0),e.embed.play()),e.media.pause=()=>(MC.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:f}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>f,set(y){const{embed:w,media:E,paused:C,volume:S}=e,T=C&&!w.hasPlayed;E.seeking=!0,xn.call(e,E,"seeking"),Promise.resolve(T&&w.setVolume(0)).then((()=>w.setCurrentTime(y))).then((()=>T&&w.pause())).then((()=>T&&w.setVolume(S))).catch((()=>{}))}});let h=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>h,set(y){e.embed.setPlaybackRate(y).then((()=>{h=y,xn.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:p}=e.config;Object.defineProperty(e.media,"volume",{get:()=>p,set(y){e.embed.setVolume(y).then((()=>{p=y,xn.call(e,e.media,"volumechange")}))}});let{muted:m}=e.config;Object.defineProperty(e.media,"muted",{get:()=>m,set(y){const w=!!pe.boolean(y)&&y;e.embed.setMuted(!!w||e.config.muted).then((()=>{m=w,xn.call(e,e.media,"volumechange")}))}});let g,{loop:v}=e.config;Object.defineProperty(e.media,"loop",{get:()=>v,set(y){const w=pe.boolean(y)?y:e.config.loop.active;e.embed.setLoop(w).then((()=>{v=w}))}}),e.embed.getVideoUrl().then((y=>{g=y,Ot.setDownloadUrl.call(e)})).catch((y=>{this.debug.warn(y)})),Object.defineProperty(e.media,"currentSrc",{get:()=>g}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((y=>{const[w,E]=y;e.embed.ratio=z$e(w,E),b_.call(this)})),e.embed.setAutopause(e.config.autopause).then((y=>{e.config.autopause=y})),e.embed.getVideoTitle().then((y=>{e.config.title=y,Xr.setTitle.call(this)})),e.embed.getCurrentTime().then((y=>{f=y,xn.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((y=>{e.media.duration=y,xn.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((y=>{e.media.textTracks=y,_r.setup.call(e)})),e.embed.on("cuechange",(({cues:y=[]})=>{const w=y.map((E=>AWt(E.text)));_r.updateCues.call(e,w)})),e.embed.on("loaded",(()=>{e.embed.getPaused().then((y=>{MC.call(e,!y),y||xn.call(e,e.media,"playing")})),pe.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)})),e.embed.on("bufferstart",(()=>{xn.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{xn.call(e,e.media,"playing")})),e.embed.on("play",(()=>{MC.call(e,!0),xn.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{MC.call(e,!1)})),e.embed.on("timeupdate",(y=>{e.media.seeking=!1,f=y.seconds,xn.call(e,e.media,"timeupdate")})),e.embed.on("progress",(y=>{e.media.buffered=y.percent,xn.call(e,e.media,"progress"),parseInt(y.percent,10)===1&&xn.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((w=>{w!==e.media.duration&&(e.media.duration=w,xn.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,xn.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,xn.call(e,e.media,"ended")})),e.embed.on("error",(y=>{e.media.error=y,xn.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>Xr.build.call(e)),0)}};function jWt(e){return pe.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function FC(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,xn.call(this,this.media,e?"play":"pause"))}function BWt(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const xP={setup(){if(jr(this.elements.wrapper,this.config.classNames.embed,!0),pe.object(window.YT)&&pe.function(window.YT.Player))xP.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{pe.function(e)&&e(),xP.ready.call(this)},Wee(this.config.urls.youtube.sdk).catch((t=>{this.debug.warn("YouTube API failed to load",t)}))}},getTitle(e){vA(qH(this.config.urls.youtube.api,e)).then((t=>{if(pe.object(t)){const{title:n,height:r,width:i}=t;this.config.title=n,Xr.setTitle.call(this),this.embed.ratio=z$e(i,r)}b_.call(this)})).catch((()=>{b_.call(this)}))},ready(){const e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(!pe.empty(n)&&n.startsWith("youtube-"))return;let r=e.media.getAttribute("src");pe.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));const i=jWt(r),s=bn("div",{id:CWt(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=oN(s,e.media),t.customControls){const o=a=>`https://i.ytimg.com/vi/${i}/${a}default.jpg`;wP(o("maxres"),121).catch((()=>wP(o("sd"),121))).catch((()=>wP(o("hq")))).then((a=>Xr.setPoster.call(e,a.src))).then((a=>{a.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:i,host:BWt(t),playerVars:es({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(o){if(!e.media.error){const a=o.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[a]||"An unknown error occurred";e.media.error={code:a,message:l},xn.call(e,e.media,"error")}},onPlaybackRateChange(o){const a=o.target;e.media.playbackRate=a.getPlaybackRate(),xn.call(e,e.media,"ratechange")},onReady(o){if(pe.function(e.media.play))return;const a=o.target;xP.getTitle.call(e,i),e.media.play=()=>{FC.call(e,!0),a.playVideo()},e.media.pause=()=>{FC.call(e,!1),a.pauseVideo()},e.media.stop=()=>{a.stopVideo()},e.media.duration=a.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(d){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,xn.call(e,e.media,"seeking"),a.seekTo(d)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(d){a.setPlaybackRate(d)}});let{volume:l}=e.config;Object.defineProperty(e.media,"volume",{get:()=>l,set(d){l=d,a.setVolume(100*l),xn.call(e,e.media,"volumechange")}});let{muted:u}=e.config;Object.defineProperty(e.media,"muted",{get:()=>u,set(d){const f=pe.boolean(d)?d:u;u=f,a[f?"mute":"unMute"](),a.setVolume(100*l),xn.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const c=a.getAvailablePlaybackRates();e.options.speed=c.filter((d=>e.config.speed.options.includes(d))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),xn.call(e,e.media,"timeupdate"),xn.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=a.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&xn.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),xn.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>Xr.build.call(e)),50)},onStateChange(o){const a=o.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(o.data)&&(e.media.seeking=!1,xn.call(e,e.media,"seeked")),o.data){case-1:xn.call(e,e.media,"timeupdate"),e.media.buffered=a.getVideoLoadedFraction(),xn.call(e,e.media,"progress");break;case 0:FC.call(e,!1),e.media.loop?(a.stopVideo(),a.playVideo()):xn.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(FC.call(e,!0),xn.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{xn.call(e,e.media,"timeupdate")}),50),e.media.duration!==a.getDuration()&&(e.media.duration=a.getDuration(),xn.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),FC.call(e,!1);break;case 3:xn.call(e,e.media,"waiting")}xn.call(e,e.elements.container,"statechange",!1,{code:o.data})}}})}},Y$e={setup(){this.media?(jr(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),jr(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&jr(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=bn("div",{class:this.config.classNames.video}),F$e(this.media,this.elements.wrapper),this.elements.poster=bn("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?B0.setup.call(this):this.isYouTube?xP.setup.call(this):this.isVimeo&&HH.setup.call(this)):this.debug.warn("No media element found!")}};class zWt{constructor(t){jt(this,"load",(()=>{this.enabled&&(pe.object(window.google)&&pe.object(window.google.ima)?this.ready():Wee(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),jt(this,"ready",(()=>{var n;this.enabled||((n=this).manager&&n.manager.destroy(),n.elements.displayContainer&&n.elements.displayContainer.destroy(),n.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),jt(this,"setupIMA",(()=>{this.elements.container=bn("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(n=>this.onAdsManagerLoaded(n)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(n=>this.onAdError(n)),!1),this.requestAds()})),jt(this,"requestAds",(()=>{const{container:n}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=n.offsetWidth,r.linearAdSlotHeight=n.offsetHeight,r.nonLinearAdSlotWidth=n.offsetWidth,r.nonLinearAdSlotHeight=n.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}})),jt(this,"pollCountdown",((n=!1)=>{if(!n)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const r=EM(Math.max(this.manager.getRemainingTime(),0)),i=`${no.get("advertisement",this.player.config)} - ${r}`;this.elements.container.setAttribute("data-badge-text",i)}),100)})),jt(this,"onAdsManagerLoaded",(n=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=n.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(i=>this.onAdError(i))),Object.keys(google.ima.AdEvent.Type).forEach((i=>{this.manager.addEventListener(google.ima.AdEvent.Type[i],(s=>this.onAdEvent(s)))})),this.trigger("loaded")})),jt(this,"addCuePoints",(()=>{pe.empty(this.cuePoints)||this.cuePoints.forEach((n=>{if(n!==0&&n!==-1&&n<this.player.duration){const r=this.player.elements.progress;if(pe.element(r)){const i=100/this.player.duration*n,s=bn("span",{class:this.player.config.classNames.cues});s.style.left=`${i.toString()}%`,r.appendChild(s)}}}))})),jt(this,"onAdEvent",(n=>{const{container:r}=this.player.elements,i=n.getAd(),s=n.getAdData();switch((o=>{xn.call(this.player,this.player.media,`ads${o.replace(/_/g,"").toLowerCase()}`)})(n.type),n.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=r.offsetWidth,i.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}})),jt(this,"onAdError",(n=>{this.cancel(),this.player.debug.warn("Ads error",n)})),jt(this,"listeners",(()=>{const{container:n}=this.player.elements;let r;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{r=this.player.currentTime})),this.player.on("seeked",(()=>{const i=this.player.currentTime;pe.empty(this.cuePoints)||this.cuePoints.forEach(((s,o)=>{r<s&&s<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(o,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)}))})),jt(this,"play",(()=>{const{container:n}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}})).catch((()=>{}))})),jt(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,qf(this.player.media.play())})),jt(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),jt(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),jt(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((n=>{this.on("loaded",n),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),jt(this,"trigger",((n,...r)=>{const i=this.events[n];pe.array(i)&&i.forEach((s=>{pe.function(s)&&s.apply(this,r)}))})),jt(this,"on",((n,r)=>(pe.array(this.events[n])||(this.events[n]=[]),this.events[n].push(r),this))),jt(this,"startSafetyTimer",((n,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),n)})),jt(this,"clearSafetyTimer",(n=>{pe.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${n}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((n,r)=>{this.on("loaded",n),this.on("error",r)})),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!pe.empty(t.publisherId)||pe.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return pe.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${W$e({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function K$e(e=0,t=0,n=255){return Math.min(Math.max(e,t),n)}const UWt=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((n=>{const r={};n.split(/\r\n|\n|\r/).forEach((i=>{if(pe.number(r.startTime)){if(!pe.empty(i.trim())&&pe.empty(r.text)){const s=i.trim().split("#xywh=");[r.text]=s,s[1]&&([r.x,r.y,r.w,r.h]=s[1].split(","))}}else{const s=i.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(r.startTime=60*Number(s[1]||0)*60+60*Number(s[2])+Number(s[3])+ +`0.${s[4]}`,r.endTime=60*Number(s[6]||0)*60+60*Number(s[7])+Number(s[8])+ +`0.${s[9]}`)}})),r.text&&t.push(r)})),t},Hme=(e,t)=>{const n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n};class VH{constructor(t){jt(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),jt(this,"getThumbnails",(()=>new Promise((n=>{const{src:r}=this.player.config.previewThumbnails;if(pe.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((s,o)=>s.height-o.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),n()};if(pe.function(r))r((s=>{this.thumbnails=s,i()}));else{const s=(pe.string(r)?[r]:r).map((o=>this.getThumbnail(o)));Promise.all(s).then(i)}})))),jt(this,"getThumbnail",(n=>new Promise((r=>{vA(n).then((i=>{const s={frames:UWt(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const o=new Image;o.onload=()=>{s.height=o.naturalHeight,s.width=o.naturalWidth,this.thumbnails.push(s),r()},o.src=s.urlPrefix+s.frames[0].text}))})))),jt(this,"startMove",(n=>{if(this.loaded&&pe.event(n)&&["touchmove","mousemove"].includes(n.type)&&this.player.media.duration){if(n.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,i;const s=this.player.elements.progress.getBoundingClientRect(),o=100/s.width*(n.pageX-s.left);this.seekTime=this.player.media.duration*(o/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=n.pageX,this.elements.thumb.time.innerText=EM(this.seekTime);const a=(r=this.player.config.markers)===null||r===void 0||(i=r.points)===null||i===void 0?void 0:i.find((({time:l})=>l===Math.round(this.seekTime)));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}})),jt(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),jt(this,"startScrubbing",(n=>{(pe.nullOrUndefined(n.button)||n.button===!1||n.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),jt(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Hee.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),jt(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),jt(this,"render",(()=>{this.elements.thumb.container=bn("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=bn("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const n=bn("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=bn("span",{},"00:00"),n.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(n),pe.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=bn("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),jt(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),jt(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const n=this.thumbnails[0].frames.findIndex((s=>this.seekTime>=s.startTime&&this.seekTime<=s.endTime)),r=n>=0;let i=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach(((s,o)=>{this.loadedImages.includes(s.frames[n].text)&&(i=o)})),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(i)))})),jt(this,"loadImage",((n=0)=>{const r=this.showingThumb,i=this.thumbnails[n],{urlPrefix:s}=i,o=i.frames[r],a=i.frames[r].text,l=s+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,o,n,r,a,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=l,u.dataset.index=r,u.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),u.onload=()=>this.showImage(u,o,n,r,a,!0),this.loadingImage=u,this.removeOldImages(u)}})),jt(this,"showImage",((n,r,i,s,o,a=!0)=>{this.player.debug.log(`Showing thumb: ${o}. num: ${s}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(n,r),a&&(this.currentImageContainer.appendChild(n),this.currentImageElement=n,this.loadedImages.includes(o)||this.loadedImages.push(o)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,n,r,o))})),jt(this,"removeOldImages",(n=>{Array.from(this.currentImageContainer.children).forEach((r=>{if(r.tagName.toLowerCase()!=="img")return;const i=this.usingSprites?500:1e3;if(r.dataset.index!==n.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:s}=this;setTimeout((()=>{s.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)}),i)}}))})),jt(this,"preloadNearby",((n,r=!0)=>new Promise((i=>{setTimeout((()=>{const s=this.thumbnails[0].frames[n].text;if(this.showingThumbFilename===s){let o;o=r?this.thumbnails[0].frames.slice(n):this.thumbnails[0].frames.slice(0,n).reverse();let a=!1;o.forEach((l=>{const u=l.text;if(u!==s&&!this.loadedImages.includes(u)){a=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:c}=this.thumbnails[0],d=c+u,f=new Image;f.src=d,f.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),i()}}})),a||i()}}),300)})))),jt(this,"getHigherQuality",((n,r,i,s)=>{if(n<this.thumbnails.length-1){let o=r.naturalHeight;this.usingSprites&&(o=i.h),o<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(n+1))}),300)}})),jt(this,"toggleThumbContainer",((n=!1,r=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,n),!n&&r&&(this.showingThumb=null,this.showingThumbFilename=null)})),jt(this,"toggleScrubbingContainer",((n=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,n),n||(this.showingThumb=null,this.showingThumbFilename=null)})),jt(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),jt(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:n}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(n.clientHeight>20&&n.clientWidth<20){const r=Math.floor(n.clientHeight*this.thumbAspectRatio);n.style.width=`${r}px`}else if(n.clientHeight<20&&n.clientWidth>20){const r=Math.floor(n.clientWidth/this.thumbAspectRatio);n.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);n.style.height=`${this.thumbContainerHeight}px`,n.style.width=`${r}px`}this.setThumbContainerPos()})),jt(this,"setThumbContainerPos",(()=>{const n=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=r.left-n.left+10,o=r.right-n.left-i.clientWidth-10,a=this.mousePosX-n.left-i.clientWidth/2,l=K$e(a,s,o);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")})),jt(this,"setScrubbingContainerSize",(()=>{const{width:n,height:r}=Hme(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${n}px`,this.elements.scrubbing.container.style.height=`${r}px`})),jt(this,"setImageSizeAndOffset",((n,r)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/r.h;n.style.height=n.naturalHeight*i+"px",n.style.width=n.naturalWidth*i+"px",n.style.left=`-${r.x*i}px`,n.style.top=`-${r.y*i}px`})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=Hme(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const WH={insertElements(e,t){pe.string(t)?Bme(e,this.media,{src:t}):pe.array(t)&&t.forEach((n=>{Bme(e,this.media,n)}))},change(e){M$e(e,"sources.length")?(B0.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],Op(this.media),this.media=null,pe.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:n}=e,[{provider:r=A0.html5,src:i}]=t,s=r==="html5"?n:"div",o=r==="html5"?{}:{src:i};Object.assign(this,{provider:r,type:n,supported:ns.check(n,r,this.config.playsinline),media:bn(s,o)}),this.elements.container.appendChild(this.media),pe.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),pe.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Xr.addStyleHook.call(this),this.isHTML5&&WH.insertElements.call(this,"source",t),this.config.title=e.title,Y$e.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&WH.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Xr.build.call(this),this.isHTML5&&this.media.load(),pe.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new VH(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};let X$e=class GH{constructor(t,n){if(jt(this,"play",(()=>pe.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>qf(this.media.play()))),this.media.play()):null)),jt(this,"pause",(()=>this.playing&&pe.function(this.media.pause)?this.media.pause():null)),jt(this,"togglePlay",(a=>(pe.boolean(a)?a:!this.playing)?this.play():this.pause())),jt(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):pe.function(this.media.stop)&&this.media.stop()})),jt(this,"restart",(()=>{this.currentTime=0})),jt(this,"rewind",(a=>{this.currentTime-=pe.number(a)?a:this.config.seekTime})),jt(this,"forward",(a=>{this.currentTime+=pe.number(a)?a:this.config.seekTime})),jt(this,"increaseVolume",(a=>{const l=this.media.muted?0:this.volume;this.volume=l+(pe.number(a)?a:0)})),jt(this,"decreaseVolume",(a=>{this.increaseVolume(-a)})),jt(this,"airplay",(()=>{ns.airplay&&this.media.webkitShowPlaybackTargetPicker()})),jt(this,"toggleControls",(a=>{if(this.supported.ui&&!this.isAudio){const l=aN(this.elements.container,this.config.classNames.hideControls),u=a===void 0?void 0:!a,c=jr(this.elements.container,this.config.classNames.hideControls,u);if(c&&pe.array(this.config.controls)&&this.config.controls.includes("settings")&&!pe.empty(this.config.settings)&&Ot.toggleMenu.call(this,!1),c!==l){const d=c?"controlshidden":"controlsshown";xn.call(this,this.media,d)}return!c}return!1})),jt(this,"on",((a,l)=>{gr.call(this,this.elements.container,a,l)})),jt(this,"once",((a,l)=>{Hee.call(this,this.elements.container,a,l)})),jt(this,"off",((a,l)=>{_M(this.elements.container,a,l)})),jt(this,"destroy",((a,l=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(Op(this.elements.buttons.play),Op(this.elements.captions),Op(this.elements.controls),Op(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),pe.function(a)&&a()):(xWt.call(this),B0.cancelRequests.call(this),oN(this.elements.original,this.elements.container),xn.call(this,this.elements.original,"destroyed",!0),pe.function(a)&&a.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Xr.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&pe.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))})),jt(this,"supports",(a=>ns.mime.call(this,a))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=ns.touch,this.media=t,pe.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||pe.nodeList(this.media)||pe.array(this.media))&&(this.media=this.media[0]),this.config=es({},G$e,GH.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new OWt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",ns),pe.nullOrUndefined(this.media)||!pe.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!ns.check().api)return void this.debug.error("Setup failed: no support");const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const i=this.media.tagName.toLowerCase();let s=null,o=null;switch(i){case"div":if(s=this.media.querySelector("iframe"),pe.element(s)){if(o=V$e(s.getAttribute("src")),this.provider=PWt(o.toString()),this.elements.container=this.media,this.media=s,this.elements.container.className="",o.search.length){const a=["1","true"];a.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(pe.empty(this.provider)||!Object.values(A0).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=SB.video;break;case"video":case"audio":this.type=i,this.provider=A0.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=ns.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new NWt(this),this.storage=new DT(this),this.media.plyr=this,pe.element(this.elements.container)||(this.elements.container=bn("div"),F$e(this.media,this.elements.container)),Xr.migrateStyles.call(this),Xr.addStyleHook.call(this),Y$e.setup.call(this),this.config.debug&&gr.call(this,this.elements.container,this.config.events.join(" "),(a=>{this.debug.log(`event: ${a.type}`)})),this.fullscreen=new Kc(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Xr.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new zWt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>qf(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new VH(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===A0.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===A0.youtube}get isVimeo(){return this.provider===A0.vimeo}get isVideo(){return this.type===SB.video}get isAudio(){return this.type===SB.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const n=pe.number(t)&&t>0;this.media.currentTime=n?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return pe.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),n=(this.media||{}).duration,r=pe.number(n)&&n!==1/0?n:0;return t||r}set volume(t){let n=t;pe.string(n)&&(n=Number(n)),pe.number(n)||(n=this.storage.get("volume")),pe.number(n)||({volume:n}=this.config),n>1&&(n=1),n<0&&(n=0),this.config.volume=n,this.media.volume=n,!pe.empty(t)&&this.muted&&n>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let n=t;pe.boolean(n)||(n=this.storage.get("muted")),pe.boolean(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let n=null;pe.number(t)&&(n=t),pe.number(n)||(n=this.storage.get("speed")),pe.number(n)||(n=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:i}=this;n=K$e(n,r,i),this.config.speed.selected=n,setTimeout((()=>{this.media&&(this.media.playbackRate=n)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const n=this.config.quality,r=this.options.quality;if(!r.length)return;let i=[!pe.empty(t)&&Number(t),this.storage.get("quality"),n.selected,n.default].find(pe.number),s=!0;if(!r.includes(i)){const o=L$e(r,i);this.debug.warn(`Unsupported quality option: ${i}, using ${o} instead`),i=o,s=!1}n.selected=i,this.media.quality=i,s&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(t){const n=pe.boolean(t)?t:this.config.loop.active;this.config.loop.active=n,this.media.loop=n}get loop(){return!!this.media.loop}set source(t){WH.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return pe.url(t)?t:this.source}set download(t){pe.url(t)&&(this.config.urls.download=t,Ot.setDownloadUrl.call(this))}set poster(t){this.isVideo?Xr.setPoster.call(this,t,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=lN(Vee.call(this));return pe.array(t)?t.join(":"):t}set ratio(t){this.isVideo?pe.string(t)&&B$e(t)?(this.config.ratio=lN(t),b_.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=pe.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){_r.toggle.call(this,t,!1)}set currentTrack(t){_r.set.call(this,t,!1),_r.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:n}=this.captions;return t?n:-1}set language(t){_r.setLanguage.call(this,t,!1)}get language(){return(_r.getCurrentTrack.call(this)||{}).language}set pip(t){if(!ns.pip)return;const n=pe.boolean(t)?t:!this.pip;pe.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?CB.active:CB.inactive),pe.function(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}get pip(){return ns.pip?pe.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===CB.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new VH(this))}static supported(t,n){return ns.check(t,n)}static loadSprite(t,n){return q$e(t,n)}static setup(t,n={}){let r=null;return pe.string(t)?r=Array.from(document.querySelectorAll(t)):pe.nodeList(t)?r=Array.from(t):pe.array(t)&&(r=t.filter(pe.element)),pe.empty(r)?null:r.map((i=>new GH(i,n)))}};X$e.defaults=yWt(G$e);function qWt(e,t,n=[]){const[r,i]=D.useState(null),s=D.useRef(null),{instantiate:o,destroy:a,getAPI:l,params:u}=t;D.useEffect(()=>{const d=o(s.current,u);return i(d),()=>{a&&a(d,u)}},n);const c=D.useMemo(()=>l(r,u),[r]);return D.useImperativeHandle(e,c,[c]),s}const HWt={},VWt=(e,t)=>{const n=new X$e(".plyr-react",t.options||{});return t.source&&(n.source=t.source),n},WWt=e=>{e&&e.destroy()},GWt=()=>{},YWt=e=>e?()=>({plyr:e}):()=>new Proxy({plyr:{source:null}},{get:(t,n)=>n==="plyr"?t[n]:GWt});function Q$e(e,t,n=null){return qWt(e,{instantiate:VWt,getAPI:YWt,destroy:WWt,params:t},n||[t.options,t.source])}const kB=D.forwardRef((e,t)=>{const{source:n,options:r=null,...i}=e,s=Q$e(t,{source:n,options:r});return x.jsx("video",{ref:s,className:"plyr-react plyr",...i})});(HWt&&"production")!=="production"&&(kB.displayName="Plyr",kB.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},kB.propTypes={options:YP.object,source:YP.any});const KWt=D.forwardRef((e,t)=>{const{source:n,options:r=null,endedCallback:i,errorCallback:s}=e,o=Q$e(t,{options:r,source:n});return D.useEffect(()=>{const{current:a}=t;a.plyr.source!==null&&(a.plyr.on("ended",i),a.plyr.on("error",s))}),x.jsx("video",{ref:o,className:"plyr-react plyr"})});function XWt({currentConfig:e}){const t=D.useMemo(()=>e.path.startsWith("http")?e.path:`${as}${e.path}`,[e.path]),[n,r]=D.useState(!0),[i,s]=D.useState(!1);D.useEffect(()=>{async function m(){if(t.startsWith("http"))s(!0);else{const g=await T6(t);s(!!g)}r(!1)}m()},[t]);const o=D.useMemo(()=>t.includes("youtube")?[{src:t,provider:"youtube"}]:t.includes("vimeo")?[{src:t,provider:"vimeo"}]:[{src:t,type:"video/mp4"}],[t]),a=D.useMemo(()=>({controls:[e.forceCompletion!==!1?"play-large":"play","current-time",...e.withTimeline?["progress"]:[],"volume","fullscreen"]}),[e.forceCompletion,e.withTimeline]),l=Gd(),u=rl(),c=Vs(),{updateResponseBlockValidation:d}=bs();D.useEffect(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!1,values:{}}))},[l,e.forceCompletion,u,c,d]);const f=D.useCallback(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!0,values:{}}))},[l,e.forceCompletion,u,c,d]),h=D.useCallback(()=>{s(!1)},[]),p=D.useRef(null);return n||i?x.jsx(_e,{children:x.jsx(KWt,{ref:p,source:{type:"video",sources:o},options:a,endedCallback:f,errorCallback:h})}):x.jsx(om,{path:e.path})}function QWt(){const e=Cu(),t=rl(),n=Gd(),r=e.components[n],{storageEngine:i}=Qi(),s=ar(O=>O.answers),o=D.useRef(null),[a,l]=D.useState(null),{setIsRecording:u}=bs(),c=ar(O=>O.analysisProvState.stimulus),d=Lg(),f=Fg(),h=ar(O=>O.sequence),[p]=kh(),m=ar(O=>O.participantId),g=D.useMemo(()=>p.get("participantId"),[p]);Zke();const v=Vs(),{setAlertModal:y}=bs();D.useEffect(()=>{(i==null?void 0:i.getEngine())!=="supabase"&&v(y({show:!0,message:"There was an issue connecting to the supabase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[y,i,v]),D.useEffect(()=>{!e||!e.uiConfig.recordAudio||!i||f&&f.endTime>0||d||(o.current&&a&&i.saveAudio(o.current,a),o.current&&(o.current.stream.getTracks().forEach(O=>{var M;O.stop(),(M=o.current)==null||M.stream.removeTrack(O)}),o.current.stream.getAudioTracks().forEach(O=>{var M;O.stop(),(M=o.current)==null||M.stream.removeTrack(O)}),o.current.stop(),o.current=null),r&&r.recordAudio!==void 0&&!r.recordAudio||n==="end"?(l(null),v(u(!1))):navigator.mediaDevices.getUserMedia({audio:!0}).then(O=>{const M=new MediaRecorder(O);o.current=M,o.current.start(),v(u(!0)),l(`${n}_${t}`)}))},[n,t]);const[w,E]=D.useState([]),C=D.useRef([]);D.useEffect(()=>{async function O(){var L;const $=((L=jke(h,t))==null?void 0:L.map(U=>U.currentBlock.id).filter(U=>U!==void 0))||[];E($)}async function M(){const $=C.current;JSON.stringify($)!==JSON.stringify(w)&&w.length>0&&i&&await i.addParticipantTags(w),C.current=w}O().then(M)},[t,i,h]);const S=B1(),T=D.useMemo(()=>{var M,$;const O=n&&n!=="end"&&!n.startsWith("__")&&Ol(r,e);if(typeof O=="object"){const L=(M=s[S])==null?void 0:M.parameters,U=($=s[S])==null?void 0:$.correctAnswer;return{...O,parameters:L||O.parameters||{},correctAnswer:U||O.correctAnswer||void 0}}return O},[s,n,S,r,e]);if(GK(T==null?void 0:T.stylesheetPath),n==="end")return x.jsx(t2t,{});if(n==="__dynamicLoading")return null;if(n==="__trainingFailed")return x.jsx(n2t,{});if(n==="__timedOut")return x.jsx(r2t,{});if(n==="Notfound")return x.jsx(om,{email:e.uiConfig.contactEmail});if(g&&m!==g)return x.jsx(Ga,{style:{height:"80vh"},children:x.jsx(Bd,{})});const k=(T==null?void 0:T.instruction)||"",I=T.instructionLocation??e.uiConfig.instructionLocation??"sidebar",R=I==="sidebar";return x.jsxs(x.Fragment,{children:[I==="aboveStimulus"&&x.jsx(uh,{text:k}),x.jsx(h4,{status:f,config:T,location:"aboveStimulus"},`${t}-above-response-block`),x.jsx(_e,{id:n,className:T.type,style:{width:"100%",display:"flex",flexGrow:T.type==="website"?1:void 0,flexDirection:"column",...T.style},children:x.jsxs(D.Suspense,{fallback:x.jsx("div",{children:"Loading..."}),children:[T.type==="markdown"&&x.jsx(HSt,{currentConfig:T}),T.type==="website"&&x.jsx(jSt,{currentConfig:T,provState:c,answers:s}),T.type==="image"&&x.jsx(zSt,{currentConfig:T}),T.type==="react-component"&&x.jsx(qSt,{currentConfig:T,provState:c,answers:s}),T.type==="vega"&&x.jsx(FVt,{currentConfig:T,provState:c}),T.type==="video"&&x.jsx(XWt,{currentConfig:T})]},`${t}-stimulus`)}),(I==="belowStimulus"||I===void 0&&!R)&&x.jsx(uh,{text:k}),x.jsx(h4,{status:f,config:T,location:"belowStimulus"},`${t}-below-response-block`)]})}function J$e(e){const[t]=kh();return x.jsx(FG,{...e,to:{pathname:e.to,search:t.toString()}})}var AB,Vme;function JWt(){if(Vme)return AB;Vme=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=typeof Ls=="object"&&Ls&&Ls.Object===Object&&Ls,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(C,S,T){var k,I,R,O,M,$,L=0,U=!1,B=!1,V=!0;if(typeof C!="function")throw new TypeError(e);S=E(S)||0,v(T)&&(U=!!T.leading,B="maxWait"in T,R=B?h(E(T.maxWait)||0,S):R,V="trailing"in T?!!T.trailing:V);function G(le){var oe=k,ie=I;return k=I=void 0,L=le,O=C.apply(ie,oe),O}function Y(le){return L=le,M=setTimeout(W,S),U?G(le):O}function z(le){var oe=le-$,ie=le-L,he=S-oe;return B?p(he,R-ie):he}function F(le){var oe=le-$,ie=le-L;return $===void 0||oe>=S||oe<0||B&&ie>=R}function W(){var le=m();if(F(le))return q(le);M=setTimeout(W,z(le))}function q(le){return M=void 0,V&&k?G(le):(k=I=void 0,O)}function K(){M!==void 0&&clearTimeout(M),L=0,k=$=I=M=void 0}function J(){return M===void 0?O:q(m())}function te(){var le=m(),oe=F(le);if(k=arguments,I=this,$=le,oe){if(M===void 0)return Y($);if(B)return M=setTimeout(W,S),G($)}return M===void 0&&(M=setTimeout(W,S)),O}return te.cancel=K,te.flush=J,te}function v(C){var S=typeof C;return!!C&&(S=="object"||S=="function")}function y(C){return!!C&&typeof C=="object"}function w(C){return typeof C=="symbol"||y(C)&&f.call(C)==n}function E(C){if(typeof C=="number")return C;if(w(C))return t;if(v(C)){var S=typeof C.valueOf=="function"?C.valueOf():C;C=v(S)?S+"":S}if(typeof C!="string")return C===0?C:+C;C=C.replace(r,"");var T=s.test(C);return T||o.test(C)?a(C.slice(2),T?2:8):i.test(C)?t:+C}return AB=g,AB}var ZWt=JWt();const Ef=qs(ZWt);function Z$e(e,t,n,r){let i=0;for(let s=0;s<e.components.length;s+=1){const o=e.components[s];if(typeof o=="string"){if(r===e.orderPath&&o===t&&s>=n)break;i+=1}else if(o.order==="dynamic"?i+=1:i+=Z$e(o,t,n,r),r.includes(o.orderPath))break}return i}function e6e(e,t){let n=0;return t.components.forEach(r=>{var i;if(typeof r=="string"&&((i=e.interruptions)!=null&&i.flatMap(s=>s.components).includes(r)))n+=1;else if(typeof r!="string"){const s=e.components.find(o=>typeof o!="string"&&o.orderPath===r.orderPath);n+=e6e(s,r)}}),n}function eGt(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(s=>typeof s=="string"?s===r:typeof r!="string"&&s.orderPath===r.orderPath);i!==-1&&(n.push(e[i]),e.splice(i,1)),i===-1&&typeof r=="string"&&n.push(r)}),e&&n.push(...e),n}function tGt({step:e,disabled:t,fullSequence:n,startIndex:r,interruption:i,participantView:s,studyConfig:o,subSequence:a,analysisNavigation:l,parentBlock:u,parentActive:c,answers:d}){const f=Oh(),h=Ea(),p=rl(),m=o.components[e]&&Ol(o.components[e],o),g=a&&a.components.slice(r).includes(e)?Z$e(n,e,r,a.orderPath):-1,{trialId:v,funcIndex:y,analysisTab:w}=va(),[E]=kh(),C=D.useMemo(()=>E.get("participantId"),[E]),S=w?[]:F1(),T=v===e,k=c&&u&&y?r===Rl(y):!1,I=s?p===g||k:p===`reviewer-${e}`,R=l?T:I,O=v?`./../${e}`:`./${e}`,M=u.order==="dynamic"?`/${f}/${ri(S.indexOf(u.id))}/${ri(r)}`:"",$=s?u.order==="dynamic"?M:`/${f}/${ri(g)}`:`/${f}/reviewer-${e}`,L=l?()=>h(O):()=>h(`${$}${C?`?participantId=${C}`:""}`),U=e.includes(".co.")?".co.":e.includes(".components.")?".components.":!1,B=e.includes("$")&&U&&e.includes(U)?e.split(U).at(-1):e,V=u.order==="dynamic"?Object.entries(d).find(([ie,he])=>ie===`${u.id}_${S.indexOf(u.id)}_${B}_${r}`):Object.entries(d).find(([ie,he])=>ie===`${B}_${r}`||ie===`${e}_${r}`),G=V?V[1]:null,Y=G&&G.correctAnswer.length>0&&Object.keys(G.answer).length>0&&G.correctAnswer,z=Y&&G&&Object.values(Y).every(ie=>G.answer[ie.id]===ie.answer),F=G&&Y?z?x.jsx(O2,{size:16,style:{marginRight:4,marginBottom:-3},color:"green"}):x.jsx(Lv,{size:16,style:{marginRight:4,marginBottom:-3},color:"red"}):null,W=6,q=m&&JSON.stringify(m.response,null,2),[K,J]=D.useState(W),te=G&&G.correctAnswer.length>0?JSON.stringify(G.correctAnswer,null,2):m&&m.correctAnswer?JSON.stringify(m.correctAnswer,null,2):void 0,[le,oe]=D.useState(W);return x.jsxs(wv,{withinPortal:!0,position:"left",withArrow:!0,arrowSize:10,shadow:"md",offset:0,children:[x.jsx(wv.Target,{children:x.jsx(d$,{active:R,style:{lineHeight:"32px",height:"32px"},label:x.jsxs(_e,{children:[i&&x.jsx(Ut,{label:"Interruption",position:"right",withArrow:!0,children:x.jsx(IYe,{size:16,style:{marginRight:4,marginBottom:-2},color:"orange"})}),e!==B&&x.jsx(Ut,{label:"Package import",position:"right",withArrow:!0,children:x.jsx(XKe,{size:16,style:{marginRight:4,marginBottom:-2},color:"blue"})}),(m==null?void 0:m.responseOrder)==="random"&&x.jsx(Ut,{label:"Random responses",position:"right",withArrow:!0,children:x.jsx(dKe,{size:16,opacity:.8,style:{marginRight:4,marginTop:-4,verticalAlign:"middle"},color:"black"})}),F,x.jsx(Ue,{size:"sm",span:R,fw:R?"700":void 0,display:"inline",style:{textWrap:"nowrap"},children:B})]}),onClick:L,disabled:t&&u.order!=="dynamic"})}),m&&x.jsx(wv.Dropdown,{children:x.jsxs(_e,{mah:700,maw:500,style:{overflow:"auto"},children:[x.jsxs(_e,{children:[x.jsx(Ue,{fw:900,display:"inline-block",mr:2,children:"Name:"})," ",x.jsx(Ue,{fw:400,component:"span",children:B})]}),m.description&&x.jsxs(_e,{children:[x.jsx(Ue,{fw:900,display:"inline-block",mr:2,children:"Description:"})," ",x.jsx(Ue,{fw:400,component:"span",children:m.description})]}),("parameters"in m||G)&&x.jsxs(_e,{children:[x.jsx(Ue,{fw:900,display:"inline-block",mr:2,children:"Parameters:"})," ",x.jsx(Lf,{block:!0,children:G&&JSON.stringify(Object.keys(G).length>0?G.parameters:"parameters"in m?m.parameters:{},null,2)})]}),G&&Object.keys(G.answer).length>0&&x.jsxs(_e,{children:[x.jsxs(Ue,{fw:900,display:"inline-block",mr:2,children:[F,"Participant Answer:"]})," ",x.jsx(Lf,{block:!0,children:JSON.stringify(G.answer,null,2)})]}),te&&x.jsxs(_e,{children:[x.jsx(Ue,{fw:900,display:"inline-block",mr:2,children:"Correct Answer:"})," ",x.jsxs(Lf,{block:!0,children:[x.jsx(Ue,{size:"xs",lineClamp:le,children:te}),te.split(`
`).length>W&&x.jsx(Rt,{justify:"flex-end",children:(le===void 0||te.split(`
`).length>le)&&x.jsx(Wt,{variant:"light",size:"xs",onClick:()=>{oe(ie=>ie===W?void 0:W)},children:le!==void 0?"Show more":"Show less"})})]})]}),x.jsxs(_e,{children:[x.jsx(Ue,{fw:900,display:"inline-block",mr:2,children:"Response:"})," ",x.jsxs(Lf,{block:!0,children:[x.jsx(Ue,{size:"xs",lineClamp:K,children:q}),q.split(`
`).length>W&&x.jsx(Rt,{justify:"flex-end",children:(K===void 0||q.split(`
`).length>K)&&x.jsx(Wt,{variant:"light",size:"xs",onClick:()=>{J(ie=>ie===W?void 0:W)},children:K!==void 0?"Show more":"Show less"})})]})]}),m.meta&&x.jsxs(_e,{children:[x.jsx(Ue,{fw:"900",component:"span",children:"Task Meta: "}),x.jsx(Lf,{block:!0,children:JSON.stringify(m.meta,null,2)})]})]})})]})}function uN({configSequence:e,fullSequence:t,participantSequence:n,participantView:r,studyConfig:i,analysisNavigation:s}){var T;let o=structuredClone(e.components);n&&r&&(o=eGt(structuredClone(e.components),structuredClone(n.components)));const{analysisTab:a}=va();let l={};a||(l=ar(k=>k.answers)),r||(o=[...((T=e.interruptions)==null?void 0:T.flatMap(k=>k.components))||[],...o||[]]);const u=D.useMemo(()=>n?Rd(n).length-e6e(e,n):0,[e,n]),c=D.useMemo(()=>Rd(e),[e]),[d,f]=D.useState(u>0),[h]=kh(),p=D.useMemo(()=>h.get("participantId"),[h]),m=rl(),g=a?[]:F1(),v=typeof m=="number"&&e.order==="dynamic"&&g[m]===e.id,y=e.id&&g.indexOf(e.id)||-1,w=Oh(),E=Ea(),C=()=>E(`/${w}/${ri(y)}/${ri(0)}${p?`?participantId=${p}`:""}`),S=[...o,...Object.entries(l).filter(([k,I])=>k.startsWith(`${e.id}_${y}_`)).map(([k,I])=>I.componentName)];return x.jsx(d$,{active:v,label:x.jsxs(_e,{style:{opacity:u>0?1:.5},children:[x.jsx(Ue,{size:"sm",display:"inline",fw:v?900:700,children:e.id?e.id:e.order}),e.order==="random"||e.order==="latinSquare"?x.jsx(Ut,{label:e.order,position:"right",withArrow:!0,children:x.jsx(mYe,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}})}):null,r&&x.jsx(lu,{ml:5,variant:"light",children:e.order==="dynamic"?`${Object.keys(l).filter(k=>k.startsWith(`${e.id}_`)).length} / ?`:`${u}/${c.length}`}),r&&e.interruptions&&x.jsx(lu,{ml:5,color:"orange",variant:"light",children:(n==null?void 0:n.components.filter(k=>{var I;return typeof k=="string"&&((I=e.interruptions)==null?void 0:I.flatMap(R=>R.components).includes(k))}).length)||0})]}),opened:d,onClick:()=>e.order==="dynamic"&&!s&&r?C():f(!d),childrenOffset:32,style:{lineHeight:"32px",height:"32px"},children:d?x.jsx(_e,{style:{borderLeft:"1px solid #e9ecef"},children:S.map((k,I)=>{if(typeof k=="string")return x.jsx(tGt,{step:k,disabled:r&&(n==null?void 0:n.components[I])!==k,fullSequence:t,startIndex:I,interruption:e.interruptions&&e.interruptions.findIndex(O=>O.components.includes(k))>-1||!1,participantView:r,studyConfig:i,subSequence:n,analysisNavigation:s,parentBlock:e,parentActive:v,answers:l},I);const R=n==null?void 0:n.components.find(O=>typeof O!="string"&&O.orderPath===k.orderPath);return x.jsx(uN,{configSequence:k,participantSequence:R,fullSequence:t,participantView:r,studyConfig:i,analysisNavigation:s},I)})}):null},e.id)}function t6e(e,t){e==null||e.clearCurrentParticipantId().then(()=>{window.location.href=t}).catch(n=>{console.error(n)})}function Wme({text:e}){return x.jsx(Ut,{label:e,multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:x.jsx(UG,{size:16,style:{marginBottom:-3,marginLeft:4}})})}function nGt(){const e=ar(h=>h.sequence),{toggleStudyBrowser:t}=bs(),n=Cu(),r=Vs(),i=Oh(),s=NG(`/${i}`),{storageEngine:o}=Qi(),a=Lg(),l=D.useMemo(()=>{let h=structuredClone(n.sequence);return h=qK(h,"root"),h.components.push("end"),h},[n.sequence]),[u,c]=D.useState("participant"),d=D.useMemo(()=>u==="allTrials"||a,[u,a]),f=ar(h=>h.modes);return x.jsxs(Qr.Aside,{className:"studyBrowser",p:"0",children:[x.jsxs(Qr.Section,{p:"sm",pb:0,children:[x.jsxs(Rt,{direction:"row",justify:"space-between",children:[x.jsx(Ue,{size:"md",fw:700,pt:3,children:"Study Browser"}),x.jsx(Ut,{label:"Go to the sequence of the next participant in the experiment. Sequences can be different between participants due to randomization, etc.",w:280,multiline:!0,disabled:d,children:x.jsx(Wt,{variant:"light",leftSection:x.jsx(qG,{size:14}),onClick:()=>t6e(o,s),size:"xs",disabled:d,children:"Next Participant"})}),a?x.jsx(Ut,{label:"The study browser cannot be closed in replay mode",withinPortal:!0,children:x.jsx(lh,{onClick:()=>r(t()),mt:1,disabled:a})}):x.jsx(lh,{onClick:()=>r(t()),mt:1,disabled:a})]}),x.jsxs(Rt,{direction:"row",justify:"space-between",mt:"xs",opacity:.7,children:[x.jsxs(Ue,{size:"sm",children:["Study Status:"," ",f!=null&&f.dataCollectionEnabled?"Collecting Data":"Data Collection Disabled"]}),x.jsxs(Rt,{gap:"sm",children:[f!=null&&f.analyticsInterfacePubliclyAccessible?x.jsx(Ut,{label:"Analytics interface publicly accessible",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:x.jsx(Mwe,{size:16,color:"green"})}):x.jsx(Ut,{label:"Analytics interface not publicly accessible",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:x.jsx($we,{size:16,color:"red"})}),(o==null?void 0:o.getEngine())==="localStorage"?x.jsx(Ut,{label:"Local storage enabled",withinPortal:!0,position:"bottom",children:x.jsx(Dwe,{size:16,color:"green"})}):x.jsx(Ut,{label:"Firebase enabled",withinPortal:!0,position:"bottom",children:x.jsx(Nwe,{size:16,color:"green"})})]})]})]}),x.jsx(Qr.Section,{grow:!0,component:Id,p:"xs",pt:8,children:x.jsxs(ir,{value:u,onChange:c,children:[x.jsx(_e,{style:{position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:x.jsxs(ir.List,{grow:!0,children:[x.jsxs(ir.Tab,{value:"participant",children:["Participant View",x.jsx(Wme,{text:"The Participants View shows items just as a participants would see them, considering randomization, omissions, etc. You can navigate between multiple participants using the next participant button."})]}),x.jsxs(ir.Tab,{value:"allTrials",disabled:a,children:["All Trials View",x.jsx(Wme,{text:"The All Trials View shows all items in the order defined in the config."})]})]})}),x.jsx(ir.Panel,{value:"participant",children:x.jsx(uN,{configSequence:l,participantSequence:e,fullSequence:e,participantView:!0,studyConfig:n})}),x.jsx(ir.Panel,{value:"allTrials",children:x.jsx(uN,{configSequence:l,participantSequence:e,fullSequence:e,participantView:!1,studyConfig:n})})]})})]})}function rGt({studyNavigatorEnabled:e,dataCollectionEnabled:t}){const n=ar(I=>I.config),r=ar(I=>I.answers),i=F1(),s=Vs(),{toggleShowHelpText:o,toggleStudyBrowser:a,incrementHelpCounter:l}=bs(),{storageEngine:u}=Qi(),c=Gd(),d=D.useMemo(()=>Ol(n.components[c]||{},n),[c,n]),f=rl(),h=D.useMemo(()=>{const I=Object.values(r).filter(O=>O.endTime>-1).length,R=i.map((O,M)=>n.components[O]?1:typeof f=="number"&&f<=M&&O!=="end"?55:Object.entries(r).filter(([$,L])=>$.includes(`${O}_`)).length).reduce((O,M)=>O+M,0);return I/R*100},[r,f,i,n.components]),[p,m]=D.useState(!1),g=n==null?void 0:n.uiConfig.logoPath,v=D.useMemo(()=>d.withProgressBar??n.uiConfig.withProgressBar,[d,n]),y=D.useMemo(()=>d.showTitle??n.uiConfig.showTitle??!0,[d,n]),w=Oh(),E=NG(`/${w}`),C=D.useRef(null),[S,T]=D.useState(!1),k=ar(I=>I.isRecording);return D.useEffect(()=>{const I=C.current;I&&T(I.scrollWidth>I.offsetWidth)},[n]),x.jsx(Qr.Header,{className:"header",p:"md",children:x.jsxs(js,{mt:-7,align:"center",children:[x.jsx(js.Col,{span:4,children:x.jsxs(Rt,{align:"center",children:[x.jsx(Th,{w:40,src:`${as}${g}`,alt:"Study Logo",className:"logoImage"}),x.jsx(Ju,{w:"md"}),y?x.jsx(Br,{ref:C,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:S?n==null?void 0:n.studyMetadata.title:void 0,className:"studyTitle",children:n==null?void 0:n.studyMetadata.title}):null]})}),x.jsx(js.Col,{span:4,children:v&&x.jsx(S1,{radius:"md",size:"lg",value:h,className:"progressBar"})}),x.jsx(js.Col,{span:4,children:x.jsxs(_i,{wrap:"nowrap",justify:"right",children:[k?x.jsxs(_i,{ml:"xl",gap:20,wrap:"nowrap",children:[x.jsx(Ue,{color:"red",children:"Recording audio"}),x.jsx(iCe,{})]}):null,!t&&x.jsx(Ut,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:x.jsx(lu,{size:"lg",color:"orange",children:"Demo Mode"})}),(n==null?void 0:n.uiConfig.helpTextPath)!==void 0&&x.jsx(Wt,{variant:"outline",onClick:()=>{s(o()),s(l({identifier:`${c}_${f}`}))},children:"Help"}),x.jsxs(pn,{shadow:"md",width:200,withinPortal:!0,opened:p,onChange:m,children:[x.jsx(pn.Target,{children:x.jsx(tr,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:x.jsx(Pwe,{})})}),x.jsxs(pn.Dropdown,{children:[e&&x.jsx(pn.Item,{leftSection:x.jsx(jwe,{size:14}),onClick:()=>s(a()),children:"Study Browser"}),x.jsx(pn.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:x.jsx(UKe,{size:14}),children:"Contact"}),e&&x.jsx(pn.Item,{leftSection:x.jsx(qG,{size:14}),onClick:()=>t6e(u,E),children:"Next Participant"}),e&&x.jsx(pn.Item,{leftSection:x.jsx(Iwe,{size:14}),component:"a",href:`${as}analysis/stats/${w}`,children:"Analyze & Manage"})]})]})]})})]})})}function iGt(){const e=Cu(),t=Gd(),n=e.components[t],r=D.useMemo(()=>n?Ol(n,e):null,[n,e]),i=Fg(),s=(r==null?void 0:r.withSidebar)??e.uiConfig.withSidebar,o=(r==null?void 0:r.instruction)||"",l=D.useMemo(()=>(r==null?void 0:r.instructionLocation)??e.uiConfig.instructionLocation??"sidebar",[r,e])==="sidebar";return s&&r?x.jsxs(Qr.Navbar,{className:"sidebar",bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:[l&&o!==""&&x.jsxs(Qr.Section,{bg:"gray.3",p:"md",children:[x.jsx(Ue,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),x.jsx(uh,{text:o})]}),x.jsx(Qr.Section,{p:"md",children:x.jsx(h4,{status:i,config:r,location:"sidebar"},`${t}-sidebar-response-block`)})]}):x.jsx(Qr.Navbar,{bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:x.jsx(h4,{status:i,config:r,location:"sidebar",style:{display:"hidden"}},`${t}-sidebar-response-block`)})}function sGt(){const e=ar(d=>d.showHelpText),t=ar(d=>d.config),n=Vs(),{toggleShowHelpText:r}=bs(),[i,s]=D.useState(""),[o,a]=D.useState(!0),l=Gd(),u=D.useMemo(()=>Ol(t.components[l]||{},t),[l,t]),c=D.useMemo(()=>u.helpTextPath??t.uiConfig.helpTextPath,[u.helpTextPath,t.uiConfig.helpTextPath]);return D.useEffect(()=>{async function d(){if(!c){a(!1);return}const f=await T6(`${as}${c}`);f!==void 0&&s(f),a(!1)}d()},[c]),x.jsx(xi,{className:"helpModal",size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:o||i?x.jsx(uh,{text:i}):x.jsx(om,{path:t.uiConfig.helpTextPath})})}function oGt(){const e=ar(o=>o.alertModal),{setAlertModal:t}=bs(),n=Vs(),[r,i]=D.useState(e.show),s=D.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return D.useEffect(()=>i(e.show),[e.show]),x.jsx(xi,{opened:r,centered:!0,size:"lg",withCloseButton:!1,onClose:s,children:x.jsxs(Xf,{color:"red",radius:"xs",title:"Alert",icon:x.jsx(lYe,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[x.jsx(Ue,{my:"md",children:e.message}),x.jsx(_i,{w:"100%",justify:"end",children:x.jsx(Wt,{onClick:s,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}const MR=15,FR=3,Gme=["#4269d0","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e"];function aGt({xScale:e,height:t,currentNode:n,provenance:r,answer:i}){const s=D.useMemo(()=>{var a;const o=new Map;if(o.set("Root","#efb118"),i.provenanceGraph){let l=0;Object.entries(((a=i.provenanceGraph.stimulus)==null?void 0:a.nodes)||{}).forEach(u=>{const[,c]=u;o.has(c.label)||(o.set(c.label,Gme[l]),l=(l+1)%Gme.length)})}return o},[i]);return x.jsxs("g",{style:{cursor:"pointer"},children:[r?Object.entries(r.nodes||{}).map(o=>{const[a,l]=o;return x.jsx("g",{children:x.jsx("rect",{fill:s.get(l.label)||"#9498a0",opacity:l.id===n?1:.7,x:e(l.createdOn)-FR/2,y:t/2-MR/2,width:FR,height:MR})},a)}):null,n&&r&&r.nodes[n]&&x.jsx("rect",{fill:s.get(r.nodes[n].label)||"#9498a0",x:e(r.nodes[n].createdOn)-FR/2,y:t/2-MR/2,width:FR,height:MR}),x.jsx(pW,{position:{bottom:10,left:10},children:x.jsxs(Li,{width:200,position:"bottom",withArrow:!0,shadow:"md",children:[x.jsx(Li.Target,{children:x.jsx(Wt,{children:"Show Legend"})}),x.jsx(Li.Dropdown,{children:x.jsx(Mi,{children:Array.from(s.keys()).map(o=>x.jsxs(_i,{children:[x.jsx(KN,{color:s.get(o)}),x.jsx("span",{children:o})]},o))})})]})})]})}const Yme={left:5};function lGt({xScale:e,answers:t,width:n,height:r,currentNode:i,trialName:s}){const o=D.useMemo(()=>Object.entries(t).filter(a=>s?s===a[0]:!0).map(a=>{const[l,u]=a;return Object.keys(u.provenanceGraph).map(d=>{const f=u.provenanceGraph[d];return f?x.jsx(aGt,{answer:t[s],height:r,currentNode:i,xScale:e,provenance:f},l+d):null})}),[i,r,t,s,e]);return x.jsxs("svg",{style:{width:n,height:r},children:[x.jsx("line",{stroke:"black",strokeWidth:1,x1:Yme.left,x2:n+Yme.left,y1:r/2,y2:r/2}),o]})}function n6e(e){const t=D.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return D.useLayoutEffect(()=>{t.current=e}),D.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function uGt({width:e,height:t,updateTimer:n,duration:r,isPlaying:i,xScale:s,startTime:o,initialTime:a}){const l=D.useRef(0),u=D.useRef(Date.now()),[c,d]=D.useState(0);D.useEffect(()=>{if(o){const p=a!==void 0?a:o;l.current=p-o,n(p,(p-o)/r)}},[o,n,a,r]);const f=n6e(()=>{if(l.current>=r)return;const p=Date.now();l.current=p-u.current,n(o+l.current,void 0),d(c+1)});D.useEffect(()=>{i&&l.current>=r&&(n(o,0),u.current=Date.now()-l.current,l.current=0)},[o,i,r,n]),D.useEffect(()=>{let p=null;return i&&l.current<r&&(u.current=Date.now()-l.current,p=setInterval(()=>{i&&f()},30)),()=>{p&&clearInterval(p)}},[r,f,i]);const h=D.useCallback(p=>{l.current=s.invert(p.clientX-10)-s.domain()[0],u.current=Date.now()-l.current,d(c+1),n(o+l.current,l.current/r)},[r,c,o,n,s]);return x.jsx("svg",{onClick:h,style:{width:e,height:t,position:"absolute",zIndex:1e4},children:x.jsx("line",{stroke:"#e15759",strokeWidth:3,y1:0,y2:t,x1:s(o+l.current),x2:s(o+l.current)})})}function YH(e){if(Number.isNaN(e))return;if(e<=0)return"0s";const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`,o=t<10?`0${t}`:`${t}`;return`${t>0?`${o}h`:""} ${n>0?`${s}m`:""} ${i}s`}function IB(e,t,n,r,i){const{saveAnalysisState:s}=bs(),o=Vs(),a=D.useMemo(()=>{const l=O1.create(),u=gk({registry:l,initialState:{}});return n&&u.importObject(structuredClone(n)),u},[n]);D.useEffect(()=>{if(!n){r&&(i(null,e),o(s({prov:null,location:e})));return}if(!r||!n.nodes[r]){i(n.root,e),o(s({prov:a.getState(n.nodes[n.root]),location:e}));return}let l=n.nodes[r];for(;;)if(t<l.createdOn){if(TCe(l))break;{const u=l.parent;l=n.nodes[u]}}else if(l.children.length>0){const u=l.children[0];if(t>n.nodes[u].createdOn)l=n.nodes[u];else break}else break;l.id!==r&&(i(l.id,e),o(s({prov:a.getState(l),location:e})))},[r,t,n,o,s,e,i,a])}const RB={left:0,right:0};function cGt({setTimeString:e}){var le,oe,ie,he;const[t]=kh(),n=D.useMemo(()=>t.get("participantId")||void 0,[t]),r=D.useMemo(()=>t.get("t")||void 0,[t]),i=D.useMemo(()=>{var xe,Re,Te;if(!r)return;if(!Number.isNaN(Number(r)))return parseInt(r,10);const ee=parseInt(((xe=r.match(/(\d+)h/))==null?void 0:xe[1])||"0",10),ne=parseInt(((Re=r.match(/(\d+)m/))==null?void 0:Re[1])||"0",10),ue=parseInt(((Te=r.match(/(\d+)s/))==null?void 0:Te[1])||"0",10);return(ee*3600+ne*60+ue)*1e3},[r]),{storageEngine:s}=Qi(),o=ar(ee=>ee.analysisIsPlaying),a=ar(ee=>ee.analysisHasAudio),{saveAnalysisState:l,setAnalysisHasAudio:u,setAnalysisIsPlaying:c}=bs(),d=Vs(),f=Gd(),h=rl();D.useEffect(()=>{d(l({prov:void 0,location:"stimulus"}))},[h,l,d]);const[p,{width:m}]=MT(),[g,v]=D.useState(0),[y,w]=D.useState(null),[E,C]=D.useState({aboveStimulus:void 0,belowStimulus:void 0,sidebar:void 0,stimulus:void 0}),[S,T]=D.useState(null),[k,I]=D.useState(0),R=ar(ee=>ee.answers),[O,M]=D.useState(0),$=D.useRef(null),[L,U]=D.useState(!0),B=D.useRef(null),V=B1(),G=n6e((ee,ne)=>{var ve;const ue=(ve=R[V])==null?void 0:ve.provenanceGraph[ne];ue&&ee&&(!S||ue.nodes[ee].createdOn>S.time||O<S.time)&&T({name:ee||"",time:ue.nodes[ee].createdOn}),C({...E,[ne]:ee})});IB("aboveStimulus",O,(le=R[V])==null?void 0:le.provenanceGraph.aboveStimulus,E.aboveStimulus,G),IB("belowStimulus",O,(oe=R[V])==null?void 0:oe.provenanceGraph.belowStimulus,E.belowStimulus,G),IB("sidebar",O,(ie=R[V])==null?void 0:ie.provenanceGraph.sidebar,E.sidebar,G),D.useEffect(()=>{d(c(!1))},[n,f,h,d,c,V]),D.useEffect(()=>{var ee,ne,ue;if(V&&((ee=R[V])!=null&&ee.provenanceGraph)){const ve=O1.create(),xe=gk({registry:ve,initialState:{}});(ne=R[V])!=null&&ne.provenanceGraph.stimulus&&(xe.importObject(structuredClone((ue=R[V])==null?void 0:ue.provenanceGraph.stimulus)),B.current=xe)}},[R,V,d]);const Y=D.useCallback(ee=>{var ne,ue;ee&&(V&&B.current&&(d(l({prov:B.current.getState((ue=(ne=R[V])==null?void 0:ne.provenanceGraph.stimulus)==null?void 0:ue.nodes[ee]),location:"stimulus"})),B.current.to(ee)),G(ee,"stimulus"),w(ee))},[V,G,d,l,R]);D.useEffect(()=>{var ue,ve;if(!V||!B.current||!((ue=R[V])!=null&&ue.provenanceGraph))return;const ee=(ve=R[V])==null?void 0:ve.provenanceGraph;if(!ee.stimulus)return;if(!y||!ee.stimulus.nodes[y]){Y(ee.stimulus.root);return}let ne=ee.stimulus.nodes[y];for(;;)if(O<ne.createdOn){if(TCe(ne))break;{const xe=ne.parent;ne=ee.stimulus.nodes[xe]}}else if(ne.children.length>0){const xe=ne.children[0];if(O>ee.stimulus.nodes[xe].createdOn)ne=ee.stimulus.nodes[xe];else break}else break;ne.id!==y&&Y(ne.id)},[Y,y,n,O,V,R]);const z=D.useMemo(()=>{var ee;return((ee=R[V])==null?void 0:ee.startTime)||0},[R,V]);D.useEffect(()=>{z&&M(z+(i||0))},[z,i]),D.useEffect(()=>{k===0?e(""):O!==0&&e(`${YH(O-z)} / ${YH(k*1e3)}`)},[V,O,e,z,k]),D.useEffect(()=>{var ee,ne;if(!a){const ue=((ee=R[V])==null?void 0:ee.endTime)-((ne=R[V])==null?void 0:ne.startTime);I(ue>-1?ue/1e3:0)}},[a,R,V]);const F=Ea();D.useEffect(()=>{if(k>0&&i){const ee=k*1e3;i>ee&&F(`?participantId=${n}&t=${ee}`)}},[k,i,n,F]);const W=Lg(),q=D.useRef(null),K=D.useCallback(async ee=>{if(q.current=ee,ee&&W&&V&&s)try{if(!n)throw new Error("Participant ID is required to load audio");const ne=await s.getAudio(V,n);await ee.load(ne),U(!1),d(u(!0)),I(ee.getDuration()),v(ee.getWidth()),ee.seekTo(0),ee.on("redrawcomplete",()=>v(ee.getWidth()))}catch(ne){throw d(u(!1)),new Error(ne)}else d(u(!1)),I(0)},[W,V,s,n,d,u]),J=gLe((ee,ne)=>{const ue=k*1e3+z;if(ee>ue){d(c(!1)),M(ee);return}M(ee),q.current&&ne!==void 0&&setTimeout(()=>{var ve;(ve=q.current)==null||ve.seekTo(ne)})},100);D.useEffect(()=>{q.current&&(o?q.current.play():q.current.pause())},[q,o,k,z,M]);const te=D.useMemo(()=>{var ue,ve,xe,Re,Te;if(!((ue=R[V])!=null&&ue.startTime)||!((ve=R[V])!=null&&ve.endTime))return null;const ee=k>0?((xe=R[V])==null?void 0:xe.startTime)+k*1e3:(Re=R[V])==null?void 0:Re.endTime;return Z2([RB.left,m+RB.left+RB.right]).domain([(Te=R[V])==null?void 0:Te.startTime,ee]).clamp(!0)},[R,V,k,m]);return D.useEffect(()=>{K(q.current)},[J,K,n,q]),x.jsx(_i,{wrap:"nowrap",gap:10,mx:10,children:x.jsxs(Mi,{ref:p,style:{width:"100%"},gap:0,children:[x.jsx(Ga,{}),n!==void 0&&V?x.jsxs(_e,{ref:$,style:{overflow:"hidden",width:"100%",pointerEvents:"none"},display:a?"block":"none",id:"waveformDiv",children:[x.jsx(eCe,{onMount:K,plugins:[],container:"#waveformDiv",height:50,waveColor:"#484848",progressColor:"#e15759",barHeight:0,cursorColor:"rgba(0, 0, 0, 0)",children:x.jsx(tCe,{id:"waveform",height:50})}),L?x.jsx(Bd,{}):null]}):null,te&&V&&((he=R[V])!=null&&he.provenanceGraph)?x.jsx(lGt,{xScale:te,trialName:V,currentNode:(S==null?void 0:S.name)||"",answers:R,width:g||m,height:25}):null,te?x.jsx(uGt,{duration:k*1e3,height:(a?50:0)+25,isPlaying:o,startTime:z,width:m,xScale:te,updateTimer:J,initialTime:i?z+i:void 0}):null]})})}function dGt(e){return e?e.getAllParticipantIds():null}function fGt(){const[e]=kh(),t=D.useMemo(()=>e.get("participantId")||void 0,[e]),n=Gd(),r=rl(),{funcIndex:i}=va(),s=Ea(),o=Cu(),{setAnalysisIsPlaying:a}=bs(),l=Vs(),u=ar(E=>E.analysisIsPlaying),c=ar(E=>E.answers),{storageEngine:d}=Qi(),{value:f}=YK(dGt,[d]),[h,p]=D.useMemo(()=>{if(f&&t&&n){const E=f.findIndex(T=>T===t),C=E<f.length-1?f[E+1]:f[0],S=E>0?f[E-1]:f[f.length-1];return[[C,r],[S,r]]}return[["",0],["",0]]},[f,n,r,t]),[m,g]=D.useState(""),v=D.useMemo(()=>Rd(o.sequence),[o.sequence]),y=D.useMemo(()=>r===0,[r]),w=D.useMemo(()=>r===v.length,[r,v.length]);return x.jsx(Qr.Footer,{zIndex:101,withBorder:!1,children:x.jsxs(_e,{style:{backgroundColor:"var(--mantine-color-blue-1)",height:"150px"},children:[x.jsx(cGt,{setTimeString:g}),x.jsx(Ga,{children:x.jsxs(_i,{gap:"xs",style:{height:"50px"},children:[x.jsx(Ue,{size:"sm",ff:"monospace",children:m}),x.jsx(tr,{variant:"filled",size:30,onClick:()=>l(a(!u)),children:u?x.jsx(OXe,{}):x.jsx($Xe,{})}),x.jsx(Ue,{mx:"0",children:"Participant:"}),x.jsx(Ag,{style:{width:"300px"},value:t||"",onChange:E=>{s(`./../${ri(0)}?participantId=${E}`)},data:f||[]}),x.jsx(Wt,{disabled:y,onClick:()=>{i?Rl(i)>0?s(`../${ri(Rl(i)-1)}?participantId=${t}`,{relative:"path"}):s(`../../${ri(+r-1)}?participantId=${t}`,{relative:"path"}):s(`../${ri(+r-1)}?participantId=${t}`,{relative:"path"})},children:x.jsx(lz,{})}),x.jsx(Wt,{disabled:w,onClick:()=>{if(i){const E=v[r],C=Object.keys(c).filter(S=>S.startsWith(`${E}_${r}_`));Rl(i)>=C.length?s(`../../${ri(+r+1)}?participantId=${t}`,{relative:"path"}):s(`../${ri(Rl(i)+1)}?participantId=${t}`,{relative:"path"})}else s(`../${ri(+r+1)}?participantId=${t}`,{relative:"path"})},children:x.jsx(Sse,{})}),x.jsxs(Wt,{px:"xs",disabled:p[0]===t,onClick:()=>s(`./../${ri(i?0:p[1])}?participantId=${p[0]}`),children:[x.jsx(lz,{}),x.jsx(Tse,{})]}),x.jsxs(Wt,{px:"xs",disabled:h[0]===t,onClick:()=>s(`./../${ri(i?0:h[1])}?participantId=${h[0]}`),children:[x.jsx(Tse,{}),x.jsx(Sse,{})]})]})})]})})}function hGt(){const e=Cu(),t=e.uiConfig.minWidthSize,n=e.uiConfig.minHeightSize,[r,i]=D.useState(!1),[s,o]=D.useState(!1),[a,l]=D.useState(60),[u,c]=D.useState(!1),d=D.useRef(null),{storageEngine:f}=Qi(),h=Oh(),p=Ea();return D.useEffect(()=>{const m=()=>{if(t===void 0||n===void 0)return;const g=window.innerWidth<t,v=window.innerHeight<n,y=g||v,w=()=>{l(60),d.current&&(clearInterval(d.current),d.current=null),d.current=setInterval(()=>{l(E=>E<=1?(d.current&&(clearInterval(d.current),d.current=null),f&&!s&&(o(!0),c(!0),f.rejectCurrentParticipant("Screen resolution too small").catch(()=>{console.error("Failed to reject participant who failed training")})),0):E-1)},1e3)};s||(y?(i(!0),w()):(i(!1),d.current&&(clearInterval(d.current),d.current=null)))};return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m),d.current&&clearInterval(d.current)}},[t,n,f,h,p,s]),r?x.jsx(xi,{opened:r,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:x.jsxs(Mi,{align:"center",justify:"center",children:[x.jsx(Lp,{size:64,color:"orange"}),x.jsx(Br,{order:3,children:" Screen Resolution Warning "}),x.jsx(Ue,{size:"md",ta:"center",children:u?x.jsxs(x.Fragment,{children:["Thank you for participating in this study. You have been timed out and will not be able to continue.",x.jsx("br",{}),"You may now close this page."]}):x.jsxs(x.Fragment,{children:["Your screen resolution is below the minimum requirement:",x.jsx("br",{}),t!==void 0&&` Width: ${t}px`,n!==void 0&&` Height: ${n}px`,x.jsx("br",{}),"Please resize your browser window to the minimum required size within"," ",a," ","seconds."]})})]})}):null}function pGt(){const e=D.useRef([]),t=Vs(),{toggleStudyBrowser:n}=bs(),r=Cu(),i=Gd(),s=D.useMemo(()=>Ol(r.components[i]||{},r),[i,r]),o=D.useMemo(()=>s.windowEventDebounceTime??r.uiConfig.windowEventDebounceTime??100,[s,r]);GK(r==null?void 0:r.uiConfig.stylesheetPath);const a=ar(v=>v.showStudyBrowser),l=ar(v=>v.analysisHasAudio),u=ar(v=>v.modes);D.useEffect(()=>{const v=Ef(O=>{e.current.push([Date.now(),"focus",O.target instanceof HTMLElement?O.target.tagName:""])},o,{maxWait:o}),y=Ef(O=>{e.current.push([Date.now(),"input",O.data??""])},o,{maxWait:o}),w=Ef(O=>{e.current.push([Date.now(),"keydown",O.key])},o,{maxWait:o}),E=Ef(O=>{e.current.push([Date.now(),"keyup",O.key])},o,{maxWait:o}),C=Ef(O=>{e.current.push([Date.now(),"mousedown",[O.clientX,O.clientY]])},o,{maxWait:o}),S=Ef(O=>{e.current.push([Date.now(),"mouseup",[O.clientX,O.clientY]])},o,{maxWait:o}),T=Ef(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},o,{maxWait:o}),k=Ef(O=>{e.current.push([Date.now(),"mousemove",[O.clientX,O.clientY]])},o,{maxWait:o}),I=Ef(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},o,{maxWait:o}),R=Ef(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},o,{maxWait:o});return window.addEventListener("focus",v,!0),window.addEventListener("input",y),window.addEventListener("keydown",w),window.addEventListener("keyup",E),window.addEventListener("mousedown",C),window.addEventListener("mouseup",S),window.addEventListener("resize",T),window.addEventListener("mousemove",k),window.addEventListener("scroll",I),document.addEventListener("visibilitychange",R),()=>{window.removeEventListener("focus",v,!0),window.removeEventListener("input",y),window.removeEventListener("keydown",w),window.removeEventListener("keyup",E),window.removeEventListener("mousedown",C),window.removeEventListener("mouseup",S),window.removeEventListener("resize",T),window.removeEventListener("mousemove",k),window.removeEventListener("scroll",I),document.removeEventListener("visibilitychange",R)}},[]);const{studyNavigatorEnabled:c,dataCollectionEnabled:d}=D.useMemo(()=>u,[u]),f=D.useMemo(()=>s.withSidebar??r.uiConfig.withSidebar,[s,r]),h=D.useMemo(()=>(s==null?void 0:s.sidebarWidth)??r.uiConfig.sidebarWidth??300,[s,r]),p=D.useMemo(()=>s.showTitleBar??r.uiConfig.showTitleBar??!0,[s,r]),m=Lg(),g=D.useMemo(()=>m?!0:c&&a,[c,a,m]);return x.jsx(Gke.Provider,{value:e,children:x.jsxs(Qr,{padding:"md",header:{height:p?70:0},navbar:{width:h,breakpoint:"xs",collapsed:{desktop:!f,mobile:!f}},aside:{width:360,breakpoint:"xs",collapsed:{desktop:!g,mobile:!g}},footer:{height:(m?75:0)+(l?50:0)},children:[x.jsx(iGt,{}),x.jsx(nGt,{}),p&&x.jsx(rGt,{studyNavigatorEnabled:c,dataCollectionEnabled:d}),x.jsx(hGt,{}),x.jsx(sGt,{}),x.jsx(oGt,{}),x.jsxs(Qr.Main,{className:"main",style:{display:"flex",flexDirection:"column"},children:[!p&&!a&&c&&x.jsx(Wt,{variant:"transparent",leftSection:x.jsx(lz,{size:14}),onClick:()=>t(n()),size:"xs",style:{position:"fixed",top:"10px",right:"10px"},children:"Study Browser"}),x.jsx(gGe,{})]}),m&&x.jsx(fGt,{})]})})}function mGt(e,t=!1){return typeof e=="number"?Kme(e,t):Kme(e.length,t).map(r=>r.map(i=>e[i]))}function Kme(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function r6e(e,t,n){if(oc(e))return{id:e.id,orderPath:n,order:e.order,components:[],skip:[]};let r=e.components;e.order==="random"?r=e.components.sort(()=>.5-Math.random()):e.order==="latinSquare"&&t&&(r=t[n].pop().map(i=>i.startsWith("_componentBlock")?e.components[+i.slice(15)]:i)),r=r.slice(0,e.numSamples);for(let i=0;i<r.length;i+=1){const s=r[i];if(typeof s!="string"&&!Array.isArray(s)){const o=e.components.indexOf(s);r[i]=r6e(s,t,`${n}-${o}`)}}return e.interruptions&&e.interruptions.forEach(i=>{const s=[];if(i.spacing!=="random")for(let o=0;o<r.length;o+=1)(o===i.firstLocation||o>i.firstLocation&&o%i.spacing===0)&&s.push(...i.components),s.push(r[o]);if(i.spacing==="random"){const o=new Set;if(i.numInterruptions>r.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;o.size<i.numInterruptions;){const u=Math.floor(Math.random()*r.length-1)+1;o.add(u)}const a=Array.from(o).sort((u,c)=>u-c);let l=0;for(let u=0;u<r.length;u+=1)u===a[l]&&(s.push(...i.components),l+=1),s.push(r[u])}r=s}),{id:e.id,orderPath:n,order:e.order,components:r.flat(),skip:e.skip}}function gGt(e,t){const n=structuredClone(e);return r6e(n,t,"root")}function i6e(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),!oc(e)&&e.components.forEach((s,o)=>{typeof s!="string"&&!oc(s)&&i6e(s,t,i,o)})}function yGt(e){const t=[];return i6e(e,t,"",0),t}function Xme(e,t){const n=t.split("-");let r={};n.forEach(o=>{if(o==="root")r=e.sequence;else{if(oc(r))return;r=r.components[+o]}});const i=r.components.map((o,a)=>typeof o=="string"?o:`_componentBlock${a}`);return mGt(i.sort(()=>.5-Math.random()),!0)}function Qme(e){const n=yGt(e.sequence).map(s=>({[s]:Xme(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=gGt(e.sequence,n);s.components.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=Xme(e,o))})}),i}var LR={exports:{}},DB={},up={},Ry={},PB={},OB={},NB={},Jme;function cN(){return Jme||(Jme=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((w,E)=>`${w}${E}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((w,E)=>(E instanceof n&&(w[E.str]=(w[E.str]||0)+1),w),{})}}e._Code=r,e.nil=new r("");function i(v,...y){const w=[v[0]];let E=0;for(;E<y.length;)a(w,y[E]),w.push(v[++E]);return new r(w)}e._=i;const s=new r("+");function o(v,...y){const w=[h(v[0])];let E=0;for(;E<y.length;)w.push(s),a(w,y[E]),w.push(s,h(v[++E]));return l(w),new r(w)}e.str=o;function a(v,y){y instanceof r?v.push(...y._items):y instanceof n?v.push(y):v.push(d(y))}e.addCodeArg=a;function l(v){let y=1;for(;y<v.length-1;){if(v[y]===s){const w=u(v[y-1],v[y+1]);if(w!==void 0){v.splice(y-1,3,w);continue}v[y++]="+"}y++}}function u(v,y){if(y==='""')return v;if(v==='""')return y;if(typeof v=="string")return y instanceof n||v[v.length-1]!=='"'?void 0:typeof y!="string"?`${v.slice(0,-1)}${y}"`:y[0]==='"'?v.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(v instanceof n))return`"${v}${y.slice(1)}`}function c(v,y){return y.emptyStr()?v:v.emptyStr()?y:o`${v}${y}`}e.strConcat=c;function d(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:h(Array.isArray(v)?v.join(","):v)}function f(v){return new r(h(v))}e.stringify=f;function h(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new r(`.${v}`):i`[${v}]`}e.getProperty=p;function m(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new r(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(v){return new r(v.toString())}e.regexpCode=g})(NB)),NB}var $B={},Zme;function e0e(){return Zme||(Zme=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=cN();class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class s extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(u),{prefix:h}=f,p=(d=c.key)!==null&&d!==void 0?d:c.ref;let m=this._values[h];if(m){const y=m.get(p);if(y)return y}else m=this._values[h]=new Map;m.set(p,f);const g=this._scope[h]||(this._scope[h]=[]),v=g.length;return g[v]=c.ref,f.setValue(c,{property:h,itemIndex:v}),f}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},c,d)}_reduceValues(u,c,d={},f){let h=t.nil;for(const p in u){const m=u[p];if(!m)continue;const g=d[p]=d[p]||new Map;m.forEach(v=>{if(g.has(v))return;g.set(v,r.Started);let y=c(v);if(y){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${w} ${v} = ${y};${this.opts._n}`}else if(y=f==null?void 0:f(v))h=(0,t._)`${h}${y}${this.opts._n}`;else throw new n(v);g.set(v,r.Completed)})}return h}}e.ValueScope=a})($B)),$B}var t0e;function Jn(){return t0e||(t0e=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=cN(),n=e0e();var r=cN();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=e0e();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(K,J){return this}}class o extends s{constructor(K,J,te){super(),this.varKind=K,this.name=J,this.rhs=te}render({es5:K,_n:J}){const te=K?n.varKinds.var:this.varKind,le=this.rhs===void 0?"":` = ${this.rhs}`;return`${te} ${this.name}${le};`+J}optimizeNames(K,J){if(K[this.name.str])return this.rhs&&(this.rhs=L(this.rhs,K,J)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(K,J,te){super(),this.lhs=K,this.rhs=J,this.sideEffects=te}render({_n:K}){return`${this.lhs} = ${this.rhs};`+K}optimizeNames(K,J){if(!(this.lhs instanceof t.Name&&!K[this.lhs.str]&&!this.sideEffects))return this.rhs=L(this.rhs,K,J),this}get names(){const K=this.lhs instanceof t.Name?{}:{...this.lhs.names};return $(K,this.rhs)}}class l extends a{constructor(K,J,te,le){super(K,te,le),this.op=J}render({_n:K}){return`${this.lhs} ${this.op}= ${this.rhs};`+K}}class u extends s{constructor(K){super(),this.label=K,this.names={}}render({_n:K}){return`${this.label}:`+K}}class c extends s{constructor(K){super(),this.label=K,this.names={}}render({_n:K}){return`break${this.label?` ${this.label}`:""};`+K}}class d extends s{constructor(K){super(),this.error=K}render({_n:K}){return`throw ${this.error};`+K}get names(){return this.error.names}}class f extends s{constructor(K){super(),this.code=K}render({_n:K}){return`${this.code};`+K}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(K,J){return this.code=L(this.code,K,J),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(K=[]){super(),this.nodes=K}render(K){return this.nodes.reduce((J,te)=>J+te.render(K),"")}optimizeNodes(){const{nodes:K}=this;let J=K.length;for(;J--;){const te=K[J].optimizeNodes();Array.isArray(te)?K.splice(J,1,...te):te?K[J]=te:K.splice(J,1)}return K.length>0?this:void 0}optimizeNames(K,J){const{nodes:te}=this;let le=te.length;for(;le--;){const oe=te[le];oe.optimizeNames(K,J)||(U(K,oe.names),te.splice(le,1))}return te.length>0?this:void 0}get names(){return this.nodes.reduce((K,J)=>M(K,J.names),{})}}class p extends h{render(K){return"{"+K._n+super.render(K)+"}"+K._n}}class m extends h{}class g extends p{}g.kind="else";class v extends p{constructor(K,J){super(J),this.condition=K}render(K){let J=`if(${this.condition})`+super.render(K);return this.else&&(J+="else "+this.else.render(K)),J}optimizeNodes(){super.optimizeNodes();const K=this.condition;if(K===!0)return this.nodes;let J=this.else;if(J){const te=J.optimizeNodes();J=this.else=Array.isArray(te)?new g(te):te}if(J)return K===!1?J instanceof v?J:J.nodes:this.nodes.length?this:new v(B(K),J instanceof v?[J]:J.nodes);if(!(K===!1||!this.nodes.length))return this}optimizeNames(K,J){var te;if(this.else=(te=this.else)===null||te===void 0?void 0:te.optimizeNames(K,J),!!(super.optimizeNames(K,J)||this.else))return this.condition=L(this.condition,K,J),this}get names(){const K=super.names;return $(K,this.condition),this.else&&M(K,this.else.names),K}}v.kind="if";class y extends p{}y.kind="for";class w extends y{constructor(K){super(),this.iteration=K}render(K){return`for(${this.iteration})`+super.render(K)}optimizeNames(K,J){if(super.optimizeNames(K,J))return this.iteration=L(this.iteration,K,J),this}get names(){return M(super.names,this.iteration.names)}}class E extends y{constructor(K,J,te,le){super(),this.varKind=K,this.name=J,this.from=te,this.to=le}render(K){const J=K.es5?n.varKinds.var:this.varKind,{name:te,from:le,to:oe}=this;return`for(${J} ${te}=${le}; ${te}<${oe}; ${te}++)`+super.render(K)}get names(){const K=$(super.names,this.from);return $(K,this.to)}}class C extends y{constructor(K,J,te,le){super(),this.loop=K,this.varKind=J,this.name=te,this.iterable=le}render(K){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(K)}optimizeNames(K,J){if(super.optimizeNames(K,J))return this.iterable=L(this.iterable,K,J),this}get names(){return M(super.names,this.iterable.names)}}class S extends p{constructor(K,J,te){super(),this.name=K,this.args=J,this.async=te}render(K){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(K)}}S.kind="func";class T extends h{render(K){return"return "+super.render(K)}}T.kind="return";class k extends p{render(K){let J="try"+super.render(K);return this.catch&&(J+=this.catch.render(K)),this.finally&&(J+=this.finally.render(K)),J}optimizeNodes(){var K,J;return super.optimizeNodes(),(K=this.catch)===null||K===void 0||K.optimizeNodes(),(J=this.finally)===null||J===void 0||J.optimizeNodes(),this}optimizeNames(K,J){var te,le;return super.optimizeNames(K,J),(te=this.catch)===null||te===void 0||te.optimizeNames(K,J),(le=this.finally)===null||le===void 0||le.optimizeNames(K,J),this}get names(){const K=super.names;return this.catch&&M(K,this.catch.names),this.finally&&M(K,this.finally.names),K}}class I extends p{constructor(K){super(),this.error=K}render(K){return`catch(${this.error})`+super.render(K)}}I.kind="catch";class R extends p{render(K){return"finally"+super.render(K)}}R.kind="finally";class O{constructor(K,J={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...J,_n:J.lines?`
`:""},this._extScope=K,this._scope=new n.Scope({parent:K}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(K){return this._scope.name(K)}scopeName(K){return this._extScope.name(K)}scopeValue(K,J){const te=this._extScope.value(K,J);return(this._values[te.prefix]||(this._values[te.prefix]=new Set)).add(te),te}getScopeValue(K,J){return this._extScope.getValue(K,J)}scopeRefs(K){return this._extScope.scopeRefs(K,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(K,J,te,le){const oe=this._scope.toName(J);return te!==void 0&&le&&(this._constants[oe.str]=te),this._leafNode(new o(K,oe,te)),oe}const(K,J,te){return this._def(n.varKinds.const,K,J,te)}let(K,J,te){return this._def(n.varKinds.let,K,J,te)}var(K,J,te){return this._def(n.varKinds.var,K,J,te)}assign(K,J,te){return this._leafNode(new a(K,J,te))}add(K,J){return this._leafNode(new l(K,e.operators.ADD,J))}code(K){return typeof K=="function"?K():K!==t.nil&&this._leafNode(new f(K)),this}object(...K){const J=["{"];for(const[te,le]of K)J.length>1&&J.push(","),J.push(te),(te!==le||this.opts.es5)&&(J.push(":"),(0,t.addCodeArg)(J,le));return J.push("}"),new t._Code(J)}if(K,J,te){if(this._blockNode(new v(K)),J&&te)this.code(J).else().code(te).endIf();else if(J)this.code(J).endIf();else if(te)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(K){return this._elseNode(new v(K))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(v,g)}_for(K,J){return this._blockNode(K),J&&this.code(J).endFor(),this}for(K,J){return this._for(new w(K),J)}forRange(K,J,te,le,oe=this.opts.es5?n.varKinds.var:n.varKinds.let){const ie=this._scope.toName(K);return this._for(new E(oe,ie,J,te),()=>le(ie))}forOf(K,J,te,le=n.varKinds.const){const oe=this._scope.toName(K);if(this.opts.es5){const ie=J instanceof t.Name?J:this.var("_arr",J);return this.forRange("_i",0,(0,t._)`${ie}.length`,he=>{this.var(oe,(0,t._)`${ie}[${he}]`),te(oe)})}return this._for(new C("of",le,oe,J),()=>te(oe))}forIn(K,J,te,le=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(K,(0,t._)`Object.keys(${J})`,te);const oe=this._scope.toName(K);return this._for(new C("in",le,oe,J),()=>te(oe))}endFor(){return this._endBlockNode(y)}label(K){return this._leafNode(new u(K))}break(K){return this._leafNode(new c(K))}return(K){const J=new T;if(this._blockNode(J),this.code(K),J.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(K,J,te){if(!J&&!te)throw new Error('CodeGen: "try" without "catch" and "finally"');const le=new k;if(this._blockNode(le),this.code(K),J){const oe=this.name("e");this._currNode=le.catch=new I(oe),J(oe)}return te&&(this._currNode=le.finally=new R,this.code(te)),this._endBlockNode(I,R)}throw(K){return this._leafNode(new d(K))}block(K,J){return this._blockStarts.push(this._nodes.length),K&&this.code(K).endBlock(J),this}endBlock(K){const J=this._blockStarts.pop();if(J===void 0)throw new Error("CodeGen: not in self-balancing block");const te=this._nodes.length-J;if(te<0||K!==void 0&&te!==K)throw new Error(`CodeGen: wrong number of nodes: ${te} vs ${K} expected`);return this._nodes.length=J,this}func(K,J=t.nil,te,le){return this._blockNode(new S(K,J,te)),le&&this.code(le).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(K=1){for(;K-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(K){return this._currNode.nodes.push(K),this}_blockNode(K){this._currNode.nodes.push(K),this._nodes.push(K)}_endBlockNode(K,J){const te=this._currNode;if(te instanceof K||J&&te instanceof J)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${J?`${K.kind}/${J.kind}`:K.kind}"`)}_elseNode(K){const J=this._currNode;if(!(J instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=J.else=K,this}get _root(){return this._nodes[0]}get _currNode(){const K=this._nodes;return K[K.length-1]}set _currNode(K){const J=this._nodes;J[J.length-1]=K}}e.CodeGen=O;function M(q,K){for(const J in K)q[J]=(q[J]||0)+(K[J]||0);return q}function $(q,K){return K instanceof t._CodeOrName?M(q,K.names):q}function L(q,K,J){if(q instanceof t.Name)return te(q);if(!le(q))return q;return new t._Code(q._items.reduce((oe,ie)=>(ie instanceof t.Name&&(ie=te(ie)),ie instanceof t._Code?oe.push(...ie._items):oe.push(ie),oe),[]));function te(oe){const ie=J[oe.str];return ie===void 0||K[oe.str]!==1?oe:(delete K[oe.str],ie)}function le(oe){return oe instanceof t._Code&&oe._items.some(ie=>ie instanceof t.Name&&K[ie.str]===1&&J[ie.str]!==void 0)}}function U(q,K){for(const J in K)q[J]=(q[J]||0)-(K[J]||0)}function B(q){return typeof q=="boolean"||typeof q=="number"||q===null?!q:(0,t._)`!${W(q)}`}e.not=B;const V=F(e.operators.AND);function G(...q){return q.reduce(V)}e.and=G;const Y=F(e.operators.OR);function z(...q){return q.reduce(Y)}e.or=z;function F(q){return(K,J)=>K===t.nil?J:J===t.nil?K:(0,t._)`${W(K)} ${q} ${W(J)}`}function W(q){return q instanceof t.Name?q:(0,t._)`(${q})`}})(OB)),OB}var Bn={},n0e;function Ir(){if(n0e)return Bn;n0e=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.checkStrictMode=Bn.getErrorPath=Bn.Type=Bn.useFunc=Bn.setEvaluated=Bn.evaluatedPropsToName=Bn.mergeEvaluated=Bn.eachItem=Bn.unescapeJsonPointer=Bn.escapeJsonPointer=Bn.escapeFragment=Bn.unescapeFragment=Bn.schemaRefOrVal=Bn.schemaHasRulesButRef=Bn.schemaHasRules=Bn.checkUnknownRules=Bn.alwaysValidSchema=Bn.toHash=void 0;const e=Jn(),t=cN();function n(C){const S={};for(const T of C)S[T]=!0;return S}Bn.toHash=n;function r(C,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(i(C,S),!s(S,C.self.RULES.all))}Bn.alwaysValidSchema=r;function i(C,S=C.schema){const{opts:T,self:k}=C;if(!T.strictSchema||typeof S=="boolean")return;const I=k.RULES.keywords;for(const R in S)I[R]||E(C,`unknown keyword: "${R}"`)}Bn.checkUnknownRules=i;function s(C,S){if(typeof C=="boolean")return!C;for(const T in C)if(S[T])return!0;return!1}Bn.schemaHasRules=s;function o(C,S){if(typeof C=="boolean")return!C;for(const T in C)if(T!=="$ref"&&S.all[T])return!0;return!1}Bn.schemaHasRulesButRef=o;function a({topSchemaRef:C,schemaPath:S},T,k,I){if(!I){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${C}${S}${(0,e.getProperty)(k)}`}Bn.schemaRefOrVal=a;function l(C){return d(decodeURIComponent(C))}Bn.unescapeFragment=l;function u(C){return encodeURIComponent(c(C))}Bn.escapeFragment=u;function c(C){return typeof C=="number"?`${C}`:C.replace(/~/g,"~0").replace(/\//g,"~1")}Bn.escapeJsonPointer=c;function d(C){return C.replace(/~1/g,"/").replace(/~0/g,"~")}Bn.unescapeJsonPointer=d;function f(C,S){if(Array.isArray(C))for(const T of C)S(T);else S(C)}Bn.eachItem=f;function h({mergeNames:C,mergeToName:S,mergeValues:T,resultToName:k}){return(I,R,O,M)=>{const $=O===void 0?R:O instanceof e.Name?(R instanceof e.Name?C(I,R,O):S(I,R,O),O):R instanceof e.Name?(S(I,O,R),R):T(R,O);return M===e.Name&&!($ instanceof e.Name)?k(I,$):$}}Bn.mergeEvaluated={props:h({mergeNames:(C,S,T)=>C.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>{C.if((0,e._)`${S} === true`,()=>C.assign(T,!0),()=>C.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${S})`))}),mergeToName:(C,S,T)=>C.if((0,e._)`${T} !== true`,()=>{S===!0?C.assign(T,!0):(C.assign(T,(0,e._)`${T} || {}`),m(C,T,S))}),mergeValues:(C,S)=>C===!0?!0:{...C,...S},resultToName:p}),items:h({mergeNames:(C,S,T)=>C.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>C.assign(T,(0,e._)`${S} === true ? true : ${T} > ${S} ? ${T} : ${S}`)),mergeToName:(C,S,T)=>C.if((0,e._)`${T} !== true`,()=>C.assign(T,S===!0?!0:(0,e._)`${T} > ${S} ? ${T} : ${S}`)),mergeValues:(C,S)=>C===!0?!0:Math.max(C,S),resultToName:(C,S)=>C.var("items",S)})};function p(C,S){if(S===!0)return C.var("props",!0);const T=C.var("props",(0,e._)`{}`);return S!==void 0&&m(C,T,S),T}Bn.evaluatedPropsToName=p;function m(C,S,T){Object.keys(T).forEach(k=>C.assign((0,e._)`${S}${(0,e.getProperty)(k)}`,!0))}Bn.setEvaluated=m;const g={};function v(C,S){return C.scopeValue("func",{ref:S,code:g[S.code]||(g[S.code]=new t._Code(S.code))})}Bn.useFunc=v;var y;(function(C){C[C.Num=0]="Num",C[C.Str=1]="Str"})(y||(Bn.Type=y={}));function w(C,S,T){if(C instanceof e.Name){const k=S===y.Num;return T?k?(0,e._)`"[" + ${C} + "]"`:(0,e._)`"['" + ${C} + "']"`:k?(0,e._)`"/" + ${C}`:(0,e._)`"/" + ${C}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(C).toString():"/"+c(C)}Bn.getErrorPath=w;function E(C,S,T=C.opts.strictSchema){if(T){if(S=`strict mode: ${S}`,T===!0)throw new Error(S);C.self.logger.warn(S)}}return Bn.checkStrictMode=E,Bn}var jR={},r0e;function Jg(){if(r0e)return jR;r0e=1,Object.defineProperty(jR,"__esModule",{value:!0});const e=Jn(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return jR.default=t,jR}var i0e;function CM(){return i0e||(i0e=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Jn(),n=Ir(),r=Jg();e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:v})=>v?(0,t.str)`"${g}" keyword must be ${v} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,v=e.keywordError,y,w){const{it:E}=g,{gen:C,compositeRule:S,allErrors:T}=E,k=d(g,v,y);w??(S||T)?l(C,k):u(E,(0,t._)`[${k}]`)}e.reportError=i;function s(g,v=e.keywordError,y){const{it:w}=g,{gen:E,compositeRule:C,allErrors:S}=w,T=d(g,v,y);l(E,T),C||S||u(w,r.default.vErrors)}e.reportExtraError=s;function o(g,v){g.assign(r.default.errors,v),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(v,()=>g.assign((0,t._)`${r.default.vErrors}.length`,v),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:g,keyword:v,schemaValue:y,data:w,errsCount:E,it:C}){if(E===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",E,r.default.errors,T=>{g.const(S,(0,t._)`${r.default.vErrors}[${T}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(r.default.instancePath,C.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${C.errSchemaPath}/${v}`),C.opts.verbose&&(g.assign((0,t._)`${S}.schema`,y),g.assign((0,t._)`${S}.data`,w))})}e.extendErrors=a;function l(g,v){const y=g.const("err",v);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${r.default.vErrors}.push(${y})`),g.code((0,t._)`${r.default.errors}++`)}function u(g,v){const{gen:y,validateName:w,schemaEnv:E}=g;E.$async?y.throw((0,t._)`new ${g.ValidationError}(${v})`):(y.assign((0,t._)`${w}.errors`,v),y.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(g,v,y){const{createErrors:w}=g.it;return w===!1?(0,t._)`{}`:f(g,v,y)}function f(g,v,y={}){const{gen:w,it:E}=g,C=[h(E,y),p(g,y)];return m(g,v,C),w.object(...C)}function h({errorPath:g},{instancePath:v}){const y=v?(0,t.str)`${g}${(0,n.getErrorPath)(v,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,y)]}function p({keyword:g,it:{errSchemaPath:v}},{schemaPath:y,parentSchema:w}){let E=w?v:(0,t.str)`${v}/${g}`;return y&&(E=(0,t.str)`${E}${(0,n.getErrorPath)(y,n.Type.Str)}`),[c.schemaPath,E]}function m(g,{params:v,message:y},w){const{keyword:E,data:C,schemaValue:S,it:T}=g,{opts:k,propertyName:I,topSchemaRef:R,schemaPath:O}=T;w.push([c.keyword,E],[c.params,typeof v=="function"?v(g):v||(0,t._)`{}`]),k.messages&&w.push([c.message,typeof y=="function"?y(g):y]),k.verbose&&w.push([c.schema,S],[c.parentSchema,(0,t._)`${R}${O}`],[r.default.data,C]),I&&w.push([c.propertyName,I])}})(PB)),PB}var s0e;function vGt(){if(s0e)return Ry;s0e=1,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.boolOrEmptySchema=Ry.topBoolOrEmptySchema=void 0;const e=CM(),t=Jn(),n=Jg(),r={message:"boolean schema is false"};function i(a){const{gen:l,schema:u,validateName:c}=a;u===!1?o(a,!1):typeof u=="object"&&u.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${c}.errors`,null),l.return(!0))}Ry.topBoolOrEmptySchema=i;function s(a,l){const{gen:u,schema:c}=a;c===!1?(u.var(l,!1),o(a)):u.var(l,!0)}Ry.boolOrEmptySchema=s;function o(a,l){const{gen:u,data:c}=a,d={gen:u,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(d,r,void 0,l)}return Ry}var To={},Dy={},o0e;function s6e(){if(o0e)return Dy;o0e=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.getRules=Dy.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}Dy.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Dy.getRules=r,Dy}var cp={},a0e;function o6e(){if(a0e)return cp;a0e=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.shouldUseRule=cp.shouldUseGroup=cp.schemaHasRulesForType=void 0;function e({schema:r,self:i},s){const o=i.RULES.types[s];return o&&o!==!0&&t(r,o)}cp.schemaHasRulesForType=e;function t(r,i){return i.rules.some(s=>n(r,s))}cp.shouldUseGroup=t;function n(r,i){var s;return r[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(o=>r[o]!==void 0))}return cp.shouldUseRule=n,cp}var l0e;function dN(){if(l0e)return To;l0e=1,Object.defineProperty(To,"__esModule",{value:!0}),To.reportTypeError=To.checkDataTypes=To.checkDataType=To.coerceAndCheckDataType=To.getJSONTypes=To.getSchemaTypes=To.DataType=void 0;const e=s6e(),t=o6e(),n=CM(),r=Jn(),i=Ir();var s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s||(To.DataType=s={}));function o(y){const w=a(y.type);if(w.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!w.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&w.push("null")}return w}To.getSchemaTypes=o;function a(y){const w=Array.isArray(y)?y:y?[y]:[];if(w.every(e.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))}To.getJSONTypes=a;function l(y,w){const{gen:E,data:C,opts:S}=y,T=c(w,S.coerceTypes),k=w.length>0&&!(T.length===0&&w.length===1&&(0,t.schemaHasRulesForType)(y,w[0]));if(k){const I=p(w,C,S.strictNumbers,s.Wrong);E.if(I,()=>{T.length?d(y,w,T):g(y)})}return k}To.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function c(y,w){return w?y.filter(E=>u.has(E)||w==="array"&&E==="array"):[]}function d(y,w,E){const{gen:C,data:S,opts:T}=y,k=C.let("dataType",(0,r._)`typeof ${S}`),I=C.let("coerced",(0,r._)`undefined`);T.coerceTypes==="array"&&C.if((0,r._)`${k} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>C.assign(S,(0,r._)`${S}[0]`).assign(k,(0,r._)`typeof ${S}`).if(p(w,S,T.strictNumbers),()=>C.assign(I,S))),C.if((0,r._)`${I} !== undefined`);for(const O of E)(u.has(O)||O==="array"&&T.coerceTypes==="array")&&R(O);C.else(),g(y),C.endIf(),C.if((0,r._)`${I} !== undefined`,()=>{C.assign(S,I),f(y,I)});function R(O){switch(O){case"string":C.elseIf((0,r._)`${k} == "number" || ${k} == "boolean"`).assign(I,(0,r._)`"" + ${S}`).elseIf((0,r._)`${S} === null`).assign(I,(0,r._)`""`);return;case"number":C.elseIf((0,r._)`${k} == "boolean" || ${S} === null
              || (${k} == "string" && ${S} && ${S} == +${S})`).assign(I,(0,r._)`+${S}`);return;case"integer":C.elseIf((0,r._)`${k} === "boolean" || ${S} === null
              || (${k} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(I,(0,r._)`+${S}`);return;case"boolean":C.elseIf((0,r._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(I,!1).elseIf((0,r._)`${S} === "true" || ${S} === 1`).assign(I,!0);return;case"null":C.elseIf((0,r._)`${S} === "" || ${S} === 0 || ${S} === false`),C.assign(I,null);return;case"array":C.elseIf((0,r._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${S} === null`).assign(I,(0,r._)`[${S}]`)}}}function f({gen:y,parentData:w,parentDataProperty:E},C){y.if((0,r._)`${w} !== undefined`,()=>y.assign((0,r._)`${w}[${E}]`,C))}function h(y,w,E,C=s.Correct){const S=C===s.Correct?r.operators.EQ:r.operators.NEQ;let T;switch(y){case"null":return(0,r._)`${w} ${S} null`;case"array":T=(0,r._)`Array.isArray(${w})`;break;case"object":T=(0,r._)`${w} && typeof ${w} == "object" && !Array.isArray(${w})`;break;case"integer":T=k((0,r._)`!(${w} % 1) && !isNaN(${w})`);break;case"number":T=k();break;default:return(0,r._)`typeof ${w} ${S} ${y}`}return C===s.Correct?T:(0,r.not)(T);function k(I=r.nil){return(0,r.and)((0,r._)`typeof ${w} == "number"`,I,E?(0,r._)`isFinite(${w})`:r.nil)}}To.checkDataType=h;function p(y,w,E,C){if(y.length===1)return h(y[0],w,E,C);let S;const T=(0,i.toHash)(y);if(T.array&&T.object){const k=(0,r._)`typeof ${w} != "object"`;S=T.null?k:(0,r._)`!${w} || ${k}`,delete T.null,delete T.array,delete T.object}else S=r.nil;T.number&&delete T.integer;for(const k in T)S=(0,r.and)(S,h(k,w,E,C));return S}To.checkDataTypes=p;const m={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:w})=>typeof y=="string"?(0,r._)`{type: ${y}}`:(0,r._)`{type: ${w}}`};function g(y){const w=v(y);(0,n.reportError)(w,m)}To.reportTypeError=g;function v(y){const{gen:w,data:E,schema:C}=y,S=(0,i.schemaRefOrVal)(y,C,"type");return{gen:w,keyword:"type",data:E,schema:C.type,schemaCode:S,schemaValue:S,parentSchema:C,params:{},it:y}}return To}var LC={},u0e;function bGt(){if(u0e)return LC;u0e=1,Object.defineProperty(LC,"__esModule",{value:!0}),LC.assignDefaults=void 0;const e=Jn(),t=Ir();function n(i,s){const{properties:o,items:a}=i.schema;if(s==="object"&&o)for(const l in o)r(i,l,o[l].default);else s==="array"&&Array.isArray(a)&&a.forEach((l,u)=>r(i,u,l.default))}LC.assignDefaults=n;function r(i,s,o){const{gen:a,compositeRule:l,data:u,opts:c}=i;if(o===void 0)return;const d=(0,e._)`${u}${(0,e.getProperty)(s)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${d}`);return}let f=(0,e._)`${d} === undefined`;c.useDefaults==="empty"&&(f=(0,e._)`${f} || ${d} === null || ${d} === ""`),a.if(f,(0,e._)`${d} = ${(0,e.stringify)(o)}`)}return LC}var Hc={},qr={},c0e;function of(){if(c0e)return qr;c0e=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.validateUnion=qr.validateArray=qr.usePattern=qr.callValidateCode=qr.schemaProperties=qr.allSchemaProperties=qr.noPropertyInData=qr.propertyInData=qr.isOwnProperty=qr.hasPropFunc=qr.reportMissingProp=qr.checkMissingProp=qr.checkReportMissingProp=void 0;const e=Jn(),t=Ir(),n=Jg(),r=Ir();function i(y,w){const{gen:E,data:C,it:S}=y;E.if(c(E,C,w,S.opts.ownProperties),()=>{y.setParams({missingProperty:(0,e._)`${w}`},!0),y.error()})}qr.checkReportMissingProp=i;function s({gen:y,data:w,it:{opts:E}},C,S){return(0,e.or)(...C.map(T=>(0,e.and)(c(y,w,T,E.ownProperties),(0,e._)`${S} = ${T}`)))}qr.checkMissingProp=s;function o(y,w){y.setParams({missingProperty:w},!0),y.error()}qr.reportMissingProp=o;function a(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}qr.hasPropFunc=a;function l(y,w,E){return(0,e._)`${a(y)}.call(${w}, ${E})`}qr.isOwnProperty=l;function u(y,w,E,C){const S=(0,e._)`${w}${(0,e.getProperty)(E)} !== undefined`;return C?(0,e._)`${S} && ${l(y,w,E)}`:S}qr.propertyInData=u;function c(y,w,E,C){const S=(0,e._)`${w}${(0,e.getProperty)(E)} === undefined`;return C?(0,e.or)(S,(0,e.not)(l(y,w,E))):S}qr.noPropertyInData=c;function d(y){return y?Object.keys(y).filter(w=>w!=="__proto__"):[]}qr.allSchemaProperties=d;function f(y,w){return d(w).filter(E=>!(0,t.alwaysValidSchema)(y,w[E]))}qr.schemaProperties=f;function h({schemaCode:y,data:w,it:{gen:E,topSchemaRef:C,schemaPath:S,errorPath:T},it:k},I,R,O){const M=O?(0,e._)`${y}, ${w}, ${C}${S}`:w,$=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,T)],[n.default.parentData,k.parentData],[n.default.parentDataProperty,k.parentDataProperty],[n.default.rootData,n.default.rootData]];k.opts.dynamicRef&&$.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const L=(0,e._)`${M}, ${E.object(...$)}`;return R!==e.nil?(0,e._)`${I}.call(${R}, ${L})`:(0,e._)`${I}(${L})`}qr.callValidateCode=h;const p=(0,e._)`new RegExp`;function m({gen:y,it:{opts:w}},E){const C=w.unicodeRegExp?"u":"",{regExp:S}=w.code,T=S(E,C);return y.scopeValue("pattern",{key:T.toString(),ref:T,code:(0,e._)`${S.code==="new RegExp"?p:(0,r.useFunc)(y,S)}(${E}, ${C})`})}qr.usePattern=m;function g(y){const{gen:w,data:E,keyword:C,it:S}=y,T=w.name("valid");if(S.allErrors){const I=w.let("valid",!0);return k(()=>w.assign(I,!1)),I}return w.var(T,!0),k(()=>w.break()),T;function k(I){const R=w.const("len",(0,e._)`${E}.length`);w.forRange("i",0,R,O=>{y.subschema({keyword:C,dataProp:O,dataPropType:t.Type.Num},T),w.if((0,e.not)(T),I)})}}qr.validateArray=g;function v(y){const{gen:w,schema:E,keyword:C,it:S}=y;if(!Array.isArray(E))throw new Error("ajv implementation error");if(E.some(R=>(0,t.alwaysValidSchema)(S,R))&&!S.opts.unevaluated)return;const k=w.let("valid",!1),I=w.name("_valid");w.block(()=>E.forEach((R,O)=>{const M=y.subschema({keyword:C,schemaProp:O,compositeRule:!0},I);w.assign(k,(0,e._)`${k} || ${I}`),y.mergeValidEvaluated(M,I)||w.if((0,e.not)(k))})),y.result(k,()=>y.reset(),()=>y.error(!0))}return qr.validateUnion=v,qr}var d0e;function wGt(){if(d0e)return Hc;d0e=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.validateKeywordUsage=Hc.validSchemaType=Hc.funcKeywordCode=Hc.macroKeywordCode=void 0;const e=Jn(),t=Jg(),n=of(),r=CM();function i(f,h){const{gen:p,keyword:m,schema:g,parentSchema:v,it:y}=f,w=h.macro.call(y.self,g,v,y),E=u(p,m,w);y.opts.validateSchema!==!1&&y.self.validateSchema(w,!0);const C=p.name("valid");f.subschema({schema:w,schemaPath:e.nil,errSchemaPath:`${y.errSchemaPath}/${m}`,topSchemaRef:E,compositeRule:!0},C),f.pass(C,()=>f.error(!0))}Hc.macroKeywordCode=i;function s(f,h){var p;const{gen:m,keyword:g,schema:v,parentSchema:y,$data:w,it:E}=f;l(E,h);const C=!w&&h.compile?h.compile.call(E.self,v,y,E):h.validate,S=u(m,g,C),T=m.let("valid");f.block$data(T,k),f.ok((p=h.valid)!==null&&p!==void 0?p:T);function k(){if(h.errors===!1)O(),h.modifying&&o(f),M(()=>f.error());else{const $=h.async?I():R();h.modifying&&o(f),M(()=>a(f,$))}}function I(){const $=m.let("ruleErrs",null);return m.try(()=>O((0,e._)`await `),L=>m.assign(T,!1).if((0,e._)`${L} instanceof ${E.ValidationError}`,()=>m.assign($,(0,e._)`${L}.errors`),()=>m.throw(L))),$}function R(){const $=(0,e._)`${S}.errors`;return m.assign($,null),O(e.nil),$}function O($=h.async?(0,e._)`await `:e.nil){const L=E.opts.passContext?t.default.this:t.default.self,U=!("compile"in h&&!w||h.schema===!1);m.assign(T,(0,e._)`${$}${(0,n.callValidateCode)(f,S,L,U)}`,h.modifying)}function M($){var L;m.if((0,e.not)((L=h.valid)!==null&&L!==void 0?L:T),$)}}Hc.funcKeywordCode=s;function o(f){const{gen:h,data:p,it:m}=f;h.if(m.parentData,()=>h.assign(p,(0,e._)`${m.parentData}[${m.parentDataProperty}]`))}function a(f,h){const{gen:p}=f;p.if((0,e._)`Array.isArray(${h})`,()=>{p.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(f)},()=>f.error())}function l({schemaEnv:f},h){if(h.async&&!f.$async)throw new Error("async keyword in sync schema")}function u(f,h,p){if(p===void 0)throw new Error(`keyword "${h}" failed to compile`);return f.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,e.stringify)(p)})}function c(f,h,p=!1){return!h.length||h.some(m=>m==="array"?Array.isArray(f):m==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==m||p&&typeof f>"u")}Hc.validSchemaType=c;function d({schema:f,opts:h,self:p,errSchemaPath:m},g,v){if(Array.isArray(g.keyword)?!g.keyword.includes(v):g.keyword!==v)throw new Error("ajv implementation error");const y=g.dependencies;if(y!=null&&y.some(w=>!Object.prototype.hasOwnProperty.call(f,w)))throw new Error(`parent schema must have dependencies of ${v}: ${y.join(",")}`);if(g.validateSchema&&!g.validateSchema(f[v])){const E=`keyword "${v}" value is invalid at path "${m}": `+p.errorsText(g.validateSchema.errors);if(h.validateSchema==="log")p.logger.error(E);else throw new Error(E)}}return Hc.validateKeywordUsage=d,Hc}var dp={},f0e;function xGt(){if(f0e)return dp;f0e=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.extendSubschemaMode=dp.extendSubschemaData=dp.getSubschema=void 0;const e=Jn(),t=Ir();function n(s,{keyword:o,schemaProp:a,schema:l,schemaPath:u,errSchemaPath:c,topSchemaRef:d}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const f=s.schema[o];return a===void 0?{schema:f,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:f[a],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(u===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}dp.getSubschema=n;function r(s,o,{dataProp:a,dataPropType:l,data:u,dataTypes:c,propertyName:d}){if(u!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=o;if(a!==void 0){const{errorPath:p,dataPathArr:m,opts:g}=o,v=f.let("data",(0,e._)`${o.data}${(0,e.getProperty)(a)}`,!0);h(v),s.errorPath=(0,e.str)`${p}${(0,t.getErrorPath)(a,l,g.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${a}`,s.dataPathArr=[...m,s.parentDataProperty]}if(u!==void 0){const p=u instanceof e.Name?u:f.let("data",u,!0);h(p),d!==void 0&&(s.propertyName=d)}c&&(s.dataTypes=c);function h(p){s.data=p,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,p]}}dp.extendSubschemaData=r;function i(s,{jtdDiscriminator:o,jtdMetadata:a,compositeRule:l,createErrors:u,allErrors:c}){l!==void 0&&(s.compositeRule=l),u!==void 0&&(s.createErrors=u),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=o,s.jtdMetadata=a}return dp.extendSubschemaMode=i,dp}var Na={},MB={exports:{}},h0e;function _Gt(){if(h0e)return MB.exports;h0e=1;var e=MB.exports=function(r,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var o=typeof s=="function"?s:s.pre||function(){},a=s.post||function(){};t(i,o,a,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,s,o,a,l,u,c,d,f){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,a,l,u,c,d,f);for(var h in o){var p=o[h];if(Array.isArray(p)){if(h in e.arrayKeywords)for(var m=0;m<p.length;m++)t(r,i,s,p[m],a+"/"+h+"/"+m,l,a,h,o,m)}else if(h in e.propsKeywords){if(p&&typeof p=="object")for(var g in p)t(r,i,s,p[g],a+"/"+h+"/"+n(g),l,a,h,o,g)}else(h in e.keywords||r.allKeys&&!(h in e.skipKeywords))&&t(r,i,s,p,a+"/"+h,l,a,h,o)}s(o,a,l,u,c,d,f)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return MB.exports}var p0e;function SM(){if(p0e)return Na;p0e=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.getSchemaRefs=Na.resolveUrl=Na.normalizeId=Na._getFullPath=Na.getFullPath=Na.inlineRef=void 0;const e=Ir(),t=WK(),n=_Gt(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(m,g=!0){return typeof m=="boolean"?!0:g===!0?!o(m):g?a(m)<=g:!1}Na.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(m){for(const g in m){if(s.has(g))return!0;const v=m[g];if(Array.isArray(v)&&v.some(o)||typeof v=="object"&&o(v))return!0}return!1}function a(m){let g=0;for(const v in m){if(v==="$ref")return 1/0;if(g++,!r.has(v)&&(typeof m[v]=="object"&&(0,e.eachItem)(m[v],y=>g+=a(y)),g===1/0))return 1/0}return g}function l(m,g="",v){v!==!1&&(g=d(g));const y=m.parse(g);return u(m,y)}Na.getFullPath=l;function u(m,g){return m.serialize(g).split("#")[0]+"#"}Na._getFullPath=u;const c=/#\/?$/;function d(m){return m?m.replace(c,""):""}Na.normalizeId=d;function f(m,g,v){return v=d(v),m.resolve(g,v)}Na.resolveUrl=f;const h=/^[a-z_][-a-z0-9._]*$/i;function p(m,g){if(typeof m=="boolean")return{};const{schemaId:v,uriResolver:y}=this.opts,w=d(m[v]||g),E={"":w},C=l(y,w,!1),S={},T=new Set;return n(m,{allKeys:!0},(R,O,M,$)=>{if($===void 0)return;const L=C+O;let U=E[$];typeof R[v]=="string"&&(U=B.call(this,R[v])),V.call(this,R.$anchor),V.call(this,R.$dynamicAnchor),E[O]=U;function B(G){const Y=this.opts.uriResolver.resolve;if(G=d(U?Y(U,G):G),T.has(G))throw I(G);T.add(G);let z=this.refs[G];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?k(R,z.schema,G):G!==d(L)&&(G[0]==="#"?(k(R,S[G],G),S[G]=R):this.refs[G]=L),G}function V(G){if(typeof G=="string"){if(!h.test(G))throw new Error(`invalid anchor "${G}"`);B.call(this,`#${G}`)}}}),S;function k(R,O,M){if(O!==void 0&&!t(R,O))throw I(M)}function I(R){return new Error(`reference "${R}" resolves to more than one schema`)}}return Na.getSchemaRefs=p,Na}var m0e;function TM(){if(m0e)return up;m0e=1,Object.defineProperty(up,"__esModule",{value:!0}),up.getData=up.KeywordCxt=up.validateFunctionCode=void 0;const e=vGt(),t=dN(),n=o6e(),r=dN(),i=bGt(),s=wGt(),o=xGt(),a=Jn(),l=Jg(),u=SM(),c=Ir(),d=CM();function f(ee){if(C(ee)&&(T(ee),E(ee))){g(ee);return}h(ee,()=>(0,e.topBoolOrEmptySchema)(ee))}up.validateFunctionCode=f;function h({gen:ee,validateName:ne,schema:ue,schemaEnv:ve,opts:xe},Re){xe.code.es5?ee.func(ne,(0,a._)`${l.default.data}, ${l.default.valCxt}`,ve.$async,()=>{ee.code((0,a._)`"use strict"; ${y(ue,xe)}`),m(ee,xe),ee.code(Re)}):ee.func(ne,(0,a._)`${l.default.data}, ${p(xe)}`,ve.$async,()=>ee.code(y(ue,xe)).code(Re))}function p(ee){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${ee.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function m(ee,ne){ee.if(l.default.valCxt,()=>{ee.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),ee.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),ee.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),ee.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),ne.dynamicRef&&ee.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{ee.var(l.default.instancePath,(0,a._)`""`),ee.var(l.default.parentData,(0,a._)`undefined`),ee.var(l.default.parentDataProperty,(0,a._)`undefined`),ee.var(l.default.rootData,l.default.data),ne.dynamicRef&&ee.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function g(ee){const{schema:ne,opts:ue,gen:ve}=ee;h(ee,()=>{ue.$comment&&ne.$comment&&$(ee),R(ee),ve.let(l.default.vErrors,null),ve.let(l.default.errors,0),ue.unevaluated&&v(ee),k(ee),L(ee)})}function v(ee){const{gen:ne,validateName:ue}=ee;ee.evaluated=ne.const("evaluated",(0,a._)`${ue}.evaluated`),ne.if((0,a._)`${ee.evaluated}.dynamicProps`,()=>ne.assign((0,a._)`${ee.evaluated}.props`,(0,a._)`undefined`)),ne.if((0,a._)`${ee.evaluated}.dynamicItems`,()=>ne.assign((0,a._)`${ee.evaluated}.items`,(0,a._)`undefined`))}function y(ee,ne){const ue=typeof ee=="object"&&ee[ne.schemaId];return ue&&(ne.code.source||ne.code.process)?(0,a._)`/*# sourceURL=${ue} */`:a.nil}function w(ee,ne){if(C(ee)&&(T(ee),E(ee))){S(ee,ne);return}(0,e.boolOrEmptySchema)(ee,ne)}function E({schema:ee,self:ne}){if(typeof ee=="boolean")return!ee;for(const ue in ee)if(ne.RULES.all[ue])return!0;return!1}function C(ee){return typeof ee.schema!="boolean"}function S(ee,ne){const{schema:ue,gen:ve,opts:xe}=ee;xe.$comment&&ue.$comment&&$(ee),O(ee),M(ee);const Re=ve.const("_errs",l.default.errors);k(ee,Re),ve.var(ne,(0,a._)`${Re} === ${l.default.errors}`)}function T(ee){(0,c.checkUnknownRules)(ee),I(ee)}function k(ee,ne){if(ee.opts.jtd)return B(ee,[],!1,ne);const ue=(0,t.getSchemaTypes)(ee.schema),ve=(0,t.coerceAndCheckDataType)(ee,ue);B(ee,ue,!ve,ne)}function I(ee){const{schema:ne,errSchemaPath:ue,opts:ve,self:xe}=ee;ne.$ref&&ve.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(ne,xe.RULES)&&xe.logger.warn(`$ref: keywords ignored in schema at path "${ue}"`)}function R(ee){const{schema:ne,opts:ue}=ee;ne.default!==void 0&&ue.useDefaults&&ue.strictSchema&&(0,c.checkStrictMode)(ee,"default is ignored in the schema root")}function O(ee){const ne=ee.schema[ee.opts.schemaId];ne&&(ee.baseId=(0,u.resolveUrl)(ee.opts.uriResolver,ee.baseId,ne))}function M(ee){if(ee.schema.$async&&!ee.schemaEnv.$async)throw new Error("async schema in sync schema")}function $({gen:ee,schemaEnv:ne,schema:ue,errSchemaPath:ve,opts:xe}){const Re=ue.$comment;if(xe.$comment===!0)ee.code((0,a._)`${l.default.self}.logger.log(${Re})`);else if(typeof xe.$comment=="function"){const Te=(0,a.str)`${ve}/$comment`,we=ee.scopeValue("root",{ref:ne.root});ee.code((0,a._)`${l.default.self}.opts.$comment(${Re}, ${Te}, ${we}.schema)`)}}function L(ee){const{gen:ne,schemaEnv:ue,validateName:ve,ValidationError:xe,opts:Re}=ee;ue.$async?ne.if((0,a._)`${l.default.errors} === 0`,()=>ne.return(l.default.data),()=>ne.throw((0,a._)`new ${xe}(${l.default.vErrors})`)):(ne.assign((0,a._)`${ve}.errors`,l.default.vErrors),Re.unevaluated&&U(ee),ne.return((0,a._)`${l.default.errors} === 0`))}function U({gen:ee,evaluated:ne,props:ue,items:ve}){ue instanceof a.Name&&ee.assign((0,a._)`${ne}.props`,ue),ve instanceof a.Name&&ee.assign((0,a._)`${ne}.items`,ve)}function B(ee,ne,ue,ve){const{gen:xe,schema:Re,data:Te,allErrors:we,opts:He,self:Xe}=ee,{RULES:tt}=Xe;if(Re.$ref&&(He.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(Re,tt))){xe.block(()=>le(ee,"$ref",tt.all.$ref.definition));return}He.jtd||G(ee,ne),xe.block(()=>{for(const rt of tt.rules)ft(rt);ft(tt.post)});function ft(rt){(0,n.shouldUseGroup)(Re,rt)&&(rt.type?(xe.if((0,r.checkDataType)(rt.type,Te,He.strictNumbers)),V(ee,rt),ne.length===1&&ne[0]===rt.type&&ue&&(xe.else(),(0,r.reportTypeError)(ee)),xe.endIf()):V(ee,rt),we||xe.if((0,a._)`${l.default.errors} === ${ve||0}`))}}function V(ee,ne){const{gen:ue,schema:ve,opts:{useDefaults:xe}}=ee;xe&&(0,i.assignDefaults)(ee,ne.type),ue.block(()=>{for(const Re of ne.rules)(0,n.shouldUseRule)(ve,Re)&&le(ee,Re.keyword,Re.definition,ne.type)})}function G(ee,ne){ee.schemaEnv.meta||!ee.opts.strictTypes||(Y(ee,ne),ee.opts.allowUnionTypes||z(ee,ne),F(ee,ee.dataTypes))}function Y(ee,ne){if(ne.length){if(!ee.dataTypes.length){ee.dataTypes=ne;return}ne.forEach(ue=>{q(ee.dataTypes,ue)||J(ee,`type "${ue}" not allowed by context "${ee.dataTypes.join(",")}"`)}),K(ee,ne)}}function z(ee,ne){ne.length>1&&!(ne.length===2&&ne.includes("null"))&&J(ee,"use allowUnionTypes to allow union type keyword")}function F(ee,ne){const ue=ee.self.RULES.all;for(const ve in ue){const xe=ue[ve];if(typeof xe=="object"&&(0,n.shouldUseRule)(ee.schema,xe)){const{type:Re}=xe.definition;Re.length&&!Re.some(Te=>W(ne,Te))&&J(ee,`missing type "${Re.join(",")}" for keyword "${ve}"`)}}}function W(ee,ne){return ee.includes(ne)||ne==="number"&&ee.includes("integer")}function q(ee,ne){return ee.includes(ne)||ne==="integer"&&ee.includes("number")}function K(ee,ne){const ue=[];for(const ve of ee.dataTypes)q(ne,ve)?ue.push(ve):ne.includes("integer")&&ve==="number"&&ue.push("integer");ee.dataTypes=ue}function J(ee,ne){const ue=ee.schemaEnv.baseId+ee.errSchemaPath;ne+=` at "${ue}" (strictTypes)`,(0,c.checkStrictMode)(ee,ne,ee.opts.strictTypes)}class te{constructor(ne,ue,ve){if((0,s.validateKeywordUsage)(ne,ue,ve),this.gen=ne.gen,this.allErrors=ne.allErrors,this.keyword=ve,this.data=ne.data,this.schema=ne.schema[ve],this.$data=ue.$data&&ne.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(ne,this.schema,ve,this.$data),this.schemaType=ue.schemaType,this.parentSchema=ne.schema,this.params={},this.it=ne,this.def=ue,this.$data)this.schemaCode=ne.gen.const("vSchema",he(this.$data,ne));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,ue.schemaType,ue.allowUndefined))throw new Error(`${ve} value must be ${JSON.stringify(ue.schemaType)}`);("code"in ue?ue.trackErrors:ue.errors!==!1)&&(this.errsCount=ne.gen.const("_errs",l.default.errors))}result(ne,ue,ve){this.failResult((0,a.not)(ne),ue,ve)}failResult(ne,ue,ve){this.gen.if(ne),ve?ve():this.error(),ue?(this.gen.else(),ue(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(ne,ue){this.failResult((0,a.not)(ne),void 0,ue)}fail(ne){if(ne===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(ne),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(ne){if(!this.$data)return this.fail(ne);const{schemaCode:ue}=this;this.fail((0,a._)`${ue} !== undefined && (${(0,a.or)(this.invalid$data(),ne)})`)}error(ne,ue,ve){if(ue){this.setParams(ue),this._error(ne,ve),this.setParams({});return}this._error(ne,ve)}_error(ne,ue){(ne?d.reportExtraError:d.reportError)(this,this.def.error,ue)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(ne){this.allErrors||this.gen.if(ne)}setParams(ne,ue){ue?Object.assign(this.params,ne):this.params=ne}block$data(ne,ue,ve=a.nil){this.gen.block(()=>{this.check$data(ne,ve),ue()})}check$data(ne=a.nil,ue=a.nil){if(!this.$data)return;const{gen:ve,schemaCode:xe,schemaType:Re,def:Te}=this;ve.if((0,a.or)((0,a._)`${xe} === undefined`,ue)),ne!==a.nil&&ve.assign(ne,!0),(Re.length||Te.validateSchema)&&(ve.elseIf(this.invalid$data()),this.$dataError(),ne!==a.nil&&ve.assign(ne,!1)),ve.else()}invalid$data(){const{gen:ne,schemaCode:ue,schemaType:ve,def:xe,it:Re}=this;return(0,a.or)(Te(),we());function Te(){if(ve.length){if(!(ue instanceof a.Name))throw new Error("ajv implementation error");const He=Array.isArray(ve)?ve:[ve];return(0,a._)`${(0,r.checkDataTypes)(He,ue,Re.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function we(){if(xe.validateSchema){const He=ne.scopeValue("validate$data",{ref:xe.validateSchema});return(0,a._)`!${He}(${ue})`}return a.nil}}subschema(ne,ue){const ve=(0,o.getSubschema)(this.it,ne);(0,o.extendSubschemaData)(ve,this.it,ne),(0,o.extendSubschemaMode)(ve,ne);const xe={...this.it,...ve,items:void 0,props:void 0};return w(xe,ue),xe}mergeEvaluated(ne,ue){const{it:ve,gen:xe}=this;ve.opts.unevaluated&&(ve.props!==!0&&ne.props!==void 0&&(ve.props=c.mergeEvaluated.props(xe,ne.props,ve.props,ue)),ve.items!==!0&&ne.items!==void 0&&(ve.items=c.mergeEvaluated.items(xe,ne.items,ve.items,ue)))}mergeValidEvaluated(ne,ue){const{it:ve,gen:xe}=this;if(ve.opts.unevaluated&&(ve.props!==!0||ve.items!==!0))return xe.if(ue,()=>this.mergeEvaluated(ne,a.Name)),!0}}up.KeywordCxt=te;function le(ee,ne,ue,ve){const xe=new te(ee,ue,ne);"code"in ue?ue.code(xe,ve):xe.$data&&ue.validate?(0,s.funcKeywordCode)(xe,ue):"macro"in ue?(0,s.macroKeywordCode)(xe,ue):(ue.compile||ue.validate)&&(0,s.funcKeywordCode)(xe,ue)}const oe=/^\/(?:[^~]|~0|~1)*$/,ie=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function he(ee,{dataLevel:ne,dataNames:ue,dataPathArr:ve}){let xe,Re;if(ee==="")return l.default.rootData;if(ee[0]==="/"){if(!oe.test(ee))throw new Error(`Invalid JSON-pointer: ${ee}`);xe=ee,Re=l.default.rootData}else{const Xe=ie.exec(ee);if(!Xe)throw new Error(`Invalid JSON-pointer: ${ee}`);const tt=+Xe[1];if(xe=Xe[2],xe==="#"){if(tt>=ne)throw new Error(He("property/index",tt));return ve[ne-tt]}if(tt>ne)throw new Error(He("data",tt));if(Re=ue[ne-tt],!xe)return Re}let Te=Re;const we=xe.split("/");for(const Xe of we)Xe&&(Re=(0,a._)`${Re}${(0,a.getProperty)((0,c.unescapeJsonPointer)(Xe))}`,Te=(0,a._)`${Te} && ${Re}`);return Te;function He(Xe,tt){return`Cannot access ${Xe} ${tt} levels up, current level is ${ne}`}}return up.getData=he,up}var BR={},g0e;function Gee(){if(g0e)return BR;g0e=1,Object.defineProperty(BR,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return BR.default=e,BR}var zR={},y0e;function kM(){if(y0e)return zR;y0e=1,Object.defineProperty(zR,"__esModule",{value:!0});const e=SM();class t extends Error{constructor(r,i,s,o){super(o||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return zR.default=t,zR}var Ql={},v0e;function Yee(){if(v0e)return Ql;v0e=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.resolveSchema=Ql.getCompilingSchema=Ql.resolveRef=Ql.compileSchema=Ql.SchemaEnv=void 0;const e=Jn(),t=Gee(),n=Jg(),r=SM(),i=Ir(),s=TM();class o{constructor(v){var y;this.refs={},this.dynamicAnchors={};let w;typeof v.schema=="object"&&(w=v.schema),this.schema=v.schema,this.schemaId=v.schemaId,this.root=v.root||this,this.baseId=(y=v.baseId)!==null&&y!==void 0?y:(0,r.normalizeId)(w==null?void 0:w[v.schemaId||"$id"]),this.schemaPath=v.schemaPath,this.localRefs=v.localRefs,this.meta=v.meta,this.$async=w==null?void 0:w.$async,this.refs={}}}Ql.SchemaEnv=o;function a(g){const v=c.call(this,g);if(v)return v;const y=(0,r.getFullPath)(this.opts.uriResolver,g.root.baseId),{es5:w,lines:E}=this.opts.code,{ownProperties:C}=this.opts,S=new e.CodeGen(this.scope,{es5:w,lines:E,ownProperties:C});let T;g.$async&&(T=S.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const k=S.scopeName("validate");g.validateName=k;const I={gen:S,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,e.stringify)(g.schema)}:{ref:g.schema}),validateName:k,ValidationError:T,schema:g.schema,schemaEnv:g,rootId:y,baseId:g.baseId||y,schemaPath:e.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let R;try{this._compilations.add(g),(0,s.validateFunctionCode)(I),S.optimize(this.opts.code.optimize);const O=S.toString();R=`${S.scopeRefs(n.default.scope)}return ${O}`,this.opts.code.process&&(R=this.opts.code.process(R,g));const $=new Function(`${n.default.self}`,`${n.default.scope}`,R)(this,this.scope.get());if(this.scope.value(k,{ref:$}),$.errors=null,$.schema=g.schema,$.schemaEnv=g,g.$async&&($.$async=!0),this.opts.code.source===!0&&($.source={validateName:k,validateCode:O,scopeValues:S._values}),this.opts.unevaluated){const{props:L,items:U}=I;$.evaluated={props:L instanceof e.Name?void 0:L,items:U instanceof e.Name?void 0:U,dynamicProps:L instanceof e.Name,dynamicItems:U instanceof e.Name},$.source&&($.source.evaluated=(0,e.stringify)($.evaluated))}return g.validate=$,g}catch(O){throw delete g.validate,delete g.validateName,R&&this.logger.error("Error compiling schema, function code:",R),O}finally{this._compilations.delete(g)}}Ql.compileSchema=a;function l(g,v,y){var w;y=(0,r.resolveUrl)(this.opts.uriResolver,v,y);const E=g.refs[y];if(E)return E;let C=f.call(this,g,y);if(C===void 0){const S=(w=g.localRefs)===null||w===void 0?void 0:w[y],{schemaId:T}=this.opts;S&&(C=new o({schema:S,schemaId:T,root:g,baseId:v}))}if(C!==void 0)return g.refs[y]=u.call(this,C)}Ql.resolveRef=l;function u(g){return(0,r.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:a.call(this,g)}function c(g){for(const v of this._compilations)if(d(v,g))return v}Ql.getCompilingSchema=c;function d(g,v){return g.schema===v.schema&&g.root===v.root&&g.baseId===v.baseId}function f(g,v){let y;for(;typeof(y=this.refs[v])=="string";)v=y;return y||this.schemas[v]||h.call(this,g,v)}function h(g,v){const y=this.opts.uriResolver.parse(v),w=(0,r._getFullPath)(this.opts.uriResolver,y);let E=(0,r.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&w===E)return m.call(this,y,g);const C=(0,r.normalizeId)(w),S=this.refs[C]||this.schemas[C];if(typeof S=="string"){const T=h.call(this,g,S);return typeof(T==null?void 0:T.schema)!="object"?void 0:m.call(this,y,T)}if(typeof(S==null?void 0:S.schema)=="object"){if(S.validate||a.call(this,S),C===(0,r.normalizeId)(v)){const{schema:T}=S,{schemaId:k}=this.opts,I=T[k];return I&&(E=(0,r.resolveUrl)(this.opts.uriResolver,E,I)),new o({schema:T,schemaId:k,root:g,baseId:E})}return m.call(this,y,S)}}Ql.resolveSchema=h;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(g,{baseId:v,schema:y,root:w}){var E;if(((E=g.fragment)===null||E===void 0?void 0:E[0])!=="/")return;for(const T of g.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const k=y[(0,i.unescapeFragment)(T)];if(k===void 0)return;y=k;const I=typeof y=="object"&&y[this.opts.schemaId];!p.has(T)&&I&&(v=(0,r.resolveUrl)(this.opts.uriResolver,v,I))}let C;if(typeof y!="boolean"&&y.$ref&&!(0,i.schemaHasRulesButRef)(y,this.RULES)){const T=(0,r.resolveUrl)(this.opts.uriResolver,v,y.$ref);C=h.call(this,w,T)}const{schemaId:S}=this.opts;if(C=C||new o({schema:y,schemaId:S,root:w,baseId:v}),C.schema!==C.root.schema)return C}return Ql}const EGt="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",CGt="Meta-schema for $data reference (JSON AnySchema extension proposal)",SGt="object",TGt=["$data"],kGt={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},AGt=!1,IGt={$id:EGt,description:CGt,type:SGt,required:TGt,properties:kGt,additionalProperties:AGt};var UR={},jC={exports:{}},FB,b0e;function RGt(){return b0e||(b0e=1,FB={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),FB}var LB,w0e;function DGt(){if(w0e)return LB;w0e=1;const{HEX:e}=RGt(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function n(m){if(a(m,".")<3)return{host:m,isIPV4:!1};const g=m.match(t)||[],[v]=g;return v?{host:o(v,"."),isIPV4:!0}:{host:m,isIPV4:!1}}function r(m,g=!1){let v="",y=!0;for(const w of m){if(e[w]===void 0)return;w!=="0"&&y===!0&&(y=!1),y||(v+=w)}return g&&v.length===0&&(v="0"),v}function i(m){let g=0;const v={error:!1,address:"",zone:""},y=[],w=[];let E=!1,C=!1,S=!1;function T(){if(w.length){if(E===!1){const k=r(w);if(k!==void 0)y.push(k);else return v.error=!0,!1}w.length=0}return!0}for(let k=0;k<m.length;k++){const I=m[k];if(!(I==="["||I==="]"))if(I===":"){if(C===!0&&(S=!0),!T())break;if(g++,y.push(":"),g>7){v.error=!0;break}k-1>=0&&m[k-1]===":"&&(C=!0);continue}else if(I==="%"){if(!T())break;E=!0}else{w.push(I);continue}}return w.length&&(E?v.zone=w.join(""):S?y.push(w.join("")):y.push(r(w))),v.address=y.join(""),v}function s(m){if(a(m,":")<2)return{host:m,isIPV6:!1};const g=i(m);if(g.error)return{host:m,isIPV6:!1};{let v=g.address,y=g.address;return g.zone&&(v+="%"+g.zone,y+="%25"+g.zone),{host:v,escapedHost:y,isIPV6:!0}}}function o(m,g){let v="",y=!0;const w=m.length;for(let E=0;E<w;E++){const C=m[E];C==="0"&&y?(E+1<=w&&m[E+1]===g||E+1===w)&&(v+=C,y=!1):(C===g?y=!0:y=!1,v+=C)}return v}function a(m,g){let v=0;for(let y=0;y<m.length;y++)m[y]===g&&v++;return v}const l=/^\.\.?\//u,u=/^\/\.(?:\/|$)/u,c=/^\/\.\.(?:\/|$)/u,d=/^\/?(?:.|\n)*?(?=\/|$)/u;function f(m){const g=[];for(;m.length;)if(m.match(l))m=m.replace(l,"");else if(m.match(u))m=m.replace(u,"/");else if(m.match(c))m=m.replace(c,"/"),g.pop();else if(m==="."||m==="..")m="";else{const v=m.match(d);if(v){const y=v[0];m=m.slice(y.length),g.push(y)}else throw new Error("Unexpected dot segment condition")}return g.join("")}function h(m,g){const v=g!==!0?escape:unescape;return m.scheme!==void 0&&(m.scheme=v(m.scheme)),m.userinfo!==void 0&&(m.userinfo=v(m.userinfo)),m.host!==void 0&&(m.host=v(m.host)),m.path!==void 0&&(m.path=v(m.path)),m.query!==void 0&&(m.query=v(m.query)),m.fragment!==void 0&&(m.fragment=v(m.fragment)),m}function p(m){const g=[];if(m.userinfo!==void 0&&(g.push(m.userinfo),g.push("@")),m.host!==void 0){let v=unescape(m.host);const y=n(v);if(y.isIPV4)v=y.host;else{const w=s(y.host);w.isIPV6===!0?v=`[${w.escapedHost}]`:v=m.host}g.push(v)}return(typeof m.port=="number"||typeof m.port=="string")&&(g.push(":"),g.push(String(m.port))),g.length?g.join(""):void 0}return LB={recomposeAuthority:p,normalizeComponentEncoding:h,removeDotSegments:f,normalizeIPv4:n,normalizeIPv6:s,stringArrayToHexStripped:r},LB}var jB,x0e;function PGt(){if(x0e)return jB;x0e=1;const e=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(y){return typeof y.secure=="boolean"?y.secure:String(y.scheme).toLowerCase()==="wss"}function r(y){return y.host||(y.error=y.error||"HTTP URIs must have a host."),y}function i(y){const w=String(y.scheme).toLowerCase()==="https";return(y.port===(w?443:80)||y.port==="")&&(y.port=void 0),y.path||(y.path="/"),y}function s(y){return y.secure=n(y),y.resourceName=(y.path||"/")+(y.query?"?"+y.query:""),y.path=void 0,y.query=void 0,y}function o(y){if((y.port===(n(y)?443:80)||y.port==="")&&(y.port=void 0),typeof y.secure=="boolean"&&(y.scheme=y.secure?"wss":"ws",y.secure=void 0),y.resourceName){const[w,E]=y.resourceName.split("?");y.path=w&&w!=="/"?w:void 0,y.query=E,y.resourceName=void 0}return y.fragment=void 0,y}function a(y,w){if(!y.path)return y.error="URN can not be parsed",y;const E=y.path.match(t);if(E){const C=w.scheme||y.scheme||"urn";y.nid=E[1].toLowerCase(),y.nss=E[2];const S=`${C}:${w.nid||y.nid}`,T=v[S];y.path=void 0,T&&(y=T.parse(y,w))}else y.error=y.error||"URN can not be parsed.";return y}function l(y,w){const E=w.scheme||y.scheme||"urn",C=y.nid.toLowerCase(),S=`${E}:${w.nid||C}`,T=v[S];T&&(y=T.serialize(y,w));const k=y,I=y.nss;return k.path=`${C||w.nid}:${I}`,w.skipEscape=!0,k}function u(y,w){const E=y;return E.uuid=E.nss,E.nss=void 0,!w.tolerant&&(!E.uuid||!e.test(E.uuid))&&(E.error=E.error||"UUID is not valid."),E}function c(y){const w=y;return w.nss=(y.uuid||"").toLowerCase(),w}const d={scheme:"http",domainHost:!0,parse:r,serialize:i},f={scheme:"https",domainHost:d.domainHost,parse:r,serialize:i},h={scheme:"ws",domainHost:!0,parse:s,serialize:o},p={scheme:"wss",domainHost:h.domainHost,parse:h.parse,serialize:h.serialize},v={http:d,https:f,ws:h,wss:p,urn:{scheme:"urn",parse:a,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:u,serialize:c,skipNormalize:!0}};return jB=v,jB}var _0e;function OGt(){if(_0e)return jC.exports;_0e=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:n,recomposeAuthority:r,normalizeComponentEncoding:i}=DGt(),s=PGt();function o(g,v){return typeof g=="string"?g=c(p(g,v),v):typeof g=="object"&&(g=p(c(g,v),v)),g}function a(g,v,y){const w=Object.assign({scheme:"null"},y),E=l(p(g,w),p(v,w),w,!0);return c(E,{...w,skipEscape:!0})}function l(g,v,y,w){const E={};return w||(g=p(c(g,y),y),v=p(c(v,y),y)),y=y||{},!y.tolerant&&v.scheme?(E.scheme=v.scheme,E.userinfo=v.userinfo,E.host=v.host,E.port=v.port,E.path=n(v.path||""),E.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(E.userinfo=v.userinfo,E.host=v.host,E.port=v.port,E.path=n(v.path||""),E.query=v.query):(v.path?(v.path.charAt(0)==="/"?E.path=n(v.path):((g.userinfo!==void 0||g.host!==void 0||g.port!==void 0)&&!g.path?E.path="/"+v.path:g.path?E.path=g.path.slice(0,g.path.lastIndexOf("/")+1)+v.path:E.path=v.path,E.path=n(E.path)),E.query=v.query):(E.path=g.path,v.query!==void 0?E.query=v.query:E.query=g.query),E.userinfo=g.userinfo,E.host=g.host,E.port=g.port),E.scheme=g.scheme),E.fragment=v.fragment,E}function u(g,v,y){return typeof g=="string"?(g=unescape(g),g=c(i(p(g,y),!0),{...y,skipEscape:!0})):typeof g=="object"&&(g=c(i(g,!0),{...y,skipEscape:!0})),typeof v=="string"?(v=unescape(v),v=c(i(p(v,y),!0),{...y,skipEscape:!0})):typeof v=="object"&&(v=c(i(v,!0),{...y,skipEscape:!0})),g.toLowerCase()===v.toLowerCase()}function c(g,v){const y={host:g.host,scheme:g.scheme,userinfo:g.userinfo,port:g.port,path:g.path,query:g.query,nid:g.nid,nss:g.nss,uuid:g.uuid,fragment:g.fragment,reference:g.reference,resourceName:g.resourceName,secure:g.secure,error:""},w=Object.assign({},v),E=[],C=s[(w.scheme||y.scheme||"").toLowerCase()];C&&C.serialize&&C.serialize(y,w),y.path!==void 0&&(w.skipEscape?y.path=unescape(y.path):(y.path=escape(y.path),y.scheme!==void 0&&(y.path=y.path.split("%3A").join(":")))),w.reference!=="suffix"&&y.scheme&&E.push(y.scheme,":");const S=r(y);if(S!==void 0&&(w.reference!=="suffix"&&E.push("//"),E.push(S),y.path&&y.path.charAt(0)!=="/"&&E.push("/")),y.path!==void 0){let T=y.path;!w.absolutePath&&(!C||!C.absolutePath)&&(T=n(T)),S===void 0&&(T=T.replace(/^\/\//u,"/%2F")),E.push(T)}return y.query!==void 0&&E.push("?",y.query),y.fragment!==void 0&&E.push("#",y.fragment),E.join("")}const d=Array.from({length:127},(g,v)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(v)));function f(g){let v=0;for(let y=0,w=g.length;y<w;++y)if(v=g.charCodeAt(y),v>126||d[v])return!0;return!1}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(g,v){const y=Object.assign({},v),w={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},E=g.indexOf("%")!==-1;let C=!1;y.reference==="suffix"&&(g=(y.scheme?y.scheme+":":"")+"//"+g);const S=g.match(h);if(S){if(w.scheme=S[1],w.userinfo=S[3],w.host=S[4],w.port=parseInt(S[5],10),w.path=S[6]||"",w.query=S[7],w.fragment=S[8],isNaN(w.port)&&(w.port=S[5]),w.host){const k=t(w.host);if(k.isIPV4===!1){const I=e(k.host);w.host=I.host.toLowerCase(),C=I.isIPV6}else w.host=k.host,C=!0}w.scheme===void 0&&w.userinfo===void 0&&w.host===void 0&&w.port===void 0&&w.query===void 0&&!w.path?w.reference="same-document":w.scheme===void 0?w.reference="relative":w.fragment===void 0?w.reference="absolute":w.reference="uri",y.reference&&y.reference!=="suffix"&&y.reference!==w.reference&&(w.error=w.error||"URI is not a "+y.reference+" reference.");const T=s[(y.scheme||w.scheme||"").toLowerCase()];if(!y.unicodeSupport&&(!T||!T.unicodeSupport)&&w.host&&(y.domainHost||T&&T.domainHost)&&C===!1&&f(w.host))try{w.host=URL.domainToASCII(w.host.toLowerCase())}catch(k){w.error=w.error||"Host's domain name can not be converted to ASCII: "+k}(!T||T&&!T.skipNormalize)&&(E&&w.scheme!==void 0&&(w.scheme=unescape(w.scheme)),E&&w.host!==void 0&&(w.host=unescape(w.host)),w.path&&(w.path=escape(unescape(w.path))),w.fragment&&(w.fragment=encodeURI(decodeURIComponent(w.fragment)))),T&&T.parse&&T.parse(w,y)}else w.error=w.error||"URI can not be parsed.";return w}const m={SCHEMES:s,normalize:o,resolve:a,resolveComponents:l,equal:u,serialize:c,parse:p};return jC.exports=m,jC.exports.default=m,jC.exports.fastUri=m,jC.exports}var E0e;function NGt(){if(E0e)return UR;E0e=1,Object.defineProperty(UR,"__esModule",{value:!0});const e=OGt();return e.code='require("ajv/dist/runtime/uri").default',UR.default=e,UR}var C0e;function $Gt(){return C0e||(C0e=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=TM();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Jn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=Gee(),i=kM(),s=s6e(),o=Yee(),a=Jn(),l=SM(),u=dN(),c=Ir(),d=IGt,f=NGt(),h=(z,F)=>new RegExp(z,F);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function w(z){var F,W,q,K,J,te,le,oe,ie,he,ee,ne,ue,ve,xe,Re,Te,we,He,Xe,tt,ft,rt,Pe,Le;const ge=z.strict,$e=(F=z.code)===null||F===void 0?void 0:F.optimize,ze=$e===!0||$e===void 0?1:$e||0,it=(q=(W=z.code)===null||W===void 0?void 0:W.regExp)!==null&&q!==void 0?q:h,st=(K=z.uriResolver)!==null&&K!==void 0?K:f.default;return{strictSchema:(te=(J=z.strictSchema)!==null&&J!==void 0?J:ge)!==null&&te!==void 0?te:!0,strictNumbers:(oe=(le=z.strictNumbers)!==null&&le!==void 0?le:ge)!==null&&oe!==void 0?oe:!0,strictTypes:(he=(ie=z.strictTypes)!==null&&ie!==void 0?ie:ge)!==null&&he!==void 0?he:"log",strictTuples:(ne=(ee=z.strictTuples)!==null&&ee!==void 0?ee:ge)!==null&&ne!==void 0?ne:"log",strictRequired:(ve=(ue=z.strictRequired)!==null&&ue!==void 0?ue:ge)!==null&&ve!==void 0?ve:!1,code:z.code?{...z.code,optimize:ze,regExp:it}:{optimize:ze,regExp:it},loopRequired:(xe=z.loopRequired)!==null&&xe!==void 0?xe:y,loopEnum:(Re=z.loopEnum)!==null&&Re!==void 0?Re:y,meta:(Te=z.meta)!==null&&Te!==void 0?Te:!0,messages:(we=z.messages)!==null&&we!==void 0?we:!0,inlineRefs:(He=z.inlineRefs)!==null&&He!==void 0?He:!0,schemaId:(Xe=z.schemaId)!==null&&Xe!==void 0?Xe:"$id",addUsedSchema:(tt=z.addUsedSchema)!==null&&tt!==void 0?tt:!0,validateSchema:(ft=z.validateSchema)!==null&&ft!==void 0?ft:!0,validateFormats:(rt=z.validateFormats)!==null&&rt!==void 0?rt:!0,unicodeRegExp:(Pe=z.unicodeRegExp)!==null&&Pe!==void 0?Pe:!0,int32range:(Le=z.int32range)!==null&&Le!==void 0?Le:!0,uriResolver:st}}class E{constructor(F={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,F=this.opts={...F,...w(F)};const{es5:W,lines:q}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:W,lines:q}),this.logger=M(F.logger);const K=F.validateFormats;F.validateFormats=!1,this.RULES=(0,s.getRules)(),C.call(this,g,F,"NOT SUPPORTED"),C.call(this,v,F,"DEPRECATED","warn"),this._metaOpts=R.call(this),F.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),F.keywords&&I.call(this,F.keywords),typeof F.meta=="object"&&this.addMetaSchema(F.meta),T.call(this),F.validateFormats=K}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:F,meta:W,schemaId:q}=this.opts;let K=d;q==="id"&&(K={...d},K.id=K.$id,delete K.$id),W&&F&&this.addMetaSchema(K,K[q],!1)}defaultMeta(){const{meta:F,schemaId:W}=this.opts;return this.opts.defaultMeta=typeof F=="object"?F[W]||F:void 0}validate(F,W){let q;if(typeof F=="string"){if(q=this.getSchema(F),!q)throw new Error(`no schema with key or ref "${F}"`)}else q=this.compile(F);const K=q(W);return"$async"in q||(this.errors=q.errors),K}compile(F,W){const q=this._addSchema(F,W);return q.validate||this._compileSchemaEnv(q)}compileAsync(F,W){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:q}=this.opts;return K.call(this,F,W);async function K(he,ee){await J.call(this,he.$schema);const ne=this._addSchema(he,ee);return ne.validate||te.call(this,ne)}async function J(he){he&&!this.getSchema(he)&&await K.call(this,{$ref:he},!0)}async function te(he){try{return this._compileSchemaEnv(he)}catch(ee){if(!(ee instanceof i.default))throw ee;return le.call(this,ee),await oe.call(this,ee.missingSchema),te.call(this,he)}}function le({missingSchema:he,missingRef:ee}){if(this.refs[he])throw new Error(`AnySchema ${he} is loaded but ${ee} cannot be resolved`)}async function oe(he){const ee=await ie.call(this,he);this.refs[he]||await J.call(this,ee.$schema),this.refs[he]||this.addSchema(ee,he,W)}async function ie(he){const ee=this._loading[he];if(ee)return ee;try{return await(this._loading[he]=q(he))}finally{delete this._loading[he]}}}addSchema(F,W,q,K=this.opts.validateSchema){if(Array.isArray(F)){for(const te of F)this.addSchema(te,void 0,q,K);return this}let J;if(typeof F=="object"){const{schemaId:te}=this.opts;if(J=F[te],J!==void 0&&typeof J!="string")throw new Error(`schema ${te} must be string`)}return W=(0,l.normalizeId)(W||J),this._checkUnique(W),this.schemas[W]=this._addSchema(F,q,W,K,!0),this}addMetaSchema(F,W,q=this.opts.validateSchema){return this.addSchema(F,W,!0,q),this}validateSchema(F,W){if(typeof F=="boolean")return!0;let q;if(q=F.$schema,q!==void 0&&typeof q!="string")throw new Error("$schema must be a string");if(q=q||this.opts.defaultMeta||this.defaultMeta(),!q)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const K=this.validate(q,F);if(!K&&W){const J="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(J);else throw new Error(J)}return K}getSchema(F){let W;for(;typeof(W=S.call(this,F))=="string";)F=W;if(W===void 0){const{schemaId:q}=this.opts,K=new o.SchemaEnv({schema:{},schemaId:q});if(W=o.resolveSchema.call(this,K,F),!W)return;this.refs[F]=W}return W.validate||this._compileSchemaEnv(W)}removeSchema(F){if(F instanceof RegExp)return this._removeAllSchemas(this.schemas,F),this._removeAllSchemas(this.refs,F),this;switch(typeof F){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const W=S.call(this,F);return typeof W=="object"&&this._cache.delete(W.schema),delete this.schemas[F],delete this.refs[F],this}case"object":{const W=F;this._cache.delete(W);let q=F[this.opts.schemaId];return q&&(q=(0,l.normalizeId)(q),delete this.schemas[q],delete this.refs[q]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(F){for(const W of F)this.addKeyword(W);return this}addKeyword(F,W){let q;if(typeof F=="string")q=F,typeof W=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),W.keyword=q);else if(typeof F=="object"&&W===void 0){if(W=F,q=W.keyword,Array.isArray(q)&&!q.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(L.call(this,q,W),!W)return(0,c.eachItem)(q,J=>U.call(this,J)),this;V.call(this,W);const K={...W,type:(0,u.getJSONTypes)(W.type),schemaType:(0,u.getJSONTypes)(W.schemaType)};return(0,c.eachItem)(q,K.type.length===0?J=>U.call(this,J,K):J=>K.type.forEach(te=>U.call(this,J,K,te))),this}getKeyword(F){const W=this.RULES.all[F];return typeof W=="object"?W.definition:!!W}removeKeyword(F){const{RULES:W}=this;delete W.keywords[F],delete W.all[F];for(const q of W.rules){const K=q.rules.findIndex(J=>J.keyword===F);K>=0&&q.rules.splice(K,1)}return this}addFormat(F,W){return typeof W=="string"&&(W=new RegExp(W)),this.formats[F]=W,this}errorsText(F=this.errors,{separator:W=", ",dataVar:q="data"}={}){return!F||F.length===0?"No errors":F.map(K=>`${q}${K.instancePath} ${K.message}`).reduce((K,J)=>K+W+J)}$dataMetaSchema(F,W){const q=this.RULES.all;F=JSON.parse(JSON.stringify(F));for(const K of W){const J=K.split("/").slice(1);let te=F;for(const le of J)te=te[le];for(const le in q){const oe=q[le];if(typeof oe!="object")continue;const{$data:ie}=oe.definition,he=te[le];ie&&he&&(te[le]=Y(he))}}return F}_removeAllSchemas(F,W){for(const q in F){const K=F[q];(!W||W.test(q))&&(typeof K=="string"?delete F[q]:K&&!K.meta&&(this._cache.delete(K.schema),delete F[q]))}}_addSchema(F,W,q,K=this.opts.validateSchema,J=this.opts.addUsedSchema){let te;const{schemaId:le}=this.opts;if(typeof F=="object")te=F[le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof F!="boolean")throw new Error("schema must be object or boolean")}let oe=this._cache.get(F);if(oe!==void 0)return oe;q=(0,l.normalizeId)(te||q);const ie=l.getSchemaRefs.call(this,F,q);return oe=new o.SchemaEnv({schema:F,schemaId:le,meta:W,baseId:q,localRefs:ie}),this._cache.set(oe.schema,oe),J&&!q.startsWith("#")&&(q&&this._checkUnique(q),this.refs[q]=oe),K&&this.validateSchema(F,!0),oe}_checkUnique(F){if(this.schemas[F]||this.refs[F])throw new Error(`schema with key or id "${F}" already exists`)}_compileSchemaEnv(F){if(F.meta?this._compileMetaSchema(F):o.compileSchema.call(this,F),!F.validate)throw new Error("ajv implementation error");return F.validate}_compileMetaSchema(F){const W=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,F)}finally{this.opts=W}}}E.ValidationError=r.default,E.MissingRefError=i.default,e.default=E;function C(z,F,W,q="error"){for(const K in z){const J=K;J in F&&this.logger[q](`${W}: option ${K}. ${z[J]}`)}}function S(z){return z=(0,l.normalizeId)(z),this.schemas[z]||this.refs[z]}function T(){const z=this.opts.schemas;if(z)if(Array.isArray(z))this.addSchema(z);else for(const F in z)this.addSchema(z[F],F)}function k(){for(const z in this.opts.formats){const F=this.opts.formats[z];F&&this.addFormat(z,F)}}function I(z){if(Array.isArray(z)){this.addVocabulary(z);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const F in z){const W=z[F];W.keyword||(W.keyword=F),this.addKeyword(W)}}function R(){const z={...this.opts};for(const F of p)delete z[F];return z}const O={log(){},warn(){},error(){}};function M(z){if(z===!1)return O;if(z===void 0)return console;if(z.log&&z.warn&&z.error)return z;throw new Error("logger must implement log, warn and error methods")}const $=/^[a-z_$][a-z0-9_$:-]*$/i;function L(z,F){const{RULES:W}=this;if((0,c.eachItem)(z,q=>{if(W.keywords[q])throw new Error(`Keyword ${q} is already defined`);if(!$.test(q))throw new Error(`Keyword ${q} has invalid name`)}),!!F&&F.$data&&!("code"in F||"validate"in F))throw new Error('$data keyword must have "code" or "validate" function')}function U(z,F,W){var q;const K=F==null?void 0:F.post;if(W&&K)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:J}=this;let te=K?J.post:J.rules.find(({type:oe})=>oe===W);if(te||(te={type:W,rules:[]},J.rules.push(te)),J.keywords[z]=!0,!F)return;const le={keyword:z,definition:{...F,type:(0,u.getJSONTypes)(F.type),schemaType:(0,u.getJSONTypes)(F.schemaType)}};F.before?B.call(this,te,le,F.before):te.rules.push(le),J.all[z]=le,(q=F.implements)===null||q===void 0||q.forEach(oe=>this.addKeyword(oe))}function B(z,F,W){const q=z.rules.findIndex(K=>K.keyword===W);q>=0?z.rules.splice(q,0,F):(z.rules.push(F),this.logger.warn(`rule ${W} is not defined`))}function V(z){let{metaSchema:F}=z;F!==void 0&&(z.$data&&this.opts.$data&&(F=Y(F)),z.validateSchema=this.compile(F,!0))}const G={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Y(z){return{anyOf:[z,G]}}})(DB)),DB}var qR={},HR={},VR={},S0e;function MGt(){if(S0e)return VR;S0e=1,Object.defineProperty(VR,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return VR.default=e,VR}var r0={},T0e;function FGt(){if(T0e)return r0;T0e=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.callRef=r0.getValidate=void 0;const e=kM(),t=of(),n=Jn(),r=Jg(),i=Yee(),s=Ir(),o={keyword:"$ref",schemaType:"string",code(u){const{gen:c,schema:d,it:f}=u,{baseId:h,schemaEnv:p,validateName:m,opts:g,self:v}=f,{root:y}=p;if((d==="#"||d==="#/")&&h===y.baseId)return E();const w=i.resolveRef.call(v,y,h,d);if(w===void 0)throw new e.default(f.opts.uriResolver,h,d);if(w instanceof i.SchemaEnv)return C(w);return S(w);function E(){if(p===y)return l(u,m,p,p.$async);const T=c.scopeValue("root",{ref:y});return l(u,(0,n._)`${T}.validate`,y,y.$async)}function C(T){const k=a(u,T);l(u,k,T,T.$async)}function S(T){const k=c.scopeValue("schema",g.code.source===!0?{ref:T,code:(0,n.stringify)(T)}:{ref:T}),I=c.name("valid"),R=u.subschema({schema:T,dataTypes:[],schemaPath:n.nil,topSchemaRef:k,errSchemaPath:d},I);u.mergeEvaluated(R),u.ok(I)}}};function a(u,c){const{gen:d}=u;return c.validate?d.scopeValue("validate",{ref:c.validate}):(0,n._)`${d.scopeValue("wrapper",{ref:c})}.validate`}r0.getValidate=a;function l(u,c,d,f){const{gen:h,it:p}=u,{allErrors:m,schemaEnv:g,opts:v}=p,y=v.passContext?r.default.this:n.nil;f?w():E();function w(){if(!g.$async)throw new Error("async schema referenced by sync schema");const T=h.let("valid");h.try(()=>{h.code((0,n._)`await ${(0,t.callValidateCode)(u,c,y)}`),S(c),m||h.assign(T,!0)},k=>{h.if((0,n._)`!(${k} instanceof ${p.ValidationError})`,()=>h.throw(k)),C(k),m||h.assign(T,!1)}),u.ok(T)}function E(){u.result((0,t.callValidateCode)(u,c,y),()=>S(c),()=>C(c))}function C(T){const k=(0,n._)`${T}.errors`;h.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${k} : ${r.default.vErrors}.concat(${k})`),h.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function S(T){var k;if(!p.opts.unevaluated)return;const I=(k=d==null?void 0:d.validate)===null||k===void 0?void 0:k.evaluated;if(p.props!==!0)if(I&&!I.dynamicProps)I.props!==void 0&&(p.props=s.mergeEvaluated.props(h,I.props,p.props));else{const R=h.var("props",(0,n._)`${T}.evaluated.props`);p.props=s.mergeEvaluated.props(h,R,p.props,n.Name)}if(p.items!==!0)if(I&&!I.dynamicItems)I.items!==void 0&&(p.items=s.mergeEvaluated.items(h,I.items,p.items));else{const R=h.var("items",(0,n._)`${T}.evaluated.items`);p.items=s.mergeEvaluated.items(h,R,p.items,n.Name)}}}return r0.callRef=l,r0.default=o,r0}var k0e;function LGt(){if(k0e)return HR;k0e=1,Object.defineProperty(HR,"__esModule",{value:!0});const e=MGt(),t=FGt(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return HR.default=n,HR}var WR={},GR={},A0e;function jGt(){if(A0e)return GR;A0e=1,Object.defineProperty(GR,"__esModule",{value:!0});const e=Jn(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:s,schemaCode:o})=>(0,e.str)`must be ${n[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,e._)`{comparison: ${n[s].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(s){const{keyword:o,data:a,schemaCode:l}=s;s.fail$data((0,e._)`${a} ${n[o].fail} ${l} || isNaN(${a})`)}};return GR.default=i,GR}var YR={},I0e;function BGt(){if(I0e)return YR;I0e=1,Object.defineProperty(YR,"__esModule",{value:!0});const e=Jn(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:s,schemaCode:o,it:a}=r,l=a.opts.multipleOfPrecision,u=i.let("res"),c=l?(0,e._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${l}`:(0,e._)`${u} !== parseInt(${u})`;r.fail$data((0,e._)`(${o} === 0 || (${u} = ${s}/${o}, ${c}))`)}};return YR.default=n,YR}var KR={},XR={},R0e;function zGt(){if(R0e)return XR;R0e=1,Object.defineProperty(XR,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,s;for(;i<n;)r++,s=t.charCodeAt(i++),s>=55296&&s<=56319&&i<n&&(s=t.charCodeAt(i),(s&64512)===56320&&i++);return r}return XR.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',XR}var D0e;function UGt(){if(D0e)return KR;D0e=1,Object.defineProperty(KR,"__esModule",{value:!0});const e=Jn(),t=Ir(),n=zGt(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const a=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${o} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:o,data:a,schemaCode:l,it:u}=s,c=o==="maxLength"?e.operators.GT:e.operators.LT,d=u.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(s.gen,n.default)}(${a})`;s.fail$data((0,e._)`${d} ${c} ${l}`)}};return KR.default=i,KR}var QR={},P0e;function qGt(){if(P0e)return QR;P0e=1,Object.defineProperty(QR,"__esModule",{value:!0});const e=of(),t=Jn(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:s,$data:o,schema:a,schemaCode:l,it:u}=i,c=u.opts.unicodeRegExp?"u":"",d=o?(0,t._)`(new RegExp(${l}, ${c}))`:(0,e.usePattern)(i,a);i.fail$data((0,t._)`!${d}.test(${s})`)}};return QR.default=r,QR}var JR={},O0e;function HGt(){if(O0e)return JR;O0e=1,Object.defineProperty(JR,"__esModule",{value:!0});const e=Jn(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,a=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${s}).length ${a} ${o}`)}};return JR.default=n,JR}var ZR={},N0e;function VGt(){if(N0e)return ZR;N0e=1,Object.defineProperty(ZR,"__esModule",{value:!0});const e=of(),t=Jn(),n=Ir(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,t.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,t._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:a,schemaCode:l,data:u,$data:c,it:d}=s,{opts:f}=d;if(!c&&a.length===0)return;const h=a.length>=f.loopRequired;if(d.allErrors?p():m(),f.strictRequired){const y=s.parentSchema.properties,{definedProperties:w}=s.it;for(const E of a)if((y==null?void 0:y[E])===void 0&&!w.has(E)){const C=d.schemaEnv.baseId+d.errSchemaPath,S=`required property "${E}" is not defined at "${C}" (strictRequired)`;(0,n.checkStrictMode)(d,S,d.opts.strictRequired)}}function p(){if(h||c)s.block$data(t.nil,g);else for(const y of a)(0,e.checkReportMissingProp)(s,y)}function m(){const y=o.let("missing");if(h||c){const w=o.let("valid",!0);s.block$data(w,()=>v(y,w)),s.ok(w)}else o.if((0,e.checkMissingProp)(s,a,y)),(0,e.reportMissingProp)(s,y),o.else()}function g(){o.forOf("prop",l,y=>{s.setParams({missingProperty:y}),o.if((0,e.noPropertyInData)(o,u,y,f.ownProperties),()=>s.error())})}function v(y,w){s.setParams({missingProperty:y}),o.forOf(y,l,()=>{o.assign(w,(0,e.propertyInData)(o,u,y,f.ownProperties)),o.if((0,t.not)(w),()=>{s.error(),o.break()})},t.nil)}}};return ZR.default=i,ZR}var e3={},$0e;function WGt(){if($0e)return e3;$0e=1,Object.defineProperty(e3,"__esModule",{value:!0});const e=Jn(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,a=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${s}.length ${a} ${o}`)}};return e3.default=n,e3}var t3={},n3={},M0e;function Kee(){if(M0e)return n3;M0e=1,Object.defineProperty(n3,"__esModule",{value:!0});const e=WK();return e.code='require("ajv/dist/runtime/equal").default',n3.default=e,n3}var F0e;function GGt(){if(F0e)return t3;F0e=1,Object.defineProperty(t3,"__esModule",{value:!0});const e=dN(),t=Jn(),n=Ir(),r=Kee(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${o} are identical)`,params:({params:{i:o,j:a}})=>(0,t._)`{i: ${o}, j: ${a}}`},code(o){const{gen:a,data:l,$data:u,schema:c,parentSchema:d,schemaCode:f,it:h}=o;if(!u&&!c)return;const p=a.let("valid"),m=d.items?(0,e.getSchemaTypes)(d.items):[];o.block$data(p,g,(0,t._)`${f} === false`),o.ok(p);function g(){const E=a.let("i",(0,t._)`${l}.length`),C=a.let("j");o.setParams({i:E,j:C}),a.assign(p,!0),a.if((0,t._)`${E} > 1`,()=>(v()?y:w)(E,C))}function v(){return m.length>0&&!m.some(E=>E==="object"||E==="array")}function y(E,C){const S=a.name("item"),T=(0,e.checkDataTypes)(m,S,h.opts.strictNumbers,e.DataType.Wrong),k=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${E}--;`,()=>{a.let(S,(0,t._)`${l}[${E}]`),a.if(T,(0,t._)`continue`),m.length>1&&a.if((0,t._)`typeof ${S} == "string"`,(0,t._)`${S} += "_"`),a.if((0,t._)`typeof ${k}[${S}] == "number"`,()=>{a.assign(C,(0,t._)`${k}[${S}]`),o.error(),a.assign(p,!1).break()}).code((0,t._)`${k}[${S}] = ${E}`)})}function w(E,C){const S=(0,n.useFunc)(a,r.default),T=a.name("outer");a.label(T).for((0,t._)`;${E}--;`,()=>a.for((0,t._)`${C} = ${E}; ${C}--;`,()=>a.if((0,t._)`${S}(${l}[${E}], ${l}[${C}])`,()=>{o.error(),a.assign(p,!1).break(T)})))}}};return t3.default=s,t3}var r3={},L0e;function YGt(){if(L0e)return r3;L0e=1,Object.defineProperty(r3,"__esModule",{value:!0});const e=Jn(),t=Ir(),n=Kee(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:a,$data:l,schemaCode:u,schema:c}=s;l||c&&typeof c=="object"?s.fail$data((0,e._)`!${(0,t.useFunc)(o,n.default)}(${a}, ${u})`):s.fail((0,e._)`${c} !== ${a}`)}};return r3.default=i,r3}var i3={},j0e;function KGt(){if(j0e)return i3;j0e=1,Object.defineProperty(i3,"__esModule",{value:!0});const e=Jn(),t=Ir(),n=Kee(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:a,$data:l,schema:u,schemaCode:c,it:d}=s;if(!l&&u.length===0)throw new Error("enum must have non-empty array");const f=u.length>=d.opts.loopEnum;let h;const p=()=>h??(h=(0,t.useFunc)(o,n.default));let m;if(f||l)m=o.let("valid"),s.block$data(m,g);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const y=o.const("vSchema",c);m=(0,e.or)(...u.map((w,E)=>v(y,E)))}s.pass(m);function g(){o.assign(m,!1),o.forOf("v",c,y=>o.if((0,e._)`${p()}(${a}, ${y})`,()=>o.assign(m,!0).break()))}function v(y,w){const E=u[w];return typeof E=="object"&&E!==null?(0,e._)`${p()}(${a}, ${y}[${w}])`:(0,e._)`${a} === ${E}`}}};return i3.default=i,i3}var B0e;function XGt(){if(B0e)return WR;B0e=1,Object.defineProperty(WR,"__esModule",{value:!0});const e=jGt(),t=BGt(),n=UGt(),r=qGt(),i=HGt(),s=VGt(),o=WGt(),a=GGt(),l=YGt(),u=KGt(),c=[e.default,t.default,n.default,r.default,i.default,s.default,o.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,u.default];return WR.default=c,WR}var s3={},rw={},z0e;function a6e(){if(z0e)return rw;z0e=1,Object.defineProperty(rw,"__esModule",{value:!0}),rw.validateAdditionalItems=void 0;const e=Jn(),t=Ir(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:a}=s,{items:l}=o;if(!Array.isArray(l)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,l)}};function i(s,o){const{gen:a,schema:l,data:u,keyword:c,it:d}=s;d.items=!0;const f=a.const("len",(0,e._)`${u}.length`);if(l===!1)s.setParams({len:o.length}),s.pass((0,e._)`${f} <= ${o.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(d,l)){const p=a.var("valid",(0,e._)`${f} <= ${o.length}`);a.if((0,e.not)(p),()=>h(p)),s.ok(p)}function h(p){a.forRange("i",o.length,f,m=>{s.subschema({keyword:c,dataProp:m,dataPropType:t.Type.Num},p),d.allErrors||a.if((0,e.not)(p),()=>a.break())})}}return rw.validateAdditionalItems=i,rw.default=r,rw}var o3={},iw={},U0e;function l6e(){if(U0e)return iw;U0e=1,Object.defineProperty(iw,"__esModule",{value:!0}),iw.validateTuple=void 0;const e=Jn(),t=Ir(),n=of(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:a}=s;if(Array.isArray(o))return i(s,"additionalItems",o);a.items=!0,!(0,t.alwaysValidSchema)(a,o)&&s.ok((0,n.validateArray)(s))}};function i(s,o,a=s.schema){const{gen:l,parentSchema:u,data:c,keyword:d,it:f}=s;m(u),f.opts.unevaluated&&a.length&&f.items!==!0&&(f.items=t.mergeEvaluated.items(l,a.length,f.items));const h=l.name("valid"),p=l.const("len",(0,e._)`${c}.length`);a.forEach((g,v)=>{(0,t.alwaysValidSchema)(f,g)||(l.if((0,e._)`${p} > ${v}`,()=>s.subschema({keyword:d,schemaProp:v,dataProp:v},h)),s.ok(h))});function m(g){const{opts:v,errSchemaPath:y}=f,w=a.length,E=w===g.minItems&&(w===g.maxItems||g[o]===!1);if(v.strictTuples&&!E){const C=`"${d}" is ${w}-tuple, but minItems or maxItems/${o} are not specified or different at path "${y}"`;(0,t.checkStrictMode)(f,C,v.strictTuples)}}}return iw.validateTuple=i,iw.default=r,iw}var q0e;function QGt(){if(q0e)return o3;q0e=1,Object.defineProperty(o3,"__esModule",{value:!0});const e=l6e(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return o3.default=t,o3}var a3={},H0e;function JGt(){if(H0e)return a3;H0e=1,Object.defineProperty(a3,"__esModule",{value:!0});const e=Jn(),t=Ir(),n=of(),r=a6e(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:a,parentSchema:l,it:u}=o,{prefixItems:c}=l;u.items=!0,!(0,t.alwaysValidSchema)(u,a)&&(c?(0,r.validateAdditionalItems)(o,c):o.ok((0,n.validateArray)(o)))}};return a3.default=s,a3}var l3={},V0e;function ZGt(){if(V0e)return l3;V0e=1,Object.defineProperty(l3,"__esModule",{value:!0});const e=Jn(),t=Ir(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:o,parentSchema:a,data:l,it:u}=i;let c,d;const{minContains:f,maxContains:h}=a;u.opts.next?(c=f===void 0?1:f,d=h):c=1;const p=s.const("len",(0,e._)`${l}.length`);if(i.setParams({min:c,max:d}),d===void 0&&c===0){(0,t.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&c>d){(0,t.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(u,o)){let w=(0,e._)`${p} >= ${c}`;d!==void 0&&(w=(0,e._)`${w} && ${p} <= ${d}`),i.pass(w);return}u.items=!0;const m=s.name("valid");d===void 0&&c===1?v(m,()=>s.if(m,()=>s.break())):c===0?(s.let(m,!0),d!==void 0&&s.if((0,e._)`${l}.length > 0`,g)):(s.let(m,!1),g()),i.result(m,()=>i.reset());function g(){const w=s.name("_valid"),E=s.let("count",0);v(w,()=>s.if(w,()=>y(E)))}function v(w,E){s.forRange("i",0,p,C=>{i.subschema({keyword:"contains",dataProp:C,dataPropType:t.Type.Num,compositeRule:!0},w),E()})}function y(w){s.code((0,e._)`${w}++`),d===void 0?s.if((0,e._)`${w} >= ${c}`,()=>s.assign(m,!0).break()):(s.if((0,e._)`${w} > ${d}`,()=>s.assign(m,!1).break()),c===1?s.assign(m,!0):s.if((0,e._)`${w} >= ${c}`,()=>s.assign(m,!0)))}}};return l3.default=r,l3}var BB={},W0e;function eYt(){return W0e||(W0e=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Jn(),n=Ir(),r=of();e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=s(l);o(l,u),a(l,c)}};function s({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?u:c;f[d]=l[d]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:d,it:f}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const p in u){const m=u[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,d,p,f.opts.ownProperties);l.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),f.allErrors?c.if(g,()=>{for(const v of m)(0,r.checkReportMissingProp)(l,v)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(l,m,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:d,keyword:f,it:h}=l,p=c.name("valid");for(const m in u)(0,n.alwaysValidSchema)(h,u[m])||(c.if((0,r.propertyInData)(c,d,m,h.opts.ownProperties),()=>{const g=l.subschema({keyword:f,schemaProp:m},p);l.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),l.ok(p))}e.validateSchemaDeps=a,e.default=i})(BB)),BB}var u3={},G0e;function tYt(){if(G0e)return u3;G0e=1,Object.defineProperty(u3,"__esModule",{value:!0});const e=Jn(),t=Ir(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:o,data:a,it:l}=i;if((0,t.alwaysValidSchema)(l,o))return;const u=s.name("valid");s.forIn("key",a,c=>{i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),s.if((0,e.not)(u),()=>{i.error(!0),l.allErrors||s.break()})}),i.ok(u)}};return u3.default=r,u3}var c3={},Y0e;function u6e(){if(Y0e)return c3;Y0e=1,Object.defineProperty(c3,"__esModule",{value:!0});const e=of(),t=Jn(),n=Jg(),r=Ir(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:a,schema:l,parentSchema:u,data:c,errsCount:d,it:f}=o;if(!d)throw new Error("ajv implementation error");const{allErrors:h,opts:p}=f;if(f.props=!0,p.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(f,l))return;const m=(0,e.allSchemaProperties)(u.properties),g=(0,e.allSchemaProperties)(u.patternProperties);v(),o.ok((0,t._)`${d} === ${n.default.errors}`);function v(){a.forIn("key",c,S=>{!m.length&&!g.length?E(S):a.if(y(S),()=>E(S))})}function y(S){let T;if(m.length>8){const k=(0,r.schemaRefOrVal)(f,u.properties,"properties");T=(0,e.isOwnProperty)(a,k,S)}else m.length?T=(0,t.or)(...m.map(k=>(0,t._)`${S} === ${k}`)):T=t.nil;return g.length&&(T=(0,t.or)(T,...g.map(k=>(0,t._)`${(0,e.usePattern)(o,k)}.test(${S})`))),(0,t.not)(T)}function w(S){a.code((0,t._)`delete ${c}[${S}]`)}function E(S){if(p.removeAdditional==="all"||p.removeAdditional&&l===!1){w(S);return}if(l===!1){o.setParams({additionalProperty:S}),o.error(),h||a.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(f,l)){const T=a.name("valid");p.removeAdditional==="failing"?(C(S,T,!1),a.if((0,t.not)(T),()=>{o.reset(),w(S)})):(C(S,T),h||a.if((0,t.not)(T),()=>a.break()))}}function C(S,T,k){const I={keyword:"additionalProperties",dataProp:S,dataPropType:r.Type.Str};k===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(I,T)}}};return c3.default=s,c3}var d3={},K0e;function nYt(){if(K0e)return d3;K0e=1,Object.defineProperty(d3,"__esModule",{value:!0});const e=TM(),t=of(),n=Ir(),r=u6e(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:a,parentSchema:l,data:u,it:c}=s;c.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(c,r.default,"additionalProperties"));const d=(0,t.allSchemaProperties)(a);for(const g of d)c.definedProperties.add(g);c.opts.unevaluated&&d.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(o,(0,n.toHash)(d),c.props));const f=d.filter(g=>!(0,n.alwaysValidSchema)(c,a[g]));if(f.length===0)return;const h=o.name("valid");for(const g of f)p(g)?m(g):(o.if((0,t.propertyInData)(o,u,g,c.opts.ownProperties)),m(g),c.allErrors||o.else().var(h,!0),o.endIf()),s.it.definedProperties.add(g),s.ok(h);function p(g){return c.opts.useDefaults&&!c.compositeRule&&a[g].default!==void 0}function m(g){s.subschema({keyword:"properties",schemaProp:g,dataProp:g},h)}}};return d3.default=i,d3}var f3={},X0e;function rYt(){if(X0e)return f3;X0e=1,Object.defineProperty(f3,"__esModule",{value:!0});const e=of(),t=Jn(),n=Ir(),r=Ir(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:a,data:l,parentSchema:u,it:c}=s,{opts:d}=c,f=(0,e.allSchemaProperties)(a),h=f.filter(E=>(0,n.alwaysValidSchema)(c,a[E]));if(f.length===0||h.length===f.length&&(!c.opts.unevaluated||c.props===!0))return;const p=d.strictSchema&&!d.allowMatchingProperties&&u.properties,m=o.name("valid");c.props!==!0&&!(c.props instanceof t.Name)&&(c.props=(0,r.evaluatedPropsToName)(o,c.props));const{props:g}=c;v();function v(){for(const E of f)p&&y(E),c.allErrors?w(E):(o.var(m,!0),w(E),o.if(m))}function y(E){for(const C in p)new RegExp(E).test(C)&&(0,n.checkStrictMode)(c,`property ${C} matches pattern ${E} (use allowMatchingProperties)`)}function w(E){o.forIn("key",l,C=>{o.if((0,t._)`${(0,e.usePattern)(s,E)}.test(${C})`,()=>{const S=h.includes(E);S||s.subschema({keyword:"patternProperties",schemaProp:E,dataProp:C,dataPropType:r.Type.Str},m),c.opts.unevaluated&&g!==!0?o.assign((0,t._)`${g}[${C}]`,!0):!S&&!c.allErrors&&o.if((0,t.not)(m),()=>o.break())})})}}};return f3.default=i,f3}var h3={},Q0e;function iYt(){if(Q0e)return h3;Q0e=1,Object.defineProperty(h3,"__esModule",{value:!0});const e=Ir(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:s}=n;if((0,e.alwaysValidSchema)(s,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return h3.default=t,h3}var p3={},J0e;function sYt(){if(J0e)return p3;J0e=1,Object.defineProperty(p3,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:of().validateUnion,error:{message:"must match a schema in anyOf"}};return p3.default=t,p3}var m3={},Z0e;function oYt(){if(Z0e)return m3;Z0e=1,Object.defineProperty(m3,"__esModule",{value:!0});const e=Jn(),t=Ir(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:o,parentSchema:a,it:l}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(l.opts.discriminator&&a.discriminator)return;const u=o,c=s.let("valid",!1),d=s.let("passing",null),f=s.name("_valid");i.setParams({passing:d}),s.block(h),i.result(c,()=>i.reset(),()=>i.error(!0));function h(){u.forEach((p,m)=>{let g;(0,t.alwaysValidSchema)(l,p)?s.var(f,!0):g=i.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},f),m>0&&s.if((0,e._)`${f} && ${c}`).assign(c,!1).assign(d,(0,e._)`[${d}, ${m}]`).else(),s.if(f,()=>{s.assign(c,!0),s.assign(d,m),g&&i.mergeEvaluated(g,e.Name)})})}}};return m3.default=r,m3}var g3={},ege;function aYt(){if(ege)return g3;ege=1,Object.defineProperty(g3,"__esModule",{value:!0});const e=Ir(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:s}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((a,l)=>{if((0,e.alwaysValidSchema)(s,a))return;const u=n.subschema({keyword:"allOf",schemaProp:l},o);n.ok(o),n.mergeEvaluated(u)})}};return g3.default=t,g3}var y3={},tge;function lYt(){if(tge)return y3;tge=1,Object.defineProperty(y3,"__esModule",{value:!0});const e=Jn(),t=Ir(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:a,it:l}=s;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const u=i(l,"then"),c=i(l,"else");if(!u&&!c)return;const d=o.let("valid",!0),f=o.name("_valid");if(h(),s.reset(),u&&c){const m=o.let("ifClause");s.setParams({ifClause:m}),o.if(f,p("then",m),p("else",m))}else u?o.if(f,p("then")):o.if((0,e.not)(f),p("else"));s.pass(d,()=>s.error(!0));function h(){const m=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);s.mergeEvaluated(m)}function p(m,g){return()=>{const v=s.subschema({keyword:m},f);o.assign(d,f),s.mergeValidEvaluated(v,d),g?o.assign(g,(0,e._)`${m}`):s.setParams({ifClause:m})}}}};function i(s,o){const a=s.schema[o];return a!==void 0&&!(0,t.alwaysValidSchema)(s,a)}return y3.default=r,y3}var v3={},nge;function uYt(){if(nge)return v3;nge=1,Object.defineProperty(v3,"__esModule",{value:!0});const e=Ir(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return v3.default=t,v3}var rge;function cYt(){if(rge)return s3;rge=1,Object.defineProperty(s3,"__esModule",{value:!0});const e=a6e(),t=QGt(),n=l6e(),r=JGt(),i=ZGt(),s=eYt(),o=tYt(),a=u6e(),l=nYt(),u=rYt(),c=iYt(),d=sYt(),f=oYt(),h=aYt(),p=lYt(),m=uYt();function g(v=!1){const y=[c.default,d.default,f.default,h.default,p.default,m.default,o.default,a.default,s.default,l.default,u.default];return v?y.push(t.default,r.default):y.push(e.default,n.default),y.push(i.default),y}return s3.default=g,s3}var b3={},w3={},ige;function dYt(){if(ige)return w3;ige=1,Object.defineProperty(w3,"__esModule",{value:!0});const e=Jn(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:s,data:o,$data:a,schema:l,schemaCode:u,it:c}=r,{opts:d,errSchemaPath:f,schemaEnv:h,self:p}=c;if(!d.validateFormats)return;a?m():g();function m(){const v=s.scopeValue("formats",{ref:p.formats,code:d.code.formats}),y=s.const("fDef",(0,e._)`${v}[${u}]`),w=s.let("fType"),E=s.let("format");s.if((0,e._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(w,(0,e._)`${y}.type || "string"`).assign(E,(0,e._)`${y}.validate`),()=>s.assign(w,(0,e._)`"string"`).assign(E,y)),r.fail$data((0,e.or)(C(),S()));function C(){return d.strictSchema===!1?e.nil:(0,e._)`${u} && !${E}`}function S(){const T=h.$async?(0,e._)`(${y}.async ? await ${E}(${o}) : ${E}(${o}))`:(0,e._)`${E}(${o})`,k=(0,e._)`(typeof ${E} == "function" ? ${T} : ${E}.test(${o}))`;return(0,e._)`${E} && ${E} !== true && ${w} === ${i} && !${k}`}}function g(){const v=p.formats[l];if(!v){C();return}if(v===!0)return;const[y,w,E]=S(v);y===i&&r.pass(T());function C(){if(d.strictSchema===!1){p.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${l}" ignored in schema at path "${f}"`}}function S(k){const I=k instanceof RegExp?(0,e.regexpCode)(k):d.code.formats?(0,e._)`${d.code.formats}${(0,e.getProperty)(l)}`:void 0,R=s.scopeValue("formats",{key:l,ref:k,code:I});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,e._)`${R}.validate`]:["string",k,R]}function T(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!h.$async)throw new Error("async format in sync schema");return(0,e._)`await ${E}(${o})`}return typeof w=="function"?(0,e._)`${E}(${o})`:(0,e._)`${E}.test(${o})`}}}};return w3.default=n,w3}var sge;function fYt(){if(sge)return b3;sge=1,Object.defineProperty(b3,"__esModule",{value:!0});const t=[dYt().default];return b3.default=t,b3}var Py={},oge;function hYt(){return oge||(oge=1,Object.defineProperty(Py,"__esModule",{value:!0}),Py.contentVocabulary=Py.metadataVocabulary=void 0,Py.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Py.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Py}var age;function pYt(){if(age)return qR;age=1,Object.defineProperty(qR,"__esModule",{value:!0});const e=LGt(),t=XGt(),n=cYt(),r=fYt(),i=hYt(),s=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return qR.default=s,qR}var x3={},BC={},lge;function mYt(){if(lge)return BC;lge=1,Object.defineProperty(BC,"__esModule",{value:!0}),BC.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(BC.DiscrError=e={})),BC}var uge;function gYt(){if(uge)return x3;uge=1,Object.defineProperty(x3,"__esModule",{value:!0});const e=Jn(),t=mYt(),n=Yee(),r=kM(),i=Ir(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:l}})=>a===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,e._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},code(a){const{gen:l,data:u,schema:c,parentSchema:d,it:f}=a,{oneOf:h}=d;if(!f.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=c.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const m=l.let("valid",!1),g=l.const("tag",(0,e._)`${u}${(0,e.getProperty)(p)}`);l.if((0,e._)`typeof ${g} == "string"`,()=>v(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:g,tagName:p})),a.ok(m);function v(){const E=w();l.if(!1);for(const C in E)l.elseIf((0,e._)`${g} === ${C}`),l.assign(m,y(E[C]));l.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:g,tagName:p}),l.endIf()}function y(E){const C=l.name("valid"),S=a.subschema({keyword:"oneOf",schemaProp:E},C);return a.mergeEvaluated(S,e.Name),C}function w(){var E;const C={},S=k(d);let T=!0;for(let O=0;O<h.length;O++){let M=h[O];if(M!=null&&M.$ref&&!(0,i.schemaHasRulesButRef)(M,f.self.RULES)){const L=M.$ref;if(M=n.resolveRef.call(f.self,f.schemaEnv.root,f.baseId,L),M instanceof n.SchemaEnv&&(M=M.schema),M===void 0)throw new r.default(f.opts.uriResolver,f.baseId,L)}const $=(E=M==null?void 0:M.properties)===null||E===void 0?void 0:E[p];if(typeof $!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);T=T&&(S||k(M)),I($,O)}if(!T)throw new Error(`discriminator: "${p}" must be required`);return C;function k({required:O}){return Array.isArray(O)&&O.includes(p)}function I(O,M){if(O.const)R(O.const,M);else if(O.enum)for(const $ of O.enum)R($,M);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function R(O,M){if(typeof O!="string"||O in C)throw new Error(`discriminator: "${p}" values must be unique strings`);C[O]=M}}}};return x3.default=o,x3}const yYt="http://json-schema.org/draft-07/schema#",vYt="http://json-schema.org/draft-07/schema#",bYt="Core schema meta-schema",wYt={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},xYt=["object","boolean"],_Yt={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},EYt={$schema:yYt,$id:vYt,title:bYt,definitions:wYt,type:xYt,properties:_Yt,default:!0};var cge;function CYt(){return cge||(cge=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=$Gt(),r=pYt(),i=gYt(),s=EYt,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=TM();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=Jn();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=Gee();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=kM();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(LR,LR.exports)),LR.exports}var SYt=CYt();const Xee=qs(SYt),Qee=Symbol.for("yaml.alias"),KH=Symbol.for("yaml.document"),J0=Symbol.for("yaml.map"),c6e=Symbol.for("yaml.pair"),xh=Symbol.for("yaml.scalar"),wE=Symbol.for("yaml.seq"),hc=Symbol.for("yaml.node.type"),rb=e=>!!e&&typeof e=="object"&&e[hc]===Qee,AM=e=>!!e&&typeof e=="object"&&e[hc]===KH,bA=e=>!!e&&typeof e=="object"&&e[hc]===J0,cs=e=>!!e&&typeof e=="object"&&e[hc]===c6e,hi=e=>!!e&&typeof e=="object"&&e[hc]===xh,wA=e=>!!e&&typeof e=="object"&&e[hc]===wE;function is(e){if(e&&typeof e=="object")switch(e[hc]){case J0:case wE:return!0}return!1}function os(e){if(e&&typeof e=="object")switch(e[hc]){case Qee:case J0:case xh:case wE:return!0}return!1}const d6e=e=>(hi(e)||is(e))&&!!e.anchor,Gy=Symbol("break visit"),TYt=Symbol("skip children"),p2=Symbol("remove node");function xE(e,t){const n=kYt(t);AM(e)?Bw(null,e.contents,n,Object.freeze([e]))===p2&&(e.contents=null):Bw(null,e,n,Object.freeze([]))}xE.BREAK=Gy;xE.SKIP=TYt;xE.REMOVE=p2;function Bw(e,t,n,r){const i=AYt(e,t,n,r);if(os(i)||cs(i))return IYt(e,r,i),Bw(e,i,n,r);if(typeof i!="symbol"){if(is(t)){r=Object.freeze(r.concat(t));for(let s=0;s<t.items.length;++s){const o=Bw(s,t.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===Gy)return Gy;o===p2&&(t.items.splice(s,1),s-=1)}}}else if(cs(t)){r=Object.freeze(r.concat(t));const s=Bw("key",t.key,n,r);if(s===Gy)return Gy;s===p2&&(t.key=null);const o=Bw("value",t.value,n,r);if(o===Gy)return Gy;o===p2&&(t.value=null)}}return i}function kYt(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function AYt(e,t,n,r){var i,s,o,a,l;if(typeof n=="function")return n(e,t,r);if(bA(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(wA(t))return(s=n.Seq)==null?void 0:s.call(n,e,t,r);if(cs(t))return(o=n.Pair)==null?void 0:o.call(n,e,t,r);if(hi(t))return(a=n.Scalar)==null?void 0:a.call(n,e,t,r);if(rb(t))return(l=n.Alias)==null?void 0:l.call(n,e,t,r)}function IYt(e,t,n){const r=t[t.length-1];if(is(r))r.items[e]=n;else if(cs(r))e==="key"?r.key=n:r.value=n;else if(AM(r))r.contents=n;else{const i=rb(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const RYt={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},DYt=e=>e.replace(/[!,[\]{}]/g,t=>RYt[t]);class Fa{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Fa.defaultYaml,t),this.tags=Object.assign({},Fa.defaultTags,n)}clone(){const t=new Fa(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Fa(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Fa.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Fa.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Fa.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Fa.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const s=this.tags[r];if(s)try{return s+decodeURIComponent(i)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+DYt(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&os(t.contents)){const s={};xE(t.contents,(o,a)=>{os(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(const[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}}Fa.defaultYaml={explicit:!1,version:"1.2"};Fa.defaultTags={"!!":"tag:yaml.org,2002:"};function f6e(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function h6e(e){const t=new Set;return xE(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function p6e(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function PYt(e,t){const n=[],r=new Map;let i=null;return{onAnchor:s=>{n.push(s),i??(i=h6e(e));const o=p6e(t,i);return i.add(o),o},setAnchors:()=>{for(const s of n){const o=r.get(s);if(typeof o=="object"&&o.anchor&&(hi(o.node)||is(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:r}}function zw(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const o=r[i],a=zw(e,r,String(i),o);a===void 0?delete r[i]:a!==o&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),o=zw(e,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(const i of Array.from(r)){const s=zw(e,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const o=zw(e,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return e.call(t,n,r)}function tc(e,t,n){if(Array.isArray(e))return e.map((r,i)=>tc(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!d6e(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class Jee{constructor(t){Object.defineProperty(this,hc,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!AM(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=tc(this,"",o);if(typeof i=="function")for(const{count:l,res:u}of o.anchors.values())i(u,l);return typeof s=="function"?zw(s,{"":a},"",a):a}}class Zee extends Jee{constructor(t){super(Qee),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,n){let r;n!=null&&n.aliasResolveCache?r=n.aliasResolveCache:(r=[],xE(t,{Node:(s,o)=>{(rb(o)||d6e(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let i;for(const s of r){if(s===this)break;s.anchor===this.source&&(i=s)}return i}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(tc(o,null,n),a=r.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=_P(i,o,r)),a.count*a.aliasCount>s)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(f6e(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(t.implicitKey)return`${i} `}return i}}function _P(e,t,n){if(rb(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(is(t)){let r=0;for(const i of t.items){const s=_P(e,i,n);s>r&&(r=s)}return r}else if(cs(t)){const r=_P(e,t.key,n),i=_P(e,t.value,n);return Math.max(r,i)}return 1}const m6e=e=>!e||typeof e!="function"&&typeof e!="object";class In extends Jee{constructor(t){super(xh),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:tc(this.value,t,n)}toString(){return String(this.value)}}In.BLOCK_FOLDED="BLOCK_FOLDED";In.BLOCK_LITERAL="BLOCK_LITERAL";In.PLAIN="PLAIN";In.QUOTE_DOUBLE="QUOTE_DOUBLE";In.QUOTE_SINGLE="QUOTE_SINGLE";const OYt="tag:yaml.org,2002:";function NYt(e,t,n){if(t){const r=n.filter(s=>s.tag===t),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function PT(e,t,n){var d,f,h;if(AM(e)&&(e=e.contents),os(e))return e;if(cs(e)){const p=(f=(d=n.schema[J0]).createNode)==null?void 0:f.call(d,n.schema,null,n);return p.items.push(e),p}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=n;let l;if(r&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=i(e)),new Zee(l.anchor);l={anchor:null,node:null},a.set(e,l)}t!=null&&t.startsWith("!!")&&(t=OYt+t.slice(2));let u=NYt(e,t,o.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const p=new In(e);return l&&(l.node=p),p}u=e instanceof Map?o[J0]:Symbol.iterator in Object(e)?o[wE]:o[J0]}s&&(s(u),delete n.onTagObj);const c=u!=null&&u.createNode?u.createNode(n.schema,e,n):typeof((h=u==null?void 0:u.nodeClass)==null?void 0:h.from)=="function"?u.nodeClass.from(n.schema,e,n):new In(e);return t?c.tag=t:u.default||(c.tag=u.tag),l&&(l.node=c),c}function fN(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const s=t[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return PT(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const NS=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class g6e extends Jee{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>os(r)||cs(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(NS(t))this.add(n);else{const[r,...i]=t,s=this.get(r,!0);if(is(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,fN(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(is(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,s=this.get(r,!0);return i.length===0?!n&&hi(s)?s.value:s:is(s)?s.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!cs(n))return!1;const r=n.value;return r==null||t&&hi(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return is(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(is(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,fN(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const $Yt=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Np(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const gv=(e,t,n)=>e.endsWith(`
`)?Np(n,t):n.includes(`
`)?`
`+Np(n,t):(e.endsWith(" ")?"":" ")+n,y6e="flow",XH="block",EP="quoted";function IM(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return e;i<s&&(s=0);const l=Math.max(1+s,1+i-t.length);if(e.length<=l)return e;const u=[],c={};let d=i-t.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):d=i-r);let f,h,p=!1,m=-1,g=-1,v=-1;n===XH&&(m=dge(e,m,t.length),m!==-1&&(d=m+l));for(let w;w=e[m+=1];){if(n===EP&&w==="\\"){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}v=m}if(w===`
`)n===XH&&(m=dge(e,m,t.length)),d=m+t.length+l,f=void 0;else{if(w===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const E=e[m+1];E&&E!==" "&&E!==`
`&&E!=="	"&&(f=m)}if(m>=d)if(f)u.push(f),d=f+l,f=void 0;else if(n===EP){for(;h===" "||h==="	";)h=w,w=e[m+=1],p=!0;const E=m>v+1?m-2:g-1;if(c[E])return e;u.push(E),c[E]=!0,d=E+l,f=void 0}else p=!0}h=w}if(p&&a&&a(),u.length===0)return e;o&&o();let y=e.slice(0,u[0]);for(let w=0;w<u.length;++w){const E=u[w],C=u[w+1]||e.length;E===0?y=`
${t}${e.slice(0,C)}`:(n===EP&&c[E]&&(y+=`${e[E]}\\`),y+=`
${t}${e.slice(E+1,C)}`)}return y}function dge(e,t,n){let r=t,i=t+1,s=e[i];for(;s===" "||s==="	";)if(t<i+n)s=e[++t];else{do s=e[++t];while(s&&s!==`
`);r=t,i=t+1,s=e[i]}return r}const RM=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),DM=e=>/^(%|---|\.\.\.)/m.test(e);function MYt(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(e[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function m2(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(DM(e)?"  ":"");let o="",a=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const c=n.substr(l+2,4);switch(c){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:c.substr(0,2)==="00"?o+="\\x"+c.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=s,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:IM(o,s,EP,RM(t,!1))}function QH(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return m2(e,t);const n=t.indent||(DM(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:IM(r,n,y6e,RM(t,!1))}function Uw(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=m2;else{const i=e.includes('"'),s=e.includes("'");i&&!s?r=QH:s&&!i?r=m2:r=n?QH:m2}return r(e,t)}let JH;try{JH=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{JH=/\n+(?!\n|$)/g}function CP({comment:e,type:t,value:n},r,i,s){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return Uw(n,r);const u=r.indent||(r.forceBlockIndent||DM(n)?"  ":""),c=o==="literal"?!0:o==="folded"||t===In.BLOCK_FOLDED?!1:t===In.BLOCK_LITERAL?!0:!MYt(n,l,u.length);if(!n)return c?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const C=n[f-1];if(C!==`
`&&C!=="	"&&C!==" ")break}let h=n.substring(f);const p=h.indexOf(`
`);p===-1?d="-":n===h||p!==h.length-1?(d="+",s&&s()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(JH,`$&${u}`));let m=!1,g,v=-1;for(g=0;g<n.length;++g){const C=n[g];if(C===" ")m=!0;else if(C===`
`)v=g;else break}let y=n.substring(0,v<g?v+1:g);y&&(n=n.substring(y.length),y=y.replace(/\n+/g,`$&${u}`));let E=(m?u?"2":"1":"")+d;if(e&&(E+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!c){const C=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let S=!1;const T=RM(r,!0);o!=="folded"&&t!==In.BLOCK_FOLDED&&(T.onOverflow=()=>{S=!0});const k=IM(`${y}${C}${h}`,u,XH,T);if(!S)return`>${E}
${u}${k}`}return n=n.replace(/\n+/g,`$&${u}`),`|${E}
${u}${y}${n}${h}`}function FYt(e,t,n,r){const{type:i,value:s}=e,{actualString:o,implicitKey:a,indent:l,indentStep:u,inFlow:c}=t;if(a&&s.includes(`
`)||c&&/[[\]{},]/.test(s))return Uw(s,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||c||!s.includes(`
`)?Uw(s,t):CP(e,t,n,r);if(!a&&!c&&i!==In.PLAIN&&s.includes(`
`))return CP(e,t,n,r);if(DM(s)){if(l==="")return t.forceBlockIndent=!0,CP(e,t,n,r);if(a&&l===u)return Uw(s,t)}const d=s.replace(/\n+/g,`$&
${l}`);if(o){const f=m=>{var g;return m.default&&m.tag!=="tag:yaml.org,2002:str"&&((g=m.test)==null?void 0:g.test(d))},{compat:h,tags:p}=t.doc.schema;if(p.some(f)||h!=null&&h.some(f))return Uw(s,t)}return a?d:IM(d,l,y6e,RM(t,!1))}function ete(e,t,n,r){const{implicitKey:i,inFlow:s}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==In.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=In.QUOTE_DOUBLE);const l=c=>{switch(c){case In.BLOCK_FOLDED:case In.BLOCK_LITERAL:return i||s?Uw(o.value,t):CP(o,t,n,r);case In.QUOTE_DOUBLE:return m2(o.value,t);case In.QUOTE_SINGLE:return QH(o.value,t);case In.PLAIN:return FYt(o,t,n,r);default:return null}};let u=l(a);if(u===null){const{defaultKeyType:c,defaultStringType:d}=t.options,f=i&&c||d;if(u=l(f),u===null)throw new Error(`Unsupported default string type ${f}`)}return u}function v6e(e,t){const n=Object.assign({blockQuote:!0,commentString:$Yt,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function LYt(e,t){var i;if(t.tag){const s=e.filter(o=>o.tag===t.tag);if(s.length>0)return s.find(o=>o.format===t.format)??s[0]}let n,r;if(hi(t)){r=t.value;let s=e.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,r)});if(s.length>1){const o=s.filter(a=>a.test);o.length>0&&(s=o)}n=s.find(o=>o.format===t.format)??s.find(o=>!o.format)}else r=t,n=e.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${s} value`)}return n}function jYt(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(hi(e)||is(e))&&e.anchor;s&&f6e(s)&&(n.add(s),i.push(`&${s}`));const o=e.tag??(t.default?null:t.tag);return o&&i.push(r.directives.tagString(o)),i.join(" ")}function w_(e,t,n,r){var l;if(cs(e))return e.toString(t,n,r);if(rb(e)){if(t.doc.directives)return e.toString(t);if((l=t.resolvedAliases)!=null&&l.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const s=os(e)?e:t.doc.createNode(e,{onTagObj:u=>i=u});i??(i=LYt(t.doc.schema.tags,s));const o=jYt(s,i,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(s,t,n,r):hi(s)?ete(s,t,n,r):s.toString(t,n,r);return o?hi(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${t.indent}${a}`:a}function BYt({key:e,value:t},n,r,i){const{allNullValues:s,doc:o,indent:a,indentStep:l,options:{commentString:u,indentSeq:c,simpleKeys:d}}=n;let f=os(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(is(e)||!os(e)&&typeof e=="object"){const T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let h=!d&&(!e||f&&t==null&&!n.inFlow||is(e)||(hi(e)?e.type===In.BLOCK_FOLDED||e.type===In.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!s),indent:a+l});let p=!1,m=!1,g=w_(e,n,()=>p=!0,()=>m=!0);if(!h&&!n.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(s||t==null)return p&&r&&r(),g===""?"?":h?`? ${g}`:g}else if(s&&!d||t==null&&h)return g=`? ${g}`,f&&!p?g+=gv(g,n.indent,u(f)):m&&i&&i(),g;p&&(f=null),h?(f&&(g+=gv(g,n.indent,u(f))),g=`? ${g}
${a}:`):(g=`${g}:`,f&&(g+=gv(g,n.indent,u(f))));let v,y,w;os(t)?(v=!!t.spaceBefore,y=t.commentBefore,w=t.comment):(v=!1,y=null,w=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!h&&!f&&hi(t)&&(n.indentAtStart=g.length+1),m=!1,!c&&l.length>=2&&!n.inFlow&&!h&&wA(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let E=!1;const C=w_(t,n,()=>E=!0,()=>m=!0);let S=" ";if(f||v||y){if(S=v?`
`:"",y){const T=u(y);S+=`
${Np(T,n.indent)}`}C===""&&!n.inFlow?S===`
`&&(S=`

`):S+=`
${n.indent}`}else if(!h&&is(t)){const T=C[0],k=C.indexOf(`
`),I=k!==-1,R=n.inFlow??t.flow??t.items.length===0;if(I||!R){let O=!1;if(I&&(T==="&"||T==="!")){let M=C.indexOf(" ");T==="&"&&M!==-1&&M<k&&C[M+1]==="!"&&(M=C.indexOf(" ",M+1)),(M===-1||k<M)&&(O=!0)}O||(S=`
${n.indent}`)}}else(C===""||C[0]===`
`)&&(S="");return g+=S+C,n.inFlow?E&&r&&r():w&&!E?g+=gv(g,n.indent,u(w)):m&&i&&i(),g}function zYt(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const _3="<<",Yp={identify:e=>e===_3||typeof e=="symbol"&&e.description===_3,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new In(Symbol(_3)),{addToJSMap:b6e}),stringify:()=>_3},UYt=(e,t)=>(Yp.identify(t)||hi(t)&&(!t.type||t.type===In.PLAIN)&&Yp.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(n=>n.tag===Yp.tag&&n.default));function b6e(e,t,n){if(n=e&&rb(n)?n.resolve(e.doc):n,wA(n))for(const r of n.items)zB(e,t,r);else if(Array.isArray(n))for(const r of n)zB(e,t,r);else zB(e,t,n)}function zB(e,t,n){const r=e&&rb(n)?n.resolve(e.doc):n;if(!bA(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[s,o]of i)t instanceof Map?t.has(s)||t.set(s,o):t instanceof Set?t.add(s):Object.prototype.hasOwnProperty.call(t,s)||Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function w6e(e,t,{key:n,value:r}){if(os(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(UYt(e,n))b6e(e,t,r);else{const i=tc(n,"",e);if(t instanceof Map)t.set(i,tc(r,i,e));else if(t instanceof Set)t.add(i);else{const s=qYt(n,i,e),o=tc(r,s,e);s in t?Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[s]=o}}return t}function qYt(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(os(e)&&(n!=null&&n.doc)){const r=v6e(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),zYt(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function tte(e,t,n){const r=PT(e,void 0,n),i=PT(t,void 0,n);return new Xa(r,i)}class Xa{constructor(t,n=null){Object.defineProperty(this,hc,{value:c6e}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return os(n)&&(n=n.clone(t)),os(r)&&(r=r.clone(t)),new Xa(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return w6e(n,r,this)}toString(t,n,r){return t!=null&&t.doc?BYt(this,t,n,r):JSON.stringify(this)}}function x6e(e,t,n){return(t.inFlow??e.flow?VYt:HYt)(e,t,n)}function HYt({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:u}}=n,c=Object.assign({},n,{indent:s,type:null});let d=!1;const f=[];for(let p=0;p<t.length;++p){const m=t[p];let g=null;if(os(m))!d&&m.spaceBefore&&f.push(""),hN(n,f,m.commentBefore,d),m.comment&&(g=m.comment);else if(cs(m)){const y=os(m.key)?m.key:null;y&&(!d&&y.spaceBefore&&f.push(""),hN(n,f,y.commentBefore,d))}d=!1;let v=w_(m,c,()=>g=null,()=>d=!0);g&&(v+=gv(v,s,u(g))),d&&g&&(d=!1),f.push(r+v)}let h;if(f.length===0)h=i.start+i.end;else{h=f[0];for(let p=1;p<f.length;++p){const m=f[p];h+=m?`
${l}${m}`:`
`}}return e?(h+=`
`+Np(u(e),l),a&&a()):d&&o&&o(),h}function VYt({items:e},t,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=t;r+=s;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,c=0;const d=[];for(let p=0;p<e.length;++p){const m=e[p];let g=null;if(os(m))m.spaceBefore&&d.push(""),hN(t,d,m.commentBefore,!1),m.comment&&(g=m.comment);else if(cs(m)){const y=os(m.key)?m.key:null;y&&(y.spaceBefore&&d.push(""),hN(t,d,y.commentBefore,!1),y.comment&&(u=!0));const w=os(m.value)?m.value:null;w?(w.comment&&(g=w.comment),w.commentBefore&&(u=!0)):m.value==null&&(y!=null&&y.comment)&&(g=y.comment)}g&&(u=!0);let v=w_(m,l,()=>g=null);p<e.length-1&&(v+=","),g&&(v+=gv(v,r,a(g))),!u&&(d.length>c||v.includes(`
`))&&(u=!0),d.push(v),c=d.length}const{start:f,end:h}=n;if(d.length===0)return f+h;if(!u){const p=d.reduce((m,g)=>m+g.length+2,2);u=t.options.lineWidth>0&&p>t.options.lineWidth}if(u){let p=f;for(const m of d)p+=m?`
${s}${i}${m}`:`
`;return`${p}
${i}${h}`}else return`${f}${o}${d.join(" ")}${o}${h}`}function hN({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const s=Np(t(r),e);n.push(s.trimStart())}}function yv(e,t){const n=hi(t)?t.value:t;for(const r of e)if(cs(r)&&(r.key===t||r.key===n||hi(r.key)&&r.key.value===n))return r}class Wu extends g6e{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(J0,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:s}=r,o=new this(t),a=(l,u)=>{if(typeof s=="function")u=s.call(n,l,u);else if(Array.isArray(s)&&!s.includes(l))return;(u!==void 0||i)&&o.items.push(tte(l,u,r))};if(n instanceof Map)for(const[l,u]of n)a(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){var o;let r;cs(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Xa(t,t==null?void 0:t.value):r=new Xa(t.key,t.value);const i=yv(this.items,r.key),s=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);hi(i.value)&&m6e(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const a=this.items.findIndex(l=>s(r,l)<0);a===-1?this.items.push(r):this.items.splice(a,0,r)}else this.items.push(r)}delete(t){const n=yv(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=yv(this.items,t),i=r==null?void 0:r.value;return(!n&&hi(i)?i.value:i)??void 0}has(t){return!!yv(this.items,t)}set(t,n){this.add(new Xa(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const s of this.items)w6e(n,i,s);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!cs(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),x6e(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const _E={collection:"map",default:!0,nodeClass:Wu,tag:"tag:yaml.org,2002:map",resolve(e,t){return bA(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Wu.from(e,t,n)};class b1 extends g6e{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(wE,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=E3(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=E3(t);if(typeof r!="number")return;const i=this.items[r];return!n&&hi(i)?i.value:i}has(t){const n=E3(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=E3(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];hi(i)&&m6e(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(tc(s,String(i++),n));return r}toString(t,n,r){return t?x6e(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,s=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof i=="function"){const l=n instanceof Set?a:String(o++);a=i.call(n,l,a)}s.items.push(PT(a,void 0,r))}}return s}}function E3(e){let t=hi(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const EE={collection:"seq",default:!0,nodeClass:b1,tag:"tag:yaml.org,2002:seq",resolve(e,t){return wA(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>b1.from(e,t,n)},PM={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),ete(e,t,n,r)}},OM={identify:e=>e==null,createNode:()=>new In(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new In(null),stringify:({source:e},t)=>typeof e=="string"&&OM.test.test(e)?e:t.options.nullStr},nte={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new In(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&nte.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function af({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=t-(s.length-o-1);for(;a-- >0;)s+="0"}return s}const _6e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:af},E6e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():af(e)}},C6e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new In(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:af},NM=e=>typeof e=="bigint"||Number.isInteger(e),rte=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function S6e(e,t,n){const{value:r}=e;return NM(r)&&r>=0?n+r.toString(t):af(e)}const T6e={identify:e=>NM(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>rte(e,2,8,n),stringify:e=>S6e(e,8,"0o")},k6e={identify:NM,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>rte(e,0,10,n),stringify:af},A6e={identify:e=>NM(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>rte(e,2,16,n),stringify:e=>S6e(e,16,"0x")},WYt=[_E,EE,PM,OM,nte,T6e,k6e,A6e,_6e,E6e,C6e];function fge(e){return typeof e=="bigint"||Number.isInteger(e)}const C3=({value:e})=>JSON.stringify(e),GYt=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:C3},{identify:e=>e==null,createNode:()=>new In(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:C3},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:C3},{identify:fge,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>fge(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:C3}],YYt={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},KYt=[_E,EE].concat(GYt,YYt),ite={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,s){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=In.BLOCK_LITERAL),t!==In.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/l),c=new Array(u);for(let d=0,f=0;d<u;++d,f+=l)c[d]=a.substr(f,l);a=c.join(t===In.BLOCK_LITERAL?`
`:" ")}return ete({comment:e,type:t,value:a},r,i,s)}};function I6e(e,t){if(wA(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!cs(r)){if(bA(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new Xa(new In(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=i}e.items[n]=cs(r)?r:new Xa(r)}}else t("Expected a sequence for this tag");return e}function R6e(e,t,n){const{replacer:r}=n,i=new b1(e);i.tag="tag:yaml.org,2002:pairs";let s=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(s++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)a=u[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;i.items.push(tte(a,l,n))}return i}const ste={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:I6e,createNode:R6e};class gx extends b1{constructor(){super(),this.add=Wu.prototype.add.bind(this),this.delete=Wu.prototype.delete.bind(this),this.get=Wu.prototype.get.bind(this),this.has=Wu.prototype.has.bind(this),this.set=Wu.prototype.set.bind(this),this.tag=gx.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let s,o;if(cs(i)?(s=tc(i.key,"",n),o=tc(i.value,s,n)):s=tc(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}static from(t,n,r){const i=R6e(t,n,r),s=new this;return s.items=i.items,s}}gx.tag="tag:yaml.org,2002:omap";const ote={collection:"seq",identify:e=>e instanceof Map,nodeClass:gx,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=I6e(e,t),r=[];for(const{key:i}of n.items)hi(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new gx,n)},createNode:(e,t,n)=>gx.from(e,t,n)};function D6e({value:e,source:t},n){return t&&(e?P6e:O6e).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const P6e={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new In(!0),stringify:D6e},O6e={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new In(!1),stringify:D6e},XYt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:af},QYt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():af(e)}},JYt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new In(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:af},xA=e=>typeof e=="bigint"||Number.isInteger(e);function $M(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return i==="-"?BigInt(-1)*o:o}const s=parseInt(e,n);return i==="-"?-1*s:s}function ate(e,t,n){const{value:r}=e;if(xA(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return af(e)}const ZYt={identify:xA,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>$M(e,2,2,n),stringify:e=>ate(e,2,"0b")},eKt={identify:xA,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>$M(e,1,8,n),stringify:e=>ate(e,8,"0")},tKt={identify:xA,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>$M(e,0,10,n),stringify:af},nKt={identify:xA,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>$M(e,2,16,n),stringify:e=>ate(e,16,"0x")};class yx extends Wu{constructor(t){super(t),this.tag=yx.tag}add(t){let n;cs(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Xa(t.key,null):n=new Xa(t,null),yv(this.items,n.key)||this.items.push(n)}get(t,n){const r=yv(this.items,t);return!n&&cs(r)?hi(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=yv(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Xa(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,s=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),s.items.push(tte(o,null,r));return s}}yx.tag="tag:yaml.org,2002:set";const lte={collection:"map",identify:e=>e instanceof Set,nodeClass:yx,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>yx.from(e,t,n),resolve(e,t){if(bA(e)){if(e.hasAllNullValues(!0))return Object.assign(new yx,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function ute(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=o=>t?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*s:s}function N6e(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return af(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),s=[t%i];return t<60?s.unshift(0):(t=(t-s[0])/i,s.unshift(t%i),t>=60&&(t=(t-s[0])/i,s.unshift(t))),r+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const $6e={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>ute(e,n),stringify:N6e},M6e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>ute(e,!1),stringify:N6e},MM={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(MM.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,s,o,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,i,s||0,o||0,a||0,l);const c=t[8];if(c&&c!=="Z"){let d=ute(c,!1);Math.abs(d)<30&&(d*=60),u-=6e4*d}return new Date(u)},stringify:({value:e})=>(e==null?void 0:e.toISOString().replace(/(T00:00:00)?\.000Z$/,""))??""},hge=[_E,EE,PM,OM,P6e,O6e,ZYt,eKt,tKt,nKt,XYt,QYt,JYt,ite,Yp,ote,ste,lte,$6e,M6e,MM],pge=new Map([["core",WYt],["failsafe",[_E,EE,PM]],["json",KYt],["yaml11",hge],["yaml-1.1",hge]]),mge={binary:ite,bool:nte,float:C6e,floatExp:E6e,floatNaN:_6e,floatTime:M6e,int:k6e,intHex:A6e,intOct:T6e,intTime:$6e,map:_E,merge:Yp,null:OM,omap:ote,pairs:ste,seq:EE,set:lte,timestamp:MM},rKt={"tag:yaml.org,2002:binary":ite,"tag:yaml.org,2002:merge":Yp,"tag:yaml.org,2002:omap":ote,"tag:yaml.org,2002:pairs":ste,"tag:yaml.org,2002:set":lte,"tag:yaml.org,2002:timestamp":MM};function UB(e,t,n){const r=pge.get(t);if(r&&!e)return n&&!r.includes(Yp)?r.concat(Yp):r.slice();let i=r;if(!i)if(Array.isArray(e))i=[];else{const s=Array.from(pge.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${s} or define customTags array`)}if(Array.isArray(e))for(const s of e)i=i.concat(s);else typeof e=="function"&&(i=e(i.slice()));return n&&(i=i.concat(Yp)),i.reduce((s,o)=>{const a=typeof o=="string"?mge[o]:o;if(!a){const l=JSON.stringify(o),u=Object.keys(mge).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return s.includes(a)||s.push(a),s},[])}const iKt=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class cte{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(t)?UB(t,"compat"):t?UB(null,t):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?rKt:{},this.tags=UB(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,J0,{value:_E}),Object.defineProperty(this,xh,{value:PM}),Object.defineProperty(this,wE,{value:EE}),this.sortMapEntries=typeof o=="function"?o:o===!0?iKt:null}clone(){const t=Object.create(cte.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function sKt(e,t){var l;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const u=e.directives.toString(e);u?(n.push(u),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=v6e(e,t),{commentString:s}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const u=s(e.commentBefore);n.unshift(Np(u,""))}let o=!1,a=null;if(e.contents){if(os(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const d=s(e.contents.commentBefore);n.push(Np(d,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const u=a?void 0:()=>o=!0;let c=w_(e.contents,i,()=>a=null,u);a&&(c+=gv(c,"",s(a))),(c[0]==="|"||c[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${c}`:n.push(c)}else n.push(w_(e.contents,i));if((l=e.directives)!=null&&l.docEnd)if(e.comment){const u=s(e.comment);u.includes(`
`)?(n.push("..."),n.push(Np(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=e.comment;u&&o&&(u=u.replace(/^\n+/,"")),u&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Np(s(u),"")))}return n.join(`
`)+`
`}class FM{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,hc,{value:KH});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Fa({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(FM.prototype,{[hc]:{value:KH}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=os(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){sw(this.contents)&&this.contents.add(t)}addIn(t,n){sw(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=h6e(this);t.anchor=!n||r.has(n)?p6e(n||"a",r):n}return new Zee(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const g=y=>typeof y=="number"||y instanceof String||y instanceof Number,v=n.filter(g).map(String);v.length>0&&(n=n.concat(v)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:u,tag:c}=r??{},{onAnchor:d,setAnchors:f,sourceObjects:h}=PYt(this,o||"a"),p={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:h},m=PT(t,c,p);return a&&is(m)&&(m.flow=!0),f(),m}createPair(t,n,r={}){const i=this.createNode(t,null,r),s=this.createNode(n,null,r);return new Xa(i,s)}delete(t){return sw(this.contents)?this.contents.delete(t):!1}deleteIn(t){return NS(t)?this.contents==null?!1:(this.contents=null,!0):sw(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return is(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return NS(t)?!n&&hi(this.contents)?this.contents.value:this.contents:is(this.contents)?this.contents.getIn(t,n):void 0}has(t){return is(this.contents)?this.contents.has(t):!1}hasIn(t){return NS(t)?this.contents!==void 0:is(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=fN(this.schema,[t],n):sw(this.contents)&&this.contents.set(t,n)}setIn(t,n){NS(t)?this.contents=n:this.contents==null?this.contents=fN(this.schema,Array.from(t),n):sw(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Fa({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Fa({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new cte(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=tc(this.contents,n??"",a);if(typeof s=="function")for(const{count:u,res:c}of a.anchors.values())s(c,u);return typeof o=="function"?zw(o,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return sKt(this,t)}}function sw(e){if(is(e))return!0;throw new Error("Expected a YAML collection as document contents")}class F6e extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class $S extends F6e{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class oKt extends F6e{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const gge=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const a=Math.min(s-39,o.length-79);o=""+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,s))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-s)));const u=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};function x_(e,{flow:t,indicator:n,next:r,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let l=!1,u=a,c=a,d="",f="",h=!1,p=!1,m=null,g=null,v=null,y=null,w=null,E=null,C=null;for(const k of e)switch(p&&(k.type!=="space"&&k.type!=="newline"&&k.type!=="comma"&&s(k.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),m&&(u&&k.type!=="comment"&&k.type!=="newline"&&s(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),k.type){case"space":!t&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&k.source.includes("	")&&(m=k),c=!0;break;case"comment":{c||s(k,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const I=k.source.substring(1)||" ";d?d+=f+I:d=I,f="",u=!1;break}case"newline":u?d?d+=k.source:(!E||n!=="seq-item-ind")&&(l=!0):f+=k.source,u=!0,h=!0,(g||v)&&(y=k),c=!0;break;case"anchor":g&&s(k,"MULTIPLE_ANCHORS","A node can have at most one anchor"),k.source.endsWith(":")&&s(k.offset+k.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=k,C??(C=k.offset),u=!1,c=!1,p=!0;break;case"tag":{v&&s(k,"MULTIPLE_TAGS","A node can have at most one tag"),v=k,C??(C=k.offset),u=!1,c=!1,p=!0;break}case n:(g||v)&&s(k,"BAD_PROP_ORDER",`Anchors and tags must be after the ${k.source} indicator`),E&&s(k,"UNEXPECTED_TOKEN",`Unexpected ${k.source} in ${t??"collection"}`),E=k,u=n==="seq-item-ind"||n==="explicit-key-ind",c=!1;break;case"comma":if(t){w&&s(k,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),w=k,u=!1,c=!1;break}default:s(k,"UNEXPECTED_TOKEN",`Unexpected ${k.type} token`),u=!1,c=!1}const S=e[e.length-1],T=S?S.offset+S.source.length:i;return p&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(u&&m.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&s(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:w,found:E,spaceBefore:l,comment:d,hasNewline:h,anchor:g,tag:v,newlineAfterProp:y,end:T,start:C??T}}function OT(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(OT(t.key)||OT(t.value))return!0}return!1;default:return!0}}function ZH(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&OT(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function L6e(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(s,o)=>s===o||hi(s)&&hi(o)&&s.value===o.value;return t.some(s=>i(s.key,n))}const yge="All mapping items must start at the same column";function aKt({composeNode:e,composeEmptyNode:t},n,r,i,s){var c;const o=(s==null?void 0:s.nodeClass)??Wu,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const d of r.items){const{start:f,key:h,sep:p,value:m}=d,g=x_(f,{indicator:"explicit-key-ind",next:h??(p==null?void 0:p[0]),offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0}),v=!g.found;if(v){if(h&&(h.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==r.indent&&i(l,"BAD_INDENT",yge)),!g.anchor&&!g.tag&&!p){u=g.end,g.comment&&(a.comment?a.comment+=`
`+g.comment:a.comment=g.comment);continue}(g.newlineAfterProp||OT(h))&&i(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((c=g.found)==null?void 0:c.indent)!==r.indent&&i(l,"BAD_INDENT",yge);n.atKey=!0;const y=g.end,w=h?e(n,h,g,i):t(n,y,f,null,g,i);n.schema.compat&&ZH(r.indent,h,i),n.atKey=!1,L6e(n,a.items,w)&&i(y,"DUPLICATE_KEY","Map keys must be unique");const E=x_(p??[],{indicator:"map-value-ind",next:m,offset:w.range[2],onError:i,parentIndent:r.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=E.end,E.found){v&&((m==null?void 0:m.type)==="block-map"&&!E.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&g.start<E.found.offset-1024&&i(w.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const C=m?e(n,m,E,i):t(n,l,p,null,E,i);n.schema.compat&&ZH(r.indent,m,i),l=C.range[2];const S=new Xa(w,C);n.options.keepSourceTokens&&(S.srcToken=d),a.items.push(S)}else{v&&i(w.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),E.comment&&(w.comment?w.comment+=`
`+E.comment:w.comment=E.comment);const C=new Xa(w);n.options.keepSourceTokens&&(C.srcToken=d),a.items.push(C)}}return u&&u<l&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,u??l],a}function lKt({composeNode:e,composeEmptyNode:t},n,r,i,s){const o=(s==null?void 0:s.nodeClass)??b1,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:c,value:d}of r.items){const f=x_(c,{indicator:"seq-item-ind",next:d,offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||d)d&&d.type==="block-seq"?i(f.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{u=f.end,f.comment&&(a.comment=f.comment);continue}const h=d?e(n,d,f,i):t(n,f.end,c,null,f,i);n.schema.compat&&ZH(r.indent,d,i),l=h.range[2],a.items.push(h)}return a.range=[r.offset,l,u??l],a}function _A(e,t,n,r){let i="";if(e){let s=!1,o="";for(const a of e){const{source:l,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{n&&!s&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const c=l.substring(1)||" ";i?i+=o+c:i=c,o="";break}case"newline":i&&(o+=l),s=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=l.length}}return{comment:i,offset:t}}const qB="Block collections are not allowed within flow collections",HB=e=>e&&(e.type==="block-map"||e.type==="block-seq");function uKt({composeNode:e,composeEmptyNode:t},n,r,i,s){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=(s==null?void 0:s.nodeClass)??(o?Wu:b1),u=new l(n.schema);u.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=r.offset+r.start.source.length;for(let g=0;g<r.items.length;++g){const v=r.items[g],{start:y,key:w,sep:E,value:C}=v,S=x_(y,{flow:a,indicator:"explicit-key-ind",next:w??(E==null?void 0:E[0]),offset:d,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!E&&!C){g===0&&S.comma?i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):g<r.items.length-1&&i(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),S.comment&&(u.comment?u.comment+=`
`+S.comment:u.comment=S.comment),d=S.end;continue}!o&&n.options.strict&&OT(w)&&i(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)S.comma&&i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(S.comma||i(S.start,"MISSING_CHAR",`Missing , between ${a} items`),S.comment){let T="";e:for(const k of y)switch(k.type){case"comma":case"space":break;case"comment":T=k.source.substring(1);break e;default:break e}if(T){let k=u.items[u.items.length-1];cs(k)&&(k=k.value??k.key),k.comment?k.comment+=`
`+T:k.comment=T,S.comment=S.comment.substring(T.length+1)}}if(!o&&!E&&!S.found){const T=C?e(n,C,S,i):t(n,S.end,E,null,S,i);u.items.push(T),d=T.range[2],HB(C)&&i(T.range,"BLOCK_IN_FLOW",qB)}else{n.atKey=!0;const T=S.end,k=w?e(n,w,S,i):t(n,T,y,null,S,i);HB(w)&&i(k.range,"BLOCK_IN_FLOW",qB),n.atKey=!1;const I=x_(E??[],{flow:a,indicator:"map-value-ind",next:C,offset:k.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(I.found){if(!o&&!S.found&&n.options.strict){if(E)for(const M of E){if(M===I.found)break;if(M.type==="newline"){i(M,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<I.found.offset-1024&&i(I.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else C&&("source"in C&&C.source&&C.source[0]===":"?i(C,"MISSING_CHAR",`Missing space after : in ${a}`):i(I.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const R=C?e(n,C,I,i):I.found?t(n,I.end,E,null,I,i):null;R?HB(C)&&i(R.range,"BLOCK_IN_FLOW",qB):I.comment&&(k.comment?k.comment+=`
`+I.comment:k.comment=I.comment);const O=new Xa(k,R);if(n.options.keepSourceTokens&&(O.srcToken=v),o){const M=u;L6e(n,M.items,k)&&i(T,"DUPLICATE_KEY","Map keys must be unique"),M.items.push(O)}else{const M=new Wu(n.schema);M.flow=!0,M.items.push(O);const $=(R??k).range;M.range=[k.range[0],$[1],$[2]],u.items.push(M)}d=R?R.range[2]:I.end}}const f=o?"}":"]",[h,...p]=r.end;let m=d;if(h&&h.source===f)m=h.offset+h.source.length;else{const g=a[0].toUpperCase()+a.substring(1),v=c?`${g} must end with a ${f}`:`${g} in block collection must be sufficiently indented and end with a ${f}`;i(d,c?"MISSING_CHAR":"BAD_INDENT",v),h&&h.source.length!==1&&p.unshift(h)}if(p.length>0){const g=_A(p,m,n.options.strict,i);g.comment&&(u.comment?u.comment+=`
`+g.comment:u.comment=g.comment),u.range=[r.offset,m,g.offset]}else u.range=[r.offset,m,m];return u}function VB(e,t,n,r,i,s){const o=n.type==="block-map"?aKt(e,t,n,r,s):n.type==="block-seq"?lKt(e,t,n,r,s):uKt(e,t,n,r,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function cKt(e,t,n,r,i){var f;const s=r.tag,o=s?t.directives.tagName(s.source,h=>i(s,"TAG_RESOLVE_FAILED",h)):null;if(n.type==="block-seq"){const{anchor:h,newlineAfterProp:p}=r,m=h&&s?h.offset>s.offset?h:s:h??s;m&&(!p||p.offset<m.offset)&&i(m,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===Wu.tagName&&a==="map"||o===b1.tagName&&a==="seq")return VB(e,t,n,i,o);let l=t.schema.tags.find(h=>h.tag===o&&h.collection===a);if(!l){const h=t.schema.knownTags[o];if(h&&h.collection===a)t.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h?i(s,"BAD_COLLECTION_TYPE",`${h.tag} used for ${a} collection, but expects ${h.collection??"scalar"}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),VB(e,t,n,i,o)}const u=VB(e,t,n,i,o,l),c=((f=l.resolve)==null?void 0:f.call(l,u,h=>i(s,"TAG_RESOLVE_FAILED",h),t.options))??u,d=os(c)?c:new In(c);return d.range=u.range,d.tag=o,l!=null&&l.format&&(d.format=l.format),d}function dKt(e,t,n){const r=t.offset,i=fKt(t,e.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const s=i.mode===">"?In.BLOCK_FOLDED:In.BLOCK_LITERAL,o=t.source?hKt(t.source):[];let a=o.length;for(let m=o.length-1;m>=0;--m){const g=o[m][1];if(g===""||g==="\r")a=m;else break}if(a===0){const m=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let g=r+i.length;return t.source&&(g+=t.source.length),{value:m,type:s,comment:i.comment,range:[r,g,g]}}let l=t.indent+i.indent,u=t.offset+i.length,c=0;for(let m=0;m<a;++m){const[g,v]=o[m];if(v===""||v==="\r")i.indent===0&&g.length>l&&(l=g.length);else{g.length<l&&n(u+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=g.length),c=m,l===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=g.length+v.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>l&&(a=m+1);let d="",f="",h=!1;for(let m=0;m<c;++m)d+=o[m][0].slice(l)+`
`;for(let m=c;m<a;++m){let[g,v]=o[m];u+=g.length+v.length+1;const y=v[v.length-1]==="\r";if(y&&(v=v.slice(0,-1)),v&&g.length<l){const E=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-v.length-(y?2:1),"BAD_INDENT",E),g=""}s===In.BLOCK_LITERAL?(d+=f+g.slice(l)+v,f=`
`):g.length>l||v[0]==="	"?(f===" "?f=`
`:!h&&f===`
`&&(f=`

`),d+=f+g.slice(l)+v,f=`
`,h=!0):v===""?f===`
`?d+=`
`:f=`
`:(d+=f+v,f=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)d+=`
`+o[m][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const p=r+i.length+t.source.length;return{value:d,type:s,comment:i.comment,range:[r,p,p]}}function fKt({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],s=i[0];let o=0,a="",l=-1;for(let f=1;f<i.length;++f){const h=i[f];if(!a&&(h==="-"||h==="+"))a=h;else{const p=Number(h);!o&&p?o=p:l===-1&&(l=e+f)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,c="",d=i.length;for(let f=1;f<t.length;++f){const h=t[f];switch(h.type){case"space":u=!0;case"newline":d+=h.source.length;break;case"comment":n&&!u&&r(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=h.source.length,c=h.source.substring(1);break;case"error":r(h,"UNEXPECTED_TOKEN",h.message),d+=h.source.length;break;default:{const p=`Unexpected token in block scalar header: ${h.type}`;r(h,"UNEXPECTED_TOKEN",p);const m=h.source;m&&typeof m=="string"&&(d+=m.length)}}}return{mode:s,indent:o,chomp:a,comment:c,length:d}}function hKt(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),s=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)s.push([t[o],t[o+1]]);return s}function pKt(e,t,n){const{offset:r,type:i,source:s,end:o}=e;let a,l;const u=(f,h,p)=>n(r+f,h,p);switch(i){case"scalar":a=In.PLAIN,l=mKt(s,u);break;case"single-quoted-scalar":a=In.QUOTE_SINGLE,l=gKt(s,u);break;case"double-quoted-scalar":a=In.QUOTE_DOUBLE,l=yKt(s,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const c=r+s.length,d=_A(o,c,t,n);return{value:l,type:a,comment:d.comment,range:[r,c,d.offset]}}function mKt(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),j6e(e)}function gKt(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),j6e(e.slice(1,-1)).replace(/''/g,"'")}function j6e(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],s=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(e),i+s+((r==null?void 0:r[1])??"")}function yKt(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:s,offset:o}=vKt(e,r);n+=s,r=o}else if(i==="\\"){let s=e[++r];const o=bKt[s];if(o)n+=o;else if(s===`
`)for(s=e[r+1];s===" "||s==="	";)s=e[++r+1];else if(s==="\r"&&e[r+1]===`
`)for(s=e[++r+1];s===" "||s==="	";)s=e[++r+1];else if(s==="x"||s==="u"||s==="U"){const a={x:2,u:4,U:8}[s];n+=wKt(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const s=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>s?e.slice(s,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function vKt(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const bKt={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function wKt(e,t,n,r){const i=e.substr(t,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function B6e(e,t,n,r){const{value:i,type:s,comment:o,range:a}=t.type==="block-scalar"?dKt(e,t,r):pKt(t,e.options.strict,r),l=n?e.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[xh]:l?u=xKt(e.schema,i,l,n,r):t.type==="scalar"?u=_Kt(e,i,t,r):u=e.schema[xh];let c;try{const d=u.resolve(i,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);c=hi(d)?d:new In(d)}catch(d){const f=d instanceof Error?d.message:String(d);r(n??t,"TAG_RESOLVE_FAILED",f),c=new In(i)}return c.range=a,c.source=i,s&&(c.type=s),l&&(c.tag=l),u.format&&(c.format=u.format),o&&(c.comment=o),c}function xKt(e,t,n,r,i){var a;if(n==="!")return e[xh];const s=[];for(const l of e.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)s.push(l);else return l;for(const l of s)if((a=l.test)!=null&&a.test(t))return l;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[xh])}function _Kt({atKey:e,directives:t,schema:n},r,i,s){const o=n.tags.find(a=>{var l;return(a.default===!0||e&&a.default==="key")&&((l=a.test)==null?void 0:l.test(r))})||n[xh];if(n.compat){const a=n.compat.find(l=>{var u;return l.default&&((u=l.test)==null?void 0:u.test(r))})??n[xh];if(o.tag!==a.tag){const l=t.tagString(o.tag),u=t.tagString(a.tag),c=`Value may be parsed as either ${l} or ${u}`;s(i,"TAG_RESOLVE_FAILED",c,!0)}}return o}function EKt(e,t,n){if(t){n??(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const CKt={composeNode:z6e,composeEmptyNode:dte};function z6e(e,t,n,r){const i=e.atKey,{spaceBefore:s,comment:o,anchor:a,tag:l}=n;let u,c=!0;switch(t.type){case"alias":u=SKt(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=B6e(e,t,l,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=cKt(CKt,e,t,n,r),a&&(u.anchor=a.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),u=dte(e,t.offset,void 0,null,n,r),c=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!hi(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(u.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?u.comment=o:u.commentBefore=o),e.options.keepSourceTokens&&c&&(u.srcToken=t),u}function dte(e,t,n,r,{spaceBefore:i,comment:s,anchor:o,tag:a,end:l},u){const c={type:"scalar",offset:EKt(t,n,r),indent:-1,source:""},d=B6e(e,c,a,u);return o&&(d.anchor=o.source.substring(1),d.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(d.spaceBefore=!0),s&&(d.comment=s,d.range[2]=l),d}function SKt({options:e},{offset:t,source:n,end:r},i){const s=new Zee(n.substring(1));s.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,a=_A(r,o,e.strict,i);return s.range=[t,o,a.offset],a.comment&&(s.comment=a.comment),s}function TKt(e,t,{offset:n,start:r,value:i,end:s},o){const a=Object.assign({_directives:t},e),l=new FM(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},c=x_(r,{indicator:"doc-start",next:i??(s==null?void 0:s[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});c.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!c.hasNewline&&o(c.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?z6e(u,i,c,o):dte(u,c.end,r,null,c,o);const d=l.contents.range[2],f=_A(s,d,!1,o);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function zC(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function vge(e){var i;let t="",n=!1,r=!1;for(let s=0;s<e.length;++s){const o=e[s];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[s+1])==null?void 0:i[0])!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class kKt{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{const o=zC(n);s?this.warnings.push(new oKt(o,r,i)):this.errors.push(new $S(o,r,i))},this.directives=new Fa({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=vge(this.prelude);if(r){const s=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!s)t.commentBefore=r;else if(is(s)&&!s.flow&&s.items.length>0){let o=s.items[0];cs(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:vge(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const s=zC(t);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=TKt(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new $S(zC(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new $S(zC(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=_A(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new $S(zC(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new FM(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const U6e="\uFEFF",q6e="",H6e="",eV="";function AKt(e){switch(e){case U6e:return"byte-order-mark";case q6e:return"doc-mode";case H6e:return"flow-error-end";case eV:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Vc(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const bge=new Set("0123456789ABCDEFabcdef"),IKt=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),S3=new Set(",[]{}"),RKt=new Set(` ,[]{}
\r	`),WB=e=>!e||RKt.has(e);class DKt{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&Vc(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===U6e&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const s=t[r-1];if(s===" "||s==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const s=t[n-1];if(s===" "||s==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield q6e,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Vc(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Vc(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&Vc(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(WB),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Vc(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield H6e,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(WB),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Vc(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Vc(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let s=this.pos;r=this.buffer[s];++s)switch(r){case" ":n+=1;break;case`
`:t=s,n=0;break;case"\r":{const o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const s=this.continueScalar(t+1);if(s===-1)break;t=this.buffer.indexOf(`
`,s)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let s=t-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);const a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>a)t=s;else break}while(!0);return yield eV,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const s=this.buffer[r+1];if(Vc(s)||t&&S3.has(s))break;n=r}else if(Vc(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||t&&S3.has(s))break;if(i===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&S3.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield eV,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(WB))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(Vc(n)||t&&S3.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!Vc(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(IKt.has(n))n=this.buffer[++t];else if(n==="%"&&bge.has(this.buffer[t+1])&&bge.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class PKt{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const s=n+r>>1;this.lineStarts[s]<t?n=s+1:r=s}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function b0(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function wge(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function V6e(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function T3(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function ow(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function xge(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!b0(t.start,"explicit-key-ind")&&!b0(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,V6e(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class OKt{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new DKt,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=AKt(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&xge(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&wge(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{wge(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=T3(this.peek(2)),r=ow(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,s=Array.isArray(i)?i[i.length-1]:void 0;(s==null?void 0:s.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],s=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent,s=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(s&&n.sep&&!n.value){const a=[];for(let l=0;l<n.sep.length;++l){const u=n.sep[l];switch(u.type){case"newline":a.push(l);break;case"space":break;case"comment":u.indent>t.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(b0(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(V6e(n.key)&&!b0(n.sep,"newline")){const a=ow(n.start),l=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:l,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(b0(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=ow(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?t.items.push({start:o,key:null,sep:[this.sourceToken]}):b0(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);s||n.value?(t.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(t);if(a){if(a.type==="block-seq"){if(!n.explicitKey&&n.sep&&!b0(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else i&&t.items.push({start:o});this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,s=Array.isArray(i)?i[i.length-1]:void 0;(s==null?void 0:s.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],s=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||b0(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=T3(r),s=ow(i);xge(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:s,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=T3(t),r=ow(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=T3(t),r=ow(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function NKt(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new PKt||null,prettyErrors:t}}function $Kt(e,t={}){const{lineCounter:n,prettyErrors:r}=NKt(t),i=new OKt(n==null?void 0:n.addNewLine),s=new kKt(t);let o=null;for(const a of s.compose(i.parse(e),!0,e.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new $S(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(gge(e,n)),o.warnings.forEach(gge(e,n))),o}const MKt="#/definitions/StudyConfig",FKt="http://json-schema.org/draft-07/schema#",LKt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"numItems\\": 5 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"type":"string"},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"smeqStyle":{"description":"Whether to render the slider with a SMEQ style. Defaults to false.","type":"boolean"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"spacing":{"description":"The spacing between the ticks. If not provided, the spacing is calculated as the range of the slider divided by power of 10.","type":"number"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"string"}},"required":["label","value"],"type":"object"},"StudyConfig":{"additionalProperties":false,"description":"The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\\n\\n```js { \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.1.1/src/parser/StudyConfigSchema.json\\", \\"studyMetadata\\": {  ... }, \\"uiConfig\\": {  ... }, \\"components\\": {  ... }, \\"sequence\\": {  ... } } ```\\n\\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\\n\\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"importedLibraries":{"description":"A list of libraries that are used in the study. This is used to import external libraries into the study. Library names are valid namespaces to be used later.","items":{"type":"string"},"type":"array"},"sequence":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"studyMetadata":{"$ref":"#/definitions/StudyMetadata","description":"The metadata for the study. This is used to identify the study and version in the data file."},"uiConfig":{"$ref":"#/definitions/UIConfig","description":"The UI configuration for the study. This is used to configure the UI of the app."}},"required":["$schema","studyMetadata","uiConfig","components","sequence"],"type":"object"},"StudyMetadata":{"additionalProperties":false,"description":"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\\n\\n```js \\"studyMetadata\\" : { \\"title\\": \\"My New Study\\", \\"version\\": \\"pilot\\", \\"authors\\": [  \\"Jane Doe\\",  \\"John Doe\\" ], \\"date\\": \\"2024-04-01\\", \\"description\\": \\"This study is meant to test your ability.\\", \\"organizations\\": [  \\"The reVISit Team\\",  \\"The Other Team\\" ] } ```","properties":{"authors":{"description":"The authors of your study.","items":{"type":"string"},"type":"array"},"date":{"description":"The date of your study, may be useful for the researcher.","type":"string"},"description":{"description":"The description of your study, shown on the landing page.","type":"string"},"organizations":{"description":"The organizations that are associated with your study.","items":{"type":"string"},"type":"array"},"title":{"description":"The title of your study, shown on the landing page.","type":"string"},"version":{"description":"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.","type":"string"}},"required":["title","version","authors","date","description","organizations"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"UIConfig":{"additionalProperties":false,"description":"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ \\"contactEmail\\": \\"contact@revisit.dev\\", \\"helpTextPath\\": \\"<study-name>/assets/help.md\\", \\"logoPath\\": \\"<study-name>/assets/logo.jpg\\", \\"withProgressBar\\": true, \\"autoDownloadStudy\\": true \\"autoDownloadTime\\": 5000, \\"studyEndMsg\\": \\"Thank you for completing this study. You\'re the best!\\", \\"withSidebar\\": true, \\"windowEventDebounceTime\\": 500, \\"urlParticipantIdParam\\": \\"PROLIFIC_ID\\", \\"numSequences\\": 500 } ``` In the above, the `<study-name>/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. Defaults to true.","type":"boolean"},"autoDownloadStudy":{"description":"Controls whether the study data is automatically downloaded at the end of the study.","type":"boolean"},"autoDownloadTime":{"description":"The time in milliseconds to wait before automatically downloading the study data.","type":"number"},"contactEmail":{"description":"The email address that used during the study if a participant clicks contact.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"logoPath":{"description":"The path to the logo image. This is displayed on the landing page and the header.","type":"string"},"minHeightSize":{"description":"The minimum screen height size for the study","type":"number"},"minWidthSize":{"description":"The minimum screen width size for the study","type":"number"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text to display on the next button.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. Defaults to false.","type":"boolean"},"numSequences":{"description":"The number of sequences to generate for the study. This is used to generate the random sequences for the study. Defaults to 1000.","type":"number"},"participantNameField":{"description":"The default name field for a participant. Directs revisit to use the task and response id as a name in UI elements. For example, if you wanted the response \'prolificId\' from the task \'introduction\' to be the name, this field would be \'introduction.prolificId\'","type":"string"},"previousButtonText":{"description":"The text that is displayed on the previous button.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. Defaults to false.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If true, will record audio on all components unless deactivated on individual components. Defaults to false.","type":"boolean"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"showTitle":{"description":"Controls whether the title should be hidden in the study.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. Defaults to 300.","type":"number"},"studyEndMsg":{"description":"The message to display when the study ends.","type":"string"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"timeoutReject":{"description":"Whether to redirect a timed out participant to a rejection page. This only works for components where the `nextButtonDisableTime` field is set.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"urlParticipantIdParam":{"description":"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered in the study.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question.","type":"boolean"}},"required":["logoPath","contactEmail","withProgressBar","withSidebar"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),jKt={$ref:MKt,$schema:FKt,definitions:LKt},BKt="#/definitions/GlobalConfig",zKt="http://json-schema.org/draft-07/schema#",UKt={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},qKt={$ref:BKt,$schema:zKt,definitions:UKt},HKt="#/definitions/LibraryConfig",VKt="http://json-schema.org/draft-07/schema#",WKt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LibraryConfig":{"additionalProperties":false,"description":"LibraryConfig is used to define the properties of a library configuration. This is a JSON object with three main components: baseComponents, components, and the sequences. Libraries are useful for defining components and sequences of these components that are to be reused across multiple studies. We (the reVISit team) provide several libraries that can be used in your study configurations. Check the public/libraries folder in the reVISit-studies repository for available libraries. We also plan to accept community contributions for libraries. If you have a library that you think would be useful for others, please reach out to us. We would love to include it in our repository.\\n\\nBelow is the general template that should be followed when constructing a Library configuration file.\\n\\n```js {  \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.1.1/src/parser/LibraryConfigSchema.json\\",  \\"baseComponents\\": {    // BaseComponents here are defined exactly as is in the StudyConfig  },  \\"components\\": {    // Components here are defined exactly as is in the StudyConfig  },  \\"sequences\\": {   // Sequences here are defined as \\"key\\": \\"value\\" pairs where the key is the name of the sequence and the value is a ComponentBlock, just like in the StudyConfig  } } ```","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"additionalDescription":{"description":"Additional description of the library. It accepts markdown formatting.","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"description":{"description":"A description of the library.","type":"string"},"doi":{"description":"The DOI of the paper where the content of the library is based on.","type":"string"},"externalLink":{"description":"The external link to the paper/website where the content of the library is based on.","type":"string"},"reference":{"description":"The reference to the paper where the content of the library is based on.","type":"string"},"sequences":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"description":"The order of the components in the study. This might include some randomness.","type":"object"}},"required":["$schema","description","components","sequences"],"type":"object"},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"numItems\\": 5 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"type":"string"},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"smeqStyle":{"description":"Whether to render the slider with a SMEQ style. Defaults to false.","type":"boolean"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"spacing":{"description":"The spacing between the ticks. If not provided, the spacing is calculated as the range of the slider divided by power of 10.","type":"number"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"string"}},"required":["label","value"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),GKt={$ref:HKt,$schema:VKt,definitions:WKt},W6e=new Xee;W6e.addSchema(GKt);const YKt=W6e.getSchema("#/definitions/LibraryConfig");function G6e(e,t){return oc(e)?e:{...e,components:e.components.map(n=>typeof n=="object"?G6e(n,t):`$${t}.components.${n}`)}}function Y6e(e,t,n=[]){return oc(e)?e:{...e,components:(e.components||[]).map(r=>{if(typeof r=="object")return Y6e(r,t);const i=r.includes(".se.")?".se.":r.includes(".sequences.")?".sequences.":!1;if(typeof r=="string"&&r.startsWith("$")&&i){const[s,o]=r.split(i),a=s.slice(1);if(!t[a]){const c={message:`Library ${a} not found in imported libraries`,instancePath:"",params:{action:"check the library name"}};return n.push(c),r}let u=t[a].sequences[o];if(!u){const c={message:`Sequence ${o} not found in library ${s}`,instancePath:"",params:{action:"check the sequence name"}};return n.push(c),r}return u=G6e(u,a),u}return r})}}function KKt(e,t,n){Object.entries(n).forEach(([r,i])=>{Object.entries(i.components).forEach(([s,o])=>{var a;C6(o)&&!((a=i.baseComponents)!=null&&a[o.baseComponent])&&t.push({message:`Base component \`${o.baseComponent}\` is not defined in baseComponents object in library \`${r}\``,instancePath:`/importedLibraries/${r}/components/${s}`,params:{action:"add the base component to the baseComponents object"}})})})}function XKt(e,t){let n=!1,r;try{r=JSON.parse(e),n=YKt(r)}catch{n=!1}const i=[],s=[];return r?n||i.push({message:"Library config is not valid",instancePath:"",params:{action:"fix the errors in the library config"}}):i.push({message:`Could not find library \`${t}\``,instancePath:"/importedLibraries/",params:{action:"make sure the library is in the correct location"}}),{...r,errors:i,warnings:s}}async function QKt(e){const t=await(await fetch(`${as}libraries/${e}/config.json`)).text();return XKt(t,e)}async function JKt(e,t,n){const r=e.map(async s=>{const o=await QKt(s);return o.errors&&t.push(...o.errors),o.warnings&&n.push(...o.warnings),[s,o]}),i=Object.fromEntries(await Promise.all(r));return Object.entries(i).forEach(([s,o])=>{o.components||delete i[s]}),e.forEach(s=>{i[s]&&(i[s].components=Object.fromEntries(Object.entries(i[s].components).map(([o,a])=>{if(C6(a)){const l=zke({},i[s].baseComponents[a.baseComponent],a);return delete l.baseComponent,[[`$${s}.components.${o}`,l],[`$${s}.co.${o}`,l]]}return[[`$${s}.components.${o}`,a],[`$${s}.co.${o}`,a]]}).reduce((o,[a,l])=>(o.push(a,l),o),[])))}),i}const K6e=new Xee;K6e.addSchema(qKt);const _ge=K6e.getSchema("#/definitions/GlobalConfig"),X6e=new Xee;X6e.addSchema(jKt);const GB=X6e.getSchema("#/definitions/StudyConfig");function ZKt(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function eXt(e){const t=JSON.parse(e),n=_ge(t),r=ZKt(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[..._ge.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function Q6e(e,t,n=[]){if(!oc(e)){if(e.components.length===0){n.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"remove empty components block"}});return}e.id&&t.map((i,s)=>i===e.id?s:null).forEach(i=>{i!==null&&t.splice(i,1)}),e.components.forEach(r=>{typeof r=="string"?t.includes(r)&&t.map((s,o)=>s===r?o:null).forEach(s=>{s!==null&&t.splice(s,1)}):Q6e(r,t,n)}),e.skip&&t.push(...e.skip.map(r=>r.to).filter(r=>r!=="end"))}}function tXt(e,t){const n=[],r=[];KKt(e,n,t),Object.entries(e.components).forEach(([o,a])=>{var l;C6(a)&&!((l=e.baseComponents)!=null&&l[a.baseComponent])&&n.push({message:`Base component \`${a.baseComponent}\` is not defined in baseComponents object`,instancePath:`/components/${o}`,params:{action:"add the base component to the baseComponents object"}})});const i=Fke(e.sequence);i.forEach(o=>{var a;e.components[o]||n.push({message:(a=e.baseComponents)!=null&&a[o]?`Component \`${o}\` is a base component and cannot be used in the sequence`:`Component \`${o}\` is not defined in components object`,instancePath:"/sequence/",params:{action:"add the component to the components object"}})}),Object.keys(e.components).filter(o=>!i.includes(o)&&!o.includes(".se.")&&!o.includes(".sequences.")&&!o.includes(".co.")&&!o.includes(".components.")).forEach(o=>{r.push({message:`Component \`${o}\` is defined in components object but not used deterministically in the sequence`,instancePath:"/components/",params:{action:"remove the component from the components object or add it to the sequence"}})});const s=[];return Q6e(e.sequence,s),s.forEach(o=>{n.push({message:`Skip target \`${o}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"add the target to the sequence after the skip block"}})}),{errors:n,warnings:r}}async function fte(e){let t=!1,n;try{n=JSON.parse(e),t=GB(n)}catch{try{n=$Kt(e).toJSON(),t=GB(n)}catch(s){console.error("Error parsing study config file:",s),t=!1}}let r=GB.errors||[],i=[];if(t&&n){const s=n.importedLibraries||[],o=await JKt(s,r,i);Object.values(o).forEach(u=>{n.components={...n.components,...u.components},n.baseComponents={...n.baseComponents,...u.components}}),n.sequence=Y6e(n.sequence,o,r);const{errors:a,warnings:l}=tXt(n,o);r=[...r,...a],i=[...i,...l]}else r=[...r,{message:"There was an issue validating your config file",instancePath:"root",params:{action:"fix the errors in your file or make sure the global config references the right file path"}}];return{...n,errors:r,warnings:i}}async function nXt(e){const t=await(await fetch(`${as}${e}`)).text();return await fte(t)}async function hte(e,t){const n=t.configsList.find(r=>Hwe(r)===e);if(n){const r=t.configs[n];return await nXt(`${r.path}`)}return null}async function rXt(e){const t={},n=e.configsList.map(async i=>hte(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function iXt({globalConfig:e}){const t=Oh(),[n,r]=D.useState(null),i=e.configsList.includes(t)||t==="__revisit-widget";D.useEffect(()=>{if(t!=="__revisit-widget")return hte(t,e).then(p=>{r(p)}),()=>{};if(e&&t){const p=m=>{m.data.type==="revisitWidget/CONFIG"&&fte(m.data.payload).then(async g=>{r(g);const v=await Qme(g);window.parent.postMessage({type:"revisitWidget/SEQUENCE_ARRAY",payload:v},"*")})};return window.addEventListener("message",p),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",p)}}return()=>{}},[e,t]);const[s,o]=D.useState([]),[a,l]=D.useState(null),{storageEngine:u}=Qi(),[c]=kh(),d=D.useMemo(()=>c.get("participantId"),[c]);D.useEffect(()=>{async function p(){if(!u||!n||!t)return;await u.initializeStudyDb(t),await u.saveConfig(n),await u.getSequenceArray()||await u.setSequenceArray(await Qme(n));const g=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,v=Object.fromEntries(c.entries()),y=await fetch("https://api.ipify.org?format=json").catch(R=>""),w=y instanceof Response?await y.json():{ip:""},E={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:w.ip},C=await u.initializeParticipantSession(v,n,E,d||g),S=await u.getModes(t),T=await Fz(JSON.stringify(n));let k=n;C.participantConfigHash!==T&&(k=(await u.getAllConfigsFromHash([C.participantConfigHash],t))[C.participantConfigHash]);const I=await TEt(t,k,C.sequence,E,C.answers,S,C.participantId);l(I),o([{element:x.jsx(pGt,{}),children:[{path:"/",element:x.jsx(J$e,{to:ri(0),replace:!0})},{path:"/:index/:funcIndex?",element:n.errors.length>0?x.jsxs(x.Fragment,{children:[x.jsx(Br,{order:2,mb:8,children:"Error loading config"}),x.jsx(tD,{issues:n.errors,type:"error"})]}):x.jsx(QWt,{})}]}])}p()},[u,n,t,c,d]);const f=wwe(s);let h=null;return i?s.length===0?h=x.jsx(rc,{visible:!0}):h=f&&a?x.jsx(Uke.Provider,{value:a,children:x.jsx(Pct,{store:a.store,children:f})}):x.jsx(om,{}):h=x.jsx(om,{}),h}function SP({studyIds:e}){const t=Ea(),{studyId:n}=va(),r=bc(),i=e.map(o=>({value:o,label:o})).sort((o,a)=>o.label.localeCompare(a.label)),s=r.pathname.includes("analysis");return x.jsx(Qr.Header,{p:"md",children:x.jsxs(js,{mt:-7,align:"center",children:[x.jsx(js.Col,{span:6,children:x.jsxs(Rt,{align:"center",onClick:()=>t("/"),style:{cursor:"pointer"},children:[x.jsx(Th,{w:40,src:`${as}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),x.jsx(Ju,{w:"md"}),x.jsx(Br,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),x.jsx(js.Col,{span:6,children:x.jsxs(Rt,{justify:"flex-end",direction:"row",children:[s&&x.jsxs(x.Fragment,{children:[x.jsx(Ag,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:o=>t(`/analysis/stats/${o}`),mr:16}),x.jsx(Wt,{component:"a",href:`${as}${n}`,target:"_blank",leftSection:x.jsx(Fwe,{}),mr:"sm",children:"Go to Study"})]}),x.jsx(zwe,{onClick:()=>t("/settings"),style:{cursor:"pointer",marginTop:s?6:void 0}})]})})]})})}function sXt({overviewData:e,mismatchDetails:t}){var r,i;const n=s=>{if(!t)return!1;const o=t[s];return o.current!==o.calculated};return x.jsxs(Sh,{shadow:"sm",p:"md",withBorder:!0,children:[x.jsx(Br,{order:4,mb:"md",children:"Overview Statistics"}),e===null?x.jsx(Ue,{ta:"center",mb:"md",children:"No data available"}):x.jsxs(Rt,{justify:"space-between",m:"xs",gap:"xl",wrap:"wrap",children:[x.jsxs("div",{children:[x.jsx(Ue,{size:"xl",fw:"bold",children:e.participantCounts.total}),x.jsx(Ue,{size:"sm",c:"dimmed",children:"Total Participants"})]}),x.jsxs("div",{children:[x.jsxs(Rt,{align:"center",gap:"xs",children:[n("completed")&&t&&x.jsx(Ut,{label:`Calculated: ${t.completed.calculated}, Current: ${t.completed.current}`,children:x.jsx(Lp,{size:16,color:"orange"})}),x.jsx(Ue,{size:"xl",fw:"bold",c:"green",children:e.participantCounts.completed})]}),x.jsx(Ue,{size:"sm",c:"dimmed",children:"Completed"})]}),x.jsxs("div",{children:[x.jsxs(Rt,{align:"center",gap:"xs",children:[n("inProgress")&&t&&x.jsx(Ut,{label:`Calculated: ${t.inProgress.calculated}, Current: ${t.inProgress.current}`,children:x.jsx(Lp,{size:16,color:"orange"})}),x.jsx(Ue,{size:"xl",fw:"bold",c:"yellow",children:e.participantCounts.inProgress})]}),x.jsx(Ue,{size:"sm",c:"dimmed",children:"In Progress"})]}),x.jsxs("div",{children:[x.jsxs(Rt,{align:"center",gap:"xs",children:[n("rejected")&&t&&x.jsx(Ut,{label:`Calculated: ${t.rejected.calculated}, Current: ${t.rejected.current}`,children:x.jsx(Lp,{size:16,color:"orange"})}),x.jsx(Ue,{size:"xl",fw:"bold",c:"red",children:e.participantCounts.rejected})]}),x.jsx(Ue,{size:"sm",c:"dimmed",children:"Rejected"})]}),x.jsxs("div",{children:[x.jsx(Ue,{size:"xl",fw:"bold",children:((r=e.startDate)==null?void 0:r.toLocaleDateString())||"N/A"}),x.jsx(Ue,{size:"sm",c:"dimmed",children:"Start Date"})]}),x.jsxs("div",{children:[x.jsx(Ue,{size:"xl",fw:"bold",children:((i=e.endDate)==null?void 0:i.toLocaleDateString())||"N/A"}),x.jsx(Ue,{size:"sm",c:"dimmed",children:"End Date"})]}),x.jsxs("div",{children:[x.jsx(Ue,{size:"xl",fw:"bold",children:Number.isFinite(e.avgTime)?`${e.avgTime.toFixed(1)} s`:"N/A"}),x.jsx(Ue,{size:"sm",c:"dimmed",children:"Average Time"})]}),x.jsxs("div",{children:[x.jsx(Ue,{size:"xl",fw:"bold",children:Number.isFinite(e.avgCleanTime)?`${e.avgCleanTime.toFixed(1)} s`:"N/A"}),x.jsx(Ue,{size:"sm",c:"dimmed",children:"Average Clean Time"})]}),x.jsxs("div",{children:[x.jsx(Ue,{size:"xl",fw:"bold",children:Number.isFinite(e.correctnessStats)?`${e.correctnessStats.toFixed(1)}%`:"N/A"}),x.jsx(Ue,{size:"sm",c:"dimmed",children:"Correctness"})]})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function z0(e,t){return typeof e=="function"?e(t):e}function Eu(e,t){return n=>{t.setState(r=>({...r,[e]:z0(n,r[e])}))}}function LM(e){return e instanceof Function}function oXt(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function J6e(e,t){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=t(s);o!=null&&o.length&&r(o)})};return r(e),n}function on(e,t,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(s);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,h=(p,m)=>{for(p=String(p);p.length<m;)p=" "+p;return p};console.info(`%c ${h(d,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function an(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function aXt(e,t,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:on(()=>[e,n,t,s],(o,a,l,u)=>({table:o,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),an(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(s,n,t,e)},{}),s}function lXt(e,t,n,r){var i,s;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(s=a.id)!=null?s:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let h=f;for(const m of l.split(".")){var p;h=(p=h)==null?void 0:p[m]}return h}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:on(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},an(e.options,"debugColumns")),getLeafColumns:on(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let p=d.columns.flatMap(m=>m.getLeafColumns());return f(p)}return[d]},an(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const ta="debugHeaders";function Ege(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(s),o},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(s,e)}),s}const uXt={createTable:e=>{e.getHeaderGroups=on(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var s,o;const a=(s=r==null?void 0:r.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],l=(o=i==null?void 0:i.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return k3(t,[...a,...u,...l],e)},an(e.options,ta)),e.getCenterHeaderGroups=on(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),k3(t,n,e,"center")),an(e.options,ta)),e.getLeftHeaderGroups=on(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return k3(t,s,e,"left")},an(e.options,ta)),e.getRightHeaderGroups=on(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return k3(t,s,e,"right")},an(e.options,ta)),e.getFooterGroups=on(()=>[e.getHeaderGroups()],t=>[...t].reverse(),an(e.options,ta)),e.getLeftFooterGroups=on(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),an(e.options,ta)),e.getCenterFooterGroups=on(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),an(e.options,ta)),e.getRightFooterGroups=on(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),an(e.options,ta)),e.getFlatHeaders=on(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),an(e.options,ta)),e.getLeftFlatHeaders=on(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),an(e.options,ta)),e.getCenterFlatHeaders=on(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),an(e.options,ta)),e.getRightFlatHeaders=on(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),an(e.options,ta)),e.getCenterLeafHeaders=on(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),an(e.options,ta)),e.getLeftLeafHeaders=on(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),an(e.options,ta)),e.getRightLeafHeaders=on(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),an(e.options,ta)),e.getLeafHeaders=on(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,s,o,a,l,u;return[...(i=(s=t[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},an(e.options,ta))}};function k3(e,t,n,r){var i,s;let o=0;const a=function(f,h){h===void 0&&(h=1),o=Math.max(o,h),f.filter(p=>p.getIsVisible()).forEach(p=>{var m;(m=p.columns)!=null&&m.length&&a(p.columns,h+1)},0)};a(e);let l=[];const u=(f,h)=>{const p={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},m=[];f.forEach(g=>{const v=[...m].reverse()[0],y=g.column.depth===p.depth;let w,E=!1;if(y&&g.column.parent?w=g.column.parent:(w=g.column,E=!0),v&&(v==null?void 0:v.column)===w)v.subHeaders.push(g);else{const C=Ege(n,w,{id:[r,h,w.id,g==null?void 0:g.id].filter(Boolean).join("_"),isPlaceholder:E,placeholderId:E?`${m.filter(S=>S.column===w).length}`:void 0,depth:h,index:m.length});C.subHeaders.push(g),m.push(C)}p.headers.push(g),g.headerGroup=p}),l.push(p),h>0&&u(m,h-1)},c=t.map((f,h)=>Ege(n,f,{depth:o,index:h}));u(c,o-1),l.reverse();const d=f=>f.filter(p=>p.column.getIsVisible()).map(p=>{let m=0,g=0,v=[0];p.subHeaders&&p.subHeaders.length?(v=[],d(p.subHeaders).forEach(w=>{let{colSpan:E,rowSpan:C}=w;m+=E,v.push(C)})):m=1;const y=Math.min(...v);return g=g+y,p.colSpan=m,p.rowSpan=g,{colSpan:m,rowSpan:g}});return d((i=(s=l[0])==null?void 0:s.headers)!=null?i:[]),l}const CE=(e,t,n,r,i,s,o)=>{let a={id:t,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:s??[],getLeafRows:()=>J6e(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:on(()=>[e.getAllLeafColumns()],l=>l.map(u=>aXt(e,a,u,u.id)),an(e.options,"debugRows")),_getAllCellsByColumnId:on(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),an(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},cXt={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Z6e=(e,t,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};Z6e.autoRemove=e=>Ed(e);const e5e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};e5e.autoRemove=e=>Ed(e);const t5e=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};t5e.autoRemove=e=>Ed(e);const n5e=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};n5e.autoRemove=e=>Ed(e)||!(e!=null&&e.length);const r5e=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});r5e.autoRemove=e=>Ed(e)||!(e!=null&&e.length);const i5e=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});i5e.autoRemove=e=>Ed(e)||!(e!=null&&e.length);const s5e=(e,t,n)=>e.getValue(t)===n;s5e.autoRemove=e=>Ed(e);const o5e=(e,t,n)=>e.getValue(t)==n;o5e.autoRemove=e=>Ed(e);const pte=(e,t,n)=>{let[r,i]=n;const s=e.getValue(t);return s>=r&&s<=i};pte.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};pte.autoRemove=e=>Ed(e)||Ed(e[0])&&Ed(e[1]);const Pf={includesString:Z6e,includesStringSensitive:e5e,equalsString:t5e,arrIncludes:n5e,arrIncludesAll:r5e,arrIncludesSome:i5e,equals:s5e,weakEquals:o5e,inNumberRange:pte};function Ed(e){return e==null||e===""}const dXt={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Eu("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Pf.includesString:typeof r=="number"?Pf.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Pf.equals:Array.isArray(r)?Pf.arrIncludes:Pf.weakEquals},e.getFilterFn=()=>{var n,r;return LM(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Pf[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),s=r==null?void 0:r.find(c=>c.id===e.id),o=z0(n,s?s.value:void 0);if(Cge(i,o,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:o};if(s){var u;return(u=r==null?void 0:r.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var s;return(s=z0(t,i))==null?void 0:s.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(Cge(l,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Cge(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const fXt=(e,t,n)=>n.reduce((r,i)=>{const s=i.getValue(e);return r+(typeof s=="number"?s:0)},0),hXt=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},pXt=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},mXt=(e,t,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},gXt=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let s=i.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},yXt=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!oXt(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},vXt=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),bXt=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,wXt=(e,t)=>t.length,TP={sum:fXt,min:hXt,max:pXt,extent:mXt,mean:gXt,median:yXt,unique:vXt,uniqueCount:bXt,count:wXt},xXt={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Eu("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return TP.sum;if(Object.prototype.toString.call(r)==="[object Date]")return TP.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return LM(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:TP[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function _Xt(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(o=>o.id===s)).filter(Boolean),...r]}const EXt={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Eu("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=on(n=>[g2(t,n)],n=>n.findIndex(r=>r.id===e.id),an(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=g2(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=g2(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=on(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let s=[];if(!(t!=null&&t.length))s=i;else{const o=[...t],a=[...i];for(;a.length&&o.length;){const l=o.shift(),u=a.findIndex(c=>c.id===l);u>-1&&s.push(a.splice(u,1)[0])}s=[...s,...a]}return _Xt(s,n,r)},an(e.options,"debugTable"))}},YB=()=>({left:[],right:[]}),CXt={getInitialState:e=>({columnPinning:YB(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Eu("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var s,o;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i==null?void 0:i.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=on(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},an(t.options,"debugRows")),e.getLeftVisibleCells=on(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),an(t.options,"debugRows")),e.getRightVisibleCells=on(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),an(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?YB():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:YB())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=on(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),an(e.options,"debugColumns")),e.getRightLeafColumns=on(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),an(e.options,"debugColumns")),e.getCenterLeafColumns=on(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(s=>!i.includes(s.id))},an(e.options,"debugColumns"))}},A3={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},KB=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),SXt={getDefaultColumnDef:()=>A3,getInitialState:e=>({columnSizing:{},columnSizingInfo:KB(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Eu("columnSizing",e),onColumnSizingInfoChange:Eu("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:A3.minSize,(r=s??e.columnDef.size)!=null?r:A3.size),(i=e.columnDef.maxSize)!=null?i:A3.maxSize)},e.getStart=on(n=>[n,g2(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),an(t.options,"debugColumns")),e.getAfter=on(n=>[n,g2(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),an(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),XB(s)&&s.touches&&s.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=XB(s)?Math.round(s.touches[0].clientX):s.clientX,u={},c=(v,y)=>{typeof y=="number"&&(t.setColumnSizingInfo(w=>{var E,C;const S=t.options.columnResizeDirection==="rtl"?-1:1,T=(y-((E=w==null?void 0:w.startOffset)!=null?E:0))*S,k=Math.max(T/((C=w==null?void 0:w.startSize)!=null?C:0),-.999999);return w.columnSizingStart.forEach(I=>{let[R,O]=I;u[R]=Math.round(Math.max(O+O*k,0)*100)/100}),{...w,deltaOffset:T,deltaPercentage:k}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(w=>({...w,...u})))},d=v=>c("move",v),f=v=>{c("end",v),t.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,p={moveHandler:v=>d(v.clientX),upHandler:v=>{h==null||h.removeEventListener("mousemove",p.moveHandler),h==null||h.removeEventListener("mouseup",p.upHandler),f(v.clientX)}},m={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),d(v.touches[0].clientX),!1),upHandler:v=>{var y;h==null||h.removeEventListener("touchmove",m.moveHandler),h==null||h.removeEventListener("touchend",m.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),f((y=v.touches[0])==null?void 0:y.clientX)}},g=TXt()?{passive:!1}:!1;XB(s)?(h==null||h.addEventListener("touchmove",m.moveHandler,g),h==null||h.addEventListener("touchend",m.upHandler,g)):(h==null||h.addEventListener("mousemove",p.moveHandler,g),h==null||h.addEventListener("mouseup",p.upHandler,g)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?KB():(n=e.initialState.columnSizingInfo)!=null?n:KB())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let I3=null;function TXt(){if(typeof I3=="boolean")return I3;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return I3=e,I3}function XB(e){return e.type==="touchstart"}const kXt={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Eu("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=on(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),an(t.options,"debugRows")),e.getVisibleCells=on(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],an(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>on(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),an(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function g2(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const AXt={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},IXt={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Eu("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Pf.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return LM(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Pf[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},RXt={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Eu("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,s;e.setExpanded(r?{}:(i=(s=e.initialState)==null?void 0:s.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[e.id]:!0};if(s&&!n){const{[e.id]:a,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},tV=0,nV=10,QB=()=>({pageIndex:tV,pageSize:nV}),DXt={getInitialState:e=>({...e,pagination:{...QB(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Eu("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=s=>z0(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?QB():(i=e.initialState.pagination)!=null?i:QB())},e.setPageIndex=r=>{e.setPagination(i=>{let s=z0(r,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},e.resetPageIndex=r=>{var i,s;e.setPageIndex(r?tV:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:tV)},e.resetPageSize=r=>{var i,s;e.setPageSize(r?nV:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:nV)},e.setPageSize=r=>{e.setPagination(i=>{const s=Math.max(1,z0(r,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},e.setPageCount=r=>e.setPagination(i=>{var s;let o=z0(r,(s=e.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=on(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},an(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},JB=()=>({top:[],bottom:[]}),PXt={getInitialState:e=>({rowPinning:JB(),...e}),getDefaultOptions:e=>({onRowPinningChange:Eu("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const s=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],o=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...o,e.id,...s]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(n==="top"){var h,p;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((p=l==null?void 0:l.bottom)!=null?p:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((c=l==null?void 0:l.bottom)!=null?c:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const s=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?JB():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:JB())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=on(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),an(e.options,"debugRows")),e.getBottomRows=on(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),an(e.options,"debugRows")),e.getCenterRows=on(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(s=>!i.has(s.id))},an(e.options,"debugRows"))}},OXt={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Eu("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(s=>{rV(i,s.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=on(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?ZB(e,n):{rows:[],flatRows:[],rowsById:{}},an(e.options,"debugTable")),e.getFilteredSelectedRowModel=on(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?ZB(e,n):{rows:[],flatRows:[],rowsById:{}},an(e.options,"debugTable")),e.getGroupedSelectedRowModel=on(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?ZB(e,n):{rows:[],flatRows:[],rowsById:{}},an(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return s;const a={...s};return rV(a,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return mte(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return iV(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return iV(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},rV=(e,t,n,r,i)=>{var s;const o=i.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>rV(e,a.id,n,r,i))};function ZB(e,t){const n=e.getState().rowSelection,r=[],i={},s=function(o,a){return o.map(l=>{var u;const c=mte(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:s(l.subRows)}),c)return l}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:i}}function mte(e,t){var n;return(n=t[e.id])!=null?n:!1}function iV(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return e.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(mte(o,t)?s=!0:i=!1),o.subRows&&o.subRows.length)){const a=iV(o,t);a==="all"?s=!0:(a==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const sV=/([0-9]+)/gm,NXt=(e,t,n)=>a5e(xg(e.getValue(n)).toLowerCase(),xg(t.getValue(n)).toLowerCase()),$Xt=(e,t,n)=>a5e(xg(e.getValue(n)),xg(t.getValue(n))),MXt=(e,t,n)=>gte(xg(e.getValue(n)).toLowerCase(),xg(t.getValue(n)).toLowerCase()),FXt=(e,t,n)=>gte(xg(e.getValue(n)),xg(t.getValue(n))),LXt=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},jXt=(e,t,n)=>gte(e.getValue(n),t.getValue(n));function gte(e,t){return e===t?0:e>t?1:-1}function xg(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function a5e(e,t){const n=e.split(sV).filter(Boolean),r=t.split(sV).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),a=parseInt(s,10),l=[o,a].sort();if(isNaN(l[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const nv={alphanumeric:NXt,alphanumericCaseSensitive:$Xt,text:MXt,textCaseSensitive:FXt,datetime:LXt,basic:jXt},BXt={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Eu("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return nv.datetime;if(typeof s=="string"&&(r=!0,s.split(sV).length>1))return nv.alphanumeric}return r?nv.text:nv.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return LM(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:nv[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(h=>h.id===e.id),l=o==null?void 0:o.findIndex(h=>h.id===e.id);let u=[],c,d=s?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&l!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(s||i||(c="remove")),c==="add"){var f;u=[...o,{id:e.id,desc:d}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(h=>h.id===e.id?{...h,desc:d}:h):c==="remove"?u=o.filter(h=>h.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const s=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},zXt=[uXt,kXt,EXt,CXt,cXt,dXt,AXt,IXt,BXt,xXt,RXt,DXt,PXt,OXt,SXt];function UXt(e){var t,n;const r=[...zXt,...(t=e._features)!=null?t:[]];let i={_features:r};const s=i._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),o=f=>i.options.mergeOptions?i.options.mergeOptions(s,f):{...s,...f};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const u=[];let c=!1;const d={_features:r,options:{...s,...e},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const h=z0(f,i.options);i.options=o(h)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,h,p)=>{var m;return(m=i.options.getRowId==null?void 0:i.options.getRowId(f,h,p))!=null?m:`${p?[p.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,h)=>{let p=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!p&&(p=i.getCoreRowModel().rowsById[f],!p))throw new Error;return p},_getDefaultColumnDef:on(()=>[i.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:p=>{const m=p.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:p=>{var m,g;return(m=(g=p.renderValue())==null||g.toString==null?void 0:g.toString())!=null?m:null},...i._features.reduce((p,m)=>Object.assign(p,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},an(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:on(()=>[i._getColumnDefs()],f=>{const h=function(p,m,g){return g===void 0&&(g=0),p.map(v=>{const y=lXt(i,v,g,m),w=v;return y.columns=w.columns?h(w.columns,y,g+1):[],y})};return h(f)},an(e,"debugColumns")),getAllFlatColumns:on(()=>[i.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),an(e,"debugColumns")),_getAllFlatColumnsById:on(()=>[i.getAllFlatColumns()],f=>f.reduce((h,p)=>(h[p.id]=p,h),{}),an(e,"debugColumns")),getAllLeafColumns:on(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,h)=>{let p=f.flatMap(m=>m.getLeafColumns());return h(p)},an(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const h=i._features[f];h==null||h.createTable==null||h.createTable(i)}return i}function qXt(){return e=>on(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const a=[];for(let u=0;u<i.length;u++){const c=CE(e,e._getRowId(i[u],u,o),i[u],u,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,s+1,c))}}return a};return n.rows=r(t),n},an(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function HXt(){return e=>on(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:l5e(n),an(e.options,"debugTable"))}function l5e(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function VXt(){return(e,t)=>on(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return;const r=n.flatRows.flatMap(o=>{var a;return(a=o.getUniqueValues(t))!=null?a:[]}).map(Number).filter(o=>!Number.isNaN(o));if(!r.length)return;let i=r[0],s=r[r.length-1];for(const o of r)o<i?i=o:o>s&&(s=o);return[i,s]},an(e.options,"debugTable"))}function u5e(e,t,n){return n.options.filterFromLeafRows?WXt(e,t,n):GXt(e,t,n)}function WXt(e,t,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const p=CE(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(p.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&u<o){if(p.subRows=a(h.subRows,u+1),h=p,t(h)&&!p.subRows.length){c.push(h),s[h.id]=h,i.push(h);continue}if(t(h)||p.subRows.length){c.push(h),s[h.id]=h,i.push(h);continue}}else h=p,t(h)&&(c.push(h),s[h.id]=h,i.push(h))}return c};return{rows:a(e),flatRows:i,rowsById:s}}function GXt(e,t,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){let h=l[f];if(t(h)){var d;if((d=h.subRows)!=null&&d.length&&u<o){const m=CE(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);m.subRows=a(h.subRows,u+1),h=m}c.push(h),i.push(h),s[h.id]=h}}return c};return{rows:a(e),flatRows:i,rowsById:s}}function YXt(){return(e,t)=>on(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(a=>a.id).filter(a=>a!==t),i?"__global__":void 0].filter(Boolean),o=a=>{for(let l=0;l<s.length;l++)if(a.columnFilters[s[l]]===!1)return!1;return!0};return u5e(n.rows,o,e)},an(e.options,"debugTable"))}function KXt(){return(e,t)=>on(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let s=0;s<n.flatRows.length;s++){const o=n.flatRows[s].getUniqueValues(t);for(let a=0;a<o.length;a++){const l=o[a];if(r.has(l)){var i;r.set(l,((i=r.get(l))!=null?i:0)+1)}else r.set(l,1)}}return r},an(e.options,"debugTable"))}function XXt(){return e=>on(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],s=[];(n??[]).forEach(f=>{var h;const p=e.getColumn(f.id);if(!p)return;const m=p.getFilterFn();m&&i.push({id:f.id,filterFn:m,resolvedValue:(h=m.resolveFilterValue==null?void 0:m.resolveFilterValue(f.value))!=null?h:f.value})});const o=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(o.push("__global__"),l.forEach(f=>{var h;s.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let f=0;f<t.flatRows.length;f++){const h=t.flatRows[f];if(h.columnFilters={},i.length)for(let p=0;p<i.length;p++){u=i[p];const m=u.id;h.columnFilters[m]=u.filterFn(h,m,u.resolvedValue,g=>{h.columnFiltersMeta[m]=g})}if(s.length){for(let p=0;p<s.length;p++){c=s[p];const m=c.id;if(c.filterFn(h,m,c.resolvedValue,g=>{h.columnFiltersMeta[m]=g})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<o.length;h++)if(f.columnFilters[o[h]]===!1)return!1;return!0};return u5e(t.rows,d,e)},an(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function QXt(){return e=>on(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,n)=>{if(!n.rows.length||!t.length)return n.rows.forEach(l=>{l.depth=0,l.parentId=void 0}),n;const r=t.filter(l=>e.getColumn(l)),i=[],s={},o=function(l,u,c){if(u===void 0&&(u=0),u>=r.length)return l.map(p=>(p.depth=u,i.push(p),s[p.id]=p,p.subRows&&(p.subRows=o(p.subRows,u+1,p.id)),p));const d=r[u],f=JXt(l,d);return Array.from(f.entries()).map((p,m)=>{let[g,v]=p,y=`${d}:${g}`;y=c?`${c}>${y}`:y;const w=o(v,u+1,y);w.forEach(S=>{S.parentId=y});const E=u?J6e(v,S=>S.subRows):v,C=CE(e,y,E[0].original,m,u,void 0,c);return Object.assign(C,{groupingColumnId:d,groupingValue:g,subRows:w,leafRows:E,getValue:S=>{if(r.includes(S)){if(C._valuesCache.hasOwnProperty(S))return C._valuesCache[S];if(v[0]){var T;C._valuesCache[S]=(T=v[0].getValue(S))!=null?T:void 0}return C._valuesCache[S]}if(C._groupingValuesCache.hasOwnProperty(S))return C._groupingValuesCache[S];const k=e.getColumn(S),I=k==null?void 0:k.getAggregationFn();if(I)return C._groupingValuesCache[S]=I(S,E,v),C._groupingValuesCache[S]}}),w.forEach(S=>{i.push(S),s[S.id]=S}),C})},a=o(n.rows,0);return a.forEach(l=>{i.push(l),s[l.id]=l}),{rows:a,flatRows:i,rowsById:s}},an(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})}))}function JXt(e,t){const n=new Map;return e.reduce((r,i)=>{const s=`${i.getGroupingValue(t)}`,o=r.get(s);return o?o.push(i):r.set(s,[i]),r},n)}function ZXt(e){return t=>on(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:a,rowsById:l}=r;const u=i*s,c=u+i;o=o.slice(u,c);let d;t.options.paginateExpandedRows?d={rows:o,flatRows:a,rowsById:l}:d=l5e({rows:o,flatRows:a,rowsById:l}),d.flatRows=[];const f=h=>{d.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return d.rows.forEach(f),d},an(t.options,"debugTable"))}function eQt(){return e=>on(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],s=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),o={};s.forEach(l=>{const u=e.getColumn(l.id);u&&(o[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,d)=>{for(let h=0;h<s.length;h+=1){var f;const p=s[h],m=o[p.id],g=m.sortUndefined,v=(f=p==null?void 0:p.desc)!=null?f:!1;let y=0;if(g){const w=c.getValue(p.id),E=d.getValue(p.id),C=w===void 0,S=E===void 0;if(C||S){if(g==="first")return C?-1:1;if(g==="last")return C?1:-1;y=C&&S?0:C?g:-g}}if(y===0&&(y=m.sortingFn(c,d,p.id)),y!==0)return v&&(y*=-1),m.invertSorting&&(y*=-1),y}return c.index-d.index}),u.forEach(c=>{var d;i.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},an(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function tQt(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=D.useState(()=>({current:UXt(t)})),[r,i]=D.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:o=>{i(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}/**
   * match-sorter-utils
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */const c5e={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},nQt=Object.keys(c5e).join("|"),rQt=new RegExp(nQt,"g");function iQt(e){return e.replace(rQt,t=>c5e[t])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const La={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function sQt(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:La.MATCHES,!n.accessors){const o=Sge(e,t,n);return{rankedValue:e,rank:o,accessorIndex:-1,accessorThreshold:n.threshold,passed:o>=n.threshold}}const i=cQt(e,n.accessors),s={rankedValue:e,rank:La.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let o=0;o<i.length;o++){const a=i[o];let l=Sge(a.itemValue,t,n);const{minRanking:u,maxRanking:c,threshold:d=n.threshold}=a.attributes;l<u&&l>=La.MATCHES?l=u:l>c&&(l=c),l=Math.min(l,c),l>=d&&l>s.rank&&(s.rank=l,s.passed=!0,s.accessorIndex=o,s.accessorThreshold=d,s.rankedValue=a.itemValue)}return s}function Sge(e,t,n){return e=Tge(e,n),t=Tge(t,n),t.length>e.length?La.NO_MATCH:e===t?La.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?La.EQUAL:e.startsWith(t)?La.STARTS_WITH:e.includes(` ${t}`)?La.WORD_STARTS_WITH:e.includes(t)?La.CONTAINS:t.length===1?La.NO_MATCH:oQt(e).includes(t)?La.ACRONYM:aQt(e,t))}function oQt(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(s=>{t+=s.substr(0,1)})}),t}function aQt(e,t){let n=0,r=0;function i(l,u,c){for(let d=c,f=u.length;d<f;d++)if(u[d]===l)return n+=1,d+1;return-1}function s(l){const u=1/l,c=n/t.length;return La.MATCHES+c*u}const o=i(t[0],e,0);if(o<0)return La.NO_MATCH;r=o;for(let l=1,u=t.length;l<u;l++){const c=t[l];if(r=i(c,e,r),!(r>-1))return La.NO_MATCH}const a=r-o;return s(a)}function lQt(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function Tge(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=iQt(e)),e}function uQt(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function cQt(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const s=t[r],o=dQt(s),a=uQt(e,s);for(let l=0,u=a.length;l<u;l++)n.push({itemValue:a[l],attributes:o})}return n}const kge={maxRanking:1/0,minRanking:-1/0};function dQt(e){return typeof e=="function"?kge:{...kge,...e}}function aw(e,t,n){let r=n.initialDeps??[],i;return()=>{var s,o,a,l;let u;n.key&&((s=n.debug)!=null&&s.call(n))&&(u=Date.now());const c=e();if(!(c.length!==r.length||c.some((h,p)=>r[p]!==h)))return i;r=c;let f;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(f=Date.now()),i=t(...c),n.key&&((a=n.debug)!=null&&a.call(n))){const h=Math.round((Date.now()-u)*100)/100,p=Math.round((Date.now()-f)*100)/100,m=p/16,g=(v,y)=>{for(v=String(v);v.length<y;)v=" "+v;return v};console.info(`%c ${g(p,5)} /${g(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,i),i}}function e7(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const fQt=(e,t)=>Math.abs(e-t)<1,hQt=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},pQt=e=>e,d5e=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},mQt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=o=>{const{width:a,height:l}=o;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=o[0];if(a!=null&&a.borderBoxSize){const l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(n.getBoundingClientRect())});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},Age={passive:!0},gQt=typeof window>"u"?!0:"onscrollend"in window,yQt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const s=e.options.useScrollendEvent&&gQt?()=>{}:hQt(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:c,isRtl:d}=e.options;i=c?n.scrollLeft*(d&&-1||1):n.scrollTop,s(),t(i,u)},a=o(!0),l=o(!1);return l(),n.addEventListener("scroll",a,Age),n.addEventListener("scrollend",l,Age),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},vQt=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},bQt=(e,{adjustments:t=0,behavior:n},r)=>{var i,s;const o=e+t;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class wQt{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{this._measureElement(s.target,s)})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:pQt,rangeExtractor:d5e,onChange:()=>{},measureElement:vQt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=aw(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=aw(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=aw(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let c=l;c<n;c++){const d=s(c),f=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),h=f?f.end+this.options.gap:r+i,p=a.get(d),m=typeof p=="number"?p:this.options.estimateSize(c),g=h+m,v=f?f.lane:c%this.options.lanes;u[c]={index:c,start:h,size:m,end:g,key:d,lane:v}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=aw(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?xQt({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=aw(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,s)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=aw(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return e7(r[f5e(0,r.length-1,i=>e7(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),s=this.getScrollOffset();r==="auto"&&n>=s+i&&(r="end"),r==="end"&&(n-=i);const o=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const a=i.start-this.options.scrollPaddingStart+(i.size-s)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(n,r);if(!s)return;const[o,a]=s;this._scrollToOffset(o,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=e7(this.getOffsetForIndex(n,a));fQt(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(s=>s.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const f5e=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,s=n(i);if(s<r)e=i+1;else if(s>r)t=i-1;else return i}return e>0?e-1:0};function xQt({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,s=f5e(0,r,a=>e[a].start,n);let o=s;for(;o<r&&e[o].end<n+t;)o++;return{startIndex:s,endIndex:o}}const Ige=typeof document<"u"?D.useLayoutEffect:D.useEffect;function _Qt(e){const t=D.useReducer(()=>({}),{})[1],n={...e,onChange:(i,s)=>{var o;s?LT.flushSync(t):t(),(o=e.onChange)==null||o.call(e,i,s)}},[r]=D.useState(()=>new wQt(n));return r.setOptions(n),Ige(()=>r._didMount(),[]),Ige(()=>r._willUpdate()),r}function h5e(e){return _Qt({observeElementRect:mQt,observeElementOffset:yQt,scrollToFn:bQt,...e})}var kP={exports:{}},EQt=kP.exports,Rge;function CQt(){return Rge||(Rge=1,(function(e,t){(function(n,r){e.exports=r()})(EQt,(function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var U=["th","st","nd","rd"],B=L%100;return"["+L+(U[(B-20)%10]||U[B]||U[0])+"]"}},w=function(L,U,B){var V=String(L);return!V||V.length>=U?L:""+Array(U+1-V.length).join(B)+L},E={s:w,z:function(L){var U=-L.utcOffset(),B=Math.abs(U),V=Math.floor(B/60),G=B%60;return(U<=0?"+":"-")+w(V,2,"0")+":"+w(G,2,"0")},m:function L(U,B){if(U.date()<B.date())return-L(B,U);var V=12*(B.year()-U.year())+(B.month()-U.month()),G=U.clone().add(V,d),Y=B-G<0,z=U.clone().add(V+(Y?-1:1),d);return+(-(V+(B-G)/(Y?G-z:z-G))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:d,y:h,w:c,d:u,D:p,h:l,m:a,s:o,ms:s,Q:f}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},C="en",S={};S[C]=y;var T="$isDayjsObject",k=function(L){return L instanceof M||!(!L||!L[T])},I=function L(U,B,V){var G;if(!U)return C;if(typeof U=="string"){var Y=U.toLowerCase();S[Y]&&(G=Y),B&&(S[Y]=B,G=Y);var z=U.split("-");if(!G&&z.length>1)return L(z[0])}else{var F=U.name;S[F]=U,G=F}return!V&&G&&(C=G),G||!V&&C},R=function(L,U){if(k(L))return L.clone();var B=typeof U=="object"?U:{};return B.date=L,B.args=arguments,new M(B)},O=E;O.l=I,O.i=k,O.w=function(L,U){return R(L,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var M=(function(){function L(B){this.$L=I(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[T]=!0}var U=L.prototype;return U.parse=function(B){this.$d=(function(V){var G=V.date,Y=V.utc;if(G===null)return new Date(NaN);if(O.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var z=G.match(g);if(z){var F=z[2]-1||0,W=(z[7]||"0").substring(0,3);return Y?new Date(Date.UTC(z[1],F,z[3]||1,z[4]||0,z[5]||0,z[6]||0,W)):new Date(z[1],F,z[3]||1,z[4]||0,z[5]||0,z[6]||0,W)}}return new Date(G)})(B),this.init()},U.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},U.$utils=function(){return O},U.isValid=function(){return this.$d.toString()!==m},U.isSame=function(B,V){var G=R(B);return this.startOf(V)<=G&&G<=this.endOf(V)},U.isAfter=function(B,V){return R(B)<this.startOf(V)},U.isBefore=function(B,V){return this.endOf(V)<R(B)},U.$g=function(B,V,G){return O.u(B)?this[V]:this.set(G,B)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(B,V){var G=this,Y=!!O.u(V)||V,z=O.p(B),F=function(ie,he){var ee=O.w(G.$u?Date.UTC(G.$y,he,ie):new Date(G.$y,he,ie),G);return Y?ee:ee.endOf(u)},W=function(ie,he){return O.w(G.toDate()[ie].apply(G.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(he)),G)},q=this.$W,K=this.$M,J=this.$D,te="set"+(this.$u?"UTC":"");switch(z){case h:return Y?F(1,0):F(31,11);case d:return Y?F(1,K):F(0,K+1);case c:var le=this.$locale().weekStart||0,oe=(q<le?q+7:q)-le;return F(Y?J-oe:J+(6-oe),K);case u:case p:return W(te+"Hours",0);case l:return W(te+"Minutes",1);case a:return W(te+"Seconds",2);case o:return W(te+"Milliseconds",3);default:return this.clone()}},U.endOf=function(B){return this.startOf(B,!1)},U.$set=function(B,V){var G,Y=O.p(B),z="set"+(this.$u?"UTC":""),F=(G={},G[u]=z+"Date",G[p]=z+"Date",G[d]=z+"Month",G[h]=z+"FullYear",G[l]=z+"Hours",G[a]=z+"Minutes",G[o]=z+"Seconds",G[s]=z+"Milliseconds",G)[Y],W=Y===u?this.$D+(V-this.$W):V;if(Y===d||Y===h){var q=this.clone().set(p,1);q.$d[F](W),q.init(),this.$d=q.set(p,Math.min(this.$D,q.daysInMonth())).$d}else F&&this.$d[F](W);return this.init(),this},U.set=function(B,V){return this.clone().$set(B,V)},U.get=function(B){return this[O.p(B)]()},U.add=function(B,V){var G,Y=this;B=Number(B);var z=O.p(V),F=function(K){var J=R(Y);return O.w(J.date(J.date()+Math.round(K*B)),Y)};if(z===d)return this.set(d,this.$M+B);if(z===h)return this.set(h,this.$y+B);if(z===u)return F(1);if(z===c)return F(7);var W=(G={},G[a]=r,G[l]=i,G[o]=n,G)[z]||1,q=this.$d.getTime()+B*W;return O.w(q,this)},U.subtract=function(B,V){return this.add(-1*B,V)},U.format=function(B){var V=this,G=this.$locale();if(!this.isValid())return G.invalidDate||m;var Y=B||"YYYY-MM-DDTHH:mm:ssZ",z=O.z(this),F=this.$H,W=this.$m,q=this.$M,K=G.weekdays,J=G.months,te=G.meridiem,le=function(he,ee,ne,ue){return he&&(he[ee]||he(V,Y))||ne[ee].slice(0,ue)},oe=function(he){return O.s(F%12||12,he,"0")},ie=te||function(he,ee,ne){var ue=he<12?"AM":"PM";return ne?ue.toLowerCase():ue};return Y.replace(v,(function(he,ee){return ee||(function(ne){switch(ne){case"YY":return String(V.$y).slice(-2);case"YYYY":return O.s(V.$y,4,"0");case"M":return q+1;case"MM":return O.s(q+1,2,"0");case"MMM":return le(G.monthsShort,q,J,3);case"MMMM":return le(J,q);case"D":return V.$D;case"DD":return O.s(V.$D,2,"0");case"d":return String(V.$W);case"dd":return le(G.weekdaysMin,V.$W,K,2);case"ddd":return le(G.weekdaysShort,V.$W,K,3);case"dddd":return K[V.$W];case"H":return String(F);case"HH":return O.s(F,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return ie(F,W,!0);case"A":return ie(F,W,!1);case"m":return String(W);case"mm":return O.s(W,2,"0");case"s":return String(V.$s);case"ss":return O.s(V.$s,2,"0");case"SSS":return O.s(V.$ms,3,"0");case"Z":return z}return null})(he)||z.replace(":","")}))},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(B,V,G){var Y,z=this,F=O.p(V),W=R(B),q=(W.utcOffset()-this.utcOffset())*r,K=this-W,J=function(){return O.m(z,W)};switch(F){case h:Y=J()/12;break;case d:Y=J();break;case f:Y=J()/3;break;case c:Y=(K-q)/6048e5;break;case u:Y=(K-q)/864e5;break;case l:Y=K/i;break;case a:Y=K/r;break;case o:Y=K/n;break;default:Y=K}return G?Y:O.a(Y)},U.daysInMonth=function(){return this.endOf(d).$D},U.$locale=function(){return S[this.$L]},U.locale=function(B,V){if(!B)return this.$L;var G=this.clone(),Y=I(B,V,!0);return Y&&(G.$L=Y),G},U.clone=function(){return O.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},L})(),$=M.prototype;return R.prototype=$,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",h],["$D",p]].forEach((function(L){$[L[1]]=function(U){return this.$g(U,L[0],L[1])}})),R.extend=function(L,U){return L.$i||(L(U,M,R),L.$i=!0),R},R.locale=I,R.isDayjs=k,R.unix=function(L){return R(1e3*L)},R.en=S[C],R.Ls=S,R.p={},R}))})(kP)),kP.exports}var SQt=CQt();const Qt=qs(SQt);function TQt({direction:e,levelIndex:t,rowIndex:n,cellIndex:r,size:i}){switch(e){case"up":return t===0&&n===0?null:n===0?{levelIndex:t-1,rowIndex:r<=i[t-1][i[t-1].length-1]-1?i[t-1].length-1:i[t-1].length-2,cellIndex:r}:{levelIndex:t,rowIndex:n-1,cellIndex:r};case"down":return n===i[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:r}:n===i[t].length-2&&r>=i[t][i[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:r}:{levelIndex:t,rowIndex:n+1,cellIndex:r};case"left":return t===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:t-1,rowIndex:i[t-1].length-1,cellIndex:i[t-1][i[t-1].length-1]-1}:r===0?{levelIndex:t,rowIndex:n-1,cellIndex:i[t][n-1]-1}:{levelIndex:t,rowIndex:n,cellIndex:r-1};case"right":return n===i[t].length-1&&r===i[t][n]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:r===i[t][n]-1?{levelIndex:t,rowIndex:n+1,cellIndex:0}:{levelIndex:t,rowIndex:n,cellIndex:r+1};default:return{levelIndex:t,rowIndex:n,cellIndex:r}}}function p5e({controlsRef:e,direction:t,levelIndex:n,rowIndex:r,cellIndex:i,size:s}){var l,u,c;const o=TQt({direction:t,size:s,rowIndex:r,cellIndex:i,levelIndex:n});if(!o)return;const a=(c=(u=(l=e.current)==null?void 0:l[o.levelIndex])==null?void 0:u[o.rowIndex])==null?void 0:c[o.cellIndex];a&&(a.disabled||a.getAttribute("data-hidden")||a.getAttribute("data-outside")?p5e({controlsRef:e,direction:t,levelIndex:o.levelIndex,cellIndex:o.cellIndex,rowIndex:o.rowIndex,size:s}):a.focus())}function kQt(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function AQt(e){var t;return(t=e.current)==null?void 0:t.map(n=>n.map(r=>r.length))}function yte({controlsRef:e,levelIndex:t,rowIndex:n,cellIndex:r,event:i}){const s=kQt(i.key);if(s){i.preventDefault();const o=AQt(e);p5e({controlsRef:e,direction:s,levelIndex:t,rowIndex:n,cellIndex:r,size:o})}}function IQt(e,t){if(!e||!t)return t;const n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),s=e.getMilliseconds(),o=new Date(t);return o.setHours(n),o.setMinutes(r),o.setSeconds(i),o.setMilliseconds(s),o}var AP={exports:{}},RQt=AP.exports,Dge;function DQt(){return Dge||(Dge=1,(function(e,t){(function(n,r){e.exports=r()})(RQt,(function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,s,o){var a,l=function(f,h,p){p===void 0&&(p={});var m=new Date(f),g=(function(v,y){y===void 0&&(y={});var w=y.timeZoneName||"short",E=v+"|"+w,C=r[E];return C||(C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:w}),r[E]=C),C})(h,p);return g.formatToParts(m)},u=function(f,h){for(var p=l(f,h),m=[],g=0;g<p.length;g+=1){var v=p[g],y=v.type,w=v.value,E=n[y];E>=0&&(m[E]=parseInt(w,10))}var C=m[3],S=C===24?0:C,T=m[0]+"-"+m[1]+"-"+m[2]+" "+S+":"+m[4]+":"+m[5]+":000",k=+f;return(o.utc(T).valueOf()-(k-=k%1e3))/6e4},c=s.prototype;c.tz=function(f,h){f===void 0&&(f=a);var p,m=this.utcOffset(),g=this.toDate(),v=g.toLocaleString("en-US",{timeZone:f}),y=Math.round((g-new Date(v))/1e3/60),w=15*-Math.round(g.getTimezoneOffset()/15)-y;if(!Number(w))p=this.utcOffset(0,h);else if(p=o(v,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(w,!0),h){var E=p.utcOffset();p=p.add(m-E,"minute")}return p.$x.$timezone=f,p},c.offsetName=function(f){var h=this.$x.$timezone||o.tz.guess(),p=l(this.valueOf(),h,{timeZoneName:f}).find((function(m){return m.type.toLowerCase()==="timezonename"}));return p&&p.value};var d=c.startOf;c.startOf=function(f,h){if(!this.$x||!this.$x.$timezone)return d.call(this,f,h);var p=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(p,f,h).tz(this.$x.$timezone,!0)},o.tz=function(f,h,p){var m=p&&h,g=p||h||a,v=u(+o(),g);if(typeof f!="string")return o(f).tz(g);var y=(function(S,T,k){var I=S-60*T*1e3,R=u(I,k);if(T===R)return[I,T];var O=u(I-=60*(R-T)*1e3,k);return R===O?[I,R]:[S-60*Math.min(R,O)*1e3,Math.max(R,O)]})(o.utc(f,m).valueOf(),v,g),w=y[0],E=y[1],C=o(w).utcOffset(E);return C.$x.$timezone=g,C},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(f){a=f}}}))})(AP)),AP.exports}var PQt=DQt();const OQt=qs(PQt);var IP={exports:{}},NQt=IP.exports,Pge;function $Qt(){return Pge||(Pge=1,(function(e,t){(function(n,r){e.exports=r()})(NQt,(function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(m){var g={date:m,utc:!0,args:arguments};return new o(g)},l.utc=function(m){var g=a(this.toDate(),{locale:this.$L,utc:!0});return m?g.add(this.utcOffset(),n):g},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var c=l.init;l.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(m,g){var v=this.$utils().u;if(v(m))return this.$u?0:v(this.$offset)?d.call(this):this.$offset;if(typeof m=="string"&&(m=(function(C){C===void 0&&(C="");var S=C.match(r);if(!S)return null;var T=(""+S[0]).match(i)||["-",0,0],k=T[0],I=60*+T[1]+ +T[2];return I===0?0:k==="+"?I:-I})(m),m===null))return this;var y=Math.abs(m)<=16?60*m:m,w=this;if(g)return w.$offset=y,w.$u=m===0,w;if(m!==0){var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(y+E,n)).$offset=y,w.$x.$localOffset=E}else w=this.utc();return w};var f=l.format;l.format=function(m){var g=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,g)},l.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=l.diff;l.diff=function(m,g,v){if(m&&this.$u===m.$u)return p.call(this,m,g,v);var y=this.local(),w=a(m).local();return p.call(y,w,g,v)}}}))})(IP)),IP.exports}var MQt=$Qt();const FQt=qs(MQt);Qt.extend(FQt);Qt.extend(OQt);function LQt(e,t){return t?Qt(e).tz(t).utcOffset()+e.getTimezoneOffset():0}const Oge=(e,t,n)=>{if(!e)return null;if(!t)return e;let r=LQt(e,t);return n==="remove"&&(r*=-1),Qt(e).add(r,"minutes").toDate()};function Nv(e,t,n,r){return r||!t?t:Array.isArray(t)?t.map(i=>Oge(i,n,e)):Oge(t,n,e)}const jQt={locale:"en",timezone:null,firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},BQt=D.createContext(jQt);function Tc(){const e=D.useContext(BQt),t=D.useCallback(o=>o||e.locale,[e.locale]),n=D.useCallback(o=>o||e.timezone||void 0,[e.timezone]),r=D.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),i=D.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),s=D.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getTimezone:n,getFirstDayOfWeek:r,getWeekendDays:i,getLabelSeparator:s}}function zQt(e,t){const n=Tc(),r=i=>Nv("remove",i,n.getTimezone()).toISOString();if(t==="range"&&Array.isArray(e)){const[i,s]=e;return i?s?`${r(i)}  ${r(s)}`:`${r(i)} `:""}return t==="multiple"&&Array.isArray(e)?e.map(i=>i&&r(i)).filter(Boolean).join(", "):!Array.isArray(e)&&e?r(e):""}function m5e({value:e,type:t,name:n,form:r}){return x.jsx("input",{type:"hidden",value:zQt(e,t),name:n,form:r})}m5e.displayName="@mantine/dates/HiddenDatesInput";var g5e={day:"m_396ce5cb"};const UQt={},qQt=(e,{size:t})=>({day:{"--day-size":gn(t,"day-size")}}),vte=We((e,t)=>{const n=Oe("Day",UQt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,date:u,disabled:c,__staticSelector:d,weekend:f,outside:h,selected:p,renderDay:m,inRange:g,firstInRange:v,lastInRange:y,hidden:w,static:E,highlightToday:C,...S}=n,T=kt({name:d||"Day",classes:g5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:qQt,rootSelector:"day"}),k=Tc();return x.jsx(ss,{...T("day",{style:w?{display:"none"}:void 0}),component:E?"div":"button",ref:t,disabled:c,"data-today":Qt(u).isSame(Nv("add",new Date,k.getTimezone()),"day")||void 0,"data-hidden":w||void 0,"data-highlight-today":C||void 0,"data-disabled":c||void 0,"data-weekend":!c&&!h&&f||void 0,"data-outside":!c&&h||void 0,"data-selected":!c&&p||void 0,"data-in-range":g&&!c||void 0,"data-first-in-range":v&&!c||void 0,"data-last-in-range":y&&!c||void 0,"data-static":E||void 0,unstyled:a,...S,children:(m==null?void 0:m(u))||Qt(u).date()})});vte.classes=g5e;vte.displayName="@mantine/dates/Day";function HQt({locale:e,format:t="dd",firstDayOfWeek:n=1}){const r=Qt().day(n),i=[];for(let s=0;s<7;s+=1)typeof t=="string"?i.push(Qt(r).add(s,"days").locale(e).format(t)):i.push(t(Qt(r).add(s,"days").toDate()));return i}var y5e={weekday:"m_18a3eca"};const VQt={},WQt=(e,{size:t})=>({weekdaysRow:{"--wr-fz":Yi(t),"--wr-spacing":wi(t)}}),bte=We((e,t)=>{const n=Oe("WeekdaysRow",VQt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,locale:u,firstDayOfWeek:c,weekdayFormat:d,cellComponent:f="th",__staticSelector:h,withWeekNumbers:p,...m}=n,g=kt({name:h||"WeekdaysRow",classes:y5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:WQt,rootSelector:"weekdaysRow"}),v=Tc(),y=HQt({locale:v.getLocale(u),format:d,firstDayOfWeek:v.getFirstDayOfWeek(c)}).map((w,E)=>x.jsx(f,{...g("weekday"),children:w},E));return x.jsxs(_e,{component:"tr",ref:t,...g("weekdaysRow"),...m,children:[p&&x.jsx(f,{...g("weekday"),children:"#"}),y]})});bte.classes=y5e;bte.displayName="@mantine/dates/WeekdaysRow";function GQt(e,t=1){let n=Qt(e);const r=t===0?6:t-1;for(;n.day()!==r;)n=n.add(1,"day");return n.toDate()}function YQt(e,t=1){let n=Qt(e);for(;n.day()!==t;)n=n.subtract(1,"day");return n.toDate()}function KQt({month:e,firstDayOfWeek:t=1,consistentWeeks:n}){const r=Qt(e).subtract(Qt(e).date()-1,"day"),i=Qt(r).startOf("day"),s=i.toDate(),o=i.add(+i.daysInMonth()-1,"day").toDate(),a=GQt(o,t),l=YQt(s,t),u=[];for(;l<=a;){const c=[];for(let d=0;d<7;d+=1)c.push(new Date(l)),l.setDate(l.getDate()+1);u.push(c)}if(n&&u.length<6){const c=u[u.length-1],d=c[c.length-1],f=new Date(d);for(f.setDate(f.getDate()+1);u.length<6;){const h=[];for(let p=0;p<7;p+=1)h.push(new Date(f)),f.setDate(f.getDate()+1);u.push(h)}}return u}function v5e(e,t){return Qt(e).format("YYYY-MM")===Qt(t).format("YYYY-MM")}function b5e(e,t){return t instanceof Date?Qt(e).isAfter(Qt(t).subtract(1,"day"),"day"):!0}function w5e(e,t){return t instanceof Date?Qt(e).isBefore(Qt(t).add(1,"day"),"day"):!0}function XQt(e,t,n,r,i,s,o){const a=e.flat().filter(c=>{var d;return w5e(c,n)&&b5e(c,t)&&!(i!=null&&i(c))&&!((d=r==null?void 0:r(c))!=null&&d.disabled)&&(!s||v5e(c,o))}),l=a.find(c=>{var d;return(d=r==null?void 0:r(c))==null?void 0:d.selected});if(l)return l;const u=a.find(c=>Qt().isSame(c,"date"));return u||a[0]}var RP={exports:{}},QQt=RP.exports,Nge;function JQt(){return Nge||(Nge=1,(function(e,t){(function(n,r){e.exports=r()})(QQt,(function(){var n="day";return function(r,i,s){var o=function(u){return u.add(4-u.isoWeekday(),n)},a=i.prototype;a.isoWeekYear=function(){return o(this).year()},a.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),n);var c,d,f,h,p=o(this),m=(c=this.isoWeekYear(),d=this.$u,f=(d?s.utc:s)().year(c).startOf("year"),h=4-f.isoWeekday(),f.isoWeekday()>4&&(h+=7),f.add(h,n));return p.diff(m,"week")+1},a.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=a.startOf;a.startOf=function(u,c){var d=this.$utils(),f=!!d.u(c)||c;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,c)}}}))})(RP)),RP.exports}var ZQt=JQt();const eJt=qs(ZQt);Qt.extend(eJt);function tJt(e){const t=e.find(n=>Qt(n).day()===1);return Qt(t).isoWeek()}var x5e={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const nJt={withCellSpacing:!0},rJt=(e,{size:t})=>({weekNumber:{"--wn-fz":Yi(t),"--wn-size":gn(t,"wn-size")}}),jM=We((e,t)=>{const n=Oe("Month",nJt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,locale:c,firstDayOfWeek:d,weekdayFormat:f,month:h,weekendDays:p,getDayProps:m,excludeDate:g,minDate:v,maxDate:y,renderDay:w,hideOutsideDates:E,hideWeekdays:C,getDayAriaLabel:S,static:T,__getDayRef:k,__onDayKeyDown:I,__onDayClick:R,__onDayMouseEnter:O,__preventFocus:M,__stopPropagation:$,withCellSpacing:L,size:U,highlightToday:B,withWeekNumbers:V,...G}=n,Y=kt({name:u||"Month",classes:x5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:rJt,rootSelector:"month"}),z=Tc(),F=KQt({month:h,firstDayOfWeek:z.getFirstDayOfWeek(d),consistentWeeks:z.consistentWeeks}),W=XQt(F,v,y,m,g,E,h),{resolvedClassNames:q,resolvedStyles:K}=Eh({classNames:r,styles:o,props:n}),J=F.map((te,le)=>{const oe=te.map((ie,he)=>{const ee=!v5e(ie,h),ne=(S==null?void 0:S(ie))||Qt(ie).locale(c||z.locale).format("D MMMM YYYY"),ue=m==null?void 0:m(ie),ve=Qt(ie).isSame(W,"date");return x.jsx("td",{...Y("monthCell"),"data-with-spacing":L||void 0,children:x.jsx(vte,{__staticSelector:u||"Month",classNames:q,styles:K,unstyled:a,"data-mantine-stop-propagation":$||void 0,highlightToday:B,renderDay:w,date:ie,size:U,weekend:z.getWeekendDays(p).includes(ie.getDay()),outside:ee,hidden:E?ee:!1,"aria-label":ne,static:T,disabled:(g==null?void 0:g(ie))||!w5e(ie,y)||!b5e(ie,v),ref:xe=>k==null?void 0:k(le,he,xe),...ue,onKeyDown:xe=>{var Re;(Re=ue==null?void 0:ue.onKeyDown)==null||Re.call(ue,xe),I==null||I(xe,{rowIndex:le,cellIndex:he,date:ie})},onMouseEnter:xe=>{var Re;(Re=ue==null?void 0:ue.onMouseEnter)==null||Re.call(ue,xe),O==null||O(xe,ie)},onClick:xe=>{var Re;(Re=ue==null?void 0:ue.onClick)==null||Re.call(ue,xe),R==null||R(xe,ie)},onMouseDown:xe=>{var Re;(Re=ue==null?void 0:ue.onMouseDown)==null||Re.call(ue,xe),M&&xe.preventDefault()},tabIndex:M||!ve?-1:0})},ie.toString())});return x.jsxs("tr",{...Y("monthRow"),children:[V&&x.jsx("td",{...Y("weekNumber"),children:tJt(te)}),oe]},le)});return x.jsxs(_e,{component:"table",...Y("month"),size:U,ref:t,...G,children:[!C&&x.jsx("thead",{...Y("monthThead"),children:x.jsx(bte,{__staticSelector:u||"Month",locale:c,firstDayOfWeek:d,weekdayFormat:f,size:U,classNames:q,styles:K,unstyled:a,withWeekNumbers:V})}),x.jsx("tbody",{...Y("monthTbody"),children:J})]})});jM.classes=x5e;jM.displayName="@mantine/dates/Month";var _5e={pickerControl:"m_dc6a3c71"};const iJt={},sJt=(e,{size:t})=>({pickerControl:{"--dpc-fz":Yi(t),"--dpc-size":gn(t,"dpc-size")}}),BM=We((e,t)=>{const n=Oe("PickerControl",iJt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,firstInRange:u,lastInRange:c,inRange:d,__staticSelector:f,selected:h,disabled:p,...m}=n,g=kt({name:f||"PickerControl",classes:_5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:sJt,rootSelector:"pickerControl"});return x.jsx(ss,{...g("pickerControl"),ref:t,unstyled:a,"data-picker-control":!0,"data-selected":h&&!p||void 0,"data-disabled":p||void 0,"data-in-range":d&&!p&&!h||void 0,"data-first-in-range":u&&!p||void 0,"data-last-in-range":c&&!p||void 0,disabled:p,...m})});BM.classes=_5e;BM.displayName="@mantine/dates/PickerControl";function E5e(e,t,n){return!t&&!n?!1:!!(t&&Qt(e).isBefore(t,"year")||n&&Qt(e).isAfter(n,"year"))}function oJt(e,t,n,r){const i=e.flat().filter(a=>{var l;return!E5e(a,t,n)&&!((l=r==null?void 0:r(a))!=null&&l.disabled)}),s=i.find(a=>{var l;return(l=r==null?void 0:r(a))==null?void 0:l.selected});if(s)return s;const o=i.find(a=>Qt().isSame(a,"year"));return o||i[0]}function C5e(e){const t=e.getFullYear(),n=t-t%10;let r=0;const i=[[],[],[],[]];for(let s=0;s<4;s+=1){const o=s===3?1:3;for(let a=0;a<o;a+=1)i[s].push(new Date(n+r,0)),r+=1}return i}var S5e={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const aJt={yearsListFormat:"YYYY",withCellSpacing:!0},zM=We((e,t)=>{const n=Oe("YearsList",aJt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,decade:u,yearsListFormat:c,locale:d,minDate:f,maxDate:h,getYearControlProps:p,__staticSelector:m,__getControlRef:g,__onControlKeyDown:v,__onControlClick:y,__onControlMouseEnter:w,__preventFocus:E,__stopPropagation:C,withCellSpacing:S,size:T,...k}=n,I=kt({name:m||"YearsList",classes:S5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"yearsList"}),R=Tc(),O=C5e(u),M=oJt(O,f,h,p),$=O.map((L,U)=>{const B=L.map((V,G)=>{const Y=p==null?void 0:p(V),z=Qt(V).isSame(M,"year");return x.jsx("td",{...I("yearsListCell"),"data-with-spacing":S||void 0,children:x.jsx(BM,{...I("yearsListControl"),size:T,unstyled:a,"data-mantine-stop-propagation":C||void 0,disabled:E5e(V,f,h),ref:F=>g==null?void 0:g(U,G,F),...Y,onKeyDown:F=>{var W;(W=Y==null?void 0:Y.onKeyDown)==null||W.call(Y,F),v==null||v(F,{rowIndex:U,cellIndex:G,date:V})},onClick:F=>{var W;(W=Y==null?void 0:Y.onClick)==null||W.call(Y,F),y==null||y(F,V)},onMouseEnter:F=>{var W;(W=Y==null?void 0:Y.onMouseEnter)==null||W.call(Y,F),w==null||w(F,V)},onMouseDown:F=>{var W;(W=Y==null?void 0:Y.onMouseDown)==null||W.call(Y,F),E&&F.preventDefault()},tabIndex:E||!z?-1:0,children:Qt(V).locale(R.getLocale(d)).format(c)})},G)});return x.jsx("tr",{...I("yearsListRow"),children:B},U)});return x.jsx(_e,{component:"table",ref:t,size:T,...I("yearsList"),...k,children:x.jsx("tbody",{children:$})})});zM.classes=S5e;zM.displayName="@mantine/dates/YearsList";function T5e(e,t,n){return!t&&!n?!1:!!(t&&Qt(e).isBefore(t,"month")||n&&Qt(e).isAfter(n,"month"))}function lJt(e,t,n,r){const i=e.flat().filter(a=>{var l;return!T5e(a,t,n)&&!((l=r==null?void 0:r(a))!=null&&l.disabled)}),s=i.find(a=>{var l;return(l=r==null?void 0:r(a))==null?void 0:l.selected});if(s)return s;const o=i.find(a=>Qt().isSame(a,"month"));return o||i[0]}function uJt(e){const t=Qt(e).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let s=0;s<3;s+=1)n[i].push(Qt(t).add(r,"months").toDate()),r+=1;return n}var k5e={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const cJt={monthsListFormat:"MMM",withCellSpacing:!0},UM=We((e,t)=>{const n=Oe("MonthsList",cJt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,year:c,monthsListFormat:d,locale:f,minDate:h,maxDate:p,getMonthControlProps:m,__getControlRef:g,__onControlKeyDown:v,__onControlClick:y,__onControlMouseEnter:w,__preventFocus:E,__stopPropagation:C,withCellSpacing:S,size:T,...k}=n,I=kt({name:u||"MonthsList",classes:k5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"monthsList"}),R=Tc(),O=uJt(c),M=lJt(O,h,p,m),$=O.map((L,U)=>{const B=L.map((V,G)=>{const Y=m==null?void 0:m(V),z=Qt(V).isSame(M,"month");return x.jsx("td",{...I("monthsListCell"),"data-with-spacing":S||void 0,children:x.jsx(BM,{...I("monthsListControl"),size:T,unstyled:a,__staticSelector:u||"MonthsList","data-mantine-stop-propagation":C||void 0,disabled:T5e(V,h,p),ref:F=>g==null?void 0:g(U,G,F),...Y,onKeyDown:F=>{var W;(W=Y==null?void 0:Y.onKeyDown)==null||W.call(Y,F),v==null||v(F,{rowIndex:U,cellIndex:G,date:V})},onClick:F=>{var W;(W=Y==null?void 0:Y.onClick)==null||W.call(Y,F),y==null||y(F,V)},onMouseEnter:F=>{var W;(W=Y==null?void 0:Y.onMouseEnter)==null||W.call(Y,F),w==null||w(F,V)},onMouseDown:F=>{var W;(W=Y==null?void 0:Y.onMouseDown)==null||W.call(Y,F),E&&F.preventDefault()},tabIndex:E||!z?-1:0,children:Qt(V).locale(R.getLocale(f)).format(d)})},G)});return x.jsx("tr",{...I("monthsListRow"),children:B},U)});return x.jsx(_e,{component:"table",ref:t,size:T,...I("monthsList"),...k,children:x.jsx("tbody",{children:$})})});UM.classes=k5e;UM.displayName="@mantine/dates/MonthsList";var A5e={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const dJt={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},fJt=(e,{size:t})=>({calendarHeader:{"--dch-control-size":gn(t,"dch-control-size"),"--dch-fz":Yi(t)}}),Zg=We((e,t)=>{const n=Oe("CalendarHeader",dJt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,nextIcon:u,previousIcon:c,nextLabel:d,previousLabel:f,onNext:h,onPrevious:p,onLevelClick:m,label:g,nextDisabled:v,previousDisabled:y,hasNextLevel:w,levelControlAriaLabel:E,withNext:C,withPrevious:S,__staticSelector:T,__preventFocus:k,__stopPropagation:I,...R}=n,O=kt({name:T||"CalendarHeader",classes:A5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:fJt,rootSelector:"calendarHeader"}),M=k?$=>$.preventDefault():void 0;return x.jsxs(_e,{...O("calendarHeader"),ref:t,...R,children:[S&&x.jsx(ss,{...O("calendarHeaderControl"),"data-direction":"previous","aria-label":f,onClick:p,unstyled:a,onMouseDown:M,disabled:y,"data-disabled":y||void 0,tabIndex:k||y?-1:0,"data-mantine-stop-propagation":I||void 0,children:c||x.jsx(Sx,{...O("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),x.jsx(ss,{component:w?"button":"div",...O("calendarHeaderLevel"),onClick:w?m:void 0,unstyled:a,onMouseDown:w?M:void 0,disabled:!w,"data-static":!w||void 0,"aria-label":E,tabIndex:k||!w?-1:0,"data-mantine-stop-propagation":I||void 0,children:g}),C&&x.jsx(ss,{...O("calendarHeaderControl"),"data-direction":"next","aria-label":d,onClick:h,unstyled:a,onMouseDown:M,disabled:v,"data-disabled":v||void 0,tabIndex:k||v?-1:0,"data-mantine-stop-propagation":I||void 0,children:u||x.jsx(Sx,{...O("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});Zg.classes=A5e;Zg.displayName="@mantine/dates/CalendarHeader";function hJt(e){const t=C5e(e);return[t[0][0],t[3][0]]}const pJt={decadeLabelFormat:"YYYY"},qM=We((e,t)=>{const n=Oe("DecadeLevel",pJt,e),{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:v,previousLabel:y,onNext:w,onPrevious:E,nextDisabled:C,previousDisabled:S,levelControlAriaLabel:T,withNext:k,withPrevious:I,decadeLabelFormat:R,classNames:O,styles:M,unstyled:$,__staticSelector:L,__stopPropagation:U,size:B,...V}=n,G=Tc(),[Y,z]=hJt(r),F={__staticSelector:L||"DecadeLevel",classNames:O,styles:M,unstyled:$,size:B},W=typeof C=="boolean"?C:o?!Qt(z).endOf("year").isBefore(o):!1,q=typeof S=="boolean"?S:s?!Qt(Y).startOf("year").isAfter(s):!1,K=(J,te)=>Qt(J).locale(i||G.locale).format(te);return x.jsxs(_e,{"data-decade-level":!0,size:B,ref:t,...V,children:[x.jsx(Zg,{label:typeof R=="function"?R(Y,z):`${K(Y,R)}  ${K(z,R)}`,__preventFocus:p,__stopPropagation:U,nextIcon:m,previousIcon:g,nextLabel:v,previousLabel:y,onNext:w,onPrevious:E,nextDisabled:W,previousDisabled:q,hasNextLevel:!1,levelControlAriaLabel:T,withNext:k,withPrevious:I,...F}),x.jsx(zM,{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:p,__stopPropagation:U,withCellSpacing:h,...F})]})});qM.classes={...zM.classes,...Zg.classes};qM.displayName="@mantine/dates/DecadeLevel";const mJt={yearLabelFormat:"YYYY"},HM=We((e,t)=>{const n=Oe("YearLevel",mJt,e),{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:v,previousLabel:y,onNext:w,onPrevious:E,onLevelClick:C,nextDisabled:S,previousDisabled:T,hasNextLevel:k,levelControlAriaLabel:I,withNext:R,withPrevious:O,yearLabelFormat:M,__staticSelector:$,__stopPropagation:L,size:U,classNames:B,styles:V,unstyled:G,...Y}=n,z=Tc(),F={__staticSelector:$||"YearLevel",classNames:B,styles:V,unstyled:G,size:U},W=typeof S=="boolean"?S:o?!Qt(r).endOf("year").isBefore(o):!1,q=typeof T=="boolean"?T:s?!Qt(r).startOf("year").isAfter(s):!1;return x.jsxs(_e,{"data-year-level":!0,size:U,ref:t,...Y,children:[x.jsx(Zg,{label:typeof M=="function"?M(r):Qt(r).locale(i||z.locale).format(M),__preventFocus:p,__stopPropagation:L,nextIcon:m,previousIcon:g,nextLabel:v,previousLabel:y,onNext:w,onPrevious:E,onLevelClick:C,nextDisabled:W,previousDisabled:q,hasNextLevel:k,levelControlAriaLabel:I,withNext:R,withPrevious:O,...F}),x.jsx(UM,{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:p,__stopPropagation:L,withCellSpacing:h,...F})]})});HM.classes={...Zg.classes,...UM.classes};HM.displayName="@mantine/dates/YearLevel";const gJt={monthLabelFormat:"MMMM YYYY"},VM=We((e,t)=>{const n=Oe("MonthLevel",gJt,e),{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:v,__onDayClick:y,__onDayMouseEnter:w,withCellSpacing:E,highlightToday:C,withWeekNumbers:S,__preventFocus:T,__stopPropagation:k,nextIcon:I,previousIcon:R,nextLabel:O,previousLabel:M,onNext:$,onPrevious:L,onLevelClick:U,nextDisabled:B,previousDisabled:V,hasNextLevel:G,levelControlAriaLabel:Y,withNext:z,withPrevious:F,monthLabelFormat:W,classNames:q,styles:K,unstyled:J,__staticSelector:te,size:le,static:oe,...ie}=n,he=Tc(),ee={__staticSelector:te||"MonthLevel",classNames:q,styles:K,unstyled:J,size:le},ne=typeof B=="boolean"?B:d?!Qt(r).endOf("month").isBefore(d):!1,ue=typeof V=="boolean"?V:c?!Qt(r).startOf("month").isAfter(c):!1;return x.jsxs(_e,{"data-month-level":!0,size:le,ref:t,...ie,children:[x.jsx(Zg,{label:typeof W=="function"?W(r):Qt(r).locale(i||he.locale).format(W),__preventFocus:T,__stopPropagation:k,nextIcon:I,previousIcon:R,nextLabel:O,previousLabel:M,onNext:$,onPrevious:L,onLevelClick:U,nextDisabled:ne,previousDisabled:ue,hasNextLevel:G,levelControlAriaLabel:Y,withNext:z,withPrevious:F,...ee}),x.jsx(jM,{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:v,__onDayClick:y,__onDayMouseEnter:w,__preventFocus:T,__stopPropagation:k,static:oe,withCellSpacing:E,highlightToday:C,withWeekNumbers:S,...ee})]})});VM.classes={...jM.classes,...Zg.classes};VM.displayName="@mantine/dates/MonthLevel";var I5e={levelsGroup:"m_30b26e33"};const yJt={},ey=We((e,t)=>{const n=Oe("LevelsGroup",yJt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,...c}=n,d=kt({name:u||"LevelsGroup",classes:I5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"levelsGroup"});return x.jsx(_e,{ref:t,...d("levelsGroup"),...c})});ey.classes=I5e;ey.displayName="@mantine/dates/LevelsGroup";const vJt={numberOfColumns:1},WM=We((e,t)=>{const n=Oe("DecadeLevelGroup",vJt,e),{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:v,onPrevious:y,nextDisabled:w,previousDisabled:E,classNames:C,styles:S,unstyled:T,__staticSelector:k,__stopPropagation:I,numberOfColumns:R,levelControlAriaLabel:O,decadeLabelFormat:M,size:$,vars:L,...U}=n,B=D.useRef([]),V=Array(R).fill(0).map((G,Y)=>{const z=Qt(r).add(Y*10,"years").toDate();return x.jsx(qM,{size:$,yearsListFormat:a,decade:z,withNext:Y===R-1,withPrevious:Y===0,decadeLabelFormat:M,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(F,W)=>yte({levelIndex:Y,rowIndex:W.rowIndex,cellIndex:W.cellIndex,event:F,controlsRef:B}),__getControlRef:(F,W,q)=>{Array.isArray(B.current[Y])||(B.current[Y]=[]),Array.isArray(B.current[Y][F])||(B.current[Y][F]=[]),B.current[Y][F][W]=q},levelControlAriaLabel:typeof O=="function"?O(z):O,locale:i,minDate:s,maxDate:o,__preventFocus:f,__stopPropagation:I,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:v,onPrevious:y,nextDisabled:w,previousDisabled:E,getYearControlProps:l,__staticSelector:k||"DecadeLevelGroup",classNames:C,styles:S,unstyled:T,withCellSpacing:d},Y)});return x.jsx(ey,{classNames:C,styles:S,__staticSelector:k||"DecadeLevelGroup",ref:t,size:$,unstyled:T,...U,children:V})});WM.classes={...ey.classes,...qM.classes};WM.displayName="@mantine/dates/DecadeLevelGroup";const bJt={numberOfColumns:1},GM=We((e,t)=>{const n=Oe("YearLevelGroup",bJt,e),{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:v,onPrevious:y,onLevelClick:w,nextDisabled:E,previousDisabled:C,hasNextLevel:S,classNames:T,styles:k,unstyled:I,__staticSelector:R,__stopPropagation:O,numberOfColumns:M,levelControlAriaLabel:$,yearLabelFormat:L,size:U,vars:B,...V}=n,G=D.useRef([]),Y=Array(M).fill(0).map((z,F)=>{const W=Qt(r).add(F,"years").toDate();return x.jsx(HM,{size:U,monthsListFormat:a,year:W,withNext:F===M-1,withPrevious:F===0,yearLabelFormat:L,__stopPropagation:O,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(q,K)=>yte({levelIndex:F,rowIndex:K.rowIndex,cellIndex:K.cellIndex,event:q,controlsRef:G}),__getControlRef:(q,K,J)=>{Array.isArray(G.current[F])||(G.current[F]=[]),Array.isArray(G.current[F][q])||(G.current[F][q]=[]),G.current[F][q][K]=J},levelControlAriaLabel:typeof $=="function"?$(W):$,locale:i,minDate:s,maxDate:o,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:v,onPrevious:y,onLevelClick:w,nextDisabled:E,previousDisabled:C,hasNextLevel:S,getMonthControlProps:l,classNames:T,styles:k,unstyled:I,__staticSelector:R||"YearLevelGroup",withCellSpacing:d},F)});return x.jsx(ey,{classNames:T,styles:k,__staticSelector:R||"YearLevelGroup",ref:t,size:U,unstyled:I,...V,children:Y})});GM.classes={...HM.classes,...ey.classes};GM.displayName="@mantine/dates/YearLevelGroup";const wJt={numberOfColumns:1},YM=We((e,t)=>{const n=Oe("MonthLevelGroup",wJt,e),{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__onDayClick:g,__onDayMouseEnter:v,withCellSpacing:y,highlightToday:w,withWeekNumbers:E,__preventFocus:C,nextIcon:S,previousIcon:T,nextLabel:k,previousLabel:I,onNext:R,onPrevious:O,onLevelClick:M,nextDisabled:$,previousDisabled:L,hasNextLevel:U,classNames:B,styles:V,unstyled:G,numberOfColumns:Y,levelControlAriaLabel:z,monthLabelFormat:F,__staticSelector:W,__stopPropagation:q,size:K,static:J,vars:te,...le}=n,oe=D.useRef([]),ie=Array(Y).fill(0).map((he,ee)=>{const ne=Qt(r).add(ee,"months").toDate();return x.jsx(VM,{month:ne,withNext:ee===Y-1,withPrevious:ee===0,monthLabelFormat:F,__stopPropagation:q,__onDayClick:g,__onDayMouseEnter:v,__onDayKeyDown:(ue,ve)=>yte({levelIndex:ee,rowIndex:ve.rowIndex,cellIndex:ve.cellIndex,event:ue,controlsRef:oe}),__getDayRef:(ue,ve,xe)=>{Array.isArray(oe.current[ee])||(oe.current[ee]=[]),Array.isArray(oe.current[ee][ue])||(oe.current[ee][ue]=[]),oe.current[ee][ue][ve]=xe},levelControlAriaLabel:typeof z=="function"?z(ne):z,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__preventFocus:C,nextIcon:S,previousIcon:T,nextLabel:k,previousLabel:I,onNext:R,onPrevious:O,onLevelClick:M,nextDisabled:$,previousDisabled:L,hasNextLevel:U,classNames:B,styles:V,unstyled:G,__staticSelector:W||"MonthLevelGroup",size:K,static:J,withCellSpacing:y,highlightToday:w,withWeekNumbers:E},ee)});return x.jsx(ey,{classNames:B,styles:V,__staticSelector:W||"MonthLevelGroup",ref:t,size:K,...le,children:ie})});YM.classes={...ey.classes,...VM.classes};YM.displayName="@mantine/dates/MonthLevelGroup";const $ge=e=>e==="range"?[null,null]:e==="multiple"?[]:null;function oV({type:e,value:t,defaultValue:n,onChange:r,applyTimezone:i=!0}){const s=D.useRef(e),o=Tc(),[a,l,u]=ji({value:Nv("add",t,o.getTimezone(),!i),defaultValue:Nv("add",n,o.getTimezone(),!i),finalValue:$ge(e),onChange:d=>{r==null||r(Nv("remove",d,o.getTimezone(),!i))}});let c=a;return s.current!==e&&(s.current=e,t===void 0&&(c=n!==void 0?n:$ge(e),l(c))),[c,l,u]}function t7(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function xJt(e){return e===0?"month":e===1?"year":"decade"}function UC(e,t,n){return xJt(Gf(t7(e,0),t7(t,0),t7(n,2)))}const _Jt={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},KM=We((e,t)=>{const n=Oe("Calendar",_Jt,e),{vars:r,maxLevel:i,minLevel:s,defaultLevel:o,level:a,onLevelChange:l,date:u,defaultDate:c,onDateChange:d,numberOfColumns:f,columnsToScroll:h,ariaLabels:p,nextLabel:m,previousLabel:g,onYearSelect:v,onMonthSelect:y,onYearMouseEnter:w,onMonthMouseEnter:E,__updateDateOnYearSelect:C,__updateDateOnMonthSelect:S,firstDayOfWeek:T,weekdayFormat:k,weekendDays:I,getDayProps:R,excludeDate:O,renderDay:M,hideOutsideDates:$,hideWeekdays:L,getDayAriaLabel:U,monthLabelFormat:B,nextIcon:V,previousIcon:G,__onDayClick:Y,__onDayMouseEnter:z,withCellSpacing:F,highlightToday:W,withWeekNumbers:q,monthsListFormat:K,getMonthControlProps:J,yearLabelFormat:te,yearsListFormat:le,getYearControlProps:oe,decadeLabelFormat:ie,classNames:he,styles:ee,unstyled:ne,minDate:ue,maxDate:ve,locale:xe,__staticSelector:Re,size:Te,__preventFocus:we,__stopPropagation:He,onNextDecade:Xe,onPreviousDecade:tt,onNextYear:ft,onPreviousYear:rt,onNextMonth:Pe,onPreviousMonth:Le,static:ge,__timezoneApplied:$e,...ze}=n,{resolvedClassNames:it,resolvedStyles:st}=Eh({classNames:he,styles:ee,props:n}),[wt,un]=ji({value:a?UC(a,s,i):void 0,defaultValue:o?UC(o,s,i):void 0,finalValue:UC(void 0,s,i),onChange:l}),[Rn,Mn]=oV({type:"default",value:u,defaultValue:c,onChange:d,applyTimezone:!$e}),Lt={__staticSelector:Re||"Calendar",styles:st,classNames:it,unstyled:ne,size:Te},wn=Tc(),Gn=h||f||1,Fn=new Date,Bi=ue&&ue>Fn?ue:Fn,Zn=Rn||Nv("add",Bi,wn.getTimezone()),Mr=()=>{const rr=Qt(Zn).add(Gn,"month").toDate();Pe==null||Pe(rr),Mn(rr)},Kr=()=>{const rr=Qt(Zn).subtract(Gn,"month").toDate();Le==null||Le(rr),Mn(rr)},Yn=()=>{const rr=Qt(Zn).add(Gn,"year").toDate();ft==null||ft(rr),Mn(rr)},Ji=()=>{const rr=Qt(Zn).subtract(Gn,"year").toDate();rt==null||rt(rr),Mn(rr)},Go=()=>{const rr=Qt(Zn).add(10*Gn,"year").toDate();Xe==null||Xe(rr),Mn(rr)},Es=()=>{const rr=Qt(Zn).subtract(10*Gn,"year").toDate();tt==null||tt(rr),Mn(rr)};return x.jsxs(_e,{ref:t,size:Te,"data-calendar":!0,...ze,children:[wt==="month"&&x.jsx(YM,{month:Zn,minDate:ue,maxDate:ve,firstDayOfWeek:T,weekdayFormat:k,weekendDays:I,getDayProps:R,excludeDate:O,renderDay:M,hideOutsideDates:$,hideWeekdays:L,getDayAriaLabel:U,onNext:Mr,onPrevious:Kr,hasNextLevel:i!=="month",onLevelClick:()=>un("year"),numberOfColumns:f,locale:xe,levelControlAriaLabel:p==null?void 0:p.monthLevelControl,nextLabel:(p==null?void 0:p.nextMonth)??m,nextIcon:V,previousLabel:(p==null?void 0:p.previousMonth)??g,previousIcon:G,monthLabelFormat:B,__onDayClick:Y,__onDayMouseEnter:z,__preventFocus:we,__stopPropagation:He,static:ge,withCellSpacing:F,highlightToday:W,withWeekNumbers:q,...Lt}),wt==="year"&&x.jsx(GM,{year:Zn,numberOfColumns:f,minDate:ue,maxDate:ve,monthsListFormat:K,getMonthControlProps:J,locale:xe,onNext:Yn,onPrevious:Ji,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>un("decade"),levelControlAriaLabel:p==null?void 0:p.yearLevelControl,nextLabel:(p==null?void 0:p.nextYear)??m,nextIcon:V,previousLabel:(p==null?void 0:p.previousYear)??g,previousIcon:G,yearLabelFormat:te,__onControlMouseEnter:E,__onControlClick:(rr,Ct)=>{S&&Mn(Ct),un(UC("month",s,i)),y==null||y(Ct)},__preventFocus:we,__stopPropagation:He,withCellSpacing:F,...Lt}),wt==="decade"&&x.jsx(WM,{decade:Zn,minDate:ue,maxDate:ve,yearsListFormat:le,getYearControlProps:oe,locale:xe,onNext:Go,onPrevious:Es,numberOfColumns:f,nextLabel:(p==null?void 0:p.nextDecade)??m,nextIcon:V,previousLabel:(p==null?void 0:p.previousDecade)??g,previousIcon:G,decadeLabelFormat:ie,__onControlMouseEnter:w,__onControlClick:(rr,Ct)=>{C&&Mn(Ct),un(UC("year",s,i)),v==null||v(Ct)},__preventFocus:we,__stopPropagation:He,withCellSpacing:F,...Lt})]})});KM.classes={...WM.classes,...GM.classes,...YM.classes};KM.displayName="@mantine/dates/Calendar";function EJt(e){const{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:s,nextIcon:o,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:p,previousLabel:m,onYearSelect:g,onMonthSelect:v,onYearMouseEnter:y,onMonthMouseEnter:w,onNextMonth:E,onPreviousMonth:C,onNextYear:S,onPreviousYear:T,onNextDecade:k,onPreviousDecade:I,withCellSpacing:R,highlightToday:O,__updateDateOnYearSelect:M,__updateDateOnMonthSelect:$,withWeekNumbers:L,firstDayOfWeek:U,weekdayFormat:B,weekendDays:V,getDayProps:G,excludeDate:Y,renderDay:z,hideOutsideDates:F,hideWeekdays:W,getDayAriaLabel:q,monthLabelFormat:K,monthsListFormat:J,getMonthControlProps:te,yearLabelFormat:le,yearsListFormat:oe,getYearControlProps:ie,decadeLabelFormat:he,allowSingleDateInRange:ee,allowDeselect:ne,minDate:ue,maxDate:ve,locale:xe,...Re}=e;return{calendarProps:{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:s,nextIcon:o,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:p,previousLabel:m,onYearSelect:g,onMonthSelect:v,onYearMouseEnter:y,onMonthMouseEnter:w,onNextMonth:E,onPreviousMonth:C,onNextYear:S,onPreviousYear:T,onNextDecade:k,onPreviousDecade:I,withCellSpacing:R,highlightToday:O,__updateDateOnYearSelect:M,__updateDateOnMonthSelect:$,withWeekNumbers:L,firstDayOfWeek:U,weekdayFormat:B,weekendDays:V,getDayProps:G,excludeDate:Y,renderDay:z,hideOutsideDates:F,hideWeekdays:W,getDayAriaLabel:q,monthLabelFormat:K,monthsListFormat:J,getMonthControlProps:te,yearLabelFormat:le,yearsListFormat:oe,getYearControlProps:ie,decadeLabelFormat:he,allowSingleDateInRange:ee,allowDeselect:ne,minDate:ue,maxDate:ve,locale:xe},others:Re}}function CJt(e,t){if(e===null)return null;const n=Nv("add",new Date(e),t);return Number.isNaN(n.getTime())||!e?null:n}function SJt({date:e,maxDate:t,minDate:n}){return!(e==null||Number.isNaN(e.getTime())||t&&Qt(e).isAfter(t,"date")||n&&Qt(e).isBefore(n,"date"))}const TJt={valueFormat:"MMMM D, YYYY",fixOnBlur:!0,preserveTime:!0},wte=We((e,t)=>{const n=M1e("DateInput",TJt,e),{inputProps:r,wrapperProps:i,value:s,defaultValue:o,onChange:a,clearable:l,clearButtonProps:u,popoverProps:c,getDayProps:d,locale:f,valueFormat:h,dateParser:p,minDate:m,maxDate:g,fixOnBlur:v,onFocus:y,onBlur:w,onClick:E,onKeyDown:C,readOnly:S,name:T,form:k,rightSection:I,unstyled:R,classNames:O,styles:M,allowDeselect:$,preserveTime:L,date:U,defaultDate:B,onDateChange:V,...G}=n,Y=D.useRef(null),z=D.useRef(null),[F,W]=D.useState(!1),{calendarProps:q,others:K}=EJt(G),J=Tc(),le=p||(Pe=>{const Le=Qt(Pe,h,J.getLocale(f)).toDate();return Number.isNaN(Le.getTime())?CJt(Pe,J.getTimezone()):Le}),oe=$!==void 0?$:l,ie=Pe=>Pe?Qt(Pe).locale(J.getLocale(f)).format(h):"",[he,ee,ne]=oV({type:"default",value:s,defaultValue:o,onChange:a}),[ue,ve]=oV({type:"default",value:U,defaultValue:o||B,onChange:V});D.useEffect(()=>{ne&&s!==null&&ve(s)},[ne,s]);const[xe,Re]=D.useState(ie(he));D.useEffect(()=>{Re(ie(he))},[J.getLocale(f)]);const Te=Pe=>{const Le=Pe.currentTarget.value;if(Re(Le),W(!0),Le.trim()===""&&l)ee(null);else{const ge=le(Le);SJt({date:ge,minDate:m,maxDate:g})&&(ee(ge),ve(ge))}},we=Pe=>{w==null||w(Pe),W(!1),v&&Re(ie(he))},He=Pe=>{y==null||y(Pe),W(!0)},Xe=Pe=>{E==null||E(Pe),W(!0)},tt=Pe=>{Pe.key==="Escape"&&W(!1),C==null||C(Pe)},ft=Pe=>({...d==null?void 0:d(Pe),selected:Qt(he).isSame(Pe,"day"),onClick:Le=>{var ze,it;(it=d==null?void 0:(ze=d(Pe)).onClick)==null||it.call(ze,Le);const ge=L?IQt(he,Pe):Pe,$e=l&&oe&&Qt(he).isSame(Pe,"day")?null:ge;ee($e),!ne&&Re(ie($e)),W(!1)}}),rt=I||(l&&he&&!S?x.jsx(lh,{variant:"transparent",onMouseDown:Pe=>Pe.preventDefault(),tabIndex:-1,onClick:()=>{ee(null),!ne&&Re(""),W(!1)},unstyled:R,size:r.size||"sm",...u}):null);return Td(()=>{he!==void 0&&!F&&Re(ie(he))},[he]),wve(()=>W(!1),void 0,[Y.current,z.current]),x.jsxs(x.Fragment,{children:[x.jsx($r.Wrapper,{...i,__staticSelector:"DateInput",ref:Y,children:x.jsxs(Li,{opened:F,trapFocus:!1,position:"bottom-start",disabled:S,withRoles:!1,unstyled:R,...c,children:[x.jsx(Li.Target,{children:x.jsx($r,{"data-dates-input":!0,"data-read-only":S||void 0,autoComplete:"off",ref:t,value:xe,onChange:Te,onBlur:we,onFocus:He,onClick:Xe,onKeyDown:tt,readOnly:S,rightSection:rt,...r,...K,__staticSelector:"DateInput"})}),x.jsx(Li.Dropdown,{onMouseDown:Pe=>Pe.preventDefault(),"data-dates-dropdown":!0,ref:z,children:x.jsx(KM,{__staticSelector:"DateInput",__timezoneApplied:!0,...q,classNames:O,styles:M,unstyled:R,__preventFocus:!0,minDate:m,maxDate:g,locale:f,getDayProps:ft,size:r.size,date:ue,onDateChange:ve})})]})}),x.jsx(m5e,{name:T,form:k,value:he,type:"default"})]})});wte.classes={...$r.classes,...KM.classes};wte.displayName="@mantine/dates/DateInput";function yn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Lu={root:"MRT_TableBody-module_root__kGhRy","root-grid":"MRT_TableBody-module_root-grid__WdOGg","root-no-rows":"MRT_TableBody-module_root-no-rows__iyi9K","root-virtualized":"MRT_TableBody-module_root-virtualized__TxPAi","empty-row-tr-grid":"MRT_TableBody-module_empty-row-tr-grid__LTgxw","empty-row-td-grid":"MRT_TableBody-module_empty-row-td-grid__pzlgG","empty-row-td-content":"MRT_TableBody-module_empty-row-td-content__Cc2XW",pinned:"MRT_TableBody-module_pinned__XHpcs"},n7={root:"MRT_TableBodyRow-module_root__2c3D4","root-grid":"MRT_TableBodyRow-module_root-grid__AwXTe","root-virtualized":"MRT_TableBodyRow-module_root-virtualized__zYgxq"},Cf={root:"MRT_TableBodyCell-module_root__Wf-zi","root-grid":"MRT_TableBodyCell-module_root-grid__zIuC-","root-virtualized":"MRT_TableBodyCell-module_root-virtualized__jLl8R","root-data-col":"MRT_TableBodyCell-module_root-data-col__HHcxc","root-nowrap":"MRT_TableBodyCell-module_root-nowrap__-k1Jo","root-cursor-pointer":"MRT_TableBodyCell-module_root-cursor-pointer__4kw7J","root-editable-hover":"MRT_TableBodyCell-module_root-editable-hover__2DKSa","root-cell-hover-reveal":"MRT_TableBodyCell-module_root-cell-hover-reveal__T1fAH","cell-hover-reveal":"MRT_TableBodyCell-module_cell-hover-reveal__Q-1Xj",overflowing:"MRT_TableBodyCell-module_overflowing__QcXP4"};const Nt=(e,t)=>e instanceof Function?e(t):e,r7=["string","number"],kJt=["text","autocomplete"],Mge=({cell:e,renderedColumnIndex:t=0,renderedRowIndex:n=0,table:r})=>{var i,s;const{getState:o,options:{enableFilterMatchHighlighting:a,mantineHighlightProps:l}}=r,{column:u,row:c}=e,{columnDef:d}=u,{globalFilter:f,globalFilterFn:h}=o(),p=u.getFilterValue(),m=Nt(l,{cell:e,column:u,row:c,table:r});let g=e.getIsAggregated()&&d.AggregatedCell?d.AggregatedCell({cell:e,column:u,row:c,table:r}):c.getIsGrouped()&&!e.getIsGrouped()?null:e.getIsGrouped()&&d.GroupedCell?d.GroupedCell({cell:e,column:u,row:c,table:r}):void 0;const v=g!==void 0;if(v||(g=e.renderValue()),a&&d.enableFilterMatchHighlighting!==!1&&g&&r7.includes(typeof g)&&(p&&r7.includes(typeof p)&&kJt.includes(d.filterVariant)||f&&r7.includes(typeof f)&&u.getCanGlobalFilter())){let y=((s=(i=u.getFilterValue())!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:"").toString();(p?d._filterFn:h)==="fuzzy"&&(y=y.split(" ")),g=x.jsx(qW,Object.assign({color:"yellow.3",highlight:y},m,{children:g==null?void 0:g.toString()}))}return d.Cell&&!v&&(g=d.Cell({cell:e,column:u,renderedCellValue:g,renderedColumnIndex:t,renderedRowIndex:n,row:c,table:r})),g},Cd=e=>e.replace(/[^a-zA-Z0-9]/g,"_"),AJt=e=>{var t,n;return typeof e.primaryShade=="number"?e.primaryShade:(n=(t=e.primaryShade)===null||t===void 0?void 0:t.dark)!==null&&n!==void 0?n:7},IJt=(e,t)=>e.colors[e.primaryColor][AJt(e)];function pN(e,t){const n=`data-${e}`;switch(typeof t){case"boolean":return t?{[n]:""}:null;case"number":return{[n]:`${t}`};case"string":return{[n]:t};default:return null}}var RJt={root:"MRT_CopyButton-module_root__mkXy4"};const DJt=e=>{var{cell:t,children:n,table:r}=e,i=yn(e,["cell","children","table"]);const{options:{localization:{clickToCopy:s,copiedToClipboard:o},mantineCopyButtonProps:a}}=r,{column:l,row:u}=t,{columnDef:c}=l,d={cell:t,column:l,row:u,table:r},f=Object.assign(Object.assign(Object.assign({},Nt(a,d)),Nt(c.mantineCopyButtonProps,d)),i);return x.jsx(hbe,{value:t.getValue(),children:({copied:h,copy:p})=>{var m;return x.jsx(Ut,{color:h?"green":void 0,label:(m=f==null?void 0:f.title)!==null&&m!==void 0?m:h?o:s,openDelay:1e3,withinPortal:!0,children:x.jsx(ss,Object.assign({},f,{className:Dt("mrt-copy-button",RJt.root,f==null?void 0:f.className),onClick:g=>{g.stopPropagation(),p()},role:"presentation",title:void 0,children:n}))})}})},XM=e=>{var t,{cell:n,table:r}=e,i=yn(e,["cell","table"]);const{getState:s,options:{createDisplayMode:o,editDisplayMode:a,mantineEditSelectProps:l,mantineEditTextInputProps:u},refs:{editInputRefs:c},setCreatingRow:d,setEditingCell:f,setEditingRow:h}=r,{column:p,row:m}=n,{columnDef:g}=p,{creatingRow:v,editingRow:y}=s(),w=(v==null?void 0:v.id)===m.id,E=(y==null?void 0:y.id)===m.id,C=g.editVariant==="select",S=g.editVariant==="multi-select",[T,k]=D.useState(()=>n.getValue()),I={cell:n,column:p,row:m,table:r},R=Object.assign(Object.assign(Object.assign({},Nt(u,I)),Nt(g.mantineEditTextInputProps,I)),i),O=Object.assign(Object.assign(Object.assign({},Nt(l,I)),Nt(g.mantineEditSelectProps,I)),i),M=B=>{m._valuesCache[p.id]=B,w?d(m):E&&h(m)},$=B=>{var V;(V=R.onBlur)===null||V===void 0||V.call(R,B),M(T),f(null)},L=B=>{var V,G;(V=R.onKeyDown)===null||V===void 0||V.call(R,B),B.key==="Enter"&&((G=c.current[n.id])===null||G===void 0||G.blur())};if(g.Edit)return(t=g.Edit)===null||t===void 0?void 0:t.call(g,{cell:n,column:p,row:m,table:r});const U={disabled:Nt(g.enableEditing,m)===!1,label:["custom","modal"].includes(w?o:a)?p.columnDef.header:void 0,name:n.id,onClick:B=>{var V;B.stopPropagation(),(V=R==null?void 0:R.onClick)===null||V===void 0||V.call(R,B)},placeholder:["custom","modal"].includes(w?o:a)?void 0:g.header,value:T,variant:a==="table"?"unstyled":"default"};return C?x.jsx(Ag,Object.assign({},U,{searchable:!0,value:T},O,{onBlur:$,onChange:(B,V)=>{var G,Y;(Y=(G=O).onChange)===null||Y===void 0||Y.call(G,B,V),k(B)},onClick:B=>{var V;B.stopPropagation(),(V=O==null?void 0:O.onClick)===null||V===void 0||V.call(O,B)},ref:B=>{B&&(c.current[n.id]=B,O.ref&&(O.ref.current=B))}})):S?x.jsx(WT,Object.assign({},U,{searchable:!0,value:T},O,{onBlur:$,onChange:B=>{var V,G;(G=(V=O).onChange)===null||G===void 0||G.call(V,T),k(B),document.activeElement!==c.current[n.id]&&M(B)},onClick:B=>{var V;B.stopPropagation(),(V=O==null?void 0:O.onClick)===null||V===void 0||V.call(O,B)},ref:B=>{B&&(c.current[n.id]=B,O.ref&&(O.ref.current=B))}})):x.jsx(Gu,Object.assign({},U,{onKeyDown:L,value:T??""},R,{onBlur:$,onChange:B=>{var V;(V=R.onChange)===null||V===void 0||V.call(R,B),k(B.target.value)},onClick:B=>{var V;B.stopPropagation(),(V=R==null?void 0:R.onClick)===null||V===void 0||V.call(R,B)},ref:B=>{B&&(c.current[n.id]=B,R.ref&&(R.ref.current=B))}}))},R5e=e=>{var t,n,r,i,s,{cell:o,numRows:a=1,renderedColumnIndex:l=0,renderedRowIndex:u=0,rowRef:c,table:d,virtualCell:f}=e,h=yn(e,["cell","numRows","renderedColumnIndex","renderedRowIndex","rowRef","table","virtualCell"]);const p=tl(),{getState:m,options:{columnResizeDirection:g,columnResizeMode:v,createDisplayMode:y,editDisplayMode:w,enableClickToCopy:E,enableColumnOrdering:C,enableColumnPinning:S,enableEditing:T,enableGrouping:k,layoutMode:I,mantineSkeletonProps:R,mantineTableBodyCellProps:O},refs:{editInputRefs:M},setEditingCell:$,setHoveredColumn:L}=d,{columnSizingInfo:U,creatingRow:B,density:V,draggingColumn:G,editingCell:Y,editingRow:z,hoveredColumn:F,isLoading:W,showSkeletons:q}=m(),{column:K,row:J}=o,{columnDef:te}=K,{columnDefType:le}=te,oe={cell:o,column:K,renderedColumnIndex:l,renderedRowIndex:u,row:J,table:d},ie=Object.assign(Object.assign(Object.assign({},Nt(O,oe)),Nt(te.mantineTableBodyCellProps,oe)),h),he=Nt(R,oe),[ee,ne]=D.useState(100);D.useEffect(()=>{if(!W&&!q||ee!==100)return;const st=K.getSize();ne(le==="display"?st/2:Math.round(Math.random()*(st-st/3)+st/3))},[W,q]);const ue={minWidth:`max(calc(var(--col-${Cd(K==null?void 0:K.id)}-size) * 1px), ${(t=te.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--col-${Cd(K.id)}-size) * 1px)`};I==="grid"?ue.flex=`${[0,!1].includes(te.grow)?0:`var(--col-${Cd(K.id)}-size)`} 0 auto`:I==="grid-no-grow"&&(ue.flex=`${+(te.grow||0)} 0 auto`);const ve=(G==null?void 0:G.id)===K.id,xe=(F==null?void 0:F.id)===K.id,Re=S&&te.columnDefType!=="group"&&K.getIsPinned(),Te=!o.getIsPlaceholder()&&Nt(T,J)&&Nt(te.enableEditing,J)!==!1,we=Te&&!["custom","modal"].includes(w)&&(w==="table"||(z==null?void 0:z.id)===J.id||(Y==null?void 0:Y.id)===o.id)&&!J.getIsGrouped(),He=Te&&y==="row"&&(B==null?void 0:B.id)===J.id,Xe=Nt(E,o)||Nt(te.enableClickToCopy,o)&&Nt(te.enableClickToCopy,o)!==!1,tt=st=>{var wt;(wt=ie==null?void 0:ie.onDoubleClick)===null||wt===void 0||wt.call(ie,st),Te&&w==="cell"&&($(o),setTimeout(()=>{var un;const Rn=M.current[o.id];Rn&&(Rn.focus(),(un=Rn.select)===null||un===void 0||un.call(Rn))},100))},ft=st=>{var wt;(wt=ie==null?void 0:ie.onDragEnter)===null||wt===void 0||wt.call(ie,st),k&&(F==null?void 0:F.id)==="drop-zone"&&L(null),C&&G&&L(te.enableColumnOrdering!==!1?K:null)},rt={cell:o,renderedColumnIndex:l,renderedRowIndex:u,table:d},Pe=D.useRef(null),[Le,ge]=D.useState(!1),$e=()=>{if(!te.enableCellHoverReveal)return;const st=Pe.current;if(st){const wt=st.scrollWidth>st.clientWidth;ge(wt)}},ze=()=>{te.enableCellHoverReveal&&ge(!1)},it=()=>{var st,wt,un;return o.getIsPlaceholder()?(wt=(st=te.PlaceholderCell)===null||st===void 0?void 0:st.call(te,{cell:o,column:K,row:J,table:d}))!==null&&wt!==void 0?wt:null:q!==!1&&(W||q)?x.jsx(gG,Object.assign({height:20,width:ee},he)):le==="display"&&(["mrt-row-expand","mrt-row-numbers","mrt-row-select"].includes(K.id)||!J.getIsGrouped())?(un=te.Cell)===null||un===void 0?void 0:un.call(te,Object.assign({column:K,renderedCellValue:o.renderValue(),row:J,rowRef:c},rt)):He||we?x.jsx(XM,{cell:o,table:d}):Xe&&te.enableClickToCopy!==!1?x.jsx(DJt,{cell:o,table:d,children:x.jsx(Mge,Object.assign({},rt))}):x.jsx(Mge,Object.assign({},rt))};return x.jsx(JT,Object.assign({"data-column-pinned":Re||void 0,"data-dragging-column":ve||void 0,"data-first-right-pinned":Re==="right"&&K.getIsFirstColumn(Re)||void 0,"data-hovered-column-target":xe||void 0,"data-index":l,"data-last-left-pinned":Re==="left"&&K.getIsLastColumn(Re)||void 0,"data-last-row":u===a-1||void 0,"data-resizing":v==="onChange"&&(U==null?void 0:U.isResizingColumn)===K.id&&g||void 0},ie,{__vars:Object.assign({"--mrt-cell-align":(n=ie.align)!==null&&n!==void 0?n:p.dir==="rtl"?"right":"left","--mrt-table-cell-left":Re==="left"?`${K.getStart(Re)}`:void 0,"--mrt-table-cell-right":Re==="right"?`${K.getAfter(Re)}`:void 0},ie.__vars),className:Dt(Cf.root,(I==null?void 0:I.startsWith("grid"))&&Cf["root-grid"],f&&Cf["root-virtualized"],Te&&w==="cell"&&Cf["root-cursor-pointer"],Te&&["cell","table"].includes(w??"")&&le!=="display"&&Cf["root-editable-hover"],le==="data"&&Cf["root-data-col"],V==="xs"&&Cf["root-nowrap"],te.enableCellHoverReveal&&Cf["root-cell-hover-reveal"],ie==null?void 0:ie.className),onDoubleClick:tt,onDragEnter:ft,onMouseEnter:$e,onMouseLeave:ze,style:st=>Object.assign(Object.assign({},ue),Nt(ie.style,st)),children:x.jsx(x.Fragment,{children:(r=ie.children)!==null&&r!==void 0?r:te.enableCellHoverReveal?x.jsxs("div",{className:Dt(te.enableCellHoverReveal&&!(He||we)&&Cf["cell-hover-reveal"],Le&&Cf.overflowing),ref:Pe,children:[it(),o.getIsGrouped()&&!te.GroupedCell&&x.jsxs(x.Fragment,{children:[" (",(i=J.subRows)===null||i===void 0?void 0:i.length,")"]})]}):x.jsxs(x.Fragment,{children:[it(),o.getIsGrouped()&&!te.GroupedCell&&x.jsxs(x.Fragment,{children:[" (",(s=J.subRows)===null||s===void 0?void 0:s.length,")"]})]})})}))},PJt=D.memo(R5e,(e,t)=>t.cell===e.cell);var Oy={root:"MRT_TableDetailPanel-module_root__vQAlM","root-grid":"MRT_TableDetailPanel-module_root-grid__7UMC6","root-virtual-row":"MRT_TableDetailPanel-module_root-virtual-row__r-X4Z",inner:"MRT_TableDetailPanel-module_inner__o-Fk-","inner-grid":"MRT_TableDetailPanel-module_inner-grid__WLZgF","inner-expanded":"MRT_TableDetailPanel-module_inner-expanded__6tg9T","inner-virtual":"MRT_TableDetailPanel-module_inner-virtual__TItRy"};const OJt=e=>{var t,n,{parentRowRef:r,renderedRowIndex:i=0,row:s,rowVirtualizer:o,striped:a,table:l,virtualRow:u}=e,c=yn(e,["parentRowRef","renderedRowIndex","row","rowVirtualizer","striped","table","virtualRow"]);const{getState:d,getVisibleLeafColumns:f,options:{layoutMode:h,mantineDetailPanelProps:p,mantineTableBodyRowProps:m,renderDetailPanel:g}}=l,{isLoading:v}=d(),y=Nt(m,{isDetailPanel:!0,row:s,table:l}),w=Object.assign(Object.assign({},Nt(p,{row:s,table:l})),c),E=s.getAllCells().filter(S=>S.column.columnDef.columnDefType==="data").map(S=>x.jsx(XM,{cell:S,table:l},S.id)),C=!v&&s.getIsExpanded()&&(g==null?void 0:g({internalEditComponents:E,row:s,table:l}));return x.jsx(Mp,Object.assign({"data-index":g?i*2+1:i,"data-striped":a,ref:S=>{var T;S&&((T=o==null?void 0:o.measureElement)===null||T===void 0||T.call(o,S))}},y,{__vars:Object.assign({"--mrt-parent-row-height":u?`${(n=(t=r.current)===null||t===void 0?void 0:t.getBoundingClientRect())===null||n===void 0?void 0:n.height}px`:void 0,"--mrt-virtual-row-start":u?`${u.start}px`:void 0},y==null?void 0:y.__vars),className:Dt("mantine-Table-tr-detail-panel",Oy.root,(h==null?void 0:h.startsWith("grid"))&&Oy["root-grid"],u&&Oy["root-virtual-row"],y==null?void 0:y.className),children:x.jsx(JT,Object.assign({colSpan:f().length,component:"td"},w,{__vars:{"--mrt-inner-width":`${l.getTotalSize()}px`},className:Dt("mantine-Table-td-detail-panel",Oy.inner,(h==null?void 0:h.startsWith("grid"))&&Oy["inner-grid"],s.getIsExpanded()&&Oy["inner-expanded"],u&&Oy["inner-virtual"]),p:s.getIsExpanded()&&C?"md":0,children:o?s.getIsExpanded()&&C:x.jsx(gm,{in:s.getIsExpanded(),children:C})}))}))},NJt=(e,t,n)=>{let r=0;return e.columnFiltersMeta[n]&&(r=lQt(e.columnFiltersMeta[n],t.columnFiltersMeta[n])),r===0?nv.alphanumeric(e,t,n):r},$Jt=Object.assign(Object.assign({},nv),{fuzzy:NJt}),MJt=(e,t)=>Math.max(...Object.values(t.columnFiltersMeta).map(n=>n.rank))-Math.max(...Object.values(e.columnFiltersMeta).map(n=>n.rank)),D5e=(e,t)=>{const{getCenterRows:n,getPrePaginationRowModel:r,getRowModel:i,getState:s,getTopRows:o,options:{createDisplayMode:a,enablePagination:l,enableRowPinning:u,manualPagination:c,positionCreatingRow:d,rowPinningDisplayMode:f}}=e,{creatingRow:h,pagination:p}=s(),m=FJt(e);let g=[];if(!m)g=!u||f!=null&&f.includes("sticky")?t?r().rows:i().rows:n();else{if(g=r().rows.sort((v,y)=>MJt(v,y)),l&&!c&&!t){const v=p.pageIndex*p.pageSize;g=g.slice(v,v+p.pageSize)}u&&!(f!=null&&f.includes("sticky"))&&(g=g.filter(v=>!v.getIsPinned()))}if(u&&(f!=null&&f.includes("sticky"))){const v=g.filter(y=>y.getIsPinned()).map(y=>y.id);g=[...o().filter(y=>!v.includes(y.id)),...g]}if(d!==void 0&&h&&a==="row"){const v=isNaN(+d)?d==="top"?0:g.length:+d;g=[...g.slice(0,v),h,...g.slice(v)]}return g},P5e=e=>{const{getState:t,options:{enableGlobalFilterRankedResults:n,manualExpanding:r,manualFiltering:i,manualGrouping:s,manualSorting:o}}=e,{expanded:a,globalFilterFn:l}=t();return!r&&!i&&!s&&!o&&n&&l==="fuzzy"&&a!==!0&&!Object.values(a).some(Boolean)},FJt=e=>{const{globalFilter:t,sorting:n}=e.getState();return P5e(e)&&t&&!Object.values(n).some(Boolean)},mN=({row:e,table:t})=>{const{options:{enableRowSelection:n}}=t;return e.getIsSelected()||Nt(n,e)&&e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()},LJt=({renderedRowIndex:e=0,row:t,table:n})=>(r,i)=>{var s;const{getState:o,options:{enableBatchRowSelection:a,enableMultiRowSelection:l,enableRowPinning:u,manualPagination:c,rowPinningDisplayMode:d},refs:{lastSelectedRowId:f}}=n,{pagination:{pageIndex:h,pageSize:p}}=o(),m=c?0:p*h,g=mN({row:t,table:n});t.toggleSelected(i??!g);const v=new Set([t.id]);if(a&&l&&r.nativeEvent.shiftKey&&f.current!==null){const y=D5e(n,!0),w=y.findIndex(E=>E.id===f.current);if(w!==-1){const E=mN({row:y==null?void 0:y[w],table:n}),C=e+m,[S,T]=w<C?[w,C]:[C,w];if(g!==E)for(let k=S;k<=T;k++)y[k].toggleSelected(!g),v.add(y[k].id)}}f.current=t.id,t.getCanSelectSubRows()&&t.getIsAllSubRowsSelected()&&((s=t.subRows)===null||s===void 0||s.forEach(y=>y.toggleSelected(!1))),u&&(d!=null&&d.includes("select"))&&v.forEach(y=>{n.getRow(y).pin(g?!1:d!=null&&d.includes("bottom")?"bottom":"top")})},O5e=({table:e})=>(t,n,r)=>{const{options:{enableRowPinning:i,rowPinningDisplayMode:s,selectAllMode:o},refs:{lastSelectedRowId:a}}=e;o==="all"||r?e.toggleAllRowsSelected(n??t.target.checked):e.toggleAllPageRowsSelected(n??t.target.checked),i&&(s!=null&&s.includes("select"))&&e.setRowPinning({bottom:[],top:[]}),a.current=null},y2=e=>{var t,n,r,{children:i,columnVirtualizer:s,numRows:o,pinnedRowIds:a,renderedRowIndex:l=0,row:u,rowVirtualizer:c,table:d,tableProps:f,virtualRow:h}=e,p=yn(e,["children","columnVirtualizer","numRows","pinnedRowIds","renderedRowIndex","row","rowVirtualizer","table","tableProps","virtualRow"]);const{getState:m,options:{enableRowOrdering:g,enableRowPinning:v,enableStickyFooter:y,enableStickyHeader:w,layoutMode:E,mantineTableBodyRowProps:C,memoMode:S,renderDetailPanel:T,rowPinningDisplayMode:k},refs:{tableFooterRef:I,tableHeadRef:R},setHoveredRow:O}=d,{density:M,draggingColumn:$,draggingRow:L,editingCell:U,editingRow:B,hoveredRow:V,isFullScreen:G,rowPinning:Y}=m(),z=u.getVisibleCells(),{virtualColumns:F,virtualPaddingLeft:W,virtualPaddingRight:q}=s??{},K=mN({row:u,table:d}),J=v&&u.getIsPinned(),te=J&&(k==null?void 0:k.includes("sticky"))&&"sticky",le=(L==null?void 0:L.id)===u.id,oe=(V==null?void 0:V.id)===u.id,ie=Object.assign(Object.assign({},Nt(C,{renderedRowIndex:l,row:u,table:d})),p),[he,ee]=D.useMemo(()=>!v||!te||!a||!u.getIsPinned()?[]:[[...a].reverse().indexOf(u.id),a.indexOf(u.id)],[a,Y]),ne=(w||G)&&((t=R.current)===null||t===void 0?void 0:t.clientHeight)||0,ue=y&&((n=I.current)===null||n===void 0?void 0:n.clientHeight)||0,ve=parseInt((r=ie==null?void 0:ie.style)===null||r===void 0?void 0:r.height,10)||(M==="xs"?37:M==="md"?53:69),xe=we=>{g&&L&&O(u)},Re=D.useRef(null);let Te=f.striped;return Te&&(Te===!0&&(Te="odd"),Te==="odd"&&l%2!==0&&(Te=!1),Te==="even"&&l%2===0&&(Te=!1)),x.jsxs(x.Fragment,{children:[x.jsxs(Mp,Object.assign({"data-dragging-row":le||void 0,"data-hovered-row-target":oe||void 0,"data-index":T?l*2:l,"data-row-pinned":te||J||void 0,"data-selected":K||void 0,"data-striped":Te,onDragEnter:xe,ref:we=>{we&&(Re.current=we,c==null||c.measureElement(we))}},ie,{__vars:Object.assign(Object.assign({},ie==null?void 0:ie.__vars),{"--mrt-pinned-row-bottom":!h&&he!==void 0&&J?`${he*ve+(y?ue-1:0)}`:void 0,"--mrt-pinned-row-top":h?void 0:ee!==void 0&&J?`${ee*ve+(w||G?ne-1:0)}`:void 0,"--mrt-virtual-row-start":h?`${h.start}`:void 0}),className:Dt(n7.root,(E==null?void 0:E.startsWith("grid"))&&n7["root-grid"],h&&n7["root-virtualized"],ie==null?void 0:ie.className),children:[W?x.jsx(_e,{component:"td",display:"flex",w:W}):null,i||(F??u.getVisibleCells()).map((we,He)=>{let Xe=we;s&&(He=we.index,Xe=z[He]);const tt={cell:Xe,numRows:o,renderedColumnIndex:He,renderedRowIndex:l,rowRef:Re,table:d,virtualCell:s?we:void 0};return S==="cells"&&Xe.column.columnDef.columnDefType==="data"&&!$&&!L&&(U==null?void 0:U.id)!==Xe.id&&(B==null?void 0:B.id)!==u.id?x.jsx(PJt,Object.assign({},tt),Xe.id):x.jsx(R5e,Object.assign({},tt),Xe.id)}),q?x.jsx(_e,{component:"td",display:"flex",w:q}):null]})),T&&!u.getIsGrouped()&&x.jsx(OJt,{parentRowRef:Re,renderedRowIndex:l,row:u,rowVirtualizer:c,striped:Te,table:d,virtualRow:h})]})},i7=D.memo(y2,(e,t)=>e.row===t.row);var qC={root:"MRT_ExpandButton-module_root__IFYio","root-ltr":"MRT_ExpandButton-module_root-ltr__FHNnp",chevron:"MRT_ExpandButton-module_chevron__XzC5P",right:"MRT_ExpandButton-module_right__-pC-A",up:"MRT_ExpandButton-module_up__TZGBo","root-rtl":"MRT_ExpandButton-module_root-rtl__zoudS"};const aV=e=>{var t,n,{row:r,table:i}=e,s=yn(e,["row","table"]);const o=tl(),{options:{icons:{IconChevronDown:a},localization:l,mantineExpandButtonProps:u,positionExpandColumn:c,renderDetailPanel:d}}=i,f=Object.assign(Object.assign({},Nt(u,{row:r,table:i})),s),h=r.getAllCells().filter(w=>w.column.columnDef.columnDefType==="data").map(w=>x.jsx(XM,{cell:w,table:i},w.id)),p=r.getCanExpand(),m=r.getIsExpanded(),g=!!(d!=null&&d({internalEditComponents:h,row:r,table:i})),v=w=>{var E;w.stopPropagation(),r.toggleExpanded(),(E=f==null?void 0:f.onClick)===null||E===void 0||E.call(f,w)},y=o.dir==="rtl"||c==="last";return x.jsx(Ut,{disabled:!p&&!g,label:(t=f==null?void 0:f.title)!==null&&t!==void 0?t:m?l.collapse:l.expand,openDelay:1e3,withinPortal:!0,children:x.jsx(tr,Object.assign({"aria-label":l.expand,color:"gray",disabled:!p&&!g,variant:"subtle"},f,{__vars:{"--mrt-row-depth":`${r.depth}`},className:Dt("mrt-expand-button",qC.root,qC[`root-${y?"rtl":"ltr"}`],f==null?void 0:f.className),onClick:v,title:void 0,children:(n=f==null?void 0:f.children)!==null&&n!==void 0?n:x.jsx(a,{className:Dt("mrt-expand-button-chevron",qC.chevron,!p&&!d?qC.right:m?qC.up:void 0)})}))})},jJt=e=>{var t,n,{table:r,tableProps:i}=e,s=yn(e,["table","tableProps"]);const{getState:o,options:{layoutMode:a,localization:l,renderDetailPanel:u,renderEmptyRowsFallback:c},refs:{tablePaperRef:d}}=r,{columnFilters:f,globalFilter:h}=o(),p=D.useMemo(()=>CE(r,"mrt-row-empty",{},0,0),[]),m=Object.assign(Object.assign({},s),{renderedRowIndex:0,row:p,virtualRow:void 0});return x.jsxs(y2,Object.assign({className:Dt("mrt-table-body-row",(a==null?void 0:a.startsWith("grid"))&&Lu["empty-row-tr-grid"]),table:r,tableProps:i},m,{children:[u&&x.jsx(JT,{className:Dt("mrt-table-body-cell",(a==null?void 0:a.startsWith("grid"))&&Lu["empty-row-td-grid"]),colSpan:1,children:x.jsx(aV,{row:p,table:r})}),x.jsx("td",{className:Dt("mrt-table-body-cell",(a==null?void 0:a.startsWith("grid"))&&Lu["empty-row-td-grid"]),colSpan:r.getVisibleLeafColumns().length,children:(t=c==null?void 0:c({table:r}))!==null&&t!==void 0?t:x.jsx(Ue,{__vars:{"--mrt-paper-width":`${(n=d.current)===null||n===void 0?void 0:n.clientWidth}`},className:Dt(Lu["empty-row-td-content"]),children:h||f.length?l.noResultsFound:l.noRecordsToDisplay})})]}))},BJt=e=>{const{getRowModel:t,getState:n,options:{data:r,enableGlobalFilterRankedResults:i,positionCreatingRow:s}}=e,{creatingRow:o,expanded:a,globalFilter:l,pagination:u,rowPinning:c,sorting:d}=n();return D.useMemo(()=>D5e(e),[o,r,i,a,t().rows,l,u.pageIndex,u.pageSize,s,c,d])},N5e=(e,t)=>{const n=d5e(e);return t===void 0||(t>=0&&t<Math.max(e.startIndex-e.overscan,0)&&n.unshift(t),t>=0&&t>e.endIndex+e.overscan&&n.push(t)),n},zJt=(e,t)=>{var n;const{getRowModel:r,getState:i,options:{enableRowVirtualization:s,renderDetailPanel:o,rowVirtualizerInstanceRef:a,rowVirtualizerOptions:l},refs:{tableContainerRef:u}}=e,{density:c,draggingRow:d,expanded:f}=i();if(!s)return;const h=Nt(l,{table:e}),p=(n=t==null?void 0:t.length)!==null&&n!==void 0?n:r().rows.length,m=c==="xs"?42.7:c==="md"?54.7:70.7,g=h5e(Object.assign({count:o?p*2:p,estimateSize:v=>o&&v%2===1?f===!0?100:0:m,getScrollElement:()=>u.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?v=>v==null?void 0:v.getBoundingClientRect().height:void 0,overscan:4,rangeExtractor:D.useCallback(v=>{var y;return N5e(v,(y=d==null?void 0:d.index)!==null&&y!==void 0?y:0)},[d])},h));return g.virtualRows=g.getVirtualItems(),a&&(a.current=g),g},$5e=e=>{var t,n,r,{columnVirtualizer:i,table:s,tableProps:o}=e,a=yn(e,["columnVirtualizer","table","tableProps"]);const{getBottomRows:l,getIsSomeRowsPinned:u,getRowModel:c,getState:d,getTopRows:f,options:{enableStickyFooter:h,enableStickyHeader:p,layoutMode:m,mantineTableBodyProps:g,memoMode:v,renderDetailPanel:y,rowPinningDisplayMode:w},refs:{tableFooterRef:E,tableHeadRef:C}}=s,{isFullScreen:S,rowPinning:T}=d(),k=Object.assign(Object.assign({},Nt(g,{table:s})),a),I=(p||S)&&((t=C.current)===null||t===void 0?void 0:t.clientHeight)||0,R=h&&((n=E.current)===null||n===void 0?void 0:n.clientHeight)||0,O=D.useMemo(()=>{var B,V;return!(!((B=T.bottom)===null||B===void 0)&&B.length)&&!(!((V=T.top)===null||V===void 0)&&V.length)?[]:c().rows.filter(G=>G.getIsPinned()).map(G=>G.id)},[T,c().rows]),M=BJt(s),$=zJt(s,M),{virtualRows:L}=$??{},U={columnVirtualizer:i,numRows:M.length,table:s,tableProps:o};return x.jsxs(x.Fragment,{children:[!(w!=null&&w.includes("sticky"))&&u("top")&&x.jsx(jS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-head-height":`${I}`},k==null?void 0:k.__vars),className:Dt(Lu.pinned,(m==null?void 0:m.startsWith("grid"))&&Lu["root-grid"],k==null?void 0:k.className),children:f().map((B,V)=>{const G=Object.assign(Object.assign({},U),{renderedRowIndex:V,row:B});return v==="rows"?x.jsx(i7,Object.assign({},G),B.id):x.jsx(y2,Object.assign({},G),B.id)})})),x.jsx(jS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-body-height":$?`${$.getTotalSize()}px`:void 0},k==null?void 0:k.__vars),className:Dt(Lu.root,(m==null?void 0:m.startsWith("grid"))&&Lu["root-grid"],!M.length&&Lu["root-no-rows"],$&&Lu["root-virtualized"],k==null?void 0:k.className),children:(r=k==null?void 0:k.children)!==null&&r!==void 0?r:M.length?x.jsx(x.Fragment,{children:(L??M).map((B,V)=>{if($)if(y){if(B.index%2===1)return null;V=B.index/2}else V=B.index;const G=$?M[V]:B,Y=Object.assign(Object.assign({},U),{pinnedRowIds:O,renderedRowIndex:V,row:G,rowVirtualizer:$,virtualRow:$?B:void 0}),z=`${G.id}-${G.index}`;return v==="rows"?x.jsx(i7,Object.assign({},Y),z):x.jsx(y2,Object.assign({},Y),z)})}):x.jsx(jJt,Object.assign({},U))})),!(w!=null&&w.includes("sticky"))&&u("bottom")&&x.jsx(jS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-footer-height":`${R}`},k==null?void 0:k.__vars),className:Dt(Lu.pinned,(m==null?void 0:m.startsWith("grid"))&&Lu["root-grid"],k==null?void 0:k.className),children:l().map((B,V)=>{const G=Object.assign(Object.assign({},U),{renderedRowIndex:V,row:B});return v==="rows"?x.jsx(i7,Object.assign({},G),B.id):x.jsx(y2,Object.assign({},G),B.id)})}))]})},UJt=D.memo($5e,(e,t)=>e.table.options.data===t.table.options.data);var qJt={"grab-icon":"MRT_GrabHandleButton-module_grab-icon__mQimy"};const xte=({actionIconProps:e,onDragEnd:t,onDragStart:n,table:{options:{icons:{IconGripHorizontal:r},localization:{move:i}}}})=>{var s,o;return x.jsx(Ut,{label:(s=e==null?void 0:e.title)!==null&&s!==void 0?s:i,openDelay:1e3,withinPortal:!0,children:x.jsx(tr,Object.assign({"aria-label":(o=e==null?void 0:e.title)!==null&&o!==void 0?o:i,draggable:!0},e,{className:Dt("mrt-grab-handle-button",qJt["grab-icon"],e==null?void 0:e.className),color:"gray",onClick:a=>{var l;a.stopPropagation(),(l=e==null?void 0:e.onClick)===null||l===void 0||l.call(e,a)},onDragEnd:t,onDragStart:n,size:"sm",title:void 0,variant:"transparent",children:x.jsx(r,{size:"100%"})}))})},HJt=e=>{var{row:t,rowRef:n,table:r}=e,i=yn(e,["row","rowRef","table"]);const{options:{mantineRowDragHandleProps:s}}=r,o=Object.assign(Object.assign({},Nt(s,{row:t,table:r})),i),a=u=>{var c;(c=o==null?void 0:o.onDragStart)===null||c===void 0||c.call(o,u),u.dataTransfer.setDragImage(n.current,0,0),r.setDraggingRow(t)},l=u=>{var c;(c=o==null?void 0:o.onDragEnd)===null||c===void 0||c.call(o,u),r.setDraggingRow(null),r.setHoveredRow(null)};return x.jsx(xte,{actionIconProps:o,onDragEnd:l,onDragStart:a,table:r})},s7=e=>{var{pinningPosition:t,row:n,table:r}=e,i=yn(e,["pinningPosition","row","table"]);const{options:{icons:{IconPinned:s,IconX:o},localization:a,rowPinningDisplayMode:l}}=r,u=n.getIsPinned(),[c,d]=D.useState(!1),f=h=>{d(!1),h.stopPropagation(),n.pin(u?!1:t)};return x.jsx(Ut,{label:u?a.unpin:a.pin,openDelay:1e3,opened:c,children:x.jsx(tr,Object.assign({"aria-label":a.pin,color:"gray",onClick:f,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),size:"xs",style:{height:"24px",width:"24px"},variant:"subtle"},i,{children:u?x.jsx(o,{}):x.jsx(s,{fontSize:"small",style:{transform:`rotate(${l==="sticky"?135:t==="top"?180:0}deg)`}})}))})},VJt=e=>{var{row:t,table:n}=e,r=yn(e,["row","table"]);const{getState:i,options:{enableRowPinning:s,rowPinningDisplayMode:o}}=n,{density:a}=i();if(!Nt(s,t))return null;const u=Object.assign({row:t,table:n},r);return o==="top-and-bottom"&&!t.getIsPinned()?x.jsxs(_e,{style:{display:"flex",flexDirection:a==="xs"?"row":"column"},children:[x.jsx(s7,Object.assign({pinningPosition:"top"},u)),x.jsx(s7,Object.assign({pinningPosition:"bottom"},u))]}):x.jsx(s7,Object.assign({pinningPosition:o==="bottom"?"bottom":"top"},u))};var o7={root:"MRT_ColumnPinningButtons-module_root__scTtW",left:"MRT_ColumnPinningButtons-module_left__W6Aog",right:"MRT_ColumnPinningButtons-module_right__7AJE3"};const WJt=({column:e,table:t})=>{const{options:{icons:{IconPinned:n,IconPinnedOff:r},localization:i}}=t;return x.jsx(Rt,{className:Dt("mrt-column-pinning-buttons",o7.root),children:e.getIsPinned()?x.jsx(Ut,{label:i.unpin,withinPortal:!0,children:x.jsx(tr,{color:"gray",onClick:()=>e.pin(!1),size:"md",variant:"subtle",children:x.jsx(r,{})})}):x.jsxs(x.Fragment,{children:[x.jsx(Ut,{label:i.pinToLeft,withinPortal:!0,children:x.jsx(tr,{color:"gray",onClick:()=>e.pin("left"),size:"md",variant:"subtle",children:x.jsx(n,{className:o7.left})})}),x.jsx(Ut,{label:i.pinToRight,withinPortal:!0,children:x.jsx(tr,{color:"gray",onClick:()=>e.pin("right"),size:"md",variant:"subtle",children:x.jsx(n,{className:o7.right})})})]})})};var GJt={root:"MRT_EditActionButtons-module_root__BfxVZ"};const M5e=e=>{var{row:t,table:n,variant:r="icon"}=e,i=yn(e,["row","table","variant"]);const{getState:s,options:{icons:{IconCircleX:o,IconDeviceFloppy:a},localization:l,onCreatingRowCancel:u,onCreatingRowSave:c,onEditingRowCancel:d,onEditingRowSave:f},refs:{editInputRefs:h},setCreatingRow:p,setEditingRow:m}=n,{creatingRow:g,editingRow:v,isSaving:y}=s(),w=(g==null?void 0:g.id)===t.id,E=(v==null?void 0:v.id)===t.id,C=()=>{w?(u==null||u({row:t,table:n}),p(null)):E&&(d==null||d({row:t,table:n}),m(null)),t._valuesCache={}},S=()=>{var T;(T=Object.values(h==null?void 0:h.current).filter(k=>{var I,R;return t.id===((R=(I=k==null?void 0:k.name)===null||I===void 0?void 0:I.split("_"))===null||R===void 0?void 0:R[0])}))===null||T===void 0||T.forEach(k=>{k.value!==void 0&&Object.hasOwn(t==null?void 0:t._valuesCache,k.name)&&(t._valuesCache[k.name]=k.value)}),w?c==null||c({exitCreatingMode:()=>p(null),row:t,table:n,values:t._valuesCache}):E&&(f==null||f({exitEditingMode:()=>m(null),row:t,table:n,values:t==null?void 0:t._valuesCache}))};return x.jsx(_e,Object.assign({className:Dt("mrt-edit-action-buttons",GJt.root),onClick:T=>T.stopPropagation()},i,{children:r==="icon"?x.jsxs(x.Fragment,{children:[x.jsx(Ut,{label:l.cancel,withinPortal:!0,children:x.jsx(tr,{"aria-label":l.cancel,color:"red",onClick:C,variant:"subtle",children:x.jsx(o,{})})}),x.jsx(Ut,{label:l.save,withinPortal:!0,children:x.jsx(tr,{"aria-label":l.save,color:"blue",loading:y,onClick:S,variant:"subtle",children:x.jsx(a,{})})})]}):x.jsxs(x.Fragment,{children:[x.jsx(Wt,{onClick:C,variant:"subtle",children:l.cancel}),x.jsx(Wt,{loading:y,onClick:S,variant:"filled",children:l.save})]})}))};var R3={root:"MRT_ExpandAllButton-module_root__gkBZD",chevron:"MRT_ExpandAllButton-module_chevron__Iep0j",up:"MRT_ExpandAllButton-module_up__Xth3U",right:"MRT_ExpandAllButton-module_right__bS4L-"};const YJt=e=>{var t,n,{table:r}=e,i=yn(e,["table"]);const{getCanSomeRowsExpand:s,getIsAllRowsExpanded:o,getIsSomeRowsExpanded:a,getState:l,options:{icons:{IconChevronsDown:u},localization:c,mantineExpandAllButtonProps:d,renderDetailPanel:f},toggleAllRowsExpanded:h}=r,{density:p,isLoading:m}=l(),g=Object.assign(Object.assign({},Nt(d,{table:r})),i),v=o();return x.jsx(Ut,{label:((t=g==null?void 0:g.title)!==null&&t!==void 0?t:v)?c.collapseAll:c.expandAll,openDelay:1e3,withinPortal:!0,children:x.jsx(tr,Object.assign({"aria-label":c.expandAll,color:"gray",variant:"subtle"},g,{className:Dt("mrt-expand-all-button",R3.root,g==null?void 0:g.className,p),disabled:m||!f&&!s(),onClick:()=>h(!v),title:void 0,children:(n=g==null?void 0:g.children)!==null&&n!==void 0?n:x.jsx(u,{className:Dt(R3.chevron,v?R3.up:a()?R3.right:void 0)})}))})};var Fge={root:"MRT_ShowHideColumnsMenu-module_root__2UWak",content:"MRT_ShowHideColumnsMenu-module_content__ehkWQ"},lw={root:"MRT_ShowHideColumnsMenuItems-module_root__wYgv-",menu:"MRT_ShowHideColumnsMenuItems-module_menu__CeATR",grab:"MRT_ShowHideColumnsMenuItems-module_grab__a-d-y",pin:"MRT_ShowHideColumnsMenuItems-module_pin__P437b",switch:"MRT_ShowHideColumnsMenuItems-module_switch__tMsdt",header:"MRT_ShowHideColumnsMenuItems-module_header__xVkKb"};const vx=e=>{var t,n,r,i;return(i=(t=e.id)!==null&&t!==void 0?t:(r=(n=e.accessorKey)===null||n===void 0?void 0:n.toString)===null||r===void 0?void 0:r.call(n))!==null&&i!==void 0?i:e.header},gN=e=>{const t=[],n=r=>{r.forEach(i=>{i.columns?n(i.columns):t.push(i)})};return n(e),t},F5e=({columnDefs:e,tableOptions:t})=>{const{aggregationFns:n={},defaultDisplayColumn:r,filterFns:i={},sortingFns:s={},state:{columnFilterFns:o={}}={}}=t;return e.map(a=>{var l,u;if(a.id||(a.id=vx(a)),a.columnDefType||(a.columnDefType="data"),!((l=a.columns)===null||l===void 0)&&l.length)a.columnDefType="group",a.columns=F5e({columnDefs:a.columns,tableOptions:t});else if(a.columnDefType==="data"){if(Array.isArray(a.aggregationFn)){const c=a.aggregationFn;a.aggregationFn=(d,f,h)=>c.map(p=>{var m;return(m=n[p])===null||m===void 0?void 0:m.call(n,d,f,h)})}Object.keys(i).includes(o[a.id])&&(a.filterFn=(u=i[o[a.id]])!==null&&u!==void 0?u:i.fuzzy,a._filterFn=o[a.id]),Object.keys(s).includes(a.sortingFn)&&(a.sortingFn=s[a.sortingFn])}else a.columnDefType==="display"&&(a=Object.assign(Object.assign({},r),a));return a})},L5e=(e,t,n)=>{e.getCanPin()&&e.pin(t.getIsPinned());const r=[...n];return r.splice(r.indexOf(t.id),0,r.splice(r.indexOf(e.id),1)[0]),r},KJt=e=>{const{filterVariant:t}=e;return t==="multi-select"?"arrIncludesSome":t!=null&&t.includes("range")?"betweenInclusive":["checkbox","date","select"].includes(t||"")?"equals":"fuzzy"},j5e=({allColumns:e,column:t,hoveredColumn:n,setHoveredColumn:r,table:i})=>{var s;const o=Xi(),{getState:a,options:{enableColumnOrdering:l,enableColumnPinning:u,enableHiding:c,localization:d},setColumnOrder:f}=i,{columnOrder:h}=a(),{columnDef:p}=t,{columnDefType:m}=p,g=m!=="group"&&t.getIsVisible()||m==="group"&&t.getLeafColumns().some(k=>k.getIsVisible()),v=k=>{var I,R;m==="group"?(R=(I=k==null?void 0:k.columns)===null||I===void 0?void 0:I.forEach)===null||R===void 0||R.call(I,O=>{O.toggleVisibility(!g)}):k.toggleVisibility()},y=D.useRef(null),[w,E]=D.useState(!1),C=k=>{E(!0),k.dataTransfer.setDragImage(y.current,0,0)},S=k=>{E(!1),r(null),n&&f(L5e(t,n,h))},T=k=>{!w&&p.enableColumnOrdering!==!1&&r(t)};return!p.header||p.visibleInShowHideMenu===!1?null:x.jsxs(x.Fragment,{children:[x.jsx(pn.Item,Object.assign({className:lw.root,component:"span",onDragEnter:T,ref:y,style:{"--_column-depth":`${(t.depth+.5)*2}rem`,"--_hover-color":IJt(o)}},pN("dragging",w),pN("order-hovered",(n==null?void 0:n.id)===t.id),{children:x.jsxs(_e,{className:lw.menu,children:[m!=="group"&&l&&!e.some(k=>k.columnDef.columnDefType==="group")&&(p.enableColumnOrdering!==!1?x.jsx(xte,{onDragEnd:S,onDragStart:C,table:i}):x.jsx(_e,{className:lw.grab})),u&&(t.getCanPin()?x.jsx(WJt,{column:t,table:i}):x.jsx(_e,{className:lw.pin})),c?x.jsx(Ut,{label:d.toggleVisibility,openDelay:1e3,withinPortal:!0,children:x.jsx(U0,{checked:g,className:lw.switch,disabled:!t.getCanHide(),label:p.header,onChange:()=>v(t)})}):x.jsx(Ue,{className:lw.header,children:p.header})]})})),(s=t.columns)===null||s===void 0?void 0:s.map((k,I)=>x.jsx(j5e,{allColumns:e,column:k,hoveredColumn:n,setHoveredColumn:r,table:i},`${I}-${k.id}`))]})};function ib({header:e,id:t,size:n,tableOptions:r}){const{defaultDisplayColumn:i,displayColumnDefOptions:s,localization:o}=r;return Object.assign(Object.assign(Object.assign(Object.assign({},i),{header:e?o[e]:"",size:n}),s==null?void 0:s[t]),{id:t})}const B5e=e=>{const{enableRowPinning:t,rowPinningDisplayMode:n}=e;return!!(t&&!(n!=null&&n.startsWith("select")))},z5e=e=>{const{enableRowDragging:t,enableRowOrdering:n}=e;return!!(t||n)},_te=e=>{const{enableExpanding:t,enableGrouping:n,renderDetailPanel:r,state:{grouping:i}}=e;return!!(t||n&&(i!=null&&i.length)||r)},Ete=e=>{const{createDisplayMode:t,editDisplayMode:n,enableEditing:r,enableRowActions:i,state:{creatingRow:s}}=e;return!!(i||s&&t==="row"||r&&["modal","row"].includes(n??""))},U5e=e=>!!e.enableRowSelection,q5e=e=>!!e.enableRowNumbers,H5e=e=>e.layoutMode==="grid-no-grow",XJt=e=>[B5e(e)&&"mrt-row-pin",z5e(e)&&"mrt-row-drag",e.positionActionsColumn==="first"&&Ete(e)&&"mrt-row-actions",e.positionExpandColumn==="first"&&_te(e)&&"mrt-row-expand",U5e(e)&&"mrt-row-select",q5e(e)&&"mrt-row-numbers"].filter(Boolean),QJt=e=>[e.positionActionsColumn==="last"&&Ete(e)&&"mrt-row-actions",e.positionExpandColumn==="last"&&_te(e)&&"mrt-row-expand",H5e(e)&&"mrt-row-spacer"].filter(Boolean),Cte=(e,t=!1)=>{const{state:{columnOrder:n=[]}}=e,r=XJt(e),i=QJt(e),s=gN(e.columns).map(a=>vx(a));let o=t?s:Array.from(new Set([...n,...s]));return o=o.filter(a=>!r.includes(a)&&!i.includes(a)),[...r,...o,...i]},JJt=({table:e})=>{const{getAllColumns:t,getAllLeafColumns:n,getCenterLeafColumns:r,getIsAllColumnsVisible:i,getIsSomeColumnsPinned:s,getIsSomeColumnsVisible:o,getLeftLeafColumns:a,getRightLeafColumns:l,getState:u,options:{enableColumnOrdering:c,enableColumnPinning:d,enableHiding:f,localization:h}}=e,{columnOrder:p,columnPinning:m}=u(),g=E=>{n().filter(C=>C.columnDef.enableHiding!==!1).forEach(C=>C.toggleVisibility(E))},v=D.useMemo(()=>{const E=t();return p.length>0&&!E.some(C=>C.columnDef.columnDefType==="group")?[...a(),...Array.from(new Set(p)).map(C=>r().find(S=>(S==null?void 0:S.id)===C)),...l()].filter(Boolean):E},[p,m,t(),r(),a(),l()]),[y,w]=D.useState(null);return x.jsxs(pn.Dropdown,{className:Dt("mrt-show-hide-columns-menu",Fge.root),children:[x.jsxs(Rt,{className:Fge.content,children:[f&&x.jsx(Wt,{disabled:!o(),onClick:()=>g(!1),variant:"subtle",children:h.hideAll}),c&&x.jsx(Wt,{onClick:()=>e.setColumnOrder(Cte(e.options,!0)),variant:"subtle",children:h.resetOrder}),d&&x.jsx(Wt,{disabled:!s(),onClick:()=>e.resetColumnPinning(!0),variant:"subtle",children:h.unpinAll}),f&&x.jsx(Wt,{disabled:i(),onClick:()=>g(!0),variant:"subtle",children:h.showAll})]}),x.jsx(pn.Divider,{}),v.map((E,C)=>x.jsx(j5e,{allColumns:v,column:E,hoveredColumn:y,setHoveredColumn:w,table:e},`${C}-${E.id}`))]})},ZJt=e=>{var{table:t,title:n}=e,r=yn(e,["table","title"]);const{icons:{IconColumns:i},localization:{showHideColumns:s}}=t.options;return x.jsxs(pn,{closeOnItemClick:!1,withinPortal:!0,children:[x.jsx(Ut,{label:n??s,withinPortal:!0,children:x.jsx(pn.Target,{children:x.jsx(tr,Object.assign({"aria-label":n??s,color:"gray",size:"lg",variant:"subtle"},r,{children:x.jsx(i,{})}))})}),x.jsx(JJt,{table:t})]})},eZt={md:"xs",xl:"md",xs:"xl"},tZt=e=>{var{table:{getState:t,options:{icons:{IconBaselineDensityLarge:n,IconBaselineDensityMedium:r,IconBaselineDensitySmall:i},localization:{toggleDensity:s}},setDensity:o},title:a}=e,l=yn(e,["table","title"]);const{density:u}=t();return x.jsx(Ut,{label:a??s,withinPortal:!0,children:x.jsx(tr,Object.assign({"aria-label":a??s,color:"gray",onClick:()=>o(c=>eZt[c]),size:"lg",variant:"subtle"},l,{children:u==="xs"?x.jsx(i,{}):u==="md"?x.jsx(r,{}):x.jsx(n,{})}))})},nZt=e=>{var{table:{getState:t,options:{icons:{IconFilter:n,IconFilterOff:r},localization:{showHideFilters:i}},setShowColumnFilters:s},title:o}=e,a=yn(e,["table","title"]);const{showColumnFilters:l}=t();return x.jsx(Ut,{label:o??i,withinPortal:!0,children:x.jsx(tr,Object.assign({"aria-label":o??i,color:"gray",onClick:()=>s(u=>!u),size:"lg",variant:"subtle"},a,{children:l?x.jsx(r,{}):x.jsx(n,{})}))})},rZt=e=>{var{table:{getState:t,options:{icons:{IconMaximize:n,IconMinimize:r},localization:{toggleFullScreen:i}},setIsFullScreen:s},title:o}=e,a=yn(e,["table","title"]);const{isFullScreen:l}=t(),[u,c]=D.useState(!1),d=()=>{c(!1),s(f=>!f)};return x.jsx(Ut,{label:o??i,opened:u,withinPortal:!0,children:x.jsx(tr,Object.assign({"aria-label":o??i,color:"gray",onClick:d,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),size:"lg",variant:"subtle"},a,{children:l?x.jsx(r,{}):x.jsx(n,{})}))})},iZt=e=>{var{table:{getState:t,options:{icons:{IconSearch:n,IconSearchOff:r},localization:{showHideSearch:i}},refs:{searchInputRef:s},setShowGlobalFilter:o},title:a}=e,l=yn(e,["table","title"]);const{globalFilter:u,showGlobalFilter:c}=t(),d=()=>{o(!c),setTimeout(()=>{var f;return(f=s.current)===null||f===void 0?void 0:f.focus()},100)};return x.jsx(Ut,{label:a??i,withinPortal:!0,children:x.jsx(tr,Object.assign({"aria-label":a??i,color:"gray",disabled:!!u,onClick:d,size:"lg",variant:"subtle"},l,{children:c?x.jsx(r,{}):x.jsx(n,{})}))})},sZt=e=>{var{handleEdit:t,row:n,table:r}=e,i=yn(e,["handleEdit","row","table"]);const{options:{editDisplayMode:s,enableEditing:o,icons:{IconDots:a,IconEdit:l},localization:u,positionActionsColumn:c,renderRowActionMenuItems:d}}=r;return x.jsxs(pn,{closeOnItemClick:!0,position:c==="first"?"bottom-start":c==="last"?"bottom-end":void 0,withinPortal:!0,children:[x.jsx(Ut,{label:u.rowActions,openDelay:1e3,withinPortal:!0,children:x.jsx(pn.Target,{children:x.jsx(tr,Object.assign({"aria-label":u.rowActions,color:"gray",onClick:f=>f.stopPropagation(),size:"sm",variant:"subtle"},i,{children:x.jsx(a,{})}))})}),x.jsxs(pn.Dropdown,{onClick:f=>f.stopPropagation(),children:[o&&s!=="table"&&x.jsx(pn.Item,{leftSection:x.jsx(l,{}),onClick:t,children:u.edit}),d==null?void 0:d({row:n,table:r})]})]})},oZt=({cell:e,row:t,table:n})=>{const{getState:r,options:{createDisplayMode:i,editDisplayMode:s,enableEditing:o,icons:{IconEdit:a},localization:{edit:l},renderRowActionMenuItems:u,renderRowActions:c},setEditingRow:d}=n,{creatingRow:f,editingRow:h}=r(),p=(f==null?void 0:f.id)===t.id,m=(h==null?void 0:h.id)===t.id,g=y=>{y.stopPropagation(),d(Object.assign({},t))},v=p&&i==="row"||m&&s==="row";return x.jsx(x.Fragment,{children:c&&!v?c({cell:e,row:t,table:n}):v?x.jsx(M5e,{row:t,table:n}):!u&&Nt(o,t)?x.jsx(Ut,{label:l,openDelay:1e3,position:"right",withinPortal:!0,children:x.jsx(tr,{"aria-label":l,color:"gray",disabled:!!h&&h.id!==t.id,onClick:g,size:"md",variant:"subtle",children:x.jsx(a,{})})}):u?x.jsx(sZt,{handleEdit:g,row:t,table:n}):null})};var a7={root:"MRT_TableFooter-module_root__-JXpw",grid:"MRT_TableFooter-module_grid__J3Ga-",sticky:"MRT_TableFooter-module_sticky__GcoK6"},Lge={root:"MRT_TableFooterRow-module_root__EuoPr","layout-mode-grid":"MRT_TableFooterRow-module_layout-mode-grid__dUEMF"},l7={root:"MRT_TableFooterCell-module_root__d8Scs",grid:"MRT_TableFooterCell-module_grid__H9jLk",group:"MRT_TableFooterCell-module_group__l3-p-"};const aZt=e=>{var t,n,r,i,s,{footer:o,renderedColumnIndex:a,table:l}=e,u=yn(e,["footer","renderedColumnIndex","table"]);const c=tl(),{options:{enableColumnPinning:d,layoutMode:f,mantineTableFooterCellProps:h}}=l,{column:p}=o,{columnDef:m}=p,{columnDefType:g}=m,v=d&&m.columnDefType!=="group"&&p.getIsPinned(),y={column:p,table:l},w=Object.assign(Object.assign(Object.assign({},Nt(h,y)),Nt(m.mantineTableFooterCellProps,y)),u),E={minWidth:`max(calc(var(--header-${Cd(o==null?void 0:o.id)}-size) * 1px), ${(t=m.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${Cd(o.id)}-size) * 1px)`};return f==="grid"?E.flex=`${[0,!1].includes(m.grow)?0:`var(--header-${Cd(o.id)}-size)`} 0 auto`:f==="grid-no-grow"&&(E.flex=`${+(m.grow||0)} 0 auto`),x.jsx(kx,Object.assign({colSpan:o.colSpan,"data-column-pinned":v||void 0,"data-first-right-pinned":v==="right"&&p.getIsFirstColumn(v)||void 0,"data-index":a,"data-last-left-pinned":v==="left"&&p.getIsLastColumn(v)||void 0},w,{__vars:Object.assign({"--mrt-cell-align":(n=w.align)!==null&&n!==void 0?n:g==="group"?"center":c.dir==="rtl"?"right":"left","--mrt-table-cell-left":v==="left"?`${p.getStart(v)}`:void 0,"--mrt-table-cell-right":v==="right"?`${p.getAfter(v)}`:void 0},w==null?void 0:w.__vars),className:Dt(l7.root,(f==null?void 0:f.startsWith("grid"))&&l7.grid,g==="group"&&l7.group,w==null?void 0:w.className),style:C=>Object.assign(Object.assign({},E),Nt(w.style,C)),children:(r=w.children)!==null&&r!==void 0?r:o.isPlaceholder?null:(s=(i=Nt(m.Footer,{column:p,footer:o,table:l}))!==null&&i!==void 0?i:m.footer)!==null&&s!==void 0?s:null}))},lZt=e=>{var t,{columnVirtualizer:n,footerGroup:r,table:i}=e,s=yn(e,["columnVirtualizer","footerGroup","table"]);const{options:{layoutMode:o,mantineTableFooterRowProps:a}}=i,{virtualColumns:l,virtualPaddingLeft:u,virtualPaddingRight:c}=n??{};if(!(!((t=r.headers)===null||t===void 0)&&t.some(f=>typeof f.column.columnDef.footer=="string"&&!!f.column.columnDef.footer||f.column.columnDef.Footer)))return null;const d=Object.assign(Object.assign({},Nt(a,{footerGroup:r,table:i})),s);return x.jsxs(Mp,Object.assign({className:Dt(Lge.root,(o==null?void 0:o.startsWith("grid"))&&Lge["layout-mode-grid"])},d,{children:[u?x.jsx(_e,{component:"th",display:"flex",w:u}):null,(l??r.headers).map((f,h)=>{let p=f;return n&&(h=f.index,p=r.headers[h]),x.jsx(aZt,{footer:p,renderedColumnIndex:h,table:i},p.id)}),c?x.jsx(_e,{component:"th",display:"flex",w:c}):null]}))},uZt=e=>{var{columnVirtualizer:t,table:n}=e,r=yn(e,["columnVirtualizer","table"]);const{getFooterGroups:i,getState:s,options:{enableStickyFooter:o,layoutMode:a,mantineTableFooterProps:l},refs:{tableFooterRef:u}}=n,{isFullScreen:c}=s(),d=Object.assign(Object.assign({},Nt(l,{table:n})),r),f=(c||o)&&o!==!1;return x.jsx(EG,Object.assign({},d,{className:Dt(a7.root,d==null?void 0:d.className,f&&a7.sticky,(a==null?void 0:a.startsWith("grid"))&&a7.grid),ref:h=>{u.current=h,d!=null&&d.ref&&(d.ref.current=h)},children:i().map(h=>x.jsx(lZt,{columnVirtualizer:t,footerGroup:h,table:n},h.id))}))};var i0={root:"MRT_TableHead-module_root__j9NkO","root-grid":"MRT_TableHead-module_root-grid__c3aGl","root-table-row-group":"MRT_TableHead-module_root-table-row-group__d9FO4","root-sticky":"MRT_TableHead-module_root-sticky__0kuDE","banner-tr":"MRT_TableHead-module_banner-tr__EhT-x","banner-th":"MRT_TableHead-module_banner-th__KwM5a",grid:"MRT_TableHead-module_grid__OJ-td"},u7={root:"MRT_TableHeadRow-module_root__hUKv4","layout-mode-grid":"MRT_TableHeadRow-module_layout-mode-grid__4ZGri",sticky:"MRT_TableHeadRow-module_sticky__Ej7Ax"},ko={root:"MRT_TableHeadCell-module_root__6y50a","root-grid":"MRT_TableHeadCell-module_root-grid__bAf1d","root-virtualized":"MRT_TableHeadCell-module_root-virtualized__CWLit","root-no-select":"MRT_TableHeadCell-module_root-no-select__BEOVU",content:"MRT_TableHeadCell-module_content__-pzSK","content-spaced":"MRT_TableHeadCell-module_content-spaced__S85Aa","content-center":"MRT_TableHeadCell-module_content-center__c-17L","content-right":"MRT_TableHeadCell-module_content-right__NSRZU","content-wrapper":"MRT_TableHeadCell-module_content-wrapper__py6aJ","content-wrapper-hidden-overflow":"MRT_TableHeadCell-module_content-wrapper-hidden-overflow__QY40r","content-wrapper-nowrap":"MRT_TableHeadCell-module_content-wrapper-nowrap__-4aIg",labels:"MRT_TableHeadCell-module_labels__oiMSr","labels-right":"MRT_TableHeadCell-module_labels-right__6ZJp-","labels-center":"MRT_TableHeadCell-module_labels-center__MM9q8","labels-sortable":"MRT_TableHeadCell-module_labels-sortable__tyuLr","labels-data":"MRT_TableHeadCell-module_labels-data__PvFGO","content-actions":"MRT_TableHeadCell-module_content-actions__utxbm"},cZt={"filter-mode-label":"MRT_TableHeadCellFilterContainer-module_filter-mode-label__8reK-"};const V5e=(e,t,n,r)=>{const i=sQt(e.getValue(t),n,{threshold:La.MATCHES});return r(i),i.passed};V5e.autoRemove=e=>!e;const W5e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().includes(n.toString().toLowerCase().trim())};W5e.autoRemove=e=>!e;const G5e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().startsWith(n.toString().toLowerCase().trim())};G5e.autoRemove=e=>!e;const Y5e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().endsWith(n.toString().toLowerCase().trim())};Y5e.autoRemove=e=>!e;const QM=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())===(n==null?void 0:n.toString().toLowerCase().trim())};QM.autoRemove=e=>!e;const K5e=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())!==n.toString().toLowerCase().trim()};K5e.autoRemove=e=>!e;const JM=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)>+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())>(n==null?void 0:n.toString().toLowerCase().trim())};JM.autoRemove=e=>!e;const Ste=(e,t,n)=>QM(e,t,n)||JM(e,t,n);Ste.autoRemove=e=>!e;const ZM=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)<+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())<(n==null?void 0:n.toString().toLowerCase().trim())};ZM.autoRemove=e=>!e;const Tte=(e,t,n)=>QM(e,t,n)||ZM(e,t,n);Tte.autoRemove=e=>!e;const X5e=(e,t,n)=>(["",void 0].includes(n[0])||JM(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||ZM(e,t,n[1]));X5e.autoRemove=e=>!e;const Q5e=(e,t,n)=>(["",void 0].includes(n[0])||Ste(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||Tte(e,t,n[1]));Q5e.autoRemove=e=>!e;const J5e=(e,t,n)=>{var r;return!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};J5e.autoRemove=e=>!e;const Z5e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};Z5e.autoRemove=e=>!e;const dZt=Object.assign(Object.assign({},Pf),{between:X5e,betweenInclusive:Q5e,contains:W5e,empty:J5e,endsWith:Y5e,equals:QM,fuzzy:V5e,greaterThan:JM,greaterThanOrEqualTo:Ste,lessThan:ZM,lessThanOrEqualTo:Tte,notEmpty:Z5e,notEquals:K5e,startsWith:G5e});function kte(e,t){var n;if(!t)return"";const r=`filter${t[0].toUpperCase()}${t.slice(1)}`;return(n=e[r])!==null&&n!==void 0?n:""}var fZt={root:"MRT_FilterCheckBox-module_root__59h9r"};const hZt=e=>{var t,n,r,{column:i,table:s}=e,o=yn(e,["column","table"]);const{getState:a,options:{localization:l,mantineFilterCheckboxProps:u}}=s,{density:c}=a(),{columnDef:d}=i,f={column:i,table:s},h=Object.assign(Object.assign(Object.assign({},Nt(u,f)),Nt(d.mantineFilterCheckboxProps,f)),o),p=(t=l.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",d.header),m=i.getFilterValue();return x.jsx(Ut,{label:(n=h==null?void 0:h.title)!==null&&n!==void 0?n:p,openDelay:1e3,withinPortal:!0,children:x.jsx(Fo,Object.assign({checked:m==="true",className:Dt("mrt-filter-checkbox",fZt.root),indeterminate:m===void 0,label:(r=h.title)!==null&&r!==void 0?r:p,size:c==="xs"?"sm":"md"},h,{onChange:g=>{var v;i.setFilterValue(i.getFilterValue()===void 0?"true":i.getFilterValue()==="true"?"false":void 0),(v=h==null?void 0:h.onChange)===null||v===void 0||v.call(h,g)},onClick:g=>{var v;g.stopPropagation(),(v=h==null?void 0:h.onClick)===null||v===void 0||v.call(h,g)},title:void 0}))})};var pZt={root:"MRT_FilterRangeFields-module_root__KfCcg"},HC={root:"MRT_FilterTextInput-module_root__Ss8Ql","date-filter":"MRT_FilterTextInput-module_date-filter__jOBLB","range-filter":"MRT_FilterTextInput-module_range-filter__JQHAL","not-filter-chip":"MRT_FilterTextInput-module_not-filter-chip__u8b1y","filter-chip-badge":"MRT_FilterTextInput-module_filter-chip-badge__Sel2k"};const lV=e=>{var t,n,r,i,s,o,a,l,{header:u,rangeFilterIndex:c,table:d}=e,f=yn(e,["header","rangeFilterIndex","table"]);const{options:{columnFilterDisplayMode:h,columnFilterModeOptions:p,icons:{IconX:m},localization:g,mantineFilterAutocompleteProps:v,mantineFilterDateInputProps:y,mantineFilterMultiSelectProps:w={clearable:!0},mantineFilterSelectProps:E,mantineFilterTextInputProps:C,manualFiltering:S},refs:{filterInputRefs:T},setColumnFilterFns:k}=d,{column:I}=u,{columnDef:R}=I,O={column:I,rangeFilterIndex:c,table:d},M=Object.assign(Object.assign(Object.assign({},Nt(C,O)),Nt(R.mantineFilterTextInputProps,O)),f),$=Object.assign(Object.assign({},Nt(E,O)),Nt(R.mantineFilterSelectProps,O)),L=Object.assign(Object.assign({},Nt(w,O)),Nt(R.mantineFilterMultiSelectProps,O)),U=Object.assign(Object.assign({},Nt(y,O)),Nt(R.mantineFilterDateInputProps,O)),B=Object.assign(Object.assign({},Nt(v,O)),Nt(R.mantineFilterAutocompleteProps,O)),V=R.filterVariant==="range"||R.filterVariant==="date-range"||c!==void 0,G=R.filterVariant==="select",Y=R.filterVariant==="multi-select",z=R.filterVariant==="date"||R.filterVariant==="date-range",F=R.filterVariant==="autocomplete",W=(t=R==null?void 0:R.columnFilterModeOptions)!==null&&t!==void 0?t:p,q=R._filterFn,K=["empty","notEmpty"].includes(q)?kte(g,q):"",J=V?c===0?g.min:c===1?g.max:"":(n=M==null?void 0:M.placeholder)!==null&&n!==void 0?n:(r=g.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(R.header)),te=I.getFacetedUniqueValues(),le=D.useMemo(()=>{var we,He,Xe;return((Xe=(He=(we=B==null?void 0:B.data)!==null&&we!==void 0?we:$==null?void 0:$.data)!==null&&He!==void 0?He:L==null?void 0:L.data)!==null&&Xe!==void 0?Xe:(F||G||Y)&&te?Array.from(te.keys()).filter(tt=>tt!==null).sort((tt,ft)=>tt.localeCompare(ft)):[]).filter(tt=>tt!=null)},[B==null?void 0:B.data,te,F,Y,G,L==null?void 0:L.data,$==null?void 0:$.data]),oe=D.useRef(!1),[ie,he]=D.useState(()=>{var we,He;return Y?I.getFilterValue()||[]:V?((we=I.getFilterValue())===null||we===void 0?void 0:we[c])||"":(He=I.getFilterValue())!==null&&He!==void 0?He:""}),[ee]=xve(ie,S?400:200);D.useEffect(()=>{oe.current&&(V?I.setFilterValue(we=>{const He=Array.isArray(we)?we:["",""];return He[c]=ee,He}):I.setFilterValue(ee??void 0))},[ee]),D.useEffect(()=>{if(!oe.current){oe.current=!0;return}const we=I.getFilterValue();we===void 0?ne():he(V&&c!==void 0?(we??["",""])[c]:we??"")},[I.getFilterValue()]);const ne=()=>{Y?(he([]),I.setFilterValue([])):V?(he(""),I.setFilterValue(we=>{const He=Array.isArray(we)?we:["",""];return He[c]=void 0,He})):G?(he(null),I.setFilterValue(null)):(he(""),I.setFilterValue(void 0))},ue=()=>{Y?(he([]),I.setFilterValue([])):(he(""),I.setFilterValue(void 0)),k(we=>{var He;return Object.assign(Object.assign({},we),{[u.id]:(He=W==null?void 0:W[0])!==null&&He!==void 0?He:"fuzzy"})})},ve={"aria-label":J,className:Dt("mrt-filter-text-input",HC.root,z?HC["date-filter"]:V?HC["range-filter"]:!K&&HC["not-filter-chip"]),disabled:!!K,onChange:he,onClick:we=>we.stopPropagation(),placeholder:J,style:Object.assign({},Y?L==null?void 0:L.style:G?$==null?void 0:$.style:z?U==null?void 0:U.style:M==null?void 0:M.style),title:J,value:Y&&!Array.isArray(ie)?[]:ie,variant:"unstyled"},{className:xe}=ve,Re=yn(ve,["className"]),Te=ie?x.jsx(tr,{"aria-label":g.clearFilter,color:"var(--mantine-color-gray-7)",onClick:ne,size:"sm",title:(i=g.clearFilter)!==null&&i!==void 0?i:"",variant:"transparent",children:x.jsx(m,{})}):null;return R.Filter?x.jsx(x.Fragment,{children:(s=R.Filter)===null||s===void 0?void 0:s.call(R,{column:I,header:u,rangeFilterIndex:c,table:d})}):K?x.jsx(_e,{style:Re.style,children:x.jsx(lu,{className:HC["filter-chip-badge"],onClick:ue,rightSection:Te,size:"lg",children:K})}):Y?x.jsx(WT,Object.assign({},Re,{searchable:!0},L,{className:Dt(xe,L.className),data:le,onChange:we=>he(we),ref:we=>{we&&(T.current[`${I.id}-${c??0}`]=we,L.ref&&(L.ref.current=we))},rightSection:!((o=ie==null?void 0:ie.toString())===null||o===void 0)&&o.length&&(L!=null&&L.clearable)?Te:void 0,style:Re.style})):G?x.jsx(Ag,Object.assign({},Re,{clearable:!0,searchable:!0},$,{className:Dt(xe,$.className),clearButtonProps:{size:"md"},data:le,ref:we=>{we&&(T.current[`${I.id}-${c??0}`]=we,$.ref&&($.ref.current=we))},style:Re.style})):z?x.jsx(wte,Object.assign({},Re,{allowDeselect:!0,clearable:!0,popoverProps:{withinPortal:h!=="popover"}},U,{className:Dt(xe,U.className),onChange:we=>Re.onChange(we===null?"":we),ref:we=>{we&&(T.current[`${I.id}-${c??0}`]=we,U.ref&&(U.ref.current=we))},style:Re.style})):F?x.jsx($W,Object.assign({},Re,{onChange:we=>he(we),rightSection:!((a=ie==null?void 0:ie.toString())===null||a===void 0)&&a.length?Te:void 0},B,{className:Dt(xe,B.className),data:le,ref:we=>{we&&(T.current[`${I.id}-${c??0}`]=we,B.ref&&(B.ref.current=we))},style:Re.style})):x.jsx(Gu,Object.assign({},Re,{onChange:we=>he(we.target.value),rightSection:!((l=ie==null?void 0:ie.toString())===null||l===void 0)&&l.length?Te:void 0},M,{className:Dt(xe,M.className),mt:0,ref:we=>{we&&(T.current[`${I.id}-${c??0}`]=we,M.ref&&(M.ref.current=we))},style:Re.style}))},mZt=e=>{var{header:t,table:n}=e,r=yn(e,["header","table"]);return x.jsxs(_e,Object.assign({},r,{className:Dt("mrt-filter-range-fields",pZt.root,r.className),children:[x.jsx(lV,{header:t,rangeFilterIndex:0,table:n}),x.jsx(lV,{header:t,rangeFilterIndex:1,table:n})]}))};var gZt={root:"MRT_FilterRangeSlider-module_root__uwYEk"};const yZt=e=>{var t,{header:n,table:r}=e,i=yn(e,["header","table"]);const{options:{mantineFilterRangeSliderProps:s},refs:{filterInputRefs:o}}=r,{column:a}=n,{columnDef:l}=a,u={column:a,table:r},c=Object.assign(Object.assign(Object.assign({},Nt(s,u)),Nt(l.mantineFilterRangeSliderProps,u)),i);let[d,f]=c.min!==void 0&&c.max!==void 0?[c.min,c.max]:(t=a.getFacetedMinMaxValues())!==null&&t!==void 0?t:[0,1];Array.isArray(d)&&(d=d[0]),Array.isArray(f)&&(f=f[0]),d===null&&(d=0),f===null&&(f=1);const[h,p]=D.useState([d,f]),m=a.getFilterValue(),g=D.useRef(!1);return D.useEffect(()=>{g.current&&(m===void 0?p([d,f]):Array.isArray(m)&&p(m)),g.current=!0},[m,d,f]),x.jsx(bG,Object.assign({className:Dt("mrt-filter-range-slider",gZt.root),max:f,min:d,onChange:v=>{p(v)},onChangeEnd:v=>{Array.isArray(v)&&(v[0]<=d&&v[1]>=f?a.setFilterValue(void 0):a.setFilterValue(v))},value:h},c,{ref:v=>{v&&(o.current[`${a.id}-0`]=v,c!=null&&c.ref&&(c.ref=v))}}))};var vZt={symbol:"MRT_FilterOptionMenu-module_symbol__a1Bsy"};const bZt=e=>[{divider:!1,label:e.filterFuzzy,option:"fuzzy",symbol:""},{divider:!1,label:e.filterContains,option:"contains",symbol:"*"},{divider:!1,label:e.filterStartsWith,option:"startsWith",symbol:"a"},{divider:!0,label:e.filterEndsWith,option:"endsWith",symbol:"z"},{divider:!1,label:e.filterEquals,option:"equals",symbol:"="},{divider:!0,label:e.filterNotEquals,option:"notEquals",symbol:""},{divider:!1,label:e.filterBetween,option:"between",symbol:""},{divider:!0,label:e.filterBetweenInclusive,option:"betweenInclusive",symbol:""},{divider:!1,label:e.filterGreaterThan,option:"greaterThan",symbol:">"},{divider:!1,label:e.filterGreaterThanOrEqualTo,option:"greaterThanOrEqualTo",symbol:""},{divider:!1,label:e.filterLessThan,option:"lessThan",symbol:"<"},{divider:!0,label:e.filterLessThanOrEqualTo,option:"lessThanOrEqualTo",symbol:""},{divider:!1,label:e.filterEmpty,option:"empty",symbol:""},{divider:!1,label:e.filterNotEmpty,option:"notEmpty",symbol:"!"}],D3=["between","betweenInclusive","inNumberRange"],c7=["empty","notEmpty"],wZt=["arrIncludesSome","arrIncludesAll","arrIncludes"],jge=["range-slider","date-range","range"],eMe=({header:e,onSelect:t,table:n})=>{var r,i,s,o;const{getState:a,options:{columnFilterModeOptions:l,globalFilterModeOptions:u,localization:c,renderColumnFilterModeMenuItems:d,renderGlobalFilterModeMenuItems:f},setColumnFilterFns:h,setGlobalFilterFn:p}=n,{globalFilterFn:m}=a(),{column:g}=e??{},{columnDef:v}=g??{},y=g==null?void 0:g.getFilterValue();let w=(r=v==null?void 0:v.columnFilterModeOptions)!==null&&r!==void 0?r:l;jge.includes(v==null?void 0:v.filterVariant)&&(w=[...D3,...w??[]].filter(T=>D3.includes(T)));const E=D.useMemo(()=>bZt(c).filter(T=>v?w===void 0||(w==null?void 0:w.includes(T.option)):(!u||u.includes(T.option))&&["contains","fuzzy","startsWith"].includes(T.option)),[]),C=T=>{var k;const I=(k=v==null?void 0:v._filterFn)!==null&&k!==void 0?k:"";!e||!g?p(T):T!==I&&(h(R=>Object.assign(Object.assign({},R),{[e.id]:T})),c7.includes(T)?y!==" "&&!c7.includes(I)?g.setFilterValue(" "):y&&g.setFilterValue(y):(v==null?void 0:v.filterVariant)==="multi-select"||wZt.includes(T)?y instanceof String||y!=null&&y.length?g.setFilterValue([]):y&&g.setFilterValue(y):jge.includes(v==null?void 0:v.filterVariant)||D3.includes(T)?!Array.isArray(y)||!(y!=null&&y.every(R=>R===""))&&!D3.includes(I)?g.setFilterValue(["",""]):g.setFilterValue(y):Array.isArray(y)?g.setFilterValue(""):y===" "&&c7.includes(I)?g.setFilterValue(void 0):g.setFilterValue(y)),t==null||t()},S=e&&v?v._filterFn:m;return x.jsx(pn.Dropdown,{children:(o=e&&g&&v?(s=(i=v.renderColumnFilterModeMenuItems)===null||i===void 0?void 0:i.call(v,{column:g,internalFilterOptions:E,onSelectFilterMode:C,table:n}))!==null&&s!==void 0?s:d==null?void 0:d({column:g,internalFilterOptions:E,onSelectFilterMode:C,table:n}):f==null?void 0:f({internalFilterOptions:E,onSelectFilterMode:C,table:n}))!==null&&o!==void 0?o:E.map(({divider:T,label:k,option:I,symbol:R},O)=>x.jsxs(D.Fragment,{children:[x.jsx(pn.Item,{color:I===S?"blue":void 0,leftSection:x.jsx("span",{className:vZt.symbol,children:R}),onClick:()=>C(I),value:I,children:k}),T&&x.jsx(pn.Divider,{})]},O))})},tMe=e=>{var t,n,{header:r,table:i}=e,s=yn(e,["header","table"]);const{getState:o,options:{columnFilterDisplayMode:a,columnFilterModeOptions:l,enableColumnFilterModes:u,icons:{IconFilterCog:c},localization:d},refs:{filterInputRefs:f}}=i,{showColumnFilters:h}=o(),{column:p}=r,{columnDef:m}=p,g=m._filterFn,v=(t=m==null?void 0:m.columnFilterModeOptions)!==null&&t!==void 0?t:l,y=u&&m.enableColumnFilterModes!==!1&&(v===void 0||!!(v!=null&&v.length));return x.jsx(gm,{in:h||a==="popover",children:x.jsxs(Rt,Object.assign({direction:"column"},s,{children:[x.jsxs(Rt,{align:"flex-end",children:[m.filterVariant==="checkbox"?x.jsx(hZt,{column:p,table:i}):m.filterVariant==="range-slider"?x.jsx(yZt,{header:r,table:i}):["date-range","range"].includes((n=m.filterVariant)!==null&&n!==void 0?n:"")||["between","betweenInclusive","inNumberRange"].includes(m._filterFn)?x.jsx(mZt,{header:r,table:i}):x.jsx(lV,{header:r,table:i}),y&&x.jsxs(pn,{withinPortal:a!=="popover",children:[x.jsx(Ut,{label:d.changeFilterMode,position:"bottom-start",withinPortal:!0,children:x.jsx(pn.Target,{children:x.jsx(tr,{"aria-label":d.changeFilterMode,color:"gray",size:"md",variant:"subtle",children:x.jsx(c,{})})})}),x.jsx(eMe,{header:r,onSelect:()=>setTimeout(()=>{var w;return(w=f.current[`${p.id}-0`])===null||w===void 0?void 0:w.focus()},100),table:i})]})]}),y?x.jsx(Ue,{c:"dimmed",className:cZt["filter-mode-label"],component:"label",children:d.filterMode.replace("{filterType}",kte(d,g))}):null]}))})};var xZt={root:"MRT_TableHeadCellFilterLabel-module_root__Rur2R"};const _Zt=e=>{var t,n,r,{header:i,table:s}=e,o=yn(e,["header","table"]);const{options:{columnFilterDisplayMode:a,icons:{IconFilter:l},localization:u},refs:{filterInputRefs:c},setShowColumnFilters:d}=s,{column:f}=i,{columnDef:h}=f,p=f.getFilterValue(),[m,g]=D.useState(!1),v=Array.isArray(p)&&p.some(Boolean)||!!p&&!Array.isArray(p),y=h.filterVariant==="range"||h.filterVariant==="date-range"||["between","betweenInclusive","inNumberRange"].includes(h._filterFn),w=h._filterFn,E=h.filterTooltipValueFn||(S=>S),C=a==="popover"&&!v?(t=u.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",String(h.header)):u.filteringByColumn.replace("{column}",String(h.header)).replace("{filterType}",kte(u,w)).replace("{filterValue}",`"${Array.isArray(f.getFilterValue())?f.getFilterValue().map(S=>E(S)).join(`" ${y?u.and:u.or} "`):E(f.getFilterValue())}"`).replace('" "',"");return x.jsx(x.Fragment,{children:x.jsxs(Li,{keepMounted:h.filterVariant==="range-slider",onChange:g,onClose:()=>g(!1),opened:m,position:"top",shadow:"xl",width:360,withinPortal:!0,children:[x.jsx(mc,{mounted:a==="popover"||!!f.getFilterValue()&&!y||y&&(!!(!((n=f.getFilterValue())===null||n===void 0)&&n[0])||!!(!((r=f.getFilterValue())===null||r===void 0)&&r[1])),transition:"scale",children:()=>x.jsx(Li.Target,{children:x.jsx(Ut,{disabled:m,label:C,multiline:!0,w:C.length>40?300:void 0,withinPortal:!0,children:x.jsx(tr,Object.assign({className:Dt("mrt-table-head-cell-filter-label-icon",xZt.root),size:18},pN("active",v),{onClick:S=>{S.stopPropagation(),a==="popover"?g(T=>!T):d(!0),setTimeout(()=>{const T=c.current[`${f.id}-0`];T==null||T.focus(),T==null||T.select()},100)}},o,{children:x.jsx(l,{size:"100%"})}))})})}),a==="popover"&&x.jsx(Li.Dropdown,{onClick:S=>S.stopPropagation(),onKeyDown:S=>S.key==="Enter"&&g(!1),onMouseDown:S=>S.stopPropagation(),children:x.jsx(tMe,{header:i,table:s})})]})})},EZt=e=>{var{column:t,table:n,tableHeadCellRef:r}=e,i=yn(e,["column","table","tableHeadCellRef"]);const{getState:s,options:{enableColumnOrdering:o,mantineColumnDragHandleProps:a},setColumnOrder:l,setDraggingColumn:u,setHoveredColumn:c}=n,{columnDef:d}=t,{columnOrder:f,draggingColumn:h,hoveredColumn:p}=s(),m={column:t,table:n},g=Object.assign(Object.assign(Object.assign({},Nt(a,m)),Nt(d.mantineColumnDragHandleProps,m)),i),v=w=>{var E;(E=g==null?void 0:g.onDragStart)===null||E===void 0||E.call(g,w),u(t),w.dataTransfer.setDragImage(r.current,0,0)},y=w=>{var E;(E=g==null?void 0:g.onDragEnd)===null||E===void 0||E.call(g,w),(p==null?void 0:p.id)==="drop-zone"?t.toggleGrouping():o&&p&&(p==null?void 0:p.id)!==(h==null?void 0:h.id)&&l(L5e(t,p,f)),u(null),c(null)};return x.jsx(xte,{actionIconProps:g,onDragEnd:y,onDragStart:v,table:n})};var d7={root:"MRT_TableHeadCellResizeHandle-module_root__paufe","root-ltr":"MRT_TableHeadCellResizeHandle-module_root-ltr__652AZ","root-rtl":"MRT_TableHeadCellResizeHandle-module_root-rtl__5VlSo","root-hide":"MRT_TableHeadCellResizeHandle-module_root-hide__-ILlD"};const CZt=e=>{var t,{header:n,table:r}=e,i=yn(e,["header","table"]);const{getState:s,options:{columnResizeDirection:o,columnResizeMode:a},setColumnSizingInfo:l}=r,{density:u}=s(),{column:c}=n,d=n.getResizeHandler(),f=c.getIsResizing()&&a==="onEnd"?`translateX(${(o==="rtl"?-1:1)*((t=s().columnSizingInfo.deltaOffset)!==null&&t!==void 0?t:0)}px)`:void 0;return x.jsx(_e,Object.assign({onDoubleClick:()=>{l(h=>Object.assign(Object.assign({},h),{isResizingColumn:!1})),c.resetSize()},onMouseDown:d,onTouchStart:d,role:"separator"},i,{__vars:Object.assign({"--mrt-transform":f},i.__vars),className:Dt("mrt-table-head-cell-resize-handle",d7.root,d7[`root-${o}`],!n.subHeaders.length&&a==="onChange"&&d7["root-hide"],u,i.className)}))};var Bge={"sort-icon":"MRT_TableHeadCellSortLabel-module_sort-icon__zs1xA","multi-sort-indicator":"MRT_TableHeadCellSortLabel-module_multi-sort-indicator__MGBj2"};const SZt=e=>{var{header:t,table:n}=e,r=yn(e,["header","table"]);const{getState:i,options:{icons:{IconArrowsSort:s,IconSortAscending:o,IconSortDescending:a},localization:l}}=n,u=t.column,{columnDef:c}=u,{sorting:d}=i(),f=u.getIsSorted(),h=u.getSortIndex(),p=f?f==="desc"?l.sortedByColumnDesc.replace("{column}",c.header):l.sortedByColumnAsc.replace("{column}",c.header):u.getNextSortingOrder()==="desc"?l.sortByColumnDesc.replace("{column}",c.header):l.sortByColumnAsc.replace("{column}",c.header),m=x.jsx(tr,Object.assign({"aria-label":p},pN("sorted",f),r,{className:Dt("mrt-table-head-sort-button",Bge["sort-icon"],r.className),children:f==="desc"?x.jsx(a,{size:"100%"}):f==="asc"?x.jsx(o,{size:"100%"}):x.jsx(s,{size:"100%"})}));return x.jsx(Ut,{label:p,openDelay:1e3,withinPortal:!0,children:d.length<2||h===-1?m:x.jsx(HW,{className:Dt("mrt-table-head-multi-sort-indicator",Bge["multi-sort-indicator"]),inline:!0,label:h+1,offset:4,children:m})})};var zge={left:"MRT_ColumnActionMenu-module_left__cfNmY",right:"MRT_ColumnActionMenu-module_right__-nK56"};const TZt=e=>{var t,n,r,i,s,o,a,l,u,c,{header:d,table:f}=e,h=yn(e,["header","table"]);const{getState:p,options:{columnFilterDisplayMode:m,enableColumnFilters:g,enableColumnPinning:v,enableColumnResizing:y,enableGrouping:w,enableHiding:E,enableSorting:C,enableSortingRemoval:S,icons:{IconArrowAutofitContent:T,IconBoxMultiple:k,IconClearAll:I,IconColumns:R,IconDotsVertical:O,IconEyeOff:M,IconFilter:$,IconFilterOff:L,IconPinned:U,IconPinnedOff:B,IconSortAscending:V,IconSortDescending:G},localization:Y,mantineColumnActionsButtonProps:z,renderColumnActionsMenuItems:F},refs:{filterInputRefs:W},setColumnOrder:q,setColumnSizingInfo:K,setShowColumnFilters:J,toggleAllColumnsVisible:te}=f,{column:le}=d,{columnDef:oe}=le,{columnSizing:ie,columnVisibility:he}=p(),ee={column:le,table:f},ne=Object.assign(Object.assign({},Nt(z,ee)),Nt(oe.mantineColumnActionsButtonProps,ee)),ue=()=>{le.clearSorting()},ve=()=>{le.toggleSorting(!1)},xe=()=>{le.toggleSorting(!0)},Re=()=>{K(Pe=>Object.assign(Object.assign({},Pe),{isResizingColumn:!1})),le.resetSize()},Te=()=>{le.toggleVisibility(!1)},we=Pe=>{le.pin(Pe)},He=()=>{le.toggleGrouping(),q(Pe=>["mrt-row-expand",...Pe])},Xe=()=>{le.setFilterValue("")},tt=()=>{J(!0),setTimeout(()=>{var Pe;return(Pe=W.current[`${le.id}-0`])===null||Pe===void 0?void 0:Pe.focus()},100)},ft=()=>{te(!0)},rt=x.jsxs(x.Fragment,{children:[C&&le.getCanSort()&&x.jsxs(x.Fragment,{children:[S!==!1&&x.jsx(pn.Item,{disabled:!le.getIsSorted(),leftSection:x.jsx(I,{}),onClick:ue,children:Y.clearSort}),x.jsx(pn.Item,{disabled:le.getIsSorted()==="asc",leftSection:x.jsx(V,{}),onClick:ve,children:(t=Y.sortByColumnAsc)===null||t===void 0?void 0:t.replace("{column}",String(oe.header))}),x.jsx(pn.Item,{disabled:le.getIsSorted()==="desc",leftSection:x.jsx(G,{}),onClick:xe,children:(n=Y.sortByColumnDesc)===null||n===void 0?void 0:n.replace("{column}",String(oe.header))}),(g||w||E)&&x.jsx(pn.Divider,{},3)]}),g&&m!=="popover"&&le.getCanFilter()&&x.jsxs(x.Fragment,{children:[x.jsx(pn.Item,{disabled:!le.getFilterValue(),leftSection:x.jsx(L,{}),onClick:Xe,children:Y.clearFilter}),x.jsx(pn.Item,{leftSection:x.jsx($,{}),onClick:tt,children:(r=Y.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(oe.header))}),(w||E)&&x.jsx(pn.Divider,{},2)]}),w&&le.getCanGroup()&&x.jsxs(x.Fragment,{children:[x.jsx(pn.Item,{leftSection:x.jsx(k,{}),onClick:He,children:(i=Y[le.getIsGrouped()?"ungroupByColumn":"groupByColumn"])===null||i===void 0?void 0:i.replace("{column}",String(oe.header))}),v&&x.jsx(pn.Divider,{})]}),v&&le.getCanPin()&&x.jsxs(x.Fragment,{children:[x.jsx(pn.Item,{disabled:le.getIsPinned()==="left"||!le.getCanPin(),leftSection:x.jsx(U,{className:zge.left}),onClick:()=>we("left"),children:Y.pinToLeft}),x.jsx(pn.Item,{disabled:le.getIsPinned()==="right"||!le.getCanPin(),leftSection:x.jsx(U,{className:zge.right}),onClick:()=>we("right"),children:Y.pinToRight}),x.jsx(pn.Item,{disabled:!le.getIsPinned(),leftSection:x.jsx(B,{}),onClick:()=>we(!1),children:Y.unpin}),E&&x.jsx(pn.Divider,{})]}),y&&le.getCanResize()&&x.jsx(pn.Item,{disabled:!ie[le.id],leftSection:x.jsx(T,{}),onClick:Re,children:Y.resetColumnSize},0),E&&x.jsxs(x.Fragment,{children:[x.jsx(pn.Item,{disabled:!le.getCanHide(),leftSection:x.jsx(M,{}),onClick:Te,children:(s=Y.hideColumn)===null||s===void 0?void 0:s.replace("{column}",String(oe.header))},0),x.jsx(pn.Item,{disabled:!Object.values(he).filter(Pe=>!Pe).length,leftSection:x.jsx(R,{}),onClick:ft,children:(o=Y.showAllColumns)===null||o===void 0?void 0:o.replace("{column}",String(oe.header))},1)]})]});return x.jsxs(pn,Object.assign({closeOnItemClick:!0,position:"bottom-start",withinPortal:!0},h,{children:[x.jsx(Ut,{label:(a=ne==null?void 0:ne.title)!==null&&a!==void 0?a:Y.columnActions,openDelay:1e3,withinPortal:!0,children:x.jsx(pn.Target,{children:x.jsx(tr,Object.assign({"aria-label":Y.columnActions,color:"gray",size:"sm",variant:"subtle"},ne,{children:x.jsx(O,{size:"100%"})}))})}),x.jsx(pn.Dropdown,{children:(c=(u=(l=oe.renderColumnActionsMenuItems)===null||l===void 0?void 0:l.call(oe,{column:le,internalColumnMenuItems:rt,table:f}))!==null&&u!==void 0?u:F==null?void 0:F({column:le,internalColumnMenuItems:rt,table:f}))!==null&&c!==void 0?c:rt})]}))},kZt=e=>{var t,n,r,i,s,o,{columnVirtualizer:a,header:l,renderedHeaderIndex:u=0,table:c}=e,d=yn(e,["columnVirtualizer","header","renderedHeaderIndex","table"]);const f=tl(),{getState:h,options:{columnFilterDisplayMode:p,columnResizeDirection:m,columnResizeMode:g,enableColumnActions:v,enableColumnDragging:y,enableColumnOrdering:w,enableColumnPinning:E,enableGrouping:C,enableHeaderActionsHoverReveal:S,enableMultiSort:T,layoutMode:k,mantineTableHeadCellProps:I},refs:{tableHeadCellRefs:R},setHoveredColumn:O}=c,{columnSizingInfo:M,draggingColumn:$,grouping:L,hoveredColumn:U}=h(),{column:B}=l,{columnDef:V}=B,{columnDefType:G}=V,Y={column:B,table:c},z=Object.assign(Object.assign(Object.assign({},Nt(I,Y)),Nt(V.mantineTableHeadCellProps,Y)),d),F={minWidth:`max(calc(var(--header-${Cd(l==null?void 0:l.id)}-size) * 1px), ${(t=V.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${Cd(l.id)}-size) * 1px)`};k==="grid"?F.flex=`${[0,!1].includes(V.grow)?0:`var(--header-${Cd(l.id)}-size)`} 0 auto`:k==="grid-no-grow"&&(F.flex=`${+(V.grow||0)} 0 auto`);const W=E&&V.columnDefType!=="group"&&B.getIsPinned(),q=($==null?void 0:$.id)===B.id,K=(U==null?void 0:U.id)===B.id,{hovered:J,ref:te}=hLe(),[le,oe]=D.useState(!1),ie=(v||V.enableColumnActions)&&V.enableColumnActions!==!1,he=!S||le||J&&!c.getVisibleFlatColumns().find(xe=>xe.getIsResizing()),ee=y!==!1&&V.enableColumnDragging!==!1&&(y||w&&V.enableColumnOrdering!==!1||C&&V.enableGrouping!==!1&&!L.includes(B.id))&&he,ne=D.useMemo(()=>{let xe=0;return B.getCanSort()&&xe++,he&&(xe+=1.75),ee&&(xe+=1.25),xe},[he,ee]),ue=xe=>{C&&(U==null?void 0:U.id)==="drop-zone"&&O(null),w&&$&&G!=="group"&&O(V.enableColumnOrdering!==!1?B:null)},ve=(V==null?void 0:V.Header)instanceof Function?(n=V==null?void 0:V.Header)===null||n===void 0?void 0:n.call(V,{column:B,header:l,table:c}):(r=V==null?void 0:V.Header)!==null&&r!==void 0?r:V.header;return x.jsxs(kx,Object.assign({colSpan:l.colSpan,"data-column-pinned":W||void 0,"data-dragging-column":q||void 0,"data-first-right-pinned":W==="right"&&B.getIsFirstColumn(W)||void 0,"data-hovered-column-target":K||void 0,"data-index":u,"data-last-left-pinned":W==="left"&&B.getIsLastColumn(W)||void 0,"data-resizing":g==="onChange"&&(M==null?void 0:M.isResizingColumn)===B.id&&m||void 0},z,{__vars:{"--mrt-table-cell-left":W==="left"?`${B.getStart(W)}`:void 0,"--mrt-table-cell-right":W==="right"?`${B.getAfter(W)}`:void 0},align:G==="group"?"center":f.dir==="rtl"?"right":"left",className:Dt(ko.root,(k==null?void 0:k.startsWith("grid"))&&ko["root-grid"],T&&B.getCanSort()&&ko["root-no-select"],a&&ko["root-virtualized"],z==null?void 0:z.className),onDragEnter:ue,ref:xe=>{var Re;xe&&(R.current[B.id]=xe,te.current=xe,G!=="group"&&((Re=a==null?void 0:a.measureElement)===null||Re===void 0||Re.call(a,xe)))},style:xe=>Object.assign(Object.assign({},F),Nt(z==null?void 0:z.style,xe)),children:[l.isPlaceholder?null:(i=z.children)!==null&&i!==void 0?i:x.jsxs(Rt,{className:Dt("mrt-table-head-cell-content",ko.content,(G==="group"||(z==null?void 0:z.align)==="center")&&ko["content-center"],(z==null?void 0:z.align)==="right"&&ko["content-right"],B.getCanResize()&&ko["content-spaced"]),children:[x.jsxs(Rt,{__vars:{"--mrt-table-head-cell-labels-padding-left":`${ne}`},className:Dt("mrt-table-head-cell-labels",ko.labels,B.getCanSort()&&G!=="group"&&ko["labels-sortable"],(z==null?void 0:z.align)==="right"?ko["labels-right"]:(z==null?void 0:z.align)==="center"&&ko["labels-center"],G==="data"&&ko["labels-data"]),onClick:B.getToggleSortingHandler(),children:[x.jsx(Rt,{className:Dt("mrt-table-head-cell-content-wrapper",ko["content-wrapper"],G==="data"&&ko["content-wrapper-hidden-overflow"],((o=(s=V.header)===null||s===void 0?void 0:s.length)!==null&&o!==void 0?o:0)<20&&ko["content-wrapper-nowrap"]),children:ve}),B.getCanFilter()&&(B.getIsFiltered()||he)&&x.jsx(_Zt,{header:l,table:c}),B.getCanSort()&&(B.getIsSorted()||he)&&x.jsx(SZt,{header:l,table:c})]}),G!=="group"&&x.jsxs(Rt,{className:Dt("mrt-table-head-cell-content-actions",ko["content-actions"]),children:[ee&&x.jsx(EZt,{column:B,table:c,tableHeadCellRef:{current:R.current[B.id]}}),ie&&he&&x.jsx(TZt,{header:l,onChange:oe,opened:le,table:c})]}),B.getCanResize()&&x.jsx(CZt,{header:l,table:c})]}),p==="subheader"&&B.getCanFilter()&&x.jsx(tMe,{header:l,table:c})]}))},AZt=e=>{var{columnVirtualizer:t,headerGroup:n,table:r}=e,i=yn(e,["columnVirtualizer","headerGroup","table"]);const{getState:s,options:{enableStickyHeader:o,layoutMode:a,mantineTableHeadRowProps:l}}=r,{isFullScreen:u}=s(),{virtualColumns:c,virtualPaddingLeft:d,virtualPaddingRight:f}=t??{},h=Object.assign(Object.assign({},Nt(l,{headerGroup:n,table:r})),i);return x.jsxs(Mp,Object.assign({},h,{className:Dt(u7.root,(o||u)&&u7.sticky,(a==null?void 0:a.startsWith("grid"))&&u7["layout-mode-grid"],h==null?void 0:h.className),children:[d?x.jsx(_e,{component:"th",display:"flex",w:d}):null,(c??n.headers).map((p,m)=>{let g=p;return t&&(m=p.index,g=n.headers[m]),x.jsx(kZt,{columnVirtualizer:t,header:g,renderedHeaderIndex:m,table:r},g.id)}),f?x.jsx(_e,{component:"th",display:"flex",w:f}):null]}))};var uw={alert:"MRT_ToolbarAlertBanner-module_alert__PAhUK","alert-stacked":"MRT_ToolbarAlertBanner-module_alert-stacked__HR7Nq","alert-bottom":"MRT_ToolbarAlertBanner-module_alert-bottom__u9L-S","alert-badge":"MRT_ToolbarAlertBanner-module_alert-badge__GwDmX","toolbar-alert":"MRT_ToolbarAlertBanner-module_toolbar-alert__3sJGU","head-overlay":"MRT_ToolbarAlertBanner-module_head-overlay__Hw7jK"};const uV=e=>{var t,{renderedRowIndex:n=0,row:r,table:i}=e,s=yn(e,["renderedRowIndex","row","table"]);const{getState:o,options:{enableMultiRowSelection:a,localization:l,mantineSelectAllCheckboxProps:u,mantineSelectCheckboxProps:c,selectAllMode:d,selectDisplayMode:f}}=i,{density:h,isLoading:p}=o(),m=!r,g=m?d==="page"?i.getIsAllPageRowsSelected():i.getIsAllRowsSelected():void 0,v=m?g:mN({row:r,table:i}),y=Object.assign(Object.assign({},m?Nt(u,{table:i}):Nt(c,{row:r,table:i})),s),w=r?LJt({renderedRowIndex:n,row:r,table:i}):void 0,E=O5e({table:i}),C=Object.assign(Object.assign({"aria-label":m?l.toggleSelectAll:l.toggleSelectRow,checked:v,disabled:p||r&&!r.getCanSelect()||(r==null?void 0:r.id)==="mrt-row-create",onChange:S=>{S.stopPropagation(),m?E(S):w(S)},size:h==="xs"?"sm":"md"},y),{onClick:S=>{var T;S.stopPropagation(),(T=y==null?void 0:y.onClick)===null||T===void 0||T.call(y,S)},title:void 0});return x.jsx(Ut,{label:(t=y==null?void 0:y.title)!==null&&t!==void 0?t:m?l.toggleSelectAll:l.toggleSelectRow,openDelay:1e3,withinPortal:!0,children:x.jsx("span",{children:f==="switch"?x.jsx(U0,Object.assign({},C)):f==="radio"||a===!1?x.jsx(zo,Object.assign({},C)):x.jsx(Fo,Object.assign({indeterminate:!v&&m?i.getIsSomeRowsSelected():(r==null?void 0:r.getIsSomeSelected())&&r.getCanSelectSubRows()},C))})})},Ate=e=>{var t,n,r,{stackAlertBanner:i,table:s}=e,o=yn(e,["stackAlertBanner","table"]);const{getFilteredSelectedRowModel:a,getPrePaginationRowModel:l,getState:u,options:{enableRowSelection:c,enableSelectAll:d,icons:{IconX:f},localization:h,mantineToolbarAlertBannerBadgeProps:p,mantineToolbarAlertBannerProps:m,manualPagination:g,positionToolbarAlertBanner:v,renderToolbarAlertBannerContent:y,rowCount:w}}=s,{density:E,grouping:C,rowSelection:S,showAlertBanner:T}=u(),k=Object.assign(Object.assign({},Nt(m,{table:s})),o),I=Nt(p,{table:s}),R=w??l().flatRows.length,O=D.useMemo(()=>g?Object.values(S).filter(Boolean).length:a().rows.length,[S,R,g]),M=O?x.jsxs(Rt,{align:"center",gap:"sm",children:[(n=(t=h.selectedCountOfRowCountRowsSelected)===null||t===void 0?void 0:t.replace("{selectedCount}",O.toString()))===null||n===void 0?void 0:n.replace("{rowCount}",R.toString()),x.jsx(Wt,{onClick:L=>O5e({table:s})(L,!1,!0),size:"compact-xs",variant:"subtle",children:h.clearSelection})]}):null,$=C.length>0?x.jsxs(Rt,{children:[h.groupedBy," ",C.map((L,U)=>x.jsxs(D.Fragment,{children:[U>0?h.thenBy:"",x.jsxs(lu,Object.assign({className:uw["alert-badge"],rightSection:x.jsx(tr,{color:"white",onClick:()=>s.getColumn(L).toggleGrouping(),size:"xs",variant:"subtle",children:x.jsx(f,{style:{transform:"scale(0.8)"}})}),variant:"filled"},I,{children:[s.getColumn(L).columnDef.header," "]}))]},`${U}-${L}`))]}):null;return x.jsx(gm,{in:T||!!M||!!$,transitionDuration:i?200:0,children:x.jsx(Xf,Object.assign({color:"blue",icon:!1},k,{className:Dt(uw.alert,i&&!v&&uw["alert-stacked"],!i&&v==="bottom"&&uw["alert-bottom"],k==null?void 0:k.className),children:(r=y==null?void 0:y({groupedAlert:$,selectedAlert:M,table:s}))!==null&&r!==void 0?r:x.jsxs(Rt,{className:Dt(uw["toolbar-alert"],v==="head-overlay"&&uw["head-overlay"],E),children:[c&&d&&v==="head-overlay"&&x.jsx(uV,{table:s}),x.jsxs(Mi,{children:[k==null?void 0:k.children,M,$]})]})}))})},IZt=e=>{var{columnVirtualizer:t,table:n}=e,r=yn(e,["columnVirtualizer","table"]);const{getHeaderGroups:i,getSelectedRowModel:s,getState:o,options:{enableStickyHeader:a,layoutMode:l,mantineTableHeadProps:u,positionToolbarAlertBanner:c},refs:{tableHeadRef:d}}=n,{isFullScreen:f,showAlertBanner:h}=o(),p=Object.assign(Object.assign({},Nt(u,{table:n})),r),m=a||f;return x.jsx(_G,Object.assign({},p,{className:Dt(i0.root,l!=null&&l.startsWith("grid")?i0["root-grid"]:i0["root-table-row-group"],m&&i0["root-sticky"],p==null?void 0:p.className),pos:m&&(l!=null&&l.startsWith("grid"))?"sticky":"relative",ref:g=>{d.current=g,p!=null&&p.ref&&(p.ref.current=g)},children:c==="head-overlay"&&(h||s().rows.length>0)?x.jsx(Mp,{className:Dt(i0["banner-tr"],(l==null?void 0:l.startsWith("grid"))&&i0.grid),children:x.jsx(kx,{className:Dt(i0["banner-th"],(l==null?void 0:l.startsWith("grid"))&&i0.grid),colSpan:n.getVisibleLeafColumns().length,children:x.jsx(Ate,{table:n})})}):i().map(g=>x.jsx(AZt,{columnVirtualizer:t,headerGroup:g,table:n},g.id))}))};var Uge={root:"MRT_GlobalFilterTextInput-module_root__Xmcpv",collapse:"MRT_GlobalFilterTextInput-module_collapse__v311d"};const f7=e=>{var{table:t}=e,n=yn(e,["table"]);const{getState:r,options:{enableGlobalFilterModes:i,icons:{IconSearch:s,IconX:o},localization:a,mantineSearchTextInputProps:l,manualFiltering:u,positionGlobalFilter:c},refs:{searchInputRef:d},setGlobalFilter:f}=t,{globalFilter:h,showGlobalFilter:p}=r(),m=Object.assign(Object.assign({},Nt(l,{table:t})),n),g=D.useRef(!1),[v,y]=D.useState(h??""),[w]=xve(v,u?500:250);D.useEffect(()=>{f(w||void 0)},[w]);const E=()=>{y(""),f(void 0)};return D.useEffect(()=>{g.current&&(h===void 0?E():y(h)),g.current=!0},[h]),x.jsxs(gm,{className:Uge.collapse,in:p,children:[i&&x.jsxs(pn,{withinPortal:!0,children:[x.jsx(pn.Target,{children:x.jsx(tr,{"aria-label":a.changeSearchMode,color:"gray",size:"sm",variant:"transparent",children:x.jsx(s,{})})}),x.jsx(eMe,{onSelect:E,table:t})]}),x.jsx(Gu,Object.assign({leftSection:!i&&x.jsx(s,{}),mt:0,mx:c!=="left"?"mx":void 0,onChange:C=>y(C.target.value),placeholder:a.search,rightSection:v?x.jsx(tr,{"aria-label":a.clearSearch,color:"gray",disabled:!(v!=null&&v.length),onClick:E,size:"sm",variant:"transparent",children:x.jsx(Ut,{label:a.clearSearch,withinPortal:!0,children:x.jsx(o,{})})}):null,value:v??"",variant:"filled"},m,{className:Dt("mrt-global-filter-text-input",Uge.root,m==null?void 0:m.className),ref:C=>{C&&(d.current=C,m!=null&&m.ref&&(m.ref=C))}}))]})},RZt=(e,t,n=-1,r=0,i,s)=>CE(e,"mrt-row-create",Object.assign({},...gN(e.options.columns).map(o=>({[vx(o)]:""}))),n,r,i,s),DZt=e=>Object.assign({Cell:({cell:t,row:n,table:r})=>x.jsx(oZt,{cell:t,row:n,table:r})},ib({header:"actions",id:"mrt-row-actions",size:70,tableOptions:e})),PZt=e=>Object.assign({Cell:({row:t,rowRef:n,table:r})=>x.jsx(HJt,{row:t,rowRef:n,table:r}),grow:!1},ib({header:"move",id:"mrt-row-drag",size:60,tableOptions:e})),OZt=e=>{var t;const{defaultColumn:n,enableExpandAll:r,groupedColumnMode:i,positionExpandColumn:s,renderDetailPanel:o,state:{grouping:a}}=e,l=s==="last"?{align:"right"}:void 0;return Object.assign({Cell:({cell:u,column:c,row:d,table:f})=>{var h,p,m;const g={row:d,table:f},v=(h=d.subRows)===null||h===void 0?void 0:h.length;return e.groupedColumnMode==="remove"&&d.groupingColumnId?x.jsxs(Rt,{align:"center",gap:"0.25rem",children:[x.jsx(aV,Object.assign({},g)),x.jsx(Ut,{label:f.getColumn(d.groupingColumnId).columnDef.header,openDelay:1e3,position:"right",children:x.jsx("span",{children:d.groupingValue})}),!!v&&x.jsxs("span",{children:["(",v,")"]})]}):x.jsxs(x.Fragment,{children:[x.jsx(aV,Object.assign({},g)),(m=(p=c.columnDef).GroupedCell)===null||m===void 0?void 0:m.call(p,{cell:u,column:c,row:d,table:f})]})},Header:r?({table:u})=>{var c;return x.jsxs(Rt,{align:"center",children:[x.jsx(YJt,{table:u}),i==="remove"&&((c=a==null?void 0:a.map(d=>u.getColumn(d).columnDef.header))===null||c===void 0?void 0:c.join(", "))]})}:void 0,mantineTableBodyCellProps:l,mantineTableHeadCellProps:l},ib({header:"expand",id:"mrt-row-expand",size:i==="remove"?(t=n==null?void 0:n.size)!==null&&t!==void 0?t:180:o?r?60:70:100,tableOptions:e}))},NZt=e=>{const{localization:t,rowNumberDisplayMode:n}=e,{pagination:{pageIndex:r,pageSize:i}}=e.state;return Object.assign({Cell:({renderedRowIndex:s=0,row:o})=>{var a;return((a=n==="static"?s+i*r:o.index)!==null&&a!==void 0?a:0)+1},grow:!1,Header:()=>t.rowNumber},ib({header:"rowNumbers",id:"mrt-row-numbers",size:50,tableOptions:e}))},$Zt=e=>Object.assign({Cell:({row:t,table:n})=>x.jsx(VJt,{row:t,table:n}),grow:!1},ib({header:"pin",id:"mrt-row-pin",size:60,tableOptions:e})),MZt=e=>{const{enableMultiRowSelection:t,enableSelectAll:n}=e;return Object.assign({Cell:({renderedRowIndex:r,row:i,table:s})=>x.jsx(uV,{renderedRowIndex:r,row:i,table:s}),grow:!1,Header:n&&t?({table:r})=>x.jsx(uV,{table:r}):void 0},ib({header:"select",id:"mrt-row-select",size:n?60:70,tableOptions:e}))},FZt=Object.assign({},TP),LZt={IconArrowAutofitContent:dYe,IconArrowsSort:yYe,IconBaselineDensityLarge:xYe,IconBaselineDensityMedium:EYe,IconBaselineDensitySmall:SYe,IconBoxMultiple:kYe,IconChevronDown:Rwe,IconChevronLeft:HYe,IconChevronLeftPipe:UYe,IconChevronRight:YYe,IconChevronRightPipe:WYe,IconChevronsDown:XYe,IconCircleX:JYe,IconClearAll:eKe,IconColumns:iKe,IconDeviceFloppy:uKe,IconDots:Owe,IconDotsVertical:Pwe,IconEdit:mKe,IconEyeOff:bKe,IconFilter:kKe,IconFilterCog:EKe,IconFilterOff:SKe,IconGripHorizontal:PKe,IconMaximize:HKe,IconMinimize:WKe,IconPinned:nXe,IconPinnedOff:eXe,IconSearch:Bwe,IconSearchOff:fXe,IconSortAscending:vXe,IconSortDescending:wXe,IconX:Lv},jZt={actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSelection:"Clear selection",clearSort:"Clear sort",clickToCopy:"Click to copy",copy:"Copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pin:"Pin",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all"},BZt={filterVariant:"text",maxSize:1e3,minSize:40,size:180},nMe={columnDefType:"display",enableClickToCopy:!1,enableColumnActions:!1,enableColumnDragging:!1,enableColumnFilter:!1,enableColumnOrdering:!1,enableEditing:!1,enableGlobalFilter:!1,enableGrouping:!1,enableHiding:!1,enableResizing:!1,enableSorting:!1},zZt=e=>{var t,{aggregationFns:n,autoResetExpanded:r=!1,columnFilterDisplayMode:i="subheader",columnResizeDirection:s,columnResizeMode:o="onChange",createDisplayMode:a="modal",defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c="modal",enableBatchRowSelection:d=!0,enableBottomToolbar:f=!0,enableColumnActions:h=!0,enableColumnFilters:p=!0,enableColumnOrdering:m=!1,enableColumnPinning:g=!1,enableColumnResizing:v=!1,enableColumnVirtualization:y,enableDensityToggle:w=!0,enableExpandAll:E=!0,enableExpanding:C,enableFacetedValues:S=!1,enableFilterMatchHighlighting:T=!0,enableFilters:k=!0,enableFullScreenToggle:I=!0,enableGlobalFilter:R=!0,enableGlobalFilterRankedResults:O=!0,enableGrouping:M=!1,enableHeaderActionsHoverReveal:$=!1,enableHiding:L=!0,enableMultiRowSelection:U=!0,enableMultiSort:B=!0,enablePagination:V=!0,enableRowPinning:G=!1,enableRowSelection:Y=!1,enableRowVirtualization:z,enableSelectAll:F=!0,enableSorting:W=!0,enableStickyHeader:q=!1,enableTableFooter:K=!0,enableTableHead:J=!0,enableToolbarInternalActions:te=!0,enableTopToolbar:le=!0,filterFns:oe,icons:ie,layoutMode:he,localization:ee,manualFiltering:ne,manualGrouping:ue,manualPagination:ve,manualSorting:xe,paginationDisplayMode:Re="default",positionActionsColumn:Te="first",positionCreatingRow:we="top",positionExpandColumn:He="first",positionGlobalFilter:Xe="right",positionPagination:tt="bottom",positionToolbarAlertBanner:ft="top",positionToolbarDropZone:rt="top",rowNumberDisplayMode:Pe="static",rowPinningDisplayMode:Le="sticky",selectAllMode:ge="page",sortingFns:$e}=e,ze=yn(e,["aggregationFns","autoResetExpanded","columnFilterDisplayMode","columnResizeDirection","columnResizeMode","createDisplayMode","defaultColumn","defaultDisplayColumn","editDisplayMode","enableBatchRowSelection","enableBottomToolbar","enableColumnActions","enableColumnFilters","enableColumnOrdering","enableColumnPinning","enableColumnResizing","enableColumnVirtualization","enableDensityToggle","enableExpandAll","enableExpanding","enableFacetedValues","enableFilterMatchHighlighting","enableFilters","enableFullScreenToggle","enableGlobalFilter","enableGlobalFilterRankedResults","enableGrouping","enableHeaderActionsHoverReveal","enableHiding","enableMultiRowSelection","enableMultiSort","enablePagination","enableRowPinning","enableRowSelection","enableRowVirtualization","enableSelectAll","enableSorting","enableStickyHeader","enableTableFooter","enableTableHead","enableToolbarInternalActions","enableTopToolbar","filterFns","icons","layoutMode","localization","manualFiltering","manualGrouping","manualPagination","manualSorting","paginationDisplayMode","positionActionsColumn","positionCreatingRow","positionExpandColumn","positionGlobalFilter","positionPagination","positionToolbarAlertBanner","positionToolbarDropZone","rowNumberDisplayMode","rowPinningDisplayMode","selectAllMode","sortingFns"]);const it=tl();return ie=D.useMemo(()=>Object.assign(Object.assign({},LZt),ie),[ie]),ee=D.useMemo(()=>Object.assign(Object.assign({},jZt),ee),[ee]),n=D.useMemo(()=>Object.assign(Object.assign({},FZt),n),[]),oe=D.useMemo(()=>Object.assign(Object.assign({},dZt),oe),[]),$e=D.useMemo(()=>Object.assign(Object.assign({},$Jt),$e),[]),l=D.useMemo(()=>Object.assign(Object.assign({},BZt),l),[l]),u=D.useMemo(()=>Object.assign(Object.assign({},nMe),u),[u]),[y,z]=D.useMemo(()=>[y,z],[]),s||(s=it.dir||"ltr"),he=he||(v?"grid-no-grow":"semantic"),he==="semantic"&&(z||y)&&(he="grid"),z&&(q=!0),V===!1&&ve===void 0&&(ve=!0),!((t=ze.data)===null||t===void 0)&&t.length||(ne=!0,ue=!0,ve=!0,xe=!0),Object.assign({aggregationFns:n,autoResetExpanded:r,columnFilterDisplayMode:i,columnResizeDirection:s,columnResizeMode:o,createDisplayMode:a,defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c,enableBatchRowSelection:d,enableBottomToolbar:f,enableColumnActions:h,enableColumnFilters:p,enableColumnOrdering:m,enableColumnPinning:g,enableColumnResizing:v,enableColumnVirtualization:y,enableDensityToggle:w,enableExpandAll:E,enableExpanding:C,enableFacetedValues:S,enableFilterMatchHighlighting:T,enableFilters:k,enableFullScreenToggle:I,enableGlobalFilter:R,enableGlobalFilterRankedResults:O,enableGrouping:M,enableHeaderActionsHoverReveal:$,enableHiding:L,enableMultiRowSelection:U,enableMultiSort:B,enablePagination:V,enableRowPinning:G,enableRowSelection:Y,enableRowVirtualization:z,enableSelectAll:F,enableSorting:W,enableStickyHeader:q,enableTableFooter:K,enableTableHead:J,enableToolbarInternalActions:te,enableTopToolbar:le,filterFns:oe,getCoreRowModel:qXt(),getExpandedRowModel:C||M?HXt():void 0,getFacetedMinMaxValues:S?VXt():void 0,getFacetedRowModel:S?YXt():void 0,getFacetedUniqueValues:S?KXt():void 0,getFilteredRowModel:p||R||k?XXt():void 0,getGroupedRowModel:M?QXt():void 0,getPaginationRowModel:V?ZXt():void 0,getSortedRowModel:W?eQt():void 0,getSubRows:st=>st==null?void 0:st.subRows,icons:ie,layoutMode:he,localization:ee,manualFiltering:ne,manualGrouping:ue,manualPagination:ve,manualSorting:xe,paginationDisplayMode:Re,positionActionsColumn:Te,positionCreatingRow:we,positionExpandColumn:He,positionGlobalFilter:Xe,positionPagination:tt,positionToolbarAlertBanner:ft,positionToolbarDropZone:rt,rowNumberDisplayMode:Pe,rowPinningDisplayMode:Le,selectAllMode:ge,sortingFns:$e},ze)},h7={children:null,style:{minWidth:0,padding:0,width:0}},UZt=e=>Object.assign(Object.assign(Object.assign(Object.assign({},ib({id:"mrt-row-spacer",size:0,tableOptions:e})),{grow:!0}),nMe),{mantineTableBodyCellProps:h7,mantineTableFooterCellProps:h7,mantineTableHeadCellProps:h7}),qZt=e=>{const{getIsSomeRowsPinned:t,getPrePaginationRowModel:n,getState:r,options:{enablePagination:i,enableRowPinning:s,rowCount:o}}=e,{columnOrder:a,density:l,globalFilter:u,isFullScreen:c,isLoading:d,pagination:f,showSkeletons:h,sorting:p}=r(),m=e.options.columns.length,g=o??n().rows.length,v=D.useReducer(()=>({}),{})[1],y=D.useRef(),w=D.useRef();D.useEffect(()=>{typeof window<"u"&&(y.current=document.body.style.height)},[]),D.useEffect(()=>{if(typeof window<"u")if(c)w.current=document.body.getBoundingClientRect().top,document.body.style.height="100dvh";else{if(document.body.style.height=y.current,!w.current)return;window.scrollTo({behavior:"instant",top:-1*w.current})}},[c]),D.useEffect(()=>{m!==a.length&&e.setColumnOrder(Cte(e.options))},[m]),D.useEffect(()=>{if(!i||d||h)return;const{pageIndex:C,pageSize:S}=f,T=C*S;T>=g&&T>0&&e.setPageIndex(Math.ceil(g/S)-1)},[g]);const E=D.useRef(p);D.useEffect(()=>{p.length&&(E.current=p)},[p]),D.useEffect(()=>{P5e(e)&&(u?e.setSorting([]):e.setSorting(()=>E.current||[]))},[u]),D.useEffect(()=>{s&&t()&&setTimeout(()=>{v()},150)},[l])},HZt=e=>{var t,n,r,i,s,o,a,l,u,c,d,f,h,p,m,g,v,y,w,E,C,S,T,k,I,R,O,M,$,L,U,B,V;const G=D.useRef(null),Y=D.useRef(null),z=D.useRef({}),F=D.useRef({}),W=D.useRef(null),q=D.useRef(null),K=D.useRef({}),J=D.useRef(null),te=D.useRef(null),le=D.useRef(null),oe=D.useRef(null),ie=D.useMemo(()=>{var Rr,Sn,br;const ni=(Rr=e.initialState)!==null&&Rr!==void 0?Rr:{};return ni.columnOrder=(Sn=ni.columnOrder)!==null&&Sn!==void 0?Sn:Cte(Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.initialState),e.state)})),ni.globalFilterFn=(br=e.globalFilterFn)!==null&&br!==void 0?br:"fuzzy",ni},[]);e.initialState=ie;const[he,ee]=D.useState((t=ie.creatingRow)!==null&&t!==void 0?t:null),[ne,ue]=D.useState(()=>Object.assign({},...gN(e.columns).map(Rr=>{var Sn,br,ni,Ei;return{[vx(Rr)]:Rr.filterFn instanceof Function?(Sn=Rr.filterFn.name)!==null&&Sn!==void 0?Sn:"custom":(Ei=(br=Rr.filterFn)!==null&&br!==void 0?br:(ni=ie==null?void 0:ie.columnFilterFns)===null||ni===void 0?void 0:ni[vx(Rr)])!==null&&Ei!==void 0?Ei:KJt(Rr)}}))),[ve,xe]=D.useState((n=ie.columnOrder)!==null&&n!==void 0?n:[]),[Re,Te]=D.useState((r=ie.columnSizingInfo)!==null&&r!==void 0?r:{}),[we,He]=D.useState((i=ie==null?void 0:ie.density)!==null&&i!==void 0?i:"md"),[Xe,tt]=D.useState((s=ie.draggingColumn)!==null&&s!==void 0?s:null),[ft,rt]=D.useState((o=ie.draggingRow)!==null&&o!==void 0?o:null),[Pe,Le]=D.useState((a=ie.editingCell)!==null&&a!==void 0?a:null),[ge,$e]=D.useState((l=ie.editingRow)!==null&&l!==void 0?l:null),[ze,it]=D.useState((u=ie.globalFilterFn)!==null&&u!==void 0?u:"fuzzy"),[st,wt]=D.useState((c=ie.grouping)!==null&&c!==void 0?c:[]),[un,Rn]=D.useState((d=ie.hoveredColumn)!==null&&d!==void 0?d:null),[Mn,Lt]=D.useState((f=ie.hoveredRow)!==null&&f!==void 0?f:null),[wn,Gn]=D.useState((h=ie==null?void 0:ie.isFullScreen)!==null&&h!==void 0?h:!1),[Fn,Bi]=D.useState((p=ie==null?void 0:ie.pagination)!==null&&p!==void 0?p:{pageIndex:0,pageSize:10}),[Zn,Mr]=D.useState((m=ie==null?void 0:ie.showAlertBanner)!==null&&m!==void 0?m:!1),[Kr,Yn]=D.useState((g=ie==null?void 0:ie.showColumnFilters)!==null&&g!==void 0?g:!1),[Ji,Go]=D.useState((v=ie==null?void 0:ie.showGlobalFilter)!==null&&v!==void 0?v:!1),[Es,rr]=D.useState((y=ie==null?void 0:ie.showToolbarDropZone)!==null&&y!==void 0?y:!1);e.state=Object.assign({columnFilterFns:ne,columnOrder:ve,columnSizingInfo:Re,creatingRow:he,density:we,draggingColumn:Xe,draggingRow:ft,editingCell:Pe,editingRow:ge,globalFilterFn:ze,grouping:st,hoveredColumn:un,hoveredRow:Mn,isFullScreen:wn,pagination:Fn,showAlertBanner:Zn,showColumnFilters:Kr,showGlobalFilter:Ji,showToolbarDropZone:Es},e.state);const Ct=e,zr=D.useRef([]);Ct.columns=Ct.state.columnSizingInfo.isResizingColumn||Ct.state.draggingColumn||Ct.state.draggingRow?zr.current:F5e({columnDefs:[...[B5e(Ct)&&$Zt(Ct),z5e(Ct)&&PZt(Ct),Ete(Ct)&&DZt(Ct),_te(Ct)&&OZt(Ct),U5e(Ct)&&MZt(Ct),q5e(Ct)&&NZt(Ct)].filter(Boolean),...Ct.columns,...[H5e(Ct)&&UZt(Ct)].filter(Boolean)],tableOptions:Ct}),zr.current=Ct.columns,Ct.data=D.useMemo(()=>(Ct.state.isLoading||Ct.state.showSkeletons)&&!Ct.data.length?[...Array(Math.min(Ct.state.pagination.pageSize,20)).fill(null)].map(()=>Object.assign({},...gN(Ct.columns).map(Rr=>({[vx(Rr)]:null})))):Ct.data,[Ct.data,Ct.state.isLoading,Ct.state.showSkeletons]);const dn=tQt(Object.assign(Object.assign({onColumnOrderChange:xe,onColumnSizingInfoChange:Te,onGroupingChange:wt,onPaginationChange:Bi},Ct),{globalFilterFn:(w=Ct.filterFns)===null||w===void 0?void 0:w[ze??"fuzzy"]}));return dn.refs={bottomToolbarRef:Y,editInputRefs:z,filterInputRefs:F,lastSelectedRowId:G,searchInputRef:W,tableContainerRef:q,tableFooterRef:oe,tableHeadCellRefs:K,tableHeadRef:le,tablePaperRef:J,topToolbarRef:te},dn.setCreatingRow=Rr=>{let Sn=Rr;Rr===!0&&(Sn=RZt(dn)),Ct!=null&&Ct.onCreatingRowChange?Ct.onCreatingRowChange(Sn):ee(Sn)},dn.setColumnFilterFns=(E=Ct.onColumnFilterFnsChange)!==null&&E!==void 0?E:ue,dn.setDensity=(C=Ct.onDensityChange)!==null&&C!==void 0?C:He,dn.setDraggingColumn=(S=Ct.onDraggingColumnChange)!==null&&S!==void 0?S:tt,dn.setDraggingRow=(T=Ct.onDraggingRowChange)!==null&&T!==void 0?T:rt,dn.setEditingCell=(k=Ct.onEditingCellChange)!==null&&k!==void 0?k:Le,dn.setEditingRow=(I=Ct.onEditingRowChange)!==null&&I!==void 0?I:$e,dn.setGlobalFilterFn=(R=Ct.onGlobalFilterFnChange)!==null&&R!==void 0?R:it,dn.setHoveredColumn=(O=Ct.onHoveredColumnChange)!==null&&O!==void 0?O:Rn,dn.setHoveredRow=(M=Ct.onHoveredRowChange)!==null&&M!==void 0?M:Lt,dn.setIsFullScreen=($=Ct.onIsFullScreenChange)!==null&&$!==void 0?$:Gn,dn.setShowAlertBanner=(L=Ct.onShowAlertBannerChange)!==null&&L!==void 0?L:Mr,dn.setShowColumnFilters=(U=Ct.onShowColumnFiltersChange)!==null&&U!==void 0?U:Yn,dn.setShowGlobalFilter=(B=Ct.onShowGlobalFilterChange)!==null&&B!==void 0?B:Go,dn.setShowToolbarDropZone=(V=Ct.onShowToolbarDropZoneChange)!==null&&V!==void 0?V:rr,qZt(dn),dn},e8=e=>HZt(zZt(e));var VZt={root:"MRT_TablePaper-module_root__q0v5L"},p7={root:"MRT_TableContainer-module_root__JIsGB","root-sticky":"MRT_TableContainer-module_root-sticky__uC4qx","root-fullscreen":"MRT_TableContainer-module_root-fullscreen__aM8Jg"},qge={root:"MRT_Table-module_root__ms2uS","root-grid":"MRT_Table-module_root-grid__2Pynz"};const WZt=e=>{var t,n,r,i;const{getLeftLeafColumns:s,getRightLeafColumns:o,getState:a,getVisibleLeafColumns:l,options:{columnVirtualizerInstanceRef:u,columnVirtualizerOptions:c,enableColumnPinning:d,enableColumnVirtualization:f},refs:{tableContainerRef:h}}=e,{columnPinning:p,draggingColumn:m}=a();if(!f)return;const g=Nt(c,{table:e}),v=l(),[y,w]=D.useMemo(()=>d?[s().map(R=>R.getPinnedIndex()),o().map(R=>v.length-R.getPinnedIndex()-1).sort((R,O)=>R-O)]:[[],[]],[v.length,p,d]),E=y.length,C=w.length,S=D.useMemo(()=>m!=null&&m.id?v.findIndex(R=>R.id===(m==null?void 0:m.id)):void 0,[m==null?void 0:m.id]),T=h5e(Object.assign({count:v.length,estimateSize:R=>v[R].getSize(),getScrollElement:()=>h.current,horizontal:!0,overscan:3,rangeExtractor:D.useCallback(R=>{const O=N5e(R,S);return!E&&!C?O:[...new Set([...y,...O,...w])]},[y,w,S])},g)),k=T.getVirtualItems();T.virtualColumns=k;const I=k.length;if(I){const R=T.getTotalSize(),O=((t=k[E])===null||t===void 0?void 0:t.start)||0,M=((n=k[y.length-1])===null||n===void 0?void 0:n.end)||0,$=((r=k[I-C])===null||r===void 0?void 0:r.start)||0,L=((i=k[I-C-1])===null||i===void 0?void 0:i.end)||0;T.virtualPaddingLeft=O-M,T.virtualPaddingRight=R-L-(C?R-$:0)}return u&&(u.current=T),T},GZt=e=>{var{table:t}=e,n=yn(e,["table"]);const{getFlatHeaders:r,getState:i,options:{columns:s,enableTableFooter:o,enableTableHead:a,layoutMode:l,mantineTableProps:u,memoMode:c}}=t,{columnSizing:d,columnSizingInfo:f,columnVisibility:h,density:p}=i(),m=Object.assign(Object.assign({highlightOnHover:!0,horizontalSpacing:p,verticalSpacing:p},Nt(u,{table:t})),n),g=D.useMemo(()=>{const C=r(),S={};for(let T=0;T<C.length;T++){const k=C[T],I=k.getSize();S[`--header-${Cd(k.id)}-size`]=I,S[`--col-${Cd(k.column.id)}-size`]=I}return S},[s,d,f,h]),y={columnVirtualizer:WZt(t),table:t},{colorScheme:w}=dje(),{stripedColor:E}=m;return x.jsxs(Xn,Object.assign({className:Dt("mrt-table",qge.root,(l==null?void 0:l.startsWith("grid"))&&qge["root-grid"],m.className)},m,{__vars:Object.assign(Object.assign(Object.assign({},g),{"--mrt-striped-row-background-color":E,"--mrt-striped-row-hover-background-color":E?w==="dark"?cje(E,.08):XC(E,.12):void 0}),m.__vars),children:[a&&x.jsx(IZt,Object.assign({},y)),c==="table-body"||f.isResizingColumn?x.jsx(UJt,Object.assign({},y,{tableProps:m})):x.jsx($5e,Object.assign({},y,{tableProps:m})),o&&x.jsx(uZt,Object.assign({},y))]}))},YZt=e=>{var t,{open:n,table:r}=e,i=yn(e,["open","table"]);const{getState:s,options:{mantineCreateRowModalProps:o,mantineEditRowModalProps:a,onCreatingRowCancel:l,onEditingRowCancel:u,renderCreateRowModalContent:c,renderEditRowModalContent:d},setCreatingRow:f,setEditingRow:h}=r,{creatingRow:p,editingRow:m}=s(),g=p??m,v={row:g,table:r},y=Object.assign(Object.assign(Object.assign({},Nt(a,v)),p&&Nt(o,v)),i),w=g.getAllCells().filter(C=>C.column.columnDef.columnDefType==="data").map(C=>x.jsx(XM,{cell:C,table:r},C.id)),E=()=>{var C;p?(l==null||l({row:g,table:r}),f(null)):(u==null||u({row:g,table:r}),h(null)),g._valuesCache={},(C=y.onClose)===null||C===void 0||C.call(y)};return D.createElement(xi,Object.assign({opened:n,withCloseButton:!1},y,{key:g.id,onClose:E}),(t=p&&(c==null?void 0:c({internalEditComponents:w,row:g,table:r}))||(d==null?void 0:d({internalEditComponents:w,row:g,table:r})))!==null&&t!==void 0?t:x.jsxs(x.Fragment,{children:[x.jsx("form",{onSubmit:C=>C.preventDefault(),children:x.jsx(Mi,{gap:"lg",pb:24,pt:16,children:w})}),x.jsx(Rt,{justify:"flex-end",children:x.jsx(M5e,{row:g,table:r,variant:"text"})})]}))},KZt=typeof window<"u"?D.useLayoutEffect:D.useEffect,XZt=e=>{var{table:t}=e,n=yn(e,["table"]);const{getState:r,options:{createDisplayMode:i,editDisplayMode:s,enableStickyHeader:o,mantineLoadingOverlayProps:a,mantineTableContainerProps:l},refs:{bottomToolbarRef:u,tableContainerRef:c,topToolbarRef:d}}=t,{creatingRow:f,editingRow:h,isFullScreen:p,isLoading:m,showLoadingOverlay:g}=r(),[v,y]=D.useState(0),w=Object.assign(Object.assign({},Nt(l,{table:t})),n),E=Nt(a,{table:t});KZt(()=>{var T,k,I,R;const O=typeof document<"u"&&(k=(T=d.current)===null||T===void 0?void 0:T.offsetHeight)!==null&&k!==void 0?k:0,M=typeof document<"u"&&(R=(I=u==null?void 0:u.current)===null||I===void 0?void 0:I.offsetHeight)!==null&&R!==void 0?R:0;y(O+M)});const C=i==="modal"&&f,S=s==="modal"&&h;return x.jsxs(_e,Object.assign({},w,{__vars:Object.assign({"--mrt-top-toolbar-height":`${v}`},w==null?void 0:w.__vars),className:Dt("mrt-table-container",p7.root,o&&p7["root-sticky"],p&&p7["root-fullscreen"],w==null?void 0:w.className),ref:T=>{T&&(c.current=T,w!=null&&w.ref&&(w.ref.current=T))},children:[x.jsx(rc,Object.assign({visible:m||g,zIndex:2},E)),x.jsx(GZt,{table:t}),(C||S)&&x.jsx(YZt,{open:!0,table:t})]}))};var rMe={"common-toolbar-styles":"common-styles-module_common-toolbar-styles__DnjR8"},VC={root:"MRT_BottomToolbar-module_root__VDeWo","root-fullscreen":"MRT_BottomToolbar-module_root-fullscreen__esE15","custom-toolbar-container":"MRT_BottomToolbar-module_custom-toolbar-container__XcDRF","paginator-container":"MRT_BottomToolbar-module_paginator-container__A3eWY","paginator-container-alert-banner":"MRT_BottomToolbar-module_paginator-container-alert-banner__gyqtO"},Hge={collapse:"MRT_ProgressBar-module_collapse__rOLJH","collapse-top":"MRT_ProgressBar-module_collapse-top__oCi0h"};const iMe=e=>{var{isTopToolbar:t,table:n}=e,r=yn(e,["isTopToolbar","table"]);const{getState:i,options:{mantineProgressProps:s}}=n,{isSaving:o,showProgressBars:a}=i(),l=Object.assign(Object.assign({},Nt(s,{isTopToolbar:t,table:n})),r);return x.jsx(gm,{className:Dt(Hge.collapse,t&&Hge["collapse-top"]),in:o||a,children:x.jsx(S1,Object.assign({animated:!0,"aria-busy":"true","aria-label":"Loading",radius:0,value:100},l))})};var m7={root:"MRT_TablePagination-module_root__yZ8pm",pagesize:"MRT_TablePagination-module_pagesize__-vmTn","with-top-margin":"MRT_TablePagination-module_with-top-margin__aM5-m"};const Vge=[5,10,15,20,25,30,50,100].map(e=>e.toString()),sMe=e=>{var t,{position:n="bottom",table:r}=e,i=yn(e,["position","table"]);const{getPrePaginationRowModel:s,getState:o,options:{enableToolbarInternalActions:a,icons:{IconChevronLeft:l,IconChevronLeftPipe:u,IconChevronRight:c,IconChevronRightPipe:d},localization:f,mantinePaginationProps:h,paginationDisplayMode:p,rowCount:m},setPageIndex:g,setPageSize:v}=r,{pagination:{pageIndex:y=0,pageSize:w=10},showGlobalFilter:E}=o(),C=Object.assign(Object.assign({},Nt(h,{table:r})),i),S=m??s().rows.length,T=Math.ceil(S/w),k=T>2,I=y*w,R=Math.min(y*w+w,S),O=C??{},{rowsPerPageOptions:M=Vge,showRowsPerPage:$=!0,withEdges:L=k}=O,U=yn(O,["rowsPerPageOptions","showRowsPerPage","withEdges"]),B=n==="top"&&a&&!E;return x.jsxs(_e,{className:Dt("mrt-table-pagination",m7.root,B&&m7["with-top-margin"]),children:[(C==null?void 0:C.showRowsPerPage)!==!1&&x.jsxs(_i,{gap:"xs",children:[x.jsx(Ue,{id:"rpp-label",children:f.rowsPerPage}),x.jsx(Ag,{allowDeselect:!1,"aria-labelledby":"rpp-label",className:m7.pagesize,data:(t=C==null?void 0:C.rowsPerPageOptions)!==null&&t!==void 0?t:Vge,onChange:V=>v(+V),value:w.toString()})]}),p==="pages"?x.jsx(Ud,Object.assign({firstIcon:u,lastIcon:d,nextIcon:c,onChange:V=>g(V-1),previousIcon:l,total:T,value:y+1,withEdges:L},U)):p==="default"?x.jsxs(x.Fragment,{children:[x.jsx(Ue,{children:`${R===0?0:(I+1).toLocaleString()}-${R.toLocaleString()} ${f.of} ${S.toLocaleString()}`}),x.jsxs(_i,{gap:6,children:[L&&x.jsx(tr,{"aria-label":f.goToFirstPage,color:"gray",disabled:y<=0,onClick:()=>g(0),variant:"subtle",children:x.jsx(u,{})}),x.jsx(tr,{"aria-label":f.goToPreviousPage,color:"gray",disabled:y<=0,onClick:()=>g(y-1),variant:"subtle",children:x.jsx(l,{})}),x.jsx(tr,{"aria-label":f.goToNextPage,color:"gray",disabled:R>=S,onClick:()=>g(y+1),variant:"subtle",children:x.jsx(c,{})}),L&&x.jsx(tr,{"aria-label":f.goToLastPage,color:"gray",disabled:R>=S,onClick:()=>g(T-1),variant:"subtle",children:x.jsx(d,{})})]})]}):null]})};var Wge={root:"MRT_ToolbarDropZone-module_root__eGTXb",hovered:"MRT_ToolbarDropZone-module_hovered__g7PeJ"};const oMe=e=>{var{table:t}=e,n=yn(e,["table"]);const{getState:r,options:{enableGrouping:i,localization:s},setHoveredColumn:o,setShowToolbarDropZone:a}=t,{draggingColumn:l,grouping:u,hoveredColumn:c,showToolbarDropZone:d}=r(),f=h=>{o({id:"drop-zone"})};return D.useEffect(()=>{var h;((h=t.options.state)===null||h===void 0?void 0:h.showToolbarDropZone)!==void 0&&a(!!i&&!!l&&l.columnDef.enableGrouping!==!1&&!u.includes(l.id))},[i,l,u]),x.jsx(mc,{mounted:d,transition:"fade",children:()=>{var h,p;return x.jsx(Rt,Object.assign({className:Dt("mrt-toolbar-dropzone",Wge.root,(c==null?void 0:c.id)==="drop-zone"&&Wge.hovered),onDragEnter:f},n,{children:x.jsx(Ue,{children:s.dropToGroupBy.replace("{column}",(p=(h=l==null?void 0:l.columnDef)===null||h===void 0?void 0:h.header)!==null&&p!==void 0?p:"")})}))}})},QZt=e=>{var{table:t}=e,n=yn(e,["table"]);const{getState:r,options:{enablePagination:i,mantineBottomToolbarProps:s,positionPagination:o,positionToolbarAlertBanner:a,positionToolbarDropZone:l,renderBottomToolbarCustomActions:u},refs:{bottomToolbarRef:c}}=t,{isFullScreen:d}=r(),f=T2("(max-width: 720px)"),h=Object.assign(Object.assign({},Nt(s,{table:t})),n),p=f||!!u;return x.jsxs(_e,Object.assign({},h,{className:Dt("mrt-bottom-toolbar",VC.root,rMe["common-toolbar-styles"],d&&VC["root-fullscreen"],h==null?void 0:h.className),ref:m=>{m&&(c.current=m,h!=null&&h.ref&&(h.ref.current=m))},children:[x.jsx(iMe,{isTopToolbar:!1,table:t}),a==="bottom"&&x.jsx(Ate,{stackAlertBanner:p,table:t}),["both","bottom"].includes(l??"")&&x.jsx(oMe,{table:t}),x.jsxs(_e,{className:VC["custom-toolbar-container"],children:[u?u({table:t}):x.jsx("span",{}),x.jsx(_e,{className:Dt(VC["paginator-container"],p&&VC["paginator-container-alert-banner"]),children:i&&["both","bottom"].includes(o??"")&&x.jsx(sMe,{position:"bottom",table:t})})]})]}))};var P3={root:"MRT_TopToolbar-module_root__r4-V9","root-fullscreen":"MRT_TopToolbar-module_root-fullscreen__3itT8","actions-container":"MRT_TopToolbar-module_actions-container__-uL0u","actions-container-stack-alert":"MRT_TopToolbar-module_actions-container-stack-alert__OYDL6"},JZt={root:"MRT_ToolbarInternalButtons-module_root__NKoUG"};const ZZt=e=>{var t,{table:n}=e,r=yn(e,["table"]);const{options:{columnFilterDisplayMode:i,enableColumnFilters:s,enableColumnOrdering:o,enableColumnPinning:a,enableDensityToggle:l,enableFilters:u,enableFullScreenToggle:c,enableGlobalFilter:d,enableHiding:f,initialState:h,renderToolbarInternalActions:p}}=n;return x.jsx(Rt,Object.assign({},r,{className:Dt("mrt-toolbar-internal-buttons",JZt.root,r==null?void 0:r.className),children:(t=p==null?void 0:p({table:n}))!==null&&t!==void 0?t:x.jsxs(x.Fragment,{children:[u&&d&&!(h!=null&&h.showGlobalFilter)&&x.jsx(iZt,{table:n}),u&&s&&i!=="popover"&&x.jsx(nZt,{table:n}),(f||o||a)&&x.jsx(ZJt,{table:n}),l&&x.jsx(tZt,{table:n}),c&&x.jsx(rZt,{table:n})]})}))},een=e=>{var t,{table:n}=e,r=yn(e,["table"]);const{getState:i,options:{enableGlobalFilter:s,enablePagination:o,enableToolbarInternalActions:a,mantineTopToolbarProps:l,positionGlobalFilter:u,positionPagination:c,positionToolbarAlertBanner:d,positionToolbarDropZone:f,renderTopToolbarCustomActions:h},refs:{topToolbarRef:p}}=n,{isFullScreen:m,showGlobalFilter:g}=i(),v=T2("(max-width:720px)"),y=T2("(max-width:1024px)"),w=Object.assign(Object.assign({},Nt(l,{table:n})),r),E=v||!!h||g&&y,C={style:y?void 0:{zIndex:3},table:n};return x.jsxs(_e,Object.assign({},w,{className:Dt(rMe["common-toolbar-styles"],P3.root,m&&P3["root-fullscreen"],w==null?void 0:w.className),ref:S=>{S&&(p.current=S,w!=null&&w.ref&&(w.ref.current=S))},children:[d==="top"&&x.jsx(Ate,{stackAlertBanner:E,table:n}),["both","top"].includes(f??"")&&x.jsx(oMe,{table:n}),x.jsxs(Rt,{className:Dt(P3["actions-container"],E&&P3["actions-container-stack-alert"]),children:[s&&u==="left"&&x.jsx(f7,Object.assign({},C)),(t=h==null?void 0:h({table:n}))!==null&&t!==void 0?t:x.jsx("span",{}),a?x.jsxs(Rt,{justify:"end",wrap:"wrap-reverse",children:[s&&u==="right"&&x.jsx(f7,Object.assign({},C)),x.jsx(ZZt,{table:n})]}):s&&u==="right"&&x.jsx(f7,Object.assign({},C))]}),o&&["both","top"].includes(c??"")&&x.jsx(Rt,{justify:"end",children:x.jsx(sMe,{position:"top",table:n})}),x.jsx(iMe,{isTopToolbar:!0,table:n})]}))},ten=e=>{var t,n,{table:r}=e,i=yn(e,["table"]);const{getState:s,options:{enableBottomToolbar:o,enableTopToolbar:a,mantinePaperProps:l,renderBottomToolbar:u,renderTopToolbar:c},refs:{tablePaperRef:d}}=r,{isFullScreen:f}=s(),h=Object.assign(Object.assign({},Nt(l,{table:r})),i);return x.jsxs(Sh,Object.assign({shadow:"xs",withBorder:!0},h,{className:Dt("mrt-table-paper",VZt.root,f&&"mrt-table-paper-fullscreen",h==null?void 0:h.className),ref:p=>{d.current=p,h!=null&&h.ref&&(h.ref.current=p)},style:p=>Object.assign(Object.assign({zIndex:f?200:void 0},Nt(h==null?void 0:h.style,p)),f?{border:0,borderRadius:0,bottom:0,height:"100vh",left:0,margin:0,maxHeight:"100vh",maxWidth:"100vw",padding:0,position:"fixed",right:0,top:0,width:"100vw"}:null),children:[a&&((t=Nt(c,{table:r}))!==null&&t!==void 0?t:x.jsx(een,{table:r})),x.jsx(XZt,{table:r}),o&&((n=Nt(u,{table:r}))!==null&&n!==void 0?n:x.jsx(QZt,{table:r}))]}))},nen=e=>e.table!==void 0,Ite=e=>{let t;return nen(e)?t=e.table:t=e8(e),x.jsx(ten,{table:t})};function ren(e){return{total:e.length,completed:e.filter(t=>t.completed&&!t.rejected).length,inProgress:e.filter(t=>!t.completed&&!t.rejected).length,rejected:e.filter(t=>t.rejected).length}}function ien(e){const n=e.filter(s=>!s.rejected).map(s=>{const o=Object.values(s.answers).filter(a=>a.startTime).sort((a,l)=>a.startTime-l.startTime);return{startTime:o.length>0?o[0].startTime:void 0,endTime:o.length>0?o[o.length-1].endTime:void 0}}),r=n.map(s=>s.startTime).filter(s=>s!=null),i=n.map(s=>s.endTime).filter(s=>s!=null);return{startDate:r.length>0?new Date(Math.min(...r)):null,endDate:i.length>0?new Date(Math.max(...i)):null}}function sen(e){const n=e.filter(r=>!r.rejected).reduce((r,i)=>{const s=Object.values(i.answers).filter(o=>o.endTime!==-1).map(o=>({totalTime:(o.endTime-o.startTime)/1e3,cleanTime:(()=>{const a=KK(o);return a?a/1e3:0})()}));return s.length>0&&(r.count+=s.length,r.totalTimeSum+=s.reduce((o,a)=>o+a.totalTime,0),r.cleanTimeSum+=s.reduce((o,a)=>o+a.cleanTime,0)),r},{totalTimeSum:0,cleanTimeSum:0,count:0});return{avgTime:n.count>0?n.totalTimeSum/n.count:NaN,avgCleanTime:n.count>0?n.cleanTimeSum/n.count:NaN}}function oen(e){const t=e.filter(s=>!s.rejected),n=t.some(s=>Object.values(s.answers).some(o=>o.correctAnswer&&o.correctAnswer.length>0));let r=0;const i=t.reduce((s,o)=>{const a=Object.values(o.answers).filter(l=>l.correctAnswer&&l.correctAnswer.length>0);return a.length>0&&a.forEach(l=>{r+=l.correctAnswer.length,l.correctAnswer.every(c=>{const d=l.answer[c.id];return c.answer===d})&&(s.correctSum+=l.correctAnswer.length)}),s},{correctSum:0});return n?i.correctSum/r*100:NaN}function aMe(e){const t=e.filter(r=>!r.rejected),n={};return t.forEach(r=>{const i=new Set;Object.entries(r.answers).forEach(([s,o])=>{const a=`${s.split("_")[0]}`;if(n[a]||(n[a]={name:a,avgTime:0,avgCleanTime:0,participantCount:0,correctness:0}),o.endTime===-1)return;const l=n[a],u=(o.endTime-o.startTime)/1e3,c=KK(o),d=c?c/1e3:0;if(l.avgTime+=u,l.avgCleanTime+=d,i.has(a)||(i.add(a),l.participantCount+=1),o.correctAnswer&&o.correctAnswer.length>0){const f=o.correctAnswer.every(h=>{const p=o.answer[h.id];return h.answer===p});l.correctness+=f?1:0}})}),Object.values(n).map(r=>{const i=Object.values(t).flatMap(a=>Object.keys(a.answers).filter(l=>{var u,c;return l.startsWith(r.name)&&((c=(u=a.answers[l])==null?void 0:u.correctAnswer)==null?void 0:c.length)>0})),s=Object.values(t).reduce((a,l)=>a+Object.keys(l.answers).filter(u=>u.startsWith(r.name)&&l.answers[u].endTime!==-1).length,0),o=i.length>0;return{...r,avgTime:s?r.avgTime/s:0,avgCleanTime:s?r.avgCleanTime/s:0,correctness:o?r.correctness/i.length*100:NaN}})}function lMe(e){const t=e.filter(r=>!r.rejected),n={};return t.forEach(r=>{Object.entries(r.answers).forEach(([i,s])=>{const o=i.split("_"),a=o.length===4?o[2]:o[0];if(n[a]||(n[a]={name:a,correctness:0,participantCount:0}),s.endTime===-1)return;const l=n[a];if(l.participantCount+=1,s.correctAnswer&&s.correctAnswer.length>0){const u=s.correctAnswer.every(c=>{const d=s.answer[c.id];return c.answer===d});l.correctness+=u?1:0}})}),Object.values(n).map(r=>{const i=Object.values(t).some(s=>Object.entries(s.answers).some(([o,a])=>{const l=o.split("_");return(l.length===4?l[2]:l[0])===r.name&&a.correctAnswer&&a.correctAnswer.length>0}));return{...r,correctness:i?r.correctness/r.participantCount*100:NaN}})}function uMe(e){return e.type==="slider"?e.options.map(t=>`${t.label} (${t.value})`).join(", "):"options"in e?e.options.join(", "):"answerOptions"in e&&"questionOptions"in e?`Questions: ${e.questionOptions.join(", ")} 
 Answers: ${Array.isArray(e.answerOptions)?e.answerOptions.join(", "):e.answerOptions}`:"numItems"in e?`${e.leftLabel?` ${e.leftLabel} ~ ${e.rightLabel}`:""} (${e.numItems} items)`:"N/A"}const cw=(e,t)=>e==="N/A"?-1:parseFloat(e.replace(t,""))||0;function aen({visibleParticipants:e}){const t=D.useMemo(()=>aMe(e).map(s=>({component:s.name,participants:s.participantCount,avgTime:Number.isFinite(s.avgTime)?`${s.avgTime.toFixed(1)}s`:"N/A",avgCleanTime:Number.isFinite(s.avgCleanTime)?`${s.avgCleanTime.toFixed(1)}s`:"N/A",correctness:Number.isNaN(s.correctness)?"N/A":`${s.correctness.toFixed(1)}%`})),[e]),n=D.useMemo(()=>[{accessorKey:"component",header:"Component"},{accessorKey:"participants",header:"Participants"},{accessorKey:"avgTime",header:"Avg Time",sortingFn:(i,s)=>{const o=cw(i.original.avgTime,"s"),a=cw(s.original.avgTime,"s");return o-a}},{accessorKey:"avgCleanTime",header:"Avg Clean Time",sortingFn:(i,s)=>{const o=cw(i.original.avgCleanTime,"s"),a=cw(s.original.avgCleanTime,"s");return o-a}},{accessorKey:"correctness",header:"Correctness",sortingFn:(i,s)=>{const o=cw(i.original.correctness,"%"),a=cw(s.original.correctness,"%");return o-a}}],[]),r=e8({columns:n,data:t,enableGlobalFilter:!0,enableColumnFilters:!1,enableSorting:!0,enablePagination:!0,initialState:{pagination:{pageSize:10,pageIndex:0},sorting:[{id:"component",desc:!1}]},mantineSearchTextInputProps:{placeholder:"Search components...",leftSection:x.jsx(Bwe,{size:16})},mantinePaperProps:{style:{overflow:"hidden"}},mantineTableContainerProps:{style:{overflow:"hidden"}}});return x.jsxs(Sh,{shadow:"sm",p:"md",withBorder:!0,children:[x.jsx(Br,{order:4,mb:"md",children:"Component Statistics"}),e.length===0||t.length===0?x.jsx(Ue,{ta:"center",mb:"md",children:"No data available"}):x.jsx(Ite,{table:r})]})}const Gge=(e,t)=>e==="N/A"?-1:parseFloat(e.replace(t,""))||0;function len({visibleParticipants:e,studyConfig:t}){const n=D.useMemo(()=>{const s=lMe(e),o=[];return s.forEach(a=>{const l=t.components[a.name];if(!l)return;const u=Ol(l,t).response;u.length!==0&&u.forEach(c=>{const d=Number.isNaN(a.correctness)?"N/A":`${a.correctness.toFixed(1)}%`;o.push({component:a.name,type:c.type,question:c.prompt,options:uMe(c),correctness:d})})}),o},[e,t]),r=D.useMemo(()=>[{accessorKey:"component",header:"Component"},{accessorKey:"type",header:"Type"},{accessorKey:"question",header:"Question"},{accessorKey:"options",header:"Options"},{accessorKey:"correctness",header:"Correctness",sortingFn:(s,o)=>{const a=Gge(s.original.correctness,"%"),l=Gge(o.original.correctness,"%");return a-l}}],[]),i=e8({columns:r,data:n,initialState:{sorting:[{id:"component",desc:!1}]},mantinePaperProps:{style:{overflow:"hidden"}},mantineTableContainerProps:{style:{overflow:"hidden"}}});return x.jsxs(Sh,{shadow:"sm",p:"md",withBorder:!0,children:[x.jsx(Br,{order:4,mb:"md",children:"Response Statistics"}),e.length===0||n.length===0?x.jsx(Ue,{ta:"center",mb:"md",children:"No data available"}):x.jsx(Ite,{table:i})]})}function uen({visibleParticipants:e,studyConfig:t}){const n=D.useMemo(()=>{if(e.length===0)return null;const r=ren(e),{avgTime:i,avgCleanTime:s}=sen(e),{startDate:o,endDate:a}=ien(e),l=oen(e),c=aMe(e).map(f=>({component:f.name,participants:f.participantCount,avgTime:Number.isFinite(f.avgTime)?`${f.avgTime.toFixed(1)}s`:"N/A",avgCleanTime:Number.isFinite(f.avgCleanTime)?`${f.avgCleanTime.toFixed(1)}s`:"N/A",correctness:Number.isNaN(f.correctness)?"N/A":`${f.correctness.toFixed(1)}%`})),d=t?(()=>{const f=lMe(e),h=[];return f.forEach(p=>{const m=t.components[p.name];if(!m)return;const g=Ol(m,t).response;g.length!==0&&g.forEach(v=>{const y=Number.isNaN(p.correctness)?"N/A":`${p.correctness.toFixed(1)}%`;h.push({component:p.name,type:v.type,question:v.prompt,options:uMe(v),correctness:y})})}),h})():[];return{participantCounts:r,avgTime:i,avgCleanTime:s,startDate:o,endDate:a,correctnessStats:l,responseData:d,componentData:c}},[e,t]);return x.jsxs(Mi,{gap:"md",children:[x.jsx(sXt,{overviewData:n,mismatchDetails:null}),x.jsxs(_i,{align:"flex-start",gap:"md",grow:!0,children:[x.jsx(aen,{visibleParticipants:e}),x.jsx(len,{visibleParticipants:e,studyConfig:t})]})]})}function cen(e,t){if(!e)return null;if(t!=null&&t.uiConfig&&t.uiConfig.participantNameField){const[n,r]=t.uiConfig.participantNameField.split("."),i=Object.keys(e.answers).find(s=>s.startsWith(n));if(i)return`${e.answers[i].answer[r]}`}return null}function den({xScale:e,height:t,labelHeight:n=0,scaleStart:r}){return x.jsx("g",{children:x.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(r)+2,x2:e(r)+2,y1:t-45-n,y2:t-25})})}function fen(){return D.useCallback((e,t,n)=>{const r=e.split("_").map(s=>ri(+s)).join("/"),i=`${n}/${r}?participantId=${t}`;window.open(`${as}${i}`,"_blank")},[])}const O3=3,dw=25,N3=25,$3=20,Yge=1,g7=15;function hen({xScale:e,name:t,height:n,labelHeight:r=0,isCorrect:i,hasCorrect:s,scaleStart:o,scaleEnd:a,incomplete:l,trialOrder:u,participantId:c,studyId:d}){const[f,h]=D.useState(!1),[p,{width:m}]=MT(),g=fen();return x.jsxs("g",{onClick:()=>g(u,c,d),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{cursor:"pointer"},children:[x.jsx("rect",{opacity:1,fill:f?"cornflowerblue":l?"#e9ecef":"lightgray",x:e(o)+Yge,width:e(a)-e(o)-Yge*2,y:n-dw,height:dw}),x.jsx("rect",{rx:3,opacity:1,x:e(o)-O3,width:m+O3*2+(s?g7:0),y:n-dw-N3-r,height:$3,fill:"whitesmoke"}),x.jsx("line",{stroke:"black",strokeWidth:1,x1:e(o)-O3,x2:m+e(o)+O3+(s?g7:0),y1:n-dw-N3+$3-r,y2:n-dw-N3+$3-r}),x.jsx("foreignObject",{x:e(o),width:m+(s?g7:0),y:n-dw-N3-r,height:$3,children:x.jsx(Ga,{style:{width:"fit-content"},children:x.jsxs(_i,{wrap:"nowrap",gap:2,children:[x.jsx(Ue,{lineClamp:1,ref:p,mx:0,style:{width:"fit-content",fontWeight:600},size:"12px",children:t}),l?x.jsx(Lwe,{color:"orange",size:"14"}):s?i?x.jsx(O2,{color:"var(--mantine-color-green-6)",style:{marginTop:2,strokeWidth:4},size:"14"}):x.jsx(Lv,{color:"var(--mantine-color-red-6)",style:{marginTop:2,strokeWidth:4},size:14}):""]})})})]})}const y7=25,Kge=8,WC={left:20,top:20,right:20,bottom:20},pen=(e,t)=>{const n=e[1].trialOrder.split("_"),r=t[1].trialOrder.split("_");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]};function men({participantData:e,width:t,studyId:n,studyConfig:r,maxLength:i}){const s=D.useMemo(()=>{const d=Object.entries(e.answers||{}).filter(f=>f[1].startTime===0);return(Object.entries(e.answers).length-d.length)/Object.entries(e.answers).length},[e.answers]),o=D.useMemo(()=>{const d=Object.values(e.answers||{}).filter(p=>p.startTime).map(p=>[p.startTime,p.endTime]).flat(),f=mht(d);return Z2([WC.left,t*s-(s!==1?0:WC.right)]).domain([f[0],i?f[0]+i:f[1]]).clamp(!0)},[i,e.answers,s,t]),a=D.useMemo(()=>Z2([t*s,t-WC.right]).domain([0,Object.entries(e.answers||{}).filter(f=>f[1].startTime===0).length]).clamp(!0),[e.answers,s,t]),l=D.useMemo(()=>{const d=Object.entries(e.answers||{}).filter(p=>!!p[1].startTime).sort((p,m)=>p[1].startTime-m[1].startTime);let f=0,h=0;return d.forEach((p,m)=>{const[g,v]=p,y=m>0?d[m-f-1]:null;y&&y[0].length*(Kge+1)+o(y[1].startTime)>o(v.startTime)?f+=1:f=0,f>h&&(h=f)}),(h+1)*y7+WC.top+WC.bottom},[e.answers,o]),u=D.useMemo(()=>{let d=0;const f=Object.entries(e.answers||{}).filter(g=>g[1].startTime===0).sort(pen),p=[...Object.entries(e.answers||{}).filter(g=>!!g[1].startTime).sort((g,v)=>g[1].startTime-v[1].startTime),...f];return p.map((g,v)=>{const y=g[1].startTime===0?a:o,[w,E]=g,C=v>0?p[v-d-1]:null,S=C&&C[1].startTime?o:a,T=C?C[1].startTime?C[1].startTime:f.indexOf(C):0,k=E.startTime?E.startTime:f.indexOf(g),I=E.endTime>0?E.endTime:f.indexOf(g)+1;C&&C[0].length*(Kge+1)+S(T)>y(k)?d+=1:d=0;const R=w.split("_"),O=R.slice(0,R.length-1).join("_"),M=r==null?void 0:r.components[O];let $=!0,L=!1;return M&&M.correctAnswer?(M.correctAnswer.forEach(U=>{const{id:B,answer:V}=U;(!M||!M.correctAnswer||E.answer[B]!==V)&&($=!1)}),L=!0):L=!1,{line:x.jsx(den,{labelHeight:d*y7,height:l,xScale:y,scaleStart:k},w),label:x.jsx(Ut,{withinPortal:!0,position:"bottom-start",px:4,py:0,withArrow:!0,label:x.jsx(Mi,{gap:0,children:Object.entries(E.answer).map(U=>{var Y,z;const[B,V]=U,G=(z=(Y=M==null?void 0:M.correctAnswer)==null?void 0:Y.find(F=>F.id===B))==null?void 0:z.answer;return x.jsx(Ue,{children:`${B}: ${V} ${G?`[${G}]`:""}`},B)})}),children:x.jsx("g",{children:x.jsx(hen,{incomplete:E.startTime===0,isCorrect:$,hasCorrect:L,labelHeight:d*y7,height:l,name:w,xScale:y,scaleStart:k,scaleEnd:I,trialOrder:E.trialOrder,participantId:e.participantId,studyId:n},w)})},`${w}-tooltip`)}})},[e.answers,e.participantId,a,o,r==null?void 0:r.components,l,n]),c=D.useMemo(()=>Object.entries(e.answers||{}).sort((f,h)=>f[1].startTime-h[1].startTime).map(f=>{const[h,p]=f,m=[];let g=[-1,-1],v="visible";if(p.windowEvents)for(let y=0;y<p.windowEvents.length;y+=1)p.windowEvents[y][1]==="visibility"&&(p.windowEvents[y][2]==="hidden"&&v==="visible"?(g=[p.windowEvents[y][0],-1],v="hidden"):p.windowEvents[y][2]==="visible"&&v==="hidden"&&(g[1]=p.windowEvents[y][0],m.push(g),g=[-1,-1],v="visible"));return m.map((y,w)=>x.jsx(Ut,{withinPortal:!0,label:"Browsed away",children:x.jsx("rect",{x:o(y[0]),width:o(y[1])-o(y[0]),y:l-5,height:10})},w))}),[o,l,e.answers]);return x.jsx(Ga,{children:x.jsx(Mi,{gap:15,style:{width:"100%"},children:x.jsxs("svg",{style:{width:t,height:l,overflow:"visible"},children:[u.map(d=>d.line),u.map(d=>d.label),c]})})})}function gen({metaData:e}){return x.jsx(Xn.Td,{children:x.jsx(wG,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:x.jsxs(Mi,{gap:"xs",children:[x.jsxs(_e,{children:[x.jsx("strong",{children:"Resolution:"})," ",JSON.stringify(e==null?void 0:e.resolution,null,2)]}),x.jsxs(_e,{children:[x.jsx("strong",{children:"User Agent:"})," ",e==null?void 0:e.userAgent]}),x.jsxs(_e,{children:[x.jsx("strong",{children:"IP:"})," ",e==null?void 0:e.ip]}),x.jsxs(_e,{children:[x.jsx("strong",{children:"Language:"})," ",e==null?void 0:e.language]})]})})})}function cMe({visibleParticipants:e,studyId:t,gap:n,fileName:r}){const[i,{open:s,close:o}]=IV(!1),[a,l]=D.useState([]),u=async()=>typeof e=="function"?await e():e,c=async()=>{const h=await u(),p=r?`${r}.json`:`${t}_all.json`;XK(JSON.stringify(h,null,2),p)},d=async()=>{const h=await u();l(h),s()},f=typeof e!="function"?`Download ${e.length} participants`:"Download participants data";return x.jsxs(x.Fragment,{children:[x.jsxs(_i,{style:{gap:n},children:[x.jsx(Ut,{label:`${f} as JSON`,children:x.jsx(Wt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:c,px:4,children:x.jsx(oKe,{})})}),x.jsx(Ut,{label:`${f} as tidy CSV`,children:x.jsx(Wt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:d,px:4,children:x.jsx(Uwe,{})})})]}),i&&a.length>0&&x.jsx(e2t,{opened:i,close:o,filename:r?`${r}_tidy.csv`:`${t}_all_tidy.csv`,data:a,studyId:t})]})}function yen(e){return e.valueOf()===0||Number.isNaN(e.valueOf())?x.jsx(Ue,{size:"sm",c:"dimmed",children:"None"}):e.toLocaleDateString([],{hour:"2-digit",minute:"2-digit"})}function ven({visibleParticipants:e,studyConfig:t,refresh:n,width:r}){const{storageEngine:i}=Qi(),{studyId:s}=va(),{user:o}=W_(),[a,l]=D.useState({}),u=D.useCallback(async(y,w)=>{if(i&&s)if(o.isAdmin){const E=w===""?"Rejected by admin":w;await i.rejectParticipant(y,E,s),await n()}else console.warn("You are not authorized to perform this action.")},[n,i,s,o.isAdmin]),[c,d]=D.useState(!1),[f,h]=D.useState(""),p=D.useCallback(async()=>{d(!1);const y=Object.keys(a).filter(w=>a[w]).map(async w=>await u(w,f));await Promise.all(y),l({}),await n()},[a,n,u,f]),m=D.useMemo(()=>{const y=Object.keys(a).filter(w=>a[w]).map(w=>e.find(E=>E.participantId===w)).filter(w=>w!==void 0);return y.length>0?y:e},[a,e]),g=D.useMemo(()=>[{accessorFn:y=>{const w=Object.entries(y.answers||{}).filter(E=>E[1].startTime===0);return{percent:(Object.entries(y.answers).length-w.length)/(Rd(y.sequence).length-1),completed:y.completed,rejected:y.rejected}},header:"Status",size:50,Cell:({cell:y})=>{const w=y.getValue();return w.completed?x.jsx(_i,{align:"center",justify:"center",w:"100%",children:x.jsx(Ut,{label:"Completed",children:x.jsx(O2,{size:30,color:"teal",style:{marginBottom:-3}})})}):w.rejected?x.jsxs(Mi,{align:"center",justify:"center",gap:4,w:"100%",children:[x.jsx(Ut,{label:"Rejected",children:x.jsx(Lv,{size:30,color:"red",style:{marginBottom:-3}})}),x.jsx(Ue,{size:"xs",c:"dimmed",ta:"center",children:w.rejected.reason})]}):x.jsx(_i,{align:"center",justify:"center",w:"100%",children:x.jsx(Ut,{label:"In Progress",children:x.jsx(pG,{size:30,thickness:4,sections:[{value:w.percent*100,color:"blue"}]})})})}},{accessorKey:"participantIndex",header:"#",size:50},{accessorKey:"participantId",header:"ID"},...t.uiConfig.participantNameField?[{accessorFn:y=>cen(y,t),header:"Name"}]:[],{accessorFn:y=>new Date(Math.max(...Object.values(y.answers).filter(w=>w.endTime>0).map(w=>w.endTime))-Math.min(...Object.values(y.answers).filter(w=>w.startTime>0).map(w=>w.startTime))),header:"Duration",Cell:({cell:y})=>Number.isNaN(y.getValue())?"Incomplete":x.jsx(lu,{variant:"light",size:"lg",color:"gray",leftSection:x.jsx(NKe,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:`${YH(+y.getValue())||"N/A"}`})},{accessorFn:y=>new Date(Math.min(...Object.values(y.answers).filter(w=>w.startTime>0).map(w=>w.startTime))),Cell:({cell:y})=>yen(y.getValue()),header:"Start Time"},{accessorFn:y=>Object.values(y.answers).filter(w=>w.correctAnswer.length>0&&w.endTime>0).map(w=>BCt(w.answer,w.correctAnswer)),header:"Correct Answers",Cell:({cell:y})=>x.jsxs(x.Fragment,{children:[x.jsx(lu,{variant:"light",size:"lg",color:"green",leftSection:x.jsx(O2,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:y.getValue().filter(w=>w).length}),x.jsx(lu,{variant:"light",size:"lg",color:"red",leftSection:x.jsx(Lv,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:y.getValue().length-y.getValue().filter(w=>w).length})]})},{accessorKey:"metadata",header:"Metadata",Cell:({cell:y})=>x.jsx(gen,{metaData:y.getValue()})}],[t]),v=e8({columns:g,data:e,enableColumnResizing:!0,columnResizeMode:"onEnd",enableRowSelection:!0,getRowId:y=>y.participantId,onRowSelectionChange:l,manualPagination:!0,state:{rowSelection:a},paginationDisplayMode:"pages",enablePagination:!1,enableRowVirtualization:!0,mantinePaperProps:{style:{maxHeight:"100%",display:"flex",flexDirection:"column"}},layoutMode:"grid",renderDetailPanel:({row:y})=>{const w=y.original;return x.jsx(men,{maxLength:void 0,studyConfig:t,studyId:s||"",participantData:w,width:r-60})},defaultColumn:{minSize:20,maxSize:1e3,size:180},enableDensityToggle:!1,positionToolbarAlertBanner:"none",renderTopToolbarCustomActions:()=>x.jsxs(x.Fragment,{children:[x.jsx(Rt,{justify:"space-between",mb:8,p:8,children:x.jsxs(_i,{children:[x.jsxs(Wt,{disabled:Object.keys(a).length===0||!o.isAdmin,onClick:()=>d(!0),color:"red",children:["Reject Participants (",Object.keys(a).length,")"]}),x.jsx(cMe,{visibleParticipants:m,studyId:s||""})]})}),x.jsxs(xi,{opened:c,onClose:()=>d(!1),title:x.jsxs(Ue,{children:["Reject Participants (",Object.keys(a).length,")"]}),children:[x.jsx(Gu,{label:"Please enter the reason for rejection.",onChange:y=>h(y.target.value)}),x.jsxs(Rt,{mt:"sm",justify:"right",children:[x.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{d(!1),h("")},children:"Cancel"}),x.jsx(Wt,{color:"red",onClick:()=>p(),children:"Reject Participants"})]})]})]})});return e.length>0?x.jsx(Ite,{table:v}):x.jsxs(x.Fragment,{children:[x.jsx(Ju,{h:"xl"}),x.jsx(Rt,{justify:"center",align:"center",children:x.jsx(Ue,{children:"No data available"})})]})}function ben({response:e,participantData:t,trialId:n,trialConfig:r}){const[i,{toggle:s}]=IV(!0),[o,a]=MT(),l=D.useMemo(()=>e.type==="metadata"?[]:t.map(f=>Object.entries(f.answers).filter(([h])=>h.slice(0,h.lastIndexOf("_"))===n)).map(f=>f.map(([,h])=>h.answer)).flat(),[t,e.type,n]),u=D.useMemo(()=>{var f;return e.type==="metadata"||(f=r.correctAnswer)==null?void 0:f.find(h=>h.id===e.id)},[e.id,e.type,r.correctAnswer]),c=D.useMemo(()=>{const d={height:"container",width:"container"};if(e.type==="shortText"||e.type==="longText")return{};if(e.type==="metadata"){const h=t.map(m=>Object.entries(m.answers).filter(([g])=>g.slice(0,g.lastIndexOf("_"))===n)).map(m=>m.filter(([g,v])=>v.endTime!==-1).map(([g,v])=>(v.endTime-v.startTime)/1e3)).flat();return{...d,data:{values:h},mark:"bar",encoding:{x:{field:"data",bin:!0,type:"quantitative",title:"Time (s)"},y:{aggregate:"count",type:"quantitative",title:"Count"}}}}const f={params:[{name:"correctAnswer",value:u==null?void 0:u.answer},{name:"variable",value:e.id}],transform:[{calculate:"datum[variable] === correctAnswer ? 'correct' : 'incorrect'",as:"result"},{calculate:"if(datum.result === 'correct', 0, if(datum.result === 'incorrect', 1, 2))",as:"order"}],color:{field:"result",type:"nominal",scale:{domain:["correct","incorrect"],range:["#69DB7C","#ADB5BD"]}},order:{field:"order"}};if(e.type==="numerical"||e.type==="slider"||e.type==="likert"){let h,p;return e.type==="numerical"&&(h=e.min,p=e.max),e.type==="slider"&&(h=Math.min(...e.options.map(g=>g.value)),p=Math.max(...e.options.map(g=>g.value))),e.type==="likert"&&(h=1,p=e.numItems),{...d,data:{values:l},mark:"bar",params:u!==void 0?f.params:void 0,transform:[{bin:e.type==="likert"?{step:1}:{maxbins:10},field:e.id,as:"bins"},...u!==void 0?f.transform:[]],encoding:{x:{field:"bins",scale:h!==void 0&&p!==void 0?{domain:[h,p]}:void 0,type:"quantitative",title:"Answer"},x2:{field:"bins_end"},y:{aggregate:"count",type:"quantitative",title:"Count",stack:!0},color:u!==void 0?f.color:void 0,order:u!==void 0?f.order:void 0}}}if(e.type==="radio"||e.type==="dropdown"||e.type==="checkbox")return{...d,data:{values:l},mark:"bar",params:u!==void 0?f.params:void 0,transform:u!==void 0?f.transform:void 0,encoding:{x:{field:e.id,type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:u!==void 0?f.color:void 0}}},[t,l,e.id,e.max,e.min,e.numItems,e.options,e.type,n,u]);return x.jsxs(Sh,{p:"lg",withBorder:!0,ref:o,children:[x.jsxs(Rt,{direction:"row",justify:"space-between",onClick:s,children:[x.jsxs(Rt,{align:"center",children:[e.type==="metadata"&&x.jsx(nKe,{size:20}),e.type==="numerical"&&x.jsx(YKe,{size:20}),(e.type==="shortText"||e.type==="longText")&&x.jsx(OYe,{size:20}),e.type==="likert"&&x.jsx(Owe,{size:20}),e.type==="dropdown"&&x.jsx(mXe,{size:20}),e.type==="slider"&&x.jsx(oYe,{size:20}),e.type==="radio"&&x.jsx(sXe,{size:20}),e.type==="checkbox"&&x.jsx(_Xe,{size:20}),e.type==="reactive"&&x.jsx(MKe,{size:20}),x.jsx(Br,{order:5,ml:4,children:e.id})]}),x.jsx(Rwe,{style:{rotate:i?"180deg":"none",transition:"rotate 200ms"}})]}),x.jsxs(gm,{in:i,mah:400,children:[x.jsx(_e,{style:{top:0,position:"sticky",backgroundColor:"white",zIndex:2},py:"md",children:x.jsx(I_,{})}),x.jsxs(mG,{cols:2,h:360,children:[x.jsx(Id,{mih:200,children:e.type!=="metadata"&&e.type!=="shortText"&&e.type!=="longText"&&e.type!=="reactive"?x.jsx($me,{spec:c,actions:!1,height:270,width:a.width/2-60-(u===void 0?0:60),padding:0,style:{justifySelf:"center"},renderer:"svg"}):x.jsxs(Rt,{direction:"column",gap:"xs",style:{overflowX:"clip"},children:[e.type==="metadata"&&x.jsx(Lf,{block:!0,children:`${JSON.stringify(r,null,2)}`}),e.type!=="metadata"&&x.jsxs(x.Fragment,{children:[x.jsx(Ue,{fw:700,children:"Response Values: "}),l.map((d,f)=>x.jsx(Rt,{align:"center",gap:"xs",children:x.jsx(Ue,{children:d[e.id]})},f))]})]})}),x.jsx(Id,{mih:200,children:e.type==="metadata"?x.jsx($me,{spec:c,actions:!1,width:a.width/2-60,height:270,padding:0,style:{justifySelf:"center"}}):x.jsxs(x.Fragment,{children:[x.jsx(Ue,{fw:700,children:"Response Specification: "}),x.jsx(Lf,{block:!0,children:JSON.stringify(e,null,2)}),x.jsx("br",{}),u&&x.jsxs(x.Fragment,{children:[x.jsx(Ue,{fw:700,children:"Correct Answer: "}),x.jsx(Lf,{block:!0,children:JSON.stringify(u,null,2)})]})]})})]})]})]})}function wen({participantData:e,studyConfig:t,trialId:n}){const r=n&&n!=="end"&&Ol(t.components[n],t),i=D.useMemo(()=>[{id:"Config and Timing",type:"metadata"},...r?r.response:[]],[r]);return r?x.jsx(Rt,{w:"100%",direction:"column",gap:"xs",children:i.map(s=>x.jsx(ben,{response:s,participantData:e,trialId:n,trialConfig:r},s.id))}):x.jsx(Rt,{justify:"center",align:"center",pt:"lg",pb:"md",w:"100%",children:x.jsx(Ue,{children:n!=="end"?"No trial selected":"The end component has no data."})})}function xen({studyConfig:e,visibleParticipants:t}){const n=D.useMemo(()=>{let i=structuredClone(e.sequence);return i=qK(i,"root"),i.components.push("end"),i},[e.sequence]),{trialId:r}=va();return x.jsx(Sh,{shadow:"sm",p:"md",withBorder:!0,children:t.length===0?x.jsx(Rt,{justify:"center",align:"center",pt:"lg",pb:"md",children:x.jsx(Ue,{children:"No data available."})}):x.jsxs(Rt,{direction:"row",children:[x.jsx(_e,{w:340,children:x.jsx(uN,{configSequence:n,participantSequence:n,fullSequence:n,participantView:!1,studyConfig:e,analysisNavigation:!0})}),x.jsx(I_,{orientation:"vertical",mx:"md"}),x.jsx(wen,{participantData:t,studyConfig:e,trialId:r})]})})}function _en({studyId:e,refresh:t}){const[n,r]=D.useState(!1),[i,s]=D.useState(!1),[o,a]=D.useState(!1),[l,u]=D.useState(!1),[c,d]=D.useState(""),[f,h]=D.useState({}),[p,m]=D.useState(""),[g,v]=D.useState(""),[y,w]=D.useState(!1),[E,C]=D.useState(!1),{storageEngine:S}=Qi(),T=D.useCallback(async()=>{if(!S)return;C(!0);const Y=await S.getSnapshots(e);h(Y),C(!1)},[S,e]);if(D.useEffect(()=>{T()},[T]),!S)return null;const k=async Y=>{var F;w(!0);let z;switch(Y.type){case"create":z=await S.createSnapshot(e,Y.archive);break;case"rename":z=await S.renameSnapshot(Y.snapshot,Y.newName,e);break;case"restore":z=await S.restoreSnapshot(e,Y.snapshot);break;case"deleteSnapshot":z=await S.removeSnapshotOrLive(Y.snapshot,e);break;case"deleteLive":z=await S.removeSnapshotOrLive(e,e);break;default:throw w(!1),new Error("Unknown action")}z.status==="SUCCESS"?(await T(),w(!1),await t(),(F=z.notifications)==null||F.forEach(W=>iT(W))):(w(!1),iT({title:z.error.title,message:z.error.message,color:"red"}))},I=()=>k({type:"create",archive:!1}),R=()=>{m(""),r(!1),k({type:"create",archive:!0})},O=()=>{a(!1),k({type:"rename",snapshot:c,newName:g})},M=Y=>k({type:"restore",snapshot:Y}),$=()=>{m(""),s(!1),k({type:"deleteSnapshot",snapshot:c})},L=()=>{m(""),u(!1),k({type:"deleteLive"})},U=()=>Ese({title:"Create a Snapshot",children:x.jsx(Ue,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>I()}),B=Y=>Ese({title:"Restore Snapshot",children:x.jsx(Ue,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>M(Y)}),V=Y=>{const z=/-snapshot-(.+)$/,F=Y.match(z);return F&&F[1]?F[1].replace("T"," "):null},G=async Y=>{const z=Y.slice(Y.indexOf("-")+1);return await S.getAllParticipantsData(z)};return x.jsxs(x.Fragment,{children:[x.jsx(rc,{visible:y}),x.jsxs(Rt,{justify:"space-between",align:"center",children:[x.jsxs(_e,{style:{width:"70%"},children:[x.jsx(Br,{order:5,children:"Create a Snapshot"}),x.jsxs(Ue,{children:["This will create a snapshot of the live"," ",x.jsx(Ue,{span:!0,fw:700,children:e})," ","database. It will"," ",x.jsx(Ue,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),x.jsx(Ut,{label:"Create a snapshot",children:x.jsx(Wt,{onClick:U,children:"Snapshot"})})]}),x.jsx(Ju,{h:"lg"}),x.jsxs(Rt,{justify:"space-between",align:"center",children:[x.jsxs(_e,{style:{width:"70%"},children:[x.jsx(Br,{order:5,children:"Archive Data"}),x.jsxs(Ue,{children:["This will create a snapshot of the live"," ",x.jsx(Ue,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),x.jsx(Ut,{label:"Snapshot and Delete Data",children:x.jsx(Wt,{color:"red",onClick:()=>r(!0),children:"Archive"})})]}),x.jsx(Ju,{h:"lg"}),x.jsxs(Rt,{justify:"space-between",align:"center",children:[x.jsxs(_e,{style:{width:"70%"},children:[x.jsx(Br,{order:5,children:"Delete Data"}),x.jsxs(Ue,{children:["This will delete the live"," ",x.jsx(Ue,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),x.jsx(Ut,{label:"Delete Data",children:x.jsx(Wt,{color:"red",onClick:()=>u(!0),children:"Delete"})})]}),x.jsx(Ju,{h:"xl"}),x.jsxs(Rt,{direction:"column",children:[x.jsx(Rt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:"xs",pb:"sm",children:x.jsx(Br,{order:5,children:"Snapshots"})}),x.jsxs(_e,{style:{position:"relative"},children:[x.jsx(rc,{visible:E}),Object.keys(f).length>0?x.jsxs(Xn,{children:[x.jsx(Xn.Thead,{children:x.jsxs(Xn.Tr,{children:[x.jsx(Xn.Th,{children:"Snapshot Name"}),x.jsx(Xn.Th,{children:"Date Created"}),x.jsx(Xn.Th,{children:"Actions"})]})}),x.jsx(Xn.Tbody,{children:Object.entries(f).map(([Y,z])=>x.jsxs(Xn.Tr,{children:[x.jsx(Xn.Td,{children:z.name}),x.jsx(Xn.Td,{children:V(Y)}),x.jsx(Xn.Td,{children:x.jsxs(Rt,{children:[x.jsx(Ut,{label:"Rename",children:x.jsx(Wt,{color:"green",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{a(!0),d(Y)},children:x.jsx(JKe,{})})}),x.jsx(Ut,{label:"Restore Snapshot",children:x.jsx(Wt,{color:"blue",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{B(Y)},children:x.jsx(aXe,{})})}),x.jsx(Ut,{label:"Delete Snapshot",children:x.jsx(Wt,{color:"red",px:4,variant:"light",style:{margin:"0px 10px 0px 5px"},onClick:()=>{s(!0),d(Y)},children:x.jsx(qwe,{})})}),x.jsx(cMe,{visibleParticipants:()=>G(Y),studyId:e,gap:"10px",fileName:z.name})]})})]},Y))})]}):x.jsx(Ue,{children:"No snapshots."})]})]}),x.jsxs(xi,{opened:n,onClose:()=>{r(!1),m("")},title:x.jsx(Ue,{children:"Archive Data"}),children:[x.jsx(Ue,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),x.jsx(Gu,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:Y=>m(Y.target.value)}),x.jsxs(Rt,{mt:"sm",justify:"right",children:[x.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),m("")},children:"Cancel"}),x.jsx(Wt,{color:"red",onClick:R,disabled:p!==e,children:"Archive"})]})]}),x.jsxs(xi,{opened:i,onClose:()=>{s(!1),m("")},title:x.jsx(Ue,{children:"Delete Snapshot"}),children:[x.jsxs(Ue,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",x.jsx(Ue,{span:!0,fw:700,children:"irreversible"}),"."]}),x.jsx(Gu,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:Y=>m(Y.target.value)}),x.jsxs(Rt,{mt:"sm",justify:"right",children:[x.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{s(!1),m("")},children:"Cancel"}),x.jsx(Wt,{color:"red",onClick:$,disabled:p!==e,children:"Delete"})]})]}),x.jsxs(xi,{opened:o,onClose:()=>{a(!1),v("")},title:x.jsx(Ue,{children:"Rename Snapshot"}),children:[x.jsx(Gu,{label:"Enter the new name of the snapshot.",placeholder:c,onChange:Y=>v(Y.target.value)}),x.jsxs(Rt,{mt:"sm",justify:"right",children:[x.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),v("")},children:"Cancel"}),x.jsx(Wt,{color:"green",onClick:O,disabled:!g||g.length===0,children:"Rename"})]})]}),x.jsxs(xi,{opened:l,onClose:()=>{u(!1),m("")},title:x.jsx(Ue,{children:"Delete Live Data"}),children:[x.jsxs(Ue,{mb:"sm",children:["This will permanently delete the live"," ",x.jsx(Ue,{span:!0,fw:700,children:e})," ","data. This action is"," ",x.jsx(Ue,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),x.jsx(Gu,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:Y=>m(Y.target.value)}),x.jsxs(Rt,{mt:"sm",justify:"right",children:[x.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{u(!1),m("")},children:"Cancel"}),x.jsx(Wt,{color:"red",onClick:L,disabled:p!==e,children:"Delete"})]})]})]})}function Een({studyId:e}){const{storageEngine:t}=Qi(),[n,r]=D.useState(!1),[i,s]=D.useState(!1),[o,a]=D.useState(!1),[l,u]=D.useState(!1);D.useEffect(()=>{(async()=>{if(t){const f=await t.getModes(e);s(f.dataCollectionEnabled),a(f.studyNavigatorEnabled),u(f.analyticsInterfacePubliclyAccessible),r(!0)}})()},[t,e]);const c=async(d,f)=>{t&&(await t.setMode(e,d,f),d==="dataCollectionEnabled"?s(f):d==="studyNavigatorEnabled"?a(f):d==="analyticsInterfacePubliclyAccessible"&&u(f))};return n&&x.jsxs(Mi,{children:[x.jsx(U0,{label:"Data Collection Enabled",checked:i,onChange:d=>c("dataCollectionEnabled",d.currentTarget.checked)}),x.jsx(U0,{label:"Study Navigator Enabled",checked:o,onChange:d=>c("studyNavigatorEnabled",d.currentTarget.checked)}),x.jsx(U0,{label:"Analytics Interface Publicly Accessible",checked:l,onChange:d=>c("analyticsInterfacePubliclyAccessible",d.currentTarget.checked)})]})}function Cen({studyId:e,refresh:t}){return x.jsx(kg,{children:x.jsxs(oa,{multiple:!0,variant:"contained",children:[x.jsxs(oa.Item,{value:"ReVISit Modes",children:[x.jsx(oa.Control,{children:x.jsx(Br,{order:5,children:"ReVISit Modes"})}),x.jsx(oa.Panel,{children:x.jsx(Een,{studyId:e})})]},"modes"),x.jsxs(oa.Item,{value:"Data Management",children:[x.jsx(oa.Control,{children:x.jsx(Br,{order:5,children:"Data Management"})}),x.jsx(oa.Panel,{children:x.jsx(_en,{studyId:e,refresh:t})})]},"dataManagement")]})})}const Sen=37;function Ten(e,t){const n=Object.values(e.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort(),r=Object.values(t.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort();return n.length===0||r.length===0?n.length>0?-1:r.length>0?1:t.participantIndex-e.participantIndex:r[0]-n[0]}function ken(e,t,n){return!e||!t||!n?Promise.resolve([]):(t==null||t.initializeStudyDb(n),t.getAllParticipantsData(n))}function Aen({globalConfig:e}){const{studyId:t}=va(),[n,r]=D.useState(void 0),[i,s]=D.useState(["completed","inprogress","rejected"]),{storageEngine:o}=Qi(),a=Ea(),{analysisTab:l}=va(),{user:u}=W_(),[c,{width:d}]=MT(),{value:f,execute:h,status:p}=YK(ken,[n,o,t]),m=D.useMemo(()=>{if(!f)return[];const g=Object.values(f),v=i.includes("completed")?g.filter(E=>!E.rejected&&E.completed):[],y=i.includes("inprogress")?g.filter(E=>!E.rejected&&!E.completed):[],w=i.includes("rejected")?g.filter(E=>E.rejected):[];return[...v,...y,...w].sort(Ten)},[f,i]);return D.useEffect(()=>{if(!t)return()=>{};if(t==="__revisit-widget"){const g=async v=>{if(v.data.type==="revisitWidget/CONFIG"&&o){const y=await fte(v.data.payload);r(y)}};return window.addEventListener("message",g),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",g)}}return hte(t,e).then(g=>{g&&r(g)}),()=>{}},[t,e,o]),x.jsxs(x.Fragment,{children:[x.jsx(SP,{studyIds:e.configsList}),x.jsx(Qr.Main,{style:{height:"100dvh"},children:x.jsxs(Mi,{ref:c,style:{height:"100%",maxHeight:"100dvh",overflow:"hidden"},justify:"space-between",children:[x.jsxs(Rt,{direction:"row",align:"center",justify:"space-between",children:[x.jsx(Br,{order:5,mr:"sm",children:t}),x.jsxs(Rt,{direction:"row",align:"center",children:[x.jsx(Ue,{mt:-2,size:"sm",children:"Participants: "}),x.jsx(Fo.Group,{value:i,onChange:g=>s(g),mb:"xs",mt:8,ml:"xs",children:x.jsxs(_i,{children:[x.jsx(Fo,{value:"completed",label:"Completed"}),x.jsx(Fo,{value:"inprogress",label:"In Progress"}),x.jsx(Fo,{value:"rejected",label:"Rejected"})]})})]})]}),x.jsx(rc,{visible:p==="pending"}),p==="success"?x.jsxs(ir,{style:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},keepMounted:!1,variant:"outline",value:l,onChange:g=>a(`/analysis/stats/${t}/${g}`),children:[x.jsxs(ir.List,{children:[x.jsx(ir.Tab,{value:"summary",leftSection:x.jsx(LYe,{size:16}),children:"Study Summary"}),x.jsx(ir.Tab,{value:"table",leftSection:x.jsx(SXe,{size:16}),children:"Participant View"}),x.jsx(ir.Tab,{value:"stats",leftSection:x.jsx($Ye,{size:16}),children:"Trial Stats"}),x.jsx(ir.Tab,{value:"manage",leftSection:x.jsx(zwe,{size:16}),disabled:!u.isAdmin,children:"Manage"})]}),x.jsx(ir.Panel,{style:{overflow:"auto"},value:"summary",pt:"xs",children:n&&x.jsx(uen,{studyConfig:n,visibleParticipants:m})}),x.jsx(ir.Panel,{style:{height:`calc(100% - ${Sen}px)`},value:"table",pt:"xs",children:n&&x.jsx(ven,{width:d,visibleParticipants:m,studyConfig:n,refresh:()=>h(n,o,t)})}),x.jsx(ir.Panel,{value:"stats",pt:"xs",children:n&&x.jsx(xen,{studyConfig:n,visibleParticipants:m})}),x.jsx(ir.Panel,{value:"manage",pt:"xs",children:t&&u.isAdmin?x.jsx(Cen,{studyId:t,refresh:()=>h(n,o,t)}):x.jsx(kg,{mt:20,children:x.jsx(Xf,{title:"Unauthorized Access",variant:"light",color:"red",icon:x.jsx(UG,{}),children:"You are not authorized to manage the data for this study."})})})]}):null]})})]})}function Xge({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:s}=W_(),{storageEngine:o}=Qi(),[a,l]=D.useState(!1),u=va();return D.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&u[t]){const d=await n(u[t]);d&&l(d)}else l(!0);if(a)try{r&&await i(r)||s()}catch(d){s(),console.warn(d)}})()},[r.isAdmin,a]),r.determiningStatus||!o?x.jsx(rc,{visible:r.determiningStatus||!(o!=null&&o.getEngine())}):a&&!r.isAdmin&&!r.determiningStatus?x.jsx(FG,{to:"/login"}):x.jsx(x.Fragment,{children:e})}async function dMe(e,t){if(e&&zu(e)){t(!0);const n=new xp,r=Mz();try{await Cut(r,n,TEe)}catch(i){iT({title:"Error",message:i.message,color:"red"})}finally{t(!1)}return r.currentUser}return null}function Ien(){const{user:e}=W_(),[t,n]=D.useState(!1),{storageEngine:r}=Qi();return D.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&iT({title:"Unauthorized",message:"You are not authorized to use this application.",color:"red"})},[e.adminVerification]),!e.determiningStatus&&e.isAdmin?x.jsx(FG,{to:"/"}):x.jsx(kg,{children:x.jsx(Tg,{padding:"lg",children:x.jsxs(Rt,{align:"center",direction:"column",justify:"center",children:[x.jsx(Th,{maw:200,mt:50,mb:100,src:`${as}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),x.jsxs(x.Fragment,{children:[x.jsx(Ue,{mb:20,children:"To access admin settings, please sign in using your Google account."}),x.jsx(Wt,{onClick:()=>dMe(r,n),leftSection:x.jsx(DXe,{}),variant:"filled",children:"Sign In With Google"})]}),x.jsx(rc,{visible:t})]})})})}function Ren(){const{user:e,triggerAuth:t,logout:n}=W_(),{storageEngine:r}=Qi(),[i,s]=D.useState(!1),[o,a]=D.useState([]),[l,u]=D.useState(!1),[c,d]=D.useState(!1),[f,h]=D.useState(!1),[p,m]=D.useState(!1),[g,v]=D.useState(!1),[y,w]=D.useState(""),[E,C]=D.useState(null),S=Kke({initialValues:{email:""},validate:{email:lSt("Invalid email")}});D.useEffect(()=>{(async()=>{if(u(!0),r&&zu(r)){const L=await(r==null?void 0:r.getUserManagementData("authentication"));s((L==null?void 0:L.isEnabled)||!1);const U=await(r==null?void 0:r.getUserManagementData("adminUsers"));U&&U.adminUsersList&&a(U==null?void 0:U.adminUsersList.map(B=>B.email))}else s(!1);u(!1)})()},[r]);const T=async()=>{if(u(!0),r&&zu(r)){const $=await dMe(r,u);$&&$.email?(C({email:$.email,uid:$.uid}),m(!0)):v(!0)}u(!1)},k=async $=>{u(!0),r&&zu(r)&&$&&(await r.changeAuth(!0),await r.addAdminUser($),a([$.email]),s(!0),t()),m(!1),u(!1)},I=async()=>{if(u(!0),r&&zu(r)){await r.addAdminUser({email:S.values.email,uid:null});const $=await r.getUserManagementData("adminUsers");a(($==null?void 0:$.adminUsersList.map(L=>L.email))||[])}u(!1),d(!1),S.setValues({email:""})},R=$=>{h(!0),w($)},O=async()=>{if(u(!0),r&&zu(r)){await r.removeAdminUser(y);const $=await r.getUserManagementData("adminUsers");a(($==null?void 0:$.adminUsersList.map(L=>L.email))||[])}h(!1),u(!1)},M=D.useMemo(()=>r&&zu(r),[r]);return x.jsxs(x.Fragment,{children:[x.jsx(kg,{children:x.jsxs(Tg,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[x.jsx(Br,{mb:20,order:3,children:"Authentication"}),i?x.jsx(Rt,{children:x.jsx(Ue,{children:"Authentication is enabled."})}):x.jsxs(Rt,{justify:"space-between",children:[x.jsx(_e,{children:x.jsx(Ue,{children:"Authentication is currently disabled."})}),x.jsx(Ut,{label:"You can only enable auth when using Firebase",disabled:M,children:x.jsx(Wt,{onClick:$=>M?T():$.preventDefault(),color:"green","data-disabled":M?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),i?x.jsxs(Rt,{mt:40,direction:"column",children:[x.jsxs(Rt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[x.jsx(Br,{order:6,children:"Enabled Users"}),x.jsx(qG,{style:{cursor:"pointer"},onClick:()=>d(!0)})]}),o.length>0?o.map($=>{var L;return x.jsxs(Rt,{justify:"space-between",mb:10,children:[x.jsx(Ue,{children:$}),$===((L=e.user)==null?void 0:L.email)?x.jsx(Ue,{color:"blue",size:"xs",children:"You"}):x.jsx(tr,{variant:"subtle",onClick:()=>R($),children:x.jsx(qwe,{color:"red"})})]},$)}):null,x.jsx(Rt,{direction:"row",justify:"left",children:x.jsx(Wt,{onClick:()=>n(),mt:20,children:"Log out"})})]}):null]})}),x.jsx(xi,{opened:c,onClose:()=>d(!1),title:"Add Admin User",children:x.jsxs(_e,{component:"form",onSubmit:S.onSubmit(()=>I()),children:[x.jsx(Gu,{leftSection:x.jsx(bYe,{}),placeholder:"User Gmail Account",...S.getInputProps("email")}),x.jsxs(Rt,{mt:30,justify:"right",children:[x.jsx(Wt,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),x.jsx(Wt,{type:"submit",children:"Save"})]})]})}),x.jsxs(xi,{opened:f,size:"large",onClose:()=>h(!1),title:x.jsxs(Ue,{fw:700,children:["Remove",y,"?"]}),children:[x.jsxs(Ue,{mt:40,children:["Are you sure you want to remove",x.jsx("b",{children:y})," ","as an administrator?"]}),x.jsxs(Rt,{mt:40,justify:"right",children:[x.jsx(Wt,{mr:5,variant:"subtle",color:"red",onClick:()=>h(!1),children:"Cancel"}),x.jsx(Wt,{onClick:()=>O(),children:"Yes, I'm sure."})]})]}),x.jsxs(xi,{opened:p,size:"md",onClose:()=>m(!1),title:x.jsx(Ue,{fw:700,children:"Enable Authentication?"}),children:[x.jsxs(Ue,{mt:40,children:["User"," ",x.jsx("b",{children:E==null?void 0:E.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),x.jsxs(Rt,{mt:40,justify:"right",children:[x.jsx(Wt,{mr:5,variant:"subtle",color:"red",onClick:()=>m(!1),children:"Cancel"}),x.jsx(Wt,{onClick:()=>k(E),children:"Yes, I'm sure."})]})]}),x.jsxs(xi,{opened:g,size:"md",onClose:()=>v(!1),title:x.jsx(Ue,{fw:700,children:"An Error Occurred."}),children:[x.jsxs(Ue,{mt:40,children:["An error has occurred when trying to enable authentication. Please consult the"," ",x.jsx("a",{href:"https://revisit.dev/docs/data-and-deployment/authentication-authorization/adding-removing-ui/",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),x.jsx(Rt,{mt:40,justify:"right",children:x.jsx(Wt,{mr:5,onClick:()=>v(!1),children:"Okay"})})]}),x.jsx(rc,{visible:l})]})}var v7={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Qge;function Den(){return Qge||(Qge=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var d=typeof mS=="function"&&mS;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[u].exports}for(var a=typeof mS=="function"&&mS,l=0;l<s.length;l++)o(s[l]);return o})({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,u=new o(p),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=p,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var f,h=[];function p(){f=!0;for(var g,v,y=h.length;y;){for(v=h,h=[],g=-1;++g<y;)v[g]();y=h.length}f=!1}r.exports=m;function m(g){h.push(g)===1&&!f&&a()}}).call(this,typeof Ls<"u"?Ls:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,C!==o&&m(this,C)}d.prototype.catch=function(C){return this.then(null,C)},d.prototype.then=function(C,S){if(typeof C!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var T=new this.constructor(o);if(this.state!==c){var k=this.state===u?C:S;h(T,k,this.outcome)}else this.queue.push(new f(T,C,S));return T};function f(C,S,T){this.promise=C,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(C){a.resolve(this.promise,C)},f.prototype.otherCallFulfilled=function(C){h(this.promise,this.onFulfilled,C)},f.prototype.callRejected=function(C){a.reject(this.promise,C)},f.prototype.otherCallRejected=function(C){h(this.promise,this.onRejected,C)};function h(C,S,T){s(function(){var k;try{k=S(T)}catch(I){return a.reject(C,I)}k===C?a.reject(C,new TypeError("Cannot resolve promise with itself")):a.resolve(C,k)})}a.resolve=function(C,S){var T=g(p,S);if(T.status==="error")return a.reject(C,T.value);var k=T.value;if(k)m(C,k);else{C.state=u,C.outcome=S;for(var I=-1,R=C.queue.length;++I<R;)C.queue[I].callFulfilled(S)}return C},a.reject=function(C,S){C.state=l,C.outcome=S;for(var T=-1,k=C.queue.length;++T<k;)C.queue[T].callRejected(S);return C};function p(C){var S=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof S=="function")return function(){S.apply(C,arguments)}}function m(C,S){var T=!1;function k(M){T||(T=!0,a.reject(C,M))}function I(M){T||(T=!0,a.resolve(C,M))}function R(){S(I,k)}var O=g(R);O.status==="error"&&k(O.value)}function g(C,S){var T={};try{T.value=C(S),T.status="success"}catch(k){T.status="error",T.value=k}return T}d.resolve=v;function v(C){return C instanceof this?C:a.resolve(new this(o),C)}d.reject=y;function y(C){var S=new this(o);return a.reject(S,C)}d.all=w;function w(C){var S=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=C.length,k=!1;if(!T)return this.resolve([]);for(var I=new Array(T),R=0,O=-1,M=new this(o);++O<T;)$(C[O],O);return M;function $(L,U){S.resolve(L).then(B,function(V){k||(k=!0,a.reject(M,V))});function B(V){I[U]=V,++R===T&&!k&&(k=!0,a.resolve(M,I))}}}d.race=E;function E(C){var S=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=C.length,k=!1;if(!T)return this.resolve([]);for(var I=-1,R=new this(o);++I<T;)O(C[I]);return R;function O(M){S.resolve(M).then(function($){k||(k=!0,a.resolve(R,$))},function($){k||(k=!0,a.reject(R,$))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Ls<"u"?Ls:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se};function o(se,Ee){if(!(se instanceof Ee))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var se=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ee=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!se||Ee)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(se,Ee){se=se||[],Ee=Ee||{};try{return new Blob(se,Ee)}catch(ke){if(ke.name!=="TypeError")throw ke;for(var de=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Ae=new de,De=0;De<se.length;De+=1)Ae.append(se[De]);return Ae.getBlob(Ee.type)}}typeof Promise>"u"&&n(3);var d=Promise;function f(se,Ee){Ee&&se.then(function(de){Ee(null,de)},function(de){Ee(de)})}function h(se,Ee,de){typeof Ee=="function"&&se.then(Ee),typeof de=="function"&&se.catch(de)}function p(se){return typeof se!="string"&&(console.warn(se+" used as a key, but it is not a string."),se=String(se)),se}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",v=void 0,y={},w=Object.prototype.toString,E="readonly",C="readwrite";function S(se){for(var Ee=se.length,de=new ArrayBuffer(Ee),Ae=new Uint8Array(de),De=0;De<Ee;De++)Ae[De]=se.charCodeAt(De);return de}function T(se){return new d(function(Ee){var de=se.transaction(g,C),Ae=c([""]);de.objectStore(g).put(Ae,"key"),de.onabort=function(De){De.preventDefault(),De.stopPropagation(),Ee(!1)},de.oncomplete=function(){var De=navigator.userAgent.match(/Chrome\/(\d+)/),ke=navigator.userAgent.match(/Edge\//);Ee(ke||!De||parseInt(De[1],10)>=43)}}).catch(function(){return!1})}function k(se){return typeof v=="boolean"?d.resolve(v):T(se).then(function(Ee){return v=Ee,v})}function I(se){var Ee=y[se.name],de={};de.promise=new d(function(Ae,De){de.resolve=Ae,de.reject=De}),Ee.deferredOperations.push(de),Ee.dbReady?Ee.dbReady=Ee.dbReady.then(function(){return de.promise}):Ee.dbReady=de.promise}function R(se){var Ee=y[se.name],de=Ee.deferredOperations.pop();if(de)return de.resolve(),de.promise}function O(se,Ee){var de=y[se.name],Ae=de.deferredOperations.pop();if(Ae)return Ae.reject(Ee),Ae.promise}function M(se,Ee){return new d(function(de,Ae){if(y[se.name]=y[se.name]||W(),se.db)if(Ee)I(se),se.db.close();else return de(se.db);var De=[se.name];Ee&&De.push(se.version);var ke=l.open.apply(l,De);Ee&&(ke.onupgradeneeded=function(Qe){var ot=ke.result;try{ot.createObjectStore(se.storeName),Qe.oldVersion<=1&&ot.createObjectStore(g)}catch(lt){if(lt.name==="ConstraintError")console.warn('The database "'+se.name+'" has been upgraded from version '+Qe.oldVersion+" to version "+Qe.newVersion+', but the storage "'+se.storeName+'" already exists.');else throw lt}}),ke.onerror=function(Qe){Qe.preventDefault(),Ae(ke.error)},ke.onsuccess=function(){var Qe=ke.result;Qe.onversionchange=function(ot){ot.target.close()},de(Qe),R(se)}})}function $(se){return M(se,!1)}function L(se){return M(se,!0)}function U(se,Ee){if(!se.db)return!0;var de=!se.db.objectStoreNames.contains(se.storeName),Ae=se.version<se.db.version,De=se.version>se.db.version;if(Ae&&(se.version!==Ee&&console.warn('The database "'+se.name+`" can't be downgraded from version `+se.db.version+" to version "+se.version+"."),se.version=se.db.version),De||de){if(de){var ke=se.db.version+1;ke>se.version&&(se.version=ke)}return!0}return!1}function B(se){return new d(function(Ee,de){var Ae=new FileReader;Ae.onerror=de,Ae.onloadend=function(De){var ke=btoa(De.target.result||"");Ee({__local_forage_encoded_blob:!0,data:ke,type:se.type})},Ae.readAsBinaryString(se)})}function V(se){var Ee=S(atob(se.data));return c([Ee],{type:se.type})}function G(se){return se&&se.__local_forage_encoded_blob}function Y(se){var Ee=this,de=Ee._initReady().then(function(){var Ae=y[Ee._dbInfo.name];if(Ae&&Ae.dbReady)return Ae.dbReady});return h(de,se,se),de}function z(se){I(se);for(var Ee=y[se.name],de=Ee.forages,Ae=0;Ae<de.length;Ae++){var De=de[Ae];De._dbInfo.db&&(De._dbInfo.db.close(),De._dbInfo.db=null)}return se.db=null,$(se).then(function(ke){return se.db=ke,U(se)?L(se):ke}).then(function(ke){se.db=Ee.db=ke;for(var Qe=0;Qe<de.length;Qe++)de[Qe]._dbInfo.db=ke}).catch(function(ke){throw O(se,ke),ke})}function F(se,Ee,de,Ae){Ae===void 0&&(Ae=1);try{var De=se.db.transaction(se.storeName,Ee);de(null,De)}catch(ke){if(Ae>0&&(!se.db||ke.name==="InvalidStateError"||ke.name==="NotFoundError"))return d.resolve().then(function(){if(!se.db||ke.name==="NotFoundError"&&!se.db.objectStoreNames.contains(se.storeName)&&se.version<=se.db.version)return se.db&&(se.version=se.db.version+1),L(se)}).then(function(){return z(se).then(function(){F(se,Ee,de,Ae-1)})}).catch(de);de(ke)}}function W(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function q(se){var Ee=this,de={db:null};if(se)for(var Ae in se)de[Ae]=se[Ae];var De=y[de.name];De||(De=W(),y[de.name]=De),De.forages.push(Ee),Ee._initReady||(Ee._initReady=Ee.ready,Ee.ready=Y);var ke=[];function Qe(){return d.resolve()}for(var ot=0;ot<De.forages.length;ot++){var lt=De.forages[ot];lt!==Ee&&ke.push(lt._initReady().catch(Qe))}var at=De.forages.slice(0);return d.all(ke).then(function(){return de.db=De.db,$(de)}).then(function(vt){return de.db=vt,U(de,Ee._defaultConfig.version)?L(de):vt}).then(function(vt){de.db=De.db=vt,Ee._dbInfo=de;for(var Bt=0;Bt<at.length;Bt++){var vn=at[Bt];vn!==Ee&&(vn._dbInfo.db=de.db,vn._dbInfo.version=de.version)}})}function K(se,Ee){var de=this;se=p(se);var Ae=new d(function(De,ke){de.ready().then(function(){F(de._dbInfo,E,function(Qe,ot){if(Qe)return ke(Qe);try{var lt=ot.objectStore(de._dbInfo.storeName),at=lt.get(se);at.onsuccess=function(){var vt=at.result;vt===void 0&&(vt=null),G(vt)&&(vt=V(vt)),De(vt)},at.onerror=function(){ke(at.error)}}catch(vt){ke(vt)}})}).catch(ke)});return f(Ae,Ee),Ae}function J(se,Ee){var de=this,Ae=new d(function(De,ke){de.ready().then(function(){F(de._dbInfo,E,function(Qe,ot){if(Qe)return ke(Qe);try{var lt=ot.objectStore(de._dbInfo.storeName),at=lt.openCursor(),vt=1;at.onsuccess=function(){var Bt=at.result;if(Bt){var vn=Bt.value;G(vn)&&(vn=V(vn));var Zt=se(vn,Bt.key,vt++);Zt!==void 0?De(Zt):Bt.continue()}else De()},at.onerror=function(){ke(at.error)}}catch(Bt){ke(Bt)}})}).catch(ke)});return f(Ae,Ee),Ae}function te(se,Ee,de){var Ae=this;se=p(se);var De=new d(function(ke,Qe){var ot;Ae.ready().then(function(){return ot=Ae._dbInfo,w.call(Ee)==="[object Blob]"?k(ot.db).then(function(lt){return lt?Ee:B(Ee)}):Ee}).then(function(lt){F(Ae._dbInfo,C,function(at,vt){if(at)return Qe(at);try{var Bt=vt.objectStore(Ae._dbInfo.storeName);lt===null&&(lt=void 0);var vn=Bt.put(lt,se);vt.oncomplete=function(){lt===void 0&&(lt=null),ke(lt)},vt.onabort=vt.onerror=function(){var Zt=vn.error?vn.error:vn.transaction.error;Qe(Zt)}}catch(Zt){Qe(Zt)}})}).catch(Qe)});return f(De,de),De}function le(se,Ee){var de=this;se=p(se);var Ae=new d(function(De,ke){de.ready().then(function(){F(de._dbInfo,C,function(Qe,ot){if(Qe)return ke(Qe);try{var lt=ot.objectStore(de._dbInfo.storeName),at=lt.delete(se);ot.oncomplete=function(){De()},ot.onerror=function(){ke(at.error)},ot.onabort=function(){var vt=at.error?at.error:at.transaction.error;ke(vt)}}catch(vt){ke(vt)}})}).catch(ke)});return f(Ae,Ee),Ae}function oe(se){var Ee=this,de=new d(function(Ae,De){Ee.ready().then(function(){F(Ee._dbInfo,C,function(ke,Qe){if(ke)return De(ke);try{var ot=Qe.objectStore(Ee._dbInfo.storeName),lt=ot.clear();Qe.oncomplete=function(){Ae()},Qe.onabort=Qe.onerror=function(){var at=lt.error?lt.error:lt.transaction.error;De(at)}}catch(at){De(at)}})}).catch(De)});return f(de,se),de}function ie(se){var Ee=this,de=new d(function(Ae,De){Ee.ready().then(function(){F(Ee._dbInfo,E,function(ke,Qe){if(ke)return De(ke);try{var ot=Qe.objectStore(Ee._dbInfo.storeName),lt=ot.count();lt.onsuccess=function(){Ae(lt.result)},lt.onerror=function(){De(lt.error)}}catch(at){De(at)}})}).catch(De)});return f(de,se),de}function he(se,Ee){var de=this,Ae=new d(function(De,ke){if(se<0){De(null);return}de.ready().then(function(){F(de._dbInfo,E,function(Qe,ot){if(Qe)return ke(Qe);try{var lt=ot.objectStore(de._dbInfo.storeName),at=!1,vt=lt.openKeyCursor();vt.onsuccess=function(){var Bt=vt.result;if(!Bt){De(null);return}se===0||at?De(Bt.key):(at=!0,Bt.advance(se))},vt.onerror=function(){ke(vt.error)}}catch(Bt){ke(Bt)}})}).catch(ke)});return f(Ae,Ee),Ae}function ee(se){var Ee=this,de=new d(function(Ae,De){Ee.ready().then(function(){F(Ee._dbInfo,E,function(ke,Qe){if(ke)return De(ke);try{var ot=Qe.objectStore(Ee._dbInfo.storeName),lt=ot.openKeyCursor(),at=[];lt.onsuccess=function(){var vt=lt.result;if(!vt){Ae(at);return}at.push(vt.key),vt.continue()},lt.onerror=function(){De(lt.error)}}catch(vt){De(vt)}})}).catch(De)});return f(de,se),de}function ne(se,Ee){Ee=m.apply(this,arguments);var de=this.config();se=typeof se!="function"&&se||{},se.name||(se.name=se.name||de.name,se.storeName=se.storeName||de.storeName);var Ae=this,De;if(!se.name)De=d.reject("Invalid arguments");else{var ke=se.name===de.name&&Ae._dbInfo.db,Qe=ke?d.resolve(Ae._dbInfo.db):$(se).then(function(ot){var lt=y[se.name],at=lt.forages;lt.db=ot;for(var vt=0;vt<at.length;vt++)at[vt]._dbInfo.db=ot;return ot});se.storeName?De=Qe.then(function(ot){if(ot.objectStoreNames.contains(se.storeName)){var lt=ot.version+1;I(se);var at=y[se.name],vt=at.forages;ot.close();for(var Bt=0;Bt<vt.length;Bt++){var vn=vt[Bt];vn._dbInfo.db=null,vn._dbInfo.version=lt}var Zt=new d(function(jn,tn){var wr=l.open(se.name,lt);wr.onerror=function(As){var ol=wr.result;ol.close(),tn(As)},wr.onupgradeneeded=function(){var As=wr.result;As.deleteObjectStore(se.storeName)},wr.onsuccess=function(){var As=wr.result;As.close(),jn(As)}});return Zt.then(function(jn){at.db=jn;for(var tn=0;tn<vt.length;tn++){var wr=vt[tn];wr._dbInfo.db=jn,R(wr._dbInfo)}}).catch(function(jn){throw(O(se,jn)||d.resolve()).catch(function(){}),jn})}}):De=Qe.then(function(ot){I(se);var lt=y[se.name],at=lt.forages;ot.close();for(var vt=0;vt<at.length;vt++){var Bt=at[vt];Bt._dbInfo.db=null}var vn=new d(function(Zt,jn){var tn=l.deleteDatabase(se.name);tn.onerror=function(){var wr=tn.result;wr&&wr.close(),jn(tn.error)},tn.onblocked=function(){console.warn('dropInstance blocked for database "'+se.name+'" until all open connections are closed')},tn.onsuccess=function(){var wr=tn.result;wr&&wr.close(),Zt(wr)}});return vn.then(function(Zt){lt.db=Zt;for(var jn=0;jn<at.length;jn++){var tn=at[jn];R(tn._dbInfo)}}).catch(function(Zt){throw(O(se,Zt)||d.resolve()).catch(function(){}),Zt})})}return f(De,Ee),De}var ue={_driver:"asyncStorage",_initStorage:q,_support:u(),iterate:J,getItem:K,setItem:te,removeItem:le,clear:oe,length:ie,key:he,keys:ee,dropInstance:ne};function ve(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Re="~~local_forage_type~",Te=/^~~local_forage_type~([^~]+)~/,we="__lfsc__:",He=we.length,Xe="arbf",tt="blob",ft="si08",rt="ui08",Pe="uic8",Le="si16",ge="si32",$e="ur16",ze="ui32",it="fl32",st="fl64",wt=He+Xe.length,un=Object.prototype.toString;function Rn(se){var Ee=se.length*.75,de=se.length,Ae,De=0,ke,Qe,ot,lt;se[se.length-1]==="="&&(Ee--,se[se.length-2]==="="&&Ee--);var at=new ArrayBuffer(Ee),vt=new Uint8Array(at);for(Ae=0;Ae<de;Ae+=4)ke=xe.indexOf(se[Ae]),Qe=xe.indexOf(se[Ae+1]),ot=xe.indexOf(se[Ae+2]),lt=xe.indexOf(se[Ae+3]),vt[De++]=ke<<2|Qe>>4,vt[De++]=(Qe&15)<<4|ot>>2,vt[De++]=(ot&3)<<6|lt&63;return at}function Mn(se){var Ee=new Uint8Array(se),de="",Ae;for(Ae=0;Ae<Ee.length;Ae+=3)de+=xe[Ee[Ae]>>2],de+=xe[(Ee[Ae]&3)<<4|Ee[Ae+1]>>4],de+=xe[(Ee[Ae+1]&15)<<2|Ee[Ae+2]>>6],de+=xe[Ee[Ae+2]&63];return Ee.length%3===2?de=de.substring(0,de.length-1)+"=":Ee.length%3===1&&(de=de.substring(0,de.length-2)+"=="),de}function Lt(se,Ee){var de="";if(se&&(de=un.call(se)),se&&(de==="[object ArrayBuffer]"||se.buffer&&un.call(se.buffer)==="[object ArrayBuffer]")){var Ae,De=we;se instanceof ArrayBuffer?(Ae=se,De+=Xe):(Ae=se.buffer,de==="[object Int8Array]"?De+=ft:de==="[object Uint8Array]"?De+=rt:de==="[object Uint8ClampedArray]"?De+=Pe:de==="[object Int16Array]"?De+=Le:de==="[object Uint16Array]"?De+=$e:de==="[object Int32Array]"?De+=ge:de==="[object Uint32Array]"?De+=ze:de==="[object Float32Array]"?De+=it:de==="[object Float64Array]"?De+=st:Ee(new Error("Failed to get type for BinaryArray"))),Ee(De+Mn(Ae))}else if(de==="[object Blob]"){var ke=new FileReader;ke.onload=function(){var Qe=Re+se.type+"~"+Mn(this.result);Ee(we+tt+Qe)},ke.readAsArrayBuffer(se)}else try{Ee(JSON.stringify(se))}catch(Qe){console.error("Couldn't convert value into a JSON string: ",se),Ee(null,Qe)}}function wn(se){if(se.substring(0,He)!==we)return JSON.parse(se);var Ee=se.substring(wt),de=se.substring(He,wt),Ae;if(de===tt&&Te.test(Ee)){var De=Ee.match(Te);Ae=De[1],Ee=Ee.substring(De[0].length)}var ke=Rn(Ee);switch(de){case Xe:return ke;case tt:return c([ke],{type:Ae});case ft:return new Int8Array(ke);case rt:return new Uint8Array(ke);case Pe:return new Uint8ClampedArray(ke);case Le:return new Int16Array(ke);case $e:return new Uint16Array(ke);case ge:return new Int32Array(ke);case ze:return new Uint32Array(ke);case it:return new Float32Array(ke);case st:return new Float64Array(ke);default:throw new Error("Unkown type: "+de)}}var Gn={serialize:Lt,deserialize:wn,stringToBuffer:Rn,bufferToString:Mn};function Fn(se,Ee,de,Ae){se.executeSql("CREATE TABLE IF NOT EXISTS "+Ee.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],de,Ae)}function Bi(se){var Ee=this,de={db:null};if(se)for(var Ae in se)de[Ae]=typeof se[Ae]!="string"?se[Ae].toString():se[Ae];var De=new d(function(ke,Qe){try{de.db=openDatabase(de.name,String(de.version),de.description,de.size)}catch(ot){return Qe(ot)}de.db.transaction(function(ot){Fn(ot,de,function(){Ee._dbInfo=de,ke()},function(lt,at){Qe(at)})},Qe)});return de.serializer=Gn,De}function Zn(se,Ee,de,Ae,De,ke){se.executeSql(de,Ae,De,function(Qe,ot){ot.code===ot.SYNTAX_ERR?Qe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ee.storeName],function(lt,at){at.rows.length?ke(lt,ot):Fn(lt,Ee,function(){lt.executeSql(de,Ae,De,ke)},ke)},ke):ke(Qe,ot)},ke)}function Mr(se,Ee){var de=this;se=p(se);var Ae=new d(function(De,ke){de.ready().then(function(){var Qe=de._dbInfo;Qe.db.transaction(function(ot){Zn(ot,Qe,"SELECT * FROM "+Qe.storeName+" WHERE key = ? LIMIT 1",[se],function(lt,at){var vt=at.rows.length?at.rows.item(0).value:null;vt&&(vt=Qe.serializer.deserialize(vt)),De(vt)},function(lt,at){ke(at)})})}).catch(ke)});return f(Ae,Ee),Ae}function Kr(se,Ee){var de=this,Ae=new d(function(De,ke){de.ready().then(function(){var Qe=de._dbInfo;Qe.db.transaction(function(ot){Zn(ot,Qe,"SELECT * FROM "+Qe.storeName,[],function(lt,at){for(var vt=at.rows,Bt=vt.length,vn=0;vn<Bt;vn++){var Zt=vt.item(vn),jn=Zt.value;if(jn&&(jn=Qe.serializer.deserialize(jn)),jn=se(jn,Zt.key,vn+1),jn!==void 0){De(jn);return}}De()},function(lt,at){ke(at)})})}).catch(ke)});return f(Ae,Ee),Ae}function Yn(se,Ee,de,Ae){var De=this;se=p(se);var ke=new d(function(Qe,ot){De.ready().then(function(){Ee===void 0&&(Ee=null);var lt=Ee,at=De._dbInfo;at.serializer.serialize(Ee,function(vt,Bt){Bt?ot(Bt):at.db.transaction(function(vn){Zn(vn,at,"INSERT OR REPLACE INTO "+at.storeName+" (key, value) VALUES (?, ?)",[se,vt],function(){Qe(lt)},function(Zt,jn){ot(jn)})},function(vn){if(vn.code===vn.QUOTA_ERR){if(Ae>0){Qe(Yn.apply(De,[se,lt,de,Ae-1]));return}ot(vn)}})})}).catch(ot)});return f(ke,de),ke}function Ji(se,Ee,de){return Yn.apply(this,[se,Ee,de,1])}function Go(se,Ee){var de=this;se=p(se);var Ae=new d(function(De,ke){de.ready().then(function(){var Qe=de._dbInfo;Qe.db.transaction(function(ot){Zn(ot,Qe,"DELETE FROM "+Qe.storeName+" WHERE key = ?",[se],function(){De()},function(lt,at){ke(at)})})}).catch(ke)});return f(Ae,Ee),Ae}function Es(se){var Ee=this,de=new d(function(Ae,De){Ee.ready().then(function(){var ke=Ee._dbInfo;ke.db.transaction(function(Qe){Zn(Qe,ke,"DELETE FROM "+ke.storeName,[],function(){Ae()},function(ot,lt){De(lt)})})}).catch(De)});return f(de,se),de}function rr(se){var Ee=this,de=new d(function(Ae,De){Ee.ready().then(function(){var ke=Ee._dbInfo;ke.db.transaction(function(Qe){Zn(Qe,ke,"SELECT COUNT(key) as c FROM "+ke.storeName,[],function(ot,lt){var at=lt.rows.item(0).c;Ae(at)},function(ot,lt){De(lt)})})}).catch(De)});return f(de,se),de}function Ct(se,Ee){var de=this,Ae=new d(function(De,ke){de.ready().then(function(){var Qe=de._dbInfo;Qe.db.transaction(function(ot){Zn(ot,Qe,"SELECT key FROM "+Qe.storeName+" WHERE id = ? LIMIT 1",[se+1],function(lt,at){var vt=at.rows.length?at.rows.item(0).key:null;De(vt)},function(lt,at){ke(at)})})}).catch(ke)});return f(Ae,Ee),Ae}function zr(se){var Ee=this,de=new d(function(Ae,De){Ee.ready().then(function(){var ke=Ee._dbInfo;ke.db.transaction(function(Qe){Zn(Qe,ke,"SELECT key FROM "+ke.storeName,[],function(ot,lt){for(var at=[],vt=0;vt<lt.rows.length;vt++)at.push(lt.rows.item(vt).key);Ae(at)},function(ot,lt){De(lt)})})}).catch(De)});return f(de,se),de}function dn(se){return new d(function(Ee,de){se.transaction(function(Ae){Ae.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(De,ke){for(var Qe=[],ot=0;ot<ke.rows.length;ot++)Qe.push(ke.rows.item(ot).name);Ee({db:se,storeNames:Qe})},function(De,ke){de(ke)})},function(Ae){de(Ae)})})}function Rr(se,Ee){Ee=m.apply(this,arguments);var de=this.config();se=typeof se!="function"&&se||{},se.name||(se.name=se.name||de.name,se.storeName=se.storeName||de.storeName);var Ae=this,De;return se.name?De=new d(function(ke){var Qe;se.name===de.name?Qe=Ae._dbInfo.db:Qe=openDatabase(se.name,"","",0),se.storeName?ke({db:Qe,storeNames:[se.storeName]}):ke(dn(Qe))}).then(function(ke){return new d(function(Qe,ot){ke.db.transaction(function(lt){function at(Zt){return new d(function(jn,tn){lt.executeSql("DROP TABLE IF EXISTS "+Zt,[],function(){jn()},function(wr,As){tn(As)})})}for(var vt=[],Bt=0,vn=ke.storeNames.length;Bt<vn;Bt++)vt.push(at(ke.storeNames[Bt]));d.all(vt).then(function(){Qe()}).catch(function(Zt){ot(Zt)})},function(lt){ot(lt)})})}):De=d.reject("Invalid arguments"),f(De,Ee),De}var Sn={_driver:"webSQLStorage",_initStorage:Bi,_support:ve(),iterate:Kr,getItem:Mr,setItem:Ji,removeItem:Go,clear:Es,length:rr,key:Ct,keys:zr,dropInstance:Rr};function br(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ni(se,Ee){var de=se.name+"/";return se.storeName!==Ee.storeName&&(de+=se.storeName+"/"),de}function Ei(){var se="_localforage_support_test";try{return localStorage.setItem(se,!0),localStorage.removeItem(se),!1}catch{return!0}}function wo(){return!Ei()||localStorage.length>0}function kc(se){var Ee=this,de={};if(se)for(var Ae in se)de[Ae]=se[Ae];return de.keyPrefix=ni(se,Ee._defaultConfig),wo()?(Ee._dbInfo=de,de.serializer=Gn,d.resolve()):d.reject()}function lf(se){var Ee=this,de=Ee.ready().then(function(){for(var Ae=Ee._dbInfo.keyPrefix,De=localStorage.length-1;De>=0;De--){var ke=localStorage.key(De);ke.indexOf(Ae)===0&&localStorage.removeItem(ke)}});return f(de,se),de}function Ac(se,Ee){var de=this;se=p(se);var Ae=de.ready().then(function(){var De=de._dbInfo,ke=localStorage.getItem(De.keyPrefix+se);return ke&&(ke=De.serializer.deserialize(ke)),ke});return f(Ae,Ee),Ae}function uf(se,Ee){var de=this,Ae=de.ready().then(function(){for(var De=de._dbInfo,ke=De.keyPrefix,Qe=ke.length,ot=localStorage.length,lt=1,at=0;at<ot;at++){var vt=localStorage.key(at);if(vt.indexOf(ke)===0){var Bt=localStorage.getItem(vt);if(Bt&&(Bt=De.serializer.deserialize(Bt)),Bt=se(Bt,vt.substring(Qe),lt++),Bt!==void 0)return Bt}}});return f(Ae,Ee),Ae}function Tn(se,Ee){var de=this,Ae=de.ready().then(function(){var De=de._dbInfo,ke;try{ke=localStorage.key(se)}catch{ke=null}return ke&&(ke=ke.substring(De.keyPrefix.length)),ke});return f(Ae,Ee),Ae}function Ta(se){var Ee=this,de=Ee.ready().then(function(){for(var Ae=Ee._dbInfo,De=localStorage.length,ke=[],Qe=0;Qe<De;Qe++){var ot=localStorage.key(Qe);ot.indexOf(Ae.keyPrefix)===0&&ke.push(ot.substring(Ae.keyPrefix.length))}return ke});return f(de,se),de}function Gs(se){var Ee=this,de=Ee.keys().then(function(Ae){return Ae.length});return f(de,se),de}function Ic(se,Ee){var de=this;se=p(se);var Ae=de.ready().then(function(){var De=de._dbInfo;localStorage.removeItem(De.keyPrefix+se)});return f(Ae,Ee),Ae}function Rc(se,Ee,de){var Ae=this;se=p(se);var De=Ae.ready().then(function(){Ee===void 0&&(Ee=null);var ke=Ee;return new d(function(Qe,ot){var lt=Ae._dbInfo;lt.serializer.serialize(Ee,function(at,vt){if(vt)ot(vt);else try{localStorage.setItem(lt.keyPrefix+se,at),Qe(ke)}catch(Bt){(Bt.name==="QuotaExceededError"||Bt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ot(Bt),ot(Bt)}})})});return f(De,de),De}function cf(se,Ee){if(Ee=m.apply(this,arguments),se=typeof se!="function"&&se||{},!se.name){var de=this.config();se.name=se.name||de.name,se.storeName=se.storeName||de.storeName}var Ae=this,De;return se.name?De=new d(function(ke){se.storeName?ke(ni(se,Ae._defaultConfig)):ke(se.name+"/")}).then(function(ke){for(var Qe=localStorage.length-1;Qe>=0;Qe--){var ot=localStorage.key(Qe);ot.indexOf(ke)===0&&localStorage.removeItem(ot)}}):De=d.reject("Invalid arguments"),f(De,Ee),De}var df={_driver:"localStorageWrapper",_initStorage:kc,_support:br(),iterate:uf,getItem:Ac,setItem:Rc,removeItem:Ic,clear:lf,length:Gs,key:Tn,keys:Ta,dropInstance:cf},Dc=function(Ee,de){return Ee===de||typeof Ee=="number"&&typeof de=="number"&&isNaN(Ee)&&isNaN(de)},Pm=function(Ee,de){for(var Ae=Ee.length,De=0;De<Ae;){if(Dc(Ee[De],de))return!0;De++}return!1},Pc=Array.isArray||function(se){return Object.prototype.toString.call(se)==="[object Array]"},er={},Wh={},Cs={INDEXEDDB:ue,WEBSQL:Sn,LOCALSTORAGE:df},Wl=[Cs.INDEXEDDB._driver,Cs.WEBSQL._driver,Cs.LOCALSTORAGE._driver],Ss=["dropInstance"],Oc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ss),Om={description:"",driver:Wl.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Su(se,Ee){se[Ee]=function(){var de=arguments;return se.ready().then(function(){return se[Ee].apply(se,de)})}}function Ts(){for(var se=1;se<arguments.length;se++){var Ee=arguments[se];if(Ee)for(var de in Ee)Ee.hasOwnProperty(de)&&(Pc(Ee[de])?arguments[0][de]=Ee[de].slice():arguments[0][de]=Ee[de])}return arguments[0]}var Nm=(function(){function se(Ee){o(this,se);for(var de in Cs)if(Cs.hasOwnProperty(de)){var Ae=Cs[de],De=Ae._driver;this[de]=De,er[De]||this.defineDriver(Ae)}this._defaultConfig=Ts({},Om),this._config=Ts({},this._defaultConfig,Ee),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return se.prototype.config=function(de){if((typeof de>"u"?"undefined":s(de))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Ae in de){if(Ae==="storeName"&&(de[Ae]=de[Ae].replace(/\W/g,"_")),Ae==="version"&&typeof de[Ae]!="number")return new Error("Database version must be a number.");this._config[Ae]=de[Ae]}return"driver"in de&&de.driver?this.setDriver(this._config.driver):!0}else return typeof de=="string"?this._config[de]:this._config},se.prototype.defineDriver=function(de,Ae,De){var ke=new d(function(Qe,ot){try{var lt=de._driver,at=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!de._driver){ot(at);return}for(var vt=Oc.concat("_initStorage"),Bt=0,vn=vt.length;Bt<vn;Bt++){var Zt=vt[Bt],jn=!Pm(Ss,Zt);if((jn||de[Zt])&&typeof de[Zt]!="function"){ot(at);return}}var tn=function(){for(var ol=function(xo){return function(){var Di=new Error("Method "+xo+" is not implemented by the current driver"),Ys=d.reject(Di);return f(Ys,arguments[arguments.length-1]),Ys}},Tu=0,$m=Ss.length;Tu<$m;Tu++){var ff=Ss[Tu];de[ff]||(de[ff]=ol(ff))}};tn();var wr=function(ol){er[lt]&&console.info("Redefining LocalForage driver: "+lt),er[lt]=de,Wh[lt]=ol,Qe()};"_support"in de?de._support&&typeof de._support=="function"?de._support().then(wr,ot):wr(!!de._support):wr(!0)}catch(As){ot(As)}});return h(ke,Ae,De),ke},se.prototype.driver=function(){return this._driver||null},se.prototype.getDriver=function(de,Ae,De){var ke=er[de]?d.resolve(er[de]):d.reject(new Error("Driver not found."));return h(ke,Ae,De),ke},se.prototype.getSerializer=function(de){var Ae=d.resolve(Gn);return h(Ae,de),Ae},se.prototype.ready=function(de){var Ae=this,De=Ae._driverSet.then(function(){return Ae._ready===null&&(Ae._ready=Ae._initDriver()),Ae._ready});return h(De,de,de),De},se.prototype.setDriver=function(de,Ae,De){var ke=this;Pc(de)||(de=[de]);var Qe=this._getSupportedDrivers(de);function ot(){ke._config.driver=ke.driver()}function lt(Bt){return ke._extend(Bt),ot(),ke._ready=ke._initStorage(ke._config),ke._ready}function at(Bt){return function(){var vn=0;function Zt(){for(;vn<Bt.length;){var jn=Bt[vn];return vn++,ke._dbInfo=null,ke._ready=null,ke.getDriver(jn).then(lt).catch(Zt)}ot();var tn=new Error("No available storage method found.");return ke._driverSet=d.reject(tn),ke._driverSet}return Zt()}}var vt=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=vt.then(function(){var Bt=Qe[0];return ke._dbInfo=null,ke._ready=null,ke.getDriver(Bt).then(function(vn){ke._driver=vn._driver,ot(),ke._wrapLibraryMethodsWithReady(),ke._initDriver=at(Qe)})}).catch(function(){ot();var Bt=new Error("No available storage method found.");return ke._driverSet=d.reject(Bt),ke._driverSet}),h(this._driverSet,Ae,De),this._driverSet},se.prototype.supports=function(de){return!!Wh[de]},se.prototype._extend=function(de){Ts(this,de)},se.prototype._getSupportedDrivers=function(de){for(var Ae=[],De=0,ke=de.length;De<ke;De++){var Qe=de[De];this.supports(Qe)&&Ae.push(Qe)}return Ae},se.prototype._wrapLibraryMethodsWithReady=function(){for(var de=0,Ae=Oc.length;de<Ae;de++)Su(this,Oc[de])},se.prototype.createInstance=function(de){return new se(de)},se})(),ks=new Nm;r.exports=ks},{3:3}]},{},[4])(4)})})(v7)),v7.exports}var Pen=Den();const fMe=qs(Pen),Io=[];for(let e=0;e<256;++e)Io.push((e+256).toString(16).slice(1));function Oen(e,t=0){return(Io[e[t+0]]+Io[e[t+1]]+Io[e[t+2]]+Io[e[t+3]]+"-"+Io[e[t+4]]+Io[e[t+5]]+"-"+Io[e[t+6]]+Io[e[t+7]]+"-"+Io[e[t+8]]+Io[e[t+9]]+"-"+Io[e[t+10]]+Io[e[t+11]]+Io[e[t+12]]+Io[e[t+13]]+Io[e[t+14]]+Io[e[t+15]]).toLowerCase()}let b7;const Nen=new Uint8Array(16);function $en(){if(!b7){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");b7=crypto.getRandomValues.bind(crypto)}return b7(Nen)}const Men=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jge={randomUUID:Men};function Fen(e,t,n){var i;if(Jge.randomUUID&&!e)return Jge.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??$en();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Oen(r)}var w7,Zge;function Len(){if(Zge)return w7;Zge=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=typeof Ls=="object"&&Ls&&Ls.Object===Object&&Ls,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(S,T,k){var I,R,O,M,$,L,U=0,B=!1,V=!1,G=!0;if(typeof S!="function")throw new TypeError(e);T=C(T)||0,y(k)&&(B=!!k.leading,V="maxWait"in k,O=V?h(C(k.maxWait)||0,T):O,G="trailing"in k?!!k.trailing:G);function Y(oe){var ie=I,he=R;return I=R=void 0,U=oe,M=S.apply(he,ie),M}function z(oe){return U=oe,$=setTimeout(q,T),B?Y(oe):M}function F(oe){var ie=oe-L,he=oe-U,ee=T-ie;return V?p(ee,O-he):ee}function W(oe){var ie=oe-L,he=oe-U;return L===void 0||ie>=T||ie<0||V&&he>=O}function q(){var oe=m();if(W(oe))return K(oe);$=setTimeout(q,F(oe))}function K(oe){return $=void 0,G&&I?Y(oe):(I=R=void 0,M)}function J(){$!==void 0&&clearTimeout($),U=0,I=L=R=$=void 0}function te(){return $===void 0?M:K(m())}function le(){var oe=m(),ie=W(oe);if(I=arguments,R=this,L=oe,ie){if($===void 0)return z(L);if(V)return $=setTimeout(q,T),Y(L)}return $===void 0&&($=setTimeout(q,T)),M}return le.cancel=J,le.flush=te,le}function v(S,T,k){var I=!0,R=!0;if(typeof S!="function")throw new TypeError(e);return y(k)&&(I="leading"in k?!!k.leading:I,R="trailing"in k?!!k.trailing:R),g(S,T,{leading:I,maxWait:T,trailing:R})}function y(S){var T=typeof S;return!!S&&(T=="object"||T=="function")}function w(S){return!!S&&typeof S=="object"}function E(S){return typeof S=="symbol"||w(S)&&f.call(S)==n}function C(S){if(typeof S=="number")return S;if(E(S))return t;if(y(S)){var T=typeof S.valueOf=="function"?S.valueOf():S;S=y(T)?T+"":T}if(typeof S!="string")return S===0?S:+S;S=S.replace(r,"");var k=s.test(S);return k||o.test(S)?a(S.slice(2),k?2:8):i.test(S)?t:+S}return w7=v,w7}var jen=Len();const eye=qs(jen);class hMe{constructor(t,n){gl(this,"engine");gl(this,"testing");gl(this,"cloudEngine",!1);gl(this,"connected",!1);gl(this,"localForage",fMe.createInstance({name:"revisit"}));gl(this,"collectionPrefix","prod-");gl(this,"studyId");gl(this,"currentParticipantId");gl(this,"participantData");gl(this,"__throttleVerifyStudyDatabase",eye(async()=>{await this._verifyStudyDatabase()},1e4));gl(this,"__throttleSaveAnswers",eye(async()=>{await this._saveAnswers()},3e3));this.engine=t,this.testing=n}isConnected(){return this.connected}getEngine(){return this.engine}isCloudEngine(){return this.cloudEngine}async verifyStudyDatabase(){return await this.__throttleVerifyStudyDatabase()}async saveConfig(t){const n=await this._getCurrentConfigHash(),r=await Fz(JSON.stringify(t));if(await this._pushToStorage(`configs/${r}`,"config",t),await this._cacheStorageObject(`configs/${r}`,"config"),n&&n!==r){try{await this._deleteFromStorage("","sequenceArray")}catch{}await this.clearCurrentParticipantId()}await this._setCurrentConfigHash(r)}async getAllConfigsFromHash(t,n){const r=t.map(async s=>[s,await this._getFromStorage(`configs/${s}`,"config",n)]),i=await Promise.all(r);return Object.fromEntries(i)}async getCurrentParticipantId(t){if(t)return this.currentParticipantId=t,t;if(this.currentParticipantId)return this.currentParticipantId;if(!this.studyId)throw new Error("Study ID is not set");const n=await this.localForage.getItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`);return n?(this.currentParticipantId=n,n):(this.currentParticipantId=Fen(),await this.localForage.setItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`,this.currentParticipantId),this.currentParticipantId)}async clearCurrentParticipantId(){if(this.currentParticipantId=void 0,!this.studyId)throw new Error("Study ID is not set");return await this.localForage.removeItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`)}async _getSequence(){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");let t=await this._getAllSequenceAssignments(this.studyId);const n=await this.getModes(this.studyId),r=t.filter(u=>u.rejected&&!u.claimed);if(r.length>0){const u=r[0],c=u.timestamp;if(n.dataCollectionEnabled){const d={participantId:this.currentParticipantId,timestamp:c,rejected:!1,claimed:!1,completed:null,createdTime:new Date().getTime()};await this._claimSequenceAssignment(u.participantId,u),await this._createSequenceAssignment(this.currentParticipantId,d,!1)}}else if(n.dataCollectionEnabled){const u=new Date().getTime(),c={participantId:this.currentParticipantId,timestamp:u,rejected:!1,claimed:!1,completed:null,createdTime:u};await this._createSequenceAssignment(this.currentParticipantId,c,!0)}t=await this._getAllSequenceAssignments(this.studyId);const i=await this.getSequenceArray();if(!i)throw new Error("Latin square not initialized");const s=t.filter(u=>!u.rejected).findIndex(u=>u.participantId===this.currentParticipantId)%i.length;if(i.length===0)throw new Error("Something really bad happened with sequence assignment");if(s===-1)return{currentRow:i[Math.floor(Math.random()*i.length)],creationIndex:1};const o=i[s];if(!o)throw new Error("Latin square is empty");const l=t.sort((u,c)=>u.createdTime-c.createdTime).findIndex(u=>u.participantId===this.currentParticipantId)+1;return{currentRow:o,creationIndex:l}}async initializeParticipantSession(t,n,r,i){if(await this.verifyStudyDatabase(),await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this._getFromStorage(`participants/${this.currentParticipantId}`,"participantData");if(this.studyId===void 0)throw new Error("Study ID is not set");const o=await this.getModes(this.studyId);if(jI(s))return this.participantData=s,s;const a=await Fz(JSON.stringify(n)),{currentRow:l,creationIndex:u}=await this._getSequence();return this.participantData={participantId:this.currentParticipantId,participantConfigHash:a,sequence:l,participantIndex:u,answers:{},searchParams:t,metadata:r,completed:!1,rejected:!1,participantTags:[]},o.dataCollectionEnabled&&await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getAllParticipantIds(t){const n=this.studyId||t;if(n===void 0)throw new Error("Study ID is not set");return(await this._getAllSequenceAssignments(n)).map(i=>i.participantId)}async getParticipantData(t){if(await this.verifyStudyDatabase(),this.currentParticipantId===null&&!t)throw new Error("Participant not initialized");const n=await this._getFromStorage(`participants/${t||this.currentParticipantId}`,"participantData");return jI(n)?n:null}async getParticipantTags(){await this.verifyStudyDatabase();const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");return t.participantTags}async addParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=[...new Set([...this.participantData.participantTags,...t])],await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async removeParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=this.participantData.participantTags.filter(n=>!t.includes(n)),await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async rejectParticipant(t,n,r){const i=await this._getFromStorage(`participants/${t}`,"participantData",r);try{if(!i||!jI(i)||i.rejected)return;i.rejected={reason:n,timestamp:new Date().getTime()},await this._pushToStorage(`participants/${t}`,"participantData",i),await this._rejectParticipantRealtime(t)}catch(s){console.warn("Error rejecting participant:",s)}}async rejectCurrentParticipant(t){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.rejectParticipant(this.currentParticipantId,t)}async getAllParticipantsData(t){const n=await this.getAllParticipantIds(t),r=[],i=n.map(async s=>{const o=await this._getFromStorage(`participants/${s}`,"participantData",t);jI(o)&&r.push(o)});return await Promise.all(i),r}async getParticipantsStatusCounts(t){const n=await this._getAllSequenceAssignments(t),r=n.filter(l=>l.completed&&!l.rejected).length,i=n.filter(l=>l.rejected).length,s=n.length-r-i,o=n.length>0?n[0].timestamp:null,a=n.length>0?n.at(-1).timestamp:null;return{completed:r,rejected:i,inProgress:s,minTime:o,maxTime:a}}async _saveAnswers(){if(await this.verifyStudyDatabase(),!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async saveAnswers(t){if(!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");this.participantData={...this.participantData,answers:t},await this.__throttleSaveAnswers(t)}async verifyCompletion(){var s;if(await this.verifyStudyDatabase(),!this.studyId)throw new Error("Study not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");if(t.completed)return!0;const n=await this.getModes(this.studyId),r=Object.values(t.answers).map(o=>o.endTime).reduce((o,a)=>Math.max(o,a),0),i=Object.values(((s=this.participantData)==null?void 0:s.answers)||{}).map(o=>o.endTime).reduce((o,a)=>Math.max(o,a),0);return this.participantData&&r===i?(this.participantData.completed=!0,n.dataCollectionEnabled&&(await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),await this._cacheStorageObject(`participants/${this.currentParticipantId}`,"participantData"),await this._completeCurrentParticipantRealtime()),!0):!1}async getAudio(t,n){const r=await this._getAudioUrl(t,n);return r?new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{const a=o.response,l=URL.createObjectURL(a);s(l)},o.open("GET",r),o.send()}):null}async saveAudio(t,n){let r=null;const i=async s=>{r||(r=setTimeout(async()=>{await this._pushToStorage(`audio/${this.currentParticipantId}`,n,s.data),await this._cacheStorageObject(`audio/${this.currentParticipantId}`,n)},500))};t.addEventListener("dataavailable",i),t.requestData()}async getSequenceArray(){await this.verifyStudyDatabase();const t=await this._getFromStorage("","sequenceArray");return Array.isArray(t)?t:null}async setSequenceArray(t){await this.verifyStudyDatabase(),await this._pushToStorage("","sequenceArray",t)}async __testingReset(){this.currentParticipantId=void 0,this.participantData=void 0,this.localForage.setItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`,void 0)}async createSnapshot(t,n){const r=`${this.collectionPrefix}${t}`;if(!await this._directoryExists(`${r}/participants`))return console.warn(`Source directory ${r} does not exist.`),{status:"FAILED",error:{message:"There is currently no data in your study. A snapshot could not be created.",title:"Failed to Create Snapshot."}};const i=new Date,s=i.getUTCFullYear(),o=(i.getUTCMonth()+1).toString().padStart(2,"0"),a=i.getUTCDate().toString().padStart(2,"0"),l=i.getUTCHours().toString().padStart(2,"0"),u=i.getUTCMinutes().toString().padStart(2,"0"),c=i.getUTCSeconds().toString().padStart(2,"0"),d=`${s}-${o}-${a}T${l}:${u}:${c}`,f=`${this.collectionPrefix}${t}-snapshot-${d}`;this.getEngine()==="localStorage"?await this._copyDirectory(`${r}/`,`${f}/`):(await this._copyDirectory(`${r}/configs`,`${f}/configs`),await this._copyDirectory(`${r}/participants`,`${f}/participants`),await this._copyDirectory(`${r}/audio`,`${f}/audio`),await this._copyDirectory(r,f),await this._copyRealtimeData(r,f)),await this._addDirectoryNameToSnapshots(f,t);const h=[];if(n){const p=await this.removeSnapshotOrLive(r,t);p.status==="FAILED"?h.push({title:p.error.title,message:p.error.message,color:"red"}):h.push({title:"Success!",message:"Successfully deleted live data.",color:"green"})}return h.push({message:"Successfully created snapshot",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:h}}async removeSnapshotOrLive(t,n){const r=t.startsWith(this.collectionPrefix)?t:`${this.collectionPrefix}${t}`;try{return this.getEngine()==="localStorage"?await this._deleteDirectory(`${r}/`):(await this._deleteDirectory(`${r}/configs`),await this._deleteDirectory(`${r}/participants`),await this._deleteDirectory(`${r}/audio`),await this._deleteDirectory(r),await this._deleteRealtimeData(r)),await this._removeDirectoryNameFromSnapshots(r,n),{status:"SUCCESS",notifications:[{message:"Successfully deleted snapshot or live data.",title:"Success!",color:"green"}]}}catch{return{status:"FAILED",error:{title:"Failed to delete live data or snapshot",message:"There was an unspecified error when trying to remove a snapshot or live data."}}}}async restoreSnapshot(t,n){const r=`${this.collectionPrefix}${t}`,i=[];try{const s=await this.createSnapshot(t,!0);return s.status==="FAILED"?(console.warn("No live data to capture."),i.push({title:s.error.title,message:s.error.message,color:"yellow"})):i.push({title:"Success!",message:"Successfully created snapshot of live data.",color:"green"}),await this._copyDirectory(`${n}/configs`,`${r}/configs`),await this._copyDirectory(`${n}/participants`,`${r}/participants`),await this._copyDirectory(`${n}/audio`,`${r}/audio`),await this._copyDirectory(n,r),await this._copyRealtimeData(n,r),i.push({message:"Successfully restored snapshot to live data.",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:i}}catch(s){return console.error("Error trying to delete a snapshot",s),{status:"FAILED",error:{title:"Failed to restore a snapshot fully.",message:"There was an unspecified error when trying to restore this snapshot."}}}}async renameSnapshot(t,n,r){try{return await this._changeDirectoryNameInSnapshots(t,n,r),{status:"SUCCESS",notifications:[{message:"Successfully renamed snapshot.",title:"Success!",color:"green"}]}}catch(i){return console.error("Error renaming collection in metadata",i),{status:"FAILED",error:{title:"Failed to Rename Snapshot.",message:"There was an error when trying to rename the snapshot."}}}}}class Ben extends hMe{constructor(n=!1){super("localStorage",n);gl(this,"studyDatabase",fMe.createInstance({name:"revisit"}))}async _getFromStorage(n,r,i){const s=`${this.collectionPrefix}${i||this.studyId}/${n}_${r}`;return await this.studyDatabase.getItem(s)}async _pushToStorage(n,r,i){await this.verifyStudyDatabase();const s=`${this.collectionPrefix}${this.studyId}/${n}_${r}`;await this.studyDatabase.setItem(s,i)}async _deleteFromStorage(n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${this.studyId}/${n}_${r}`;await this.studyDatabase.removeItem(i)}async _cacheStorageObject(){}async _verifyStudyDatabase(){if(!this.studyDatabase||!this.studyId)throw new Error("Study database not initialized")}async _getCurrentConfigHash(){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/configHash`;return await this.studyDatabase.getItem(n)||null}async _setCurrentConfigHash(n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/configHash`;await this.studyDatabase.setItem(r,n)}async _getAllSequenceAssignments(n){const r=`${this.collectionPrefix}${n}/sequenceAssignment`,i=await this.studyDatabase.getItem(r);return i?Object.values(i).sort((s,o)=>s.timestamp-o.timestamp):[]}async _createSequenceAssignment(n,r){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const i=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,s=await this.studyDatabase.getItem(i)||{};s[n]=r,await this.studyDatabase.setItem(i,s)}async _completeCurrentParticipantRealtime(){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");const n=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,r=await this.studyDatabase.getItem(n)||{};if(r[this.currentParticipantId])r[this.currentParticipantId]={...r[this.currentParticipantId],completed:new Date().getTime()};else throw new Error("Participant sequence assignment not found");await this.studyDatabase.setItem(n,r)}async _rejectParticipantRealtime(n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{},s=i[n],o=Object.values(i).find(a=>a.claimed&&a.timestamp===s.timestamp);if(s&&o){o.claimed=!1,o.rejected=!0,await this.studyDatabase.setItem(r,i),i[n]={...s,timestamp:new Date().getTime(),rejected:!0},await this.studyDatabase.setItem(r,i);return}s&&(s.rejected=!0,await this.studyDatabase.setItem(r,i))}async _claimSequenceAssignment(n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,s=await this.studyDatabase.getItem(i)||{};if(s[n])s[n]={...r,claimed:!0},await this.studyDatabase.setItem(i,s);else throw new Error(`Sequence assignment for participant ${n} not found`)}async initializeStudyDb(n){this.studyId=n}async connect(){this.connected=!0}async getModes(n){const r=`${this.collectionPrefix}${n}/modes`,i=await this.studyDatabase.getItem(r);if(i)return i;const s={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return this.studyDatabase.setItem(r,s),s}async setMode(n,r,i){const s=`${this.collectionPrefix}${n}/modes`,o=await this.studyDatabase.getItem(s);if(!o)throw new Error("Modes not initialized");o[r]=i,this.studyDatabase.setItem(s,o)}async _getAudioUrl(n,r){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const i=await this._getFromStorage(`audio/${r||this.currentParticipantId}`,n);if(!i)throw new Error(`Audio for task ${n} and participant ${r||this.currentParticipantId} not found`);return URL.createObjectURL(i)}async _testingReset(n){if(!n)throw new Error("Study ID is required for reset");const i=(await this.studyDatabase.keys()).filter(s=>s.startsWith(`${this.collectionPrefix}${n}/`));await Promise.all(i.map(s=>this.studyDatabase.removeItem(s))),await super.__testingReset()}async getSnapshots(n){const r=`${this.collectionPrefix}${n}/snapshots`;return await this.studyDatabase.getItem(r)||{}}async _directoryExists(n){return(await this.studyDatabase.keys()).some(i=>i.startsWith(n))}async _copyDirectory(n,r){const o=(await this.studyDatabase.keys()).filter(a=>a.startsWith(n)).map(async a=>{if(a.endsWith("/snapshots")||a.endsWith("modes")||a.endsWith("configHash")||a.endsWith("currentParticipantId"))return;const l=await this.studyDatabase.getItem(a),u=a.replace(n,r);await this.studyDatabase.setItem(u,l)});await Promise.all(o)}async _deleteDirectory(n){const s=(await this.studyDatabase.keys()).filter(o=>o.startsWith(n)&&!o.includes("snapshots")).map(o=>this.studyDatabase.removeItem(o));await Promise.all(s)}async _copyRealtimeData(n,r){await this._copyDirectory(n,r)}async _deleteRealtimeData(n){await this._deleteDirectory(n)}async _addDirectoryNameToSnapshots(n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${r}/snapshots`,s=await this.studyDatabase.getItem(i)||{};s[n]||(s[n]={name:n},await this.studyDatabase.setItem(i,s))}async _removeDirectoryNameFromSnapshots(n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${r}/snapshots`,s=await this.studyDatabase.getItem(i)||{};s[n]&&(delete s[n],await this.studyDatabase.setItem(i,s))}async _changeDirectoryNameInSnapshots(n,r,i){await this.verifyStudyDatabase();const s=`${this.collectionPrefix}${i}/snapshots`,o=await this.studyDatabase.getItem(s)||{};if(o[n])o[n]={name:r},await this.studyDatabase.setItem(s,o);else throw new Error(`Snapshot with name ${n} does not exist`)}}var x7,tye;function t8(){if(tye)return x7;tye=1;var e=qke;function t(o,a){var l,u="",c=0,d=!0,f=0,h;function p(){return h=o.charAt(f),f++,h}for(p(),h==="-"&&(u="-",p());h>="0"&&h<="9";)d&&(h=="0"?c++:d=!1),u+=h,p();if(d&&c--,h===".")for(u+=".";p()&&h>="0"&&h<="9";)u+=h;if(h==="e"||h==="E")for(u+=h,p(),(h==="-"||h==="+")&&(u+=h,p());h>="0"&&h<="9";)u+=h,p();for(;h&&h<=" ";)p();if(a&&(h===","||h==="}"||h==="]"||h==="#"||h==="/"&&(o[f]==="/"||o[f]==="*"))&&(h=0),l=+u,!(h||c||!isFinite(l)))return l}function n(o,a){return Object.defineProperty&&Object.defineProperty(o,"__COMMENTS__",{enumerable:!1,writable:!0}),o.__COMMENTS__=a||{}}function r(o){Object.defineProperty(o,"__COMMENTS__",{value:void 0})}function i(o){return o.__COMMENTS__}function s(o){if(!o)return"";var a=o.split(`
`),l,u,c,d;for(c=0;c<a.length;c++)for(l=a[c],d=l.length,u=0;u<d;u++){var f=l[u];if(f==="#")break;if(f==="/"&&(l[u+1]==="/"||l[u+1]==="*")){l[u+1]==="*"&&(c=a.length);break}else if(f>" "){a[c]="# "+l;break}}return a.join(`
`)}return x7={EOL:e.EOL||`
`,tryParseNumber:t,createComment:n,removeComment:r,getComment:i,forceComment:s},x7}var _7,nye;function zen(){return nye||(nye=1,_7="3.2.1"),_7}var E7,rye;function Rte(){if(rye)return E7;rye=1;function e(a,l){if(Object.prototype.toString.apply(a)!=="[object Array]"){if(a)throw new Error("dsf option must contain an array!");return n}else if(a.length===0)return n;var u=[];function c(d){return{}.toString.call(d)==="[object Function]"}return a.forEach(function(d){if(!d.name||!c(d.parse)||!c(d.stringify))throw new Error("extension does not match the DSF interface");u.push(function(){try{if(l=="parse")return d.parse.apply(null,arguments);if(l=="stringify"){var f=d.stringify.apply(null,arguments);if(f!==void 0&&(typeof f!="string"||f.length===0||f[0]==='"'||[].some.call(f,function(h){return r(h)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+f);return f}else throw new Error("Invalid type")}catch(h){throw new Error("DSF-"+d.name+" failed; "+h.message)}})}),t.bind(null,u)}function t(a,l){if(a)for(var u=0;u<a.length;u++){var c=a[u](l);if(c!==void 0)return c}}function n(){}function r(a){return a==="{"||a==="}"||a==="["||a==="]"||a===","}function i(){return{name:"math",parse:function(a){switch(a){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(a){if(typeof a=="number"){if(1/a===-1/0)return"-0";if(a===1/0)return"Inf";if(a===-1/0)return"-Inf";if(isNaN(a))return"NaN"}}}}i.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function s(a){var l=a&&a.out;return{name:"hex",parse:function(u){if(/^0x[0-9A-Fa-f]+$/.test(u))return parseInt(u,16)},stringify:function(u){if(l&&Number.isInteger(u))return"0x"+u.toString(16)}}}s.description="parse hexadecimal numbers prefixed with 0x";function o(){return{name:"date",parse:function(a){if(/^\d{4}-\d{2}-\d{2}$/.test(a)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(a)){var l=Date.parse(a);if(!isNaN(l))return new Date(l)}},stringify:function(a){if(Object.prototype.toString.call(a)==="[object Date]"){var l=a.toISOString();return l.indexOf("T00:00:00.000Z",l.length-14)!==-1?l.substr(0,10):l}}}}return o.description="support ISO dates",E7={loadDsf:e,std:{math:i,hex:s,date:o}},E7}var C7,iye;function Uen(){return iye||(iye=1,C7=function(e,t){var n=t8(),r=Rte(),i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){s=0,o=" "}function d(L){return L==="{"||L==="}"||L==="["||L==="]"||L===","||L===":"}function f(L){var U,B=0,V=1;for(U=s-1;U>0&&i[U]!==`
`;U--,B++);for(;U>0;U--)i[U]===`
`&&V++;throw new Error(L+" at line "+V+","+B+" >>>"+i.substr(s-B,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(L){return i.charAt(s+L)}function m(L){for(var U="",B=o;h();){if(o===B)return h(),L&&B==="'"&&o==="'"&&U.length===0?(h(),g()):U;if(o==="\\")if(h(),o==="u"){for(var V=0,G=0;G<4;G++){h();var Y=o.charCodeAt(0),z;o>="0"&&o<="9"?z=Y-48:o>="a"&&o<="f"?z=Y-97+10:o>="A"&&o<="F"?z=Y-65+10:f("Bad \\u char "+o),V=V*16+z}U+=String.fromCharCode(V)}else if(typeof a[o]=="string")U+=a[o];else break;else o===`
`||o==="\r"?f("Bad string containing newline"):U+=o}f("Bad string")}function g(){for(var L="",U=0,B=0;;){var V=p(-B-5);if(!V||V===`
`)break;B++}function G(){for(var Y=B;o&&o<=" "&&o!==`
`&&Y-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),G());;){if(!o)f("Bad multiline string");else if(o==="'"){if(U++,h(),U===3)return L.slice(-1)===`
`&&(L=L.slice(0,-1)),L;continue}else for(;U>0;)L+="'",U--;o===`
`?(L+=`
`,h(),G()):(o!=="\r"&&(L+=o),h())}}function v(){if(o==='"'||o==="'")return m(!1);for(var L="",U=s,B=-1;;){if(o===":")return L?B>=0&&B!==L.length&&(s=U+B,f("Found whitespace in your key name (use quotes to include)")):f("Found ':' but no key name (for an empty key name use quotes)"),L;o<=" "?o?B<0&&(B=L.length):f("Found EOF while looking for a key name (check your syntax)"):d(o)?f("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):L+=o,h()}}function y(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function w(){var L=o;for(d(o)&&f("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var U=o==="\r"||o===`
`||o==="";if(U||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var B=L[0];switch(B){case"f":if(L.trim()==="false")return!1;break;case"n":if(L.trim()==="null")return null;break;case"t":if(L.trim()==="true")return!0;break;default:if(B==="-"||B>="0"&&B<="9"){var V=n.tryParseNumber(L);if(V!==void 0)return V}}if(U){L=L.trim();var G=u(L);return G!==void 0?G:L}}L+=o}}function E(L,U){var B;for(L--,B=s-2;B>L&&i[B]<=" "&&i[B]!==`
`;B--);i[B]===`
`&&B--,i[B]==="\r"&&B--;var V=i.substr(L,B-L+1);for(B=0;B<V.length;B++)if(V[B]>" "){var G=V.indexOf(`
`);if(G>=0){var Y=[V.substr(0,G),V.substr(G+1)];return U&&Y[0].trim().length===0&&Y.shift(),Y}else return[V]}return[]}function C(L){function U(V,G){var Y,z,F,W;switch(typeof V){case"string":V.indexOf(G)>=0&&(W=V);break;case"object":if(Object.prototype.toString.apply(V)==="[object Array]")for(Y=0,F=V.length;Y<F;Y++)W=U(V[Y],G)||W;else for(z in V)Object.prototype.hasOwnProperty.call(V,z)&&(W=U(V[z],G)||W)}return W}function B(V){var G=U(L,V);return G?"found '"+V+`' in a string value, your mistake could be with:
  > `+G+`
  (unquoted strings contain everything up to the next line!)`:""}return B("}")||B("]")}function S(){var L=[],U,B,V;try{if(l&&(U=n.createComment(L,{a:[]})),h(),B=s,y(),U&&(V=E(B,!0).join(`
`)),o==="]")return h(),U&&(U.e=[V]),L;for(;o;){if(L.push(k()),B=s,y(),o===","&&(h(),B=s,y()),U){var G=E(B);U.a.push([V||"",G[0]||""]),V=G[1]}if(o==="]")return h(),U&&(U.a[U.a.length-1][1]+=V||""),L;y()}f("End of input while parsing an array (missing ']')")}catch(Y){throw Y.hint=Y.hint||C(L),Y}}function T(L){var U="",B={},V,G,Y;try{if(l&&(V=n.createComment(B,{c:{},o:[]})),L?G=1:(h(),G=s),y(),V&&(Y=E(G,!0).join(`
`)),o==="}"&&!L)return V&&(V.e=[Y]),h(),B;for(;o;){if(U=v(),y(),o!==":"&&f("Expected ':' instead of '"+o+"'"),h(),B[U]=k(),G=s,y(),o===","&&(h(),G=s,y()),V){var z=E(G);V.c[U]=[Y||"",z[0]||""],Y=z[1],V.o.push(U)}if(o==="}"&&!L)return h(),V&&(V.c[U][1]+=Y||""),B;y()}if(L)return B;f("End of input while parsing an object (missing '}')")}catch(F){throw F.hint=F.hint||C(B),F}}function k(){switch(y(),o){case"{":return T();case"[":return S();case"'":case'"':return m(!0);default:return w()}}function I(L,U){var B=s;if(y(),o&&f("Syntax error, found trailing characters"),l){var V=U.join(`
`),G=E(B).join(`
`);if(G||V){var Y=n.createComment(L,n.getComment(L));Y.r=[V,G]}}return L}function R(){y();var L=l?E(1):null;switch(o){case"{":return I(T(),L);case"[":return I(S(),L);default:return I(k(),L)}}function O(){y();var L=l?E(1):null;switch(o){case"{":return I(T(),L);case"[":return I(S(),L)}try{return I(T(!0),L)}catch(U){c();try{return I(k(),L)}catch{throw U}}}if(typeof e!="string")throw new Error("source is not a string");var M=null,$=!0;return t&&typeof t=="object"&&(l=t.keepWsc,M=t.dsf,$=t.legacyRoot!==!1),u=r.loadDsf(M,"parse"),i=e,c(),$?O():R()}),C7}var S7,sye;function qen(){return sye||(sye=1,S7=function(e,t){var n=t8(),r=Rte(),i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,l=!1,u=!1,c=!1,d=0,f=1,h="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?f=0:f=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var v,y=Object.keys(i);for(v=y.length-1;v>=0;v--){var w=y[v];g[w].push(i[w][0].length,i[w][1].length)}}var E,C="---\u2028--\uFEFF-",S=new RegExp('[\\\\\\"\0-'+C+"]","g"),T=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+C+"]","g"),k=new RegExp("'''|^[\\s]+$|[\0-"+(f===2?"	":"\b")+"\v\f-"+C+"]","g"),I=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),R={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},O=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,M="",$=0;function L(W,q){return $+=W[0].length+W[1].length-W[2]-W[3],W[0]+q+W[1]}function U(W){return W.replace(S,function(q){var K=R[q];return typeof K=="string"?L(g.esc,K):L(g.uni,("0000"+q.charCodeAt(0).toString(16)).slice(-4))})}function B(W,q,K,J){return W?(T.lastIndex=0,I.lastIndex=0,c||K||T.test(W)||n.tryParseNumber(W,!0)!==void 0||I.test(W)?(S.lastIndex=0,k.lastIndex=0,S.test(W)?!k.test(W)&&!J&&f?V(W,q):L(g.qstr,U(W)):L(g.qstr,W)):L(g.str,W)):L(g.qstr,"")}function V(W,q){var K,J=W.replace(/\r/g,"").split(`
`);if(q+=o,J.length===1)return L(g.mstr,J[0]);var te=s+q+g.mstr[0];for(K=0;K<J.length;K++)te+=s,J[K]&&(te+=q+J[K]);return te+s+q+g.mstr[1]}function G(W){return W?u||O.test(W)?(S.lastIndex=0,L(g.qkey,S.test(W)?U(W):W)):L(g.key,W):'""'}function Y(W,q,K,J){function te(Lt){return Lt&&Lt[Lt[0]==="\r"?1:0]===`
`}function le(Lt){return Lt&&!te(Lt)}function oe(Lt,wn,Gn){if(!Lt)return"";Lt=n.forceComment(Lt);var Fn,Bi=Lt.length;for(Fn=0;Fn<Bi&&Lt[Fn]<=" ";Fn++);return Gn&&Fn>0&&(Lt=Lt.substr(Fn)),Fn<Bi?wn+L(g.rem,Lt):Lt}var ie=E(W);if(ie!==void 0)return L(g.dsf,ie);switch(typeof W){case"string":return B(W,M,q,J);case"number":return isFinite(W)?L(g.num,String(W)):L(g.lit,"null");case"boolean":return L(g.lit,String(W));case"object":if(!W)return L(g.lit,"null");var he;a&&(he=n.getComment(W));var ee=Object.prototype.toString.apply(W)==="[object Array]",ne=M;M+=o;var ue=s+ne,ve=s+M,xe=K||l?"":ue,Re=[],Te,we=d?[]:null,He=c,Xe=f,tt=h?"":g.com[0],ft=0,rt,Pe,Le,ge,$e,ze,it,st,wt;if(ee){for(rt=0,Pe=W.length;rt<Pe;rt++){if(Te=rt<Pe-1,he?(ze=he.a[rt]||[],it=le(ze[1]),Re.push(oe(ze[0],`
`)+ve),we&&(ze[0]||ze[1]||it)&&(we=null)):Re.push(ve),$=0,ge=W[rt],Re.push(Y(ge,he?it:!1,!0)+(Te?h:"")),we){switch(typeof ge){case"string":$=0,c=!0,f=0,we.push(Y(ge,!1,!0)+(Te?g.com[0]:"")),c=He,f=Xe;break;case"object":if(ge){we=null;break}default:we.push(Re[Re.length-1]+(Te?tt:""));break}Te&&($+=g.com[0].length-g.com[2]),ft+=$}he&&ze[1]&&Re.push(oe(ze[1],it?" ":`
`,it))}Pe===0?he&&he.e&&Re.push(oe(he.e[0],`
`)+ue):Re.push(ue),Re.length===0?st=L(g.arr,""):(st=xe+L(g.arr,Re.join("")),we&&(wt=we.join(" "),wt.length-ft<=d&&(st=L(g.arr,wt))))}else{var un=he?he.o.slice():[],Rn=[];for(Le in W)Object.prototype.hasOwnProperty.call(W,Le)&&un.indexOf(Le)<0&&Rn.push(Le);m&&Rn.sort();var Mn=un.concat(Rn);for(rt=0,Pe=Mn.length;rt<Pe;rt++)if(Te=rt<Pe-1,Le=Mn[rt],he?(ze=he.c[Le]||[],it=le(ze[1]),Re.push(oe(ze[0],`
`)+ve),we&&(ze[0]||ze[1]||it)&&(we=null)):Re.push(ve),$=0,ge=W[Le],$e=Y(ge,he&&it),Re.push(G(Le)+g.col[0]+(te($e)?"":" ")+$e+(Te?h:"")),he&&ze[1]&&Re.push(oe(ze[1],it?" ":`
`,it)),we){switch(typeof ge){case"string":$=0,c=!0,f=0,$e=Y(ge,!1),c=He,f=Xe,we.push(G(Le)+g.col[0]+" "+$e+(Te?g.com[0]:""));break;case"object":if(ge){we=null;break}default:we.push(Re[Re.length-1]+(Te?tt:""));break}$+=g.col[0].length-g.col[2],Te&&($+=g.com[0].length-g.com[2]),ft+=$}Pe===0?he&&he.e&&Re.push(oe(he.e[0],`
`)+ue):Re.push(ue),Re.length===0?st=L(g.obj,""):(st=xe+L(g.obj,Re.join("")),we&&(wt=we.join(" "),wt.length-ft<=d&&(st=L(g.obj,wt))))}return M=ne,st}}E=r.loadDsf(p,"stringify");var z="",F=a?F=(n.getComment(e)||{}).r:null;return F&&F[0]&&(z=F[0]+`
`),z+=Y(e,null,!0,!0),F&&(z+=F[1]||""),z}),S7}var T7,oye;function Hen(){if(oye)return T7;oye=1;var e=t8();function t(c,d,f){var h;return c&&(h={b:c}),d&&((h=h||{}).a=d),f&&((h=h||{}).x=f),h}function n(c,d){if(!(c===null||typeof c!="object")){var f=e.getComment(c);f&&e.removeComment(c);var h,p,m,g;if(Object.prototype.toString.apply(c)==="[object Array]"){for(g={a:{}},h=0,p=c.length;h<p;h++)s(g.a,h,f.a[h],n(c[h]))&&(m=!0);!m&&f.e&&(g.e=t(f.e[0],f.e[1]),m=!0)}else{g={s:{}};var v,y=Object.keys(c);for(f&&f.o?(v=[],f.o.concat(y).forEach(function(E){Object.prototype.hasOwnProperty.call(c,E)&&v.indexOf(E)<0&&v.push(E)})):v=y,g.o=v,h=0,p=v.length;h<p;h++){var w=v[h];s(g.s,w,f.c[w],n(c[w]))&&(m=!0)}!m&&f.e&&(g.e=t(f.e[0],f.e[1]),m=!0)}return d&&f&&f.r&&(g.r=t(f.r[0],f.r[1])),m?g:void 0}}function r(){var c="";return[].forEach.call(arguments,function(d){d&&d.trim()!==""&&(c&&(c+="; "),c+=d.trim())}),c}function i(c,d){var f=[];if(l(c,d,f,[]),f.length>0){var h=u(d,null,1);h+=`
# Orphaned comments:
`,f.forEach(function(p){h+=("# "+p.path.join("/")+": "+r(p.b,p.a,p.e)).replace(`
`,"\\n ")+`
`}),u(d,h,1)}}function s(c,d,f,h){var p=t(f?f[0]:void 0,f?f[1]:void 0,h);return p&&(c[d]=p),p}function o(c,d){var f=t(d.b,d.a);return f.path=c,f}function a(c,d,f){if(c){var h,p;if(c.a)for(h=0,p=c.a.length;h<p;h++){var m=f.slice().concat([h]),g=c.a[h];g&&(d.push(o(m,g)),a(g.x,d,m))}else c.o&&c.o.forEach(function(v){var y=f.slice().concat([v]),w=c.s[v];w&&(d.push(o(y,w)),a(w.x,d,y))});c.e&&d.push(o(f,c.e))}}function l(c,d,f,h){if(c){if(d===null||typeof d!="object"){a(c,f,h);return}var p,m=e.createComment(d);if(h.length===0&&c.r&&(m.r=[c.r.b,c.r.a]),Object.prototype.toString.apply(d)==="[object Array]"){m.a=[];var g=c.a||{};for(var v in g)if(g.hasOwnProperty(v)){p=parseInt(v);var y=c.a[v];if(y){var w=h.slice().concat([p]);p<d.length?(m.a[p]=[y.b,y.a],l(y.x,d[p],f,w)):(f.push(o(w,y)),a(y.x,f,w))}}p===0&&c.e&&(m.e=[c.e.b,c.e.a])}else m.c={},m.o=[],(c.o||[]).forEach(function(E){var C=h.slice().concat([E]),S=c.s[E];Object.prototype.hasOwnProperty.call(d,E)?(m.o.push(E),S&&(m.c[E]=[S.b,S.a],l(S.x,d[E],f,C))):S&&(f.push(o(C,S)),a(S.x,f,C))}),c.e&&(m.e=[c.e.b,c.e.a])}}function u(c,d,f){var h=e.createComment(c,e.getComment(c));return h.r||(h.r=["",""]),(d||d==="")&&(h.r[f]=e.forceComment(d)),h.r[f]||""}return T7={extract:function(c){return n(c,!0)},merge:i,header:function(c,d){return u(c,d,0)},footer:function(c,d){return u(c,d,1)}},T7}/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var k7,aye;function Ven(){if(aye)return k7;aye=1;var e=t8(),t=zen(),n=Uen(),r=qen(),i=Hen(),s=Rte();return k7={parse:n,stringify:r,endOfLine:function(){return e.EOL},setEndOfLine:function(o){(o===`
`||o===`\r
`)&&(e.EOL=o)},version:t,rt:{parse:function(o,a){return(a=a||{}).keepWsc=!0,n(o,a)},stringify:function(o,a){return(a=a||{}).keepWsc=!0,r(o,a)}},comments:i,dsf:s.std},k7}Ven();var Wen="firebase",Gen="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vd(Wen,Gen,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pMe="firebasestorage.googleapis.com",Yen="storageBucket",Ken=120*1e3,Xen=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty=class mMe extends Rh{constructor(t,n,r=0){super(A7(t),`Firebase Storage: ${n} (${A7(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mMe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return A7(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var _h;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_h||(_h={}));function A7(e){return"storage/"+e}function Qen(){const e="An unknown error occurred, please check the error payload for server response.";return new ty(_h.UNKNOWN,e)}function Jen(){return new ty(_h.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zen(){return new ty(_h.CANCELED,"User canceled the upload/download.")}function etn(e){return new ty(_h.INVALID_URL,"Invalid URL '"+e+"'.")}function ttn(e){return new ty(_h.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function lye(e){return new ty(_h.INVALID_ARGUMENT,e)}function gMe(){return new ty(_h.APP_DELETED,"The Firebase app was deleted.")}function ntn(e){return new ty(_h.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=pd.makeFromUrl(t,n)}catch{return new pd(t,"")}if(r.path==="")return r;throw ttn(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===pMe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${g}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const C=w[E],S=C.regex.exec(t);if(S){const T=S[C.indices.bucket];let k=S[C.indices.path];k||(k=""),r=new pd(T,k),C.postModify(r);break}}if(r==null)throw etn(t);return r}}class rtn{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function itn(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(h,l())},g)}function f(){s&&clearTimeout(s)}function h(g,...v){if(u){f();return}if(g){f(),c.call(null,g,...v);return}if(l()||o){f(),c.call(null,g,...v);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let p=!1;function m(g){p||(p=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function stn(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function otn(e){return e!==void 0}function uye(e,t,n,r){if(r<t)throw lye(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw lye(`Invalid value for '${e}'. Expected ${n} or less.`)}function atn(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var yN;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(yN||(yN={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ltn(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class utn{constructor(t,n,r,i,s,o,a,l,u,c,d,f=!0,h=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new M3(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===yN.NO_ERROR,l=s.getStatus();if(!a||ltn(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===yN.ABORT;r(!1,new M3(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new M3(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());otn(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Qen();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?gMe():Zen();o(l)}else{const l=Jen();o(l)}};this.canceled_?n(!1,new M3(!1,null,!0)):this.backoffId_=itn(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&stn(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class M3{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function ctn(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function dtn(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ftn(e,t){t&&(e["X-Firebase-GMPID"]=t)}function htn(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function ptn(e,t,n,r,i,s,o=!0,a=!1){const l=atn(e.urlParams),u=e.url+l,c=Object.assign({},e.headers);return ftn(c,t),ctn(c,n),dtn(c,s),htn(c,r),new utn(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mtn(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function gtn(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,n){this._service=t,n instanceof pd?this._location=n:this._location=pd.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new vN(t,n)}get root(){const t=new pd(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gtn(this._location.path)}get storage(){return this._service}get parent(){const t=mtn(this._location.path);if(t===null)return null;const n=new pd(this._location.bucket,t);return new vN(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw ntn(t)}}function cye(e,t){const n=t==null?void 0:t[Yen];return n==null?null:pd.makeFromBucketSpec(n,e)}class ytn{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=pMe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ken,this._maxUploadRetryTime=Xen,this._requests=new Set,i!=null?this._bucket=pd.makeFromBucketSpec(i,this._host):this._bucket=cye(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=pd.makeFromBucketSpec(this._url,t):this._bucket=cye(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){uye("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){uye("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new vN(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new rtn(gMe());{const o=ptn(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const dye="@firebase/storage",fye="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vtn="storage";function btn(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new ytn(n,r,i,t,P1)}function wtn(){Zp(new ch(vtn,btn,"PUBLIC").setMultipleInstances(!0)),vd(dye,fye,""),vd(dye,fye,"esm2017")}wtn();var hye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dte;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,k){function I(){}I.prototype=k.prototype,T.D=k.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,O,M){for(var $=Array(arguments.length-2),L=2;L<arguments.length;L++)$[L-2]=arguments[L];return k.prototype[O].apply(R,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,k,I){I||(I=0);var R=Array(16);if(typeof k=="string")for(var O=0;16>O;++O)R[O]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(O=0;16>O;++O)R[O]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=T.g[0],I=T.g[1],O=T.g[2];var M=T.g[3],$=k+(M^I&(O^M))+R[0]+3614090360&4294967295;k=I+($<<7&4294967295|$>>>25),$=M+(O^k&(I^O))+R[1]+3905402710&4294967295,M=k+($<<12&4294967295|$>>>20),$=O+(I^M&(k^I))+R[2]+606105819&4294967295,O=M+($<<17&4294967295|$>>>15),$=I+(k^O&(M^k))+R[3]+3250441966&4294967295,I=O+($<<22&4294967295|$>>>10),$=k+(M^I&(O^M))+R[4]+4118548399&4294967295,k=I+($<<7&4294967295|$>>>25),$=M+(O^k&(I^O))+R[5]+1200080426&4294967295,M=k+($<<12&4294967295|$>>>20),$=O+(I^M&(k^I))+R[6]+2821735955&4294967295,O=M+($<<17&4294967295|$>>>15),$=I+(k^O&(M^k))+R[7]+4249261313&4294967295,I=O+($<<22&4294967295|$>>>10),$=k+(M^I&(O^M))+R[8]+1770035416&4294967295,k=I+($<<7&4294967295|$>>>25),$=M+(O^k&(I^O))+R[9]+2336552879&4294967295,M=k+($<<12&4294967295|$>>>20),$=O+(I^M&(k^I))+R[10]+4294925233&4294967295,O=M+($<<17&4294967295|$>>>15),$=I+(k^O&(M^k))+R[11]+2304563134&4294967295,I=O+($<<22&4294967295|$>>>10),$=k+(M^I&(O^M))+R[12]+1804603682&4294967295,k=I+($<<7&4294967295|$>>>25),$=M+(O^k&(I^O))+R[13]+4254626195&4294967295,M=k+($<<12&4294967295|$>>>20),$=O+(I^M&(k^I))+R[14]+2792965006&4294967295,O=M+($<<17&4294967295|$>>>15),$=I+(k^O&(M^k))+R[15]+1236535329&4294967295,I=O+($<<22&4294967295|$>>>10),$=k+(O^M&(I^O))+R[1]+4129170786&4294967295,k=I+($<<5&4294967295|$>>>27),$=M+(I^O&(k^I))+R[6]+3225465664&4294967295,M=k+($<<9&4294967295|$>>>23),$=O+(k^I&(M^k))+R[11]+643717713&4294967295,O=M+($<<14&4294967295|$>>>18),$=I+(M^k&(O^M))+R[0]+3921069994&4294967295,I=O+($<<20&4294967295|$>>>12),$=k+(O^M&(I^O))+R[5]+3593408605&4294967295,k=I+($<<5&4294967295|$>>>27),$=M+(I^O&(k^I))+R[10]+38016083&4294967295,M=k+($<<9&4294967295|$>>>23),$=O+(k^I&(M^k))+R[15]+3634488961&4294967295,O=M+($<<14&4294967295|$>>>18),$=I+(M^k&(O^M))+R[4]+3889429448&4294967295,I=O+($<<20&4294967295|$>>>12),$=k+(O^M&(I^O))+R[9]+568446438&4294967295,k=I+($<<5&4294967295|$>>>27),$=M+(I^O&(k^I))+R[14]+3275163606&4294967295,M=k+($<<9&4294967295|$>>>23),$=O+(k^I&(M^k))+R[3]+4107603335&4294967295,O=M+($<<14&4294967295|$>>>18),$=I+(M^k&(O^M))+R[8]+1163531501&4294967295,I=O+($<<20&4294967295|$>>>12),$=k+(O^M&(I^O))+R[13]+2850285829&4294967295,k=I+($<<5&4294967295|$>>>27),$=M+(I^O&(k^I))+R[2]+4243563512&4294967295,M=k+($<<9&4294967295|$>>>23),$=O+(k^I&(M^k))+R[7]+1735328473&4294967295,O=M+($<<14&4294967295|$>>>18),$=I+(M^k&(O^M))+R[12]+2368359562&4294967295,I=O+($<<20&4294967295|$>>>12),$=k+(I^O^M)+R[5]+4294588738&4294967295,k=I+($<<4&4294967295|$>>>28),$=M+(k^I^O)+R[8]+2272392833&4294967295,M=k+($<<11&4294967295|$>>>21),$=O+(M^k^I)+R[11]+1839030562&4294967295,O=M+($<<16&4294967295|$>>>16),$=I+(O^M^k)+R[14]+4259657740&4294967295,I=O+($<<23&4294967295|$>>>9),$=k+(I^O^M)+R[1]+2763975236&4294967295,k=I+($<<4&4294967295|$>>>28),$=M+(k^I^O)+R[4]+1272893353&4294967295,M=k+($<<11&4294967295|$>>>21),$=O+(M^k^I)+R[7]+4139469664&4294967295,O=M+($<<16&4294967295|$>>>16),$=I+(O^M^k)+R[10]+3200236656&4294967295,I=O+($<<23&4294967295|$>>>9),$=k+(I^O^M)+R[13]+681279174&4294967295,k=I+($<<4&4294967295|$>>>28),$=M+(k^I^O)+R[0]+3936430074&4294967295,M=k+($<<11&4294967295|$>>>21),$=O+(M^k^I)+R[3]+3572445317&4294967295,O=M+($<<16&4294967295|$>>>16),$=I+(O^M^k)+R[6]+76029189&4294967295,I=O+($<<23&4294967295|$>>>9),$=k+(I^O^M)+R[9]+3654602809&4294967295,k=I+($<<4&4294967295|$>>>28),$=M+(k^I^O)+R[12]+3873151461&4294967295,M=k+($<<11&4294967295|$>>>21),$=O+(M^k^I)+R[15]+530742520&4294967295,O=M+($<<16&4294967295|$>>>16),$=I+(O^M^k)+R[2]+3299628645&4294967295,I=O+($<<23&4294967295|$>>>9),$=k+(O^(I|~M))+R[0]+4096336452&4294967295,k=I+($<<6&4294967295|$>>>26),$=M+(I^(k|~O))+R[7]+1126891415&4294967295,M=k+($<<10&4294967295|$>>>22),$=O+(k^(M|~I))+R[14]+2878612391&4294967295,O=M+($<<15&4294967295|$>>>17),$=I+(M^(O|~k))+R[5]+4237533241&4294967295,I=O+($<<21&4294967295|$>>>11),$=k+(O^(I|~M))+R[12]+1700485571&4294967295,k=I+($<<6&4294967295|$>>>26),$=M+(I^(k|~O))+R[3]+2399980690&4294967295,M=k+($<<10&4294967295|$>>>22),$=O+(k^(M|~I))+R[10]+4293915773&4294967295,O=M+($<<15&4294967295|$>>>17),$=I+(M^(O|~k))+R[1]+2240044497&4294967295,I=O+($<<21&4294967295|$>>>11),$=k+(O^(I|~M))+R[8]+1873313359&4294967295,k=I+($<<6&4294967295|$>>>26),$=M+(I^(k|~O))+R[15]+4264355552&4294967295,M=k+($<<10&4294967295|$>>>22),$=O+(k^(M|~I))+R[6]+2734768916&4294967295,O=M+($<<15&4294967295|$>>>17),$=I+(M^(O|~k))+R[13]+1309151649&4294967295,I=O+($<<21&4294967295|$>>>11),$=k+(O^(I|~M))+R[4]+4149444226&4294967295,k=I+($<<6&4294967295|$>>>26),$=M+(I^(k|~O))+R[11]+3174756917&4294967295,M=k+($<<10&4294967295|$>>>22),$=O+(k^(M|~I))+R[2]+718787259&4294967295,O=M+($<<15&4294967295|$>>>17),$=I+(M^(O|~k))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+k&4294967295,T.g[1]=T.g[1]+(O+($<<21&4294967295|$>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,k){k===void 0&&(k=T.length);for(var I=k-this.blockSize,R=this.B,O=this.h,M=0;M<k;){if(O==0)for(;M<=I;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<k;)if(R[O++]=T.charCodeAt(M++),O==this.blockSize){i(this,R),O=0;break}}else for(;M<k;)if(R[O++]=T[M++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=k},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var k=1;k<T.length-8;++k)T[k]=0;var I=8*this.o;for(k=T.length-8;k<T.length;++k)T[k]=I&255,I/=256;for(this.u(T),T=Array(16),k=I=0;4>k;++k)for(var R=0;32>R;R+=8)T[I++]=this.g[k]>>>R&255;return T};function s(T,k){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=k(T)}function o(T,k){this.h=k;for(var I=[],R=!0,O=T.length-1;0<=O;O--){var M=T[O]|0;R&&M==k||(I[O]=M,R=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?s(T,function(k){return new o([k|0],0>k?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return g(u(-T));for(var k=[],I=1,R=0;T>=I;R++)k[R]=T/I|0,I*=4294967296;return new o(k,0)}function c(T,k){if(T.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T.charAt(0)=="-")return g(c(T.substring(1),k));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(k,8)),R=d,O=0;O<T.length;O+=8){var M=Math.min(8,T.length-O),$=parseInt(T.substring(O,O+M),k);8>M?(M=u(Math.pow(k,M)),R=R.j(M).add(u($))):(R=R.j(I),R=R.add(u($)))}return R}var d=l(0),f=l(1),h=l(16777216);e=o.prototype,e.m=function(){if(m(this))return-g(this).m();for(var T=0,k=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*k,k*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(p(this))return"0";if(m(this))return"-"+g(this).toString(T);for(var k=u(Math.pow(T,6)),I=this,R="";;){var O=E(I,k).g;I=v(I,O.j(k));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=O,p(I))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function p(T){if(T.h!=0)return!1;for(var k=0;k<T.g.length;k++)if(T.g[k]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=v(this,T),m(T)?-1:p(T)?0:1};function g(T){for(var k=T.g.length,I=[],R=0;R<k;R++)I[R]=~T.g[R];return new o(I,~T.h).add(f)}e.abs=function(){return m(this)?g(this):this},e.add=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0,O=0;O<=k;O++){var M=R+(this.i(O)&65535)+(T.i(O)&65535),$=(M>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);R=$>>>16,M&=65535,$&=65535,I[O]=$<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function v(T,k){return T.add(g(k))}e.j=function(T){if(p(this)||p(T))return d;if(m(this))return m(T)?g(this).j(g(T)):g(g(this).j(T));if(m(T))return g(this.j(g(T)));if(0>this.l(h)&&0>T.l(h))return u(this.m()*T.m());for(var k=this.g.length+T.g.length,I=[],R=0;R<2*k;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<T.g.length;O++){var M=this.i(R)>>>16,$=this.i(R)&65535,L=T.i(O)>>>16,U=T.i(O)&65535;I[2*R+2*O]+=$*U,y(I,2*R+2*O),I[2*R+2*O+1]+=M*U,y(I,2*R+2*O+1),I[2*R+2*O+1]+=$*L,y(I,2*R+2*O+1),I[2*R+2*O+2]+=M*L,y(I,2*R+2*O+2)}for(R=0;R<k;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=k;R<2*k;R++)I[R]=0;return new o(I,0)};function y(T,k){for(;(T[k]&65535)!=T[k];)T[k+1]+=T[k]>>>16,T[k]&=65535,k++}function w(T,k){this.g=T,this.h=k}function E(T,k){if(p(k))throw Error("division by zero");if(p(T))return new w(d,d);if(m(T))return k=E(g(T),k),new w(g(k.g),g(k.h));if(m(k))return k=E(T,g(k)),new w(g(k.g),k.h);if(30<T.g.length){if(m(T)||m(k))throw Error("slowDivide_ only works with positive integers.");for(var I=f,R=k;0>=R.l(T);)I=C(I),R=C(R);var O=S(I,1),M=S(R,1);for(R=S(R,2),I=S(I,2);!p(R);){var $=M.add(R);0>=$.l(T)&&(O=O.add(I),M=$),R=S(R,1),I=S(I,1)}return k=v(T,O.j(k)),new w(O,k)}for(O=d;0<=T.l(k);){for(I=Math.max(1,Math.floor(T.m()/k.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=u(I),$=M.j(k);m($)||0<$.l(T);)I-=R,M=u(I),$=M.j(k);p(M)&&(M=f),O=O.add(M),T=v(T,$)}return new w(O,T)}e.A=function(T){return E(this,T).h},e.and=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0;R<k;R++)I[R]=this.i(R)&T.i(R);return new o(I,this.h&T.h)},e.or=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0;R<k;R++)I[R]=this.i(R)|T.i(R);return new o(I,this.h|T.h)},e.xor=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0;R<k;R++)I[R]=this.i(R)^T.i(R);return new o(I,this.h^T.h)};function C(T){for(var k=T.g.length+1,I=[],R=0;R<k;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(I,T.h)}function S(T,k){var I=k>>5;k%=32;for(var R=T.g.length-I,O=[],M=0;M<R;M++)O[M]=0<k?T.i(M+I)>>>k|T.i(M+I+1)<<32-k:T.i(M+I);return new o(O,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Dte=o}).apply(typeof hye<"u"?hye:typeof self<"u"?self:typeof window<"u"?window:{});var F3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(P,X,Z){return P==Array.prototype||P==Object.prototype||(P[X]=Z.value),P};function n(P){P=[typeof globalThis=="object"&&globalThis,P,typeof window=="object"&&window,typeof self=="object"&&self,typeof F3=="object"&&F3];for(var X=0;X<P.length;++X){var Z=P[X];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var r=n(this);function i(P,X){if(X)e:{var Z=r;P=P.split(".");for(var ae=0;ae<P.length-1;ae++){var Ne=P[ae];if(!(Ne in Z))break e;Z=Z[Ne]}P=P[P.length-1],ae=Z[P],X=X(ae),X!=ae&&X!=null&&t(Z,P,{configurable:!0,writable:!0,value:X})}}function s(P,X){P instanceof String&&(P+="");var Z=0,ae=!1,Ne={next:function(){if(!ae&&Z<P.length){var Ge=Z++;return{value:X(Ge,P[Ge]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return Ne[Symbol.iterator]=function(){return Ne},Ne}i("Array.prototype.values",function(P){return P||function(){return s(this,function(X,Z){return Z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(P){var X=typeof P;return X=X!="object"?X:P?Array.isArray(P)?"array":X:"null",X=="array"||X=="object"&&typeof P.length=="number"}function u(P){var X=typeof P;return X=="object"&&P!=null||X=="function"}function c(P,X,Z){return P.call.apply(P.bind,arguments)}function d(P,X,Z){if(!P)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var Ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ne,ae),P.apply(X,Ne)}}return function(){return P.apply(X,arguments)}}function f(P,X,Z){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function h(P,X){var Z=Array.prototype.slice.call(arguments,1);return function(){var ae=Z.slice();return ae.push.apply(ae,arguments),P.apply(this,ae)}}function p(P,X){function Z(){}Z.prototype=X.prototype,P.aa=X.prototype,P.prototype=new Z,P.prototype.constructor=P,P.Qb=function(ae,Ne,Ge){for(var At=Array(arguments.length-2),Ur=2;Ur<arguments.length;Ur++)At[Ur-2]=arguments[Ur];return X.prototype[Ne].apply(ae,At)}}function m(P){const X=P.length;if(0<X){const Z=Array(X);for(let ae=0;ae<X;ae++)Z[ae]=P[ae];return Z}return[]}function g(P,X){for(let Z=1;Z<arguments.length;Z++){const ae=arguments[Z];if(l(ae)){const Ne=P.length||0,Ge=ae.length||0;P.length=Ne+Ge;for(let At=0;At<Ge;At++)P[Ne+At]=ae[At]}else P.push(ae)}}class v{constructor(X,Z){this.i=X,this.j=Z,this.h=0,this.g=null}get(){let X;return 0<this.h?(this.h--,X=this.g,this.g=X.next,X.next=null):X=this.i(),X}}function y(P){return/^[\s\xa0]*$/.test(P)}function w(){var P=a.navigator;return P&&(P=P.userAgent)?P:""}function E(P){return E[" "](P),P}E[" "]=function(){};var C=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function S(P,X,Z){for(const ae in P)X.call(Z,P[ae],ae,P)}function T(P,X){for(const Z in P)X.call(void 0,P[Z],Z,P)}function k(P){const X={};for(const Z in P)X[Z]=P[Z];return X}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(P,X){let Z,ae;for(let Ne=1;Ne<arguments.length;Ne++){ae=arguments[Ne];for(Z in ae)P[Z]=ae[Z];for(let Ge=0;Ge<I.length;Ge++)Z=I[Ge],Object.prototype.hasOwnProperty.call(ae,Z)&&(P[Z]=ae[Z])}}function O(P){var X=1;P=P.split(":");const Z=[];for(;0<X&&P.length;)Z.push(P.shift()),X--;return P.length&&Z.push(P.join(":")),Z}function M(P){a.setTimeout(()=>{throw P},0)}function $(){var P=Y;let X=null;return P.g&&(X=P.g,P.g=P.g.next,P.g||(P.h=null),X.next=null),X}class L{constructor(){this.h=this.g=null}add(X,Z){const ae=U.get();ae.set(X,Z),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var U=new v(()=>new B,P=>P.reset());class B{constructor(){this.next=this.g=this.h=null}set(X,Z){this.h=X,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let V,G=!1,Y=new L,z=()=>{const P=a.Promise.resolve(void 0);V=()=>{P.then(F)}};var F=()=>{for(var P;P=$();){try{P.h.call(P.g)}catch(Z){M(Z)}var X=U;X.j(P),100>X.h&&(X.h++,P.next=X.g,X.g=P)}G=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(P,X){this.type=P,this.g=this.target=X,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var P=!1,X=Object.defineProperty({},"passive",{get:function(){P=!0}});try{const Z=()=>{};a.addEventListener("test",Z,X),a.removeEventListener("test",Z,X)}catch{}return P})();function J(P,X){if(q.call(this,P?P.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,P){var Z=this.type=P.type,ae=P.changedTouches&&P.changedTouches.length?P.changedTouches[0]:null;if(this.target=P.target||P.srcElement,this.g=X,X=P.relatedTarget){if(C){e:{try{E(X.nodeName);var Ne=!0;break e}catch{}Ne=!1}Ne||(X=null)}}else Z=="mouseover"?X=P.fromElement:Z=="mouseout"&&(X=P.toElement);this.relatedTarget=X,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0),this.button=P.button,this.key=P.key||"",this.ctrlKey=P.ctrlKey,this.altKey=P.altKey,this.shiftKey=P.shiftKey,this.metaKey=P.metaKey,this.pointerId=P.pointerId||0,this.pointerType=typeof P.pointerType=="string"?P.pointerType:te[P.pointerType]||"",this.state=P.state,this.i=P,P.defaultPrevented&&J.aa.h.call(this)}}p(J,q);var te={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var P=this.i;P.preventDefault?P.preventDefault():P.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ie(P,X,Z,ae,Ne){this.listener=P,this.proxy=null,this.src=X,this.type=Z,this.capture=!!ae,this.ha=Ne,this.key=++oe,this.da=this.fa=!1}function he(P){P.da=!0,P.listener=null,P.proxy=null,P.src=null,P.ha=null}function ee(P){this.src=P,this.g={},this.h=0}ee.prototype.add=function(P,X,Z,ae,Ne){var Ge=P.toString();P=this.g[Ge],P||(P=this.g[Ge]=[],this.h++);var At=ue(P,X,ae,Ne);return-1<At?(X=P[At],Z||(X.fa=!1)):(X=new ie(X,this.src,Ge,!!ae,Ne),X.fa=Z,P.push(X)),X};function ne(P,X){var Z=X.type;if(Z in P.g){var ae=P.g[Z],Ne=Array.prototype.indexOf.call(ae,X,void 0),Ge;(Ge=0<=Ne)&&Array.prototype.splice.call(ae,Ne,1),Ge&&(he(X),P.g[Z].length==0&&(delete P.g[Z],P.h--))}}function ue(P,X,Z,ae){for(var Ne=0;Ne<P.length;++Ne){var Ge=P[Ne];if(!Ge.da&&Ge.listener==X&&Ge.capture==!!Z&&Ge.ha==ae)return Ne}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),xe={};function Re(P,X,Z,ae,Ne){if(Array.isArray(X)){for(var Ge=0;Ge<X.length;Ge++)Re(P,X[Ge],Z,ae,Ne);return null}return Z=Le(Z),P&&P[le]?P.K(X,Z,u(ae)?!!ae.capture:!1,Ne):Te(P,X,Z,!1,ae,Ne)}function Te(P,X,Z,ae,Ne,Ge){if(!X)throw Error("Invalid event type");var At=u(Ne)?!!Ne.capture:!!Ne,Ur=rt(P);if(Ur||(P[ve]=Ur=new ee(P)),Z=Ur.add(X,Z,ae,At,Ge),Z.proxy)return Z;if(ae=we(),Z.proxy=ae,ae.src=P,ae.listener=Z,P.addEventListener)K||(Ne=At),Ne===void 0&&(Ne=!1),P.addEventListener(X.toString(),ae,Ne);else if(P.attachEvent)P.attachEvent(tt(X.toString()),ae);else if(P.addListener&&P.removeListener)P.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return Z}function we(){function P(Z){return X.call(P.src,P.listener,Z)}const X=ft;return P}function He(P,X,Z,ae,Ne){if(Array.isArray(X))for(var Ge=0;Ge<X.length;Ge++)He(P,X[Ge],Z,ae,Ne);else ae=u(ae)?!!ae.capture:!!ae,Z=Le(Z),P&&P[le]?(P=P.i,X=String(X).toString(),X in P.g&&(Ge=P.g[X],Z=ue(Ge,Z,ae,Ne),-1<Z&&(he(Ge[Z]),Array.prototype.splice.call(Ge,Z,1),Ge.length==0&&(delete P.g[X],P.h--)))):P&&(P=rt(P))&&(X=P.g[X.toString()],P=-1,X&&(P=ue(X,Z,ae,Ne)),(Z=-1<P?X[P]:null)&&Xe(Z))}function Xe(P){if(typeof P!="number"&&P&&!P.da){var X=P.src;if(X&&X[le])ne(X.i,P);else{var Z=P.type,ae=P.proxy;X.removeEventListener?X.removeEventListener(Z,ae,P.capture):X.detachEvent?X.detachEvent(tt(Z),ae):X.addListener&&X.removeListener&&X.removeListener(ae),(Z=rt(X))?(ne(Z,P),Z.h==0&&(Z.src=null,X[ve]=null)):he(P)}}}function tt(P){return P in xe?xe[P]:xe[P]="on"+P}function ft(P,X){if(P.da)P=!0;else{X=new J(X,this);var Z=P.listener,ae=P.ha||P.src;P.fa&&Xe(P),P=Z.call(ae,X)}return P}function rt(P){return P=P[ve],P instanceof ee?P:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(P){return typeof P=="function"?P:(P[Pe]||(P[Pe]=function(X){return P.handleEvent(X)}),P[Pe])}function ge(){W.call(this),this.i=new ee(this),this.M=this,this.F=null}p(ge,W),ge.prototype[le]=!0,ge.prototype.removeEventListener=function(P,X,Z,ae){He(this,P,X,Z,ae)};function $e(P,X){var Z,ae=P.F;if(ae)for(Z=[];ae;ae=ae.F)Z.push(ae);if(P=P.M,ae=X.type||X,typeof X=="string")X=new q(X,P);else if(X instanceof q)X.target=X.target||P;else{var Ne=X;X=new q(ae,P),R(X,Ne)}if(Ne=!0,Z)for(var Ge=Z.length-1;0<=Ge;Ge--){var At=X.g=Z[Ge];Ne=ze(At,ae,!0,X)&&Ne}if(At=X.g=P,Ne=ze(At,ae,!0,X)&&Ne,Ne=ze(At,ae,!1,X)&&Ne,Z)for(Ge=0;Ge<Z.length;Ge++)At=X.g=Z[Ge],Ne=ze(At,ae,!1,X)&&Ne}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var P=this.i,X;for(X in P.g){for(var Z=P.g[X],ae=0;ae<Z.length;ae++)he(Z[ae]);delete P.g[X],P.h--}}this.F=null},ge.prototype.K=function(P,X,Z,ae){return this.i.add(String(P),X,!1,Z,ae)},ge.prototype.L=function(P,X,Z,ae){return this.i.add(String(P),X,!0,Z,ae)};function ze(P,X,Z,ae){if(X=P.i.g[String(X)],!X)return!0;X=X.concat();for(var Ne=!0,Ge=0;Ge<X.length;++Ge){var At=X[Ge];if(At&&!At.da&&At.capture==Z){var Ur=At.listener,Rs=At.ha||At.src;At.fa&&ne(P.i,At),Ne=Ur.call(Rs,ae)!==!1&&Ne}}return Ne&&!ae.defaultPrevented}function it(P,X,Z){if(typeof P=="function")Z&&(P=f(P,Z));else if(P&&typeof P.handleEvent=="function")P=f(P.handleEvent,P);else throw Error("Invalid listener argument");return 2147483647<Number(X)?-1:a.setTimeout(P,X||0)}function st(P){P.g=it(()=>{P.g=null,P.i&&(P.i=!1,st(P))},P.l);const X=P.h;P.h=null,P.m.apply(null,X)}class wt extends W{constructor(X,Z){super(),this.m=X,this.l=Z,this.h=null,this.i=!1,this.g=null}j(X){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function un(P){W.call(this),this.h=P,this.g={}}p(un,W);var Rn=[];function Mn(P){S(P.g,function(X,Z){this.g.hasOwnProperty(Z)&&Xe(X)},P),P.g={}}un.prototype.N=function(){un.aa.N.call(this),Mn(this)},un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lt=a.JSON.stringify,wn=a.JSON.parse,Gn=class{stringify(P){return a.JSON.stringify(P,void 0)}parse(P){return a.JSON.parse(P,void 0)}};function Fn(){}Fn.prototype.h=null;function Bi(P){return P.h||(P.h=P.i())}function Zn(){}var Mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){q.call(this,"d")}p(Kr,q);function Yn(){q.call(this,"c")}p(Yn,q);var Ji={},Go=null;function Es(){return Go=Go||new ge}Ji.La="serverreachability";function rr(P){q.call(this,Ji.La,P)}p(rr,q);function Ct(P){const X=Es();$e(X,new rr(X))}Ji.STAT_EVENT="statevent";function zr(P,X){q.call(this,Ji.STAT_EVENT,P),this.stat=X}p(zr,q);function dn(P){const X=Es();$e(X,new zr(X,P))}Ji.Ma="timingevent";function Rr(P,X){q.call(this,Ji.Ma,P),this.size=X}p(Rr,q);function Sn(P,X){if(typeof P!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){P()},X)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function ni(P,X,Z,ae,Ne,Ge){P.info(function(){if(P.g)if(Ge)for(var At="",Ur=Ge.split("&"),Rs=0;Rs<Ur.length;Rs++){var dr=Ur[Rs].split("=");if(1<dr.length){var Ks=dr[0];dr=dr[1];var Xs=Ks.split("_");At=2<=Xs.length&&Xs[1]=="type"?At+(Ks+"="+dr+"&"):At+(Ks+"=redacted&")}}else At=null;else At=Ge;return"XMLHTTP REQ ("+ae+") [attempt "+Ne+"]: "+X+`
`+Z+`
`+At})}function Ei(P,X,Z,ae,Ne,Ge,At){P.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+Ne+"]: "+X+`
`+Z+`
`+Ge+" "+At})}function wo(P,X,Z,ae){P.info(function(){return"XMLHTTP TEXT ("+X+"): "+lf(P,Z)+(ae?" "+ae:"")})}function kc(P,X){P.info(function(){return"TIMEOUT: "+X})}br.prototype.info=function(){};function lf(P,X){if(!P.g)return X;if(!X)return null;try{var Z=JSON.parse(X);if(Z){for(P=0;P<Z.length;P++)if(Array.isArray(Z[P])){var ae=Z[P];if(!(2>ae.length)){var Ne=ae[1];if(Array.isArray(Ne)&&!(1>Ne.length)){var Ge=Ne[0];if(Ge!="noop"&&Ge!="stop"&&Ge!="close")for(var At=1;At<Ne.length;At++)Ne[At]=""}}}}return Lt(Z)}catch{return X}}var Ac={NO_ERROR:0,TIMEOUT:8},uf={},Tn;function Ta(){}p(Ta,Fn),Ta.prototype.g=function(){return new XMLHttpRequest},Ta.prototype.i=function(){return{}},Tn=new Ta;function Gs(P,X,Z,ae){this.j=P,this.i=X,this.l=Z,this.R=ae||1,this.U=new un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ic}function Ic(){this.i=null,this.g="",this.h=!1}var Rc={},cf={};function df(P,X,Z){P.L=1,P.v=jn(at(X)),P.m=Z,P.P=!0,Dc(P,null)}function Dc(P,X){P.F=Date.now(),er(P),P.A=at(P.v);var Z=P.A,ae=P.R;Array.isArray(ae)||(ae=[String(ae)]),hf(Z.i,"t",ae),P.C=0,Z=P.j.J,P.h=new Ic,P.g=RA(P.j,Z?X:null,!P.m),0<P.O&&(P.M=new wt(f(P.Y,P,P.g),P.O)),X=P.U,Z=P.g,ae=P.ca;var Ne="readystatechange";Array.isArray(Ne)||(Ne&&(Rn[0]=Ne.toString()),Ne=Rn);for(var Ge=0;Ge<Ne.length;Ge++){var At=Re(Z,Ne[Ge],ae||X.handleEvent,!1,X.h||X);if(!At)break;X.g[At.key]=At}X=P.H?k(P.H):{},P.m?(P.u||(P.u="POST"),X["Content-Type"]="application/x-www-form-urlencoded",P.g.ea(P.A,P.u,P.m,X)):(P.u="GET",P.g.ea(P.A,P.u,null,X)),Ct(),ni(P.i,P.u,P.A,P.l,P.R,P.m)}Gs.prototype.ca=function(P){P=P.target;const X=this.M;X&&ai(P)==3?X.j():this.Y(P)},Gs.prototype.Y=function(P){try{if(P==this.g)e:{const Xs=ai(this.g);var X=this.g.Ba();const gf=this.g.Z();if(!(3>Xs)&&(Xs!=3||this.g&&(this.h.h||this.g.oa()||Is(this.g)))){this.J||Xs!=4||X==7||(X==8||0>=gf?Ct(3):Ct(2)),Cs(this);var Z=this.g.Z();this.X=Z;t:if(Pm(this)){var ae=Is(this.g);P="";var Ne=ae.length,Ge=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ss(this),Wl(this);var At="";break t}this.h.i=new a.TextDecoder}for(X=0;X<Ne;X++)this.h.h=!0,P+=this.h.i.decode(ae[X],{stream:!(Ge&&X==Ne-1)});ae.length=0,this.h.g+=P,this.C=0,At=this.h.g}else At=this.g.oa();if(this.o=Z==200,Ei(this.i,this.u,this.A,this.l,this.R,Xs,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var Ur,Rs=this.g;if((Ur=Rs.g?Rs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ur)){var dr=Ur;break t}}dr=null}if(Z=dr)wo(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oc(this,Z);else{this.o=!1,this.s=3,dn(12),Ss(this),Wl(this);break e}}if(this.P){Z=!0;let _o;for(;!this.J&&this.C<At.length;)if(_o=Pc(this,At),_o==cf){Xs==4&&(this.s=4,dn(14),Z=!1),wo(this.i,this.l,null,"[Incomplete Response]");break}else if(_o==Rc){this.s=4,dn(15),wo(this.i,this.l,At,"[Invalid Chunk]"),Z=!1;break}else wo(this.i,this.l,_o,null),Oc(this,_o);if(Pm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xs!=4||At.length!=0||this.h.h||(this.s=1,dn(16),Z=!1),this.o=this.o&&Z,!Z)wo(this.i,this.l,At,"[Invalid Chunked Response]"),Ss(this),Wl(this);else if(0<At.length&&!this.W){this.W=!0;var Ks=this.j;Ks.g==this&&Ks.ba&&!Ks.M&&(Ks.j.info("Great, no buffering proxy detected. Bytes received: "+At.length),TE(Ks),Ks.M=!0,dn(11))}}else wo(this.i,this.l,At,null),Oc(this,At);Xs==4&&Ss(this),this.o&&!this.J&&(Xs==4?fb(this.j,this):(this.o=!1,er(this)))}else Au(this.g),Z==400&&0<At.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),Ss(this),Wl(this)}}}catch{}finally{}};function Pm(P){return P.g?P.u=="GET"&&P.L!=2&&P.j.Ca:!1}function Pc(P,X){var Z=P.C,ae=X.indexOf(`
`,Z);return ae==-1?cf:(Z=Number(X.substring(Z,ae)),isNaN(Z)?Rc:(ae+=1,ae+Z>X.length?cf:(X=X.slice(ae,ae+Z),P.C=ae+Z,X)))}Gs.prototype.cancel=function(){this.J=!0,Ss(this)};function er(P){P.S=Date.now()+P.I,Wh(P,P.I)}function Wh(P,X){if(P.B!=null)throw Error("WatchDog timer not null");P.B=Sn(f(P.ba,P),X)}function Cs(P){P.B&&(a.clearTimeout(P.B),P.B=null)}Gs.prototype.ba=function(){this.B=null;const P=Date.now();0<=P-this.S?(kc(this.i,this.A),this.L!=2&&(Ct(),dn(17)),Ss(this),this.s=2,Wl(this)):Wh(this,this.S-P)};function Wl(P){P.j.G==0||P.J||fb(P.j,P)}function Ss(P){Cs(P);var X=P.M;X&&typeof X.ma=="function"&&X.ma(),P.M=null,Mn(P.U),P.g&&(X=P.g,P.g=null,X.abort(),X.ma())}function Oc(P,X){try{var Z=P.j;if(Z.G!=0&&(Z.g==P||ks(Z.h,P))){if(!P.K&&ks(Z.h,P)&&Z.G==3){try{var ae=Z.Da.g.parse(X)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var Ne=ae;if(Ne[0]==0){e:if(!Z.u){if(Z.g)if(Z.g.F+3e3<P.F)db(Z),Mc(Z);else break e;cb(Z),dn(18)}}else Z.za=Ne[1],0<Z.za-Z.T&&37500>Ne[2]&&Z.F&&Z.v==0&&!Z.C&&(Z.C=Sn(f(Z.Za,Z),6e3));if(1>=Nm(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else Kh(Z,11)}else if((P.K||Z.g==P)&&db(Z),!y(X))for(Ne=Z.Da.g.parse(X),X=0;X<Ne.length;X++){let dr=Ne[X];if(Z.T=dr[0],dr=dr[1],Z.G==2)if(dr[0]=="c"){Z.K=dr[1],Z.ia=dr[2];const Ks=dr[3];Ks!=null&&(Z.la=Ks,Z.j.info("VER="+Z.la));const Xs=dr[4];Xs!=null&&(Z.Aa=Xs,Z.j.info("SVER="+Z.Aa));const gf=dr[5];gf!=null&&typeof gf=="number"&&0<gf&&(ae=1.5*gf,Z.L=ae,Z.j.info("backChannelRequestTimeoutMs_="+ae)),ae=Z;const _o=P.g;if(_o){const hb=_o.g?_o.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hb){var Ge=ae.h;Ge.g||hb.indexOf("spdy")==-1&&hb.indexOf("quic")==-1&&hb.indexOf("h2")==-1||(Ge.j=Ge.l,Ge.g=new Set,Ge.h&&(se(Ge,Ge.h),Ge.h=null))}if(ae.D){const pb=_o.g?_o.g.getResponseHeader("X-HTTP-Session-Id"):null;pb&&(ae.ya=pb,Zt(ae.I,ae.D,pb))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-P.F,Z.j.info("Handshake RTT: "+Z.R+"ms")),ae=Z;var At=P;if(ae.qa=IA(ae,ae.J?ae.ia:null,ae.W),At.K){Ee(ae.h,At);var Ur=At,Rs=ae.L;Rs&&(Ur.I=Rs),Ur.B&&(Cs(Ur),er(Ur)),ae.g=At}else iy(ae);0<Z.i.length&&mf(Z)}else dr[0]!="stop"&&dr[0]!="close"||Kh(Z,7);else Z.G==3&&(dr[0]=="stop"||dr[0]=="close"?dr[0]=="stop"?Kh(Z,7):ps(Z):dr[0]!="noop"&&Z.l&&Z.l.ta(dr),Z.v=0)}}Ct(4)}catch{}}var Om=class{constructor(P,X){this.g=P,this.map=X}};function Su(P){this.l=P||10,a.PerformanceNavigationTiming?(P=a.performance.getEntriesByType("navigation"),P=0<P.length&&(P[0].nextHopProtocol=="hq"||P[0].nextHopProtocol=="h2")):P=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=P?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ts(P){return P.h?!0:P.g?P.g.size>=P.j:!1}function Nm(P){return P.h?1:P.g?P.g.size:0}function ks(P,X){return P.h?P.h==X:P.g?P.g.has(X):!1}function se(P,X){P.g?P.g.add(X):P.h=X}function Ee(P,X){P.h&&P.h==X?P.h=null:P.g&&P.g.has(X)&&P.g.delete(X)}Su.prototype.cancel=function(){if(this.i=de(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const P of this.g.values())P.cancel();this.g.clear()}};function de(P){if(P.h!=null)return P.i.concat(P.h.D);if(P.g!=null&&P.g.size!==0){let X=P.i;for(const Z of P.g.values())X=X.concat(Z.D);return X}return m(P.i)}function Ae(P){if(P.V&&typeof P.V=="function")return P.V();if(typeof Map<"u"&&P instanceof Map||typeof Set<"u"&&P instanceof Set)return Array.from(P.values());if(typeof P=="string")return P.split("");if(l(P)){for(var X=[],Z=P.length,ae=0;ae<Z;ae++)X.push(P[ae]);return X}X=[],Z=0;for(ae in P)X[Z++]=P[ae];return X}function De(P){if(P.na&&typeof P.na=="function")return P.na();if(!P.V||typeof P.V!="function"){if(typeof Map<"u"&&P instanceof Map)return Array.from(P.keys());if(!(typeof Set<"u"&&P instanceof Set)){if(l(P)||typeof P=="string"){var X=[];P=P.length;for(var Z=0;Z<P;Z++)X.push(Z);return X}X=[],Z=0;for(const ae in P)X[Z++]=ae;return X}}}function ke(P,X){if(P.forEach&&typeof P.forEach=="function")P.forEach(X,void 0);else if(l(P)||typeof P=="string")Array.prototype.forEach.call(P,X,void 0);else for(var Z=De(P),ae=Ae(P),Ne=ae.length,Ge=0;Ge<Ne;Ge++)X.call(void 0,ae[Ge],Z&&Z[Ge],P)}var Qe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(P,X){if(P){P=P.split("&");for(var Z=0;Z<P.length;Z++){var ae=P[Z].indexOf("="),Ne=null;if(0<=ae){var Ge=P[Z].substring(0,ae);Ne=P[Z].substring(ae+1)}else Ge=P[Z];X(Ge,Ne?decodeURIComponent(Ne.replace(/\+/g," ")):"")}}}function lt(P){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,P instanceof lt){this.h=P.h,vt(this,P.j),this.o=P.o,this.g=P.g,Bt(this,P.s),this.l=P.l;var X=P.i,Z=new xo;Z.i=X.i,X.g&&(Z.g=new Map(X.g),Z.h=X.h),vn(this,Z),this.m=P.m}else P&&(X=String(P).match(Qe))?(this.h=!1,vt(this,X[1]||"",!0),this.o=tn(X[2]||""),this.g=tn(X[3]||"",!0),Bt(this,X[4]),this.l=tn(X[5]||"",!0),vn(this,X[6]||"",!0),this.m=tn(X[7]||"")):(this.h=!1,this.i=new xo(null,this.h))}lt.prototype.toString=function(){var P=[],X=this.j;X&&P.push(wr(X,ol,!0),":");var Z=this.g;return(Z||X=="file")&&(P.push("//"),(X=this.o)&&P.push(wr(X,ol,!0),"@"),P.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Z=this.s,Z!=null&&P.push(":",String(Z))),(Z=this.l)&&(this.g&&Z.charAt(0)!="/"&&P.push("/"),P.push(wr(Z,Z.charAt(0)=="/"?$m:Tu,!0))),(Z=this.i.toString())&&P.push("?",Z),(Z=this.m)&&P.push("#",wr(Z,Mm)),P.join("")};function at(P){return new lt(P)}function vt(P,X,Z){P.j=Z?tn(X,!0):X,P.j&&(P.j=P.j.replace(/:$/,""))}function Bt(P,X){if(X){if(X=Number(X),isNaN(X)||0>X)throw Error("Bad port number "+X);P.s=X}else P.s=null}function vn(P,X,Z){X instanceof xo?(P.i=X,al(P.i,P.h)):(Z||(X=wr(X,ff)),P.i=new xo(X,P.h))}function Zt(P,X,Z){P.i.set(X,Z)}function jn(P){return Zt(P,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),P}function tn(P,X){return P?X?decodeURI(P.replace(/%25/g,"%2525")):decodeURIComponent(P):""}function wr(P,X,Z){return typeof P=="string"?(P=encodeURI(P).replace(X,As),Z&&(P=P.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P):null}function As(P){return P=P.charCodeAt(0),"%"+(P>>4&15).toString(16)+(P&15).toString(16)}var ol=/[#\/\?@]/g,Tu=/[#\?:]/g,$m=/[#\?]/g,ff=/[#\?@]/g,Mm=/#/g;function xo(P,X){this.h=this.g=null,this.i=P||null,this.j=!!X}function Di(P){P.g||(P.g=new Map,P.h=0,P.i&&ot(P.i,function(X,Z){P.add(decodeURIComponent(X.replace(/\+/g," ")),Z)}))}e=xo.prototype,e.add=function(P,X){Di(this),this.i=null,P=Aa(this,P);var Z=this.g.get(P);return Z||this.g.set(P,Z=[]),Z.push(X),this.h+=1,this};function Ys(P,X){Di(P),X=Aa(P,X),P.g.has(X)&&(P.i=null,P.h-=P.g.get(X).length,P.g.delete(X))}function ka(P,X){return Di(P),X=Aa(P,X),P.g.has(X)}e.forEach=function(P,X){Di(this),this.g.forEach(function(Z,ae){Z.forEach(function(Ne){P.call(X,Ne,ae,this)},this)},this)},e.na=function(){Di(this);const P=Array.from(this.g.values()),X=Array.from(this.g.keys()),Z=[];for(let ae=0;ae<X.length;ae++){const Ne=P[ae];for(let Ge=0;Ge<Ne.length;Ge++)Z.push(X[ae])}return Z},e.V=function(P){Di(this);let X=[];if(typeof P=="string")ka(this,P)&&(X=X.concat(this.g.get(Aa(this,P))));else{P=Array.from(this.g.values());for(let Z=0;Z<P.length;Z++)X=X.concat(P[Z])}return X},e.set=function(P,X){return Di(this),this.i=null,P=Aa(this,P),ka(this,P)&&(this.h-=this.g.get(P).length),this.g.set(P,[X]),this.h+=1,this},e.get=function(P,X){return P?(P=this.V(P),0<P.length?String(P[0]):X):X};function hf(P,X,Z){Ys(P,X),0<Z.length&&(P.i=null,P.g.set(Aa(P,X),m(Z)),P.h+=Z.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const P=[],X=Array.from(this.g.keys());for(var Z=0;Z<X.length;Z++){var ae=X[Z];const Ge=encodeURIComponent(String(ae)),At=this.V(ae);for(ae=0;ae<At.length;ae++){var Ne=Ge;At[ae]!==""&&(Ne+="="+encodeURIComponent(String(At[ae]))),P.push(Ne)}}return this.i=P.join("&")};function Aa(P,X){return X=String(X),P.j&&(X=X.toLowerCase()),X}function al(P,X){X&&!P.j&&(Di(P),P.i=null,P.g.forEach(function(Z,ae){var Ne=ae.toLowerCase();ae!=Ne&&(Ys(this,ae),hf(this,Ne,Z))},P)),P.j=X}function ob(P,X){const Z=new br;if(a.Image){const ae=new Image;ae.onload=h(hs,Z,"TestLoadImage: loaded",!0,X,ae),ae.onerror=h(hs,Z,"TestLoadImage: error",!1,X,ae),ae.onabort=h(hs,Z,"TestLoadImage: abort",!1,X,ae),ae.ontimeout=h(hs,Z,"TestLoadImage: timeout",!1,X,ae),a.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=P}else X(!1)}function ku(P,X){const Z=new br,ae=new AbortController,Ne=setTimeout(()=>{ae.abort(),hs(Z,"TestPingServer: timeout",!1,X)},1e4);fetch(P,{signal:ae.signal}).then(Ge=>{clearTimeout(Ne),Ge.ok?hs(Z,"TestPingServer: ok",!0,X):hs(Z,"TestPingServer: server error",!1,X)}).catch(()=>{clearTimeout(Ne),hs(Z,"TestPingServer: error",!1,X)})}function hs(P,X,Z,ae,Ne){try{Ne&&(Ne.onload=null,Ne.onerror=null,Ne.onabort=null,Ne.ontimeout=null),ae(Z)}catch{}}function SE(){this.g=new Gn}function ry(P,X,Z){const ae=Z||"";try{ke(P,function(Ne,Ge){let At=Ne;u(Ne)&&(At=Lt(Ne)),X.push(ae+Ge+"="+encodeURIComponent(At))})}catch(Ne){throw X.push(ae+"type="+encodeURIComponent("_badmap")),Ne}}function Nc(P){this.l=P.Ub||null,this.j=P.eb||!1}p(Nc,Fn),Nc.prototype.g=function(){return new pf(this.l,this.j)},Nc.prototype.i=(function(P){return function(){return P}})({});function pf(P,X){ge.call(this),this.D=P,this.o=X,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(pf,ge),e=pf.prototype,e.open=function(P,X){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=P,this.A=X,this.readyState=1,ll(this)},e.send=function(P){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const X={headers:this.u,method:this.B,credentials:this.m,cache:void 0};P&&(X.body=P),(this.D||a).fetch(new Request(this.A,X)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gl(this)),this.readyState=0},e.Sa=function(P){if(this.g&&(this.l=P,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=P.headers,this.readyState=2,ll(this)),this.g&&(this.readyState=3,ll(this),this.g)))if(this.responseType==="arraybuffer")P.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in P){if(this.j=P.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ab(this)}else P.text().then(this.Ra.bind(this),this.ga.bind(this))};function ab(P){P.j.read().then(P.Pa.bind(P)).catch(P.ga.bind(P))}e.Pa=function(P){if(this.g){if(this.o&&P.value)this.response.push(P.value);else if(!this.o){var X=P.value?P.value:new Uint8Array(0);(X=this.v.decode(X,{stream:!P.done}))&&(this.response=this.responseText+=X)}P.done?Gl(this):ll(this),this.readyState==3&&ab(this)}},e.Ra=function(P){this.g&&(this.response=this.responseText=P,Gl(this))},e.Qa=function(P){this.g&&(this.response=P,Gl(this))},e.ga=function(){this.g&&Gl(this)};function Gl(P){P.readyState=4,P.l=null,P.j=null,P.v=null,ll(P)}e.setRequestHeader=function(P,X){this.u.append(P,X)},e.getResponseHeader=function(P){return this.h&&this.h.get(P.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const P=[],X=this.h.entries();for(var Z=X.next();!Z.done;)Z=Z.value,P.push(Z[0]+": "+Z[1]),Z=X.next();return P.join(`\r
`)};function ll(P){P.onreadystatechange&&P.onreadystatechange.call(P)}Object.defineProperty(pf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(P){this.m=P?"include":"same-origin"}});function $c(P){let X="";return S(P,function(Z,ae){X+=ae,X+=":",X+=Z,X+=`\r
`}),X}function fe(P,X,Z){e:{for(ae in Z){var ae=!1;break e}ae=!0}ae||(Z=$c(Z),typeof P=="string"?Z!=null&&encodeURIComponent(String(Z)):Zt(P,X,Z))}function Ce(P){ge.call(this),this.headers=new Map,this.o=P||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Ce,ge);var Ve=/^https?$/i,Ht=["POST","PUT"];e=Ce.prototype,e.Ha=function(P){this.J=P},e.ea=function(P,X,Z,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+P);X=X?X.toUpperCase():"GET",this.D=P,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tn.g(),this.v=this.o?Bi(this.o):Bi(Tn),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(X,String(P),!0),this.B=!1}catch(Ge){Dn(this,Ge);return}if(P=Z||"",Z=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var Ne in ae)Z.set(Ne,ae[Ne]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const Ge of ae.keys())Z.set(Ge,ae.get(Ge));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(Z.keys()).find(Ge=>Ge.toLowerCase()=="content-type"),Ne=a.FormData&&P instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ht,X,void 0))||ae||Ne||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ge,At]of Z)this.g.setRequestHeader(Ge,At);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dr(this),this.u=!0,this.g.send(P),this.u=!1}catch(Ge){Dn(this,Ge)}};function Dn(P,X){P.h=!1,P.g&&(P.j=!0,P.g.abort(),P.j=!1),P.l=X,P.m=5,cr(P),kn(P)}function cr(P){P.A||(P.A=!0,$e(P,"complete"),$e(P,"error"))}e.abort=function(P){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=P||7,$e(this,"complete"),$e(this,"abort"),kn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kn(this,!0)),Ce.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Fr(this):this.bb())},e.bb=function(){Fr(this)};function Fr(P){if(P.h&&typeof o<"u"&&(!P.v[1]||ai(P)!=4||P.Z()!=2)){if(P.u&&ai(P)==4)it(P.Ea,0,P);else if($e(P,"readystatechange"),ai(P)==4){P.h=!1;try{const At=P.Z();e:switch(At){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var X=!0;break e;default:X=!1}var Z;if(!(Z=X)){var ae;if(ae=At===0){var Ne=String(P.D).match(Qe)[1]||null;!Ne&&a.self&&a.self.location&&(Ne=a.self.location.protocol.slice(0,-1)),ae=!Ve.test(Ne?Ne.toLowerCase():"")}Z=ae}if(Z)$e(P,"complete"),$e(P,"success");else{P.m=6;try{var Ge=2<ai(P)?P.g.statusText:""}catch{Ge=""}P.l=Ge+" ["+P.Z()+"]",cr(P)}}finally{kn(P)}}}}function kn(P,X){if(P.g){Dr(P);const Z=P.g,ae=P.v[0]?()=>{}:null;P.g=null,P.v=null,X||$e(P,"ready");try{Z.onreadystatechange=ae}catch{}}}function Dr(P){P.I&&(a.clearTimeout(P.I),P.I=null)}e.isActive=function(){return!!this.g};function ai(P){return P.g?P.g.readyState:0}e.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(P){if(this.g){var X=this.g.responseText;return P&&X.indexOf(P)==0&&(X=X.substring(P.length)),wn(X)}};function Is(P){try{if(!P.g)return null;if("response"in P.g)return P.g.response;switch(P.H){case"":case"text":return P.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in P.g)return P.g.mozResponseArrayBuffer}return null}catch{return null}}function Au(P){const X={};P=(P.g&&2<=ai(P)&&P.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<P.length;ae++){if(y(P[ae]))continue;var Z=O(P[ae]);const Ne=Z[0];if(Z=Z[1],typeof Z!="string")continue;Z=Z.trim();const Ge=X[Ne]||[];X[Ne]=Ge,Ge.push(Z)}T(X,function(ae){return ae.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ul(P,X,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[P]||X}function Gh(P){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ul("failFast",!1,P),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ul("baseRetryDelayMs",5e3,P),this.cb=ul("retryDelaySeedMs",1e4,P),this.Wa=ul("forwardChannelMaxRetries",2,P),this.wa=ul("forwardChannelRequestTimeoutMs",2e4,P),this.pa=P&&P.xmlHttpFactory||void 0,this.Xa=P&&P.Tb||void 0,this.Ca=P&&P.useFetchStreams||!1,this.L=void 0,this.J=P&&P.supportsCrossDomainXhr||!1,this.K="",this.h=new Su(P&&P.concurrentRequestLimit),this.Da=new SE,this.P=P&&P.fastHandshake||!1,this.O=P&&P.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=P&&P.Rb||!1,P&&P.xa&&this.j.xa(),P&&P.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&P&&P.detectBufferingProxy||!1,this.ja=void 0,P&&P.longPollingTimeout&&0<P.longPollingTimeout&&(this.ja=P.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Gh.prototype,e.la=8,e.G=1,e.connect=function(P,X,Z,ae){dn(0),this.W=P,this.H=X||{},Z&&ae!==void 0&&(this.H.OSID=Z,this.H.OAID=ae),this.F=this.X,this.I=IA(this,null,this.W),mf(this)};function ps(P){if(lb(P),P.G==3){var X=P.U++,Z=at(P.I);if(Zt(Z,"SID",P.K),Zt(Z,"RID",X),Zt(Z,"TYPE","terminate"),Yh(P,Z),X=new Gs(P,P.j,X),X.L=2,X.v=jn(at(Z)),Z=!1,a.navigator&&a.navigator.sendBeacon)try{Z=a.navigator.sendBeacon(X.v.toString(),"")}catch{}!Z&&a.Image&&(new Image().src=X.v,Z=!0),Z||(X.g=RA(X.j,null),X.g.ea(X.v)),X.F=Date.now(),er(X)}AA(P)}function Mc(P){P.g&&(TE(P),P.g.cancel(),P.g=null)}function lb(P){Mc(P),P.u&&(a.clearTimeout(P.u),P.u=null),db(P),P.h.cancel(),P.s&&(typeof P.s=="number"&&a.clearTimeout(P.s),P.s=null)}function mf(P){if(!Ts(P.h)&&!P.s){P.s=!0;var X=P.Ga;V||z(),G||(V(),G=!0),Y.add(X,P),P.B=0}}function i8(P,X){return Nm(P.h)>=P.h.j-(P.s?1:0)?!1:P.s?(P.i=X.D.concat(P.i),!0):P.G==1||P.G==2||P.B>=(P.Va?0:P.Wa)?!1:(P.s=Sn(f(P.Ga,P,X),kA(P,P.B)),P.B++,!0)}e.Ga=function(P){if(this.s)if(this.s=null,this.G==1){if(!P){this.U=Math.floor(1e5*Math.random()),P=this.U++;const Ne=new Gs(this,this.j,P);let Ge=this.o;if(this.S&&(Ge?(Ge=k(Ge),R(Ge,this.S)):Ge=this.S),this.m!==null||this.O||(Ne.H=Ge,Ge=null),this.P)e:{for(var X=0,Z=0;Z<this.i.length;Z++){t:{var ae=this.i[Z];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(X+=ae,4096<X){X=Z;break e}if(X===4096||Z===this.i.length-1){X=Z+1;break e}}X=1e3}else X=1e3;X=Fm(this,Ne,X),Z=at(this.I),Zt(Z,"RID",P),Zt(Z,"CVER",22),this.D&&Zt(Z,"X-HTTP-Session-Id",this.D),Yh(this,Z),Ge&&(this.O?X="headers="+encodeURIComponent(String($c(Ge)))+"&"+X:this.m&&fe(Z,this.m,Ge)),se(this.h,Ne),this.Ua&&Zt(Z,"TYPE","init"),this.P?(Zt(Z,"$req",X),Zt(Z,"SID","null"),Ne.T=!0,df(Ne,Z,null)):df(Ne,Z,X),this.G=2}}else this.G==3&&(P?ub(this,P):this.i.length==0||Ts(this.h)||ub(this))};function ub(P,X){var Z;X?Z=X.l:Z=P.U++;const ae=at(P.I);Zt(ae,"SID",P.K),Zt(ae,"RID",Z),Zt(ae,"AID",P.T),Yh(P,ae),P.m&&P.o&&fe(ae,P.m,P.o),Z=new Gs(P,P.j,Z,P.B+1),P.m===null&&(Z.H=P.o),X&&(P.i=X.D.concat(P.i)),X=Fm(P,Z,1e3),Z.I=Math.round(.5*P.wa)+Math.round(.5*P.wa*Math.random()),se(P.h,Z),df(Z,ae,X)}function Yh(P,X){P.H&&S(P.H,function(Z,ae){Zt(X,ae,Z)}),P.l&&ke({},function(Z,ae){Zt(X,ae,Z)})}function Fm(P,X,Z){Z=Math.min(P.i.length,Z);var ae=P.l?f(P.l.Na,P.l,P):null;e:{var Ne=P.i;let Ge=-1;for(;;){const At=["count="+Z];Ge==-1?0<Z?(Ge=Ne[0].g,At.push("ofs="+Ge)):Ge=0:At.push("ofs="+Ge);let Ur=!0;for(let Rs=0;Rs<Z;Rs++){let dr=Ne[Rs].g;const Ks=Ne[Rs].map;if(dr-=Ge,0>dr)Ge=Math.max(0,Ne[Rs].g-100),Ur=!1;else try{ry(Ks,At,"req"+dr+"_")}catch{ae&&ae(Ks)}}if(Ur){ae=At.join("&");break e}}}return P=P.i.splice(0,Z),X.D=P,ae}function iy(P){if(!P.g&&!P.u){P.Y=1;var X=P.Fa;V||z(),G||(V(),G=!0),Y.add(X,P),P.v=0}}function cb(P){return P.g||P.u||3<=P.v?!1:(P.Y++,P.u=Sn(f(P.Fa,P),kA(P,P.v)),P.v++,!0)}e.Fa=function(){if(this.u=null,TA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var P=2*this.R;this.j.info("BP detection timer enabled: "+P),this.A=Sn(f(this.ab,this),P)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),Mc(this),TA(this))};function TE(P){P.A!=null&&(a.clearTimeout(P.A),P.A=null)}function TA(P){P.g=new Gs(P,P.j,"rpc",P.Y),P.m===null&&(P.g.H=P.o),P.g.O=0;var X=at(P.qa);Zt(X,"RID","rpc"),Zt(X,"SID",P.K),Zt(X,"AID",P.T),Zt(X,"CI",P.F?"0":"1"),!P.F&&P.ja&&Zt(X,"TO",P.ja),Zt(X,"TYPE","xmlhttp"),Yh(P,X),P.m&&P.o&&fe(X,P.m,P.o),P.L&&(P.g.I=P.L);var Z=P.g;P=P.ia,Z.L=1,Z.v=jn(at(X)),Z.m=null,Z.P=!0,Dc(Z,P)}e.Za=function(){this.C!=null&&(this.C=null,Mc(this),cb(this),dn(19))};function db(P){P.C!=null&&(a.clearTimeout(P.C),P.C=null)}function fb(P,X){var Z=null;if(P.g==X){db(P),TE(P),P.g=null;var ae=2}else if(ks(P.h,X))Z=X.D,Ee(P.h,X),ae=1;else return;if(P.G!=0){if(X.o)if(ae==1){Z=X.m?X.m.length:0,X=Date.now()-X.F;var Ne=P.B;ae=Es(),$e(ae,new Rr(ae,Z)),mf(P)}else iy(P);else if(Ne=X.s,Ne==3||Ne==0&&0<X.X||!(ae==1&&i8(P,X)||ae==2&&cb(P)))switch(Z&&0<Z.length&&(X=P.h,X.i=X.i.concat(Z)),Ne){case 1:Kh(P,5);break;case 4:Kh(P,10);break;case 3:Kh(P,6);break;default:Kh(P,2)}}}function kA(P,X){let Z=P.Ta+Math.floor(Math.random()*P.cb);return P.isActive()||(Z*=2),Z*X}function Kh(P,X){if(P.j.info("Error code "+X),X==2){var Z=f(P.fb,P),ae=P.Xa;const Ne=!ae;ae=new lt(ae||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vt(ae,"https"),jn(ae),Ne?ob(ae.toString(),Z):ku(ae.toString(),Z)}else dn(2);P.G=0,P.l&&P.l.sa(X),AA(P),lb(P)}e.fb=function(P){P?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function AA(P){if(P.G=0,P.ka=[],P.l){const X=de(P.h);(X.length!=0||P.i.length!=0)&&(g(P.ka,X),g(P.ka,P.i),P.h.i.length=0,m(P.i),P.i.length=0),P.l.ra()}}function IA(P,X,Z){var ae=Z instanceof lt?at(Z):new lt(Z);if(ae.g!="")X&&(ae.g=X+"."+ae.g),Bt(ae,ae.s);else{var Ne=a.location;ae=Ne.protocol,X=X?X+"."+Ne.hostname:Ne.hostname,Ne=+Ne.port;var Ge=new lt(null);ae&&vt(Ge,ae),X&&(Ge.g=X),Ne&&Bt(Ge,Ne),Z&&(Ge.l=Z),ae=Ge}return Z=P.D,X=P.ya,Z&&X&&Zt(ae,Z,X),Zt(ae,"VER",P.la),Yh(P,ae),ae}function RA(P,X,Z){if(X&&!P.J)throw Error("Can't create secondary domain capable XhrIo object.");return X=P.Ca&&!P.pa?new Ce(new Nc({eb:Z})):new Ce(P.pa),X.Ha(P.J),X}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function kE(){}e=kE.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function cl(P,X){ge.call(this),this.g=new Gh(X),this.l=P,this.h=X&&X.messageUrlParams||null,P=X&&X.messageHeaders||null,X&&X.clientProtocolHeaderRequired&&(P?P["X-Client-Protocol"]="webchannel":P={"X-Client-Protocol":"webchannel"}),this.g.o=P,P=X&&X.initMessageHeaders||null,X&&X.messageContentType&&(P?P["X-WebChannel-Content-Type"]=X.messageContentType:P={"X-WebChannel-Content-Type":X.messageContentType}),X&&X.va&&(P?P["X-WebChannel-Client-Profile"]=X.va:P={"X-WebChannel-Client-Profile":X.va}),this.g.S=P,(P=X&&X.Sb)&&!y(P)&&(this.g.m=P),this.v=X&&X.supportsCrossDomainXhr||!1,this.u=X&&X.sendRawJson||!1,(X=X&&X.httpSessionIdParam)&&!y(X)&&(this.g.D=X,P=this.h,P!==null&&X in P&&(P=this.h,X in P&&delete P[X])),this.j=new Lm(this)}p(cl,ge),cl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cl.prototype.close=function(){ps(this.g)},cl.prototype.o=function(P){var X=this.g;if(typeof P=="string"){var Z={};Z.__data__=P,P=Z}else this.u&&(Z={},Z.__data__=Lt(P),P=Z);X.i.push(new Om(X.Ya++,P)),X.G==3&&mf(X)},cl.prototype.N=function(){this.g.l=null,delete this.j,ps(this.g),delete this.g,cl.aa.N.call(this)};function DA(P){Kr.call(this),P.__headers__&&(this.headers=P.__headers__,this.statusCode=P.__status__,delete P.__headers__,delete P.__status__);var X=P.__sm__;if(X){e:{for(const Z in X){P=Z;break e}P=void 0}(this.i=P)&&(P=this.i,X=X!==null&&P in X?X[P]:void 0),this.data=X}else this.data=P}p(DA,Kr);function PA(){Yn.call(this),this.status=1}p(PA,Yn);function Lm(P){this.g=P}p(Lm,kE),Lm.prototype.ua=function(){$e(this.g,"a")},Lm.prototype.ta=function(P){$e(this.g,new DA(P))},Lm.prototype.sa=function(P){$e(this.g,new PA)},Lm.prototype.ra=function(){$e(this.g,"b")},cl.prototype.send=cl.prototype.o,cl.prototype.open=cl.prototype.m,cl.prototype.close=cl.prototype.close,Ac.NO_ERROR=0,Ac.TIMEOUT=8,Ac.HTTP_ERROR=6,uf.COMPLETE="complete",Zn.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha}).apply(typeof F3<"u"?F3:typeof self<"u"?self:typeof window<"u"?window:{});const pye="@firebase/firestore",mye="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ru.UNAUTHENTICATED=new ru(null),ru.GOOGLE_CREDENTIALS=new ru("google-credentials-uid"),ru.FIRST_PARTY=new ru("first-party-uid"),ru.MOCK_USER=new ru("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n8="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new F$("@firebase/firestore");function md(e,...t){if(bN.logLevel<=Vr.DEBUG){const n=t.map(vMe);bN.debug(`Firestore (${n8}): ${e}`,...n)}}function yMe(e,...t){if(bN.logLevel<=Vr.ERROR){const n=t.map(vMe);bN.error(`Firestore (${n8}): ${e}`,...n)}}function vMe(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,bMe(e,r,n)}function bMe(e,t,n){let r=`FIRESTORE (${n8}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yMe(r),new Error(r)}function v2(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||bMe(t,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Or extends Rh{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xtn{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _tn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(ru.UNAUTHENTICATED)))}shutdown(){}}class Etn{constructor(t){this.t=t,this.currentUser=ru.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){v2(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new b2;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new b2,t.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const l=s;t.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},a=l=>{md("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(md("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new b2)}}),0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(md("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(v2(typeof r.accessToken=="string",31837,{l:r}),new xtn(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return v2(t===null||typeof t=="string",2055,{h:t}),new ru(t)}}class Ctn{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=ru.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Stn{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new Ctn(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(ru.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gye{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ttn{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hu(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){v2(this.o===void 0,3512);const r=s=>{s.error!=null&&md("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,md("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable((()=>r(s)))};const i=s=>{md("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):md("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gye(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(v2(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gye(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ktn(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Atn(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Itn{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ktn(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function Sd(e,t){return e<t?-1:e>t?1:0}function Rtn(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Sd(r,i);{const s=Atn(),o=Dtn(s.encode(yye(e,n)),s.encode(yye(t,n)));return o!==0?o:Sd(r,i)}}n+=r>65535?2:1}return Sd(e.length,t.length)}function yye(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Dtn(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Sd(e[n],t[n]);return Sd(e.length,t.length)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vye="__name__";class Of{constructor(t,n,r){n===void 0?n=0:n>t.length&&wN(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&wN(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Of.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Of?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=Of.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return Sd(t.length,n.length)}static compareSegments(t,n){const r=Of.isNumericId(t),i=Of.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Of.extractNumericId(t).compare(Of.extractNumericId(n)):Rtn(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Dte.fromString(t.substring(4,t.length-2))}}class td extends Of{construct(t,n,r){return new td(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Or(Pr.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new td(n)}static emptyPath(){return new td([])}}const Ptn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rv extends Of{construct(t,n,r){return new rv(t,n,r)}static isValidIdentifier(t){return Ptn.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rv.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vye}static keyField(){return new rv([vye])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Or(Pr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Or(Pr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Or(Pr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Or(Pr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rv(n)}static emptyPath(){return new rv([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(t){this.path=t}static fromPath(t){return new vv(td.fromString(t))}static fromName(t){return new vv(td.fromString(t).popFirst(5))}static empty(){return new vv(td.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&td.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return td.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vv(new td(t.slice()))}}function Otn(e,t,n,r){if(t===!0&&r===!0)throw new Or(Pr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ntn(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(e,t){const n={typeString:e};return t&&(n.value=t),n}function EA(e,t){if(!Ntn(e))throw new Or(Pr.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Or(Pr.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bye=-62135596800,wye=1e6;class Mf{static now(){return Mf.fromMillis(Date.now())}static fromDate(t){return Mf.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*wye);return new Mf(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Or(Pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Or(Pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<bye)throw new Or(Pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Or(Pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wye}_compareTo(t){return this.seconds===t.seconds?Sd(this.nanoseconds,t.nanoseconds):Sd(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mf._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(EA(t,Mf._jsonSchema))return new Mf(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bye;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mf._jsonSchemaVersion="firestore/timestamp/1.0",Mf._jsonSchema={type:vs("string",Mf._jsonSchemaVersion),seconds:vs("number"),nanoseconds:vs("number")};function $tn(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mtn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Mtn("Invalid base64 string: "+s):s}})(t);return new w1(n)}static fromUint8Array(t){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(t);return new w1(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sd(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}w1.EMPTY_BYTE_STRING=new w1("");const xye="(default)";class xN{constructor(t,n){this.projectId=t,this.database=n||xye}static empty(){return new xN("","")}get isDefaultDatabase(){return this.database===xye}isEqual(t){return t instanceof xN&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ftn{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Ltn(e){return new Ftn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _ye,fr;(fr=_ye||(_ye={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Dte([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jtn=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Btn=1048576;function I7(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ztn{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Fi=t,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&md("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new b2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Pte(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Or(Pr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Eye,Cye;(Cye=Eye||(Eye={})).Fa="default",Cye.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Utn(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sye=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qtn="firestore.googleapis.com",Tye=!0;class kye{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Or(Pr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qtn,this.ssl=Tye}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Tye;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jtn;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Btn)throw new Or(Pr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Otn("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Utn((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Or(Pr.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Or(Pr.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Or(Pr.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Htn{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kye({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Or(Pr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Or(Pr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kye(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _tn;switch(r.type){case"firstParty":return new Stn(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Or(Pr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Sye.get(n);r&&(md("ComponentProvider","Removing Datastore"),Sye.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ote(this.firestore,t,this._query)}}class Wf{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nte(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Wf(this.firestore,t,this._key)}toJSON(){return{type:Wf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(EA(n,Wf._jsonSchema))return new Wf(t,r||null,new vv(td.fromString(n.referencePath)))}}Wf._jsonSchemaVersion="firestore/documentReference/1.0",Wf._jsonSchema={type:vs("string",Wf._jsonSchemaVersion),referencePath:vs("string")};class Nte extends Ote{constructor(t,n,r){super(t,n,Ltn(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Wf(this.firestore,null,new vv(t))}withConverter(t){return new Nte(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aye="AsyncQueue";class Iye{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ztn(this,"async_queue_retry"),this.oc=()=>{const r=I7();r&&md(Aye,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const n=I7();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=I7();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new b2;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!$tn(t))throw t;md(Aye,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((r=>{throw this.tc=r,this.nc=!1,yMe("INTERNAL UNHANDLED ERROR: ",Rye(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(t,n,r){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const i=Pte.createAndSchedule(this,t,n,r,(s=>this.lc(s)));return this.ec.push(i),i}ac(){this.tc&&wN(47125,{hc:Rye(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function Rye(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Vtn extends Htn{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Iye,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Iye(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cp(w1.fromBase64String(t))}catch(n){throw new Or(Pr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Cp(w1.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Cp._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(EA(t,Cp._jsonSchema))return Cp.fromBase64String(t.bytes)}}Cp._jsonSchemaVersion="firestore/bytes/1.0",Cp._jsonSchema={type:vs("string",Cp._jsonSchemaVersion),bytes:vs("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wMe{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Or(Pr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rv(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Or(Pr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Or(Pr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Sd(this._lat,t._lat)||Sd(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$v._jsonSchemaVersion}}static fromJSON(t){if(EA(t,$v._jsonSchema))return new $v(t.latitude,t.longitude)}}$v._jsonSchemaVersion="firestore/geoPoint/1.0",$v._jsonSchema={type:vs("string",$v._jsonSchemaVersion),latitude:vs("number"),longitude:vs("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mv._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(EA(t,Mv._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Mv(t.vectorValues);throw new Or(Pr.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mv._jsonSchemaVersion="firestore/vectorValue/1.0",Mv._jsonSchema={type:vs("string",Mv._jsonSchemaVersion),vectorValues:vs("object")};const Wtn=new RegExp("[~\\*/\\[\\]]");function Gtn(e,t,n){if(t.search(Wtn)>=0)throw Dye(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new wMe(...t.split("."))._internalPath}catch{throw Dye(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Dye(e,t,n,r,i){let s=`Function ${t}() called with invalid data`;s+=". ";let o="";return new Or(Pr.INVALID_ARGUMENT,s+e+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xMe{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wf(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ytn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(_Me("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ytn extends xMe{data(){return super.data()}}function _Me(e,t){return typeof t=="string"?Gtn(e,t):t instanceof wMe?t._internalPath:t._delegate._internalPath}class L3{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bx extends xMe{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new DP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(_Me("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Or(Pr.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=bx._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bx._jsonSchemaVersion="firestore/documentSnapshot/1.0",bx._jsonSchema={type:vs("string",bx._jsonSchemaVersion),bundleSource:vs("string","DocumentSnapshot"),bundleName:vs("string"),bundle:vs("string")};class DP extends bx{data(t={}){return super.data(t)}}class w2{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new L3(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new DP(this._firestore,this._userDataWriter,r.key,r,new L3(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Or(Pr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const l=new DP(i._firestore,i._userDataWriter,a.doc.key,a.doc,new L3(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const l=new DP(i._firestore,i._userDataWriter,a.doc.key,a.doc,new L3(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Ktn(a.type),doc:l,oldIndex:u,newIndex:c}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Or(Pr.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=w2._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Itn.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Ktn(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wN(61501,{type:e})}}w2._jsonSchemaVersion="firestore/querySnapshot/1.0",w2._jsonSchema={type:vs("string",w2._jsonSchemaVersion),bundleSource:vs("string","QuerySnapshot"),bundleName:vs("string"),bundle:vs("string")};(function(t,n=!0){(function(i){n8=i})(P1),Zp(new ch("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Vtn(new Etn(r.getProvider("auth-internal")),new Ttn(o,r.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Or(Pr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xN(u.options.projectId,c)})(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),vd(pye,mye,t),vd(pye,mye,"esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xtn=new Map,Qtn={activated:!1,tokenObservers:[]};function Ld(e){return Xtn.get(e)||Object.assign({},Qtn)}const Pye={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jtn{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new kz,this.pending.promise.catch(n=>{}),await Ztn(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new kz,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Ztn(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const enn={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},_N=new H_("appCheck","AppCheck",enn);function EMe(e){if(!Ld(e).activated)throw _N.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tnn="firebase-app-check-database",nnn=1,cV="firebase-app-check-store";let j3=null;function rnn(){return j3||(j3=new Promise((e,t)=>{try{const n=indexedDB.open(tnn,nnn);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(_N.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(cV,{keyPath:"compositeKey"})}}}catch(n){t(_N.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),j3)}function inn(e,t){return snn(onn(e),t)}async function snn(e,t){const r=(await rnn()).transaction(cV,"readwrite"),s=r.objectStore(cV).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(_N.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function onn(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=new F$("@firebase/app-check");function Oye(e,t){return H_e()?inn(e,t).catch(n=>{dV.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ann={error:"UNKNOWN_ERROR"};function lnn(e){return hY.encodeString(JSON.stringify(e),!1)}async function fV(e,t=!1,n=!1){const r=e.app;EMe(r);const i=Ld(r);let s=i.token,o;if(s&&!MS(s)&&(i.token=void 0,s=void 0),!s){const u=await i.cachedTokenPromise;u&&(MS(u)?s=u:await Oye(r,void 0))}if(!t&&s&&MS(s))return{token:s.token};let a=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await Ld(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?dV.warn(u.message):n&&dV.error(u),o=u}let l;return s?o?MS(s)?l={token:s.token,internalError:o}:l=$ye(o):(l={token:s.token},i.token=s,await Oye(r,s)):l=$ye(o),a&&fnn(r,l),l}async function unn(e){const t=e.app;EMe(t);const{provider:n}=Ld(t);{const{token:r}=await n.getToken();return{token:r}}}function cnn(e,t,n,r){const{app:i}=e,s=Ld(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&MS(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Nye(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Nye(e))}function CMe(e,t){const n=Ld(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Nye(e){const{app:t}=e,n=Ld(t);let r=n.tokenRefresher;r||(r=dnn(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function dnn(e){const{app:t}=e;return new Jtn(async()=>{const n=Ld(t);let r;if(n.token?r=await fV(e,!0):r=await fV(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Ld(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Pye.RETRIAL_MIN_WAIT,Pye.RETRIAL_MAX_WAIT)}function fnn(e,t){const n=Ld(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function MS(e){return e.expireTimeMillis-Date.now()>0}function $ye(e){return{token:lnn(ann),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hnn{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Ld(this.app);for(const n of t)CMe(this.app,n.next);return Promise.resolve()}}function pnn(e,t){return new hnn(e,t)}function mnn(e){return{getToken:t=>fV(e,t),getLimitedUseToken:()=>unn(e),addTokenListener:t=>cnn(e,"INTERNAL",t),removeTokenListener:t=>CMe(e.app,t)}}const gnn="@firebase/app-check",ynn="0.10.1",vnn="app-check",Mye="app-check-internal";function bnn(){Zp(new ch(vnn,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return pnn(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Mye).initialize()})),Zp(new ch(Mye,e=>{const t=e.getProvider("app-check").getImmediate();return mnn(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),vd(gnn,ynn)}bnn();const wnn=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qv(async()=>{const{default:r}=await Promise.resolve().then(()=>CA);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class $te extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class xnn extends $te{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Fye extends $te{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Lye extends $te{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hV;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hV||(hV={}));var _nn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Enn{constructor(t,{headers:n={},customFetch:r,region:i=hV.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=wnn(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return _nn(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(m=>{throw new xnn(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Fye(d);if(!d.ok)throw new Lye(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof Lye||i instanceof Fye?i.context:void 0}}})}}var eo={},fw={},hw={},pw={},mw={},gw={},Cnn=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},__=Cnn();const Snn=__.fetch,SMe=__.fetch.bind(__),TMe=__.Headers,Tnn=__.Request,knn=__.Response,CA=Object.freeze(Object.defineProperty({__proto__:null,Headers:TMe,Request:Tnn,Response:knn,default:SMe,fetch:Snn},Symbol.toStringTag,{value:"Module"})),Ann=uve(CA);var B3={},jye;function kMe(){if(jye)return B3;jye=1,Object.defineProperty(B3,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return B3.default=e,B3}var Bye;function AMe(){if(Bye)return gw;Bye=1;var e=gw&&gw.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(gw,"__esModule",{value:!0});const t=e(Ann),n=e(kMe());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f;let h=null,p=null,m=null,g=u.status,v=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=C:p=JSON.parse(C))}const w=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),E=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&E&&E.length>1&&(m=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await u.text();try{h=JSON.parse(w),Array.isArray(h)&&u.status===404&&(p=[],h=null,g=200,v="OK")}catch{u.status===404&&w===""?(g=204,v="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,g=200,v="OK"),h&&this.shouldThrowOnError)throw new n.default(h)}return{error:h,data:p,count:m,status:g,statusText:v}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,f;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return gw.default=r,gw}var zye;function IMe(){if(zye)return mw;zye=1;var e=mw&&mw.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mw,"__esModule",{value:!0});const t=e(AMe());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return mw.default=n,mw}var Uye;function Mte(){if(Uye)return pw;Uye=1;var e=pw&&pw.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pw,"__esModule",{value:!0});const t=e(IMe());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return pw.default=n,pw}var qye;function RMe(){if(qye)return hw;qye=1;var e=hw&&hw.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hw,"__esModule",{value:!0});const t=e(Mte());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return hw.default=n,hw}var GC={},YC={},Hye;function Inn(){return Hye||(Hye=1,Object.defineProperty(YC,"__esModule",{value:!0}),YC.version=void 0,YC.version="0.0.0-automated"),YC}var Vye;function Rnn(){if(Vye)return GC;Vye=1,Object.defineProperty(GC,"__esModule",{value:!0}),GC.DEFAULT_HEADERS=void 0;const e=Inn();return GC.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},GC}var Wye;function Dnn(){if(Wye)return fw;Wye=1;var e=fw&&fw.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(fw,"__esModule",{value:!0});const t=e(RMe()),n=e(Mte()),r=Rnn();class i{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let d;const f=new URL(`${this.url}/rpc/${o}`);let h;l||u?(d=l?"HEAD":"GET",Object.entries(a).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{f.searchParams.append(m,g)})):(d="POST",h=a);const p=Object.assign({},this.headers);return c&&(p.Prefer=`count=${c}`),new n.default({method:d,url:f,headers:p,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return fw.default=i,fw}var Gye;function Pnn(){if(Gye)return eo;Gye=1;var e=eo&&eo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(eo,"__esModule",{value:!0}),eo.PostgrestError=eo.PostgrestBuilder=eo.PostgrestTransformBuilder=eo.PostgrestFilterBuilder=eo.PostgrestQueryBuilder=eo.PostgrestClient=void 0;const t=e(Dnn());eo.PostgrestClient=t.default;const n=e(RMe());eo.PostgrestQueryBuilder=n.default;const r=e(Mte());eo.PostgrestFilterBuilder=r.default;const i=e(IMe());eo.PostgrestTransformBuilder=i.default;const s=e(AMe());eo.PostgrestBuilder=s.default;const o=e(kMe());return eo.PostgrestError=o.default,eo.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},eo}var Onn=Pnn();const Nnn=qs(Onn),{PostgrestClient:$nn,PostgrestQueryBuilder:Rsn,PostgrestFilterBuilder:Dsn,PostgrestTransformBuilder:Psn,PostgrestBuilder:Osn,PostgrestError:Nsn}=Nnn;class Mnn{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Fnn="2.15.1",Lnn=`realtime-js/${Fnn}`,jnn="1.0.0",pV=1e4,Bnn=1e3,znn=100;var x2;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(x2||(x2={}));var Ns;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ns||(Ns={}));var Jc;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jc||(Jc={}));var mV;(function(e){e.websocket="websocket"})(mV||(mV={}));var iv;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(iv||(iv={}));class Unn{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class DMe{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ui;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ui||(ui={}));const Yye=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=qnn(o,e,t,i),s),{})},qnn=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?PMe(s,o):gV(o)},PMe=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Gnn(t,n)}switch(e){case ui.bool:return Hnn(t);case ui.float4:case ui.float8:case ui.int2:case ui.int4:case ui.int8:case ui.numeric:case ui.oid:return Vnn(t);case ui.json:case ui.jsonb:return Wnn(t);case ui.timestamp:return Ynn(t);case ui.abstime:case ui.date:case ui.daterange:case ui.int4range:case ui.int8range:case ui.money:case ui.reltime:case ui.text:case ui.time:case ui.timestamptz:case ui.timetz:case ui.tsrange:case ui.tstzrange:return gV(t);default:return gV(t)}},gV=e=>e,Hnn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vnn=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wnn=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gnn=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>PMe(t,a))}return e},Ynn=e=>typeof e=="string"?e.replace(" ","T"):e,OMe=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class R7{constructor(t,n,r={},i=pV){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kye;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kye||(Kye={}));class _2{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_2.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=_2.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_2.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(g=>g.presence_ref),h=d.map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0),m=d.filter(g=>f.indexOf(g.presence_ref)<0);p.length>0&&(a[u]=p),m.length>0&&(l[u]=m)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xye;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xye||(Xye={}));var E2;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(E2||(E2={}));var mp;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mp||(mp={}));class Fte{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ns.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new R7(this,Jc.join,this.params,this.timeout),this.rejoinTimer=new DMe(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ns.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ns.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ns.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ns.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ns.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jc.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new _2(this),this.broadcastEndpointURL=OMe(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ns.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[E2.PRESENCE]&&this.bindings[E2.PRESENCE].length>0,c={},d={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(mp.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(mp.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){t==null||t(mp.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,g=[];for(let v=0;v<m;v++){const y=p[v],{filter:{event:w,schema:E,table:C,filter:S}}=y,T=f&&f[v];if(T&&T.event===w&&T.schema===E&&T.table===C&&T.filter===S)g.push(Object.assign(Object.assign({},y),{id:T.id}));else{this.unsubscribe(),this.state=Ns.errored,t==null||t(mp.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(mp.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ns.errored,t==null||t(mp.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mp.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ns.joined&&t===E2.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ns.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jc.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new R7(this,Jc.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ns.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new R7(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>znn){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Jc;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,m,g;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(m=h.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(h=>{var p,m,g,v,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const E=h.id,C=(p=h.filter)===null||p===void 0?void 0:p.event;return E&&((m=n.ids)===null||m===void 0?void 0:m.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const E=(y=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return E==="*"||E===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:m,table:g,commit_timestamp:v,type:y,errors:w}=p;f=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:v,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===Ns.closed}_isJoined(){return this.state===Ns.joined}_isJoining(){return this.state===Ns.joining}_isLeaving(){return this.state===Ns.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Fte.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jc.close,{},t)}_onError(t){this._on(Jc.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ns.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Yye(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Yye(t.columns,t.old_record)),n}}const Qye=()=>{},z3={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Knn=[1e3,2e3,5e3,1e4],Xnn=1e4,Qnn=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jnn{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pV,this.transport=null,this.heartbeatIntervalMs=z3.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qye,this.ref=0,this.reconnectTimer=null,this.logger=Qye,this.conn=null,this.sendBuffer=[],this.serializer=new Unn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Qv(async()=>{const{default:a}=await import("./index-D4V9fnLB.js");return{default:a}},[]).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${mV.websocket}`,this.httpEndpoint=OMe(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mnn.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jnn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case x2.connecting:return iv.Connecting;case x2.open:return iv.Open;case x2.closing:return iv.Closing;default:return iv.Closed}}isConnected(){return this.connectionState()===iv.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Fte(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Bnn,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},z3.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jc.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Qnn],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Lnn};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Jc.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new DMe(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},z3.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,l,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:pV,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:z3.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t==null?void 0:t.reconnectAfterMs)!==null&&a!==void 0?a:(c=>Knn[c-1]||Xnn),this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:((c,d)=>d(JSON.stringify(c))),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Lte extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $s(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Znn extends Lte{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yV extends Lte{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ern=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const NMe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qv(async()=>{const{default:r}=await Promise.resolve().then(()=>CA);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},trn=()=>ern(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qv(()=>Promise.resolve().then(()=>CA),void 0)).Response:Response}),vV=e=>{if(Array.isArray(e))return e.map(n=>vV(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=vV(r)}),t},nrn=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var sb=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const D7=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rrn=(e,t,n)=>sb(void 0,void 0,void 0,function*(){const r=yield trn();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new Znn(D7(i),s,o))}).catch(i=>{t(new yV(D7(i),i))}):t(new yV(D7(e),e))}),irn=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(nrn(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function SA(e,t,n,r,i,s){return sb(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,irn(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>rrn(l,a,r))})})}function EN(e,t,n,r){return sb(this,void 0,void 0,function*(){return SA(e,"GET",t,n,r)})}function If(e,t,n,r,i){return sb(this,void 0,void 0,function*(){return SA(e,"POST",t,r,i,n)})}function bV(e,t,n,r,i){return sb(this,void 0,void 0,function*(){return SA(e,"PUT",t,r,i,n)})}function srn(e,t,n,r){return sb(this,void 0,void 0,function*(){return SA(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function $Me(e,t,n,r,i){return sb(this,void 0,void 0,function*(){return SA(e,"DELETE",t,r,i,n)})}var $a=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const orn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jye={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class arn{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=NMe(i)}uploadOrUpdate(t,n,r,i){return $a(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Jye),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(t=="PUT"?bV:If)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if($s(s))return{data:null,error:s};throw s}})}upload(t,n,r){return $a(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return $a(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Jye.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield bV(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if($s(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return $a(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield If(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Lte("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if($s(r))return{data:null,error:r};throw r}})}update(t,n,r){return $a(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return $a(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if($s(i))return{data:null,error:i};throw i}})}copy(t,n,r){return $a(this,void 0,void 0,function*(){try{return{data:{path:(yield If(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if($s(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return $a(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield If(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if($s(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return $a(this,void 0,void 0,function*(){try{const i=yield If(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if($s(i))return{data:null,error:i};throw i}})}download(t,n){return $a(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield EN(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if($s(a))return{data:null,error:a};throw a}})}info(t){return $a(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield EN(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vV(r),error:null}}catch(r){if($s(r))return{data:null,error:r};throw r}})}exists(t){return $a(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield srn(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if($s(r)&&r instanceof yV){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return $a(this,void 0,void 0,function*(){try{return{data:yield $Me(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}list(t,n,r){return $a(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},orn),n),{prefix:t||""});return{data:yield If(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if($s(i))return{data:null,error:i};throw i}})}listV2(t,n){return $a(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield If(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if($s(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const lrn="2.11.0",urn={"X-Client-Info":`storage-js/${lrn}`};var yw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class crn{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},urn),n),this.fetch=NMe(r)}listBuckets(){return yw(this,void 0,void 0,function*(){try{return{data:yield EN(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if($s(t))return{data:null,error:t};throw t}})}getBucket(t){return yw(this,void 0,void 0,function*(){try{return{data:yield EN(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return yw(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($s(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return yw(this,void 0,void 0,function*(){try{return{data:yield bV(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($s(r))return{data:null,error:r};throw r}})}emptyBucket(t){return yw(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}deleteBucket(t){return yw(this,void 0,void 0,function*(){try{return{data:yield $Me(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}}class drn extends crn{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new arn(this.url,this.headers,t,this.fetch)}}const frn="2.55.0";let FS="";typeof Deno<"u"?FS="deno":typeof document<"u"?FS="web":typeof navigator<"u"&&navigator.product==="ReactNative"?FS="react-native":FS="node";const hrn={"X-Client-Info":`supabase-js-${FS}/${frn}`},prn={headers:hrn},mrn={schema:"public"},grn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yrn={};var vrn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const brn=e=>{let t;return e?t=e:typeof fetch>"u"?t=SMe:t=fetch,(...n)=>t(...n)},wrn=()=>typeof Headers>"u"?TMe:Headers,xrn=(e,t,n)=>{const r=brn(n),i=wrn();return(s,o)=>vrn(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var _rn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Ern(e){return e.endsWith("/")?e:e+"/"}function Crn(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>_rn(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const MMe="2.71.1",Aw=30*1e3,wV=3,P7=wV*Aw,Srn="http://localhost:9999",Trn="supabase.auth.token",krn={"X-Client-Info":`gotrue-js/${MMe}`},xV="X-Supabase-Api-Version",FMe={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Arn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Irn=600*1e3;class jte extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function On(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Rrn extends jte{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Drn(e){return On(e)&&e.name==="AuthApiError"}class LMe extends jte{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ny extends jte{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class d0 extends ny{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Prn(e){return On(e)&&e.name==="AuthSessionMissingError"}class U3 extends ny{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class q3 extends ny{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class H3 extends ny{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Orn(e){return On(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zye extends ny{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _V extends ny{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function O7(e){return On(e)&&e.name==="AuthRetryableFetchError"}class eve extends ny{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class EV extends ny{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const CN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tve=` 	
\r=`.split(""),Nrn=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tve.length;t+=1)e[tve[t].charCodeAt(0)]=-2;for(let t=0;t<CN.length;t+=1)e[CN[t].charCodeAt(0)]=t;return e})();function nve(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(CN[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(CN[r]),t.queuedBits-=6}}function jMe(e,t,n){const r=Nrn[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rve(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Frn(o,r,n)};for(let o=0;o<e.length;o+=1)jMe(e.charCodeAt(o),i,s);return t.join("")}function $rn(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Mrn(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}$rn(r,t)}}function Frn(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Lrn(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)jMe(e.charCodeAt(i),n,r);return new Uint8Array(t)}function jrn(e){const t=[];return Mrn(e,n=>t.push(n)),new Uint8Array(t)}function Brn(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>nve(i,n,r)),nve(null,n,r),t.join("")}function zrn(e){return Math.round(Date.now()/1e3)+e}function Urn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Yc=()=>typeof window<"u"&&typeof document<"u",Ny={tested:!1,writable:!1},BMe=()=>{if(!Yc())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ny.tested)return Ny.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ny.tested=!0,Ny.writable=!0}catch{Ny.tested=!0,Ny.writable=!1}return Ny.writable};function qrn(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const zMe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qv(async()=>{const{default:r}=await Promise.resolve().then(()=>CA);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Hrn=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Iw=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$y=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},s0=async(e,t)=>{await e.removeItem(t)};class r8{constructor(){this.promise=new r8.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}r8.promiseConstructor=Promise;function N7(e){const t=e.split(".");if(t.length!==3)throw new EV("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Arn.test(t[r]))throw new EV("JWT not in base64url format");return{header:JSON.parse(rve(t[0])),payload:JSON.parse(rve(t[1])),signature:Lrn(t[2]),raw:{header:t[0],payload:t[1]}}}async function Vrn(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Wrn(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function Grn(e){return("0"+e.toString(16)).substr(-2)}function Yrn(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Grn).join("")}async function Krn(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Xrn(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Krn(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vw(e,t,n=!1){const r=Yrn();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Iw(e,`${t}-code-verifier`,i);const s=await Xrn(r);return[s,r===s?"plain":"s256"]}const Qrn=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jrn(e){const t=e.headers.get(xV);if(!t||!t.match(Qrn))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Zrn(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ein(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tin=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bw(e){if(!tin.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $7(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ive(e){return JSON.parse(JSON.stringify(e))}var nin=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Yy=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rin=[502,503,504];async function sve(e){var t;if(!Hrn(e))throw new _V(Yy(e),0);if(rin.includes(e.status))throw new _V(Yy(e),e.status);let n;try{n=await e.json()}catch(s){throw new LMe(Yy(s),s)}let r;const i=Jrn(e);if(i&&i.getTime()>=FMe["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new eve(Yy(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new d0}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new eve(Yy(n),e.status,n.weak_password.reasons);throw new Rrn(Yy(n),e.status||500,r)}const iin=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Kn(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[xV]||(s[xV]=FMe["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await sin(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function sin(e,t,n,r,i,s){const o=iin(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new _V(Yy(l),0)}if(a.ok||await sve(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await sve(l)}}function fp(e){var t;let n=null;uin(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=zrn(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ove(e){const t=fp(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function I0(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oin(e){return{data:e,error:null}}function ain(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=nin(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function lin(e){return e}function uin(e){return e.access_token&&e.refresh_token&&e.expires_in}const M7=["global","local","others"];var cin=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class din{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=zMe(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=M7[0]){if(M7.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${M7.join(", ")}`);try{return await Kn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Kn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:I0})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=cin(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Kn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ain,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(On(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Kn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:I0})}catch(n){if(On(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Kn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:lin});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(On(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){bw(t);try{return await Kn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:I0})}catch(n){if(On(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){bw(t);try{return await Kn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:I0})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){bw(t);try{return await Kn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:I0})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){bw(t.userId);try{const{data:n,error:r}=await Kn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(On(n))return{data:null,error:n};throw n}}async _deleteFactor(t){bw(t.userId),bw(t.id);try{return{data:await Kn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}}function ave(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function fin(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ww={debug:!!(globalThis&&BMe()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class UMe extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hin extends UMe{}async function pin(e,t,n){ww.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ww.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ww.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ww.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ww.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hin(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ww.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}fin();const min={url:Srn,storageKey:Trn,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:krn,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lve(e,t,n){return await n()}const xw={};class NT{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=NT.nextInstanceID,NT.nextInstanceID+=1,this.instanceID>0&&Yc()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},min),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new din({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=zMe(i.fetch),this.lock=i.lock||lve,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Yc()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pin:this.lock=lve,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:BMe()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ave(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ave(this.memoryStorage)),Yc()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=xw[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){xw[this.storageKey]=Object.assign(Object.assign({},xw[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=xw[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xw[this.storageKey]=Object.assign(Object.assign({},xw[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${MMe}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=qrn(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Yc()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Orn(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return On(n)?{error:n}:{error:new LMe("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Kn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:fp}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(On(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await vw(this.storage,this.storageKey)),s=await Kn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:fp})}else if("phone"in t){const{phone:c,password:d,options:f}=t;s=await Kn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:fp})}else throw new q3("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(On(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Kn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ove})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Kn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ove})}else throw new q3("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new U3}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(On(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,u,c,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:y,options:w}=t;let E;if(Yc())if(typeof v=="object")E=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))E=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}const C=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const S=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),y?{statement:y}:null));let T;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")T=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)T=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)p=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),m=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${C.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const S=await E.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:g,error:v}=await Kn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Brn(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:fp});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new U3}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(On(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const n=await $y(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Kn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:fp});if(await s0(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new U3}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(On(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Kn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fp}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new U3}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(On(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await vw(this.storage,this.storageKey));const{error:d}=await Kn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await Kn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new q3("You must provide either an email or phone number.")}catch(a){if(On(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Kn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:fp});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(On(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await vw(this.storage,this.storageKey)),await Kn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:oin})}catch(s){if(On(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new d0;const{error:i}=await Kn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(On(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Kn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Kn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new q3("You must provide either an email or phone number and a type")}catch(n){if(On(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $y(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<P7:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await $y(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=$7()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Kn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:I0}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new d0}:await Kn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:I0})})}catch(n){if(On(n))return Prn(n)&&(await this._removeSession(),await s0(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new d0;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await vw(this.storage,this.storageKey));const{data:u,error:c}=await Kn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:I0});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new d0;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=N7(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(On(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new d0;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(On(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Yc())throw new H3("No browser detected.");if(t.error||t.error_description||t.error_code)throw new H3(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Zye("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new H3("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zye("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new H3("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=Aw&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const p=f-d;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,c);const{data:m,error:g}=await this._getUser(s);if(g)throw g;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(On(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await $y(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Drn(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await s0(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Urn(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await vw(this.storage,this.storageKey,!0));try{return await Kn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(On(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:f}=s;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Kn(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Yc()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(On(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Kn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(On(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Wrn(async i=>(i>0&&await Vrn(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Kn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fp})),(i,s)=>{const o=200*Math.pow(2,i);return s&&O7(s)&&Date.now()+o-r<Aw})}catch(r){if(this._debug(n,"error",r),On(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Yc()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await $y(this.storage,this.storageKey);if(i&&this.userStorage){let o=await $y(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Iw(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:$7()}else if(i&&!i.user&&!i.user){const o=await $y(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await s0(this.storage,this.storageKey+"-user"),await Iw(this.storage,this.storageKey,i)):i.user=$7()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<P7;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${P7}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),O7(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new d0;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new r8;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new d0;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),On(s)){const o={session:null,error:s};return O7(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Iw(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=ive(i);await Iw(this.storage,this.storageKey,s)}else{const i=ive(n);await Iw(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await s0(this.storage,this.storageKey),await s0(this.storage,this.storageKey+"-code-verifier"),await s0(this.storage,this.storageKey+"-user"),this.userStorage&&await s0(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yc()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Aw);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Aw);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Aw}ms, refresh threshold is ${wV} ticks`),i<=wV&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof UMe)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yc()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await vw(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Kn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(On(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Kn(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(On(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Kn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(On(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Kn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(On(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=N7(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+Irn>i)return r;const{data:s,error:o}=await Kn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};r=h.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=N7(r);n!=null&&n.allowExpired||Zrn(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:s,header:i,signature:o},error:null}}const c=ein(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,jrn(`${a}.${l}`)))throw new EV("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}}NT.nextInstanceID=0;const gin=NT;class yin extends gin{constructor(t){super(t)}}var vin=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class bin{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Ern(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:mrn,realtime:yrn,auth:Object.assign(Object.assign({},grn),{storageKey:u}),global:prn},d=Crn(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=xrn(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new $nn(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new drn(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Enn(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return vin(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yin({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Jnn(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const win=(e,t,n)=>new bin(e,t,n);function xin(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}xin()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");class _in extends hMe{constructor(n=!1){super("supabase",n);gl(this,"supabase",win("https://olmo.datsi.fi.upm.es/revisitDB","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE"))}async _getFromStorage(n,r,i){const{data:s,error:o}=await this.supabase.storage.from("revisit").download(`${this.collectionPrefix}${i||this.studyId}/${n}_${r}`);if(o)return{};const a=this.testing?new Blob([s],{type:"application/json"}):s;try{const l=await a.text();return JSON.parse(l)}catch{return a}}async _pushToStorage(n,r,i){await this.verifyStudyDatabase();let s=new Blob;i instanceof Blob?s=this.testing?Buffer.from(JSON.stringify(i)):i:s=new Blob([JSON.stringify(i)],{type:"application/json"});const{error:o}=await this.supabase.storage.from("revisit").upload(`${this.collectionPrefix}${this.studyId}/${n}_${r}`,s,{upsert:!0});if(o)throw new Error("Failed to upload to Supabase")}async _deleteFromStorage(n,r){await this.verifyStudyDatabase();const{error:i}=await this.supabase.storage.from("revisit").remove([`${this.collectionPrefix}${this.studyId}/${n}_${r}`]);if(i)throw new Error("Failed to delete from Supabase")}async _cacheStorageObject(n,r){await this.verifyStudyDatabase();const{data:i,error:s}=await this.supabase.storage.from("revisit").download(`${this.collectionPrefix}${this.studyId}/${n}_${r}`);if(s||!i)throw new Error("Failed to download object for cache update");const{error:o}=await this.supabase.storage.from("revisit").upload(`${this.collectionPrefix}${this.studyId}/${n}_${r}`,i,{upsert:!0,cacheControl:"31536000"});if(o)throw new Error("Failed to update cache header for Supabase object")}async _verifyStudyDatabase(){const{error:n}=await this.supabase.from("revisit").select("*").eq("studyId",`${this.collectionPrefix}${this.studyId}`);if(n||!this.studyId)throw new Error("Study database not initialized or does not exist")}async _getCurrentConfigHash(){var r;await this.verifyStudyDatabase();const{data:n}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId","currentConfigHash").single();return((r=n==null?void 0:n.data)==null?void 0:r.configHash)||null}async _setCurrentConfigHash(n){await this.verifyStudyDatabase(),await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${this.studyId}`,docId:"currentConfigHash",data:{configHash:n}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId","currentConfigHash")}async _getAllSequenceAssignments(n){const{data:r,error:i}=await this.supabase.from("revisit").select("data, createdAt").eq("studyId",`${this.collectionPrefix}${n}`).like("docId","sequenceAssignment_%");if(i)throw new Error("Failed to get sequence assignments");return r.map(s=>({...s.data,timestamp:s.data.withServerTimestamp?new Date(s.createdAt).getTime():s.data.timestamp,createdTime:new Date(s.createdAt).getTime()})).sort((s,o)=>s.timestamp-o.timestamp)}async _createSequenceAssignment(n,r,i=!1){if(await this.verifyStudyDatabase(),!this.studyId)throw new Error("Study ID is not set");await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${this.studyId}`,docId:`sequenceAssignment_${n}`,data:{...r,withServerTimestamp:i}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",`sequenceAssignment_${n}`)}async _completeCurrentParticipantRealtime(){if(await this.verifyStudyDatabase(),!this.currentParticipantId)throw new Error("Participant not initialized");if(!this.studyId)throw new Error("Study ID is not set");const{data:n,error:r}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",`sequenceAssignment_${this.currentParticipantId}`).single();if(r||!n)throw new Error("Failed to retrieve sequence assignment for current participant");const i=`sequenceAssignment_${this.currentParticipantId}`;await this.supabase.from("revisit").update({data:{...n.data,completed:new Date().getTime()}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",i)}async _rejectParticipantRealtime(n){if(await this.verifyStudyDatabase(),!this.currentParticipantId)throw new Error("Participant not initialized");if(!this.studyId)throw new Error("Study ID is not set");const r=`sequenceAssignment_${n}`,{data:i,error:s}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",r).single();if(s||!i)throw new Error("Failed to retrieve sequence assignment for current participant");await this.supabase.from("revisit").update({data:{...i.data,rejected:!0,timestamp:new Date().getTime()}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",r);const{data:o,error:a}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("data->timestamp",i.data.timestamp).single();if(a||!o)throw new Error("Failed to retrieve claimed sequence assignment for rejection");await this.supabase.from("revisit").update({data:{...o.data,claimed:!1}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",`sequenceAssignment_${o.data.participantId}`)}async _claimSequenceAssignment(n,r){if(await this.verifyStudyDatabase(),!this.currentParticipantId)throw new Error("Participant not initialized");if(!this.studyId)throw new Error("Study ID is not set");const i=`sequenceAssignment_${n}`;await this.supabase.from("revisit").update({data:{...r,claimed:!0}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",i)}async initializeStudyDb(n){const{error:r}=await this.supabase.auth.signInAnonymously(),{error:i}=await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${n}`,docId:"connect",data:{}});this.studyId=n,(r||i&&i.code!=="23505")&&console.error("Error initializing study DB:",r||i)}async connect(){return new Promise((n,r)=>{this.supabase?(this.connected=!0,n()):r(new Error("Failed to connect to Supabase"))})}async getModes(n){const{data:r,error:i}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${n}`).eq("docId","metadata");if(i)throw new Error("Failed to get modes");if(r.length>0){const o=r[0].data;if(o)return o}const s={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${n}`,docId:"metadata",data:s}).eq("studyId",`${this.collectionPrefix}${n}`).eq("docId","metadata"),s}async setMode(n,r,i){const s=await this.getModes(n);s[r]=i,await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${n}`,docId:"metadata",data:s}).eq("studyId",`${this.collectionPrefix}${n}`).eq("docId","metadata")}async _getAudioUrl(n,r){await this.verifyStudyDatabase();const i=r||this.currentParticipantId;if(!i)throw new Error("Participant not initialized");const s=await this._getFromStorage(`/audio/${i}`,n);return s?URL.createObjectURL(s):null}async _testingReset(n){const{error:r}=await this.supabase.from("revisit").delete().eq("studyId",`${this.collectionPrefix}${n}`);if(r)throw new Error("Failed to reset study database");const{data:i,error:s}=await this.supabase.schema("storage").from("objects").select("name").eq("bucket_id","revisit").like("name",`${this.collectionPrefix}${n}%`);if(s)throw new Error("Failed to retrieve file paths for reset");if(i&&i.length>0){const{error:o}=await this.supabase.storage.from("revisit").remove(i.map(a=>a.name));if(o)throw new Error("Failed to delete files from storage during reset")}await super.__testingReset()}async getSnapshots(n){const{data:r,error:i}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${n}`).eq("docId","snapshots").single();return i?{}:(r==null?void 0:r.data)||{}}async _directoryExists(n){const{data:r,error:i}=await this.supabase.storage.from("revisit").list(n,{limit:1});return i?(console.error("Error checking directory existence:",i),!1):r.length>0}async _copyDirectory(n,r){const{data:i,error:s}=await this.supabase.storage.from("revisit").list(n);if(s)throw console.error("Error listing directory contents:",s),new Error("Failed to copy directory");const o=i.map(async a=>{const{data:l,error:u}=await this.supabase.storage.from("revisit").download(`${n}/${a.name}`);if(u)return;const{error:c}=await this.supabase.storage.from("revisit").upload(`${r}/${a.name}`,l,{upsert:!0});c&&console.error(`Error uploading file to ${r}/${a.name}:`,c)});await Promise.all(o)}async _deleteDirectory(n){const{data:r,error:i}=await this.supabase.storage.from("revisit").list(n);if(i)throw console.error("Error listing directory contents:",i),new Error("Failed to delete directory");if(r.length===0)return;const s=r.map(a=>`${n}/${a.name}`),{error:o}=await this.supabase.storage.from("revisit").remove(s);if(o)throw new Error("Failed to delete directory")}async _copyRealtimeData(n,r){const{data:i,error:s}=await this.supabase.from("revisit").select("createdAt, studyId, docId, data").eq("studyId",n).like("docId","sequenceAssignment_%");if(s)throw new Error("Failed to copy realtime data");const o=i.map(l=>({...l,studyId:r})),{error:a}=await this.supabase.from("revisit").upsert(o);a&&console.error("Error uploading realtime data for:",a)}async _deleteRealtimeData(n){const{error:r}=await this.supabase.from("revisit").delete().eq("studyId",n).like("docId","sequenceAssignment_%");if(r)throw new Error("Failed to delete realtime data")}async _addDirectoryNameToSnapshots(n,r){const i=await this.getSnapshots(r);i[n]||(i[n]={name:n},await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${r}`,docId:"snapshots",data:i}))}async _removeDirectoryNameFromSnapshots(n,r){const i=await this.getSnapshots(r);i[n]&&(delete i[n],await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${r}`,docId:"snapshots",data:i}))}async _changeDirectoryNameInSnapshots(n,r,i){const s=await this.getSnapshots(i);s[n]&&(s[n]={name:r},await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${i}`,docId:"snapshots",data:s}))}}async function Ein(){let e,t=!1;{const n=new _in;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new Ben;await n.connect(),e=n}return e}function KC({title:e}){const t=bc();return D.useEffect(()=>{document.title=e},[t,e]),null}async function Cin(){const t=await(await fetch(`${as}global.json`)).text();return eXt(t)}function Sin(){const[e,t]=D.useState(null),[n,r]=D.useState({});D.useEffect(()=>{async function a(){e&&r(await rXt(e))}a()},[e]),D.useEffect(()=>{e||Cin().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:s}=Qi();D.useEffect(()=>{if(i!==void 0)return;async function a(){const l=await Ein();s(l)}a()},[s,i]);const o=async a=>i&&zu(i)?!(await i.getModes(a)).analyticsInterfacePubliclyAccessible:!1;return e?x.jsx(UGe,{basename:as,children:x.jsx(mct,{children:x.jsx(rYe,{children:x.jsxs(vGe,{children:[x.jsx(Ly,{path:"/",element:x.jsxs(x.Fragment,{children:[x.jsx(KC,{title:"ReVISit | Home"}),x.jsxs(Qr,{padding:"md",header:{height:70},children:[x.jsx(SP,{studyIds:e.configsList}),x.jsx(yct,{globalConfig:e,studyConfigs:n})]})]})}),x.jsx(Ly,{path:"/:studyId/*",element:x.jsxs(x.Fragment,{children:[x.jsx(KC,{title:"ReVISit | Study"}),x.jsx(iXt,{globalConfig:e})]})}),x.jsx(Ly,{path:"/analysis/stats/:studyId/:analysisTab/:trialId?",element:x.jsxs(x.Fragment,{children:[x.jsx(KC,{title:"ReVISit | Analysis"}),x.jsx(Xge,{paramToCheck:"studyId",paramCallback:o,children:x.jsx(Qr,{padding:"md",header:{height:70},children:x.jsx(Aen,{globalConfig:e})})})]})}),x.jsx(Ly,{path:"/analysis/stats/:studyId",element:x.jsx(J$e,{to:"./summary",replace:!0})}),x.jsx(Ly,{path:"/settings",element:x.jsxs(Xge,{children:[x.jsx(KC,{title:"ReVISit | Settings"}),x.jsxs(Qr,{padding:"md",header:{height:70},children:[x.jsx(SP,{studyIds:e.configsList}),x.jsx(Qr.Main,{children:x.jsx(Ren,{})})]})]})}),x.jsx(Ly,{path:"/login",element:x.jsxs(x.Fragment,{children:[x.jsx(KC,{title:"ReVISit | Login"}),x.jsxs(Qr,{padding:"md",header:{height:70},children:[x.jsx(SP,{studyIds:e.configsList}),x.jsx(Qr.Main,{children:x.jsx(Ien,{})})]})]})})]})})})}):null}iFe.createRoot(document.getElementById("root")).render(x.jsx(sr.StrictMode,{children:x.jsx(kWe,{children:x.jsxs(Ove,{children:[x.jsx(xm,{}),x.jsx(Sin,{})]})})}));export{qs as a,uve as g,IEt as z};
