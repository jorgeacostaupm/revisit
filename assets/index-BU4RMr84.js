var C6e=Object.defineProperty;var S6e=(e,t,n)=>t in e?C6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ul=(e,t,n)=>S6e(e,typeof t!="symbol"?t+"":t,n);function T6e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ao(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Cge(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var yL={exports:{}},HE={},vL={exports:{}},Bn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ire;function A6e(){if(ire)return Bn;ire=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function f(F){return F===null||typeof F!="object"?null:(F=d&&F[d]||F["@@iterator"],typeof F=="function"?F:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(F,G,q){this.props=F,this.context=G,this.refs=m,this.updater=q||h}g.prototype.isReactComponent={},g.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},g.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function y(){}y.prototype=g.prototype;function v(F,G,q){this.props=F,this.context=G,this.refs=m,this.updater=q||h}var w=v.prototype=new y;w.constructor=v,p(w,g.prototype),w.isPureReactComponent=!0;var E=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function A(F,G,q){var Y,J={},te=null,ue=null;if(G!=null)for(Y in G.ref!==void 0&&(ue=G.ref),G.key!==void 0&&(te=""+G.key),G)C.call(G,Y)&&!T.hasOwnProperty(Y)&&(J[Y]=G[Y]);var se=arguments.length-2;if(se===1)J.children=q;else if(1<se){for(var ne=Array(se),fe=0;fe<se;fe++)ne[fe]=arguments[fe+2];J.children=ne}if(F&&F.defaultProps)for(Y in se=F.defaultProps,se)J[Y]===void 0&&(J[Y]=se[Y]);return{$$typeof:e,type:F,key:te,ref:ue,props:J,_owner:S.current}}function I(F,G){return{$$typeof:e,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function O(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(q){return G[q]})}var M=/\/+/g;function $(F,G){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):G.toString(36)}function L(F,G,q,Y,J){var te=typeof F;(te==="undefined"||te==="boolean")&&(F=null);var ue=!1;if(F===null)ue=!0;else switch(te){case"string":case"number":ue=!0;break;case"object":switch(F.$$typeof){case e:case t:ue=!0}}if(ue)return ue=F,J=J(ue),F=Y===""?"."+$(ue,0):Y,E(J)?(q="",F!=null&&(q=F.replace(M,"$&/")+"/"),L(J,G,q,"",function(fe){return fe})):J!=null&&(D(J)&&(J=I(J,q+(!J.key||ue&&ue.key===J.key?"":(""+J.key).replace(M,"$&/")+"/")+F)),G.push(J)),1;if(ue=0,Y=Y===""?".":Y+":",E(F))for(var se=0;se<F.length;se++){te=F[se];var ne=Y+$(te,se);ue+=L(te,G,q,ne,J)}else if(ne=f(F),typeof ne=="function")for(F=ne.call(F),se=0;!(te=F.next()).done;)te=te.value,ne=Y+$(te,se++),ue+=L(te,G,q,ne,J);else if(te==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ue}function z(F,G,q){if(F==null)return F;var Y=[],J=0;return L(F,Y,"","",function(te){return G.call(q,te,J++)}),Y}function B(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(q){(F._status===0||F._status===-1)&&(F._status=1,F._result=q)},function(q){(F._status===0||F._status===-1)&&(F._status=2,F._result=q)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var W={current:null},V={transition:null},X={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:V,ReactCurrentOwner:S};function U(){throw Error("act(...) is not supported in production builds of React.")}return Bn.Children={map:z,forEach:function(F,G,q){z(F,function(){G.apply(this,arguments)},q)},count:function(F){var G=0;return z(F,function(){G++}),G},toArray:function(F){return z(F,function(G){return G})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Bn.Component=g,Bn.Fragment=n,Bn.Profiler=i,Bn.PureComponent=v,Bn.StrictMode=r,Bn.Suspense=l,Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Bn.act=U,Bn.cloneElement=function(F,G,q){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Y=p({},F.props),J=F.key,te=F.ref,ue=F._owner;if(G!=null){if(G.ref!==void 0&&(te=G.ref,ue=S.current),G.key!==void 0&&(J=""+G.key),F.type&&F.type.defaultProps)var se=F.type.defaultProps;for(ne in G)C.call(G,ne)&&!T.hasOwnProperty(ne)&&(Y[ne]=G[ne]===void 0&&se!==void 0?se[ne]:G[ne])}var ne=arguments.length-2;if(ne===1)Y.children=q;else if(1<ne){se=Array(ne);for(var fe=0;fe<ne;fe++)se[fe]=arguments[fe+2];Y.children=se}return{$$typeof:e,type:F.type,key:J,ref:te,props:Y,_owner:ue}},Bn.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},Bn.createElement=A,Bn.createFactory=function(F){var G=A.bind(null,F);return G.type=F,G},Bn.createRef=function(){return{current:null}},Bn.forwardRef=function(F){return{$$typeof:a,render:F}},Bn.isValidElement=D,Bn.lazy=function(F){return{$$typeof:c,_payload:{_status:-1,_result:F},_init:B}},Bn.memo=function(F,G){return{$$typeof:u,type:F,compare:G===void 0?null:G}},Bn.startTransition=function(F){var G=V.transition;V.transition={};try{F()}finally{V.transition=G}},Bn.unstable_act=U,Bn.useCallback=function(F,G){return W.current.useCallback(F,G)},Bn.useContext=function(F){return W.current.useContext(F)},Bn.useDebugValue=function(){},Bn.useDeferredValue=function(F){return W.current.useDeferredValue(F)},Bn.useEffect=function(F,G){return W.current.useEffect(F,G)},Bn.useId=function(){return W.current.useId()},Bn.useImperativeHandle=function(F,G,q){return W.current.useImperativeHandle(F,G,q)},Bn.useInsertionEffect=function(F,G){return W.current.useInsertionEffect(F,G)},Bn.useLayoutEffect=function(F,G){return W.current.useLayoutEffect(F,G)},Bn.useMemo=function(F,G){return W.current.useMemo(F,G)},Bn.useReducer=function(F,G,q){return W.current.useReducer(F,G,q)},Bn.useRef=function(F){return W.current.useRef(F)},Bn.useState=function(F){return W.current.useState(F)},Bn.useSyncExternalStore=function(F,G,q){return W.current.useSyncExternalStore(F,G,q)},Bn.useTransition=function(){return W.current.useTransition()},Bn.version="18.3.1",Bn}var sre;function m$(){return sre||(sre=1,vL.exports=A6e()),vL.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ore;function k6e(){if(ore)return HE;ore=1;var e=m$(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var c,d={},f=null,h=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(h=l.ref);for(c in l)r.call(l,c)&&!s.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:t,type:a,key:f,ref:h,props:d,_owner:i.current}}return HE.Fragment=n,HE.jsx=o,HE.jsxs=o,HE}var are;function I6e(){return are||(are=1,yL.exports=k6e()),yL.exports}var _=I6e(),R=m$();const Ir=ao(R),R6e=T6e({__proto__:null,default:Ir},[R]);var wI={},bL={exports:{}},cl={},wL={exports:{}},xL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lre;function D6e(){return lre||(lre=1,function(e){function t(V,X){var U=V.length;V.push(X);e:for(;0<U;){var F=U-1>>>1,G=V[F];if(0<i(G,X))V[F]=X,V[U]=G,U=F;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],U=V.pop();if(U!==X){V[0]=U;e:for(var F=0,G=V.length,q=G>>>1;F<q;){var Y=2*(F+1)-1,J=V[Y],te=Y+1,ue=V[te];if(0>i(J,U))te<G&&0>i(ue,J)?(V[F]=ue,V[te]=U,F=te):(V[F]=J,V[Y]=U,F=Y);else if(te<G&&0>i(ue,U))V[F]=ue,V[te]=U,F=te;else break e}}return X}function i(V,X){var U=V.sortIndex-X.sortIndex;return U!==0?U:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=V)r(u),X.sortIndex=X.expirationTime,t(l,X);else break;X=n(u)}}function E(V){if(m=!1,w(V),!p)if(n(l)!==null)p=!0,B(C);else{var X=n(u);X!==null&&W(E,X.startTime-V)}}function C(V,X){p=!1,m&&(m=!1,y(A),A=-1),h=!0;var U=f;try{for(w(X),d=n(l);d!==null&&(!(d.expirationTime>X)||V&&!O());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var G=F(d.expirationTime<=X);X=e.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),w(X)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var Y=n(u);Y!==null&&W(E,Y.startTime-X),q=!1}return q}finally{d=null,f=U,h=!1}}var S=!1,T=null,A=-1,I=5,D=-1;function O(){return!(e.unstable_now()-D<I)}function M(){if(T!==null){var V=e.unstable_now();D=V;var X=!0;try{X=T(!0,V)}finally{X?$():(S=!1,T=null)}}else S=!1}var $;if(typeof v=="function")$=function(){v(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=M,$=function(){z.postMessage(null)}}else $=function(){g(M,0)};function B(V){T=V,S||(S=!0,$())}function W(V,X){A=g(function(){V(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,B(C))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var U=f;f=X;try{return V()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var U=f;f=V;try{return X()}finally{f=U}},e.unstable_scheduleCallback=function(V,X,U){var F=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?F+U:F):U=F,V){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,V={id:c++,callback:X,priorityLevel:V,startTime:U,expirationTime:G,sortIndex:-1},U>F?(V.sortIndex=U,t(u,V),n(l)===null&&V===n(u)&&(m?(y(A),A=-1):m=!0,W(E,U-F))):(V.sortIndex=G,t(l,V),p||h||(p=!0,B(C))),V},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(V){var X=f;return function(){var U=f;f=X;try{return V.apply(this,arguments)}finally{f=U}}}}(xL)),xL}var ure;function P6e(){return ure||(ure=1,wL.exports=D6e()),wL.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cre;function O6e(){if(cre)return cl;cre=1;var e=m$(),t=P6e();function n(b){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+b,k=1;k<arguments.length;k++)x+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(b,x){o(b,x),o(b+"Capture",x)}function o(b,x){for(i[b]=x,b=0;b<x.length;b++)r.add(x[b])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function f(b){return l.call(d,b)?!0:l.call(c,b)?!1:u.test(b)?d[b]=!0:(c[b]=!0,!1)}function h(b,x,k,N){if(k!==null&&k.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return N?!1:k!==null?!k.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function p(b,x,k,N){if(x===null||typeof x>"u"||h(b,x,k,N))return!0;if(N)return!1;if(k!==null)switch(k.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function m(b,x,k,N,H,Q,re){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=N,this.attributeNamespace=H,this.mustUseProperty=k,this.propertyName=b,this.type=x,this.sanitizeURL=Q,this.removeEmptyString=re}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){g[b]=new m(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var x=b[0];g[x]=new m(x,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){g[b]=new m(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){g[b]=new m(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){g[b]=new m(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){g[b]=new m(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){g[b]=new m(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){g[b]=new m(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){g[b]=new m(b,5,!1,b.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var x=b.replace(y,v);g[x]=new m(x,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var x=b.replace(y,v);g[x]=new m(x,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var x=b.replace(y,v);g[x]=new m(x,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){g[b]=new m(b,1,!1,b.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){g[b]=new m(b,1,!1,b.toLowerCase(),null,!0,!0)});function w(b,x,k,N){var H=g.hasOwnProperty(x)?g[x]:null;(H!==null?H.type!==0:N||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(p(x,k,H,N)&&(k=null),N||H===null?f(x)&&(k===null?b.removeAttribute(x):b.setAttribute(x,""+k)):H.mustUseProperty?b[H.propertyName]=k===null?H.type===3?!1:"":k:(x=H.attributeName,N=H.attributeNamespace,k===null?b.removeAttribute(x):(H=H.type,k=H===3||H===4&&k===!0?"":""+k,N?b.setAttributeNS(N,x,k):b.setAttribute(x,k))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),V=Symbol.iterator;function X(b){return b===null||typeof b!="object"?null:(b=V&&b[V]||b["@@iterator"],typeof b=="function"?b:null)}var U=Object.assign,F;function G(b){if(F===void 0)try{throw Error()}catch(k){var x=k.stack.trim().match(/\n( *(at )?)/);F=x&&x[1]||""}return`
`+F+b}var q=!1;function Y(b,x){if(!b||q)return"";q=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Ue){var N=Ue}Reflect.construct(b,[],x)}else{try{x.call()}catch(Ue){N=Ue}b.call(x.prototype)}else{try{throw Error()}catch(Ue){N=Ue}b()}}catch(Ue){if(Ue&&N&&typeof Ue.stack=="string"){for(var H=Ue.stack.split(`
`),Q=N.stack.split(`
`),re=H.length-1,ge=Q.length-1;1<=re&&0<=ge&&H[re]!==Q[ge];)ge--;for(;1<=re&&0<=ge;re--,ge--)if(H[re]!==Q[ge]){if(re!==1||ge!==1)do if(re--,ge--,0>ge||H[re]!==Q[ge]){var Ee=`
`+H[re].replace(" at new "," at ");return b.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",b.displayName)),Ee}while(1<=re&&0<=ge);break}}}finally{q=!1,Error.prepareStackTrace=k}return(b=b?b.displayName||b.name:"")?G(b):""}function J(b){switch(b.tag){case 5:return G(b.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return b=Y(b.type,!1),b;case 11:return b=Y(b.type.render,!1),b;case 1:return b=Y(b.type,!0),b;default:return""}}function te(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case T:return"Fragment";case S:return"Portal";case I:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case L:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case O:return(b.displayName||"Context")+".Consumer";case D:return(b._context.displayName||"Context")+".Provider";case M:var x=b.render;return b=b.displayName,b||(b=x.displayName||x.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case z:return x=b.displayName||null,x!==null?x:te(b.type)||"Memo";case B:x=b._payload,b=b._init;try{return te(b(x))}catch{}}return null}function ue(b){var x=b.type;switch(b.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=x.render,b=b.displayName||b.name||"",x.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(x);case 8:return x===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function se(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function ne(b){var x=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function fe(b){var x=ne(b)?"checked":"value",k=Object.getOwnPropertyDescriptor(b.constructor.prototype,x),N=""+b[x];if(!b.hasOwnProperty(x)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var H=k.get,Q=k.set;return Object.defineProperty(b,x,{configurable:!0,get:function(){return H.call(this)},set:function(re){N=""+re,Q.call(this,re)}}),Object.defineProperty(b,x,{enumerable:k.enumerable}),{getValue:function(){return N},setValue:function(re){N=""+re},stopTracking:function(){b._valueTracker=null,delete b[x]}}}}function ee(b){b._valueTracker||(b._valueTracker=fe(b))}function ie(b){if(!b)return!1;var x=b._valueTracker;if(!x)return!0;var k=x.getValue(),N="";return b&&(N=ne(b)?b.checked?"true":"false":b.value),b=N,b!==k?(x.setValue(b),!0):!1}function he(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function ye(b,x){var k=x.checked;return U({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??b._wrapperState.initialChecked})}function Ce(b,x){var k=x.defaultValue==null?"":x.defaultValue,N=x.checked!=null?x.checked:x.defaultChecked;k=se(x.value!=null?x.value:k),b._wrapperState={initialChecked:N,initialValue:k,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Re(b,x){x=x.checked,x!=null&&w(b,"checked",x,!1)}function De(b,x){Re(b,x);var k=se(x.value),N=x.type;if(k!=null)N==="number"?(k===0&&b.value===""||b.value!=k)&&(b.value=""+k):b.value!==""+k&&(b.value=""+k);else if(N==="submit"||N==="reset"){b.removeAttribute("value");return}x.hasOwnProperty("value")?je(b,x.type,k):x.hasOwnProperty("defaultValue")&&je(b,x.type,se(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(b.defaultChecked=!!x.defaultChecked)}function be(b,x,k){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var N=x.type;if(!(N!=="submit"&&N!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+b._wrapperState.initialValue,k||x===b.value||(b.value=x),b.defaultValue=x}k=b.name,k!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,k!==""&&(b.name=k)}function je(b,x,k){(x!=="number"||he(b.ownerDocument)!==b)&&(k==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+k&&(b.defaultValue=""+k))}var Qe=Array.isArray;function it(b,x,k,N){if(b=b.options,x){x={};for(var H=0;H<k.length;H++)x["$"+k[H]]=!0;for(k=0;k<b.length;k++)H=x.hasOwnProperty("$"+b[k].value),b[k].selected!==H&&(b[k].selected=H),H&&N&&(b[k].defaultSelected=!0)}else{for(k=""+se(k),x=null,H=0;H<b.length;H++){if(b[H].value===k){b[H].selected=!0,N&&(b[H].defaultSelected=!0);return}x!==null||b[H].disabled||(x=b[H])}x!==null&&(x.selected=!0)}}function Ke(b,x){if(x.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},x,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function Pe(b,x){var k=x.value;if(k==null){if(k=x.children,x=x.defaultValue,k!=null){if(x!=null)throw Error(n(92));if(Qe(k)){if(1<k.length)throw Error(n(93));k=k[0]}x=k}x==null&&(x=""),k=x}b._wrapperState={initialValue:se(k)}}function ze(b,x){var k=se(x.value),N=se(x.defaultValue);k!=null&&(k=""+k,k!==b.value&&(b.value=k),x.defaultValue==null&&b.defaultValue!==k&&(b.defaultValue=k)),N!=null&&(b.defaultValue=""+N)}function ot(b){var x=b.textContent;x===b._wrapperState.initialValue&&x!==""&&x!==null&&(b.value=x)}function xe(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Te(b,x){return b==null||b==="http://www.w3.org/1999/xhtml"?xe(x):b==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var nt,ht=function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,k,N,H){MSApp.execUnsafeLocalFunction(function(){return b(x,k,N,H)})}:b}(function(b,x){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=x;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=nt.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;x.firstChild;)b.appendChild(x.firstChild)}});function st(b,x){if(x){var k=b.firstChild;if(k&&k===b.lastChild&&k.nodeType===3){k.nodeValue=x;return}}b.textContent=x}var Ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qt=["Webkit","ms","Moz","O"];Object.keys(Ot).forEach(function(b){Qt.forEach(function(x){x=x+b.charAt(0).toUpperCase()+b.substring(1),Ot[x]=Ot[b]})});function kn(b,x,k){return x==null||typeof x=="boolean"||x===""?"":k||typeof x!="number"||x===0||Ot.hasOwnProperty(b)&&Ot[b]?(""+x).trim():x+"px"}function Yn(b,x){b=b.style;for(var k in x)if(x.hasOwnProperty(k)){var N=k.indexOf("--")===0,H=kn(k,x[k],N);k==="float"&&(k="cssFloat"),N?b.setProperty(k,H):b[k]=H}}var gn=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tn(b,x){if(x){if(gn[b]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(n(137,b));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(n(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(n(61))}if(x.style!=null&&typeof x.style!="object")throw Error(n(62))}}function er(b,x){if(b.indexOf("-")===-1)return typeof x.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nn=null;function Ni(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var Kn=null,Or=null,Vr=null;function Xn(b){if(b=kE(b)){if(typeof Kn!="function")throw Error(n(280));var x=b.stateNode;x&&(x=$k(x),Kn(b.stateNode,b.type,x))}}function Gi(b){Or?Vr?Vr.push(b):Vr=[b]:Or=b}function zo(){if(Or){var b=Or,x=Vr;if(Vr=Or=null,Xn(b),x)for(b=0;b<x.length;b++)Xn(x[b])}}function ys(b,x){return b(x)}function tr(){}var _t=!1;function Fr(b,x,k){if(_t)return b(x,k);_t=!0;try{return ys(b,x,k)}finally{_t=!1,(Or!==null||Vr!==null)&&(tr(),zo())}}function hn(b,x){var k=b.stateNode;if(k===null)return null;var N=$k(k);if(N===null)return null;k=N[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(b=b.type,N=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!N;break e;default:b=!1}if(b)return null;if(k&&typeof k!="function")throw Error(n(231,x,typeof k));return k}var sr=!1;if(a)try{var En={};Object.defineProperty(En,"passive",{get:function(){sr=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{sr=!1}function Ar(b,x,k,N,H,Q,re,ge,Ee){var Ue=Array.prototype.slice.call(arguments,3);try{x.apply(k,Ue)}catch(dt){this.onError(dt)}}var Jr=!1,_i=null,ho=!1,Fl=null,Rh={onError:function(b){Jr=!0,_i=b}};function fr(b,x,k,N,H,Q,re,ge,Ee){Jr=!1,_i=null,Ar.apply(Rh,arguments)}function wc(b,x,k,N,H,Q,re,ge,Ee){if(fr.apply(this,arguments),Jr){if(Jr){var Ue=_i;Jr=!1,_i=null}else throw Error(n(198));ho||(ho=!0,Fl=Ue)}}function Ei(b){var x=b,k=b;if(b.alternate)for(;x.return;)x=x.return;else{b=x;do x=b,(x.flags&4098)!==0&&(k=x.return),b=x.return;while(b)}return x.tag===3?k:null}function Ja(b){if(b.tag===13){var x=b.memoizedState;if(x===null&&(b=b.alternate,b!==null&&(x=b.memoizedState)),x!==null)return x.dehydrated}return null}function po(b){if(Ei(b)!==b)throw Error(n(188))}function _m(b){var x=b.alternate;if(!x){if(x=Ei(b),x===null)throw Error(n(188));return x!==b?null:b}for(var k=b,N=x;;){var H=k.return;if(H===null)break;var Q=H.alternate;if(Q===null){if(N=H.return,N!==null){k=N;continue}break}if(H.child===Q.child){for(Q=H.child;Q;){if(Q===k)return po(H),b;if(Q===N)return po(H),x;Q=Q.sibling}throw Error(n(188))}if(k.return!==N.return)k=H,N=Q;else{for(var re=!1,ge=H.child;ge;){if(ge===k){re=!0,k=H,N=Q;break}if(ge===N){re=!0,N=H,k=Q;break}ge=ge.sibling}if(!re){for(ge=Q.child;ge;){if(ge===k){re=!0,k=Q,N=H;break}if(ge===N){re=!0,N=Q,k=H;break}ge=ge.sibling}if(!re)throw Error(n(189))}}if(k.alternate!==N)throw Error(n(190))}if(k.tag!==3)throw Error(n(188));return k.stateNode.current===k?b:x}function Dh(b){return b=_m(b),b!==null?Jd(b):null}function Jd(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var x=Jd(b);if(x!==null)return x;b=b.sibling}return null}var Zd=t.unstable_scheduleCallback,xc=t.unstable_cancelCallback,Em=t.unstable_shouldYield,_c=t.unstable_requestPaint,Qn=t.unstable_now,Ph=t.unstable_getCurrentPriorityLevel,vs=t.unstable_ImmediatePriority,Ll=t.unstable_UserBlockingPriority,bs=t.unstable_NormalPriority,Ec=t.unstable_LowPriority,Cm=t.unstable_IdlePriority,_u=null,ws=null;function Sm(b){if(ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(_u,b,void 0,(b.current.flags&128)===128)}catch{}}var xs=Math.clz32?Math.clz32:de,oe=Math.log,we=Math.LN2;function de(b){return b>>>=0,b===0?32:31-(oe(b)/we|0)|0}var ke=64,Oe=4194304;function Ae(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Je(b,x){var k=b.pendingLanes;if(k===0)return 0;var N=0,H=b.suspendedLanes,Q=b.pingedLanes,re=k&268435455;if(re!==0){var ge=re&~H;ge!==0?N=Ae(ge):(Q&=re,Q!==0&&(N=Ae(Q)))}else re=k&~H,re!==0?N=Ae(re):Q!==0&&(N=Ae(Q));if(N===0)return 0;if(x!==0&&x!==N&&(x&H)===0&&(H=N&-N,Q=x&-x,H>=Q||H===16&&(Q&4194240)!==0))return x;if((N&4)!==0&&(N|=k&16),x=b.entangledLanes,x!==0)for(b=b.entanglements,x&=N;0<x;)k=31-xs(x),H=1<<k,N|=b[k],x&=~H;return N}function at(b,x){switch(b){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(b,x){for(var k=b.suspendedLanes,N=b.pingedLanes,H=b.expirationTimes,Q=b.pendingLanes;0<Q;){var re=31-xs(Q),ge=1<<re,Ee=H[re];Ee===-1?((ge&k)===0||(ge&N)!==0)&&(H[re]=at(ge,x)):Ee<=x&&(b.expiredLanes|=ge),Q&=~ge}}function lt(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function bt(){var b=ke;return ke<<=1,(ke&4194240)===0&&(ke=64),b}function jt(b){for(var x=[],k=0;31>k;k++)x.push(b);return x}function yn(b,x,k){b.pendingLanes|=x,x!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,x=31-xs(x),b[x]=k}function Jt(b,x){var k=b.pendingLanes&~x;b.pendingLanes=x,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=x,b.mutableReadLanes&=x,b.entangledLanes&=x,x=b.entanglements;var N=b.eventTimes;for(b=b.expirationTimes;0<k;){var H=31-xs(k),Q=1<<H;x[H]=0,N[H]=-1,b[H]=-1,k&=~Q}}function $n(b,x){var k=b.entangledLanes|=x;for(b=b.entanglements;k;){var N=31-xs(k),H=1<<N;H&x|b[N]&x&&(b[N]|=x),k&=~H}}var en=0;function br(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var _s,Za,Eu,Tm,ef,Am=!1,mo=[],Ci=null,Ls=null,ba=null,tf=new Map,wa=new Map,el=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cu(b,x){switch(b){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":tf.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(x.pointerId)}}function ls(b,x,k,N,H,Q){return b===null||b.nativeEvent!==Q?(b={blockedOn:x,domEventName:k,eventSystemFlags:N,nativeEvent:Q,targetContainers:[H]},x!==null&&(x=kE(x),x!==null&&Za(x)),b):(b.eventSystemFlags|=N,x=b.targetContainers,H!==null&&x.indexOf(H)===-1&&x.push(H),b)}function yE(b,x,k,N,H){switch(x){case"focusin":return Ci=ls(Ci,b,x,k,N,H),!0;case"dragenter":return Ls=ls(Ls,b,x,k,N,H),!0;case"mouseover":return ba=ls(ba,b,x,k,N,H),!0;case"pointerover":var Q=H.pointerId;return tf.set(Q,ls(tf.get(Q)||null,b,x,k,N,H)),!0;case"gotpointercapture":return Q=H.pointerId,wa.set(Q,ls(wa.get(Q)||null,b,x,k,N,H)),!0}return!1}function Gg(b){var x=Kg(b.target);if(x!==null){var k=Ei(x);if(k!==null){if(x=k.tag,x===13){if(x=Ja(k),x!==null){b.blockedOn=x,ef(b.priority,function(){Eu(k)});return}}else if(x===3&&k.stateNode.current.memoizedState.isDehydrated){b.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}b.blockedOn=null}function Cc(b){if(b.blockedOn!==null)return!1;for(var x=b.targetContainers;0<x.length;){var k=or(b.domEventName,b.eventSystemFlags,x[0],b.nativeEvent);if(k===null){k=b.nativeEvent;var N=new k.constructor(k.type,k);Nn=N,k.target.dispatchEvent(N),Nn=null}else return x=kE(k),x!==null&&Za(x),b.blockedOn=k,!1;x.shift()}return!0}function nf(b,x,k){Cc(b)&&k.delete(x)}function Zb(){Am=!1,Ci!==null&&Cc(Ci)&&(Ci=null),Ls!==null&&Cc(Ls)&&(Ls=null),ba!==null&&Cc(ba)&&(ba=null),tf.forEach(nf),wa.forEach(nf)}function jl(b,x){b.blockedOn===x&&(b.blockedOn=null,Am||(Am=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Zb)))}function tl(b){function x(H){return jl(H,b)}if(0<mo.length){jl(mo[0],b);for(var k=1;k<mo.length;k++){var N=mo[k];N.blockedOn===b&&(N.blockedOn=null)}}for(Ci!==null&&jl(Ci,b),Ls!==null&&jl(Ls,b),ba!==null&&jl(ba,b),tf.forEach(x),wa.forEach(x),k=0;k<el.length;k++)N=el[k],N.blockedOn===b&&(N.blockedOn=null);for(;0<el.length&&(k=el[0],k.blockedOn===null);)Gg(k),k.blockedOn===null&&el.shift()}var Sc=E.ReactCurrentBatchConfig,pe=!0;function _e(b,x,k,N){var H=en,Q=Sc.transition;Sc.transition=null;try{en=1,Ut(b,x,k,N)}finally{en=H,Sc.transition=Q}}function He(b,x,k,N){var H=en,Q=Sc.transition;Sc.transition=null;try{en=4,Ut(b,x,k,N)}finally{en=H,Sc.transition=Q}}function Ut(b,x,k,N){if(pe){var H=or(b,x,k,N);if(H===null)aF(b,x,N,Dn,k),Cu(b,N);else if(yE(H,b,x,k,N))N.stopPropagation();else if(Cu(b,N),x&4&&-1<Jb.indexOf(b)){for(;H!==null;){var Q=kE(H);if(Q!==null&&_s(Q),Q=or(b,x,k,N),Q===null&&aF(b,x,N,Dn,k),Q===H)break;H=Q}H!==null&&N.stopPropagation()}else aF(b,x,N,null,k)}}var Dn=null;function or(b,x,k,N){if(Dn=null,b=Ni(N),b=Kg(b),b!==null)if(x=Ei(b),x===null)b=null;else if(k=x.tag,k===13){if(b=Ja(x),b!==null)return b;b=null}else if(k===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;b=null}else x!==b&&(b=null);return Dn=b,null}function Nr(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ph()){case vs:return 1;case Ll:return 4;case bs:case Ec:return 16;case Cm:return 536870912;default:return 16}default:return 16}}var Cn=null,kr=null,ri=null;function Es(){if(ri)return ri;var b,x=kr,k=x.length,N,H="value"in Cn?Cn.value:Cn.textContent,Q=H.length;for(b=0;b<k&&x[b]===H[b];b++);var re=k-b;for(N=1;N<=re&&x[k-N]===H[Q-N];N++);return ri=H.slice(b,1<N?1-N:void 0)}function Su(b){var x=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&x===13&&(b=13)):b=x,b===10&&(b=13),32<=b||b===13?b:0}function nl(){return!0}function Oh(){return!1}function us(b){function x(k,N,H,Q,re){this._reactName=k,this._targetInst=H,this.type=N,this.nativeEvent=Q,this.target=re,this.currentTarget=null;for(var ge in b)b.hasOwnProperty(ge)&&(k=b[ge],this[ge]=k?k(Q):Q[ge]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?nl:Oh,this.isPropagationStopped=Oh,this}return U(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),x}var Tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e1=us(Tc),rf=U({},Tc,{view:0,detail:0}),Q5=us(rf),t1,Nh,km,Yg=U({},rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==km&&(km&&b.type==="mousemove"?(t1=b.screenX-km.screenX,Nh=b.screenY-km.screenY):Nh=t1=0,km=b),t1)},movementY:function(b){return"movementY"in b?b.movementY:Nh}}),n1=us(Yg),vE=U({},Yg,{dataTransfer:0}),xk=us(vE),r1=U({},rf,{relatedTarget:0}),i1=us(r1),_k=U({},Tc,{animationName:0,elapsedTime:0,pseudoElement:0}),$h=us(_k),Ek=U({},Tc,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),Ck=us(Ek),Sk=U({},Tc,{data:0}),bE=us(Sk),rl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ak={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Im(b){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(b):(b=Ak[b])?!!x[b]:!1}function P(){return Im}var K=U({},rf,{key:function(b){if(b.key){var x=rl[b.key]||b.key;if(x!=="Unidentified")return x}return b.type==="keypress"?(b=Su(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?Tk[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P,charCode:function(b){return b.type==="keypress"?Su(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?Su(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),Z=us(K),le=U({},Yg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$e=us(le),Ve=U({},rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P}),Tt=us(Ve),Lr=U({},Tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cs=us(Lr),ar=U({},Yg,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),js=us(ar),Bs=[9,13,27,32],sf=a&&"CompositionEvent"in window,go=null;a&&"documentMode"in document&&(go=document.documentMode);var s1=a&&"TextEvent"in window&&!go,o1=a&&(!sf||go&&8<go&&11>=go),Qee=" ",Jee=!1;function Zee(b,x){switch(b){case"keyup":return Bs.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ete(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var a1=!1;function xMe(b,x){switch(b){case"compositionend":return ete(x);case"keypress":return x.which!==32?null:(Jee=!0,Qee);case"textInput":return b=x.data,b===Qee&&Jee?null:b;default:return null}}function _Me(b,x){if(a1)return b==="compositionend"||!sf&&Zee(b,x)?(b=Es(),ri=kr=Cn=null,a1=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return o1&&x.locale!=="ko"?null:x.data;default:return null}}var EMe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tte(b){var x=b&&b.nodeName&&b.nodeName.toLowerCase();return x==="input"?!!EMe[b.type]:x==="textarea"}function nte(b,x,k,N){Gi(N),x=Pk(x,"onChange"),0<x.length&&(k=new e1("onChange","change",null,k,N),b.push({event:k,listeners:x}))}var wE=null,xE=null;function CMe(b){wte(b,0)}function kk(b){var x=f1(b);if(ie(x))return b}function SMe(b,x){if(b==="change")return x}var rte=!1;if(a){var J5;if(a){var Z5="oninput"in document;if(!Z5){var ite=document.createElement("div");ite.setAttribute("oninput","return;"),Z5=typeof ite.oninput=="function"}J5=Z5}else J5=!1;rte=J5&&(!document.documentMode||9<document.documentMode)}function ste(){wE&&(wE.detachEvent("onpropertychange",ote),xE=wE=null)}function ote(b){if(b.propertyName==="value"&&kk(xE)){var x=[];nte(x,xE,b,Ni(b)),Fr(CMe,x)}}function TMe(b,x,k){b==="focusin"?(ste(),wE=x,xE=k,wE.attachEvent("onpropertychange",ote)):b==="focusout"&&ste()}function AMe(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return kk(xE)}function kMe(b,x){if(b==="click")return kk(x)}function IMe(b,x){if(b==="input"||b==="change")return kk(x)}function RMe(b,x){return b===x&&(b!==0||1/b===1/x)||b!==b&&x!==x}var Ac=typeof Object.is=="function"?Object.is:RMe;function _E(b,x){if(Ac(b,x))return!0;if(typeof b!="object"||b===null||typeof x!="object"||x===null)return!1;var k=Object.keys(b),N=Object.keys(x);if(k.length!==N.length)return!1;for(N=0;N<k.length;N++){var H=k[N];if(!l.call(x,H)||!Ac(b[H],x[H]))return!1}return!0}function ate(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function lte(b,x){var k=ate(b);b=0;for(var N;k;){if(k.nodeType===3){if(N=b+k.textContent.length,b<=x&&N>=x)return{node:k,offset:x-b};b=N}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=ate(k)}}function ute(b,x){return b&&x?b===x?!0:b&&b.nodeType===3?!1:x&&x.nodeType===3?ute(b,x.parentNode):"contains"in b?b.contains(x):b.compareDocumentPosition?!!(b.compareDocumentPosition(x)&16):!1:!1}function cte(){for(var b=window,x=he();x instanceof b.HTMLIFrameElement;){try{var k=typeof x.contentWindow.location.href=="string"}catch{k=!1}if(k)b=x.contentWindow;else break;x=he(b.document)}return x}function eF(b){var x=b&&b.nodeName&&b.nodeName.toLowerCase();return x&&(x==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||x==="textarea"||b.contentEditable==="true")}function DMe(b){var x=cte(),k=b.focusedElem,N=b.selectionRange;if(x!==k&&k&&k.ownerDocument&&ute(k.ownerDocument.documentElement,k)){if(N!==null&&eF(k)){if(x=N.start,b=N.end,b===void 0&&(b=x),"selectionStart"in k)k.selectionStart=x,k.selectionEnd=Math.min(b,k.value.length);else if(b=(x=k.ownerDocument||document)&&x.defaultView||window,b.getSelection){b=b.getSelection();var H=k.textContent.length,Q=Math.min(N.start,H);N=N.end===void 0?Q:Math.min(N.end,H),!b.extend&&Q>N&&(H=N,N=Q,Q=H),H=lte(k,Q);var re=lte(k,N);H&&re&&(b.rangeCount!==1||b.anchorNode!==H.node||b.anchorOffset!==H.offset||b.focusNode!==re.node||b.focusOffset!==re.offset)&&(x=x.createRange(),x.setStart(H.node,H.offset),b.removeAllRanges(),Q>N?(b.addRange(x),b.extend(re.node,re.offset)):(x.setEnd(re.node,re.offset),b.addRange(x)))}}for(x=[],b=k;b=b.parentNode;)b.nodeType===1&&x.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<x.length;k++)b=x[k],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var PMe=a&&"documentMode"in document&&11>=document.documentMode,l1=null,tF=null,EE=null,nF=!1;function dte(b,x,k){var N=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;nF||l1==null||l1!==he(N)||(N=l1,"selectionStart"in N&&eF(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),EE&&_E(EE,N)||(EE=N,N=Pk(tF,"onSelect"),0<N.length&&(x=new e1("onSelect","select",null,x,k),b.push({event:x,listeners:N}),x.target=l1)))}function Ik(b,x){var k={};return k[b.toLowerCase()]=x.toLowerCase(),k["Webkit"+b]="webkit"+x,k["Moz"+b]="moz"+x,k}var u1={animationend:Ik("Animation","AnimationEnd"),animationiteration:Ik("Animation","AnimationIteration"),animationstart:Ik("Animation","AnimationStart"),transitionend:Ik("Transition","TransitionEnd")},rF={},fte={};a&&(fte=document.createElement("div").style,"AnimationEvent"in window||(delete u1.animationend.animation,delete u1.animationiteration.animation,delete u1.animationstart.animation),"TransitionEvent"in window||delete u1.transitionend.transition);function Rk(b){if(rF[b])return rF[b];if(!u1[b])return b;var x=u1[b],k;for(k in x)if(x.hasOwnProperty(k)&&k in fte)return rF[b]=x[k];return b}var hte=Rk("animationend"),pte=Rk("animationiteration"),mte=Rk("animationstart"),gte=Rk("transitionend"),yte=new Map,vte="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rm(b,x){yte.set(b,x),s(x,[b])}for(var iF=0;iF<vte.length;iF++){var sF=vte[iF],OMe=sF.toLowerCase(),NMe=sF[0].toUpperCase()+sF.slice(1);Rm(OMe,"on"+NMe)}Rm(hte,"onAnimationEnd"),Rm(pte,"onAnimationIteration"),Rm(mte,"onAnimationStart"),Rm("dblclick","onDoubleClick"),Rm("focusin","onFocus"),Rm("focusout","onBlur"),Rm(gte,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var CE="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$Me=new Set("cancel close invalid load scroll toggle".split(" ").concat(CE));function bte(b,x,k){var N=b.type||"unknown-event";b.currentTarget=k,wc(N,x,void 0,b),b.currentTarget=null}function wte(b,x){x=(x&4)!==0;for(var k=0;k<b.length;k++){var N=b[k],H=N.event;N=N.listeners;e:{var Q=void 0;if(x)for(var re=N.length-1;0<=re;re--){var ge=N[re],Ee=ge.instance,Ue=ge.currentTarget;if(ge=ge.listener,Ee!==Q&&H.isPropagationStopped())break e;bte(H,ge,Ue),Q=Ee}else for(re=0;re<N.length;re++){if(ge=N[re],Ee=ge.instance,Ue=ge.currentTarget,ge=ge.listener,Ee!==Q&&H.isPropagationStopped())break e;bte(H,ge,Ue),Q=Ee}}}if(ho)throw b=Fl,ho=!1,Fl=null,b}function ui(b,x){var k=x[hF];k===void 0&&(k=x[hF]=new Set);var N=b+"__bubble";k.has(N)||(xte(x,b,2,!1),k.add(N))}function oF(b,x,k){var N=0;x&&(N|=4),xte(k,b,N,x)}var Dk="_reactListening"+Math.random().toString(36).slice(2);function SE(b){if(!b[Dk]){b[Dk]=!0,r.forEach(function(k){k!=="selectionchange"&&($Me.has(k)||oF(k,!1,b),oF(k,!0,b))});var x=b.nodeType===9?b:b.ownerDocument;x===null||x[Dk]||(x[Dk]=!0,oF("selectionchange",!1,x))}}function xte(b,x,k,N){switch(Nr(x)){case 1:var H=_e;break;case 4:H=He;break;default:H=Ut}k=H.bind(null,x,k,b),H=void 0,!sr||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(H=!0),N?H!==void 0?b.addEventListener(x,k,{capture:!0,passive:H}):b.addEventListener(x,k,!0):H!==void 0?b.addEventListener(x,k,{passive:H}):b.addEventListener(x,k,!1)}function aF(b,x,k,N,H){var Q=N;if((x&1)===0&&(x&2)===0&&N!==null)e:for(;;){if(N===null)return;var re=N.tag;if(re===3||re===4){var ge=N.stateNode.containerInfo;if(ge===H||ge.nodeType===8&&ge.parentNode===H)break;if(re===4)for(re=N.return;re!==null;){var Ee=re.tag;if((Ee===3||Ee===4)&&(Ee=re.stateNode.containerInfo,Ee===H||Ee.nodeType===8&&Ee.parentNode===H))return;re=re.return}for(;ge!==null;){if(re=Kg(ge),re===null)return;if(Ee=re.tag,Ee===5||Ee===6){N=Q=re;continue e}ge=ge.parentNode}}N=N.return}Fr(function(){var Ue=Q,dt=Ni(k),mt=[];e:{var ct=yte.get(b);if(ct!==void 0){var Bt=e1,Vt=b;switch(b){case"keypress":if(Su(k)===0)break e;case"keydown":case"keyup":Bt=Z;break;case"focusin":Vt="focus",Bt=i1;break;case"focusout":Vt="blur",Bt=i1;break;case"beforeblur":case"afterblur":Bt=i1;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Bt=n1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Bt=xk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Bt=Tt;break;case hte:case pte:case mte:Bt=$h;break;case gte:Bt=Cs;break;case"scroll":Bt=Q5;break;case"wheel":Bt=js;break;case"copy":case"cut":case"paste":Bt=Ck;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Bt=$e}var Gt=(x&4)!==0,Yi=!Gt&&b==="scroll",Me=Gt?ct!==null?ct+"Capture":null:ct;Gt=[];for(var Ie=Ue,Be;Ie!==null;){Be=Ie;var Et=Be.stateNode;if(Be.tag===5&&Et!==null&&(Be=Et,Me!==null&&(Et=hn(Ie,Me),Et!=null&&Gt.push(TE(Ie,Et,Be)))),Yi)break;Ie=Ie.return}0<Gt.length&&(ct=new Bt(ct,Vt,null,k,dt),mt.push({event:ct,listeners:Gt}))}}if((x&7)===0){e:{if(ct=b==="mouseover"||b==="pointerover",Bt=b==="mouseout"||b==="pointerout",ct&&k!==Nn&&(Vt=k.relatedTarget||k.fromElement)&&(Kg(Vt)||Vt[Mh]))break e;if((Bt||ct)&&(ct=dt.window===dt?dt:(ct=dt.ownerDocument)?ct.defaultView||ct.parentWindow:window,Bt?(Vt=k.relatedTarget||k.toElement,Bt=Ue,Vt=Vt?Kg(Vt):null,Vt!==null&&(Yi=Ei(Vt),Vt!==Yi||Vt.tag!==5&&Vt.tag!==6)&&(Vt=null)):(Bt=null,Vt=Ue),Bt!==Vt)){if(Gt=n1,Et="onMouseLeave",Me="onMouseEnter",Ie="mouse",(b==="pointerout"||b==="pointerover")&&(Gt=$e,Et="onPointerLeave",Me="onPointerEnter",Ie="pointer"),Yi=Bt==null?ct:f1(Bt),Be=Vt==null?ct:f1(Vt),ct=new Gt(Et,Ie+"leave",Bt,k,dt),ct.target=Yi,ct.relatedTarget=Be,Et=null,Kg(dt)===Ue&&(Gt=new Gt(Me,Ie+"enter",Vt,k,dt),Gt.target=Be,Gt.relatedTarget=Yi,Et=Gt),Yi=Et,Bt&&Vt)t:{for(Gt=Bt,Me=Vt,Ie=0,Be=Gt;Be;Be=c1(Be))Ie++;for(Be=0,Et=Me;Et;Et=c1(Et))Be++;for(;0<Ie-Be;)Gt=c1(Gt),Ie--;for(;0<Be-Ie;)Me=c1(Me),Be--;for(;Ie--;){if(Gt===Me||Me!==null&&Gt===Me.alternate)break t;Gt=c1(Gt),Me=c1(Me)}Gt=null}else Gt=null;Bt!==null&&_te(mt,ct,Bt,Gt,!1),Vt!==null&&Yi!==null&&_te(mt,Yi,Vt,Gt,!0)}}e:{if(ct=Ue?f1(Ue):window,Bt=ct.nodeName&&ct.nodeName.toLowerCase(),Bt==="select"||Bt==="input"&&ct.type==="file")var Zt=SMe;else if(tte(ct))if(rte)Zt=IMe;else{Zt=AMe;var ln=TMe}else(Bt=ct.nodeName)&&Bt.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(Zt=kMe);if(Zt&&(Zt=Zt(b,Ue))){nte(mt,Zt,k,dt);break e}ln&&ln(b,ct,Ue),b==="focusout"&&(ln=ct._wrapperState)&&ln.controlled&&ct.type==="number"&&je(ct,"number",ct.value)}switch(ln=Ue?f1(Ue):window,b){case"focusin":(tte(ln)||ln.contentEditable==="true")&&(l1=ln,tF=Ue,EE=null);break;case"focusout":EE=tF=l1=null;break;case"mousedown":nF=!0;break;case"contextmenu":case"mouseup":case"dragend":nF=!1,dte(mt,k,dt);break;case"selectionchange":if(PMe)break;case"keydown":case"keyup":dte(mt,k,dt)}var un;if(sf)e:{switch(b){case"compositionstart":var wn="onCompositionStart";break e;case"compositionend":wn="onCompositionEnd";break e;case"compositionupdate":wn="onCompositionUpdate";break e}wn=void 0}else a1?Zee(b,k)&&(wn="onCompositionEnd"):b==="keydown"&&k.keyCode===229&&(wn="onCompositionStart");wn&&(o1&&k.locale!=="ko"&&(a1||wn!=="onCompositionStart"?wn==="onCompositionEnd"&&a1&&(un=Es()):(Cn=dt,kr="value"in Cn?Cn.value:Cn.textContent,a1=!0)),ln=Pk(Ue,wn),0<ln.length&&(wn=new bE(wn,b,null,k,dt),mt.push({event:wn,listeners:ln}),un?wn.data=un:(un=ete(k),un!==null&&(wn.data=un)))),(un=s1?xMe(b,k):_Me(b,k))&&(Ue=Pk(Ue,"onBeforeInput"),0<Ue.length&&(dt=new bE("onBeforeInput","beforeinput",null,k,dt),mt.push({event:dt,listeners:Ue}),dt.data=un))}wte(mt,x)})}function TE(b,x,k){return{instance:b,listener:x,currentTarget:k}}function Pk(b,x){for(var k=x+"Capture",N=[];b!==null;){var H=b,Q=H.stateNode;H.tag===5&&Q!==null&&(H=Q,Q=hn(b,k),Q!=null&&N.unshift(TE(b,Q,H)),Q=hn(b,x),Q!=null&&N.push(TE(b,Q,H))),b=b.return}return N}function c1(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function _te(b,x,k,N,H){for(var Q=x._reactName,re=[];k!==null&&k!==N;){var ge=k,Ee=ge.alternate,Ue=ge.stateNode;if(Ee!==null&&Ee===N)break;ge.tag===5&&Ue!==null&&(ge=Ue,H?(Ee=hn(k,Q),Ee!=null&&re.unshift(TE(k,Ee,ge))):H||(Ee=hn(k,Q),Ee!=null&&re.push(TE(k,Ee,ge)))),k=k.return}re.length!==0&&b.push({event:x,listeners:re})}var MMe=/\r\n?/g,FMe=/\u0000|\uFFFD/g;function Ete(b){return(typeof b=="string"?b:""+b).replace(MMe,`
`).replace(FMe,"")}function Ok(b,x,k){if(x=Ete(x),Ete(b)!==x&&k)throw Error(n(425))}function Nk(){}var lF=null,uF=null;function cF(b,x){return b==="textarea"||b==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var dF=typeof setTimeout=="function"?setTimeout:void 0,LMe=typeof clearTimeout=="function"?clearTimeout:void 0,Cte=typeof Promise=="function"?Promise:void 0,jMe=typeof queueMicrotask=="function"?queueMicrotask:typeof Cte<"u"?function(b){return Cte.resolve(null).then(b).catch(BMe)}:dF;function BMe(b){setTimeout(function(){throw b})}function fF(b,x){var k=x,N=0;do{var H=k.nextSibling;if(b.removeChild(k),H&&H.nodeType===8)if(k=H.data,k==="/$"){if(N===0){b.removeChild(H),tl(x);return}N--}else k!=="$"&&k!=="$?"&&k!=="$!"||N++;k=H}while(k);tl(x)}function Dm(b){for(;b!=null;b=b.nextSibling){var x=b.nodeType;if(x===1||x===3)break;if(x===8){if(x=b.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return b}function Ste(b){b=b.previousSibling;for(var x=0;b;){if(b.nodeType===8){var k=b.data;if(k==="$"||k==="$!"||k==="$?"){if(x===0)return b;x--}else k==="/$"&&x++}b=b.previousSibling}return null}var d1=Math.random().toString(36).slice(2),of="__reactFiber$"+d1,AE="__reactProps$"+d1,Mh="__reactContainer$"+d1,hF="__reactEvents$"+d1,zMe="__reactListeners$"+d1,UMe="__reactHandles$"+d1;function Kg(b){var x=b[of];if(x)return x;for(var k=b.parentNode;k;){if(x=k[Mh]||k[of]){if(k=x.alternate,x.child!==null||k!==null&&k.child!==null)for(b=Ste(b);b!==null;){if(k=b[of])return k;b=Ste(b)}return x}b=k,k=b.parentNode}return null}function kE(b){return b=b[of]||b[Mh],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function f1(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(n(33))}function $k(b){return b[AE]||null}var pF=[],h1=-1;function Pm(b){return{current:b}}function ci(b){0>h1||(b.current=pF[h1],pF[h1]=null,h1--)}function ii(b,x){h1++,pF[h1]=b.current,b.current=x}var Om={},Uo=Pm(Om),il=Pm(!1),Xg=Om;function p1(b,x){var k=b.type.contextTypes;if(!k)return Om;var N=b.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===x)return N.__reactInternalMemoizedMaskedChildContext;var H={},Q;for(Q in k)H[Q]=x[Q];return N&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=x,b.__reactInternalMemoizedMaskedChildContext=H),H}function sl(b){return b=b.childContextTypes,b!=null}function Mk(){ci(il),ci(Uo)}function Tte(b,x,k){if(Uo.current!==Om)throw Error(n(168));ii(Uo,x),ii(il,k)}function Ate(b,x,k){var N=b.stateNode;if(x=x.childContextTypes,typeof N.getChildContext!="function")return k;N=N.getChildContext();for(var H in N)if(!(H in x))throw Error(n(108,ue(b)||"Unknown",H));return U({},k,N)}function Fk(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Om,Xg=Uo.current,ii(Uo,b),ii(il,il.current),!0}function kte(b,x,k){var N=b.stateNode;if(!N)throw Error(n(169));k?(b=Ate(b,x,Xg),N.__reactInternalMemoizedMergedChildContext=b,ci(il),ci(Uo),ii(Uo,b)):ci(il),ii(il,k)}var Fh=null,Lk=!1,mF=!1;function Ite(b){Fh===null?Fh=[b]:Fh.push(b)}function HMe(b){Lk=!0,Ite(b)}function Nm(){if(!mF&&Fh!==null){mF=!0;var b=0,x=en;try{var k=Fh;for(en=1;b<k.length;b++){var N=k[b];do N=N(!0);while(N!==null)}Fh=null,Lk=!1}catch(H){throw Fh!==null&&(Fh=Fh.slice(b+1)),Zd(vs,Nm),H}finally{en=x,mF=!1}}return null}var m1=[],g1=0,jk=null,Bk=0,Tu=[],Au=0,Qg=null,Lh=1,jh="";function Jg(b,x){m1[g1++]=Bk,m1[g1++]=jk,jk=b,Bk=x}function Rte(b,x,k){Tu[Au++]=Lh,Tu[Au++]=jh,Tu[Au++]=Qg,Qg=b;var N=Lh;b=jh;var H=32-xs(N)-1;N&=~(1<<H),k+=1;var Q=32-xs(x)+H;if(30<Q){var re=H-H%5;Q=(N&(1<<re)-1).toString(32),N>>=re,H-=re,Lh=1<<32-xs(x)+H|k<<H|N,jh=Q+b}else Lh=1<<Q|k<<H|N,jh=b}function gF(b){b.return!==null&&(Jg(b,1),Rte(b,1,0))}function yF(b){for(;b===jk;)jk=m1[--g1],m1[g1]=null,Bk=m1[--g1],m1[g1]=null;for(;b===Qg;)Qg=Tu[--Au],Tu[Au]=null,jh=Tu[--Au],Tu[Au]=null,Lh=Tu[--Au],Tu[Au]=null}var Bl=null,zl=null,mi=!1,kc=null;function Dte(b,x){var k=Du(5,null,null,0);k.elementType="DELETED",k.stateNode=x,k.return=b,x=b.deletions,x===null?(b.deletions=[k],b.flags|=16):x.push(k)}function Pte(b,x){switch(b.tag){case 5:var k=b.type;return x=x.nodeType!==1||k.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(b.stateNode=x,Bl=b,zl=Dm(x.firstChild),!0):!1;case 6:return x=b.pendingProps===""||x.nodeType!==3?null:x,x!==null?(b.stateNode=x,Bl=b,zl=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(k=Qg!==null?{id:Lh,overflow:jh}:null,b.memoizedState={dehydrated:x,treeContext:k,retryLane:1073741824},k=Du(18,null,null,0),k.stateNode=x,k.return=b,b.child=k,Bl=b,zl=null,!0):!1;default:return!1}}function vF(b){return(b.mode&1)!==0&&(b.flags&128)===0}function bF(b){if(mi){var x=zl;if(x){var k=x;if(!Pte(b,x)){if(vF(b))throw Error(n(418));x=Dm(k.nextSibling);var N=Bl;x&&Pte(b,x)?Dte(N,k):(b.flags=b.flags&-4097|2,mi=!1,Bl=b)}}else{if(vF(b))throw Error(n(418));b.flags=b.flags&-4097|2,mi=!1,Bl=b}}}function Ote(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;Bl=b}function zk(b){if(b!==Bl)return!1;if(!mi)return Ote(b),mi=!0,!1;var x;if((x=b.tag!==3)&&!(x=b.tag!==5)&&(x=b.type,x=x!=="head"&&x!=="body"&&!cF(b.type,b.memoizedProps)),x&&(x=zl)){if(vF(b))throw Nte(),Error(n(418));for(;x;)Dte(b,x),x=Dm(x.nextSibling)}if(Ote(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));e:{for(b=b.nextSibling,x=0;b;){if(b.nodeType===8){var k=b.data;if(k==="/$"){if(x===0){zl=Dm(b.nextSibling);break e}x--}else k!=="$"&&k!=="$!"&&k!=="$?"||x++}b=b.nextSibling}zl=null}}else zl=Bl?Dm(b.stateNode.nextSibling):null;return!0}function Nte(){for(var b=zl;b;)b=Dm(b.nextSibling)}function y1(){zl=Bl=null,mi=!1}function wF(b){kc===null?kc=[b]:kc.push(b)}var qMe=E.ReactCurrentBatchConfig;function IE(b,x,k){if(b=k.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(n(309));var N=k.stateNode}if(!N)throw Error(n(147,b));var H=N,Q=""+b;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===Q?x.ref:(x=function(re){var ge=H.refs;re===null?delete ge[Q]:ge[Q]=re},x._stringRef=Q,x)}if(typeof b!="string")throw Error(n(284));if(!k._owner)throw Error(n(290,b))}return b}function Uk(b,x){throw b=Object.prototype.toString.call(x),Error(n(31,b==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":b))}function $te(b){var x=b._init;return x(b._payload)}function Mte(b){function x(Me,Ie){if(b){var Be=Me.deletions;Be===null?(Me.deletions=[Ie],Me.flags|=16):Be.push(Ie)}}function k(Me,Ie){if(!b)return null;for(;Ie!==null;)x(Me,Ie),Ie=Ie.sibling;return null}function N(Me,Ie){for(Me=new Map;Ie!==null;)Ie.key!==null?Me.set(Ie.key,Ie):Me.set(Ie.index,Ie),Ie=Ie.sibling;return Me}function H(Me,Ie){return Me=Um(Me,Ie),Me.index=0,Me.sibling=null,Me}function Q(Me,Ie,Be){return Me.index=Be,b?(Be=Me.alternate,Be!==null?(Be=Be.index,Be<Ie?(Me.flags|=2,Ie):Be):(Me.flags|=2,Ie)):(Me.flags|=1048576,Ie)}function re(Me){return b&&Me.alternate===null&&(Me.flags|=2),Me}function ge(Me,Ie,Be,Et){return Ie===null||Ie.tag!==6?(Ie=dL(Be,Me.mode,Et),Ie.return=Me,Ie):(Ie=H(Ie,Be),Ie.return=Me,Ie)}function Ee(Me,Ie,Be,Et){var Zt=Be.type;return Zt===T?dt(Me,Ie,Be.props.children,Et,Be.key):Ie!==null&&(Ie.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===B&&$te(Zt)===Ie.type)?(Et=H(Ie,Be.props),Et.ref=IE(Me,Ie,Be),Et.return=Me,Et):(Et=fI(Be.type,Be.key,Be.props,null,Me.mode,Et),Et.ref=IE(Me,Ie,Be),Et.return=Me,Et)}function Ue(Me,Ie,Be,Et){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==Be.containerInfo||Ie.stateNode.implementation!==Be.implementation?(Ie=fL(Be,Me.mode,Et),Ie.return=Me,Ie):(Ie=H(Ie,Be.children||[]),Ie.return=Me,Ie)}function dt(Me,Ie,Be,Et,Zt){return Ie===null||Ie.tag!==7?(Ie=oy(Be,Me.mode,Et,Zt),Ie.return=Me,Ie):(Ie=H(Ie,Be),Ie.return=Me,Ie)}function mt(Me,Ie,Be){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=dL(""+Ie,Me.mode,Be),Ie.return=Me,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case C:return Be=fI(Ie.type,Ie.key,Ie.props,null,Me.mode,Be),Be.ref=IE(Me,null,Ie),Be.return=Me,Be;case S:return Ie=fL(Ie,Me.mode,Be),Ie.return=Me,Ie;case B:var Et=Ie._init;return mt(Me,Et(Ie._payload),Be)}if(Qe(Ie)||X(Ie))return Ie=oy(Ie,Me.mode,Be,null),Ie.return=Me,Ie;Uk(Me,Ie)}return null}function ct(Me,Ie,Be,Et){var Zt=Ie!==null?Ie.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Zt!==null?null:ge(Me,Ie,""+Be,Et);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case C:return Be.key===Zt?Ee(Me,Ie,Be,Et):null;case S:return Be.key===Zt?Ue(Me,Ie,Be,Et):null;case B:return Zt=Be._init,ct(Me,Ie,Zt(Be._payload),Et)}if(Qe(Be)||X(Be))return Zt!==null?null:dt(Me,Ie,Be,Et,null);Uk(Me,Be)}return null}function Bt(Me,Ie,Be,Et,Zt){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Me=Me.get(Be)||null,ge(Ie,Me,""+Et,Zt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case C:return Me=Me.get(Et.key===null?Be:Et.key)||null,Ee(Ie,Me,Et,Zt);case S:return Me=Me.get(Et.key===null?Be:Et.key)||null,Ue(Ie,Me,Et,Zt);case B:var ln=Et._init;return Bt(Me,Ie,Be,ln(Et._payload),Zt)}if(Qe(Et)||X(Et))return Me=Me.get(Be)||null,dt(Ie,Me,Et,Zt,null);Uk(Ie,Et)}return null}function Vt(Me,Ie,Be,Et){for(var Zt=null,ln=null,un=Ie,wn=Ie=0,Hs=null;un!==null&&wn<Be.length;wn++){un.index>wn?(Hs=un,un=null):Hs=un.sibling;var wr=ct(Me,un,Be[wn],Et);if(wr===null){un===null&&(un=Hs);break}b&&un&&wr.alternate===null&&x(Me,un),Ie=Q(wr,Ie,wn),ln===null?Zt=wr:ln.sibling=wr,ln=wr,un=Hs}if(wn===Be.length)return k(Me,un),mi&&Jg(Me,wn),Zt;if(un===null){for(;wn<Be.length;wn++)un=mt(Me,Be[wn],Et),un!==null&&(Ie=Q(un,Ie,wn),ln===null?Zt=un:ln.sibling=un,ln=un);return mi&&Jg(Me,wn),Zt}for(un=N(Me,un);wn<Be.length;wn++)Hs=Bt(un,Me,wn,Be[wn],Et),Hs!==null&&(b&&Hs.alternate!==null&&un.delete(Hs.key===null?wn:Hs.key),Ie=Q(Hs,Ie,wn),ln===null?Zt=Hs:ln.sibling=Hs,ln=Hs);return b&&un.forEach(function(Hm){return x(Me,Hm)}),mi&&Jg(Me,wn),Zt}function Gt(Me,Ie,Be,Et){var Zt=X(Be);if(typeof Zt!="function")throw Error(n(150));if(Be=Zt.call(Be),Be==null)throw Error(n(151));for(var ln=Zt=null,un=Ie,wn=Ie=0,Hs=null,wr=Be.next();un!==null&&!wr.done;wn++,wr=Be.next()){un.index>wn?(Hs=un,un=null):Hs=un.sibling;var Hm=ct(Me,un,wr.value,Et);if(Hm===null){un===null&&(un=Hs);break}b&&un&&Hm.alternate===null&&x(Me,un),Ie=Q(Hm,Ie,wn),ln===null?Zt=Hm:ln.sibling=Hm,ln=Hm,un=Hs}if(wr.done)return k(Me,un),mi&&Jg(Me,wn),Zt;if(un===null){for(;!wr.done;wn++,wr=Be.next())wr=mt(Me,wr.value,Et),wr!==null&&(Ie=Q(wr,Ie,wn),ln===null?Zt=wr:ln.sibling=wr,ln=wr);return mi&&Jg(Me,wn),Zt}for(un=N(Me,un);!wr.done;wn++,wr=Be.next())wr=Bt(un,Me,wn,wr.value,Et),wr!==null&&(b&&wr.alternate!==null&&un.delete(wr.key===null?wn:wr.key),Ie=Q(wr,Ie,wn),ln===null?Zt=wr:ln.sibling=wr,ln=wr);return b&&un.forEach(function(E6e){return x(Me,E6e)}),mi&&Jg(Me,wn),Zt}function Yi(Me,Ie,Be,Et){if(typeof Be=="object"&&Be!==null&&Be.type===T&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case C:e:{for(var Zt=Be.key,ln=Ie;ln!==null;){if(ln.key===Zt){if(Zt=Be.type,Zt===T){if(ln.tag===7){k(Me,ln.sibling),Ie=H(ln,Be.props.children),Ie.return=Me,Me=Ie;break e}}else if(ln.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===B&&$te(Zt)===ln.type){k(Me,ln.sibling),Ie=H(ln,Be.props),Ie.ref=IE(Me,ln,Be),Ie.return=Me,Me=Ie;break e}k(Me,ln);break}else x(Me,ln);ln=ln.sibling}Be.type===T?(Ie=oy(Be.props.children,Me.mode,Et,Be.key),Ie.return=Me,Me=Ie):(Et=fI(Be.type,Be.key,Be.props,null,Me.mode,Et),Et.ref=IE(Me,Ie,Be),Et.return=Me,Me=Et)}return re(Me);case S:e:{for(ln=Be.key;Ie!==null;){if(Ie.key===ln)if(Ie.tag===4&&Ie.stateNode.containerInfo===Be.containerInfo&&Ie.stateNode.implementation===Be.implementation){k(Me,Ie.sibling),Ie=H(Ie,Be.children||[]),Ie.return=Me,Me=Ie;break e}else{k(Me,Ie);break}else x(Me,Ie);Ie=Ie.sibling}Ie=fL(Be,Me.mode,Et),Ie.return=Me,Me=Ie}return re(Me);case B:return ln=Be._init,Yi(Me,Ie,ln(Be._payload),Et)}if(Qe(Be))return Vt(Me,Ie,Be,Et);if(X(Be))return Gt(Me,Ie,Be,Et);Uk(Me,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"?(Be=""+Be,Ie!==null&&Ie.tag===6?(k(Me,Ie.sibling),Ie=H(Ie,Be),Ie.return=Me,Me=Ie):(k(Me,Ie),Ie=dL(Be,Me.mode,Et),Ie.return=Me,Me=Ie),re(Me)):k(Me,Ie)}return Yi}var v1=Mte(!0),Fte=Mte(!1),Hk=Pm(null),qk=null,b1=null,xF=null;function _F(){xF=b1=qk=null}function EF(b){var x=Hk.current;ci(Hk),b._currentValue=x}function CF(b,x,k){for(;b!==null;){var N=b.alternate;if((b.childLanes&x)!==x?(b.childLanes|=x,N!==null&&(N.childLanes|=x)):N!==null&&(N.childLanes&x)!==x&&(N.childLanes|=x),b===k)break;b=b.return}}function w1(b,x){qk=b,xF=b1=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&x)!==0&&(ol=!0),b.firstContext=null)}function ku(b){var x=b._currentValue;if(xF!==b)if(b={context:b,memoizedValue:x,next:null},b1===null){if(qk===null)throw Error(n(308));b1=b,qk.dependencies={lanes:0,firstContext:b}}else b1=b1.next=b;return x}var Zg=null;function SF(b){Zg===null?Zg=[b]:Zg.push(b)}function Lte(b,x,k,N){var H=x.interleaved;return H===null?(k.next=k,SF(x)):(k.next=H.next,H.next=k),x.interleaved=k,Bh(b,N)}function Bh(b,x){b.lanes|=x;var k=b.alternate;for(k!==null&&(k.lanes|=x),k=b,b=b.return;b!==null;)b.childLanes|=x,k=b.alternate,k!==null&&(k.childLanes|=x),k=b,b=b.return;return k.tag===3?k.stateNode:null}var $m=!1;function TF(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jte(b,x){b=b.updateQueue,x.updateQueue===b&&(x.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function zh(b,x){return{eventTime:b,lane:x,tag:0,payload:null,callback:null,next:null}}function Mm(b,x,k){var N=b.updateQueue;if(N===null)return null;if(N=N.shared,(hr&2)!==0){var H=N.pending;return H===null?x.next=x:(x.next=H.next,H.next=x),N.pending=x,Bh(b,k)}return H=N.interleaved,H===null?(x.next=x,SF(N)):(x.next=H.next,H.next=x),N.interleaved=x,Bh(b,k)}function Vk(b,x,k){if(x=x.updateQueue,x!==null&&(x=x.shared,(k&4194240)!==0)){var N=x.lanes;N&=b.pendingLanes,k|=N,x.lanes=k,$n(b,k)}}function Bte(b,x){var k=b.updateQueue,N=b.alternate;if(N!==null&&(N=N.updateQueue,k===N)){var H=null,Q=null;if(k=k.firstBaseUpdate,k!==null){do{var re={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};Q===null?H=Q=re:Q=Q.next=re,k=k.next}while(k!==null);Q===null?H=Q=x:Q=Q.next=x}else H=Q=x;k={baseState:N.baseState,firstBaseUpdate:H,lastBaseUpdate:Q,shared:N.shared,effects:N.effects},b.updateQueue=k;return}b=k.lastBaseUpdate,b===null?k.firstBaseUpdate=x:b.next=x,k.lastBaseUpdate=x}function Wk(b,x,k,N){var H=b.updateQueue;$m=!1;var Q=H.firstBaseUpdate,re=H.lastBaseUpdate,ge=H.shared.pending;if(ge!==null){H.shared.pending=null;var Ee=ge,Ue=Ee.next;Ee.next=null,re===null?Q=Ue:re.next=Ue,re=Ee;var dt=b.alternate;dt!==null&&(dt=dt.updateQueue,ge=dt.lastBaseUpdate,ge!==re&&(ge===null?dt.firstBaseUpdate=Ue:ge.next=Ue,dt.lastBaseUpdate=Ee))}if(Q!==null){var mt=H.baseState;re=0,dt=Ue=Ee=null,ge=Q;do{var ct=ge.lane,Bt=ge.eventTime;if((N&ct)===ct){dt!==null&&(dt=dt.next={eventTime:Bt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Vt=b,Gt=ge;switch(ct=x,Bt=k,Gt.tag){case 1:if(Vt=Gt.payload,typeof Vt=="function"){mt=Vt.call(Bt,mt,ct);break e}mt=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=Gt.payload,ct=typeof Vt=="function"?Vt.call(Bt,mt,ct):Vt,ct==null)break e;mt=U({},mt,ct);break e;case 2:$m=!0}}ge.callback!==null&&ge.lane!==0&&(b.flags|=64,ct=H.effects,ct===null?H.effects=[ge]:ct.push(ge))}else Bt={eventTime:Bt,lane:ct,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},dt===null?(Ue=dt=Bt,Ee=mt):dt=dt.next=Bt,re|=ct;if(ge=ge.next,ge===null){if(ge=H.shared.pending,ge===null)break;ct=ge,ge=ct.next,ct.next=null,H.lastBaseUpdate=ct,H.shared.pending=null}}while(!0);if(dt===null&&(Ee=mt),H.baseState=Ee,H.firstBaseUpdate=Ue,H.lastBaseUpdate=dt,x=H.shared.interleaved,x!==null){H=x;do re|=H.lane,H=H.next;while(H!==x)}else Q===null&&(H.shared.lanes=0);ny|=re,b.lanes=re,b.memoizedState=mt}}function zte(b,x,k){if(b=x.effects,x.effects=null,b!==null)for(x=0;x<b.length;x++){var N=b[x],H=N.callback;if(H!==null){if(N.callback=null,N=k,typeof H!="function")throw Error(n(191,H));H.call(N)}}}var RE={},af=Pm(RE),DE=Pm(RE),PE=Pm(RE);function ey(b){if(b===RE)throw Error(n(174));return b}function AF(b,x){switch(ii(PE,x),ii(DE,b),ii(af,RE),b=x.nodeType,b){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:Te(null,"");break;default:b=b===8?x.parentNode:x,x=b.namespaceURI||null,b=b.tagName,x=Te(x,b)}ci(af),ii(af,x)}function x1(){ci(af),ci(DE),ci(PE)}function Ute(b){ey(PE.current);var x=ey(af.current),k=Te(x,b.type);x!==k&&(ii(DE,b),ii(af,k))}function kF(b){DE.current===b&&(ci(af),ci(DE))}var Si=Pm(0);function Gk(b){for(var x=b;x!==null;){if(x.tag===13){var k=x.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===b)break;for(;x.sibling===null;){if(x.return===null||x.return===b)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var IF=[];function RF(){for(var b=0;b<IF.length;b++)IF[b]._workInProgressVersionPrimary=null;IF.length=0}var Yk=E.ReactCurrentDispatcher,DF=E.ReactCurrentBatchConfig,ty=0,Ti=null,Ss=null,zs=null,Kk=!1,OE=!1,NE=0,VMe=0;function Ho(){throw Error(n(321))}function PF(b,x){if(x===null)return!1;for(var k=0;k<x.length&&k<b.length;k++)if(!Ac(b[k],x[k]))return!1;return!0}function OF(b,x,k,N,H,Q){if(ty=Q,Ti=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,Yk.current=b===null||b.memoizedState===null?KMe:XMe,b=k(N,H),OE){Q=0;do{if(OE=!1,NE=0,25<=Q)throw Error(n(301));Q+=1,zs=Ss=null,x.updateQueue=null,Yk.current=QMe,b=k(N,H)}while(OE)}if(Yk.current=Jk,x=Ss!==null&&Ss.next!==null,ty=0,zs=Ss=Ti=null,Kk=!1,x)throw Error(n(300));return b}function NF(){var b=NE!==0;return NE=0,b}function lf(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zs===null?Ti.memoizedState=zs=b:zs=zs.next=b,zs}function Iu(){if(Ss===null){var b=Ti.alternate;b=b!==null?b.memoizedState:null}else b=Ss.next;var x=zs===null?Ti.memoizedState:zs.next;if(x!==null)zs=x,Ss=b;else{if(b===null)throw Error(n(310));Ss=b,b={memoizedState:Ss.memoizedState,baseState:Ss.baseState,baseQueue:Ss.baseQueue,queue:Ss.queue,next:null},zs===null?Ti.memoizedState=zs=b:zs=zs.next=b}return zs}function $E(b,x){return typeof x=="function"?x(b):x}function $F(b){var x=Iu(),k=x.queue;if(k===null)throw Error(n(311));k.lastRenderedReducer=b;var N=Ss,H=N.baseQueue,Q=k.pending;if(Q!==null){if(H!==null){var re=H.next;H.next=Q.next,Q.next=re}N.baseQueue=H=Q,k.pending=null}if(H!==null){Q=H.next,N=N.baseState;var ge=re=null,Ee=null,Ue=Q;do{var dt=Ue.lane;if((ty&dt)===dt)Ee!==null&&(Ee=Ee.next={lane:0,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),N=Ue.hasEagerState?Ue.eagerState:b(N,Ue.action);else{var mt={lane:dt,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null};Ee===null?(ge=Ee=mt,re=N):Ee=Ee.next=mt,Ti.lanes|=dt,ny|=dt}Ue=Ue.next}while(Ue!==null&&Ue!==Q);Ee===null?re=N:Ee.next=ge,Ac(N,x.memoizedState)||(ol=!0),x.memoizedState=N,x.baseState=re,x.baseQueue=Ee,k.lastRenderedState=N}if(b=k.interleaved,b!==null){H=b;do Q=H.lane,Ti.lanes|=Q,ny|=Q,H=H.next;while(H!==b)}else H===null&&(k.lanes=0);return[x.memoizedState,k.dispatch]}function MF(b){var x=Iu(),k=x.queue;if(k===null)throw Error(n(311));k.lastRenderedReducer=b;var N=k.dispatch,H=k.pending,Q=x.memoizedState;if(H!==null){k.pending=null;var re=H=H.next;do Q=b(Q,re.action),re=re.next;while(re!==H);Ac(Q,x.memoizedState)||(ol=!0),x.memoizedState=Q,x.baseQueue===null&&(x.baseState=Q),k.lastRenderedState=Q}return[Q,N]}function Hte(){}function qte(b,x){var k=Ti,N=Iu(),H=x(),Q=!Ac(N.memoizedState,H);if(Q&&(N.memoizedState=H,ol=!0),N=N.queue,FF(Gte.bind(null,k,N,b),[b]),N.getSnapshot!==x||Q||zs!==null&&zs.memoizedState.tag&1){if(k.flags|=2048,ME(9,Wte.bind(null,k,N,H,x),void 0,null),Us===null)throw Error(n(349));(ty&30)!==0||Vte(k,x,H)}return H}function Vte(b,x,k){b.flags|=16384,b={getSnapshot:x,value:k},x=Ti.updateQueue,x===null?(x={lastEffect:null,stores:null},Ti.updateQueue=x,x.stores=[b]):(k=x.stores,k===null?x.stores=[b]:k.push(b))}function Wte(b,x,k,N){x.value=k,x.getSnapshot=N,Yte(x)&&Kte(b)}function Gte(b,x,k){return k(function(){Yte(x)&&Kte(b)})}function Yte(b){var x=b.getSnapshot;b=b.value;try{var k=x();return!Ac(b,k)}catch{return!0}}function Kte(b){var x=Bh(b,1);x!==null&&Pc(x,b,1,-1)}function Xte(b){var x=lf();return typeof b=="function"&&(b=b()),x.memoizedState=x.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$E,lastRenderedState:b},x.queue=b,b=b.dispatch=YMe.bind(null,Ti,b),[x.memoizedState,b]}function ME(b,x,k,N){return b={tag:b,create:x,destroy:k,deps:N,next:null},x=Ti.updateQueue,x===null?(x={lastEffect:null,stores:null},Ti.updateQueue=x,x.lastEffect=b.next=b):(k=x.lastEffect,k===null?x.lastEffect=b.next=b:(N=k.next,k.next=b,b.next=N,x.lastEffect=b)),b}function Qte(){return Iu().memoizedState}function Xk(b,x,k,N){var H=lf();Ti.flags|=b,H.memoizedState=ME(1|x,k,void 0,N===void 0?null:N)}function Qk(b,x,k,N){var H=Iu();N=N===void 0?null:N;var Q=void 0;if(Ss!==null){var re=Ss.memoizedState;if(Q=re.destroy,N!==null&&PF(N,re.deps)){H.memoizedState=ME(x,k,Q,N);return}}Ti.flags|=b,H.memoizedState=ME(1|x,k,Q,N)}function Jte(b,x){return Xk(8390656,8,b,x)}function FF(b,x){return Qk(2048,8,b,x)}function Zte(b,x){return Qk(4,2,b,x)}function ene(b,x){return Qk(4,4,b,x)}function tne(b,x){if(typeof x=="function")return b=b(),x(b),function(){x(null)};if(x!=null)return b=b(),x.current=b,function(){x.current=null}}function nne(b,x,k){return k=k!=null?k.concat([b]):null,Qk(4,4,tne.bind(null,x,b),k)}function LF(){}function rne(b,x){var k=Iu();x=x===void 0?null:x;var N=k.memoizedState;return N!==null&&x!==null&&PF(x,N[1])?N[0]:(k.memoizedState=[b,x],b)}function ine(b,x){var k=Iu();x=x===void 0?null:x;var N=k.memoizedState;return N!==null&&x!==null&&PF(x,N[1])?N[0]:(b=b(),k.memoizedState=[b,x],b)}function sne(b,x,k){return(ty&21)===0?(b.baseState&&(b.baseState=!1,ol=!0),b.memoizedState=k):(Ac(k,x)||(k=bt(),Ti.lanes|=k,ny|=k,b.baseState=!0),x)}function WMe(b,x){var k=en;en=k!==0&&4>k?k:4,b(!0);var N=DF.transition;DF.transition={};try{b(!1),x()}finally{en=k,DF.transition=N}}function one(){return Iu().memoizedState}function GMe(b,x,k){var N=Bm(b);if(k={lane:N,action:k,hasEagerState:!1,eagerState:null,next:null},ane(b))lne(x,k);else if(k=Lte(b,x,k,N),k!==null){var H=_a();Pc(k,b,N,H),une(k,x,N)}}function YMe(b,x,k){var N=Bm(b),H={lane:N,action:k,hasEagerState:!1,eagerState:null,next:null};if(ane(b))lne(x,H);else{var Q=b.alternate;if(b.lanes===0&&(Q===null||Q.lanes===0)&&(Q=x.lastRenderedReducer,Q!==null))try{var re=x.lastRenderedState,ge=Q(re,k);if(H.hasEagerState=!0,H.eagerState=ge,Ac(ge,re)){var Ee=x.interleaved;Ee===null?(H.next=H,SF(x)):(H.next=Ee.next,Ee.next=H),x.interleaved=H;return}}catch{}finally{}k=Lte(b,x,H,N),k!==null&&(H=_a(),Pc(k,b,N,H),une(k,x,N))}}function ane(b){var x=b.alternate;return b===Ti||x!==null&&x===Ti}function lne(b,x){OE=Kk=!0;var k=b.pending;k===null?x.next=x:(x.next=k.next,k.next=x),b.pending=x}function une(b,x,k){if((k&4194240)!==0){var N=x.lanes;N&=b.pendingLanes,k|=N,x.lanes=k,$n(b,k)}}var Jk={readContext:ku,useCallback:Ho,useContext:Ho,useEffect:Ho,useImperativeHandle:Ho,useInsertionEffect:Ho,useLayoutEffect:Ho,useMemo:Ho,useReducer:Ho,useRef:Ho,useState:Ho,useDebugValue:Ho,useDeferredValue:Ho,useTransition:Ho,useMutableSource:Ho,useSyncExternalStore:Ho,useId:Ho,unstable_isNewReconciler:!1},KMe={readContext:ku,useCallback:function(b,x){return lf().memoizedState=[b,x===void 0?null:x],b},useContext:ku,useEffect:Jte,useImperativeHandle:function(b,x,k){return k=k!=null?k.concat([b]):null,Xk(4194308,4,tne.bind(null,x,b),k)},useLayoutEffect:function(b,x){return Xk(4194308,4,b,x)},useInsertionEffect:function(b,x){return Xk(4,2,b,x)},useMemo:function(b,x){var k=lf();return x=x===void 0?null:x,b=b(),k.memoizedState=[b,x],b},useReducer:function(b,x,k){var N=lf();return x=k!==void 0?k(x):x,N.memoizedState=N.baseState=x,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:x},N.queue=b,b=b.dispatch=GMe.bind(null,Ti,b),[N.memoizedState,b]},useRef:function(b){var x=lf();return b={current:b},x.memoizedState=b},useState:Xte,useDebugValue:LF,useDeferredValue:function(b){return lf().memoizedState=b},useTransition:function(){var b=Xte(!1),x=b[0];return b=WMe.bind(null,b[1]),lf().memoizedState=b,[x,b]},useMutableSource:function(){},useSyncExternalStore:function(b,x,k){var N=Ti,H=lf();if(mi){if(k===void 0)throw Error(n(407));k=k()}else{if(k=x(),Us===null)throw Error(n(349));(ty&30)!==0||Vte(N,x,k)}H.memoizedState=k;var Q={value:k,getSnapshot:x};return H.queue=Q,Jte(Gte.bind(null,N,Q,b),[b]),N.flags|=2048,ME(9,Wte.bind(null,N,Q,k,x),void 0,null),k},useId:function(){var b=lf(),x=Us.identifierPrefix;if(mi){var k=jh,N=Lh;k=(N&~(1<<32-xs(N)-1)).toString(32)+k,x=":"+x+"R"+k,k=NE++,0<k&&(x+="H"+k.toString(32)),x+=":"}else k=VMe++,x=":"+x+"r"+k.toString(32)+":";return b.memoizedState=x},unstable_isNewReconciler:!1},XMe={readContext:ku,useCallback:rne,useContext:ku,useEffect:FF,useImperativeHandle:nne,useInsertionEffect:Zte,useLayoutEffect:ene,useMemo:ine,useReducer:$F,useRef:Qte,useState:function(){return $F($E)},useDebugValue:LF,useDeferredValue:function(b){var x=Iu();return sne(x,Ss.memoizedState,b)},useTransition:function(){var b=$F($E)[0],x=Iu().memoizedState;return[b,x]},useMutableSource:Hte,useSyncExternalStore:qte,useId:one,unstable_isNewReconciler:!1},QMe={readContext:ku,useCallback:rne,useContext:ku,useEffect:FF,useImperativeHandle:nne,useInsertionEffect:Zte,useLayoutEffect:ene,useMemo:ine,useReducer:MF,useRef:Qte,useState:function(){return MF($E)},useDebugValue:LF,useDeferredValue:function(b){var x=Iu();return Ss===null?x.memoizedState=b:sne(x,Ss.memoizedState,b)},useTransition:function(){var b=MF($E)[0],x=Iu().memoizedState;return[b,x]},useMutableSource:Hte,useSyncExternalStore:qte,useId:one,unstable_isNewReconciler:!1};function Ic(b,x){if(b&&b.defaultProps){x=U({},x),b=b.defaultProps;for(var k in b)x[k]===void 0&&(x[k]=b[k]);return x}return x}function jF(b,x,k,N){x=b.memoizedState,k=k(N,x),k=k==null?x:U({},x,k),b.memoizedState=k,b.lanes===0&&(b.updateQueue.baseState=k)}var Zk={isMounted:function(b){return(b=b._reactInternals)?Ei(b)===b:!1},enqueueSetState:function(b,x,k){b=b._reactInternals;var N=_a(),H=Bm(b),Q=zh(N,H);Q.payload=x,k!=null&&(Q.callback=k),x=Mm(b,Q,H),x!==null&&(Pc(x,b,H,N),Vk(x,b,H))},enqueueReplaceState:function(b,x,k){b=b._reactInternals;var N=_a(),H=Bm(b),Q=zh(N,H);Q.tag=1,Q.payload=x,k!=null&&(Q.callback=k),x=Mm(b,Q,H),x!==null&&(Pc(x,b,H,N),Vk(x,b,H))},enqueueForceUpdate:function(b,x){b=b._reactInternals;var k=_a(),N=Bm(b),H=zh(k,N);H.tag=2,x!=null&&(H.callback=x),x=Mm(b,H,N),x!==null&&(Pc(x,b,N,k),Vk(x,b,N))}};function cne(b,x,k,N,H,Q,re){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(N,Q,re):x.prototype&&x.prototype.isPureReactComponent?!_E(k,N)||!_E(H,Q):!0}function dne(b,x,k){var N=!1,H=Om,Q=x.contextType;return typeof Q=="object"&&Q!==null?Q=ku(Q):(H=sl(x)?Xg:Uo.current,N=x.contextTypes,Q=(N=N!=null)?p1(b,H):Om),x=new x(k,Q),b.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Zk,b.stateNode=x,x._reactInternals=b,N&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=H,b.__reactInternalMemoizedMaskedChildContext=Q),x}function fne(b,x,k,N){b=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(k,N),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(k,N),x.state!==b&&Zk.enqueueReplaceState(x,x.state,null)}function BF(b,x,k,N){var H=b.stateNode;H.props=k,H.state=b.memoizedState,H.refs={},TF(b);var Q=x.contextType;typeof Q=="object"&&Q!==null?H.context=ku(Q):(Q=sl(x)?Xg:Uo.current,H.context=p1(b,Q)),H.state=b.memoizedState,Q=x.getDerivedStateFromProps,typeof Q=="function"&&(jF(b,x,Q,k),H.state=b.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(x=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),x!==H.state&&Zk.enqueueReplaceState(H,H.state,null),Wk(b,k,H,N),H.state=b.memoizedState),typeof H.componentDidMount=="function"&&(b.flags|=4194308)}function _1(b,x){try{var k="",N=x;do k+=J(N),N=N.return;while(N);var H=k}catch(Q){H=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:b,source:x,stack:H,digest:null}}function zF(b,x,k){return{value:b,source:null,stack:k??null,digest:x??null}}function UF(b,x){try{console.error(x.value)}catch(k){setTimeout(function(){throw k})}}var JMe=typeof WeakMap=="function"?WeakMap:Map;function hne(b,x,k){k=zh(-1,k),k.tag=3,k.payload={element:null};var N=x.value;return k.callback=function(){oI||(oI=!0,rL=N),UF(b,x)},k}function pne(b,x,k){k=zh(-1,k),k.tag=3;var N=b.type.getDerivedStateFromError;if(typeof N=="function"){var H=x.value;k.payload=function(){return N(H)},k.callback=function(){UF(b,x)}}var Q=b.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(k.callback=function(){UF(b,x),typeof N!="function"&&(Lm===null?Lm=new Set([this]):Lm.add(this));var re=x.stack;this.componentDidCatch(x.value,{componentStack:re!==null?re:""})}),k}function mne(b,x,k){var N=b.pingCache;if(N===null){N=b.pingCache=new JMe;var H=new Set;N.set(x,H)}else H=N.get(x),H===void 0&&(H=new Set,N.set(x,H));H.has(k)||(H.add(k),b=f6e.bind(null,b,x,k),x.then(b,b))}function gne(b){do{var x;if((x=b.tag===13)&&(x=b.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return b;b=b.return}while(b!==null);return null}function yne(b,x,k,N,H){return(b.mode&1)===0?(b===x?b.flags|=65536:(b.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(x=zh(-1,1),x.tag=2,Mm(k,x,1))),k.lanes|=1),b):(b.flags|=65536,b.lanes=H,b)}var ZMe=E.ReactCurrentOwner,ol=!1;function xa(b,x,k,N){x.child=b===null?Fte(x,null,k,N):v1(x,b.child,k,N)}function vne(b,x,k,N,H){k=k.render;var Q=x.ref;return w1(x,H),N=OF(b,x,k,N,Q,H),k=NF(),b!==null&&!ol?(x.updateQueue=b.updateQueue,x.flags&=-2053,b.lanes&=~H,Uh(b,x,H)):(mi&&k&&gF(x),x.flags|=1,xa(b,x,N,H),x.child)}function bne(b,x,k,N,H){if(b===null){var Q=k.type;return typeof Q=="function"&&!cL(Q)&&Q.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(x.tag=15,x.type=Q,wne(b,x,Q,N,H)):(b=fI(k.type,null,N,x,x.mode,H),b.ref=x.ref,b.return=x,x.child=b)}if(Q=b.child,(b.lanes&H)===0){var re=Q.memoizedProps;if(k=k.compare,k=k!==null?k:_E,k(re,N)&&b.ref===x.ref)return Uh(b,x,H)}return x.flags|=1,b=Um(Q,N),b.ref=x.ref,b.return=x,x.child=b}function wne(b,x,k,N,H){if(b!==null){var Q=b.memoizedProps;if(_E(Q,N)&&b.ref===x.ref)if(ol=!1,x.pendingProps=N=Q,(b.lanes&H)!==0)(b.flags&131072)!==0&&(ol=!0);else return x.lanes=b.lanes,Uh(b,x,H)}return HF(b,x,k,N,H)}function xne(b,x,k){var N=x.pendingProps,H=N.children,Q=b!==null?b.memoizedState:null;if(N.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},ii(C1,Ul),Ul|=k;else{if((k&1073741824)===0)return b=Q!==null?Q.baseLanes|k:k,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:b,cachePool:null,transitions:null},x.updateQueue=null,ii(C1,Ul),Ul|=b,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=Q!==null?Q.baseLanes:k,ii(C1,Ul),Ul|=N}else Q!==null?(N=Q.baseLanes|k,x.memoizedState=null):N=k,ii(C1,Ul),Ul|=N;return xa(b,x,H,k),x.child}function _ne(b,x){var k=x.ref;(b===null&&k!==null||b!==null&&b.ref!==k)&&(x.flags|=512,x.flags|=2097152)}function HF(b,x,k,N,H){var Q=sl(k)?Xg:Uo.current;return Q=p1(x,Q),w1(x,H),k=OF(b,x,k,N,Q,H),N=NF(),b!==null&&!ol?(x.updateQueue=b.updateQueue,x.flags&=-2053,b.lanes&=~H,Uh(b,x,H)):(mi&&N&&gF(x),x.flags|=1,xa(b,x,k,H),x.child)}function Ene(b,x,k,N,H){if(sl(k)){var Q=!0;Fk(x)}else Q=!1;if(w1(x,H),x.stateNode===null)tI(b,x),dne(x,k,N),BF(x,k,N,H),N=!0;else if(b===null){var re=x.stateNode,ge=x.memoizedProps;re.props=ge;var Ee=re.context,Ue=k.contextType;typeof Ue=="object"&&Ue!==null?Ue=ku(Ue):(Ue=sl(k)?Xg:Uo.current,Ue=p1(x,Ue));var dt=k.getDerivedStateFromProps,mt=typeof dt=="function"||typeof re.getSnapshotBeforeUpdate=="function";mt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ge!==N||Ee!==Ue)&&fne(x,re,N,Ue),$m=!1;var ct=x.memoizedState;re.state=ct,Wk(x,N,re,H),Ee=x.memoizedState,ge!==N||ct!==Ee||il.current||$m?(typeof dt=="function"&&(jF(x,k,dt,N),Ee=x.memoizedState),(ge=$m||cne(x,k,ge,N,ct,Ee,Ue))?(mt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(x.flags|=4194308)):(typeof re.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=N,x.memoizedState=Ee),re.props=N,re.state=Ee,re.context=Ue,N=ge):(typeof re.componentDidMount=="function"&&(x.flags|=4194308),N=!1)}else{re=x.stateNode,jte(b,x),ge=x.memoizedProps,Ue=x.type===x.elementType?ge:Ic(x.type,ge),re.props=Ue,mt=x.pendingProps,ct=re.context,Ee=k.contextType,typeof Ee=="object"&&Ee!==null?Ee=ku(Ee):(Ee=sl(k)?Xg:Uo.current,Ee=p1(x,Ee));var Bt=k.getDerivedStateFromProps;(dt=typeof Bt=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ge!==mt||ct!==Ee)&&fne(x,re,N,Ee),$m=!1,ct=x.memoizedState,re.state=ct,Wk(x,N,re,H);var Vt=x.memoizedState;ge!==mt||ct!==Vt||il.current||$m?(typeof Bt=="function"&&(jF(x,k,Bt,N),Vt=x.memoizedState),(Ue=$m||cne(x,k,Ue,N,ct,Vt,Ee)||!1)?(dt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(N,Vt,Ee),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(N,Vt,Ee)),typeof re.componentDidUpdate=="function"&&(x.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof re.componentDidUpdate!="function"||ge===b.memoizedProps&&ct===b.memoizedState||(x.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ge===b.memoizedProps&&ct===b.memoizedState||(x.flags|=1024),x.memoizedProps=N,x.memoizedState=Vt),re.props=N,re.state=Vt,re.context=Ee,N=Ue):(typeof re.componentDidUpdate!="function"||ge===b.memoizedProps&&ct===b.memoizedState||(x.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ge===b.memoizedProps&&ct===b.memoizedState||(x.flags|=1024),N=!1)}return qF(b,x,k,N,Q,H)}function qF(b,x,k,N,H,Q){_ne(b,x);var re=(x.flags&128)!==0;if(!N&&!re)return H&&kte(x,k,!1),Uh(b,x,Q);N=x.stateNode,ZMe.current=x;var ge=re&&typeof k.getDerivedStateFromError!="function"?null:N.render();return x.flags|=1,b!==null&&re?(x.child=v1(x,b.child,null,Q),x.child=v1(x,null,ge,Q)):xa(b,x,ge,Q),x.memoizedState=N.state,H&&kte(x,k,!0),x.child}function Cne(b){var x=b.stateNode;x.pendingContext?Tte(b,x.pendingContext,x.pendingContext!==x.context):x.context&&Tte(b,x.context,!1),AF(b,x.containerInfo)}function Sne(b,x,k,N,H){return y1(),wF(H),x.flags|=256,xa(b,x,k,N),x.child}var VF={dehydrated:null,treeContext:null,retryLane:0};function WF(b){return{baseLanes:b,cachePool:null,transitions:null}}function Tne(b,x,k){var N=x.pendingProps,H=Si.current,Q=!1,re=(x.flags&128)!==0,ge;if((ge=re)||(ge=b!==null&&b.memoizedState===null?!1:(H&2)!==0),ge?(Q=!0,x.flags&=-129):(b===null||b.memoizedState!==null)&&(H|=1),ii(Si,H&1),b===null)return bF(x),b=x.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((x.mode&1)===0?x.lanes=1:b.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(re=N.children,b=N.fallback,Q?(N=x.mode,Q=x.child,re={mode:"hidden",children:re},(N&1)===0&&Q!==null?(Q.childLanes=0,Q.pendingProps=re):Q=hI(re,N,0,null),b=oy(b,N,k,null),Q.return=x,b.return=x,Q.sibling=b,x.child=Q,x.child.memoizedState=WF(k),x.memoizedState=VF,b):GF(x,re));if(H=b.memoizedState,H!==null&&(ge=H.dehydrated,ge!==null))return e6e(b,x,re,N,ge,H,k);if(Q){Q=N.fallback,re=x.mode,H=b.child,ge=H.sibling;var Ee={mode:"hidden",children:N.children};return(re&1)===0&&x.child!==H?(N=x.child,N.childLanes=0,N.pendingProps=Ee,x.deletions=null):(N=Um(H,Ee),N.subtreeFlags=H.subtreeFlags&14680064),ge!==null?Q=Um(ge,Q):(Q=oy(Q,re,k,null),Q.flags|=2),Q.return=x,N.return=x,N.sibling=Q,x.child=N,N=Q,Q=x.child,re=b.child.memoizedState,re=re===null?WF(k):{baseLanes:re.baseLanes|k,cachePool:null,transitions:re.transitions},Q.memoizedState=re,Q.childLanes=b.childLanes&~k,x.memoizedState=VF,N}return Q=b.child,b=Q.sibling,N=Um(Q,{mode:"visible",children:N.children}),(x.mode&1)===0&&(N.lanes=k),N.return=x,N.sibling=null,b!==null&&(k=x.deletions,k===null?(x.deletions=[b],x.flags|=16):k.push(b)),x.child=N,x.memoizedState=null,N}function GF(b,x){return x=hI({mode:"visible",children:x},b.mode,0,null),x.return=b,b.child=x}function eI(b,x,k,N){return N!==null&&wF(N),v1(x,b.child,null,k),b=GF(x,x.pendingProps.children),b.flags|=2,x.memoizedState=null,b}function e6e(b,x,k,N,H,Q,re){if(k)return x.flags&256?(x.flags&=-257,N=zF(Error(n(422))),eI(b,x,re,N)):x.memoizedState!==null?(x.child=b.child,x.flags|=128,null):(Q=N.fallback,H=x.mode,N=hI({mode:"visible",children:N.children},H,0,null),Q=oy(Q,H,re,null),Q.flags|=2,N.return=x,Q.return=x,N.sibling=Q,x.child=N,(x.mode&1)!==0&&v1(x,b.child,null,re),x.child.memoizedState=WF(re),x.memoizedState=VF,Q);if((x.mode&1)===0)return eI(b,x,re,null);if(H.data==="$!"){if(N=H.nextSibling&&H.nextSibling.dataset,N)var ge=N.dgst;return N=ge,Q=Error(n(419)),N=zF(Q,N,void 0),eI(b,x,re,N)}if(ge=(re&b.childLanes)!==0,ol||ge){if(N=Us,N!==null){switch(re&-re){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=(H&(N.suspendedLanes|re))!==0?0:H,H!==0&&H!==Q.retryLane&&(Q.retryLane=H,Bh(b,H),Pc(N,b,H,-1))}return uL(),N=zF(Error(n(421))),eI(b,x,re,N)}return H.data==="$?"?(x.flags|=128,x.child=b.child,x=h6e.bind(null,b),H._reactRetry=x,null):(b=Q.treeContext,zl=Dm(H.nextSibling),Bl=x,mi=!0,kc=null,b!==null&&(Tu[Au++]=Lh,Tu[Au++]=jh,Tu[Au++]=Qg,Lh=b.id,jh=b.overflow,Qg=x),x=GF(x,N.children),x.flags|=4096,x)}function Ane(b,x,k){b.lanes|=x;var N=b.alternate;N!==null&&(N.lanes|=x),CF(b.return,x,k)}function YF(b,x,k,N,H){var Q=b.memoizedState;Q===null?b.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:N,tail:k,tailMode:H}:(Q.isBackwards=x,Q.rendering=null,Q.renderingStartTime=0,Q.last=N,Q.tail=k,Q.tailMode=H)}function kne(b,x,k){var N=x.pendingProps,H=N.revealOrder,Q=N.tail;if(xa(b,x,N.children,k),N=Si.current,(N&2)!==0)N=N&1|2,x.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=x.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&Ane(b,k,x);else if(b.tag===19)Ane(b,k,x);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===x)break e;for(;b.sibling===null;){if(b.return===null||b.return===x)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}N&=1}if(ii(Si,N),(x.mode&1)===0)x.memoizedState=null;else switch(H){case"forwards":for(k=x.child,H=null;k!==null;)b=k.alternate,b!==null&&Gk(b)===null&&(H=k),k=k.sibling;k=H,k===null?(H=x.child,x.child=null):(H=k.sibling,k.sibling=null),YF(x,!1,H,k,Q);break;case"backwards":for(k=null,H=x.child,x.child=null;H!==null;){if(b=H.alternate,b!==null&&Gk(b)===null){x.child=H;break}b=H.sibling,H.sibling=k,k=H,H=b}YF(x,!0,k,null,Q);break;case"together":YF(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function tI(b,x){(x.mode&1)===0&&b!==null&&(b.alternate=null,x.alternate=null,x.flags|=2)}function Uh(b,x,k){if(b!==null&&(x.dependencies=b.dependencies),ny|=x.lanes,(k&x.childLanes)===0)return null;if(b!==null&&x.child!==b.child)throw Error(n(153));if(x.child!==null){for(b=x.child,k=Um(b,b.pendingProps),x.child=k,k.return=x;b.sibling!==null;)b=b.sibling,k=k.sibling=Um(b,b.pendingProps),k.return=x;k.sibling=null}return x.child}function t6e(b,x,k){switch(x.tag){case 3:Cne(x),y1();break;case 5:Ute(x);break;case 1:sl(x.type)&&Fk(x);break;case 4:AF(x,x.stateNode.containerInfo);break;case 10:var N=x.type._context,H=x.memoizedProps.value;ii(Hk,N._currentValue),N._currentValue=H;break;case 13:if(N=x.memoizedState,N!==null)return N.dehydrated!==null?(ii(Si,Si.current&1),x.flags|=128,null):(k&x.child.childLanes)!==0?Tne(b,x,k):(ii(Si,Si.current&1),b=Uh(b,x,k),b!==null?b.sibling:null);ii(Si,Si.current&1);break;case 19:if(N=(k&x.childLanes)!==0,(b.flags&128)!==0){if(N)return kne(b,x,k);x.flags|=128}if(H=x.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),ii(Si,Si.current),N)break;return null;case 22:case 23:return x.lanes=0,xne(b,x,k)}return Uh(b,x,k)}var Ine,KF,Rne,Dne;Ine=function(b,x){for(var k=x.child;k!==null;){if(k.tag===5||k.tag===6)b.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===x)break;for(;k.sibling===null;){if(k.return===null||k.return===x)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},KF=function(){},Rne=function(b,x,k,N){var H=b.memoizedProps;if(H!==N){b=x.stateNode,ey(af.current);var Q=null;switch(k){case"input":H=ye(b,H),N=ye(b,N),Q=[];break;case"select":H=U({},H,{value:void 0}),N=U({},N,{value:void 0}),Q=[];break;case"textarea":H=Ke(b,H),N=Ke(b,N),Q=[];break;default:typeof H.onClick!="function"&&typeof N.onClick=="function"&&(b.onclick=Nk)}Tn(k,N);var re;k=null;for(Ue in H)if(!N.hasOwnProperty(Ue)&&H.hasOwnProperty(Ue)&&H[Ue]!=null)if(Ue==="style"){var ge=H[Ue];for(re in ge)ge.hasOwnProperty(re)&&(k||(k={}),k[re]="")}else Ue!=="dangerouslySetInnerHTML"&&Ue!=="children"&&Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&Ue!=="autoFocus"&&(i.hasOwnProperty(Ue)?Q||(Q=[]):(Q=Q||[]).push(Ue,null));for(Ue in N){var Ee=N[Ue];if(ge=H!=null?H[Ue]:void 0,N.hasOwnProperty(Ue)&&Ee!==ge&&(Ee!=null||ge!=null))if(Ue==="style")if(ge){for(re in ge)!ge.hasOwnProperty(re)||Ee&&Ee.hasOwnProperty(re)||(k||(k={}),k[re]="");for(re in Ee)Ee.hasOwnProperty(re)&&ge[re]!==Ee[re]&&(k||(k={}),k[re]=Ee[re])}else k||(Q||(Q=[]),Q.push(Ue,k)),k=Ee;else Ue==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,ge=ge?ge.__html:void 0,Ee!=null&&ge!==Ee&&(Q=Q||[]).push(Ue,Ee)):Ue==="children"?typeof Ee!="string"&&typeof Ee!="number"||(Q=Q||[]).push(Ue,""+Ee):Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ue)?(Ee!=null&&Ue==="onScroll"&&ui("scroll",b),Q||ge===Ee||(Q=[])):(Q=Q||[]).push(Ue,Ee))}k&&(Q=Q||[]).push("style",k);var Ue=Q;(x.updateQueue=Ue)&&(x.flags|=4)}},Dne=function(b,x,k,N){k!==N&&(x.flags|=4)};function FE(b,x){if(!mi)switch(b.tailMode){case"hidden":x=b.tail;for(var k=null;x!==null;)x.alternate!==null&&(k=x),x=x.sibling;k===null?b.tail=null:k.sibling=null;break;case"collapsed":k=b.tail;for(var N=null;k!==null;)k.alternate!==null&&(N=k),k=k.sibling;N===null?x||b.tail===null?b.tail=null:b.tail.sibling=null:N.sibling=null}}function qo(b){var x=b.alternate!==null&&b.alternate.child===b.child,k=0,N=0;if(x)for(var H=b.child;H!==null;)k|=H.lanes|H.childLanes,N|=H.subtreeFlags&14680064,N|=H.flags&14680064,H.return=b,H=H.sibling;else for(H=b.child;H!==null;)k|=H.lanes|H.childLanes,N|=H.subtreeFlags,N|=H.flags,H.return=b,H=H.sibling;return b.subtreeFlags|=N,b.childLanes=k,x}function n6e(b,x,k){var N=x.pendingProps;switch(yF(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(x),null;case 1:return sl(x.type)&&Mk(),qo(x),null;case 3:return N=x.stateNode,x1(),ci(il),ci(Uo),RF(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(b===null||b.child===null)&&(zk(x)?x.flags|=4:b===null||b.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,kc!==null&&(oL(kc),kc=null))),KF(b,x),qo(x),null;case 5:kF(x);var H=ey(PE.current);if(k=x.type,b!==null&&x.stateNode!=null)Rne(b,x,k,N,H),b.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!N){if(x.stateNode===null)throw Error(n(166));return qo(x),null}if(b=ey(af.current),zk(x)){N=x.stateNode,k=x.type;var Q=x.memoizedProps;switch(N[of]=x,N[AE]=Q,b=(x.mode&1)!==0,k){case"dialog":ui("cancel",N),ui("close",N);break;case"iframe":case"object":case"embed":ui("load",N);break;case"video":case"audio":for(H=0;H<CE.length;H++)ui(CE[H],N);break;case"source":ui("error",N);break;case"img":case"image":case"link":ui("error",N),ui("load",N);break;case"details":ui("toggle",N);break;case"input":Ce(N,Q),ui("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!Q.multiple},ui("invalid",N);break;case"textarea":Pe(N,Q),ui("invalid",N)}Tn(k,Q),H=null;for(var re in Q)if(Q.hasOwnProperty(re)){var ge=Q[re];re==="children"?typeof ge=="string"?N.textContent!==ge&&(Q.suppressHydrationWarning!==!0&&Ok(N.textContent,ge,b),H=["children",ge]):typeof ge=="number"&&N.textContent!==""+ge&&(Q.suppressHydrationWarning!==!0&&Ok(N.textContent,ge,b),H=["children",""+ge]):i.hasOwnProperty(re)&&ge!=null&&re==="onScroll"&&ui("scroll",N)}switch(k){case"input":ee(N),be(N,Q,!0);break;case"textarea":ee(N),ot(N);break;case"select":case"option":break;default:typeof Q.onClick=="function"&&(N.onclick=Nk)}N=H,x.updateQueue=N,N!==null&&(x.flags|=4)}else{re=H.nodeType===9?H:H.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=xe(k)),b==="http://www.w3.org/1999/xhtml"?k==="script"?(b=re.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof N.is=="string"?b=re.createElement(k,{is:N.is}):(b=re.createElement(k),k==="select"&&(re=b,N.multiple?re.multiple=!0:N.size&&(re.size=N.size))):b=re.createElementNS(b,k),b[of]=x,b[AE]=N,Ine(b,x,!1,!1),x.stateNode=b;e:{switch(re=er(k,N),k){case"dialog":ui("cancel",b),ui("close",b),H=N;break;case"iframe":case"object":case"embed":ui("load",b),H=N;break;case"video":case"audio":for(H=0;H<CE.length;H++)ui(CE[H],b);H=N;break;case"source":ui("error",b),H=N;break;case"img":case"image":case"link":ui("error",b),ui("load",b),H=N;break;case"details":ui("toggle",b),H=N;break;case"input":Ce(b,N),H=ye(b,N),ui("invalid",b);break;case"option":H=N;break;case"select":b._wrapperState={wasMultiple:!!N.multiple},H=U({},N,{value:void 0}),ui("invalid",b);break;case"textarea":Pe(b,N),H=Ke(b,N),ui("invalid",b);break;default:H=N}Tn(k,H),ge=H;for(Q in ge)if(ge.hasOwnProperty(Q)){var Ee=ge[Q];Q==="style"?Yn(b,Ee):Q==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,Ee!=null&&ht(b,Ee)):Q==="children"?typeof Ee=="string"?(k!=="textarea"||Ee!=="")&&st(b,Ee):typeof Ee=="number"&&st(b,""+Ee):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?Ee!=null&&Q==="onScroll"&&ui("scroll",b):Ee!=null&&w(b,Q,Ee,re))}switch(k){case"input":ee(b),be(b,N,!1);break;case"textarea":ee(b),ot(b);break;case"option":N.value!=null&&b.setAttribute("value",""+se(N.value));break;case"select":b.multiple=!!N.multiple,Q=N.value,Q!=null?it(b,!!N.multiple,Q,!1):N.defaultValue!=null&&it(b,!!N.multiple,N.defaultValue,!0);break;default:typeof H.onClick=="function"&&(b.onclick=Nk)}switch(k){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return qo(x),null;case 6:if(b&&x.stateNode!=null)Dne(b,x,b.memoizedProps,N);else{if(typeof N!="string"&&x.stateNode===null)throw Error(n(166));if(k=ey(PE.current),ey(af.current),zk(x)){if(N=x.stateNode,k=x.memoizedProps,N[of]=x,(Q=N.nodeValue!==k)&&(b=Bl,b!==null))switch(b.tag){case 3:Ok(N.nodeValue,k,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&Ok(N.nodeValue,k,(b.mode&1)!==0)}Q&&(x.flags|=4)}else N=(k.nodeType===9?k:k.ownerDocument).createTextNode(N),N[of]=x,x.stateNode=N}return qo(x),null;case 13:if(ci(Si),N=x.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(mi&&zl!==null&&(x.mode&1)!==0&&(x.flags&128)===0)Nte(),y1(),x.flags|=98560,Q=!1;else if(Q=zk(x),N!==null&&N.dehydrated!==null){if(b===null){if(!Q)throw Error(n(318));if(Q=x.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(n(317));Q[of]=x}else y1(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;qo(x),Q=!1}else kc!==null&&(oL(kc),kc=null),Q=!0;if(!Q)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=k,x):(N=N!==null,N!==(b!==null&&b.memoizedState!==null)&&N&&(x.child.flags|=8192,(x.mode&1)!==0&&(b===null||(Si.current&1)!==0?Ts===0&&(Ts=3):uL())),x.updateQueue!==null&&(x.flags|=4),qo(x),null);case 4:return x1(),KF(b,x),b===null&&SE(x.stateNode.containerInfo),qo(x),null;case 10:return EF(x.type._context),qo(x),null;case 17:return sl(x.type)&&Mk(),qo(x),null;case 19:if(ci(Si),Q=x.memoizedState,Q===null)return qo(x),null;if(N=(x.flags&128)!==0,re=Q.rendering,re===null)if(N)FE(Q,!1);else{if(Ts!==0||b!==null&&(b.flags&128)!==0)for(b=x.child;b!==null;){if(re=Gk(b),re!==null){for(x.flags|=128,FE(Q,!1),N=re.updateQueue,N!==null&&(x.updateQueue=N,x.flags|=4),x.subtreeFlags=0,N=k,k=x.child;k!==null;)Q=k,b=N,Q.flags&=14680066,re=Q.alternate,re===null?(Q.childLanes=0,Q.lanes=b,Q.child=null,Q.subtreeFlags=0,Q.memoizedProps=null,Q.memoizedState=null,Q.updateQueue=null,Q.dependencies=null,Q.stateNode=null):(Q.childLanes=re.childLanes,Q.lanes=re.lanes,Q.child=re.child,Q.subtreeFlags=0,Q.deletions=null,Q.memoizedProps=re.memoizedProps,Q.memoizedState=re.memoizedState,Q.updateQueue=re.updateQueue,Q.type=re.type,b=re.dependencies,Q.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),k=k.sibling;return ii(Si,Si.current&1|2),x.child}b=b.sibling}Q.tail!==null&&Qn()>S1&&(x.flags|=128,N=!0,FE(Q,!1),x.lanes=4194304)}else{if(!N)if(b=Gk(re),b!==null){if(x.flags|=128,N=!0,k=b.updateQueue,k!==null&&(x.updateQueue=k,x.flags|=4),FE(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!re.alternate&&!mi)return qo(x),null}else 2*Qn()-Q.renderingStartTime>S1&&k!==1073741824&&(x.flags|=128,N=!0,FE(Q,!1),x.lanes=4194304);Q.isBackwards?(re.sibling=x.child,x.child=re):(k=Q.last,k!==null?k.sibling=re:x.child=re,Q.last=re)}return Q.tail!==null?(x=Q.tail,Q.rendering=x,Q.tail=x.sibling,Q.renderingStartTime=Qn(),x.sibling=null,k=Si.current,ii(Si,N?k&1|2:k&1),x):(qo(x),null);case 22:case 23:return lL(),N=x.memoizedState!==null,b!==null&&b.memoizedState!==null!==N&&(x.flags|=8192),N&&(x.mode&1)!==0?(Ul&1073741824)!==0&&(qo(x),x.subtreeFlags&6&&(x.flags|=8192)):qo(x),null;case 24:return null;case 25:return null}throw Error(n(156,x.tag))}function r6e(b,x){switch(yF(x),x.tag){case 1:return sl(x.type)&&Mk(),b=x.flags,b&65536?(x.flags=b&-65537|128,x):null;case 3:return x1(),ci(il),ci(Uo),RF(),b=x.flags,(b&65536)!==0&&(b&128)===0?(x.flags=b&-65537|128,x):null;case 5:return kF(x),null;case 13:if(ci(Si),b=x.memoizedState,b!==null&&b.dehydrated!==null){if(x.alternate===null)throw Error(n(340));y1()}return b=x.flags,b&65536?(x.flags=b&-65537|128,x):null;case 19:return ci(Si),null;case 4:return x1(),null;case 10:return EF(x.type._context),null;case 22:case 23:return lL(),null;case 24:return null;default:return null}}var nI=!1,Vo=!1,i6e=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function E1(b,x){var k=b.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(N){$i(b,x,N)}else k.current=null}function XF(b,x,k){try{k()}catch(N){$i(b,x,N)}}var Pne=!1;function s6e(b,x){if(lF=pe,b=cte(),eF(b)){if("selectionStart"in b)var k={start:b.selectionStart,end:b.selectionEnd};else e:{k=(k=b.ownerDocument)&&k.defaultView||window;var N=k.getSelection&&k.getSelection();if(N&&N.rangeCount!==0){k=N.anchorNode;var H=N.anchorOffset,Q=N.focusNode;N=N.focusOffset;try{k.nodeType,Q.nodeType}catch{k=null;break e}var re=0,ge=-1,Ee=-1,Ue=0,dt=0,mt=b,ct=null;t:for(;;){for(var Bt;mt!==k||H!==0&&mt.nodeType!==3||(ge=re+H),mt!==Q||N!==0&&mt.nodeType!==3||(Ee=re+N),mt.nodeType===3&&(re+=mt.nodeValue.length),(Bt=mt.firstChild)!==null;)ct=mt,mt=Bt;for(;;){if(mt===b)break t;if(ct===k&&++Ue===H&&(ge=re),ct===Q&&++dt===N&&(Ee=re),(Bt=mt.nextSibling)!==null)break;mt=ct,ct=mt.parentNode}mt=Bt}k=ge===-1||Ee===-1?null:{start:ge,end:Ee}}else k=null}k=k||{start:0,end:0}}else k=null;for(uF={focusedElem:b,selectionRange:k},pe=!1,Ht=x;Ht!==null;)if(x=Ht,b=x.child,(x.subtreeFlags&1028)!==0&&b!==null)b.return=x,Ht=b;else for(;Ht!==null;){x=Ht;try{var Vt=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(Vt!==null){var Gt=Vt.memoizedProps,Yi=Vt.memoizedState,Me=x.stateNode,Ie=Me.getSnapshotBeforeUpdate(x.elementType===x.type?Gt:Ic(x.type,Gt),Yi);Me.__reactInternalSnapshotBeforeUpdate=Ie}break;case 3:var Be=x.stateNode.containerInfo;Be.nodeType===1?Be.textContent="":Be.nodeType===9&&Be.documentElement&&Be.removeChild(Be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Et){$i(x,x.return,Et)}if(b=x.sibling,b!==null){b.return=x.return,Ht=b;break}Ht=x.return}return Vt=Pne,Pne=!1,Vt}function LE(b,x,k){var N=x.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var H=N=N.next;do{if((H.tag&b)===b){var Q=H.destroy;H.destroy=void 0,Q!==void 0&&XF(x,k,Q)}H=H.next}while(H!==N)}}function rI(b,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var k=x=x.next;do{if((k.tag&b)===b){var N=k.create;k.destroy=N()}k=k.next}while(k!==x)}}function QF(b){var x=b.ref;if(x!==null){var k=b.stateNode;switch(b.tag){case 5:b=k;break;default:b=k}typeof x=="function"?x(b):x.current=b}}function One(b){var x=b.alternate;x!==null&&(b.alternate=null,One(x)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(x=b.stateNode,x!==null&&(delete x[of],delete x[AE],delete x[hF],delete x[zMe],delete x[UMe])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function Nne(b){return b.tag===5||b.tag===3||b.tag===4}function $ne(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||Nne(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function JF(b,x,k){var N=b.tag;if(N===5||N===6)b=b.stateNode,x?k.nodeType===8?k.parentNode.insertBefore(b,x):k.insertBefore(b,x):(k.nodeType===8?(x=k.parentNode,x.insertBefore(b,k)):(x=k,x.appendChild(b)),k=k._reactRootContainer,k!=null||x.onclick!==null||(x.onclick=Nk));else if(N!==4&&(b=b.child,b!==null))for(JF(b,x,k),b=b.sibling;b!==null;)JF(b,x,k),b=b.sibling}function ZF(b,x,k){var N=b.tag;if(N===5||N===6)b=b.stateNode,x?k.insertBefore(b,x):k.appendChild(b);else if(N!==4&&(b=b.child,b!==null))for(ZF(b,x,k),b=b.sibling;b!==null;)ZF(b,x,k),b=b.sibling}var yo=null,Rc=!1;function Fm(b,x,k){for(k=k.child;k!==null;)Mne(b,x,k),k=k.sibling}function Mne(b,x,k){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(_u,k)}catch{}switch(k.tag){case 5:Vo||E1(k,x);case 6:var N=yo,H=Rc;yo=null,Fm(b,x,k),yo=N,Rc=H,yo!==null&&(Rc?(b=yo,k=k.stateNode,b.nodeType===8?b.parentNode.removeChild(k):b.removeChild(k)):yo.removeChild(k.stateNode));break;case 18:yo!==null&&(Rc?(b=yo,k=k.stateNode,b.nodeType===8?fF(b.parentNode,k):b.nodeType===1&&fF(b,k),tl(b)):fF(yo,k.stateNode));break;case 4:N=yo,H=Rc,yo=k.stateNode.containerInfo,Rc=!0,Fm(b,x,k),yo=N,Rc=H;break;case 0:case 11:case 14:case 15:if(!Vo&&(N=k.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){H=N=N.next;do{var Q=H,re=Q.destroy;Q=Q.tag,re!==void 0&&((Q&2)!==0||(Q&4)!==0)&&XF(k,x,re),H=H.next}while(H!==N)}Fm(b,x,k);break;case 1:if(!Vo&&(E1(k,x),N=k.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=k.memoizedProps,N.state=k.memoizedState,N.componentWillUnmount()}catch(ge){$i(k,x,ge)}Fm(b,x,k);break;case 21:Fm(b,x,k);break;case 22:k.mode&1?(Vo=(N=Vo)||k.memoizedState!==null,Fm(b,x,k),Vo=N):Fm(b,x,k);break;default:Fm(b,x,k)}}function Fne(b){var x=b.updateQueue;if(x!==null){b.updateQueue=null;var k=b.stateNode;k===null&&(k=b.stateNode=new i6e),x.forEach(function(N){var H=p6e.bind(null,b,N);k.has(N)||(k.add(N),N.then(H,H))})}}function Dc(b,x){var k=x.deletions;if(k!==null)for(var N=0;N<k.length;N++){var H=k[N];try{var Q=b,re=x,ge=re;e:for(;ge!==null;){switch(ge.tag){case 5:yo=ge.stateNode,Rc=!1;break e;case 3:yo=ge.stateNode.containerInfo,Rc=!0;break e;case 4:yo=ge.stateNode.containerInfo,Rc=!0;break e}ge=ge.return}if(yo===null)throw Error(n(160));Mne(Q,re,H),yo=null,Rc=!1;var Ee=H.alternate;Ee!==null&&(Ee.return=null),H.return=null}catch(Ue){$i(H,x,Ue)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)Lne(x,b),x=x.sibling}function Lne(b,x){var k=b.alternate,N=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(Dc(x,b),uf(b),N&4){try{LE(3,b,b.return),rI(3,b)}catch(Gt){$i(b,b.return,Gt)}try{LE(5,b,b.return)}catch(Gt){$i(b,b.return,Gt)}}break;case 1:Dc(x,b),uf(b),N&512&&k!==null&&E1(k,k.return);break;case 5:if(Dc(x,b),uf(b),N&512&&k!==null&&E1(k,k.return),b.flags&32){var H=b.stateNode;try{st(H,"")}catch(Gt){$i(b,b.return,Gt)}}if(N&4&&(H=b.stateNode,H!=null)){var Q=b.memoizedProps,re=k!==null?k.memoizedProps:Q,ge=b.type,Ee=b.updateQueue;if(b.updateQueue=null,Ee!==null)try{ge==="input"&&Q.type==="radio"&&Q.name!=null&&Re(H,Q),er(ge,re);var Ue=er(ge,Q);for(re=0;re<Ee.length;re+=2){var dt=Ee[re],mt=Ee[re+1];dt==="style"?Yn(H,mt):dt==="dangerouslySetInnerHTML"?ht(H,mt):dt==="children"?st(H,mt):w(H,dt,mt,Ue)}switch(ge){case"input":De(H,Q);break;case"textarea":ze(H,Q);break;case"select":var ct=H._wrapperState.wasMultiple;H._wrapperState.wasMultiple=!!Q.multiple;var Bt=Q.value;Bt!=null?it(H,!!Q.multiple,Bt,!1):ct!==!!Q.multiple&&(Q.defaultValue!=null?it(H,!!Q.multiple,Q.defaultValue,!0):it(H,!!Q.multiple,Q.multiple?[]:"",!1))}H[AE]=Q}catch(Gt){$i(b,b.return,Gt)}}break;case 6:if(Dc(x,b),uf(b),N&4){if(b.stateNode===null)throw Error(n(162));H=b.stateNode,Q=b.memoizedProps;try{H.nodeValue=Q}catch(Gt){$i(b,b.return,Gt)}}break;case 3:if(Dc(x,b),uf(b),N&4&&k!==null&&k.memoizedState.isDehydrated)try{tl(x.containerInfo)}catch(Gt){$i(b,b.return,Gt)}break;case 4:Dc(x,b),uf(b);break;case 13:Dc(x,b),uf(b),H=b.child,H.flags&8192&&(Q=H.memoizedState!==null,H.stateNode.isHidden=Q,!Q||H.alternate!==null&&H.alternate.memoizedState!==null||(nL=Qn())),N&4&&Fne(b);break;case 22:if(dt=k!==null&&k.memoizedState!==null,b.mode&1?(Vo=(Ue=Vo)||dt,Dc(x,b),Vo=Ue):Dc(x,b),uf(b),N&8192){if(Ue=b.memoizedState!==null,(b.stateNode.isHidden=Ue)&&!dt&&(b.mode&1)!==0)for(Ht=b,dt=b.child;dt!==null;){for(mt=Ht=dt;Ht!==null;){switch(ct=Ht,Bt=ct.child,ct.tag){case 0:case 11:case 14:case 15:LE(4,ct,ct.return);break;case 1:E1(ct,ct.return);var Vt=ct.stateNode;if(typeof Vt.componentWillUnmount=="function"){N=ct,k=ct.return;try{x=N,Vt.props=x.memoizedProps,Vt.state=x.memoizedState,Vt.componentWillUnmount()}catch(Gt){$i(N,k,Gt)}}break;case 5:E1(ct,ct.return);break;case 22:if(ct.memoizedState!==null){zne(mt);continue}}Bt!==null?(Bt.return=ct,Ht=Bt):zne(mt)}dt=dt.sibling}e:for(dt=null,mt=b;;){if(mt.tag===5){if(dt===null){dt=mt;try{H=mt.stateNode,Ue?(Q=H.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none"):(ge=mt.stateNode,Ee=mt.memoizedProps.style,re=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null,ge.style.display=kn("display",re))}catch(Gt){$i(b,b.return,Gt)}}}else if(mt.tag===6){if(dt===null)try{mt.stateNode.nodeValue=Ue?"":mt.memoizedProps}catch(Gt){$i(b,b.return,Gt)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===b)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===b)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===b)break e;dt===mt&&(dt=null),mt=mt.return}dt===mt&&(dt=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:Dc(x,b),uf(b),N&4&&Fne(b);break;case 21:break;default:Dc(x,b),uf(b)}}function uf(b){var x=b.flags;if(x&2){try{e:{for(var k=b.return;k!==null;){if(Nne(k)){var N=k;break e}k=k.return}throw Error(n(160))}switch(N.tag){case 5:var H=N.stateNode;N.flags&32&&(st(H,""),N.flags&=-33);var Q=$ne(b);ZF(b,Q,H);break;case 3:case 4:var re=N.stateNode.containerInfo,ge=$ne(b);JF(b,ge,re);break;default:throw Error(n(161))}}catch(Ee){$i(b,b.return,Ee)}b.flags&=-3}x&4096&&(b.flags&=-4097)}function o6e(b,x,k){Ht=b,jne(b)}function jne(b,x,k){for(var N=(b.mode&1)!==0;Ht!==null;){var H=Ht,Q=H.child;if(H.tag===22&&N){var re=H.memoizedState!==null||nI;if(!re){var ge=H.alternate,Ee=ge!==null&&ge.memoizedState!==null||Vo;ge=nI;var Ue=Vo;if(nI=re,(Vo=Ee)&&!Ue)for(Ht=H;Ht!==null;)re=Ht,Ee=re.child,re.tag===22&&re.memoizedState!==null?Une(H):Ee!==null?(Ee.return=re,Ht=Ee):Une(H);for(;Q!==null;)Ht=Q,jne(Q),Q=Q.sibling;Ht=H,nI=ge,Vo=Ue}Bne(b)}else(H.subtreeFlags&8772)!==0&&Q!==null?(Q.return=H,Ht=Q):Bne(b)}}function Bne(b){for(;Ht!==null;){var x=Ht;if((x.flags&8772)!==0){var k=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:Vo||rI(5,x);break;case 1:var N=x.stateNode;if(x.flags&4&&!Vo)if(k===null)N.componentDidMount();else{var H=x.elementType===x.type?k.memoizedProps:Ic(x.type,k.memoizedProps);N.componentDidUpdate(H,k.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var Q=x.updateQueue;Q!==null&&zte(x,Q,N);break;case 3:var re=x.updateQueue;if(re!==null){if(k=null,x.child!==null)switch(x.child.tag){case 5:k=x.child.stateNode;break;case 1:k=x.child.stateNode}zte(x,re,k)}break;case 5:var ge=x.stateNode;if(k===null&&x.flags&4){k=ge;var Ee=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Ee.autoFocus&&k.focus();break;case"img":Ee.src&&(k.src=Ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var Ue=x.alternate;if(Ue!==null){var dt=Ue.memoizedState;if(dt!==null){var mt=dt.dehydrated;mt!==null&&tl(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Vo||x.flags&512&&QF(x)}catch(ct){$i(x,x.return,ct)}}if(x===b){Ht=null;break}if(k=x.sibling,k!==null){k.return=x.return,Ht=k;break}Ht=x.return}}function zne(b){for(;Ht!==null;){var x=Ht;if(x===b){Ht=null;break}var k=x.sibling;if(k!==null){k.return=x.return,Ht=k;break}Ht=x.return}}function Une(b){for(;Ht!==null;){var x=Ht;try{switch(x.tag){case 0:case 11:case 15:var k=x.return;try{rI(4,x)}catch(Ee){$i(x,k,Ee)}break;case 1:var N=x.stateNode;if(typeof N.componentDidMount=="function"){var H=x.return;try{N.componentDidMount()}catch(Ee){$i(x,H,Ee)}}var Q=x.return;try{QF(x)}catch(Ee){$i(x,Q,Ee)}break;case 5:var re=x.return;try{QF(x)}catch(Ee){$i(x,re,Ee)}}}catch(Ee){$i(x,x.return,Ee)}if(x===b){Ht=null;break}var ge=x.sibling;if(ge!==null){ge.return=x.return,Ht=ge;break}Ht=x.return}}var a6e=Math.ceil,iI=E.ReactCurrentDispatcher,eL=E.ReactCurrentOwner,Ru=E.ReactCurrentBatchConfig,hr=0,Us=null,cs=null,vo=0,Ul=0,C1=Pm(0),Ts=0,jE=null,ny=0,sI=0,tL=0,BE=null,al=null,nL=0,S1=1/0,Hh=null,oI=!1,rL=null,Lm=null,aI=!1,jm=null,lI=0,zE=0,iL=null,uI=-1,cI=0;function _a(){return(hr&6)!==0?Qn():uI!==-1?uI:uI=Qn()}function Bm(b){return(b.mode&1)===0?1:(hr&2)!==0&&vo!==0?vo&-vo:qMe.transition!==null?(cI===0&&(cI=bt()),cI):(b=en,b!==0||(b=window.event,b=b===void 0?16:Nr(b.type)),b)}function Pc(b,x,k,N){if(50<zE)throw zE=0,iL=null,Error(n(185));yn(b,k,N),((hr&2)===0||b!==Us)&&(b===Us&&((hr&2)===0&&(sI|=k),Ts===4&&zm(b,vo)),ll(b,N),k===1&&hr===0&&(x.mode&1)===0&&(S1=Qn()+500,Lk&&Nm()))}function ll(b,x){var k=b.callbackNode;ut(b,x);var N=Je(b,b===Us?vo:0);if(N===0)k!==null&&xc(k),b.callbackNode=null,b.callbackPriority=0;else if(x=N&-N,b.callbackPriority!==x){if(k!=null&&xc(k),x===1)b.tag===0?HMe(qne.bind(null,b)):Ite(qne.bind(null,b)),jMe(function(){(hr&6)===0&&Nm()}),k=null;else{switch(br(N)){case 1:k=vs;break;case 4:k=Ll;break;case 16:k=bs;break;case 536870912:k=Cm;break;default:k=bs}k=Jne(k,Hne.bind(null,b))}b.callbackPriority=x,b.callbackNode=k}}function Hne(b,x){if(uI=-1,cI=0,(hr&6)!==0)throw Error(n(327));var k=b.callbackNode;if(T1()&&b.callbackNode!==k)return null;var N=Je(b,b===Us?vo:0);if(N===0)return null;if((N&30)!==0||(N&b.expiredLanes)!==0||x)x=dI(b,N);else{x=N;var H=hr;hr|=2;var Q=Wne();(Us!==b||vo!==x)&&(Hh=null,S1=Qn()+500,iy(b,x));do try{c6e();break}catch(ge){Vne(b,ge)}while(!0);_F(),iI.current=Q,hr=H,cs!==null?x=0:(Us=null,vo=0,x=Ts)}if(x!==0){if(x===2&&(H=lt(b),H!==0&&(N=H,x=sL(b,H))),x===1)throw k=jE,iy(b,0),zm(b,N),ll(b,Qn()),k;if(x===6)zm(b,N);else{if(H=b.current.alternate,(N&30)===0&&!l6e(H)&&(x=dI(b,N),x===2&&(Q=lt(b),Q!==0&&(N=Q,x=sL(b,Q))),x===1))throw k=jE,iy(b,0),zm(b,N),ll(b,Qn()),k;switch(b.finishedWork=H,b.finishedLanes=N,x){case 0:case 1:throw Error(n(345));case 2:sy(b,al,Hh);break;case 3:if(zm(b,N),(N&130023424)===N&&(x=nL+500-Qn(),10<x)){if(Je(b,0)!==0)break;if(H=b.suspendedLanes,(H&N)!==N){_a(),b.pingedLanes|=b.suspendedLanes&H;break}b.timeoutHandle=dF(sy.bind(null,b,al,Hh),x);break}sy(b,al,Hh);break;case 4:if(zm(b,N),(N&4194240)===N)break;for(x=b.eventTimes,H=-1;0<N;){var re=31-xs(N);Q=1<<re,re=x[re],re>H&&(H=re),N&=~Q}if(N=H,N=Qn()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*a6e(N/1960))-N,10<N){b.timeoutHandle=dF(sy.bind(null,b,al,Hh),N);break}sy(b,al,Hh);break;case 5:sy(b,al,Hh);break;default:throw Error(n(329))}}}return ll(b,Qn()),b.callbackNode===k?Hne.bind(null,b):null}function sL(b,x){var k=BE;return b.current.memoizedState.isDehydrated&&(iy(b,x).flags|=256),b=dI(b,x),b!==2&&(x=al,al=k,x!==null&&oL(x)),b}function oL(b){al===null?al=b:al.push.apply(al,b)}function l6e(b){for(var x=b;;){if(x.flags&16384){var k=x.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var N=0;N<k.length;N++){var H=k[N],Q=H.getSnapshot;H=H.value;try{if(!Ac(Q(),H))return!1}catch{return!1}}}if(k=x.child,x.subtreeFlags&16384&&k!==null)k.return=x,x=k;else{if(x===b)break;for(;x.sibling===null;){if(x.return===null||x.return===b)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function zm(b,x){for(x&=~tL,x&=~sI,b.suspendedLanes|=x,b.pingedLanes&=~x,b=b.expirationTimes;0<x;){var k=31-xs(x),N=1<<k;b[k]=-1,x&=~N}}function qne(b){if((hr&6)!==0)throw Error(n(327));T1();var x=Je(b,0);if((x&1)===0)return ll(b,Qn()),null;var k=dI(b,x);if(b.tag!==0&&k===2){var N=lt(b);N!==0&&(x=N,k=sL(b,N))}if(k===1)throw k=jE,iy(b,0),zm(b,x),ll(b,Qn()),k;if(k===6)throw Error(n(345));return b.finishedWork=b.current.alternate,b.finishedLanes=x,sy(b,al,Hh),ll(b,Qn()),null}function aL(b,x){var k=hr;hr|=1;try{return b(x)}finally{hr=k,hr===0&&(S1=Qn()+500,Lk&&Nm())}}function ry(b){jm!==null&&jm.tag===0&&(hr&6)===0&&T1();var x=hr;hr|=1;var k=Ru.transition,N=en;try{if(Ru.transition=null,en=1,b)return b()}finally{en=N,Ru.transition=k,hr=x,(hr&6)===0&&Nm()}}function lL(){Ul=C1.current,ci(C1)}function iy(b,x){b.finishedWork=null,b.finishedLanes=0;var k=b.timeoutHandle;if(k!==-1&&(b.timeoutHandle=-1,LMe(k)),cs!==null)for(k=cs.return;k!==null;){var N=k;switch(yF(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Mk();break;case 3:x1(),ci(il),ci(Uo),RF();break;case 5:kF(N);break;case 4:x1();break;case 13:ci(Si);break;case 19:ci(Si);break;case 10:EF(N.type._context);break;case 22:case 23:lL()}k=k.return}if(Us=b,cs=b=Um(b.current,null),vo=Ul=x,Ts=0,jE=null,tL=sI=ny=0,al=BE=null,Zg!==null){for(x=0;x<Zg.length;x++)if(k=Zg[x],N=k.interleaved,N!==null){k.interleaved=null;var H=N.next,Q=k.pending;if(Q!==null){var re=Q.next;Q.next=H,N.next=re}k.pending=N}Zg=null}return b}function Vne(b,x){do{var k=cs;try{if(_F(),Yk.current=Jk,Kk){for(var N=Ti.memoizedState;N!==null;){var H=N.queue;H!==null&&(H.pending=null),N=N.next}Kk=!1}if(ty=0,zs=Ss=Ti=null,OE=!1,NE=0,eL.current=null,k===null||k.return===null){Ts=1,jE=x,cs=null;break}e:{var Q=b,re=k.return,ge=k,Ee=x;if(x=vo,ge.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Ue=Ee,dt=ge,mt=dt.tag;if((dt.mode&1)===0&&(mt===0||mt===11||mt===15)){var ct=dt.alternate;ct?(dt.updateQueue=ct.updateQueue,dt.memoizedState=ct.memoizedState,dt.lanes=ct.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var Bt=gne(re);if(Bt!==null){Bt.flags&=-257,yne(Bt,re,ge,Q,x),Bt.mode&1&&mne(Q,Ue,x),x=Bt,Ee=Ue;var Vt=x.updateQueue;if(Vt===null){var Gt=new Set;Gt.add(Ee),x.updateQueue=Gt}else Vt.add(Ee);break e}else{if((x&1)===0){mne(Q,Ue,x),uL();break e}Ee=Error(n(426))}}else if(mi&&ge.mode&1){var Yi=gne(re);if(Yi!==null){(Yi.flags&65536)===0&&(Yi.flags|=256),yne(Yi,re,ge,Q,x),wF(_1(Ee,ge));break e}}Q=Ee=_1(Ee,ge),Ts!==4&&(Ts=2),BE===null?BE=[Q]:BE.push(Q),Q=re;do{switch(Q.tag){case 3:Q.flags|=65536,x&=-x,Q.lanes|=x;var Me=hne(Q,Ee,x);Bte(Q,Me);break e;case 1:ge=Ee;var Ie=Q.type,Be=Q.stateNode;if((Q.flags&128)===0&&(typeof Ie.getDerivedStateFromError=="function"||Be!==null&&typeof Be.componentDidCatch=="function"&&(Lm===null||!Lm.has(Be)))){Q.flags|=65536,x&=-x,Q.lanes|=x;var Et=pne(Q,ge,x);Bte(Q,Et);break e}}Q=Q.return}while(Q!==null)}Yne(k)}catch(Zt){x=Zt,cs===k&&k!==null&&(cs=k=k.return);continue}break}while(!0)}function Wne(){var b=iI.current;return iI.current=Jk,b===null?Jk:b}function uL(){(Ts===0||Ts===3||Ts===2)&&(Ts=4),Us===null||(ny&268435455)===0&&(sI&268435455)===0||zm(Us,vo)}function dI(b,x){var k=hr;hr|=2;var N=Wne();(Us!==b||vo!==x)&&(Hh=null,iy(b,x));do try{u6e();break}catch(H){Vne(b,H)}while(!0);if(_F(),hr=k,iI.current=N,cs!==null)throw Error(n(261));return Us=null,vo=0,Ts}function u6e(){for(;cs!==null;)Gne(cs)}function c6e(){for(;cs!==null&&!Em();)Gne(cs)}function Gne(b){var x=Qne(b.alternate,b,Ul);b.memoizedProps=b.pendingProps,x===null?Yne(b):cs=x,eL.current=null}function Yne(b){var x=b;do{var k=x.alternate;if(b=x.return,(x.flags&32768)===0){if(k=n6e(k,x,Ul),k!==null){cs=k;return}}else{if(k=r6e(k,x),k!==null){k.flags&=32767,cs=k;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Ts=6,cs=null;return}}if(x=x.sibling,x!==null){cs=x;return}cs=x=b}while(x!==null);Ts===0&&(Ts=5)}function sy(b,x,k){var N=en,H=Ru.transition;try{Ru.transition=null,en=1,d6e(b,x,k,N)}finally{Ru.transition=H,en=N}return null}function d6e(b,x,k,N){do T1();while(jm!==null);if((hr&6)!==0)throw Error(n(327));k=b.finishedWork;var H=b.finishedLanes;if(k===null)return null;if(b.finishedWork=null,b.finishedLanes=0,k===b.current)throw Error(n(177));b.callbackNode=null,b.callbackPriority=0;var Q=k.lanes|k.childLanes;if(Jt(b,Q),b===Us&&(cs=Us=null,vo=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||aI||(aI=!0,Jne(bs,function(){return T1(),null})),Q=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||Q){Q=Ru.transition,Ru.transition=null;var re=en;en=1;var ge=hr;hr|=4,eL.current=null,s6e(b,k),Lne(k,b),DMe(uF),pe=!!lF,uF=lF=null,b.current=k,o6e(k),_c(),hr=ge,en=re,Ru.transition=Q}else b.current=k;if(aI&&(aI=!1,jm=b,lI=H),Q=b.pendingLanes,Q===0&&(Lm=null),Sm(k.stateNode),ll(b,Qn()),x!==null)for(N=b.onRecoverableError,k=0;k<x.length;k++)H=x[k],N(H.value,{componentStack:H.stack,digest:H.digest});if(oI)throw oI=!1,b=rL,rL=null,b;return(lI&1)!==0&&b.tag!==0&&T1(),Q=b.pendingLanes,(Q&1)!==0?b===iL?zE++:(zE=0,iL=b):zE=0,Nm(),null}function T1(){if(jm!==null){var b=br(lI),x=Ru.transition,k=en;try{if(Ru.transition=null,en=16>b?16:b,jm===null)var N=!1;else{if(b=jm,jm=null,lI=0,(hr&6)!==0)throw Error(n(331));var H=hr;for(hr|=4,Ht=b.current;Ht!==null;){var Q=Ht,re=Q.child;if((Ht.flags&16)!==0){var ge=Q.deletions;if(ge!==null){for(var Ee=0;Ee<ge.length;Ee++){var Ue=ge[Ee];for(Ht=Ue;Ht!==null;){var dt=Ht;switch(dt.tag){case 0:case 11:case 15:LE(8,dt,Q)}var mt=dt.child;if(mt!==null)mt.return=dt,Ht=mt;else for(;Ht!==null;){dt=Ht;var ct=dt.sibling,Bt=dt.return;if(One(dt),dt===Ue){Ht=null;break}if(ct!==null){ct.return=Bt,Ht=ct;break}Ht=Bt}}}var Vt=Q.alternate;if(Vt!==null){var Gt=Vt.child;if(Gt!==null){Vt.child=null;do{var Yi=Gt.sibling;Gt.sibling=null,Gt=Yi}while(Gt!==null)}}Ht=Q}}if((Q.subtreeFlags&2064)!==0&&re!==null)re.return=Q,Ht=re;else e:for(;Ht!==null;){if(Q=Ht,(Q.flags&2048)!==0)switch(Q.tag){case 0:case 11:case 15:LE(9,Q,Q.return)}var Me=Q.sibling;if(Me!==null){Me.return=Q.return,Ht=Me;break e}Ht=Q.return}}var Ie=b.current;for(Ht=Ie;Ht!==null;){re=Ht;var Be=re.child;if((re.subtreeFlags&2064)!==0&&Be!==null)Be.return=re,Ht=Be;else e:for(re=Ie;Ht!==null;){if(ge=Ht,(ge.flags&2048)!==0)try{switch(ge.tag){case 0:case 11:case 15:rI(9,ge)}}catch(Zt){$i(ge,ge.return,Zt)}if(ge===re){Ht=null;break e}var Et=ge.sibling;if(Et!==null){Et.return=ge.return,Ht=Et;break e}Ht=ge.return}}if(hr=H,Nm(),ws&&typeof ws.onPostCommitFiberRoot=="function")try{ws.onPostCommitFiberRoot(_u,b)}catch{}N=!0}return N}finally{en=k,Ru.transition=x}}return!1}function Kne(b,x,k){x=_1(k,x),x=hne(b,x,1),b=Mm(b,x,1),x=_a(),b!==null&&(yn(b,1,x),ll(b,x))}function $i(b,x,k){if(b.tag===3)Kne(b,b,k);else for(;x!==null;){if(x.tag===3){Kne(x,b,k);break}else if(x.tag===1){var N=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Lm===null||!Lm.has(N))){b=_1(k,b),b=pne(x,b,1),x=Mm(x,b,1),b=_a(),x!==null&&(yn(x,1,b),ll(x,b));break}}x=x.return}}function f6e(b,x,k){var N=b.pingCache;N!==null&&N.delete(x),x=_a(),b.pingedLanes|=b.suspendedLanes&k,Us===b&&(vo&k)===k&&(Ts===4||Ts===3&&(vo&130023424)===vo&&500>Qn()-nL?iy(b,0):tL|=k),ll(b,x)}function Xne(b,x){x===0&&((b.mode&1)===0?x=1:(x=Oe,Oe<<=1,(Oe&130023424)===0&&(Oe=4194304)));var k=_a();b=Bh(b,x),b!==null&&(yn(b,x,k),ll(b,k))}function h6e(b){var x=b.memoizedState,k=0;x!==null&&(k=x.retryLane),Xne(b,k)}function p6e(b,x){var k=0;switch(b.tag){case 13:var N=b.stateNode,H=b.memoizedState;H!==null&&(k=H.retryLane);break;case 19:N=b.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(x),Xne(b,k)}var Qne;Qne=function(b,x,k){if(b!==null)if(b.memoizedProps!==x.pendingProps||il.current)ol=!0;else{if((b.lanes&k)===0&&(x.flags&128)===0)return ol=!1,t6e(b,x,k);ol=(b.flags&131072)!==0}else ol=!1,mi&&(x.flags&1048576)!==0&&Rte(x,Bk,x.index);switch(x.lanes=0,x.tag){case 2:var N=x.type;tI(b,x),b=x.pendingProps;var H=p1(x,Uo.current);w1(x,k),H=OF(null,x,N,b,H,k);var Q=NF();return x.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,sl(N)?(Q=!0,Fk(x)):Q=!1,x.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,TF(x),H.updater=Zk,x.stateNode=H,H._reactInternals=x,BF(x,N,b,k),x=qF(null,x,N,!0,Q,k)):(x.tag=0,mi&&Q&&gF(x),xa(null,x,H,k),x=x.child),x;case 16:N=x.elementType;e:{switch(tI(b,x),b=x.pendingProps,H=N._init,N=H(N._payload),x.type=N,H=x.tag=g6e(N),b=Ic(N,b),H){case 0:x=HF(null,x,N,b,k);break e;case 1:x=Ene(null,x,N,b,k);break e;case 11:x=vne(null,x,N,b,k);break e;case 14:x=bne(null,x,N,Ic(N.type,b),k);break e}throw Error(n(306,N,""))}return x;case 0:return N=x.type,H=x.pendingProps,H=x.elementType===N?H:Ic(N,H),HF(b,x,N,H,k);case 1:return N=x.type,H=x.pendingProps,H=x.elementType===N?H:Ic(N,H),Ene(b,x,N,H,k);case 3:e:{if(Cne(x),b===null)throw Error(n(387));N=x.pendingProps,Q=x.memoizedState,H=Q.element,jte(b,x),Wk(x,N,null,k);var re=x.memoizedState;if(N=re.element,Q.isDehydrated)if(Q={element:N,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},x.updateQueue.baseState=Q,x.memoizedState=Q,x.flags&256){H=_1(Error(n(423)),x),x=Sne(b,x,N,k,H);break e}else if(N!==H){H=_1(Error(n(424)),x),x=Sne(b,x,N,k,H);break e}else for(zl=Dm(x.stateNode.containerInfo.firstChild),Bl=x,mi=!0,kc=null,k=Fte(x,null,N,k),x.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(y1(),N===H){x=Uh(b,x,k);break e}xa(b,x,N,k)}x=x.child}return x;case 5:return Ute(x),b===null&&bF(x),N=x.type,H=x.pendingProps,Q=b!==null?b.memoizedProps:null,re=H.children,cF(N,H)?re=null:Q!==null&&cF(N,Q)&&(x.flags|=32),_ne(b,x),xa(b,x,re,k),x.child;case 6:return b===null&&bF(x),null;case 13:return Tne(b,x,k);case 4:return AF(x,x.stateNode.containerInfo),N=x.pendingProps,b===null?x.child=v1(x,null,N,k):xa(b,x,N,k),x.child;case 11:return N=x.type,H=x.pendingProps,H=x.elementType===N?H:Ic(N,H),vne(b,x,N,H,k);case 7:return xa(b,x,x.pendingProps,k),x.child;case 8:return xa(b,x,x.pendingProps.children,k),x.child;case 12:return xa(b,x,x.pendingProps.children,k),x.child;case 10:e:{if(N=x.type._context,H=x.pendingProps,Q=x.memoizedProps,re=H.value,ii(Hk,N._currentValue),N._currentValue=re,Q!==null)if(Ac(Q.value,re)){if(Q.children===H.children&&!il.current){x=Uh(b,x,k);break e}}else for(Q=x.child,Q!==null&&(Q.return=x);Q!==null;){var ge=Q.dependencies;if(ge!==null){re=Q.child;for(var Ee=ge.firstContext;Ee!==null;){if(Ee.context===N){if(Q.tag===1){Ee=zh(-1,k&-k),Ee.tag=2;var Ue=Q.updateQueue;if(Ue!==null){Ue=Ue.shared;var dt=Ue.pending;dt===null?Ee.next=Ee:(Ee.next=dt.next,dt.next=Ee),Ue.pending=Ee}}Q.lanes|=k,Ee=Q.alternate,Ee!==null&&(Ee.lanes|=k),CF(Q.return,k,x),ge.lanes|=k;break}Ee=Ee.next}}else if(Q.tag===10)re=Q.type===x.type?null:Q.child;else if(Q.tag===18){if(re=Q.return,re===null)throw Error(n(341));re.lanes|=k,ge=re.alternate,ge!==null&&(ge.lanes|=k),CF(re,k,x),re=Q.sibling}else re=Q.child;if(re!==null)re.return=Q;else for(re=Q;re!==null;){if(re===x){re=null;break}if(Q=re.sibling,Q!==null){Q.return=re.return,re=Q;break}re=re.return}Q=re}xa(b,x,H.children,k),x=x.child}return x;case 9:return H=x.type,N=x.pendingProps.children,w1(x,k),H=ku(H),N=N(H),x.flags|=1,xa(b,x,N,k),x.child;case 14:return N=x.type,H=Ic(N,x.pendingProps),H=Ic(N.type,H),bne(b,x,N,H,k);case 15:return wne(b,x,x.type,x.pendingProps,k);case 17:return N=x.type,H=x.pendingProps,H=x.elementType===N?H:Ic(N,H),tI(b,x),x.tag=1,sl(N)?(b=!0,Fk(x)):b=!1,w1(x,k),dne(x,N,H),BF(x,N,H,k),qF(null,x,N,!0,b,k);case 19:return kne(b,x,k);case 22:return xne(b,x,k)}throw Error(n(156,x.tag))};function Jne(b,x){return Zd(b,x)}function m6e(b,x,k,N){this.tag=b,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Du(b,x,k,N){return new m6e(b,x,k,N)}function cL(b){return b=b.prototype,!(!b||!b.isReactComponent)}function g6e(b){if(typeof b=="function")return cL(b)?1:0;if(b!=null){if(b=b.$$typeof,b===M)return 11;if(b===z)return 14}return 2}function Um(b,x){var k=b.alternate;return k===null?(k=Du(b.tag,x,b.key,b.mode),k.elementType=b.elementType,k.type=b.type,k.stateNode=b.stateNode,k.alternate=b,b.alternate=k):(k.pendingProps=x,k.type=b.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=b.flags&14680064,k.childLanes=b.childLanes,k.lanes=b.lanes,k.child=b.child,k.memoizedProps=b.memoizedProps,k.memoizedState=b.memoizedState,k.updateQueue=b.updateQueue,x=b.dependencies,k.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},k.sibling=b.sibling,k.index=b.index,k.ref=b.ref,k}function fI(b,x,k,N,H,Q){var re=2;if(N=b,typeof b=="function")cL(b)&&(re=1);else if(typeof b=="string")re=5;else e:switch(b){case T:return oy(k.children,H,Q,x);case A:re=8,H|=8;break;case I:return b=Du(12,k,x,H|2),b.elementType=I,b.lanes=Q,b;case $:return b=Du(13,k,x,H),b.elementType=$,b.lanes=Q,b;case L:return b=Du(19,k,x,H),b.elementType=L,b.lanes=Q,b;case W:return hI(k,H,Q,x);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case D:re=10;break e;case O:re=9;break e;case M:re=11;break e;case z:re=14;break e;case B:re=16,N=null;break e}throw Error(n(130,b==null?b:typeof b,""))}return x=Du(re,k,x,H),x.elementType=b,x.type=N,x.lanes=Q,x}function oy(b,x,k,N){return b=Du(7,b,N,x),b.lanes=k,b}function hI(b,x,k,N){return b=Du(22,b,N,x),b.elementType=W,b.lanes=k,b.stateNode={isHidden:!1},b}function dL(b,x,k){return b=Du(6,b,null,x),b.lanes=k,b}function fL(b,x,k){return x=Du(4,b.children!==null?b.children:[],b.key,x),x.lanes=k,x.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},x}function y6e(b,x,k,N,H){this.tag=x,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jt(0),this.expirationTimes=jt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.identifierPrefix=N,this.onRecoverableError=H,this.mutableSourceEagerHydrationData=null}function hL(b,x,k,N,H,Q,re,ge,Ee){return b=new y6e(b,x,k,ge,Ee),x===1?(x=1,Q===!0&&(x|=8)):x=0,Q=Du(3,null,null,x),b.current=Q,Q.stateNode=b,Q.memoizedState={element:N,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},TF(Q),b}function v6e(b,x,k){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:N==null?null:""+N,children:b,containerInfo:x,implementation:k}}function Zne(b){if(!b)return Om;b=b._reactInternals;e:{if(Ei(b)!==b||b.tag!==1)throw Error(n(170));var x=b;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(sl(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(n(171))}if(b.tag===1){var k=b.type;if(sl(k))return Ate(b,k,x)}return x}function ere(b,x,k,N,H,Q,re,ge,Ee){return b=hL(k,N,!0,b,H,Q,re,ge,Ee),b.context=Zne(null),k=b.current,N=_a(),H=Bm(k),Q=zh(N,H),Q.callback=x??null,Mm(k,Q,H),b.current.lanes=H,yn(b,H,N),ll(b,N),b}function pI(b,x,k,N){var H=x.current,Q=_a(),re=Bm(H);return k=Zne(k),x.context===null?x.context=k:x.pendingContext=k,x=zh(Q,re),x.payload={element:b},N=N===void 0?null:N,N!==null&&(x.callback=N),b=Mm(H,x,re),b!==null&&(Pc(b,H,re,Q),Vk(b,H,re)),re}function mI(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function tre(b,x){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var k=b.retryLane;b.retryLane=k!==0&&k<x?k:x}}function pL(b,x){tre(b,x),(b=b.alternate)&&tre(b,x)}function b6e(){return null}var nre=typeof reportError=="function"?reportError:function(b){console.error(b)};function mL(b){this._internalRoot=b}gI.prototype.render=mL.prototype.render=function(b){var x=this._internalRoot;if(x===null)throw Error(n(409));pI(b,x,null,null)},gI.prototype.unmount=mL.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var x=b.containerInfo;ry(function(){pI(null,b,null,null)}),x[Mh]=null}};function gI(b){this._internalRoot=b}gI.prototype.unstable_scheduleHydration=function(b){if(b){var x=Tm();b={blockedOn:null,target:b,priority:x};for(var k=0;k<el.length&&x!==0&&x<el[k].priority;k++);el.splice(k,0,b),k===0&&Gg(b)}};function gL(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function yI(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function rre(){}function w6e(b,x,k,N,H){if(H){if(typeof N=="function"){var Q=N;N=function(){var Ue=mI(re);Q.call(Ue)}}var re=ere(x,N,b,0,null,!1,!1,"",rre);return b._reactRootContainer=re,b[Mh]=re.current,SE(b.nodeType===8?b.parentNode:b),ry(),re}for(;H=b.lastChild;)b.removeChild(H);if(typeof N=="function"){var ge=N;N=function(){var Ue=mI(Ee);ge.call(Ue)}}var Ee=hL(b,0,!1,null,null,!1,!1,"",rre);return b._reactRootContainer=Ee,b[Mh]=Ee.current,SE(b.nodeType===8?b.parentNode:b),ry(function(){pI(x,Ee,k,N)}),Ee}function vI(b,x,k,N,H){var Q=k._reactRootContainer;if(Q){var re=Q;if(typeof H=="function"){var ge=H;H=function(){var Ee=mI(re);ge.call(Ee)}}pI(x,re,b,H)}else re=w6e(k,x,b,H,N);return mI(re)}_s=function(b){switch(b.tag){case 3:var x=b.stateNode;if(x.current.memoizedState.isDehydrated){var k=Ae(x.pendingLanes);k!==0&&($n(x,k|1),ll(x,Qn()),(hr&6)===0&&(S1=Qn()+500,Nm()))}break;case 13:ry(function(){var N=Bh(b,1);if(N!==null){var H=_a();Pc(N,b,1,H)}}),pL(b,1)}},Za=function(b){if(b.tag===13){var x=Bh(b,134217728);if(x!==null){var k=_a();Pc(x,b,134217728,k)}pL(b,134217728)}},Eu=function(b){if(b.tag===13){var x=Bm(b),k=Bh(b,x);if(k!==null){var N=_a();Pc(k,b,x,N)}pL(b,x)}},Tm=function(){return en},ef=function(b,x){var k=en;try{return en=b,x()}finally{en=k}},Kn=function(b,x,k){switch(x){case"input":if(De(b,k),x=k.name,k.type==="radio"&&x!=null){for(k=b;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<k.length;x++){var N=k[x];if(N!==b&&N.form===b.form){var H=$k(N);if(!H)throw Error(n(90));ie(N),De(N,H)}}}break;case"textarea":ze(b,k);break;case"select":x=k.value,x!=null&&it(b,!!k.multiple,x,!1)}},ys=aL,tr=ry;var x6e={usingClientEntryPoint:!1,Events:[kE,f1,$k,Gi,zo,aL]},UE={findFiberByHostInstance:Kg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_6e={bundleType:UE.bundleType,version:UE.version,rendererPackageName:UE.rendererPackageName,rendererConfig:UE.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=Dh(b),b===null?null:b.stateNode},findFiberByHostInstance:UE.findFiberByHostInstance||b6e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bI=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bI.isDisabled&&bI.supportsFiber)try{_u=bI.inject(_6e),ws=bI}catch{}}return cl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x6e,cl.createPortal=function(b,x){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gL(x))throw Error(n(200));return v6e(b,x,null,k)},cl.createRoot=function(b,x){if(!gL(b))throw Error(n(299));var k=!1,N="",H=nre;return x!=null&&(x.unstable_strictMode===!0&&(k=!0),x.identifierPrefix!==void 0&&(N=x.identifierPrefix),x.onRecoverableError!==void 0&&(H=x.onRecoverableError)),x=hL(b,1,!1,null,null,k,!1,N,H),b[Mh]=x.current,SE(b.nodeType===8?b.parentNode:b),new mL(x)},cl.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var x=b._reactInternals;if(x===void 0)throw typeof b.render=="function"?Error(n(188)):(b=Object.keys(b).join(","),Error(n(268,b)));return b=Dh(x),b=b===null?null:b.stateNode,b},cl.flushSync=function(b){return ry(b)},cl.hydrate=function(b,x,k){if(!yI(x))throw Error(n(200));return vI(null,b,x,!0,k)},cl.hydrateRoot=function(b,x,k){if(!gL(b))throw Error(n(405));var N=k!=null&&k.hydratedSources||null,H=!1,Q="",re=nre;if(k!=null&&(k.unstable_strictMode===!0&&(H=!0),k.identifierPrefix!==void 0&&(Q=k.identifierPrefix),k.onRecoverableError!==void 0&&(re=k.onRecoverableError)),x=ere(x,null,b,1,k??null,H,!1,Q,re),b[Mh]=x.current,SE(b),N)for(b=0;b<N.length;b++)k=N[b],H=k._getVersion,H=H(k._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[k,H]:x.mutableSourceEagerHydrationData.push(k,H);return new gI(x)},cl.render=function(b,x,k){if(!yI(x))throw Error(n(200));return vI(null,b,x,!1,k)},cl.unmountComponentAtNode=function(b){if(!yI(b))throw Error(n(40));return b._reactRootContainer?(ry(function(){vI(null,null,b,!1,function(){b._reactRootContainer=null,b[Mh]=null})}),!0):!1},cl.unstable_batchedUpdates=aL,cl.unstable_renderSubtreeIntoContainer=function(b,x,k,N){if(!yI(k))throw Error(n(200));if(b==null||b._reactInternals===void 0)throw Error(n(38));return vI(b,x,k,!1,N)},cl.version="18.3.1-next-f1338f8080-20240426",cl}var dre;function Sge(){if(dre)return bL.exports;dre=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bL.exports=O6e(),bL.exports}var fre;function N6e(){if(fre)return wI;fre=1;var e=Sge();return wI.createRoot=e.createRoot,wI.hydrateRoot=e.hydrateRoot,wI}var $6e=N6e();const M6e=ao($6e);var Ef=function(){return Ef=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ef.apply(this,arguments)};function IT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function F6e(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var zD="right-scroll-bar-position",UD="width-before-scroll-bar",L6e="with-scroll-bars-hidden",j6e="--removed-body-scroll-bar-size";function _L(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function B6e(e,t){var n=R.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var z6e=typeof window<"u"?R.useLayoutEffect:R.useEffect,hre=new WeakMap;function U6e(e,t){var n=B6e(null,function(r){return e.forEach(function(i){return _L(i,r)})});return z6e(function(){var r=hre.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||_L(a,null)}),s.forEach(function(a){i.has(a)||_L(a,o)})}hre.set(n,e)},[e]),n}function H6e(e){return e}function q6e(e,t){t===void 0&&(t=H6e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var c=o;o=[],c.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),n}}}};return i}function V6e(e){e===void 0&&(e={});var t=q6e(null);return t.options=Ef({async:!0,ssr:!1},e),t}var Tge=function(e){var t=e.sideCar,n=IT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return R.createElement(r,Ef({},n))};Tge.isSideCarExport=!0;function W6e(e,t){return e.useMedium(t),Tge}var Age=V6e(),EL=function(){},g$=R.forwardRef(function(e,t){var n=R.useRef(null),r=R.useState({onScrollCapture:EL,onWheelCapture:EL,onTouchMoveCapture:EL}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,v=e.gapMode,w=IT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,C=U6e([n,t]),S=Ef(Ef({},w),i);return R.createElement(R.Fragment,null,c&&R.createElement(E,{sideCar:Age,removeScrollBar:u,shards:d,noIsolation:h,inert:p,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:v}),o?R.cloneElement(R.Children.only(a),Ef(Ef({},S),{ref:C})):R.createElement(y,Ef({},S,{className:l,ref:C}),a))});g$.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};g$.classNames={fullWidth:UD,zeroRight:zD};var kge=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function G6e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kge();return t&&e.setAttribute("nonce",t),e}function Y6e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function K6e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var X6e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=G6e())&&(Y6e(t,n),K6e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Q6e=function(){var e=X6e();return function(t,n){R.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},J6e=function(){var e=Q6e(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Z6e={left:0,top:0,right:0,gap:0},CL=function(e){return parseInt(e||"",10)||0},e5e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[CL(n),CL(r),CL(i)]},t5e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Z6e;var t=e5e(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},n5e=J6e(),Nw="data-scroll-locked",r5e=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(L6e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Nw,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zD,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(UD,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zD," .").concat(zD,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(UD," .").concat(UD,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nw,`] {
    `).concat(j6e,": ").concat(a,`px;
  }
`)},pre=function(){var e=parseInt(document.body.getAttribute(Nw)||"0",10);return isFinite(e)?e:0},i5e=function(){R.useEffect(function(){return document.body.setAttribute(Nw,(pre()+1).toString()),function(){var e=pre()-1;e<=0?document.body.removeAttribute(Nw):document.body.setAttribute(Nw,e.toString())}},[])},s5e=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;i5e();var s=R.useMemo(function(){return t5e(i)},[i]);return R.createElement(n5e,{styles:r5e(s,!t,i,n?"":"!important")})};function o5e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kge();return t&&e.setAttribute("nonce",t),e}function a5e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function l5e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var u5e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=o5e())&&(a5e(t,n),l5e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},c5e=function(){var e=u5e();return function(t,n){R.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},d5e=function(){var e=c5e(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},qB=!1;if(typeof window<"u")try{var xI=Object.defineProperty({},"passive",{get:function(){return qB=!0,!0}});window.addEventListener("test",xI,xI),window.removeEventListener("test",xI,xI)}catch{qB=!1}var A1=qB?{passive:!1}:!1,f5e=function(e){return e.tagName==="TEXTAREA"},Ige=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!f5e(e)&&n[t]==="visible")},h5e=function(e){return Ige(e,"overflowY")},p5e=function(e){return Ige(e,"overflowX")},mre=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Rge(e,r);if(i){var s=Dge(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},m5e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},g5e=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Rge=function(e,t){return e==="v"?h5e(t):p5e(t)},Dge=function(e,t){return e==="v"?m5e(t):g5e(t)},y5e=function(e,t){return e==="h"&&t==="rtl"?-1:1},v5e=function(e,t,n,r,i){var s=y5e(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),u=!1,c=o>0,d=0,f=0;do{var h=Dge(e,a),p=h[0],m=h[1],g=h[2],y=m-g-s*p;(p||y)&&Rge(e,a)&&(d+=y,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(d)<1||!c&&Math.abs(f)<1)&&(u=!0),u},_I=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gre=function(e){return[e.deltaX,e.deltaY]},yre=function(e){return e&&"current"in e?e.current:e},b5e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},w5e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},x5e=0,k1=[];function _5e(e){var t=R.useRef([]),n=R.useRef([0,0]),r=R.useRef(),i=R.useState(x5e++)[0],s=R.useState(d5e)[0],o=R.useRef(e);R.useEffect(function(){o.current=e},[e]),R.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=F6e([e.lockRef.current],(e.shards||[]).map(yre),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=R.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=_I(m),v=n.current,w="deltaX"in m?m.deltaX:v[0]-y[0],E="deltaY"in m?m.deltaY:v[1]-y[1],C,S=m.target,T=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in m&&T==="h"&&S.type==="range")return!1;var A=mre(T,S);if(!A)return!0;if(A?C=T:(C=T==="v"?"h":"v",A=mre(T,S)),!A)return!1;if(!r.current&&"changedTouches"in m&&(w||E)&&(r.current=C),!C)return!0;var I=r.current||C;return v5e(I,g,m,I==="h"?w:E)},[]),l=R.useCallback(function(m){var g=m;if(!(!k1.length||k1[k1.length-1]!==s)){var y="deltaY"in g?gre(g):_I(g),v=t.current.filter(function(C){return C.name===g.type&&(C.target===g.target||g.target===C.shadowParent)&&b5e(C.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(yre).filter(Boolean).filter(function(C){return C.contains(g.target)}),E=w.length>0?a(g,w[0]):!o.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),u=R.useCallback(function(m,g,y,v){var w={name:m,delta:g,target:y,should:v,shadowParent:E5e(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(E){return E!==w})},1)},[]),c=R.useCallback(function(m){n.current=_I(m),r.current=void 0},[]),d=R.useCallback(function(m){u(m.type,gre(m),m.target,a(m,e.lockRef.current))},[]),f=R.useCallback(function(m){u(m.type,_I(m),m.target,a(m,e.lockRef.current))},[]);R.useEffect(function(){return k1.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,A1),document.addEventListener("touchmove",l,A1),document.addEventListener("touchstart",c,A1),function(){k1=k1.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,A1),document.removeEventListener("touchmove",l,A1),document.removeEventListener("touchstart",c,A1)}},[]);var h=e.removeScrollBar,p=e.inert;return R.createElement(R.Fragment,null,p?R.createElement(s,{styles:w5e(i)}):null,h?R.createElement(s5e,{gapMode:e.gapMode}):null)}function E5e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const C5e=W6e(Age,_5e);var dx=R.forwardRef(function(e,t){return R.createElement(g$,Ef({},e,{ref:t,sideCar:C5e}))});dx.classNames=g$.classNames;function ti(e){return Object.keys(e)}function SL(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Rq(e,t){const n={...e},r=t;return SL(e)&&SL(t)&&Object.keys(t).forEach(i=>{SL(r[i])&&i in e?n[i]=Rq(n[i],r[i]):n[i]=r[i]}),n}function S5e(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function T5e(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function y2(e){const t=T5e(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function TL(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function Pge(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?TL(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(e))return t?TL(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${e}`;return t?TL(s):s}}return r}return n}const Le=Pge("rem",{shouldScale:!0}),T3=Pge("em");function dg(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function Oge(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function tm(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==R.Fragment:!1}function ms(e){const t=R.createContext(null);return[({children:i,value:s})=>_.jsx(t.Provider,{value:s,children:i}),()=>{const i=R.useContext(t);if(i===null)throw new Error(e);return i}]}function nm(e=null){const t=R.createContext(e);return[({children:i,value:s})=>_.jsx(t.Provider,{value:s,children:i}),()=>R.useContext(t)]}function A3(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function k3(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function A5e(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function k5e(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function I5e(e,t,n){return k3(e,n)===k3(t,n)}function Dq({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var p;n==null||n(a);const l=Array.from(((p=k3(a.currentTarget,e))==null?void 0:p.querySelectorAll(t))||[]).filter(m=>I5e(a.currentTarget,m,e)),u=l.findIndex(m=>a.currentTarget===m),c=k5e(u,l,r),d=A5e(u,l,r),f=s==="rtl"?d:c,h=s==="rtl"?c:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}const R5e={app:100,modal:200,popover:300,overlay:400,max:9999};function lo(e){return R5e[e]}const I3=()=>{};function D5e(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||I3:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function fn(e,t="size",n=!0){if(e!==void 0)return Oge(e)?n?Le(e):e:`var(--${t}-${e})`}function es(e){return fn(e,"mantine-spacing")}function vr(e){return e===void 0?"var(--mantine-radius-default)":fn(e,"mantine-radius")}function Ui(e){return fn(e,"mantine-font-size")}function Nge(e){return fn(e,"mantine-line-height",!1)}function Pq(e){if(e)return fn(e,"mantine-shadow",!1)}function Js(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Oq(e,t){return e in t?y2(t[e]):y2(e)}function v2(e,t){const n=e.map(r=>({value:r,px:Oq(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function td(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function P5e(e,t,n){var r;return n?Array.from(((r=k3(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function O5e(){const[e,t]=R.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Yc(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function $w(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function d0(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),R.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const N5e=()=>{};function y$(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,i=d0(e),s=R.useRef(0),o=Object.assign(R.useCallback((...a)=>{window.clearTimeout(s.current);const l=()=>{s.current!==0&&(s.current=0,i(...a))};o.flush=l,s.current=window.setTimeout(l,n)},[i,n]),{flush:N5e});return R.useEffect(()=>()=>{window.clearTimeout(s.current),r&&o.flush()},[o,r]),o}const vre=["mousedown","touchstart"];function $ge(e,t,n){const r=R.useRef(null);return R.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(u=>!!u&&!s.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||vre).forEach(s=>document.addEventListener(s,i)),()=>{(t||vre).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function $5e({timeout:e=2e3}={}){const[t,n]=R.useState(null),[r,i]=R.useState(!1),[s,o]=R.useState(null),a=c=>{window.clearTimeout(s),o(window.setTimeout(()=>i(!1),e)),i(c)};return{copy:c=>{"clipboard"in navigator?navigator.clipboard.writeText(c).then(()=>a(!0)).catch(d=>n(d)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),n(null),window.clearTimeout(s)},error:t,copied:r}}function M5e(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function F5e(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function b2(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=R.useState(n?t:F5e(e)),s=R.useRef(null);return R.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),M5e(s.current,o=>i(o.matches))},[e]),r}function L5e(e,t){return b2("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}function Mge(e,t,n={leading:!1}){const[r,i]=R.useState(e),s=R.useRef(!1),o=R.useRef(null),a=R.useRef(!1),l=()=>window.clearTimeout(o.current);return R.useEffect(()=>{s.current&&(!a.current&&n.leading?(a.current=!0,i(e)):(l(),o.current=window.setTimeout(()=>{a.current=!1,i(e)},t)))},[e,n.leading,t]),R.useEffect(()=>(s.current=!0,l),[]),[r,l]}const db=typeof document<"u"?R.useLayoutEffect:R.useEffect;function vd(e,t){const n=R.useRef(!1);R.useEffect(()=>()=>{n.current=!1},[]),R.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function Fge({opened:e,shouldReturnFocus:t=!0}){const n=R.useRef(null),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return vd(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const j5e=/input|select|textarea|button|object/,Lge="a, input, select, textarea, button, object, [tabindex]";function B5e(e){return e.style.display==="none"}function z5e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(B5e(n))return!1;n=n.parentNode}return!0}function jge(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function VB(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(jge(e));return(j5e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&z5e(e)}function Bge(e){const t=jge(e);return(Number.isNaN(t)||t>=0)&&VB(e)}function U5e(e){return Array.from(e.querySelectorAll(Lge)).filter(Bge)}function H5e(e,t){const n=U5e(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let s=r===i.activeElement||e===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function q5e(e=!0){const t=R.useRef(null),n=i=>{let s=i.querySelector("[data-autofocus]");if(!s){const o=Array.from(i.querySelectorAll(Lge));s=o.find(Bge)||o.find(VB)||null,!s&&VB(i)&&(s=i)}s&&s.focus({preventScroll:!0})},r=R.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return R.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=s=>{s.key==="Tab"&&t.current&&H5e(t.current,s)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}const V5e=e=>(e+1)%1e6;function W5e(){const[,e]=R.useReducer(V5e,0);return e}const G5e=Ir.useId||(()=>{});function Y5e(){const e=G5e();return e?`mantine-${e.replace(/:/g,"")}`:""}function ma(e){const t=Y5e(),[n,r]=R.useState(t);return db(()=>{r($w())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function zge(e,t,n){R.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function R3(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Uge(...e){const t=new Map;return n=>{if(e.forEach(r=>{const i=R3(r,n);i&&t.set(r,i)}),t.size>0)return()=>{e.forEach(r=>{const i=t.get(r);i?i():R3(r,null)}),t.clear()}}}function Ns(...e){return R.useCallback(Uge(...e),e)}function Hge(e,t,n="ltr"){const r=R.useRef(null),i=R.useRef(!1),s=R.useRef(!1),o=R.useRef(0),[a,l]=R.useState(!1);return R.useEffect(()=>{i.current=!0},[]),R.useEffect(()=>{var v,w;const u=({x:E,y:C})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const S=r.current.getBoundingClientRect();if(S.width&&S.height){const T=Yc((E-S.left)/S.width,0,1);e({x:n==="ltr"?T:1-T,y:Yc((C-S.top)/S.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",y),document.addEventListener("touchend",h)},d=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",h)},f=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,l(!1),d(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=E=>{f(),E.preventDefault(),m(E)},m=E=>u({x:E.clientX,y:E.clientY}),g=E=>{E.cancelable&&E.preventDefault(),f(),y(E)},y=E=>{E.cancelable&&E.preventDefault(),u({x:E.changedTouches[0].clientX,y:E.changedTouches[0].clientY})};return(v=r.current)==null||v.addEventListener("mousedown",p),(w=r.current)==null||w.addEventListener("touchstart",g,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",g))}},[n,e]),{ref:r,active:a}}function Oi({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=R.useState(t!==void 0?t:n),o=(a,...l)=>{s(a),r==null||r(a,...l)};return e!==void 0?[e,r,!0]:[i,o,!1]}function qm(e,t){const n=t-e+1;return Array.from({length:n},(r,i)=>i+e)}const EI="dots";function K5e({total:e,siblings:t=1,boundaries:n=1,page:r,initialPage:i=1,onChange:s}){const o=Math.max(Math.trunc(e),0),[a,l]=Oi({value:r,onChange:s,defaultValue:i,finalValue:i}),u=m=>{m<=0?l(1):m>o?l(o):l(m)},c=()=>u(a+1),d=()=>u(a-1),f=()=>u(1),h=()=>u(o);return{range:R.useMemo(()=>{if(t*2+3+n*2>=o)return qm(1,o);const g=Math.max(a-t,n),y=Math.min(a+t,o-n),v=g>n+2,w=y<o-(n+1);if(!v&&w){const E=t*2+n+2;return[...qm(1,E),EI,...qm(o-(n-1),o)]}if(v&&!w){const E=n+1+2*t;return[...qm(1,n),EI,...qm(o-E,o)]}return[...qm(1,n),EI,...qm(g,y),EI,...qm(o-n+1,o)]},[o,t,a]),active:a,setPage:u,next:c,previous:d,first:f,last:h}}function v$(e,t){return b2("(prefers-reduced-motion: reduce)",e,t)}const X5e={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function RT(e){const t=R.useRef(0),n=R.useRef(null),[r,i]=R.useState(X5e),s=R.useMemo(()=>typeof window<"u"?new ResizeObserver(o=>{const a=o[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{n.current&&i(a.contentRect)}))}):null,[]);return R.useEffect(()=>(n.current&&(s==null||s.observe(n.current,e)),()=>{s==null||s.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function Q5e(e){const[t,{width:n,height:r}]=RT(e);return{ref:t,width:n,height:r}}function J5e(){const[e,t]=R.useState(!1),n=R.useRef(null),r=R.useCallback(()=>t(!0),[]),i=R.useCallback(()=>t(!1),[]);return R.useEffect(()=>{if(n.current)return n.current.addEventListener("mouseenter",r),n.current.addEventListener("mouseleave",i),()=>{var s,o;(s=n.current)==null||s.removeEventListener("mouseenter",r),(o=n.current)==null||o.removeEventListener("mouseleave",i)}},[n.current]),{ref:n,hovered:e}}function Nq(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,s]=R.useState(e),o=R.useCallback(()=>{s(u=>u||(n==null||n(),!0))},[n]),a=R.useCallback(()=>{s(u=>u&&(r==null||r(),!1))},[r]),l=R.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:l}]}function Z5e(e){const t=R.useRef(void 0);return R.useEffect(()=>{t.current=e},[e]),t.current}function eFe(e,t){const n=d0(e),r=R.useRef(null),i=R.useRef(null),s=R.useRef(!0),o=R.useRef(t),a=R.useRef(-1),l=()=>window.clearTimeout(a.current),u=R.useCallback((...f)=>{n(...f),r.current=f,i.current=f,s.current=!1},[n]),c=R.useCallback(()=>{r.current&&r.current!==i.current?(u(...r.current),a.current=window.setTimeout(c,o.current)):s.current=!0},[u]),d=R.useCallback((...f)=>{s.current?(u(...f),a.current=window.setTimeout(c,o.current)):r.current=f},[u,c]);return R.useEffect(()=>{o.current=t},[t]),[d,l]}function tFe(e,t){return eFe(e,t)[0]}function nFe(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function rFe(e){function t(r){const i=Object.keys(r).reduce((s,o)=>(s[`${e}:${o}`]=a=>r[o](a.detail),s),{});db(()=>(Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s]),window.addEventListener(s,i[s])}),()=>Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s])})),[i])}function n(r){return(...i)=>nFe(`${e}:${String(r)}`,i[0])}return[t,n]}var iFe={};function sFe(){return typeof process<"u"&&iFe?"production":"development"}function WB(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function b$(e){var n;const t=Ir.version;return typeof Ir.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(n=e==null?void 0:e.props)==null?void 0:n.ref}function qge(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=qge(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function kt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=qge(e))&&(r&&(r+=" "),r+=t);return r}const oFe={};function aFe(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=kt(t[r],i):t[r]=i})}),t}function w$({theme:e,classNames:t,props:n,stylesCtx:r}){const s=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,n,r):o||oFe);return aFe(s)}function D3({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((s,o)=>typeof o=="function"?{...s,...o(e,n,r)}:{...s,...o},{})}const $q=R.createContext(null);function fg(){const e=R.useContext($q);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function lFe(){return fg().cssVariablesResolver}function uFe(){return fg().classNamesPrefix}function x$(){return fg().getStyleNonce}function cFe(){return fg().withStaticClasses}function dFe(){return fg().headless}function fFe(){var e;return(e=fg().stylesTransform)==null?void 0:e.sx}function hFe(){var e;return(e=fg().stylesTransform)==null?void 0:e.styles}function pFe(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function mFe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function gFe(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i||1}}function yFe(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=s-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=u,h=0):l>=1&&l<2?(d=u,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=u):l>=3&&l<4?(d=0,f=u,h=a):l>=4&&l<5?(d=u,f=0,h=a):(d=a,f=0,h=u),{r:Math.round((d+c)*255),g:Math.round((f+c)*255),b:Math.round((h+c)*255),a:o||1}}function _$(e){return pFe(e)?mFe(e):e.startsWith("rgb")?gFe(e):e.startsWith("hsl")?yFe(e):{r:0,g:0,b:0,a:1}}function HC(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:s}=_$(e),o=1-t,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function w2(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function AL(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function vFe(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function bFe(e){if(e.startsWith("oklch("))return(vFe(e)||0)/100;const{r:t,g:n,b:r}=_$(e),i=t/255,s=n/255,o=r/255,a=AL(i),l=AL(s),u=AL(o);return .2126*a+.7152*l+.0722*u}function qE(e,t=.179){return e.startsWith("var(")?!1:bFe(e)>t}function Pd({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:qE(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:qE(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:qE(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),s=i?Number(i):void 0,o=r in t.colors;if(o){const a=s!==void 0?t.colors[r][s]:t.colors[r][w2(t,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:qE(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:qE(e,t.luminanceThreshold),shade:s,variable:void 0}}function Dr(e,t){const n=Pd({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function GB(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},r=Dr(n.from,t),i=Dr(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function gf(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=_$(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const I1=gf,wFe=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const s=Pd({color:e,theme:t}),o=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Le(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${Le(1)} solid transparent`}:{background:e,hover:HC(e,.1),color:a,border:`${Le(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Le(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:gf(a,.1),hover:gf(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Le(1)} solid transparent`}}return{background:gf(e,.1),hover:gf(e,.12),color:e,border:`${Le(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Le(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:gf(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Le(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:gf(e,.05),color:e,border:`${Le(1)} solid ${e}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Le(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:"transparent",hover:gf(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Le(1)} solid transparent`}}return{background:"transparent",hover:gf(e,.12),color:e,border:`${Le(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Le(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Le(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Le(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:HC(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Le(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:HC(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Le(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:HC(t.white,.01),color:e,border:`${Le(1)} solid transparent`}:n==="gradient"?{background:GB(r,t),hover:GB(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Le(1)} solid var(--mantine-color-default-border)`}:{}},xFe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},bre="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Mq={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:xFe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:wFe,autoContrast:!1,luminanceThreshold:.3,fontFamily:bre,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:bre,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Le(34),lineHeight:"1.3"},h2:{fontSize:Le(26),lineHeight:"1.35"},h3:{fontSize:Le(22),lineHeight:"1.4"},h4:{fontSize:Le(18),lineHeight:"1.45"},h5:{fontSize:Le(16),lineHeight:"1.5"},h6:{fontSize:Le(14),lineHeight:"1.5"}}},fontSizes:{xs:Le(12),sm:Le(14),md:Le(16),lg:Le(18),xl:Le(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Le(2),sm:Le(4),md:Le(8),lg:Le(16),xl:Le(32)},spacing:{xs:Le(10),sm:Le(12),md:Le(16),lg:Le(20),xl:Le(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Le(1)} ${Le(3)} rgba(0, 0, 0, 0.05), 0 ${Le(1)} ${Le(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Le(1)} ${Le(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Le(10)} ${Le(15)} ${Le(-5)}, rgba(0, 0, 0, 0.04) 0 ${Le(7)} ${Le(7)} ${Le(-5)}`,md:`0 ${Le(1)} ${Le(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Le(20)} ${Le(25)} ${Le(-5)}, rgba(0, 0, 0, 0.04) 0 ${Le(10)} ${Le(10)} ${Le(-5)}`,lg:`0 ${Le(1)} ${Le(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Le(28)} ${Le(23)} ${Le(-7)}, rgba(0, 0, 0, 0.04) 0 ${Le(12)} ${Le(12)} ${Le(-7)}`,xl:`0 ${Le(1)} ${Le(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Le(36)} ${Le(28)} ${Le(-7)}, rgba(0, 0, 0, 0.04) 0 ${Le(17)} ${Le(17)} ${Le(-7)}`},other:{},components:{}};function wre(e){return e==="auto"||e==="dark"||e==="light"}function _Fe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return wre(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&wre(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const EFe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",xre="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function kL(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function _re(e){if(!(e.primaryColor in e.colors))throw new Error(EFe);if(typeof e.primaryShade=="object"&&(!kL(e.primaryShade.dark)||!kL(e.primaryShade.light)))throw new Error(xre);if(typeof e.primaryShade=="number"&&!kL(e.primaryShade))throw new Error(xre)}function CFe(e,t){var r;if(!t)return _re(e),e;const n=Rq(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),_re(n),n}const Fq=R.createContext(null),SFe=()=>R.useContext(Fq)||Mq;function Vi(){const e=R.useContext(Fq);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function Vge({theme:e,children:t,inherit:n=!0}){const r=SFe(),i=R.useMemo(()=>CFe(n?r:Mq,e),[e,r,n]);return _.jsx(Fq.Provider,{value:i,children:t})}Vge.displayName="@mantine/core/MantineThemeProvider";function TFe(){const e=Vi(),t=x$(),n=ti(e.breakpoints).reduce((r,i)=>{const s=e.breakpoints[i].includes("px"),o=y2(e.breakpoints[i]),a=s?`${o-.1}px`:T3(o-.1),l=s?`${o}px`:T3(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return _.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function IL(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function VE(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function AFe(e,t){const n=IL(e.variables),r=n?VE(t,n):"",i=IL(e.dark),s=IL(e.light),o=i?VE(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=s?VE(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function rm({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&Pd({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Ere(e,t){return rm({color:e.colors[e.primaryColor][w2(e,t)],theme:e,autoContrast:null})}function CI({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=w2(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:I1(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:I1(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:I1(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const s=w2(e,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:I1(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:I1(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:I1(e.colors[t][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...o}:o}function kFe(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function R1(e,t,n){ti(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const Wge=e=>{const t=w2(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Le(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Ere(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Ere(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};R1(r.variables,e.breakpoints,"breakpoint"),R1(r.variables,e.spacing,"spacing"),R1(r.variables,e.fontSizes,"font-size"),R1(r.variables,e.lineHeights,"line-height"),R1(r.variables,e.shadows,"shadow"),R1(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),ti(e.colors).forEach(s=>{const o=e.colors[s];if(kFe(o)){Object.assign(r.light,CI({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,CI({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,l)=>{r.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(r.light,CI({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,CI({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return ti(i).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=i[s].fontSize,r.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||e.headings.fontWeight}),r};function IFe({theme:e,generator:t}){const n=Wge(e),r=t==null?void 0:t(e);return r?Rq(n,r):n}const RL=Wge(Mq);function RFe(e){const t={variables:{},light:{},dark:{}};return ti(e.variables).forEach(n=>{RL.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),ti(e.light).forEach(n=>{RL.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),ti(e.dark).forEach(n=>{RL.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function DFe(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function Gge({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Vi(),r=x$(),i=lFe(),s=IFe({theme:n,generator:i}),o=e===":root"&&t,a=o?RFe(s):s,l=AFe(a,e);return l?_.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${o?"":DFe(e)}`}}):null}Gge.displayName="@mantine/CssVariables";function PFe(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function D1(e,t){var i;const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)").matches,r=e!=="auto"?e:n?"dark":"light";(i=t())==null||i.setAttribute("data-mantine-color-scheme",r)}function OFe({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=R.useRef(null),[s,o]=R.useState(()=>e.get(t)),a=r||s,l=R.useCallback(c=>{r||(D1(c,n),o(c),e.set(c))},[e.set,a,r]),u=R.useCallback(()=>{o(t),D1(t,n),e.clear()},[e.clear,t]);return R.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),db(()=>{D1(e.get(t),n)},[]),R.useEffect(()=>{var d;if(r)return D1(r,n),()=>{};r===void 0&&D1(s,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const c=f=>{s==="auto"&&D1(f.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",c),()=>{var f;return(f=i.current)==null?void 0:f.removeEventListener("change",c)}},[s,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function NFe({respectReducedMotion:e,getRootElement:t}){db(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}PFe();function Yge({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=_Fe(),defaultColorScheme:c="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:p}){const{colorScheme:m,setColorScheme:g,clearColorScheme:y}=OFe({defaultColorScheme:c,forceColorScheme:h,manager:u,getRootElement:d});return NFe({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:d}),_.jsx($q.Provider,{value:{colorScheme:m,setColorScheme:g,clearColorScheme:y,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:p},children:_.jsxs(Vge,{theme:e,children:[o&&_.jsx(Gge,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&_.jsx(TFe,{}),t]})})}Yge.displayName="@mantine/core/MantineProvider";function uh({classNames:e,styles:t,props:n,stylesCtx:r}){const i=Vi();return{resolvedClassNames:w$({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:D3({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const $Fe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function MFe({theme:e,options:t,unstyled:n}){return kt((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||$Fe[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function FFe({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return w$({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function Cre({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return w$({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function LFe({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function jFe({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function BFe({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function zFe({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(s=>{var o,a;return(a=w$({theme:t,classNames:(o=t.components[s])==null?void 0:o.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function UFe({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function HFe({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:p}){return kt(MFe({theme:e,options:t,unstyled:a||h}),zFe({theme:e,themeName:n,selector:r,props:c,stylesCtx:d}),UFe({options:t,classes:o,selector:r,unstyled:a}),Cre({selector:r,stylesCtx:d,theme:e,classNames:s,props:c}),Cre({selector:r,stylesCtx:d,theme:e,classNames:p,props:c}),FFe({selector:r,stylesCtx:d,options:t,props:c,theme:e}),LFe({rootSelector:u,selector:r,className:l}),jFe({selector:r,classes:o,unstyled:a||h}),f&&!h&&BFe({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function qFe({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(s=>{var o;return D3({theme:e,styles:(o=e.components[s])==null?void 0:o.styles,props:n,stylesCtx:r})[i]}).reduce((s,o)=>({...s,...o}),{})}function YB({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...YB({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function VFe(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...dg(n[r])}}),t),{})}function WFe({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:s,themeName:o,headless:a}){var l;return(l=VFe([a?{}:t==null?void 0:t(n,r,i),...o.map(u=>{var c,d,f;return(f=(d=(c=n.components)==null?void 0:c[u])==null?void 0:d.vars)==null?void 0:f.call(d,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:l[s]}function GFe({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:s,rootSelector:o,styles:a,style:l,vars:u,varsResolver:c,headless:d,withStylesTransform:f}){return{...!f&&qFe({theme:e,themeName:t,props:i,stylesCtx:s,selector:n}),...!f&&D3({theme:e,styles:a,props:i,stylesCtx:s})[n],...!f&&D3({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:s})[n],...WFe({theme:e,props:i,stylesCtx:s,vars:u,varsResolver:c,selector:n,themeName:t,headless:d}),...o===n?YB({style:l,theme:e}):null,...YB({style:r==null?void 0:r.style,theme:e})}}function YFe({props:e,stylesCtx:t,themeName:n}){var o;const r=Vi(),i=(o=hFe())==null?void 0:o();return{getTransformedStyles:a=>i?[...a.map(u=>i(u,{props:e,theme:r,ctx:t})),...n.map(u=>{var c;return i((c=r.components[u])==null?void 0:c.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function St({name:e,classes:t,props:n,stylesCtx:r,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const f=Vi(),h=uFe(),p=cFe(),m=dFe(),g=(Array.isArray(e)?e:[e]).filter(w=>w),{withStylesTransform:y,getTransformedStyles:v}=YFe({props:n,stylesCtx:r,themeName:g});return(w,E)=>({className:HFe({theme:f,options:E,themeName:g,selector:w,classNamesPrefix:h,classNames:l,classes:t,unstyled:a,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:p,headless:m,transformedStyles:v([E==null?void 0:E.styles,u])}),style:GFe({theme:f,themeName:g,selector:w,options:E,props:n,stylesCtx:r,rootSelector:o,styles:u,style:s,vars:c,varsResolver:d,headless:m,withStylesTransform:y})})}function KFe(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, white ${t*100}%)`;const{r:n,g:r,b:i,a:s}=_$(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function hg(e,t){return typeof e=="boolean"?e:t.autoContrast}function Sre(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function XFe({keepTransitions:e}={}){const t=R.useRef(I3),n=R.useRef(-1),r=R.useContext($q),i=x$(),s=R.useRef(i==null?void 0:i());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const o=d=>{r.setColorScheme(d),t.current=e?()=>{}:Sre(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var f;(f=t.current)==null||f.call(t)},10)},a=()=>{r.clearColorScheme(),t.current=e?()=>{}:Sre(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var d;(d=t.current)==null||d.call(t)},10)},l=L5e("light",{getInitialValueInEffect:!1}),u=r.colorScheme==="auto"?l:r.colorScheme,c=R.useCallback(()=>o(u==="light"?"dark":"light"),[o,u]);return R.useEffect(()=>()=>{var d;(d=t.current)==null||d.call(t),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:o,clearColorScheme:a,toggleColorScheme:c}}function Ne(e,t,n){var o;const r=Vi(),i=(o=r.components[e])==null?void 0:o.defaultProps,s=typeof i=="function"?i(r):i;return{...t,...s,...dg(n)}}function DL(e){return ti(e).reduce((t,n)=>e[n]!==void 0?`${t}${S5e(n)}:${e[n]};`:t,"").trim()}function QFe({selector:e,styles:t,media:n,container:r}){const i=t?DL(t):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${DL(a.styles)}}}`):[],o=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${DL(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${s.join("")}${o.join("")}`.trim()}function fb(e){const t=x$();return _.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:QFe(e)}})}function hb(e){const{m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:w,bg:E,c:C,opacity:S,ff:T,fz:A,fw:I,lts:D,ta:O,lh:M,fs:$,tt:L,td:z,w:B,miw:W,maw:V,h:X,mih:U,mah:F,bgsz:G,bgp:q,bgr:Y,bga:J,pos:te,top:ue,left:se,bottom:ne,right:fe,inset:ee,display:ie,flex:he,hiddenFrom:ye,visibleFrom:Ce,lightHidden:Re,darkHidden:De,sx:be,...je}=e;return{styleProps:dg({m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:w,bg:E,c:C,opacity:S,ff:T,fz:A,fw:I,lts:D,ta:O,lh:M,fs:$,tt:L,td:z,w:B,miw:W,maw:V,h:X,mih:U,mah:F,bgsz:G,bgp:q,bgr:Y,bga:J,pos:te,top:ue,left:se,bottom:ne,right:fe,inset:ee,display:ie,flex:he,hiddenFrom:ye,visibleFrom:Ce,lightHidden:Re,darkHidden:De,sx:be}),rest:je}}const JFe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Lq(e,t){const n=Pd({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function ZFe(e,t){const n=Pd({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:Lq(e,t)}function eLe(e,t){if(typeof e=="number")return Le(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(o=>o.trim()!=="");let s=`${Le(n)}`;return r&&(s+=` ${r}`),i.length>0&&(s+=` ${Lq(i.join(" "),t)}`),s.trim()}return e}const Tre={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function tLe(e){return typeof e=="string"&&e in Tre?Tre[e]:e}const nLe=["h1","h2","h3","h4","h5","h6"];function rLe(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&nLe.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Le(e):e}function iLe(e){return e}const sLe=["h1","h2","h3","h4","h5","h6"];function oLe(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&sLe.includes(e)?`var(--mantine-${e}-line-height)`:e}function aLe(e){return typeof e=="number"?Le(e):e}function lLe(e,t){if(typeof e=="number")return Le(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Le(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const PL={color:Lq,textColor:ZFe,fontSize:rLe,spacing:lLe,identity:iLe,size:aLe,lineHeight:oLe,fontFamily:tLe,border:eLe};function Are(e){return e.replace("(min-width: ","").replace("em)","")}function uLe({media:e,...t}){const r=Object.keys(e).sort((i,s)=>Number(Are(i))-Number(Are(s))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function cLe(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function dLe(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function fLe(e){return typeof e=="object"&&e!==null?ti(e).filter(t=>t!=="base"):[]}function hLe(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function Kge({styleProps:e,data:t,theme:n}){return uLe(ti(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const s=t[i],o=Array.isArray(s.property)?s.property:[s.property],a=dLe(e[i]);if(!cLe(e[i]))return o.forEach(u=>{r.inlineStyles[u]=PL[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=fLe(e[i]);return o.forEach(u=>{a&&(r.styles[u]=PL[s.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:PL[s.type](hLe(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function DT(){return`__m__-${R.useId().replace(/:/g,"")}`}function jq(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...jq(r,t)}),{}):typeof e=="function"?e(t):e??{}}function Xge(e){return e.startsWith("data-")?e:`data-${e}`}function pLe(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[Xge(n)]=e[n]),t},{})}function Qge(e){return e?typeof e=="string"?{[Xge(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...Qge(n)}),{}):pLe(e):null}function KB(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...KB(r,t)}),{}):typeof e=="function"?e(t):e??{}}function mLe({theme:e,style:t,vars:n,styleProps:r}){const i=KB(t,e),s=KB(n,e);return{...i,...s,...r}}const Jge=R.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,__size:f,...h},p)=>{var A;const m=Vi(),g=e||"div",{styleProps:y,rest:v}=hb(h),w=fFe(),E=(A=w==null?void 0:w())==null?void 0:A(y.sx),C=DT(),S=Kge({styleProps:y,theme:m,data:JFe}),T={ref:p,style:mLe({theme:m,style:t,vars:n,styleProps:S.inlineStyles}),className:kt(r,E,{[C]:S.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":Oge(o)?void 0:o||void 0,size:f,...Qge(s),...v};return _.jsxs(_.Fragment,{children:[S.hasResponsiveStyles&&_.jsx(fb,{selector:`.${C}`,styles:S.styles,media:S.media}),typeof d=="function"?d(T):_.jsx(g,{...T})]})});Jge.displayName="@mantine/core/Box";const Se=Jge;function Zge(e){return e}function gLe(e){const t=e;return n=>{const r=R.forwardRef((i,s)=>_.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function We(e){const t=R.forwardRef(e);return t.extend=Zge,t.withProps=n=>{const r=R.forwardRef((i,s)=>_.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function os(e){const t=R.forwardRef(e);return t.withProps=n=>{const r=R.forwardRef((i,s)=>_.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=Zge,t}const yLe=R.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Ga(){return R.useContext(yLe)}var PT=Sge();const qC=ao(PT);function vLe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function OL(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const WE=typeof window<"u"&&window.requestAnimationFrame;function bLe({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=R.useRef(null),s=0,o={display:"none",height:0,overflow:"hidden"},[a,l]=R.useState(r?{}:o),u=p=>{PT.flushSync(()=>l(p))},c=p=>{u(m=>({...m,...p}))};function d(p){const m=e||vLe(p);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}vd(()=>{typeof WE=="function"&&WE(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),WE(()=>{const p=OL(i);c({...d(p),height:p})})}:()=>{const p=OL(i);c({...d(p),willChange:"height",height:p}),WE(()=>c({height:s,overflow:"hidden"}))})},[r]);const f=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=OL(i);m===a.height?u({}):c({height:m}),n()}else a.height===s&&(u(o),n())};function h({style:p={},refKey:m="ref",...g}={}){const y=g[m];return{"aria-hidden":!r,...g,[m]:Uge(i,y),onTransitionEnd:f,style:{boxSizing:"border-box",...p,...a}}}return h}const wLe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},im=We((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:s,style:o,onTransitionEnd:a,animateOpacity:l,...u}=Ne("Collapse",wLe,e),c=Vi(),d=v$(),h=(c.respectReducedMotion?d:!1)?0:i,p=bLe({opened:r,transitionDuration:h,transitionTimingFunction:s,onTransitionEnd:a});return h===0?r?_.jsx(Se,{...u,children:n}):null:_.jsx(Se,{...p({style:{opacity:r||!l?1:0,transition:l?`opacity ${h}ms ${s}`:"none",...jq(o,c)},ref:t,...u}),children:n})});im.displayName="@mantine/core/Collapse";const[xLe,ac]=ms("ScrollArea.Root component was not found in tree");function fx(e,t){const n=d0(t);db(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const _Le=R.forwardRef((e,t)=>{const{style:n,...r}=e,i=ac(),[s,o]=R.useState(0),[a,l]=R.useState(0),u=!!(s&&a);return fx(i.scrollbarX,()=>{var d;const c=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),fx(i.scrollbarY,()=>{var d;const c=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(c),o(c)}),u?_.jsx("div",{...r,ref:t,style:{...n,width:s,height:a}}):null}),ELe=R.forwardRef((e,t)=>{const n=ac(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?_.jsx(_Le,{...e,ref:t}):null}),CLe={scrollHideDelay:1e3,type:"hover"},eye=R.forwardRef((e,t)=>{const n=Ne("ScrollAreaRoot",CLe,e),{type:r,scrollHideDelay:i,scrollbars:s,...o}=n,[a,l]=R.useState(null),[u,c]=R.useState(null),[d,f]=R.useState(null),[h,p]=R.useState(null),[m,g]=R.useState(null),[y,v]=R.useState(0),[w,E]=R.useState(0),[C,S]=R.useState(!1),[T,A]=R.useState(!1),I=Ns(t,D=>l(D));return _.jsx(xLe,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:C,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:T,onScrollbarYEnabledChange:A,onCornerWidthChange:v,onCornerHeightChange:E},children:_.jsx(Se,{...o,ref:I,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${y}px`,"--sa-corner-height":s!=="xy"?"0px":`${w}px`}})})});eye.displayName="@mantine/core/ScrollAreaRoot";function tye(e,t){const n=e/t;return Number.isNaN(n)?0:n}function E$(e){const t=tye(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function nye(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function SLe(e,[t,n]){return Math.min(n,Math.max(t,e))}function kre(e,t,n="ltr"){const r=E$(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],u=SLe(e,l);return nye([0,o],[0,a])(u)}function TLe(e,t,n,r="ltr"){const i=E$(n),s=i/2,o=t||s,a=i-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return nye([l,u],d)(e)}function rye(e,t){return e>0&&e<t}function P3(e){return e?parseInt(e,10):0}function dv(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[ALe,iye]=ms("ScrollAreaScrollbar was not found in tree"),sye=R.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=e,f=ac(),[h,p]=R.useState(null),m=Ns(t,A=>p(A)),g=R.useRef(null),y=R.useRef(""),{viewport:v}=f,w=n.content-n.viewport,E=d0(u),C=d0(a),S=y$(c,10),T=A=>{if(g.current){const I=A.clientX-g.current.left,D=A.clientY-g.current.top;l({x:I,y:D})}};return R.useEffect(()=>{const A=I=>{const D=I.target;(h==null?void 0:h.contains(D))&&E(I,w)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[v,h,w,E]),R.useEffect(C,[n,C]),fx(h,S),fx(f.content,S),_.jsx(ALe,{value:{scrollbar:h,hasThumb:r,onThumbChange:d0(i),onThumbPointerUp:d0(s),onThumbPositionChange:C,onThumbPointerDown:d0(o)},children:_.jsx("div",{...d,ref:m,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:dv(e.onPointerDown,A=>{A.preventDefault(),A.button===0&&(A.target.setPointerCapture(A.pointerId),g.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T(A))}),onPointerMove:dv(e.onPointerMove,T),onPointerUp:dv(e.onPointerUp,A=>{A.preventDefault();const I=A.target;I.hasPointerCapture(A.pointerId)&&I.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=y.current,g.current=null})})})}),oye=R.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=ac(),[a,l]=R.useState(),u=R.useRef(null),c=Ns(t,u,o.onScrollbarXChange);return R.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),_.jsx(sye,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${E$(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),rye(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:P3(a.paddingLeft),paddingEnd:P3(a.paddingRight)}})}})});oye.displayName="@mantine/core/ScrollAreaScrollbarX";const aye=R.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=ac(),[a,l]=R.useState(),u=R.useRef(null),c=Ns(t,u,o.onScrollbarYChange);return R.useEffect(()=>{u.current&&l(window.getComputedStyle(u.current))},[]),_.jsx(sye,{...s,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${E$(n)}px`,...i},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),rye(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:P3(a.paddingTop),paddingEnd:P3(a.paddingBottom)}})}})});aye.displayName="@mantine/core/ScrollAreaScrollbarY";const C$=R.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=Ga(),s=ac(),o=R.useRef(null),a=R.useRef(0),[l,u]=R.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=tye(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>{o.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,p)=>TLe(h,a.current,l,p);return n==="horizontal"?_.jsx(oye,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=kre(h,l,i);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,i))}}):n==="vertical"?_.jsx(aye,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=kre(h,l);l.scrollbar.size===0?o.current.style.setProperty("--thumb-opacity","0"):o.current.style.setProperty("--thumb-opacity","1"),o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null});C$.displayName="@mantine/core/ScrollAreaScrollbarVisible";const Bq=R.forwardRef((e,t)=>{const n=ac(),{forceMount:r,...i}=e,[s,o]=R.useState(!1),a=e.orientation==="horizontal",l=y$(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:c)}},10);return fx(n.viewport,l),fx(n.content,l),r||s?_.jsx(C$,{"data-state":s?"visible":"hidden",...i,ref:t}):null});Bq.displayName="@mantine/core/ScrollAreaScrollbarAuto";const lye=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ac(),[s,o]=R.useState(!1);return R.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},c=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||s?_.jsx(Bq,{"data-state":s?"visible":"hidden",...r,ref:t}):null});lye.displayName="@mantine/core/ScrollAreaScrollbarHover";const kLe=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ac(),s=e.orientation==="horizontal",[o,a]=R.useState("hidden"),l=y$(()=>a("idle"),100);return R.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay]),R.useEffect(()=>{const{viewport:u}=i,c=s?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(a("scrolling"),l()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,s,l]),n||o!=="hidden"?_.jsx(C$,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:dv(e.onPointerEnter,()=>a("interacting")),onPointerLeave:dv(e.onPointerLeave,()=>a("idle"))}):null}),XB=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ac(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return R.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?_.jsx(lye,{...r,ref:t,forceMount:n}):i.type==="scroll"?_.jsx(kLe,{...r,ref:t,forceMount:n}):i.type==="auto"?_.jsx(Bq,{...r,ref:t,forceMount:n}):i.type==="always"?_.jsx(C$,{...r,ref:t}):null});XB.displayName="@mantine/core/ScrollAreaScrollbar";function ILe(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const uye=R.forwardRef((e,t)=>{const{style:n,...r}=e,i=ac(),s=iye(),{onThumbPositionChange:o}=s,a=Ns(t,c=>s.onThumbChange(c)),l=R.useRef(void 0),u=y$(()=>{l.current&&(l.current(),l.current=void 0)},100);return R.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const f=ILe(c,o);l.current=f,o()}};return o(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,o]),_.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:dv(e.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),h=c.clientX-f.left,p=c.clientY-f.top;s.onThumbPointerDown({x:h,y:p})}),onPointerUp:dv(e.onPointerUp,s.onThumbPointerUp)})});uye.displayName="@mantine/core/ScrollAreaThumb";const QB=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=iye();return n||i.hasThumb?_.jsx(uye,{ref:t,...r}):null});QB.displayName="@mantine/core/ScrollAreaThumb";const cye=R.forwardRef(({children:e,style:t,...n},r)=>{const i=ac(),s=Ns(r,i.onViewportChange);return _.jsx(Se,{...n,ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:_.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});cye.displayName="@mantine/core/ScrollAreaViewport";var zq={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const dye={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},RLe=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":Le(t)}}),Fp=We((e,t)=>{const n=Ne("ScrollArea",dye,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:g,scrollbars:y,onBottomReached:v,onTopReached:w,...E}=n,[C,S]=R.useState(!1),T=St({name:"ScrollArea",props:n,classes:zq,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:RLe});return _.jsxs(eye,{type:c==="never"?"always":c,scrollHideDelay:d,ref:t,scrollbars:y,...T("root"),...E,children:[_.jsx(cye,{...f,...T("viewport",{style:f==null?void 0:f.style}),ref:h,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":y||void 0,onScroll:A=>{var M;(M=f==null?void 0:f.onScroll)==null||M.call(f,A),p==null||p({x:A.currentTarget.scrollLeft,y:A.currentTarget.scrollTop});const{scrollTop:I,scrollHeight:D,clientHeight:O}=A.currentTarget;I-(D-O)>=0&&(v==null||v()),I===0&&(w==null||w())},children:m}),(y==="xy"||y==="x")&&_.jsx(XB,{...T("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:_.jsx(QB,{...T("thumb")})}),(y==="xy"||y==="y")&&_.jsx(XB,{...T("scrollbar"),orientation:"vertical","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:_.jsx(QB,{...T("thumb")})}),_.jsx(ELe,{...T("corner"),"data-hovered":C||void 0,"data-hidden":c==="never"||void 0})]})});Fp.displayName="@mantine/core/ScrollArea";const Uq=We((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:s,scrollHideDelay:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,scrollbars:m,style:g,vars:y,onBottomReached:v,onTopReached:w,...E}=Ne("ScrollAreaAutosize",dye,e);return _.jsx(Se,{...E,ref:t,style:[{display:"flex",overflow:"auto"},g],children:_.jsx(Se,{style:{display:"flex",flexDirection:"column",flex:1},children:_.jsx(Fp,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,vars:y,scrollbars:m,onBottomReached:v,onTopReached:w,children:n})})})});Fp.classes=zq;Uq.displayName="@mantine/core/ScrollAreaAutosize";Uq.classes=zq;Fp.Autosize=Uq;var fye={root:"m_87cf2631"};const DLe={__staticSelector:"UnstyledButton"},ts=os((e,t)=>{const n=Ne("UnstyledButton",DLe,e),{className:r,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:l,style:u,...c}=n,d=St({name:s,props:n,classes:fye,className:r,style:u,classNames:a,styles:l,unstyled:o});return _.jsx(Se,{...d("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});ts.classes=fye;ts.displayName="@mantine/core/UnstyledButton";var hye={root:"m_515a97f8"};const PLe={},Hq=We((e,t)=>{const n=Ne("VisuallyHidden",PLe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,...u}=n,c=St({name:"VisuallyHidden",classes:hye,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a});return _.jsx(Se,{component:"span",ref:t,...c("root"),...u})});Hq.classes=hye;Hq.displayName="@mantine/core/VisuallyHidden";var pye={root:"m_1b7284a3"};const OLe={},NLe=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:vr(t),"--paper-shadow":Pq(n)}}),pb=os((e,t)=>{const n=Ne("Paper",OLe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,withBorder:l,vars:u,radius:c,shadow:d,variant:f,mod:h,...p}=n,m=St({name:"Paper",props:n,classes:pye,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:NLe});return _.jsx(Se,{ref:t,mod:[{"data-with-border":l},h],...m("root"),variant:f,...p})});pb.classes=pye;pb.displayName="@mantine/core/Paper";function S$(){return typeof window<"u"}function mye(e){return gye(e)?(e.nodeName||"").toLowerCase():"#document"}function f_(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $Le(e){var t;return(t=(gye(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gye(e){return S$()?e instanceof Node||e instanceof f_(e).Node:!1}function vl(e){return S$()?e instanceof Element||e instanceof f_(e).Element:!1}function qq(e){return S$()?e instanceof HTMLElement||e instanceof f_(e).HTMLElement:!1}function JB(e){return!S$()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof f_(e).ShadowRoot}function MLe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ire(e){return["html","body","#document"].includes(mye(e))}function FLe(e){return f_(e).getComputedStyle(e)}function LLe(e){if(mye(e)==="html")return e;const t=e.assignedSlot||e.parentNode||JB(e)&&e.host||$Le(e);return JB(t)?t.host:t}function Rre(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function x2(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&JB(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function yye(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function vye(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function jLe(e){return ULe()?!1:!Dre()&&e.width===0&&e.height===0||Dre()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function BLe(){return/apple/i.test(navigator.vendor)}function Dre(){const e=/android/i;return e.test(yye())||e.test(vye())}function zLe(){return yye().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function ULe(){return vye().includes("jsdom/")}function ZB(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function HLe(e){return"nativeEvent"in e}function qLe(e){return e.matches("html,body")}function Xy(e){return(e==null?void 0:e.ownerDocument)||document}function NL(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function pw(e){return"composedPath"in e?e.composedPath()[0]:e.target}const VLe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function WLe(e){return qq(e)&&e.matches(VLe)}const Jl=Math.min,na=Math.max,O3=Math.round,SI=Math.floor,U0=e=>({x:e,y:e}),GLe={left:"right",right:"left",bottom:"top",top:"bottom"},YLe={start:"end",end:"start"};function e7(e,t,n){return na(e,Jl(t,n))}function Lp(e,t){return typeof e=="function"?e(t):e}function bd(e){return e.split("-")[0]}function h_(e){return e.split("-")[1]}function Vq(e){return e==="x"?"y":"x"}function Wq(e){return e==="y"?"height":"width"}function mb(e){return["top","bottom"].includes(bd(e))?"y":"x"}function Gq(e){return Vq(mb(e))}function KLe(e,t,n){n===void 0&&(n=!1);const r=h_(e),i=Gq(e),s=Wq(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=N3(o)),[o,N3(o)]}function XLe(e){const t=N3(e);return[t7(e),t,t7(t)]}function t7(e){return e.replace(/start|end/g,t=>YLe[t])}function QLe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function JLe(e,t,n,r){const i=h_(e);let s=QLe(bd(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(t7)))),s}function N3(e){return e.replace(/left|right|bottom|top/g,t=>GLe[t])}function ZLe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Yq(e){return typeof e!="number"?ZLe(e):{top:e,right:e,bottom:e,left:e}}function hx(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Pre(e,t,n){let{reference:r,floating:i}=e;const s=mb(t),o=Gq(t),a=Wq(o),l=bd(t),u=s==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(h_(t)){case"start":h[o]-=f*(n&&u?-1:1);break;case"end":h[o]+=f*(n&&u?-1:1);break}return h}const e8e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=Pre(u,r,l),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:w,data:E,reset:C}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=v??c,d=w??d,h={...h,[g]:{...h[g],...E}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:c,y:d}=Pre(u,f,l)),m=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function Kq(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Lp(t,e),p=Yq(h),g=a[f?d==="floating"?"reference":"floating":d],y=hx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},C=hx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:w,strategy:l}):v);return{top:(y.top-C.top+p.top)/E.y,bottom:(C.bottom-y.bottom+p.bottom)/E.y,left:(y.left-C.left+p.left)/E.x,right:(C.right-y.right+p.right)/E.x}}const t8e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Lp(e,t)||{};if(u==null)return{};const d=Yq(c),f={x:n,y:r},h=Gq(i),p=Wq(h),m=await o.getDimensions(u),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",w=g?"clientHeight":"clientWidth",E=s.reference[p]+s.reference[h]-f[h]-s.floating[p],C=f[h]-s.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=S?S[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(S)))&&(T=a.floating[w]||s.floating[p]);const A=E/2-C/2,I=T/2-m[p]/2-1,D=Jl(d[y],I),O=Jl(d[v],I),M=D,$=T-m[p]-O,L=T/2-m[p]/2+A,z=e7(M,L,$),B=!l.arrow&&h_(i)!=null&&L!==z&&s.reference[p]/2-(L<M?D:O)-m[p]/2<0,W=B?L<M?L-M:L-$:0;return{[h]:f[h]+W,data:{[h]:z,centerOffset:L-z-W,...B&&{alignmentOffset:W}},reset:B}}}),n8e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Lp(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=bd(i),v=bd(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=f||(v||!m?[N3(a)]:XLe(a));!f&&p!=="none"&&E.push(...JLe(a,m,p,w));const C=[a,...E],S=await Kq(t,g),T=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&T.push(S[y]),d){const M=KLe(i,o,w);T.push(S[M[0]],S[M[1]])}if(A=[...A,{placement:i,overflows:T}],!T.every(M=>M<=0)){var I,D;const M=(((I=s.flip)==null?void 0:I.index)||0)+1,$=C[M];if($)return{data:{index:M,overflows:A},reset:{placement:$}};let L=(D=A.filter(z=>z.overflows[0]<=0).sort((z,B)=>z.overflows[1]-B.overflows[1])[0])==null?void 0:D.placement;if(!L)switch(h){case"bestFit":{var O;const z=(O=A.map(B=>[B.placement,B.overflows.filter(W=>W>0).reduce((W,V)=>W+V,0)]).sort((B,W)=>B[1]-W[1])[0])==null?void 0:O[0];z&&(L=z);break}case"initialPlacement":L=a;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function bye(e){const t=Jl(...e.map(s=>s.left)),n=Jl(...e.map(s=>s.top)),r=na(...e.map(s=>s.right)),i=na(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function r8e(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>hx(bye(i)))}const i8e=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:l,y:u}=Lp(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),d=r8e(c),f=hx(bye(c)),h=Yq(a);function p(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(g=>l>g.left-h.left&&l<g.right+h.right&&u>g.top-h.top&&u<g.bottom+h.bottom)||f;if(d.length>=2){if(mb(n)==="y"){const D=d[0],O=d[d.length-1],M=bd(n)==="top",$=D.top,L=O.bottom,z=M?D.left:O.left,B=M?D.right:O.right,W=B-z,V=L-$;return{top:$,bottom:L,left:z,right:B,width:W,height:V,x:z,y:$}}const g=bd(n)==="left",y=na(...d.map(D=>D.right)),v=Jl(...d.map(D=>D.left)),w=d.filter(D=>g?D.left===v:D.right===y),E=w[0].top,C=w[w.length-1].bottom,S=v,T=y,A=T-S,I=C-E;return{top:E,bottom:C,left:S,right:T,width:A,height:I,x:S,y:E}}return f}const m=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function s8e(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=bd(n),a=h_(n),l=mb(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,d=Lp(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const o8e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await s8e(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},a8e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...l}=Lp(e,t),u={x:n,y:r},c=await Kq(t,l),d=mb(bd(i)),f=Vq(d);let h=u[f],p=u[d];if(s){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=h+c[g],w=h-c[y];h=e7(v,h,w)}if(o){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=p+c[g],w=p-c[y];p=e7(v,p,w)}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},l8e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Lp(e,t),c={x:n,y:r},d=mb(i),f=Vq(d);let h=c[f],p=c[d];const m=Lp(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=f==="y"?"height":"width",E=s.reference[f]-s.floating[w]+g.mainAxis,C=s.reference[f]+s.reference[w]-g.mainAxis;h<E?h=E:h>C&&(h=C)}if(u){var y,v;const w=f==="y"?"width":"height",E=["top","left"].includes(bd(i)),C=s.reference[d]-s.floating[w]+(E&&((y=o.offset)==null?void 0:y[d])||0)+(E?0:g.crossAxis),S=s.reference[d]+s.reference[w]+(E?0:((v=o.offset)==null?void 0:v[d])||0)-(E?g.crossAxis:0);p<C?p=C:p>S&&(p=S)}return{[f]:h,[d]:p}}}},u8e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=Lp(e,t),l=await Kq(t,a),u=bd(n),c=h_(n),d=mb(n)==="y",{width:f,height:h}=r.floating;let p,m;u==="top"||u==="bottom"?(p=u,m=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=u,p=c==="end"?"top":"bottom");const g=h-l.top-l.bottom,y=f-l.left-l.right,v=Jl(h-l[p],g),w=Jl(f-l[m],y),E=!t.middlewareData.shift;let C=v,S=w;if(d?S=c||E?Jl(w,y):y:C=c||E?Jl(v,g):g,E&&!c){const A=na(l.left,0),I=na(l.right,0),D=na(l.top,0),O=na(l.bottom,0);d?S=f-2*(A!==0||I!==0?A+I:na(l.left,l.right)):C=h-2*(D!==0||O!==0?D+O:na(l.top,l.bottom))}await o({...t,availableWidth:S,availableHeight:C});const T=await i.getDimensions(s.floating);return f!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function p_(e){return wye(e)?(e.nodeName||"").toLowerCase():"#document"}function tu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sm(e){var t;return(t=(wye(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wye(e){return e instanceof Node||e instanceof tu(e).Node}function Gf(e){return e instanceof Element||e instanceof tu(e).Element}function Yf(e){return e instanceof HTMLElement||e instanceof tu(e).HTMLElement}function Ore(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tu(e).ShadowRoot}function OT(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=wd(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function c8e(e){return["table","td","th"].includes(p_(e))}function Xq(e){const t=Qq(),n=wd(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function d8e(e){let t=H0(e);for(;Yf(t)&&!px(t);){if(Xq(t))return t;t=H0(t)}return null}function Qq(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function px(e){return["html","body","#document"].includes(p_(e))}function wd(e){return tu(e).getComputedStyle(e)}function T$(e){return Gf(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function H0(e){if(p_(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ore(e)&&e.host||sm(e);return Ore(t)?t.host:t}function xye(e){const t=H0(e);return px(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yf(t)&&OT(t)?t:xye(t)}function Ep(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=xye(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=tu(i);return s?t.concat(o,o.visualViewport||[],OT(i)?i:[],o.frameElement&&n?Ep(o.frameElement):[]):t.concat(i,Ep(i,[],n))}function _ye(e){const t=wd(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Yf(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=O3(n)!==s||O3(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Jq(e){return Gf(e)?e:e.contextElement}function Mw(e){const t=Jq(e);if(!Yf(t))return U0(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=_ye(t);let o=(s?O3(n.width):n.width)/r,a=(s?O3(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const f8e=U0(0);function Eye(e){const t=tu(e);return!Qq()||!t.visualViewport?f8e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function h8e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tu(e)?!1:t}function Tv(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Jq(e);let o=U0(1);t&&(r?Gf(r)&&(o=Mw(r)):o=Mw(e));const a=h8e(s,n,r)?Eye(s):U0(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s){const f=tu(s),h=r&&Gf(r)?tu(r):r;let p=f,m=p.frameElement;for(;m&&r&&h!==p;){const g=Mw(m),y=m.getBoundingClientRect(),v=wd(m),w=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,E=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=w,u+=E,p=tu(m),m=p.frameElement}}return hx({width:c,height:d,x:l,y:u})}const p8e=[":popover-open",":modal"];function Zq(e){return p8e.some(t=>{try{return e.matches(t)}catch{return!1}})}function m8e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=sm(r),a=t?Zq(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=U0(1);const c=U0(0),d=Yf(r);if((d||!d&&!s)&&((p_(r)!=="body"||OT(o))&&(l=T$(r)),Yf(r))){const f=Tv(r);u=Mw(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function g8e(e){return Array.from(e.getClientRects())}function Cye(e){return Tv(sm(e)).left+T$(e).scrollLeft}function y8e(e){const t=sm(e),n=T$(e),r=e.ownerDocument.body,i=na(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=na(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Cye(e);const a=-n.scrollTop;return wd(r).direction==="rtl"&&(o+=na(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function v8e(e,t){const n=tu(e),r=sm(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Qq();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function b8e(e,t){const n=Tv(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Yf(e)?Mw(e):U0(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Nre(e,t,n){let r;if(t==="viewport")r=v8e(e,n);else if(t==="document")r=y8e(sm(e));else if(Gf(t))r=b8e(t,n);else{const i=Eye(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return hx(r)}function Sye(e,t){const n=H0(e);return n===t||!Gf(n)||px(n)?!1:wd(n).position==="fixed"||Sye(n,t)}function w8e(e,t){const n=t.get(e);if(n)return n;let r=Ep(e,[],!1).filter(a=>Gf(a)&&p_(a)!=="body"),i=null;const s=wd(e).position==="fixed";let o=s?H0(e):e;for(;Gf(o)&&!px(o);){const a=wd(o),l=Xq(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||OT(o)&&!l&&Sye(e,o))?r=r.filter(c=>c!==o):i=a,o=H0(o)}return t.set(e,r),r}function x8e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Zq(t)?[]:w8e(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=Nre(t,c,i);return u.top=na(d.top,u.top),u.right=Jl(d.right,u.right),u.bottom=Jl(d.bottom,u.bottom),u.left=na(d.left,u.left),u},Nre(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _8e(e){const{width:t,height:n}=_ye(e);return{width:t,height:n}}function E8e(e,t,n){const r=Yf(t),i=sm(t),s=n==="fixed",o=Tv(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=U0(0);if(r||!r&&!s)if((p_(t)!=="body"||OT(i))&&(a=T$(t)),r){const d=Tv(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=Cye(i));const u=o.left+a.scrollLeft-l.x,c=o.top+a.scrollTop-l.y;return{x:u,y:c,width:o.width,height:o.height}}function $L(e){return wd(e).position==="static"}function $re(e,t){return!Yf(e)||wd(e).position==="fixed"?null:t?t(e):e.offsetParent}function Tye(e,t){const n=tu(e);if(Zq(e))return n;if(!Yf(e)){let i=H0(e);for(;i&&!px(i);){if(Gf(i)&&!$L(i))return i;i=H0(i)}return n}let r=$re(e,t);for(;r&&c8e(r)&&$L(r);)r=$re(r,t);return r&&px(r)&&$L(r)&&!Xq(r)?n:r||d8e(e)||n}const C8e=async function(e){const t=this.getOffsetParent||Tye,n=this.getDimensions,r=await n(e.floating);return{reference:E8e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function S8e(e){return wd(e).direction==="rtl"}const T8e={convertOffsetParentRelativeRectToViewportRelativeRect:m8e,getDocumentElement:sm,getClippingRect:x8e,getOffsetParent:Tye,getElementRects:C8e,getClientRects:g8e,getDimensions:_8e,getScale:Mw,isElement:Gf,isRTL:S8e};function A8e(e,t){let n=null,r;const i=sm(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=SI(c),p=SI(i.clientWidth-(u+d)),m=SI(i.clientHeight-(c+f)),g=SI(u),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-g+"px",threshold:na(0,Jl(1,l))||1};let w=!0;function E(C){const S=C[0].intersectionRatio;if(S!==l){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(E,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(e)}return o(!0),s}function k8e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Jq(e),c=i||s?[...u?Ep(u):[],...Ep(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=u&&a?A8e(u,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,m=l?Tv(e):null;l&&g();function g(){const y=Tv(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const I8e=o8e,R8e=a8e,D8e=n8e,P8e=u8e,Mre=t8e,O8e=i8e,N8e=l8e,$8e=(e,t,n)=>{const r=new Map,i={platform:T8e,...n},s={...i.platform,_c:r};return e8e(e,t,{...i,platform:s})};var HD=typeof document<"u"?R.useLayoutEffect:R.useEffect;function $3(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!$3(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!$3(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Aye(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fre(e,t){const n=Aye(e);return Math.round(t*n)/n}function ML(e){const t=R.useRef(e);return HD(()=>{t.current=e}),t}function M8e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=R.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=R.useState(r);$3(f,r)||h(r);const[p,m]=R.useState(null),[g,y]=R.useState(null),v=R.useCallback(V=>{V!==S.current&&(S.current=V,m(V))},[]),w=R.useCallback(V=>{V!==T.current&&(T.current=V,y(V))},[]),E=s||p,C=o||g,S=R.useRef(null),T=R.useRef(null),A=R.useRef(c),I=l!=null,D=ML(l),O=ML(i),M=ML(u),$=R.useCallback(()=>{if(!S.current||!T.current)return;const V={placement:t,strategy:n,middleware:f};O.current&&(V.platform=O.current),$8e(S.current,T.current,V).then(X=>{const U={...X,isPositioned:M.current!==!1};L.current&&!$3(A.current,U)&&(A.current=U,PT.flushSync(()=>{d(U)}))})},[f,t,n,O,M]);HD(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(V=>({...V,isPositioned:!1})))},[u]);const L=R.useRef(!1);HD(()=>(L.current=!0,()=>{L.current=!1}),[]),HD(()=>{if(E&&(S.current=E),C&&(T.current=C),E&&C){if(D.current)return D.current(E,C,$);$()}},[E,C,$,D,I]);const z=R.useMemo(()=>({reference:S,floating:T,setReference:v,setFloating:w}),[v,w]),B=R.useMemo(()=>({reference:E,floating:C}),[E,C]),W=R.useMemo(()=>{const V={position:n,left:0,top:0};if(!B.floating)return V;const X=Fre(B.floating,c.x),U=Fre(B.floating,c.y);return a?{...V,transform:"translate("+X+"px, "+U+"px)",...Aye(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:U}},[n,a,B.floating,c.x,c.y]);return R.useMemo(()=>({...c,update:$,refs:z,elements:B,floatingStyles:W}),[c,$,z,B,W])}const F8e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Mre({element:r.current,padding:i}).fn(n):{}:r?Mre({element:r,padding:i}).fn(n):{}}}},kye=(e,t)=>({...I8e(e),options:[e,t]}),eV=(e,t)=>({...R8e(e),options:[e,t]}),Lre=(e,t)=>({...N8e(e),options:[e,t]}),M3=(e,t)=>({...D8e(e),options:[e,t]}),L8e=(e,t)=>({...P8e(e),options:[e,t]}),RS=(e,t)=>({...O8e(e),options:[e,t]}),Iye=(e,t)=>({...F8e(e),options:[e,t]}),Rye={...R6e},j8e=Rye.useInsertionEffect,B8e=j8e||(e=>e());function ap(e){const t=R.useRef(()=>{});return B8e(()=>{t.current=e}),R.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Nf=typeof document<"u"?R.useLayoutEffect:R.useEffect;let jre=!1,z8e=0;const Bre=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+z8e++;function U8e(){const[e,t]=R.useState(()=>jre?Bre():void 0);return Nf(()=>{e==null&&t(Bre())},[]),R.useEffect(()=>{jre=!0},[]),e}const H8e=Rye.useId,Dye=H8e||U8e;function q8e(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const V8e=R.createContext(null),W8e=R.createContext(null),tV=()=>{var e;return((e=R.useContext(V8e))==null?void 0:e.id)||null},nV=()=>R.useContext(W8e);function rV(e){return"data-floating-ui-"+e}function FL(e){const t=R.useRef(e);return Nf(()=>{t.current=e}),t}const zre=rV("safe-polygon");function qD(e,t,n){return n&&!ZB(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function G8e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:d=0,move:f=!0}=t,h=nV(),p=tV(),m=FL(u),g=FL(l),y=FL(n),v=R.useRef(),w=R.useRef(-1),E=R.useRef(),C=R.useRef(-1),S=R.useRef(!0),T=R.useRef(!1),A=R.useRef(()=>{}),I=R.useRef(!1),D=R.useCallback(()=>{var W;const V=(W=i.current.openEvent)==null?void 0:W.type;return(V==null?void 0:V.includes("mouse"))&&V!=="mousedown"},[i]);R.useEffect(()=>{if(!a)return;function W(V){let{open:X}=V;X||(clearTimeout(w.current),clearTimeout(C.current),S.current=!0,I.current=!1)}return s.on("openchange",W),()=>{s.off("openchange",W)}},[a,s]),R.useEffect(()=>{if(!a||!m.current||!n)return;function W(X){D()&&r(!1,X,"hover")}const V=Xy(o.floating).documentElement;return V.addEventListener("mouseleave",W),()=>{V.removeEventListener("mouseleave",W)}},[o.floating,n,r,a,m,D]);const O=R.useCallback(function(W,V,X){V===void 0&&(V=!0),X===void 0&&(X="hover");const U=qD(g.current,"close",v.current);U&&!E.current?(clearTimeout(w.current),w.current=window.setTimeout(()=>r(!1,W,X),U)):V&&(clearTimeout(w.current),r(!1,W,X))},[g,r]),M=ap(()=>{A.current(),E.current=void 0}),$=ap(()=>{if(T.current){const W=Xy(o.floating).body;W.style.pointerEvents="",W.removeAttribute(zre),T.current=!1}}),L=ap(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);R.useEffect(()=>{if(!a)return;function W(F){if(clearTimeout(w.current),S.current=!1,c&&!ZB(v.current)||d>0&&!qD(g.current,"open"))return;const G=qD(g.current,"open",v.current);G?w.current=window.setTimeout(()=>{y.current||r(!0,F,"hover")},G):n||r(!0,F,"hover")}function V(F){if(L())return;A.current();const G=Xy(o.floating);if(clearTimeout(C.current),I.current=!1,m.current&&i.current.floatingContext){n||clearTimeout(w.current),E.current=m.current({...i.current.floatingContext,tree:h,x:F.clientX,y:F.clientY,onClose(){$(),M(),L()||O(F,!0,"safe-polygon")}});const Y=E.current;G.addEventListener("mousemove",Y),A.current=()=>{G.removeEventListener("mousemove",Y)};return}(v.current==="touch"?!x2(o.floating,F.relatedTarget):!0)&&O(F)}function X(F){L()||i.current.floatingContext&&(m.current==null||m.current({...i.current.floatingContext,tree:h,x:F.clientX,y:F.clientY,onClose(){$(),M(),L()||O(F)}})(F))}if(vl(o.domReference)){var U;const F=o.domReference;return n&&F.addEventListener("mouseleave",X),(U=o.floating)==null||U.addEventListener("mouseleave",X),f&&F.addEventListener("mousemove",W,{once:!0}),F.addEventListener("mouseenter",W),F.addEventListener("mouseleave",V),()=>{var G;n&&F.removeEventListener("mouseleave",X),(G=o.floating)==null||G.removeEventListener("mouseleave",X),f&&F.removeEventListener("mousemove",W),F.removeEventListener("mouseenter",W),F.removeEventListener("mouseleave",V)}}},[o,a,e,c,d,f,O,M,$,r,n,y,h,g,m,i,L]),Nf(()=>{var W;if(a&&n&&(W=m.current)!=null&&W.__options.blockPointerEvents&&D()){T.current=!0;const X=o.floating;if(vl(o.domReference)&&X){var V;const U=Xy(o.floating).body;U.setAttribute(zre,"");const F=o.domReference,G=h==null||(V=h.nodesRef.current.find(q=>q.id===p))==null||(V=V.context)==null?void 0:V.elements.floating;return G&&(G.style.pointerEvents=""),U.style.pointerEvents="none",F.style.pointerEvents="auto",X.style.pointerEvents="auto",()=>{U.style.pointerEvents="",F.style.pointerEvents="",X.style.pointerEvents=""}}}},[a,n,p,o,h,m,D]),Nf(()=>{n||(v.current=void 0,I.current=!1,M(),$())},[n,M,$]),R.useEffect(()=>()=>{M(),clearTimeout(w.current),clearTimeout(C.current),$()},[a,o.domReference,M,$]);const z=R.useMemo(()=>{function W(V){v.current=V.pointerType}return{onPointerDown:W,onPointerEnter:W,onMouseMove(V){const{nativeEvent:X}=V;function U(){!S.current&&!y.current&&r(!0,X,"hover")}c&&!ZB(v.current)||n||d===0||I.current&&V.movementX**2+V.movementY**2<2||(clearTimeout(C.current),v.current==="touch"?U():(I.current=!0,C.current=window.setTimeout(U,d)))}}},[c,r,n,y,d]),B=R.useMemo(()=>({onMouseEnter(){clearTimeout(w.current)},onMouseLeave(W){L()||O(W.nativeEvent,!1)}}),[O,L]);return R.useMemo(()=>a?{reference:z,floating:B}:{},[a,z,B])}const n7=()=>{},Pye=R.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:n7,setState:n7,isInstantPhase:!1}),Oye=()=>R.useContext(Pye);function Y8e(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,s]=R.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=R.useRef(null),a=R.useCallback(l=>{s({currentId:l})},[]);return Nf(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),R.createElement(Pye.Provider,{value:R.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,a])},t)}function K8e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:s,enabled:o=!0}=t,a=s??i,l=Oye(),{currentId:u,setCurrentId:c,initialDelay:d,setState:f,timeoutMs:h}=l;return Nf(()=>{o&&u&&(f({delay:{open:1,close:qD(d,"close")}}),u!==a&&r(!1))},[o,a,r,f,u,d]),Nf(()=>{function p(){r(!1),f({delay:d,currentId:null})}if(o&&u&&!n&&u===a){if(h){const m=window.setTimeout(p,h);return()=>{clearTimeout(m)}}p()}},[o,n,f,u,a,r,d,h]),Nf(()=>{o&&(c===n7||!n||c(a))},[o,n,c,a]),l}function LL(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const X8e="data-floating-ui-focusable",Q8e={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},J8e={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ure=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Z8e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=e,{enabled:o=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:p}=t,m=nV(),g=ap(typeof l=="function"?l:()=>!1),y=typeof l=="function"?g:l,v=R.useRef(!1),w=R.useRef(!1),{escapeKey:E,outsidePress:C}=Ure(h),{escapeKey:S,outsidePress:T}=Ure(p),A=R.useRef(!1),I=ap(z=>{var B;if(!n||!o||!a||z.key!=="Escape"||A.current)return;const W=(B=s.current.floatingContext)==null?void 0:B.nodeId,V=m?LL(m.nodesRef.current,W):[];if(!E&&(z.stopPropagation(),V.length>0)){let X=!0;if(V.forEach(U=>{var F;if((F=U.context)!=null&&F.open&&!U.context.dataRef.current.__escapeKeyBubbles){X=!1;return}}),!X)return}r(!1,HLe(z)?z.nativeEvent:z,"escape-key")}),D=ap(z=>{var B;const W=()=>{var V;I(z),(V=pw(z))==null||V.removeEventListener("keydown",W)};(B=pw(z))==null||B.addEventListener("keydown",W)}),O=ap(z=>{var B;const W=v.current;v.current=!1;const V=w.current;if(w.current=!1,u==="click"&&V||W||typeof y=="function"&&!y(z))return;const X=pw(z),U="["+rV("inert")+"]",F=Xy(i.floating).querySelectorAll(U);let G=vl(X)?X:null;for(;G&&!Ire(G);){const te=LLe(G);if(Ire(te)||!vl(te))break;G=te}if(F.length&&vl(X)&&!qLe(X)&&!x2(X,i.floating)&&Array.from(F).every(te=>!x2(G,te)))return;if(qq(X)&&L){const te=X.clientWidth>0&&X.scrollWidth>X.clientWidth,ue=X.clientHeight>0&&X.scrollHeight>X.clientHeight;let se=ue&&z.offsetX>X.clientWidth;if(ue&&FLe(X).direction==="rtl"&&(se=z.offsetX<=X.offsetWidth-X.clientWidth),se||te&&z.offsetY>X.clientHeight)return}const q=(B=s.current.floatingContext)==null?void 0:B.nodeId,Y=m&&LL(m.nodesRef.current,q).some(te=>{var ue;return NL(z,(ue=te.context)==null?void 0:ue.elements.floating)});if(NL(z,i.floating)||NL(z,i.domReference)||Y)return;const J=m?LL(m.nodesRef.current,q):[];if(J.length>0){let te=!0;if(J.forEach(ue=>{var se;if((se=ue.context)!=null&&se.open&&!ue.context.dataRef.current.__outsidePressBubbles){te=!1;return}}),!te)return}r(!1,z,"outside-press")}),M=ap(z=>{var B;const W=()=>{var V;O(z),(V=pw(z))==null||V.removeEventListener(u,W)};(B=pw(z))==null||B.addEventListener(u,W)});R.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=E,s.current.__outsidePressBubbles=C;let z=-1;function B(F){r(!1,F,"ancestor-scroll")}function W(){window.clearTimeout(z),A.current=!0}function V(){z=window.setTimeout(()=>{A.current=!1},MLe()?5:0)}const X=Xy(i.floating);a&&(X.addEventListener("keydown",S?D:I,S),X.addEventListener("compositionstart",W),X.addEventListener("compositionend",V)),y&&X.addEventListener(u,T?M:O,T);let U=[];return f&&(vl(i.domReference)&&(U=Ep(i.domReference)),vl(i.floating)&&(U=U.concat(Ep(i.floating))),!vl(i.reference)&&i.reference&&i.reference.contextElement&&(U=U.concat(Ep(i.reference.contextElement)))),U=U.filter(F=>{var G;return F!==((G=X.defaultView)==null?void 0:G.visualViewport)}),U.forEach(F=>{F.addEventListener("scroll",B,{passive:!0})}),()=>{a&&(X.removeEventListener("keydown",S?D:I,S),X.removeEventListener("compositionstart",W),X.removeEventListener("compositionend",V)),y&&X.removeEventListener(u,T?M:O,T),U.forEach(F=>{F.removeEventListener("scroll",B)}),window.clearTimeout(z)}},[s,i,a,y,u,n,r,f,o,E,C,I,S,D,O,T,M]),R.useEffect(()=>{v.current=!1},[y,u]);const $=R.useMemo(()=>({onKeyDown:I,[Q8e[d]]:z=>{c&&r(!1,z.nativeEvent,"reference-press")}}),[I,r,c,d]),L=R.useMemo(()=>({onKeyDown:I,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[J8e[u]]:()=>{v.current=!0}}),[I,u]);return R.useMemo(()=>o?{reference:$,floating:L}:{},[o,$,L])}function eje(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Dye(),s=R.useRef({}),[o]=R.useState(()=>q8e()),a=tV()!=null,[l,u]=R.useState(r.reference),c=ap((h,p,m)=>{s.current.openEvent=h?p:void 0,o.emit("openchange",{open:h,event:p,reason:m,nested:a}),n==null||n(h,p,m)}),d=R.useMemo(()=>({setPositionReference:u}),[]),f=R.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return R.useMemo(()=>({dataRef:s,open:t,onOpenChange:c,elements:f,events:o,floatingId:i,refs:d}),[t,c,f,o,i,d])}function iV(e){e===void 0&&(e={});const{nodeId:t}=e,n=eje({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=R.useState(null),[a,l]=R.useState(null),c=(i==null?void 0:i.domReference)||s,d=R.useRef(null),f=nV();Nf(()=>{c&&(d.current=c)},[c]);const h=M8e({...e,elements:{...i,...a&&{reference:a}}}),p=R.useCallback(w=>{const E=vl(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(E),h.refs.setReference(E)},[h.refs]),m=R.useCallback(w=>{(vl(w)||w===null)&&(d.current=w,o(w)),(vl(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!vl(w))&&h.refs.setReference(w)},[h.refs]),g=R.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),y=R.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),v=R.useMemo(()=>({...h,...r,refs:g,elements:y,nodeId:t}),[h,g,y,t,r]);return Nf(()=>{r.dataRef.current.floatingContext=v;const w=f==null?void 0:f.nodesRef.current.find(E=>E.id===t);w&&(w.context=v)}),R.useMemo(()=>({...h,context:v,refs:g,elements:y}),[h,g,y,v])}function tje(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=R.useRef(!1),c=R.useRef(),d=R.useRef(!0);R.useEffect(()=>{if(!a)return;const h=f_(o.domReference);function p(){!n&&qq(o.domReference)&&o.domReference===Rre(Xy(o.domReference))&&(u.current=!0)}function m(){d.current=!0}return h.addEventListener("blur",p),h.addEventListener("keydown",m,!0),()=>{h.removeEventListener("blur",p),h.removeEventListener("keydown",m,!0)}},[o.domReference,n,a]),R.useEffect(()=>{if(!a)return;function h(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(u.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),R.useEffect(()=>()=>{clearTimeout(c.current)},[]);const f=R.useMemo(()=>({onPointerDown(h){jLe(h.nativeEvent)||(d.current=!1)},onMouseLeave(){u.current=!1},onFocus(h){if(u.current)return;const p=pw(h.nativeEvent);if(l&&vl(p))try{if(BLe()&&zLe())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!d.current&&!WLe(p))return}r(!0,h.nativeEvent,"focus")},onBlur(h){u.current=!1;const p=h.relatedTarget,m=h.nativeEvent,g=vl(p)&&p.hasAttribute(rV("focus-guard"))&&p.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var y;const v=Rre(o.domReference?o.domReference.ownerDocument:document);!p&&v===o.domReference||x2((y=s.current.floatingContext)==null?void 0:y.refs.floating.current,v)||x2(o.domReference,v)||g||r(!1,m,"focus")})}}),[s,o.domReference,r,l]);return R.useMemo(()=>a?{reference:f}:{},[a,f])}const Hre="active",qre="selected";function jL(e,t,n){const r=new Map,i=n==="item";let s=e;if(i&&e){const{[Hre]:o,[qre]:a,...l}=e;s=l}return{...n==="floating"&&{tabIndex:-1,[X8e]:""},...s,...t.map(o=>{const a=o?o[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[Hre,qre].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),o[u]=function(){for(var f,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(f=r.get(u))==null?void 0:f.map(g=>g(...p)).find(g=>g!==void 0)}}}else o[u]=c}),o),{})}}function nje(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=R.useCallback(a=>jL(a,e,"reference"),t),s=R.useCallback(a=>jL(a,e,"floating"),n),o=R.useCallback(a=>jL(a,e,"item"),r);return R.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const rje=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function ije(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:s=!0,role:o="dialog"}=t,a=(n=rje.get(o))!=null?n:o,l=Dye(),c=tV()!=null,d=R.useMemo(()=>a==="tooltip"||o==="label"?{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,o]),f=R.useMemo(()=>{const p={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?p:{...p,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,o]),h=R.useCallback(p=>{let{active:m,selected:g}=p;const y={role:"option",...m&&{id:i+"-option"}};switch(o){case"select":return{...y,"aria-selected":m&&g};case"combobox":return{...y,...m&&{"aria-selected":!0}}}return{}},[i,o]);return R.useMemo(()=>s?{reference:d,floating:f,item:h}:{},[s,d,f,h])}function Nye(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function Vre(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Wre(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const sje={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function oje({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:s,arrowY:o,dir:a}){const[l,u="center"]=e.split("-"),c={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[sje[l]]:r},d=-t/2;return l==="left"?{...c,...Vre(u,o,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...c,...Vre(u,o,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...c,...Wre(u,s,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...c,...Wre(u,s,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const sV=R.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:s,arrowX:o,arrowY:a,style:l,...u},c)=>{const{dir:d}=Ga();return s?_.jsx("div",{...u,ref:c,style:{...l,...oje({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:o,arrowY:a})}}):null});sV.displayName="@mantine/core/FloatingArrow";var $ye={root:"m_9814e45f"};const aje={zIndex:lo("modal")},lje=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:s,zIndex:o})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&gf(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Le(i)})`:void 0,"--overlay-radius":s===void 0?void 0:vr(s),"--overlay-z-index":o==null?void 0:o.toString()}}),mx=os((e,t)=>{const n=Ne("Overlay",aje,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fixed:u,center:c,children:d,radius:f,zIndex:h,gradient:p,blur:m,color:g,backgroundOpacity:y,mod:v,...w}=n,E=St({name:"Overlay",props:n,classes:$ye,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:lje});return _.jsx(Se,{ref:t,...E("root"),mod:[{center:c,fixed:u},v],...w,children:d})});mx.classes=$ye;mx.displayName="@mantine/core/Overlay";function uje(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const cje={},Mye=R.forwardRef((e,t)=>{const{children:n,target:r,...i}=Ne("Portal",cje,e),[s,o]=R.useState(!1),a=R.useRef(null);return db(()=>(o(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:uje(i),R3(t,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!s||!a.current?null:PT.createPortal(_.jsx(_.Fragment,{children:n}),a.current)});Mye.displayName="@mantine/core/Portal";function pg({withinPortal:e=!0,children:t,...n}){return e?_.jsx(Mye,{...n,children:t}):_.jsx(_.Fragment,{children:t})}pg.displayName="@mantine/core/OptionalPortal";const GE=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),TI={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...GE("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...GE("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...GE("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...GE("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...GE("top"),common:{transformOrigin:"top right"}}},Gre={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function dje({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in TI?{transitionProperty:TI[e].transitionProperty,...i,...TI[e].common,...TI[e][Gre[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[Gre[t]]}}function fje({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a,enterDelay:l,exitDelay:u}){const c=Vi(),d=v$(),f=c.respectReducedMotion?d:!1,[h,p]=R.useState(f?0:e),[m,g]=R.useState(r?"entered":"exited"),y=R.useRef(-1),v=R.useRef(-1),w=R.useRef(-1),E=S=>{const T=S?i:s,A=S?o:a;window.clearTimeout(y.current);const I=f?0:S?e:t;p(I),I===0?(typeof T=="function"&&T(),typeof A=="function"&&A(),g(S?"entered":"exited")):w.current=requestAnimationFrame(()=>{qC.flushSync(()=>{g(S?"pre-entering":"pre-exiting")}),w.current=requestAnimationFrame(()=>{typeof T=="function"&&T(),g(S?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof A=="function"&&A(),g(S?"entered":"exited")},I)})})},C=S=>{if(window.clearTimeout(v.current),typeof(S?l:u)!="number"){E(S);return}v.current=window.setTimeout(()=>{E(S)},S?l:u)};return vd(()=>{C(r)},[r]),R.useEffect(()=>()=>{window.clearTimeout(y.current),cancelAnimationFrame(w.current)},[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||"ease"}}function lc({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f}){const{transitionDuration:h,transitionStatus:p,transitionTimingFunction:m}=fje({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f});return h===0?i?_.jsx(_.Fragment,{children:s({})}):e?s({display:"none"}):null:p==="exited"?e?s({display:"none"}):null:_.jsx(_.Fragment,{children:s(dje({transition:t,duration:h,state:p,timingFunction:m}))})}lc.displayName="@mantine/core/Transition";const[hje,Fye]=ms("Popover component was not found in the tree");function NT({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const i=q5e(t),s=Ns(i,r);return tm(e)?R.cloneElement(e,{[n]:s}):e}function Lye(e){return _.jsx(Hq,{tabIndex:-1,"data-autofocus":!0,...e})}NT.displayName="@mantine/core/FocusTrap";Lye.displayName="@mantine/core/FocusTrapInitialFocus";NT.InitialFocus=Lye;var jye={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const pje={},oV=We((e,t)=>{var g,y,v,w;const n=Ne("PopoverDropdown",pje,e),{className:r,style:i,vars:s,children:o,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,f=Fye(),h=Fge({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=Ns(t,f.floating);return f.disabled?null:_.jsx(pg,{...f.portalProps,withinPortal:f.withinPortal,children:_.jsx(lc,{mounted:f.opened,...f.transitionProps,transition:((g=f.transitionProps)==null?void 0:g.transition)||"fade",duration:((y=f.transitionProps)==null?void 0:y.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((v=f.transitionProps)==null?void 0:v.exitDuration)=="number"?f.transitionProps.exitDuration:(w=f.transitionProps)==null?void 0:w.duration,children:E=>_.jsx(NT,{active:f.trapFocus&&f.opened,innerRef:m,children:_.jsxs(Se,{...p,...d,variant:l,onKeyDownCapture:D5e(f.onClose,{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...E,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:Le(f.width)},f.resolvedStyles.dropdown,c==null?void 0:c.dropdown,i]}),children:[o,_.jsx(sV,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:u,styles:c})})]})})})})});oV.classes=jye;oV.displayName="@mantine/core/PopoverDropdown";const mje={refProp:"ref",popupType:"dialog"},Bye=We((e,t)=>{const{children:n,refProp:r,popupType:i,...s}=Ne("PopoverTarget",mje,e);if(!tm(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=Fye(),l=Ns(a.reference,b$(n),t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return R.cloneElement(n,{...o,...u,...a.targetProps,className:kt(a.targetProps.className,o.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});Bye.displayName="@mantine/core/PopoverTarget";function zye({opened:e,floating:t,position:n,positionDependencies:r}){const[i,s]=R.useState(0);R.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return k8e(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),vd(()=>{t.update()},r),vd(()=>{s(o=>o+1)},[e])}function gje(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function yje(e,t){const n=gje(e.middlewares),r=[kye(e.offset)];return n.shift&&r.push(eV(typeof n.shift=="boolean"?{limiter:Lre(),padding:5}:{limiter:Lre(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?M3():M3(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?RS():RS(n.inline)),r.push(Iye({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(L8e({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:s,availableHeight:o,...a}){var c;const u=((c=t().refs.floating.current)==null?void 0:c.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:s,availableHeight:o,...a}):Object.assign(u,{maxWidth:`${s}px`,maxHeight:`${o}px`})),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function vje(e){const[t,n]=Oi({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=R.useRef(t),i=()=>{t&&n(!1)},s=()=>n(!t),o=iV({strategy:e.strategy,placement:e.position,middleware:yje(e,()=>o)});return zye({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:o}),vd(()=>{var a;(a=e.onPositionChange)==null||a.call(e,o.placement)},[o.placement]),vd(()=>{var a,l;t!==r.current&&(t?(l=e.onOpen)==null||l.call(e):(a=e.onClose)==null||a.call(e)),r.current=t},[t,e.onClose,e.onOpen]),{floating:o,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:s}}const bje={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:lo("popover"),__staticSelector:"Popover",width:"max-content"},wje=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:vr(t),"--popover-shadow":Pq(n)}});function Di(e){var ze,ot,xe,Te,nt,ht;const t=Ne("Popover",bje,e),{children:n,position:r,offset:i,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:l,onExitTransitionEnd:u,onEnterTransitionEnd:c,width:d,middlewares:f,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:y,unstyled:v,classNames:w,styles:E,closeOnClickOutside:C,withinPortal:S,portalProps:T,closeOnEscape:A,clickOutsideEvents:I,trapFocus:D,onClose:O,onOpen:M,onChange:$,zIndex:L,radius:z,shadow:B,id:W,defaultOpened:V,__staticSelector:X,withRoles:U,disabled:F,returnFocus:G,variant:q,keepMounted:Y,vars:J,floatingStrategy:te,withOverlay:ue,overlayProps:se,...ne}=t,fe=St({name:X,props:t,classes:jye,classNames:w,styles:E,unstyled:v,rootSelector:"dropdown",vars:J,varsResolver:wje}),{resolvedStyles:ee}=uh({classNames:w,styles:E,props:t}),ie=R.useRef(null),[he,ye]=R.useState(null),[Ce,Re]=R.useState(null),{dir:De}=Ga(),be=ma(W),je=vje({middlewares:f,width:d,position:Nye(De,r),offset:typeof i=="number"?i+(h?p/2:0):i,arrowRef:ie,arrowOffset:m,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:V,onChange:$,onOpen:M,onClose:O,strategy:te});$ge(()=>C&&je.onClose(),I,[he,Ce]);const Qe=R.useCallback(st=>{ye(st),je.floating.refs.setReference(st)},[je.floating.refs.setReference]),it=R.useCallback(st=>{Re(st),je.floating.refs.setFloating(st)},[je.floating.refs.setFloating]),Ke=R.useCallback(()=>{var st;(st=l==null?void 0:l.onExited)==null||st.call(l),u==null||u()},[l==null?void 0:l.onExited,u]),Pe=R.useCallback(()=>{var st;(st=l==null?void 0:l.onEntered)==null||st.call(l),c==null||c()},[l==null?void 0:l.onEntered,c]);return _.jsxs(hje,{value:{returnFocus:G,disabled:F,controlled:je.controlled,reference:Qe,floating:it,x:je.floating.x,y:je.floating.y,arrowX:(xe=(ot=(ze=je.floating)==null?void 0:ze.middlewareData)==null?void 0:ot.arrow)==null?void 0:xe.x,arrowY:(ht=(nt=(Te=je.floating)==null?void 0:Te.middlewareData)==null?void 0:nt.arrow)==null?void 0:ht.y,opened:je.opened,arrowRef:ie,transitionProps:{...l,onExited:Ke,onEntered:Pe},width:d,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:y,placement:je.floating.placement,trapFocus:D,withinPortal:S,portalProps:T,zIndex:L,radius:z,shadow:B,closeOnEscape:A,onClose:je.onClose,onToggle:je.onToggle,getTargetId:()=>`${be}-target`,getDropdownId:()=>`${be}-dropdown`,withRoles:U,targetProps:ne,__staticSelector:X,classNames:w,styles:E,unstyled:v,variant:q,keepMounted:Y,getStyles:fe,resolvedStyles:ee,floatingStrategy:te},children:[n,ue&&_.jsx(lc,{transition:"fade",mounted:je.opened,duration:(l==null?void 0:l.duration)||250,exitDuration:(l==null?void 0:l.exitDuration)||250,children:st=>_.jsx(pg,{withinPortal:S,children:_.jsx(mx,{...se,...fe("overlay",{className:se==null?void 0:se.className,style:[st,se==null?void 0:se.style]})})})})]})}Di.Target=Bye;Di.Dropdown=oV;Di.displayName="@mantine/core/Popover";Di.extend=e=>e;var nd={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Uye=R.forwardRef(({className:e,...t},n)=>_.jsxs(Se,{component:"span",className:kt(nd.barsLoader,e),...t,ref:n,children:[_.jsx("span",{className:nd.bar}),_.jsx("span",{className:nd.bar}),_.jsx("span",{className:nd.bar})]}));Uye.displayName="@mantine/core/Bars";const Hye=R.forwardRef(({className:e,...t},n)=>_.jsxs(Se,{component:"span",className:kt(nd.dotsLoader,e),...t,ref:n,children:[_.jsx("span",{className:nd.dot}),_.jsx("span",{className:nd.dot}),_.jsx("span",{className:nd.dot})]}));Hye.displayName="@mantine/core/Dots";const qye=R.forwardRef(({className:e,...t},n)=>_.jsx(Se,{component:"span",className:kt(nd.ovalLoader,e),...t,ref:n}));qye.displayName="@mantine/core/Oval";const Vye={bars:Uye,oval:qye,dots:Hye},xje={loaders:Vye,type:"oval"},_je=(e,{size:t,color:n})=>({root:{"--loader-size":fn(t,"loader-size"),"--loader-color":n?Dr(n,e):void 0}}),Od=We((e,t)=>{const n=Ne("Loader",xje,e),{size:r,color:i,type:s,vars:o,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:f,variant:h,children:p,...m}=n,g=St({name:"Loader",props:n,classes:nd,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:o,varsResolver:_je});return p?_.jsx(Se,{...g("root"),ref:t,...m,children:p}):_.jsx(Se,{...g("root"),ref:t,component:f[s],variant:h,size:r,...m})});Od.defaultLoaders=Vye;Od.classes=nd;Od.displayName="@mantine/core/Loader";var m_={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Yre={orientation:"horizontal"},Eje=(e,{borderWidth:t})=>({group:{"--ai-border-width":Le(t)}}),aV=We((e,t)=>{const n=Ne("ActionIconGroup",Yre,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=Ne("ActionIconGroup",Yre,e),p=St({name:"ActionIconGroup",props:n,classes:m_,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:Eje,rootSelector:"group"});return _.jsx(Se,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});aV.classes=m_;aV.displayName="@mantine/core/ActionIconGroup";const Kre={},Cje=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:s,size:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{groupSection:{"--section-height":fn(o,"section-height"),"--section-padding-x":fn(o,"section-padding-x"),"--section-fz":Ui(o),"--section-radius":t===void 0?void 0:vr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},lV=We((e,t)=>{const n=Ne("ActionIconGroupSection",Kre,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=Ne("ActionIconGroupSection",Kre,e),p=St({name:"ActionIconGroupSection",props:n,classes:m_,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:Cje,rootSelector:"groupSection"});return _.jsx(Se,{...p("groupSection"),ref:t,variant:u,...h})});lV.classes=m_;lV.displayName="@mantine/core/ActionIconGroupSection";const Sje={},Tje=(e,{size:t,radius:n,variant:r,gradient:i,color:s,autoContrast:o})=>{const a=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ai-size":fn(t,"ai-size"),"--ai-radius":n===void 0?void 0:vr(n),"--ai-bg":s||r?a.background:void 0,"--ai-hover":s||r?a.hover:void 0,"--ai-hover-color":s||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":s||r?a.border:void 0}}},Jn=os((e,t)=>{const n=Ne("ActionIcon",Sje,e),{className:r,unstyled:i,variant:s,classNames:o,styles:a,style:l,loading:u,loaderProps:c,size:d,color:f,radius:h,__staticSelector:p,gradient:m,vars:g,children:y,disabled:v,"data-disabled":w,autoContrast:E,mod:C,...S}=n,T=St({name:["ActionIcon",p],props:n,className:r,style:l,classes:m_,classNames:o,styles:a,unstyled:i,vars:g,varsResolver:Tje});return _.jsxs(ts,{...T("root",{active:!v&&!u&&!w}),...S,unstyled:i,variant:s,size:d,disabled:v||u,ref:t,mod:[{loading:u,disabled:v||w},C],children:[_.jsx(lc,{mounted:!!u,transition:"slide-down",duration:150,children:A=>_.jsx(Se,{component:"span",...T("loader",{style:A}),"aria-hidden":!0,children:_.jsx(Od,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),_.jsx(Se,{component:"span",mod:{loading:u},...T("icon"),children:y})]})});Jn.classes=m_;Jn.displayName="@mantine/core/ActionIcon";Jn.Group=aV;Jn.GroupSection=lV;const Wye=R.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>_.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:_.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));Wye.displayName="@mantine/core/CloseIcon";var Gye={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Aje={variant:"subtle"},kje=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":fn(t,"cb-size"),"--cb-radius":n===void 0?void 0:vr(n),"--cb-icon-size":Le(r)}}),Kf=os((e,t)=>{const n=Ne("CloseButton",Aje,e),{iconSize:r,children:i,vars:s,radius:o,className:a,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:m,mod:g,__staticSelector:y,...v}=n,w=St({name:y||"CloseButton",props:n,className:a,style:u,classes:Gye,classNames:l,styles:c,unstyled:d,vars:s,varsResolver:kje});return _.jsxs(ts,{ref:t,...v,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},g],...w("root",{variant:p,active:!h&&!f}),children:[m||_.jsx(Wye,{}),i]})});Kf.classes=Gye;Kf.displayName="@mantine/core/CloseButton";function Ije(e){return R.Children.toArray(e).filter(Boolean)}var Yye={root:"m_4081bf90"};const Rje={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Dje=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":es(r),"--group-align":i,"--group-justify":s,"--group-wrap":o}}),Pi=We((e,t)=>{const n=Ne("Group",Rje,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,children:l,gap:u,align:c,justify:d,wrap:f,grow:h,preventGrowOverflow:p,vars:m,variant:g,__size:y,mod:v,...w}=n,E=Ije(l),C=E.length,S=es(u??"md"),A={childWidth:`calc(${100/C}% - (${S} - ${S} / ${C}))`},I=St({name:"Group",props:n,stylesCtx:A,className:i,style:s,classes:Yye,classNames:r,styles:o,unstyled:a,vars:m,varsResolver:Dje});return _.jsx(Se,{...I("root"),ref:t,variant:g,mod:[{grow:h},v],size:y,...w,children:E})});Pi.classes=Yye;Pi.displayName="@mantine/core/Group";const[Pje,om]=ms("ModalBase component was not found in tree");function Oje({opened:e,transitionDuration:t}){const[n,r]=R.useState(e),i=R.useRef(-1),o=v$()?0:t;return R.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[e,o]),n}function Nje({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:s,returnFocus:o}){const a=ma(e),[l,u]=R.useState(!1),[c,d]=R.useState(!1),f=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,h=Oje({opened:n,transitionDuration:f});return zge("keydown",p=>{var m;p.key==="Escape"&&i&&n&&((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&s()},{capture:!0}),Fge({opened:n,shouldReturnFocus:r&&o}),{_id:a,titleMounted:l,bodyMounted:c,shouldLockScroll:h,setTitleMounted:u,setBodyMounted:d}}const uV=R.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:s,onEnterTransitionEnd:o,trapFocus:a,closeOnEscape:l,returnFocus:u,closeOnClickOutside:c,withinPortal:d,portalProps:f,lockScroll:h,children:p,zIndex:m,shadow:g,padding:y,__vars:v,unstyled:w,removeScrollProps:E,...C},S)=>{const{_id:T,titleMounted:A,bodyMounted:I,shouldLockScroll:D,setTitleMounted:O,setBodyMounted:M}=Nje({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:l,onClose:n,returnFocus:u}),{key:$,...L}=E||{};return _.jsx(pg,{...f,withinPortal:d,children:_.jsx(Pje,{value:{opened:t,onClose:n,closeOnClickOutside:c,onExitTransitionEnd:s,onEnterTransitionEnd:o,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${T}-title`,getBodyId:()=>`${T}-body`,titleMounted:A,bodyMounted:I,setTitleMounted:O,setBodyMounted:M,trapFocus:a,closeOnEscape:l,zIndex:m,unstyled:w},children:_.jsx(dx,{enabled:D&&h,...L,children:_.jsx(Se,{ref:S,...C,__vars:{...v,"--mb-z-index":(m||lo("modal")).toString(),"--mb-shadow":Pq(g),"--mb-padding":es(y)},children:p})},$)})})});uV.displayName="@mantine/core/ModalBase";function $je(){const e=om();return R.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var gx={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const cV=R.forwardRef(({className:e,...t},n)=>{const r=$je(),i=om();return _.jsx(Se,{ref:n,...t,id:r,className:kt({[gx.body]:!i.unstyled},e)})});cV.displayName="@mantine/core/ModalBaseBody";const dV=R.forwardRef(({className:e,onClick:t,...n},r)=>{const i=om();return _.jsx(Kf,{ref:r,...n,onClick:s=>{i.onClose(),t==null||t(s)},className:kt({[gx.close]:!i.unstyled},e),unstyled:i.unstyled})});dV.displayName="@mantine/core/ModalBaseCloseButton";const fV=R.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...s},o)=>{const a=om();return _.jsx(lc,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{var l,u,c;(l=a.onExitTransitionEnd)==null||l.call(a),(c=(u=a.transitionProps)==null?void 0:u.onExited)==null||c.call(u)},onEntered:()=>{var l,u,c;(l=a.onEnterTransitionEnd)==null||l.call(a),(c=(u=a.transitionProps)==null?void 0:u.onEntered)==null||c.call(u)},...e,children:l=>_.jsx("div",{...n,className:kt({[gx.inner]:!a.unstyled},n.className),children:_.jsx(NT,{active:a.opened&&a.trapFocus,innerRef:o,children:_.jsx(pb,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,l],className:kt({[gx.content]:!a.unstyled},t),unstyled:a.unstyled,children:s.children})})})})});fV.displayName="@mantine/core/ModalBaseContent";const hV=R.forwardRef(({className:e,...t},n)=>{const r=om();return _.jsx(Se,{component:"header",ref:n,className:kt({[gx.header]:!r.unstyled},e),...t})});hV.displayName="@mantine/core/ModalBaseHeader";const Mje={duration:200,timingFunction:"ease",transition:"fade"};function Fje(e){const t=om();return{...Mje,...t.transitionProps,...e}}const pV=R.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...i},s)=>{const o=om(),a=Fje(t);return _.jsx(lc,{mounted:r!==void 0?r:o.opened,...a,transition:"fade",children:l=>_.jsx(mx,{ref:s,fixed:!0,style:[n,l],zIndex:o.zIndex,unstyled:o.unstyled,onClick:u=>{e==null||e(u),o.closeOnClickOutside&&o.onClose()},...i})})});pV.displayName="@mantine/core/ModalBaseOverlay";function Lje(){const e=om();return R.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const mV=R.forwardRef(({className:e,...t},n)=>{const r=Lje(),i=om();return _.jsx(Se,{component:"h2",ref:n,className:kt({[gx.title]:!i.unstyled},e),...t,id:r})});mV.displayName="@mantine/core/ModalBaseTitle";function Kye({children:e}){return _.jsx(_.Fragment,{children:e})}const[jje,Bje]=nm({size:"sm"}),zje={},Xye=We((e,t)=>{const n=Ne("InputClearButton",zje,e),{size:r,variant:i,vars:s,classNames:o,styles:a,...l}=n,u=Bje(),{resolvedClassNames:c,resolvedStyles:d}=uh({classNames:o,styles:a,props:n});return _.jsx(Kf,{variant:i||"transparent",ref:t,size:r||(u==null?void 0:u.size)||"sm",classNames:c,styles:d,__staticSelector:"InputClearButton",...l})});Xye.displayName="@mantine/core/InputClearButton";const[Uje,g_]=nm({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var uc={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Xre={},Hje=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Ui(t)} - ${Le(2)})`}}),A$=We((e,t)=>{const n=Ne("InputDescription",Xre,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=Ne("InputDescription",Xre,n),p=g_(),m=St({name:["InputWrapper",c],props:n,classes:uc,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"description",vars:l,varsResolver:Hje}),g=d&&(p==null?void 0:p.getStyles)||m;return _.jsx(Se,{component:"p",ref:t,variant:f,size:u,...g("description",p!=null&&p.getStyles?{className:i,style:s}:void 0),...h})});A$.classes=uc;A$.displayName="@mantine/core/InputDescription";const qje={},Vje=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Ui(t)} - ${Le(2)})`}}),k$=We((e,t)=>{const n=Ne("InputError",qje,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=n,p=St({name:["InputWrapper",c],props:n,classes:uc,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"error",vars:l,varsResolver:Vje}),m=g_(),g=d&&(m==null?void 0:m.getStyles)||p;return _.jsx(Se,{component:"p",ref:t,variant:f,size:u,...g("error",m!=null&&m.getStyles?{className:i,style:s}:void 0),...h})});k$.classes=uc;k$.displayName="@mantine/core/InputError";const Qre={labelElement:"label"},Wje=(e,{size:t})=>({label:{"--input-label-size":Ui(t),"--input-asterisk-color":void 0}}),I$=We((e,t)=>{const n=Ne("InputLabel",Qre,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,labelElement:u,size:c,required:d,htmlFor:f,onMouseDown:h,children:p,__staticSelector:m,variant:g,mod:y,...v}=Ne("InputLabel",Qre,n),w=St({name:["InputWrapper",m],props:n,classes:uc,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"label",vars:l,varsResolver:Wje}),E=g_(),C=(E==null?void 0:E.getStyles)||w;return _.jsxs(Se,{...C("label",E!=null&&E.getStyles?{className:i,style:s}:void 0),component:u,variant:g,size:c,ref:t,htmlFor:u==="label"?f:void 0,mod:[{required:d},y],onMouseDown:S=>{h==null||h(S),!S.defaultPrevented&&S.detail>1&&S.preventDefault()},...v,children:[p,d&&_.jsx("span",{...C("required"),"aria-hidden":!0,children:" *"})]})});I$.classes=uc;I$.displayName="@mantine/core/InputLabel";const Jre={},gV=We((e,t)=>{const n=Ne("InputPlaceholder",Jre,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,variant:c,error:d,mod:f,...h}=Ne("InputPlaceholder",Jre,n),p=St({name:["InputPlaceholder",u],props:n,classes:uc,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"placeholder"});return _.jsx(Se,{...p("placeholder"),mod:[{error:!!d},f],component:"span",variant:c,ref:t,...h})});gV.classes=uc;gV.displayName="@mantine/core/InputPlaceholder";function Gje(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e.slice(0,r),s=e.slice(r+1),o=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:o}}const Yje={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Kje=(e,{size:t})=>({label:{"--input-label-size":Ui(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Ui(t)} - ${Le(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Ui(t)} - ${Le(2)})`}}),yV=We((e,t)=>{const n=Ne("InputWrapper",Yje,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:p,error:m,description:g,labelProps:y,descriptionProps:v,errorProps:w,labelElement:E,children:C,withAsterisk:S,id:T,required:A,__stylesApiProps:I,mod:D,...O}=n,M=St({name:["InputWrapper",d],props:I||n,classes:uc,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Kje}),$={size:u,variant:c,__staticSelector:d},L=ma(T),z=typeof S=="boolean"?S:A,B=(w==null?void 0:w.id)||`${L}-error`,W=(v==null?void 0:v.id)||`${L}-description`,V=L,X=!!m&&typeof m!="boolean",U=!!g,F=`${X?B:""} ${U?W:""}`,G=F.trim().length>0?F.trim():void 0,q=(y==null?void 0:y.id)||`${L}-label`,Y=p&&_.jsx(I$,{labelElement:E,id:q,htmlFor:V,required:z,...$,...y,children:p},"label"),J=U&&_.jsx(A$,{...v,...$,size:(v==null?void 0:v.size)||$.size,id:(v==null?void 0:v.id)||W,children:g},"description"),te=_.jsx(R.Fragment,{children:f(C)},"input"),ue=X&&R.createElement(k$,{...w,...$,size:(w==null?void 0:w.size)||$.size,key:"error",id:(w==null?void 0:w.id)||B},m),se=h.map(ne=>{switch(ne){case"label":return Y;case"input":return te;case"description":return J;case"error":return ue;default:return null}});return _.jsx(Uje,{value:{getStyles:M,describedBy:G,inputId:V,labelId:q,...Gje(h,{hasDescription:U,hasError:X})},children:_.jsx(Se,{ref:t,variant:c,size:u,mod:[{error:!!m},D],...M("root"),...O,children:se})})});yV.classes=uc;yV.displayName="@mantine/core/InputWrapper";const Xje={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Qje=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":fn(t.size,"input-height"),"--input-fz":Ui(t.size),"--input-radius":t.radius===void 0?void 0:vr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Le(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Le(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?fn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Pr=os((e,t)=>{const n=Ne("Input",Xje,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:f,error:h,disabled:p,leftSection:m,leftSectionProps:g,leftSectionWidth:y,rightSection:v,rightSectionProps:w,rightSectionWidth:E,rightSectionPointerEvents:C,leftSectionPointerEvents:S,variant:T,vars:A,pointer:I,multiline:D,radius:O,id:M,withAria:$,withErrorStyles:L,mod:z,inputSize:B,__clearSection:W,__clearable:V,__defaultRightSection:X,...U}=n,{styleProps:F,rest:G}=hb(U),q=g_(),Y={offsetBottom:q==null?void 0:q.offsetBottom,offsetTop:q==null?void 0:q.offsetTop},J=St({name:["Input",u],props:c||n,classes:uc,className:i,style:s,classNames:r,styles:o,unstyled:a,stylesCtx:Y,rootSelector:"wrapper",vars:A,varsResolver:Qje}),te=$?{required:l,disabled:p,"aria-invalid":!!h,"aria-describedby":q==null?void 0:q.describedBy,id:(q==null?void 0:q.inputId)||M}:{},ue=v||V&&W||X;return _.jsx(jje,{value:{size:d||"sm"},children:_.jsxs(Se,{...J("wrapper"),...F,...f,mod:[{error:!!h&&L,pointer:I,disabled:p,multiline:D,"data-with-right-section":!!v,"data-with-left-section":!!m},z],variant:T,size:d,children:[m&&_.jsx("div",{...g,"data-position":"left",...J("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:m}),_.jsx(Se,{component:"input",...G,...te,ref:t,required:l,mod:{disabled:p,error:!!h&&L},variant:T,__size:B,...J("input")}),ue&&_.jsx("div",{...w,"data-position":"right",...J("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),children:ue})]})})});Pr.classes=uc;Pr.Wrapper=yV;Pr.Label=I$;Pr.Error=k$;Pr.Description=A$;Pr.Placeholder=gV;Pr.ClearButton=Xye;Pr.displayName="@mantine/core/Input";function Qye(e,t,n){const r=Ne(e,t,n),{label:i,description:s,error:o,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:y,id:v,size:w,style:E,inputContainer:C,inputWrapperOrder:S,withAsterisk:T,variant:A,vars:I,mod:D,...O}=r,{styleProps:M,rest:$}=hb(O),L={label:i,description:s,error:o,required:a,classNames:l,className:c,__staticSelector:f,__stylesApiProps:h||r,errorProps:p,labelProps:m,descriptionProps:g,unstyled:d,styles:u,size:w,style:E,inputContainer:C,inputWrapperOrder:S,withAsterisk:T,variant:A,id:v,mod:D,...y};return{...$,classNames:l,styles:u,unstyled:d,wrapperProps:{...L,...M},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:w,__staticSelector:f,__stylesApiProps:h||r,error:o,variant:A,id:v}}}const Jje={__staticSelector:"InputBase",withAria:!0},ga=os((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=Qye("InputBase",Jje,e);return _.jsx(Pr.Wrapper,{...r,children:_.jsx(Pr,{...n,...i,ref:t})})});ga.classes={...Pr.classes,...Pr.Wrapper.classes};ga.displayName="@mantine/core/InputBase";const Zje={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var Jye={root:"m_8bffd616"};const e9e={},Nt=os((e,t)=>{const n=Ne("Flex",e9e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m,...g}=n,y=St({name:"Flex",classes:Jye,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l}),v=Vi(),w=DT(),E=Kge({styleProps:{gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m},theme:v,data:Zje});return _.jsxs(_.Fragment,{children:[E.hasResponsiveStyles&&_.jsx(fb,{selector:`.${w}`,styles:E.styles,media:E.media}),_.jsx(Se,{ref:t,...y("root",{className:w,style:dg(E.inlineStyles)}),...g})]})});Nt.classes=Jye;Nt.displayName="@mantine/core/Flex";const[t9e,vV]=ms("Accordion component was not found in the tree");function yx({style:e,size:t=16,...n}){return _.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Le(t),height:Le(t),display:"block"},...n,children:_.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}yx.displayName="@mantine/core/AccordionChevron";const[n9e,Zye]=ms("Accordion.Item component was not found in the tree");var $T={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const r9e={},bV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,chevron:a,icon:l,onClick:u,onKeyDown:c,children:d,disabled:f,mod:h,...p}=Ne("AccordionControl",r9e,e),{value:m}=Zye(),g=vV(),y=g.isItemActive(m),v=typeof g.order=="number",w=`h${g.order}`,E=_.jsxs(ts,{...p,...g.getStyles("control",{className:r,classNames:n,style:i,styles:s,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:y,"chevron-position":g.chevronPosition,disabled:f},h],ref:t,onClick:C=>{u==null||u(C),g.onChange(m)},type:"button",disabled:f,"aria-expanded":y,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:Dq({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c}),children:[_.jsx(Se,{component:"span",mod:{rotate:!g.disableChevronRotation&&y,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:s}),children:a||g.chevron}),_.jsx("span",{...g.getStyles("label",{classNames:n,styles:s}),children:d}),l&&_.jsx(Se,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:s}),children:l})]});return v?_.jsx(w,{...g.getStyles("itemTitle",{classNames:n,styles:s}),children:E}):E});bV.displayName="@mantine/core/AccordionControl";bV.classes=$T;const i9e={},wV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,mod:l,...u}=Ne("AccordionItem",i9e,e),c=vV();return _.jsx(n9e,{value:{value:a},children:_.jsx(Se,{ref:t,mod:[{active:c.isItemActive(a)},l],...c.getStyles("item",{className:r,classNames:n,styles:s,style:i,variant:c.variant}),...u})})});wV.displayName="@mantine/core/AccordionItem";wV.classes=$T;const s9e={},xV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,...l}=Ne("AccordionPanel",s9e,e),{value:u}=Zye(),c=vV();return _.jsx(im,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:s}),...l,in:c.isItemActive(u),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(u),"aria-labelledby":c.getControlId(u),children:_.jsx("div",{...c.getStyles("content",{classNames:n,styles:s}),children:a})})});xV.displayName="@mantine/core/AccordionPanel";xV.classes=$T;const o9e={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:_.jsx(yx,{})},a9e=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:Le(n),"--accordion-radius":r===void 0?void 0:vr(r)}});function ta(e){const t=Ne("Accordion",o9e,e),{classNames:n,className:r,style:i,styles:s,unstyled:o,vars:a,children:l,multiple:u,value:c,defaultValue:d,onChange:f,id:h,loop:p,transitionDuration:m,disableChevronRotation:g,chevronPosition:y,chevronSize:v,order:w,chevron:E,variant:C,radius:S,...T}=t,A=ma(h),[I,D]=Oi({value:c,defaultValue:d,finalValue:u?[]:null,onChange:f}),O=L=>Array.isArray(I)?I.includes(L):L===I,M=L=>{const z=Array.isArray(I)?I.includes(L)?I.filter(B=>B!==L):[...I,L]:L===I?null:L;D(z)},$=St({name:"Accordion",classes:$T,props:t,className:r,style:i,classNames:n,styles:s,unstyled:o,vars:a,varsResolver:a9e});return _.jsx(t9e,{value:{isItemActive:O,onChange:M,getControlId:A3(`${A}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:A3(`${A}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:g,chevronPosition:y,order:w,chevron:E,loop:p,getStyles:$,variant:C,unstyled:o},children:_.jsx(Se,{...$("root"),id:A,...T,variant:C,"data-accordion":!0,children:l})})}const l9e=e=>e;ta.extend=l9e;ta.withProps=gLe(ta);ta.classes=$T;ta.displayName="@mantine/core/Accordion";ta.Item=wV;ta.Panel=xV;ta.Control=bV;ta.Chevron=yx;var eve={root:"m_7f854edf"};const u9e={position:{bottom:0,right:0},zIndex:lo("modal"),withinPortal:!0},c9e=(e,{zIndex:t,position:n})=>({root:{"--affix-z-index":t==null?void 0:t.toString(),"--affix-top":Le(n==null?void 0:n.top),"--affix-left":Le(n==null?void 0:n.left),"--affix-bottom":Le(n==null?void 0:n.bottom),"--affix-right":Le(n==null?void 0:n.right)}}),_V=We((e,t)=>{const n=Ne("Affix",u9e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,portalProps:u,zIndex:c,withinPortal:d,position:f,...h}=n,p=St({name:"Affix",classes:eve,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:c9e});return _.jsx(pg,{...u,withinPortal:d,children:_.jsx(Se,{ref:t,...p("root"),...h})})});_V.classes=eve;_V.displayName="@mantine/core/Affix";var tve={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const d9e={},f9e=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:vr(t),"--alert-bg":n||r?s.background:void 0,"--alert-color":s.color,"--alert-bd":n||r?s.border:void 0}}},$f=We((e,t)=>{const n=Ne("Alert",d9e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,radius:u,color:c,title:d,children:f,id:h,icon:p,withCloseButton:m,onClose:g,closeButtonLabel:y,variant:v,autoContrast:w,...E}=n,C=St({name:"Alert",classes:tve,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:f9e}),S=ma(h),T=d&&`${S}-title`||void 0,A=`${S}-body`;return _.jsx(Se,{id:S,...C("root",{variant:v}),variant:v,ref:t,...E,role:"alert","aria-describedby":A,"aria-labelledby":T,children:_.jsxs("div",{...C("wrapper"),children:[p&&_.jsx("div",{...C("icon"),children:p}),_.jsxs("div",{...C("body"),children:[d&&_.jsx("div",{...C("title"),"data-with-close-button":m||void 0,children:_.jsx("span",{id:T,...C("label"),children:d})}),f&&_.jsx("div",{id:A,...C("message"),"data-variant":v,children:f})]}),m&&_.jsx(Kf,{...C("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":y,unstyled:a})]})})});$f.classes=tve;$f.displayName="@mantine/core/Alert";var nve={root:"m_b6d8b162"};function h9e(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const p9e={inherit:!1},m9e=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:s})=>({root:{"--text-fz":Ui(i),"--text-lh":Nge(i),"--text-gradient":t==="gradient"?GB(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":s?Dr(s,e):void 0}}),tt=os((e,t)=>{const n=Ne("Text",p9e,e),{lineClamp:r,truncate:i,inline:s,inherit:o,gradient:a,span:l,__staticSelector:u,vars:c,className:d,style:f,classNames:h,styles:p,unstyled:m,variant:g,mod:y,size:v,...w}=n,E=St({name:["Text",u],props:n,classes:nve,className:d,style:f,classNames:h,styles:p,unstyled:m,vars:c,varsResolver:m9e});return _.jsx(Se,{...E("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:g,mod:[{"data-truncate":h9e(i),"data-line-clamp":typeof r=="number","data-inline":s,"data-inherit":o},y],size:v,...w})});tt.classes=nve;tt.displayName="@mantine/core/Text";var rve={root:"m_849cf0da"};const g9e={underline:"hover"},gb=os((e,t)=>{const{underline:n,className:r,unstyled:i,mod:s,...o}=Ne("Anchor",g9e,e);return _.jsx(tt,{component:"a",ref:t,className:kt({[rve.root]:!i},r),...o,mod:[{underline:n},s],__staticSelector:"Anchor",unstyled:i})});gb.classes=rve;gb.displayName="@mantine/core/Anchor";const[y9e,y_]=ms("AppShell was not found in tree");var mg={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const v9e={},EV=We((e,t)=>{const n=Ne("AppShellAside",v9e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=y_();return h.disabled?null:_.jsx(Se,{component:"aside",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("aside",{className:i,classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});EV.classes=mg;EV.displayName="@mantine/core/AppShellAside";const b9e={},CV=We((e,t)=>{var p;const n=Ne("AppShellFooter",b9e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=y_();return h.disabled?null:_.jsx(Se,{component:"footer",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("footer",{className:kt({[dx.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-footer-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});CV.classes=mg;CV.displayName="@mantine/core/AppShellFooter";const w9e={},SV=We((e,t)=>{var p;const n=Ne("AppShellHeader",w9e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=y_();return h.disabled?null:_.jsx(Se,{component:"header",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("header",{className:kt({[dx.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-header-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});SV.classes=mg;SV.displayName="@mantine/core/AppShellHeader";const x9e={},TV=We((e,t)=>{const n=Ne("AppShellMain",x9e,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=y_();return _.jsx(Se,{component:"main",ref:t,...u.getStyles("main",{className:i,style:s,classNames:r,styles:o}),...l})});TV.classes=mg;TV.displayName="@mantine/core/AppShellMain";function MT(e){return typeof e=="object"?e.base:e}function FT(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function LT(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function _9e({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){var l,u,c;const s=r==null?void 0:r.width,o="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),FT(s)){const d=Le(MT(s));e["--app-shell-aside-width"]=d,e["--app-shell-aside-offset"]=d}if(LT(s)&&(typeof s.base<"u"&&(e["--app-shell-aside-width"]=Le(s.base),e["--app-shell-aside-offset"]=Le(s.base)),ti(s).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-aside-width"]=Le(s[d]),t[d]["--app-shell-aside-offset"]=Le(s[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-aside-transform"]=o,t[d]["--app-shell-aside-transform-rtl"]=a,t[d]["--app-shell-aside-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=Oq(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-aside-width"]="100%",n[d]["--app-shell-aside-offset"]="0px",n[d]["--app-shell-aside-transform"]=o,n[d]["--app-shell-aside-transform-rtl"]=a}}function E9e({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,i="translateY(var(--app-shell-footer-height))",s=(n==null?void 0:n.offset)??!0;if(FT(r)){const o=Le(MT(r));e["--app-shell-footer-height"]=o,s&&(e["--app-shell-footer-offset"]=o)}LT(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=Le(r.base),s&&(e["--app-shell-footer-offset"]=Le(r.base))),ti(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-footer-height"]=Le(r[o]),s&&(t[o]["--app-shell-footer-offset"]=Le(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function C9e({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,i="translateY(calc(var(--app-shell-header-height) * -1))",s=(n==null?void 0:n.offset)??!0;if(FT(r)){const o=Le(MT(r));e["--app-shell-header-height"]=o,s&&(e["--app-shell-header-offset"]=o)}LT(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=Le(r.base),s&&(e["--app-shell-header-offset"]=Le(r.base))),ti(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-header-height"]=Le(r[o]),s&&(t[o]["--app-shell-header-offset"]=Le(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function S9e({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){var l,u,c;const s=r==null?void 0:r.width,o="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),FT(s)){const d=Le(MT(s));e["--app-shell-navbar-width"]=d,e["--app-shell-navbar-offset"]=d}if(LT(s)&&(typeof s.base<"u"&&(e["--app-shell-navbar-width"]=Le(s.base),e["--app-shell-navbar-offset"]=Le(s.base)),ti(s).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-navbar-width"]=Le(s[d]),t[d]["--app-shell-navbar-offset"]=Le(s[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-navbar-transform"]=o,t[d]["--app-shell-navbar-transform-rtl"]=a,t[d]["--app-shell-navbar-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=Oq(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-navbar-width"]="100%",n[d]["--app-shell-navbar-offset"]="0px",n[d]["--app-shell-navbar-transform"]=o,n[d]["--app-shell-navbar-transform-rtl"]=a}}function BL(e){return Number(e)===0?"0px":es(e)}function T9e({padding:e,baseStyles:t,minMediaStyles:n}){FT(e)&&(t["--app-shell-padding"]=BL(MT(e))),LT(e)&&(e.base&&(t["--app-shell-padding"]=BL(e.base)),ti(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=BL(e[r]))}))}function A9e({navbar:e,header:t,footer:n,aside:r,padding:i,theme:s}){const o={},a={},l={};S9e({baseStyles:l,minMediaStyles:o,maxMediaStyles:a,navbar:e,theme:s}),_9e({baseStyles:l,minMediaStyles:o,maxMediaStyles:a,aside:r,theme:s}),C9e({baseStyles:l,minMediaStyles:o,header:t}),E9e({baseStyles:l,minMediaStyles:o,footer:n}),T9e({baseStyles:l,minMediaStyles:o,padding:i});const u=v2(ti(o),s.breakpoints).map(f=>({query:`(min-width: ${T3(f.px)})`,styles:o[f.value]})),c=v2(ti(a),s.breakpoints).map(f=>({query:`(max-width: ${T3(f.px)})`,styles:a[f.value]})),d=[...u,...c];return{baseStyles:l,media:d}}function k9e({navbar:e,header:t,aside:n,footer:r,padding:i}){const s=Vi(),o=fg(),{media:a,baseStyles:l}=A9e({navbar:e,header:t,footer:r,aside:n,padding:i,theme:s});return _.jsx(fb,{media:a,styles:l,selector:o.cssVariablesSelector})}const I9e={},AV=We((e,t)=>{const n=Ne("AppShellNavbar",I9e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=y_();return h.disabled?null:_.jsx(Se,{component:"nav",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("navbar",{className:i,classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});AV.classes=mg;AV.displayName="@mantine/core/AppShellNavbar";const R9e={},kV=os((e,t)=>{const n=Ne("AppShellSection",R9e,e),{classNames:r,className:i,style:s,styles:o,vars:a,grow:l,mod:u,...c}=n,d=y_();return _.jsx(Se,{ref:t,mod:[{grow:l},u],...d.getStyles("section",{className:i,style:s,classNames:r,styles:o}),...c})});kV.classes=mg;kV.displayName="@mantine/core/AppShellSection";function D9e({transitionDuration:e,disabled:t}){const[n,r]=R.useState(!0),i=R.useRef(-1),s=R.useRef(-1);return zge("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>R.startTransition(()=>{r(!1)}),200)}),db(()=>{r(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>R.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const P9e={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:lo("app")},O9e=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Gr=We((e,t)=>{const n=Ne("AppShell",P9e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,navbar:u,withBorder:c,padding:d,transitionDuration:f,transitionTimingFunction:h,header:p,zIndex:m,layout:g,disabled:y,aside:v,footer:w,offsetScrollbars:E=g!=="alt",mod:C,...S}=n,T=St({name:"AppShell",classes:mg,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:O9e}),A=D9e({disabled:y,transitionDuration:f});return _.jsxs(y9e,{value:{getStyles:T,withBorder:c,zIndex:m,disabled:y,offsetScrollbars:E},children:[_.jsx(k9e,{navbar:u,header:p,aside:v,footer:w,padding:d}),_.jsx(Se,{ref:t,...T("root"),mod:[{resizing:A,layout:g,disabled:y},C],...S})]})});Gr.classes=mg;Gr.displayName="@mantine/core/AppShell";Gr.Navbar=AV;Gr.Header=SV;Gr.Main=TV;Gr.Aside=EV;Gr.Footer=CV;Gr.Section=kV;function ive(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>ive(t))}:e}function R$(e){return e?e.map(t=>ive(t)):[]}function D$(e){return e.reduce((t,n)=>"group"in n?{...t,...D$(n.items)}:(t[n.value]=n,t),{})}var Al={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const N9e={error:null},$9e=(e,{size:t})=>({chevron:{"--combobox-chevron-size":fn(t,"combobox-chevron-size")}}),P$=We((e,t)=>{const n=Ne("ComboboxChevron",N9e,e),{size:r,error:i,style:s,className:o,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...f}=n,h=St({name:"ComboboxChevron",classes:Al,props:n,style:s,className:o,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:$9e,rootSelector:"chevron"});return _.jsx(Se,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:t,children:_.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});P$.classes=Al;P$.displayName="@mantine/core/ComboboxChevron";const[M9e,cc]=ms("Combobox component was not found in tree"),sve=R.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},s)=>_.jsx(Pr.ClearButton,{ref:s,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{r(),n==null||n(o)}}));sve.displayName="@mantine/core/ComboboxClearButton";const F9e={},IV=We((e,t)=>{const{classNames:n,styles:r,className:i,style:s,hidden:o,...a}=Ne("ComboboxDropdown",F9e,e),l=cc();return _.jsx(Di.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...l.getStyles("dropdown",{className:i,style:s,classNames:n,styles:r})})});IV.classes=Al;IV.displayName="@mantine/core/ComboboxDropdown";const L9e={refProp:"ref"},ove=We((e,t)=>{const{children:n,refProp:r}=Ne("ComboboxDropdownTarget",L9e,e);if(cc(),!tm(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return _.jsx(Di.Target,{ref:t,refProp:r,children:n})});ove.displayName="@mantine/core/ComboboxDropdownTarget";const j9e={},RV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ne("ComboboxEmpty",j9e,e),l=cc();return _.jsx(Se,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:s,style:i}),...a})});RV.classes=Al;RV.displayName="@mantine/core/ComboboxEmpty";function DV({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:s}){const o=cc(),[a,l]=R.useState(null),u=d=>{if(e==null||e(d),!o.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&f!==-1?(d.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),o.store.openDropdown("keyboard"))}d.nativeEvent.code==="Escape"&&o.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.dropdownOpened?o.store.listId:void 0,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:u}}const B9e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ave=We((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...u}=Ne("ComboboxEventsTarget",B9e,e);if(!tm(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=cc(),d=DV({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l});return R.cloneElement(n,{...d,...u,[r]:Ns(t,c.store.targetRef,b$(n))})});ave.displayName="@mantine/core/ComboboxEventsTarget";const z9e={},PV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ne("ComboboxFooter",z9e,e),l=cc();return _.jsx(Se,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});PV.classes=Al;PV.displayName="@mantine/core/ComboboxFooter";const U9e={},OV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,label:l,...u}=Ne("ComboboxGroup",U9e,e),c=cc();return _.jsxs(Se,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:s}),...u,children:[l&&_.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:s}),children:l}),a]})});OV.classes=Al;OV.displayName="@mantine/core/ComboboxGroup";const H9e={},NV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ne("ComboboxHeader",H9e,e),l=cc();return _.jsx(Se,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});NV.classes=Al;NV.displayName="@mantine/core/ComboboxHeader";function lve({value:e,valuesDivider:t=",",...n}){return _.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}lve.displayName="@mantine/core/ComboboxHiddenInput";const q9e={},$V=We((e,t)=>{const n=Ne("ComboboxOption",q9e,e),{classNames:r,className:i,style:s,styles:o,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:p,mod:m,...g}=n,y=cc(),v=R.useId(),w=u||v;return _.jsx(Se,{...y.getStyles("option",{className:i,classNames:r,styles:o,style:s}),...g,ref:t,id:w,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":p},m],role:"option",onClick:E=>{var C;h?E.preventDefault():((C=y.onOptionSubmit)==null||C.call(y,n.value,n),l==null||l(E))},onMouseDown:E=>{E.preventDefault(),d==null||d(E)},onMouseOver:E=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),f==null||f(E)}})});$V.classes=Al;$V.displayName="@mantine/core/ComboboxOption";const V9e={},MV=We((e,t)=>{const n=Ne("ComboboxOptions",V9e,e),{classNames:r,className:i,style:s,styles:o,id:a,onMouseDown:l,labelledBy:u,...c}=n,d=cc(),f=ma(a);return R.useEffect(()=>{d.store.setListId(f)},[f]),_.jsx(Se,{ref:t,...d.getStyles("options",{className:i,style:s,classNames:r,styles:o}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});MV.classes=Al;MV.displayName="@mantine/core/ComboboxOptions";const W9e={withAriaAttributes:!0,withKeyboardNavigation:!0},FV=We((e,t)=>{const n=Ne("ComboboxSearch",W9e,e),{classNames:r,styles:i,unstyled:s,vars:o,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,f=cc(),h=f.getStyles("search"),p=DV({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return _.jsx(Pr,{ref:Ns(t,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||f.size,...p,...d,__staticSelector:"Combobox"})});FV.classes=Al;FV.displayName="@mantine/core/ComboboxSearch";const G9e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},uve=We((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...u}=Ne("ComboboxTarget",G9e,e);if(!tm(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=cc(),d=DV({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l}),f=R.cloneElement(n,{...d,...u});return _.jsx(Di.Target,{ref:Ns(t,c.store.targetRef),children:f})});uve.displayName="@mantine/core/ComboboxTarget";function Y9e(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function K9e(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function X9e(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function O$({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:s=!0,scrollBehavior:o="instant"}={}){const[a,l]=Oi({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=R.useRef(null),c=R.useRef(-1),d=R.useRef(null),f=R.useRef(null),h=R.useRef(-1),p=R.useRef(-1),m=R.useRef(-1),g=R.useCallback((B="unknown")=>{a||(l(!0),i==null||i(B))},[l,i,a]),y=R.useCallback((B="unknown")=>{a&&(l(!1),r==null||r(B))},[l,r,a]),v=R.useCallback((B="unknown")=>{a?y(B):g(B)},[y,g,a]),w=R.useCallback(()=>{const B=document.querySelector(`#${u.current} [data-combobox-selected]`);B==null||B.removeAttribute("data-combobox-selected"),B==null||B.removeAttribute("aria-selected")},[]),E=R.useCallback(B=>{const W=document.getElementById(u.current),V=W==null?void 0:W.querySelectorAll("[data-combobox-option]");if(!V)return null;const X=B>=V.length?0:B<0?V.length-1:B;return c.current=X,V!=null&&V[X]&&!V[X].hasAttribute("data-combobox-disabled")?(w(),V[X].setAttribute("data-combobox-selected","true"),V[X].setAttribute("aria-selected","true"),V[X].scrollIntoView({block:"nearest",behavior:o}),V[X].id):null},[o,w]),C=R.useCallback(()=>{const B=document.querySelector(`#${u.current} [data-combobox-active]`);if(B){const W=document.querySelectorAll(`#${u.current} [data-combobox-option]`),V=Array.from(W).findIndex(X=>X===B);return E(V)}return E(0)},[E]),S=R.useCallback(()=>E(K9e(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[E,s]),T=R.useCallback(()=>E(Y9e(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[E,s]),A=R.useCallback(()=>E(X9e(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[E]),I=R.useCallback((B="selected",W)=>{m.current=window.setTimeout(()=>{var U;const V=document.querySelectorAll(`#${u.current} [data-combobox-option]`),X=Array.from(V).findIndex(F=>F.hasAttribute(`data-combobox-${B}`));c.current=X,W!=null&&W.scrollIntoView&&((U=V[X])==null||U.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),D=R.useCallback(()=>{c.current=-1,w()},[w]),O=R.useCallback(()=>{const B=document.querySelectorAll(`#${u.current} [data-combobox-option]`),W=B==null?void 0:B[c.current];W==null||W.click()},[]),M=R.useCallback(B=>{u.current=B},[]),$=R.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),L=R.useCallback(()=>{p.current=window.setTimeout(()=>f.current.focus(),0)},[]),z=R.useCallback(()=>c.current,[]);return R.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(p.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:y,toggleDropdown:v,selectedOptionIndex:c.current,getSelectedOptionIndex:z,selectOption:E,selectFirstOption:A,selectActiveOption:C,selectNextOption:S,selectPreviousOption:T,resetSelectedOption:D,updateSelectedOptionIndex:I,listId:u.current,setListId:M,clickSelectedOption:O,searchRef:d,focusSearchInput:$,targetRef:f,focusTarget:L}}const Q9e={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},J9e=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Ui(t),"--combobox-option-padding":fn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Le(n),"--combobox-option-fz":Ui(t),"--combobox-option-padding":fn(t,"combobox-option-padding")}});function jn(e){const t=Ne("Combobox",Q9e,e),{classNames:n,styles:r,unstyled:i,children:s,store:o,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:p,...m}=t,g=O$(),y=o||g,v=St({name:h||"Combobox",classes:Al,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:J9e}),w=()=>{u==null||u(),y.closeDropdown()};return _.jsx(M9e,{value:{getStyles:v,store:y,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:f,readOnly:p},children:_.jsx(Di,{opened:y.dropdownOpened,...m,onChange:E=>!E&&w(),withRoles:!1,unstyled:i,children:s})})}const Z9e=e=>e;jn.extend=Z9e;jn.classes=Al;jn.displayName="@mantine/core/Combobox";jn.Target=uve;jn.Dropdown=IV;jn.Options=MV;jn.Option=$V;jn.Search=FV;jn.Empty=RV;jn.Chevron=P$;jn.Footer=PV;jn.Header=NV;jn.EventsTarget=ave;jn.DropdownTarget=ove;jn.Group=OV;jn.ClearButton=sve;jn.HiddenInput=lve;var cve={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const dve=cve,N$=R.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:s,children:o,label:a,description:l,id:u,disabled:c,error:d,size:f,labelPosition:h="left",bodyElement:p="div",labelElement:m="label",variant:g,style:y,vars:v,mod:w,...E},C)=>{const S=St({name:e,props:t,className:n,style:y,classes:cve,classNames:r,styles:i,unstyled:s});return _.jsx(Se,{...S("root"),ref:C,__vars:{"--label-fz":Ui(f),"--label-lh":fn(f,"label-lh")},mod:[{"label-position":h},w],variant:g,size:f,...E,children:_.jsxs(Se,{component:p,htmlFor:p==="label"?u:void 0,...S("body"),children:[o,_.jsxs("div",{...S("labelWrapper"),"data-disabled":c||void 0,children:[a&&_.jsx(Se,{component:m,htmlFor:m==="label"?u:void 0,...S("label"),"data-disabled":c||void 0,children:a}),l&&_.jsx(Pr.Description,{size:f,__inheritStyles:!1,...S("description"),children:l}),d&&typeof d!="boolean"&&_.jsx(Pr.Error,{size:f,__inheritStyles:!1,...S("error"),children:d})]})]})})});N$.displayName="@mantine/core/InlineInput";const fve=R.createContext(null),eBe=fve.Provider,hve=()=>R.useContext(fve),[tBe,nBe]=nm();var pve={card:"m_26775b0a"};const rBe={withBorder:!0},iBe=(e,{radius:t})=>({card:{"--card-radius":vr(t)}}),LV=We((e,t)=>{const n=Ne("CheckboxCard",rBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,defaultChecked:p,onChange:m,...g}=n,y=St({name:"CheckboxCard",classes:pve,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:iBe,rootSelector:"card"}),v=hve(),w=typeof u=="boolean"?u:v?v.value.includes(f||""):void 0,[E,C]=Oi({value:w,defaultValue:p,finalValue:!1,onChange:m});return _.jsx(tBe,{value:{checked:E},children:_.jsx(ts,{ref:t,mod:[{"with-border":d,checked:E},c],...y("card"),...g,role:"checkbox","aria-checked":E,onClick:S=>{h==null||h(S),v==null||v.onChange(f||""),C(!E)}})})});LV.displayName="@mantine/core/CheckboxCard";LV.classes=pve;function jV({children:e,role:t}){const n=g_();return n?_.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):_.jsx(_.Fragment,{children:e})}const sBe={},BV=We((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:l,...u}=Ne("CheckboxGroup",sBe,e),[c,d]=Oi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=typeof h=="string"?h:h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return _.jsx(eBe,{value:{value:c,onChange:f,size:s},children:_.jsx(Pr.Wrapper,{size:s,ref:t,...o,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:_.jsx(jV,{role:"group",children:a})})})});BV.classes=Pr.Wrapper.classes;BV.displayName="@mantine/core/CheckboxGroup";function mve({size:e,style:t,...n}){const r=e!==void 0?{width:Le(e),height:Le(e),...t}:t;return _.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:_.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function gve({indeterminate:e,...t}){return e?_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:_.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):_.jsx(mve,{...t})}var yve={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const oBe={icon:gve},aBe=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Pd({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":fn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:vr(t),"--checkbox-color":s==="outline"?l:Dr(n,e),"--checkbox-icon-color":i?Dr(i,e):hg(o,e)?rm({color:n,theme:e,autoContrast:o}):void 0}}},zV=We((e,t)=>{const n=Ne("CheckboxIndicator",oBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,icon:u,indeterminate:c,radius:d,color:f,iconColor:h,autoContrast:p,checked:m,mod:g,variant:y,disabled:v,...w}=n,E=u,C=St({name:"CheckboxIndicator",classes:yve,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:aBe,rootSelector:"indicator"}),S=nBe(),T=typeof m=="boolean"||typeof c=="boolean"?m||c:(S==null?void 0:S.checked)||!1;return _.jsx(Se,{ref:t,...C("indicator",{variant:y}),variant:y,mod:[{checked:T,disabled:v},g],...w,children:_.jsx(E,{indeterminate:c,...C("icon")})})});zV.displayName="@mantine/core/CheckboxIndicator";zV.classes=yve;var vve={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const lBe={labelPosition:"right",icon:gve},uBe=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Pd({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":fn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:vr(t),"--checkbox-color":s==="outline"?l:Dr(n,e),"--checkbox-icon-color":i?Dr(i,e):hg(o,e)?rm({color:n,theme:e,autoContrast:o}):void 0}}},Ro=We((e,t)=>{const n=Ne("Checkbox",lBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,label:c,id:d,size:f,radius:h,wrapperProps:p,checked:m,labelPosition:g,description:y,error:v,disabled:w,variant:E,indeterminate:C,icon:S,rootRef:T,iconColor:A,onChange:I,autoContrast:D,mod:O,...M}=n,$=hve(),L=f||($==null?void 0:$.size),z=S,B=St({name:"Checkbox",props:n,classes:vve,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:uBe}),{styleProps:W,rest:V}=hb(M),X=ma(d),U=$?{checked:$.value.includes(V.value),onChange:F=>{$.onChange(F),I==null||I(F)}}:{};return _.jsx(N$,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:X,size:L,labelPosition:g,label:c,description:y,error:v,disabled:w,classNames:r,styles:o,unstyled:a,"data-checked":U.checked||m||void 0,variant:E,ref:T,mod:O,...W,...p,children:_.jsxs(Se,{...B("inner"),mod:{"data-label-position":g},children:[_.jsx(Se,{component:"input",id:X,ref:t,checked:m,disabled:w,mod:{error:!!v,indeterminate:C},...B("input",{focusable:!0,variant:E}),onChange:I,...V,...U,type:"checkbox"}),_.jsx(z,{indeterminate:C,...B("icon")})]})})});Ro.classes={...vve,...dve};Ro.displayName="@mantine/core/Checkbox";Ro.Group=BV;Ro.Indicator=zV;Ro.Card=LV;function vx(e){return"group"in e}function bve({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let s=0;s<e.length;s+=1){const o=e[s];if(i.length===n)return i;vx(o)&&i.push({group:o.group,items:bve({options:o.items,search:t,limit:n-i.length})}),vx(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function cBe(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function wve(e,t=new Set){if(Array.isArray(e))for(const n of e)if(vx(n))wve(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function dBe(e,t){return Array.isArray(e)?e.includes(t):e===t}function xve({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:s}){if(!vx(e)){const a=dBe(n,e.value),l=t&&a&&_.jsx(mve,{className:Al.optionsDropdownCheckIcon}),u=_.jsxs(_.Fragment,{children:[r==="left"&&l,_.jsx("span",{children:e.label}),r==="right"&&l]});return _.jsx(jn.Option,{value:e.value,disabled:e.disabled,className:kt({[Al.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:e,checked:a}):u})}const o=e.items.map(a=>_.jsx(xve,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:s},a.value));return _.jsx(jn.Group,{label:e.group,children:o})}function UV({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:s,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:p,renderOption:m,scrollAreaProps:g,"aria-label":y}){wve(e);const w=typeof i=="string"?(r||bve)({options:e,search:l?i:"",limit:s??1/0}):e,E=cBe(w),C=w.map(S=>_.jsx(xve,{data:S,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h,renderOption:m},vx(S)?S.group:S.value));return _.jsx(jn.Dropdown,{hidden:t||n&&E,children:_.jsxs(jn.Options,{labelledBy:p,"aria-label":y,children:[a?_.jsx(Fp.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:C}):C,E&&f&&_.jsx(jn.Empty,{children:f})]})})}const fBe={},HV=We((e,t)=>{const n=Ne("Autocomplete",fBe,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:w,comboboxProps:E,readOnly:C,disabled:S,filter:T,limit:A,withScrollArea:I,maxDropdownHeight:D,size:O,id:M,renderOption:$,autoComplete:L,scrollAreaProps:z,onClear:B,clearButtonProps:W,error:V,clearable:X,rightSection:U,...F}=n,G=ma(M),q=R$(m),Y=D$(q),[J,te]=Oi({value:g,defaultValue:y,finalValue:"",onChange:p}),ue=O$({opened:a,defaultOpened:l,onDropdownOpen:c,onDropdownClose:()=>{u==null||u(),ue.resetSelectedOption()}}),{resolvedClassNames:se,resolvedStyles:ne}=uh({props:n,styles:i,classNames:r});R.useEffect(()=>{v&&ue.selectFirstOption()},[v,J]);const fe=_.jsx(jn.ClearButton,{...W,onClear:()=>{te(""),B==null||B()}});return _.jsxs(jn,{store:ue,__staticSelector:"Autocomplete",classNames:se,styles:ne,unstyled:s,readOnly:C,onOptionSubmit:ee=>{w==null||w(ee),te(Y[ee].label),ue.closeDropdown()},size:O,...E,children:[_.jsx(jn.Target,{autoComplete:L,children:_.jsx(ga,{ref:t,...F,size:O,__staticSelector:"Autocomplete",__clearSection:fe,__clearable:X&&!!J&&!S&&!C,rightSection:U,disabled:S,readOnly:C,value:J,error:V,onChange:ee=>{te(ee.currentTarget.value),ue.openDropdown(),v&&ue.selectFirstOption()},onFocus:ee=>{ue.openDropdown(),d==null||d(ee)},onBlur:ee=>{ue.closeDropdown(),f==null||f(ee)},onClick:ee=>{ue.openDropdown(),h==null||h(ee)},classNames:se,styles:ne,unstyled:s,id:G})}),_.jsx(UV,{data:q,hidden:C||S,filter:T,search:J,limit:A,hiddenWhenEmpty:!0,withScrollArea:I,maxDropdownHeight:D,unstyled:s,labelId:F.label?`${G}-label`:void 0,"aria-label":F.label?void 0:F["aria-label"],renderOption:$,scrollAreaProps:z})]})});HV.classes={...ga.classes,...jn.classes};HV.displayName="@mantine/core/Autocomplete";var _ve={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const hBe={},pBe=(e,{radius:t,color:n,gradient:r,variant:i,size:s,autoContrast:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{root:{"--badge-height":fn(s,"badge-height"),"--badge-padding-x":fn(s,"badge-padding-x"),"--badge-fz":fn(s,"badge-fz"),"--badge-radius":t===void 0?void 0:vr(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?Dr(n,e):void 0}}},nu=os((e,t)=>{const n=Ne("Badge",hBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,radius:u,color:c,gradient:d,leftSection:f,rightSection:h,children:p,variant:m,fullWidth:g,autoContrast:y,circle:v,mod:w,...E}=n,C=St({name:"Badge",props:n,classes:_ve,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:pBe});return _.jsxs(Se,{variant:m,mod:[{block:g,circle:v,"with-right-section":!!h,"with-left-section":!!f},w],...C("root",{variant:m}),ref:t,...E,children:[f&&_.jsx("span",{...C("section"),"data-position":"left",children:f}),_.jsx("span",{...C("label"),children:p}),h&&_.jsx("span",{...C("section"),"data-position":"right",children:h})]})});nu.classes=_ve;nu.displayName="@mantine/core/Badge";var Eve={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const mBe={},gBe=(e,{color:t,size:n,lineSize:r,transitionDuration:i,transitionTimingFunction:s})=>({root:{"--burger-color":t?Dr(t,e):void 0,"--burger-size":fn(n,"burger-size"),"--burger-line-size":r?Le(r):void 0,"--burger-transition-duration":i===void 0?void 0:`${i}ms`,"--burger-transition-timing-function":s}}),qV=We((e,t)=>{const n=Ne("Burger",mBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,opened:u,children:c,transitionDuration:d,transitionTimingFunction:f,lineSize:h,...p}=n,m=St({name:"Burger",classes:Eve,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:gBe});return _.jsxs(ts,{...m("root"),ref:t,...p,children:[_.jsx(Se,{mod:["reduce-motion",{opened:u}],...m("burger")}),c]})});qV.classes=Eve;qV.displayName="@mantine/core/Burger";var v_={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const Zre={orientation:"horizontal"},yBe=(e,{borderWidth:t})=>({group:{"--button-border-width":Le(t)}}),VV=We((e,t)=>{const n=Ne("ButtonGroup",Zre,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=Ne("ButtonGroup",Zre,e),p=St({name:"ButtonGroup",props:n,classes:v_,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:yBe,rootSelector:"group"});return _.jsx(Se,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});VV.classes=v_;VV.displayName="@mantine/core/ButtonGroup";const eie={},vBe=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:s,size:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{groupSection:{"--section-height":fn(o,"section-height"),"--section-padding-x":fn(o,"section-padding-x"),"--section-fz":o!=null&&o.includes("compact")?Ui(o.replace("compact-","")):Ui(o),"--section-radius":t===void 0?void 0:vr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},WV=We((e,t)=>{const n=Ne("ButtonGroupSection",eie,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=Ne("ButtonGroupSection",eie,e),p=St({name:"ButtonGroupSection",props:n,classes:v_,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:vBe,rootSelector:"groupSection"});return _.jsx(Se,{...p("groupSection"),ref:t,variant:u,...h})});WV.classes=v_;WV.displayName="@mantine/core/ButtonGroupSection";const bBe={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Le(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},wBe={},xBe=(e,{radius:t,color:n,gradient:r,variant:i,size:s,justify:o,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":fn(s,"button-height"),"--button-padding-x":fn(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Ui(s.replace("compact-","")):Ui(s),"--button-radius":t===void 0?void 0:vr(t),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},qt=os((e,t)=>{const n=Ne("Button",wBe,e),{style:r,vars:i,className:s,color:o,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:m,gradient:g,classNames:y,styles:v,unstyled:w,"data-disabled":E,autoContrast:C,mod:S,...T}=n,A=St({name:"Button",props:n,classes:v_,className:s,style:r,classNames:y,styles:v,unstyled:w,vars:i,varsResolver:xBe}),I=!!u,D=!!c;return _.jsxs(ts,{ref:t,...A("root",{active:!a&&!p&&!E}),unstyled:w,variant:f,disabled:a||p,mod:[{disabled:a||E,loading:p,block:d,"with-left-section":I,"with-right-section":D},S],...T,children:[_.jsx(lc,{mounted:!!p,transition:bBe,duration:150,children:O=>_.jsx(Se,{component:"span",...A("loader",{style:O}),"aria-hidden":!0,children:_.jsx(Od,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),_.jsxs("span",{...A("inner"),children:[u&&_.jsx(Se,{component:"span",...A("section"),mod:{position:"left"},children:u}),_.jsx(Se,{component:"span",mod:{loading:p},...A("label"),children:l}),c&&_.jsx(Se,{component:"span",...A("section"),mod:{position:"right"},children:c})]})]})});qt.classes=v_;qt.displayName="@mantine/core/Button";qt.Group=VV;qt.GroupSection=WV;const[_Be,EBe]=ms("Card component was not found in tree");var GV={root:"m_e615b15f",section:"m_599a2148"};const CBe={},$$=os((e,t)=>{const n=Ne("CardSection",CBe,e),{classNames:r,className:i,style:s,styles:o,vars:a,withBorder:l,inheritPadding:u,mod:c,...d}=n,f=EBe();return _.jsx(Se,{ref:t,mod:[{"with-border":l,"inherit-padding":u},c],...f.getStyles("section",{className:i,style:s,styles:o,classNames:r}),...d})});$$.classes=GV;$$.displayName="@mantine/core/CardSection";const SBe={},TBe=(e,{padding:t})=>({root:{"--card-padding":es(t)}}),yb=os((e,t)=>{const n=Ne("Card",SBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,padding:c,...d}=n,f=St({name:"Card",props:n,classes:GV,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:TBe}),h=R.Children.toArray(u),p=h.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===$$?R.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):m);return _.jsx(_Be,{value:{getStyles:f},children:_.jsx(pb,{ref:t,unstyled:a,...f("root"),...d,children:p})})});yb.classes=GV;yb.displayName="@mantine/core/Card";yb.Section=$$;var Cve={root:"m_4451eb3a"};const ABe={},xd=os((e,t)=>{const n=Ne("Center",ABe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,inline:u,mod:c,...d}=n,f=St({name:"Center",props:n,classes:Cve,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l});return _.jsx(Se,{ref:t,mod:[{inline:u},c],...f("root"),...d})});xd.classes=Cve;xd.displayName="@mantine/core/Center";var Sve={root:"m_b183c0a2"};const kBe={},IBe=(e,{color:t})=>({root:{"--code-bg":t?Dr(t,e):void 0}}),Cf=We((e,t)=>{const n=Ne("Code",kBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,block:c,variant:d,mod:f,...h}=n,p=St({name:"Code",props:n,classes:Sve,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:IBe});return _.jsx(Se,{component:c?"pre":"code",variant:d,ref:t,mod:[{block:c},f],...p("root"),...h,dir:"ltr"})});Cf.classes=Sve;Cf.displayName="@mantine/core/Code";var Tve={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const tie={withShadow:!0},RBe=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:vr(t),"--cs-size":Le(n)}}),YV=os((e,t)=>{const n=Ne("ColorSwatch",tie,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,size:c,radius:d,withShadow:f,children:h,variant:p,...m}=Ne("ColorSwatch",tie,n),g=St({name:"ColorSwatch",props:n,classes:Tve,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:RBe});return _.jsxs(Se,{ref:t,variant:p,size:c,...g("root",{focusable:!0}),...m,children:[_.jsx("span",{...g("alphaOverlay")}),f&&_.jsx("span",{...g("shadowOverlay")}),_.jsx("span",{...g("colorOverlay",{style:{backgroundColor:u}})}),_.jsx("span",{...g("childrenOverlay"),children:h})]})});YV.classes=Tve;YV.displayName="@mantine/core/ColorSwatch";var Ave={root:"m_7485cace"};const DBe={},PBe=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:fn(t,"container-size")}}),gg=We((e,t)=>{const n=Ne("Container",DBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,f=St({name:"Container",classes:Ave,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:PBe});return _.jsx(Se,{ref:t,mod:[{fluid:u},c],...f("root"),...d})});gg.classes=Ave;gg.displayName="@mantine/core/Container";const OBe={timeout:1e3};function kve(e){const{children:t,timeout:n,value:r,...i}=Ne("CopyButton",OBe,e),s=$5e({timeout:n}),o=()=>s.copy(r);return _.jsx(_.Fragment,{children:t({copy:o,copied:s.copied,...i})})}kve.displayName="@mantine/core/CopyButton";var Ive={root:"m_3eebeb36",label:"m_9e365f20"};const NBe={orientation:"horizontal"},$Be=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?Dr(t,e):void 0,"--divider-border-style":n,"--divider-size":fn(r,"divider-size")}}),b_=We((e,t)=>{const n=Ne("Divider",NBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,orientation:c,label:d,labelPosition:f,mod:h,...p}=n,m=St({name:"Divider",classes:Ive,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:$Be});return _.jsx(Se,{ref:t,mod:[{orientation:c,"with-label":!!d},h],...m("root"),...p,role:"separator",children:d&&_.jsx(Se,{component:"span",mod:{position:f},...m("label"),children:d})})});b_.classes=Ive;b_.displayName="@mantine/core/Divider";const[MBe,w_]=ms("Drawer component was not found in tree");var am={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const FBe={},M$=We((e,t)=>{const n=Ne("DrawerBody",FBe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=w_();return _.jsx(cV,{ref:t,...u.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...l})});M$.classes=am;M$.displayName="@mantine/core/DrawerBody";const LBe={},F$=We((e,t)=>{const n=Ne("DrawerCloseButton",LBe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=w_();return _.jsx(dV,{ref:t,...u.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...l})});F$.classes=am;F$.displayName="@mantine/core/DrawerCloseButton";const jBe={},L$=We((e,t)=>{const n=Ne("DrawerContent",jBe,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:l,radius:u,__hidden:c,...d}=n,f=w_(),h=f.scrollAreaComponent||Kye;return _.jsx(fV,{...f.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:f.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),ref:t,...d,radius:u||f.radius||0,"data-hidden":c||void 0,children:_.jsx(h,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:l})})});L$.classes=am;L$.displayName="@mantine/core/DrawerContent";const BBe={},j$=We((e,t)=>{const n=Ne("DrawerHeader",BBe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=w_();return _.jsx(hV,{ref:t,...u.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...l})});j$.classes=am;j$.displayName="@mantine/core/DrawerHeader";const zBe={},B$=We((e,t)=>{const n=Ne("DrawerOverlay",zBe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=w_();return _.jsx(pV,{ref:t,...u.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...l})});B$.classes=am;B$.displayName="@mantine/core/DrawerOverlay";function UBe(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function HBe(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const qBe={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},VBe={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},WBe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:lo("modal"),position:"left"},GBe=(e,{position:t,size:n,offset:r})=>({root:{"--drawer-size":fn(n,"drawer-size"),"--drawer-flex":HBe(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":UBe(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":Le(r)}}),z$=We((e,t)=>{const n=Ne("DrawerRoot",WBe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,scrollAreaComponent:u,position:c,transitionProps:d,radius:f,...h}=n,{dir:p}=Ga(),m=St({name:"Drawer",classes:am,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:GBe}),g=(p==="rtl"?VBe:qBe)[c];return _.jsx(MBe,{value:{scrollAreaComponent:u,getStyles:m,radius:f},children:_.jsx(uV,{ref:t,...m("root"),transitionProps:{transition:g,...d},unstyled:a,...h})})});z$.classes=am;z$.displayName="@mantine/core/DrawerRoot";const[YBe,KBe]=nm();function Rve({children:e}){const[t,n]=R.useState([]),[r,i]=R.useState(lo("modal"));return _.jsx(YBe,{value:{stack:t,addModal:(s,o)=>{n(a=>[...new Set([...a,s])]),i(a=>typeof o=="number"&&typeof a=="number"?Math.max(a,o):a)},removeModal:s=>n(o=>o.filter(a=>a!==s)),getZIndex:s=>`calc(${r} + ${t.indexOf(s)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}Rve.displayName="@mantine/core/DrawerStack";const XBe={},U$=We((e,t)=>{const n=Ne("DrawerTitle",XBe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=w_();return _.jsx(mV,{ref:t,...u.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...l})});U$.classes=am;U$.displayName="@mantine/core/DrawerTitle";const QBe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:lo("modal"),withOverlay:!0,withCloseButton:!0},Nd=We((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,opened:l,stackId:u,zIndex:c,...d}=Ne("Drawer",QBe,e),f=KBe(),h=!!n||s,p=f&&u?{closeOnEscape:f.currentId===u,trapFocus:f.currentId===u,zIndex:f.getZIndex(u)}:{},m=r===!1?!1:u&&f?f.currentId===u:l;return R.useEffect(()=>{f&&u&&(l?f.addModal(u,c||lo("modal")):f.removeModal(u))},[l,u,c]),_.jsxs(z$,{ref:t,opened:l,zIndex:f&&u?f.getZIndex(u):c,...d,...p,children:[r&&_.jsx(B$,{visible:m,transitionProps:f&&u?{duration:0}:void 0,...i}),_.jsxs(L$,{__hidden:f&&u&&l?u!==f.currentId:!1,children:[h&&_.jsxs(j$,{children:[n&&_.jsx(U$,{children:n}),s&&_.jsx(F$,{...o})]}),_.jsx(M$,{children:a})]})]})});Nd.classes=am;Nd.displayName="@mantine/core/Drawer";Nd.Root=z$;Nd.Overlay=B$;Nd.Content=L$;Nd.Body=M$;Nd.Header=j$;Nd.Title=U$;Nd.CloseButton=F$;Nd.Stack=Rve;function Dve({open:e,close:t,openDelay:n,closeDelay:r}){const i=R.useRef(-1),s=R.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},l=()=>{o(),r===0||r===void 0?t():s.current=window.setTimeout(t,r)};return R.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:l}}const[nie,Pve]=ms("Grid component was not found in tree"),r7=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,rie=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":r7(e,t),iie=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},sie=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function JBe({span:e,order:t,offset:n,selector:r}){var h;const i=Vi(),s=Pve(),o=s.breakpoints||i.breakpoints,l=td(e)===void 0?12:td(e),u=dg({"--col-order":(h=td(t))==null?void 0:h.toString(),"--col-flex-grow":iie(l,s.grow),"--col-flex-basis":r7(l,s.columns),"--col-width":l==="content"?"auto":void 0,"--col-max-width":rie(l,s.columns,s.grow),"--col-offset":sie(td(n),s.columns)}),c=ti(o).reduce((p,m)=>{var g;return p[m]||(p[m]={}),typeof t=="object"&&t[m]!==void 0&&(p[m]["--col-order"]=(g=t[m])==null?void 0:g.toString()),typeof e=="object"&&e[m]!==void 0&&(p[m]["--col-flex-grow"]=iie(e[m],s.grow),p[m]["--col-flex-basis"]=r7(e[m],s.columns),p[m]["--col-width"]=e[m]==="content"?"auto":void 0,p[m]["--col-max-width"]=rie(e[m],s.columns,s.grow)),typeof n=="object"&&n[m]!==void 0&&(p[m]["--col-offset"]=sie(n[m],s.columns)),p},{}),f=v2(ti(c),o).filter(p=>ti(c[p.value]).length>0).map(p=>({query:s.type==="container"?`mantine-grid (min-width: ${o[p.value]})`:`(min-width: ${o[p.value]})`,styles:c[p.value]}));return _.jsx(fb,{styles:u,media:s.type==="container"?void 0:f,container:s.type==="container"?f:void 0,selector:r})}var KV={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const ZBe={span:12},XV=We((e,t)=>{const n=Ne("GridCol",ZBe,e),{classNames:r,className:i,style:s,styles:o,vars:a,span:l,order:u,offset:c,...d}=n,f=Pve(),h=DT();return _.jsxs(_.Fragment,{children:[_.jsx(JBe,{selector:`.${h}`,span:l,order:u,offset:c}),_.jsx(Se,{ref:t,...f.getStyles("col",{className:kt(i,h),style:s,classNames:r,styles:o}),...d})]})});XV.classes=KV;XV.displayName="@mantine/core/GridCol";function oie({gutter:e,selector:t,breakpoints:n,type:r}){const i=Vi(),s=n||i.breakpoints,o=dg({"--grid-gutter":es(td(e))}),a=ti(s).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--grid-gutter"]=es(e[d])),c),{}),u=v2(ti(a),s).filter(c=>ti(a[c.value]).length>0).map(c=>({query:r==="container"?`mantine-grid (min-width: ${s[c.value]})`:`(min-width: ${s[c.value]})`,styles:a[c.value]}));return _.jsx(fb,{styles:o,media:r==="container"?void 0:u,container:r==="container"?u:void 0,selector:t})}const e7e={gutter:"md",grow:!1,columns:12},t7e=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),Rf=We((e,t)=>{const n=Ne("Grid",e7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,grow:u,gutter:c,columns:d,align:f,justify:h,children:p,breakpoints:m,type:g,...y}=n,v=St({name:"Grid",classes:KV,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:t7e}),w=DT();return g==="container"&&m?_.jsxs(nie,{value:{getStyles:v,grow:u,columns:d||12,breakpoints:m,type:g},children:[_.jsx(oie,{selector:`.${w}`,...n}),_.jsx("div",{...v("container"),children:_.jsx(Se,{ref:t,...v("root",{className:w}),...y,children:_.jsx("div",{...v("inner"),children:p})})})]}):_.jsxs(nie,{value:{getStyles:v,grow:u,columns:d||12,breakpoints:m,type:g},children:[_.jsx(oie,{selector:`.${w}`,...n}),_.jsx(Se,{ref:t,...v("root",{className:w}),...y,children:_.jsx("div",{...v("inner"),children:p})})]})});Rf.classes=KV;Rf.displayName="@mantine/core/Grid";Rf.Col=XV;function aie({color:e,theme:t,defaultShade:n}){const r=Pd({color:e,theme:t});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:e}var Ove={root:"m_bcb3f3c2"};const n7e={color:"yellow"},r7e=(e,{color:t})=>({root:{"--mark-bg-dark":aie({color:t,theme:e,defaultShade:5}),"--mark-bg-light":aie({color:t,theme:e,defaultShade:2})}}),QV=We((e,t)=>{const n=Ne("Mark",n7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,variant:c,...d}=n,f=St({name:"Mark",props:n,className:i,style:s,classes:Ove,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:r7e});return _.jsx(Se,{component:"mark",ref:t,variant:c,...f("root"),...d})});QV.classes=Ove;QV.displayName="@mantine/core/Mark";function lie(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function i7e(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(lie):lie(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).sort((a,l)=>l.length-a.length).join("|"),s=new RegExp(`(${i})`,"gi");return e.split(s).map(a=>({chunk:a,highlighted:s.test(a)})).filter(({chunk:a})=>a)}const s7e={},JV=os((e,t)=>{const{unstyled:n,children:r,highlight:i,highlightStyles:s,color:o,...a}=Ne("Highlight",s7e,e),l=i7e(r,i);return _.jsx(tt,{unstyled:n,ref:t,...a,__staticSelector:"Highlight",children:l.map(({chunk:u,highlighted:c},d)=>c?_.jsx(QV,{unstyled:n,color:o,style:s,"data-highlight":u,children:u},d):_.jsx("span",{children:u},d))})});JV.classes=tt.classes;JV.displayName="@mantine/core/Highlight";const[o7e,Nve]=ms("HoverCard component was not found in the tree"),a7e={};function $ve(e){const{children:t,onMouseEnter:n,onMouseLeave:r,...i}=Ne("HoverCardDropdown",a7e,e),s=Nve(),o=Js(n,s.openDropdown),a=Js(r,s.closeDropdown);return _.jsx(Di.Dropdown,{onMouseEnter:o,onMouseLeave:a,...i,children:t})}$ve.displayName="@mantine/core/HoverCardDropdown";const l7e={refProp:"ref"},Mve=R.forwardRef((e,t)=>{const{children:n,refProp:r,eventPropsWrapperName:i,...s}=Ne("HoverCardTarget",l7e,e);if(!tm(n))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=Nve(),a=Js(n.props.onMouseEnter,o.openDropdown),l=Js(n.props.onMouseLeave,o.closeDropdown),u={onMouseEnter:a,onMouseLeave:l};return _.jsx(Di.Target,{refProp:r,ref:t,...s,children:R.cloneElement(n,i?{[i]:u}:u)})});Mve.displayName="@mantine/core/HoverCardTarget";const u7e={openDelay:0,closeDelay:150,initiallyOpened:!1};function fv(e){const{children:t,onOpen:n,onClose:r,openDelay:i,closeDelay:s,initiallyOpened:o,...a}=Ne("HoverCard",u7e,e),[l,{open:u,close:c}]=Nq(o,{onClose:r,onOpen:n}),{openDropdown:d,closeDropdown:f}=Dve({open:u,close:c,openDelay:i,closeDelay:s});return _.jsx(o7e,{value:{openDropdown:d,closeDropdown:f},children:_.jsx(Di,{...a,opened:l,__staticSelector:"HoverCard",children:t})})}fv.displayName="@mantine/core/HoverCard";fv.Target=Mve;fv.Dropdown=$ve;fv.extend=e=>e;var Fve={root:"m_9e117634"};const c7e={},d7e=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:vr(t),"--image-object-fit":n}}),yg=os((e,t)=>{const n=Ne("Image",c7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,onError:u,src:c,radius:d,fit:f,fallbackSrc:h,mod:p,...m}=n,[g,y]=R.useState(!c);R.useEffect(()=>y(!c),[c]);const v=St({name:"Image",classes:Fve,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:d7e});return g&&h?_.jsx(Se,{component:"img",ref:t,src:h,...v("root"),onError:u,mod:["fallback",p],...m}):_.jsx(Se,{component:"img",ref:t,...v("root"),src:c,onError:w=>{u==null||u(w),y(!0)},mod:p,...m})});yg.classes=Fve;yg.displayName="@mantine/core/Image";function f7e(e="top-end",t=0){const n={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},r=Le(t),[i,s]=e.split("-");return i==="top"&&(n["--indicator-top"]=r,n["--indicator-translate-y"]="-50%"),i==="middle"&&(n["--indicator-top"]="50%",n["--indicator-translate-y"]="-50%"),i==="bottom"&&(n["--indicator-bottom"]=r,n["--indicator-translate-y"]="50%"),s==="start"&&(n["--indicator-left"]=r,n["--indicator-translate-x"]="-50%"),s==="center"&&(n["--indicator-left"]="50%",n["--indicator-translate-x"]="-50%"),s==="end"&&(n["--indicator-right"]=r,n["--indicator-translate-x"]="50%"),n}var Lve={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const h7e={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},p7e=(e,{color:t,position:n,offset:r,size:i,radius:s,zIndex:o,autoContrast:a})=>({root:{"--indicator-color":t?Dr(t,e):void 0,"--indicator-text-color":hg(a,e)?rm({color:t,theme:e,autoContrast:a}):void 0,"--indicator-size":Le(i),"--indicator-radius":s===void 0?void 0:vr(s),"--indicator-z-index":o==null?void 0:o.toString(),...f7e(n,r)}}),ZV=We((e,t)=>{const n=Ne("Indicator",h7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,position:c,offset:d,inline:f,label:h,radius:p,color:m,withBorder:g,disabled:y,processing:v,zIndex:w,autoContrast:E,mod:C,...S}=n,T=St({name:"Indicator",classes:Lve,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:p7e});return _.jsxs(Se,{ref:t,...T("root"),mod:[{inline:f},C],...S,children:[!y&&_.jsx(Se,{mod:{"with-label":!!h,"with-border":g,processing:v},...T("indicator"),children:h}),u]})});ZV.classes=Lve;ZV.displayName="@mantine/core/Indicator";function F3(){return F3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F3.apply(null,arguments)}function eW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var m7e=R.useLayoutEffect,g7e=function(t){var n=R.useRef(t);return m7e(function(){n.current=t}),n},uie=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},y7e=function(t,n){var r=R.useRef();return R.useCallback(function(i){t.current=i,r.current&&uie(r.current,null),r.current=n,n&&uie(n,i)},[n])},cie={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},v7e=function(t){Object.keys(cie).forEach(function(n){t.style.setProperty(n,cie[n],"important")})},die=v7e,Ea=null,fie=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function b7e(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ea||(Ea=document.createElement("textarea"),Ea.setAttribute("tabindex","-1"),Ea.setAttribute("aria-hidden","true"),die(Ea)),Ea.parentNode===null&&document.body.appendChild(Ea);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var h=f;Ea.style[h]=o[h]}),die(Ea),Ea.value=t;var l=fie(Ea,e);Ea.value=t,l=fie(Ea,e),Ea.value="x";var u=Ea.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+s),l=Math.min(d,l),[l,u]}var hie=function(){},w7e=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},x7e=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],_7e=!!document.documentElement.currentStyle,E7e=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=w7e(x7e,n),i=r.boxSizing;if(i==="")return null;_7e&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},C7e=E7e;function jve(e,t,n){var r=g7e(n);R.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var S7e=function(t){jve(window,"resize",t)},T7e=function(t){jve(document.fonts,"loadingdone",t)},A7e=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],k7e=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?hie:o,l=t.onHeightChange,u=l===void 0?hie:l,c=eW(t,A7e),d=c.value!==void 0,f=R.useRef(null),h=y7e(f,n),p=R.useRef(0),m=R.useRef(),g=function(){var w=f.current,E=r&&m.current?m.current:C7e(w);if(E){m.current=E;var C=b7e(E,w.value||w.placeholder||"x",s,i),S=C[0],T=C[1];p.current!==S&&(p.current=S,w.style.setProperty("height",S+"px","important"),u(S,{rowHeight:T}))}},y=function(w){d||g(),a(w)};return R.useLayoutEffect(g),S7e(g),T7e(g),R.createElement("textarea",F3({},c,{onChange:y,ref:h}))},I7e=R.forwardRef(k7e);const R7e={},tW=We((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:s,resize:o,...a}=Ne("Textarea",R7e,e),l=n&&sFe()!=="test",u=l?{maxRows:r,minRows:i}:{};return _.jsx(ga,{component:l?I7e:"textarea",ref:t,...a,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...u})});tW.classes=ga.classes;tW.displayName="@mantine/core/Textarea";const[D7e,P7e]=ms("List component was not found in tree");var nW={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const O7e={},rW=We((e,t)=>{const n=Ne("ListItem",O7e,e),{classNames:r,className:i,style:s,styles:o,vars:a,icon:l,children:u,mod:c,...d}=n,f=P7e(),h=l||f.icon,p={classNames:r,styles:o};return _.jsx(Se,{...f.getStyles("item",{...p,className:i,style:s}),component:"li",mod:[{"with-icon":!!h,centered:f.center},c],ref:t,...d,children:_.jsxs("div",{...f.getStyles("itemWrapper",p),children:[h&&_.jsx("span",{...f.getStyles("itemIcon",p),children:h}),_.jsx("span",{...f.getStyles("itemLabel",p),children:u})]})})});rW.classes=nW;rW.displayName="@mantine/core/ListItem";const N7e={type:"unordered"},$7e=(e,{size:t,spacing:n})=>({root:{"--list-fz":Ui(t),"--list-lh":Nge(t),"--list-spacing":es(n)}}),ud=We((e,t)=>{const n=Ne("List",N7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,type:c,withPadding:d,icon:f,spacing:h,center:p,listStyleType:m,mod:g,...y}=n,v=St({name:"List",classes:nW,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:$7e});return _.jsx(D7e,{value:{center:p,icon:f,getStyles:v},children:_.jsx(Se,{...v("root",{style:{listStyleType:m}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":d},g],ref:t,...y,children:u})})});ud.classes=nW;ud.displayName="@mantine/core/List";ud.Item=rW;var Bve={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const pie={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:lo("overlay")},M7e=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),Ju=We((e,t)=>{const n=Ne("LoadingOverlay",pie,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,transitionProps:u,loaderProps:c,overlayProps:d,visible:f,zIndex:h,...p}=n,m=Vi(),g=St({name:"LoadingOverlay",classes:Bve,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:M7e}),y={...pie.overlayProps,...d};return _.jsx(lc,{transition:"fade",...u,mounted:!!f,children:v=>_.jsxs(Se,{...g("root",{style:v}),ref:t,...p,children:[_.jsx(Od,{...g("loader"),unstyled:a,...c}),_.jsx(mx,{...y,...g("overlay"),darkHidden:!0,unstyled:a,color:(d==null?void 0:d.color)||m.white}),_.jsx(mx,{...y,...g("overlay"),lightHidden:!0,unstyled:a,color:(d==null?void 0:d.color)||m.colors.dark[5]})]})})});Ju.classes=Bve;Ju.displayName="@mantine/core/LoadingOverlay";const[F7e,jT]=ms("Menu component was not found in the tree");var x_={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const L7e={},iW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ne("MenuDivider",L7e,e),l=jT();return _.jsx(Se,{ref:t,...l.getStyles("divider",{className:r,style:i,styles:s,classNames:n}),...a})});iW.classes=x_;iW.displayName="@mantine/core/MenuDivider";const j7e={},sW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,onMouseEnter:a,onMouseLeave:l,onKeyDown:u,children:c,...d}=Ne("MenuDropdown",j7e,e),f=R.useRef(null),h=jT(),p=Js(u,y=>{var v,w;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(w=(v=f.current)==null?void 0:v.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||w.focus())}),m=Js(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),g=Js(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return _.jsxs(Di.Dropdown,{...d,onMouseEnter:m,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:Ns(t,f),...h.getStyles("dropdown",{className:r,style:i,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:p,children:[_.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),c]})});sW.classes=x_;sW.displayName="@mantine/core/MenuDropdown";const B7e={},oW=os((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:f,...h}=Ne("MenuItem",B7e,e),p=jT(),m=Vi(),{dir:g}=Ga(),y=R.useRef(null),v=p.getItemIndex(y.current),w=h,E=Js(w.onMouseLeave,()=>p.setHovered(-1)),C=Js(w.onMouseEnter,()=>p.setHovered(p.getItemIndex(y.current))),S=Js(w.onClick,()=>{typeof l=="boolean"?l&&p.closeDropdownImmediately():p.closeOnItemClick&&p.closeDropdownImmediately()}),T=Js(w.onFocus,()=>p.setHovered(p.getItemIndex(y.current))),A=a?m.variantColorResolver({color:a,theme:m,variant:"light"}):void 0,I=a?Pd({color:a,theme:m}):null;return _.jsxs(ts,{...h,unstyled:p.unstyled,tabIndex:p.menuItemTabIndex,onFocus:T,...p.getStyles("item",{className:r,style:i,styles:s,classNames:n}),ref:Ns(y,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||void 0,"data-hovered":p.hovered===v?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:C,onMouseLeave:E,onClick:S,onKeyDown:Dq({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:p.loop,dir:g,orientation:"vertical",onKeyDown:w.onKeyDown}),__vars:{"--menu-item-color":I!=null&&I.isThemeColor&&(I==null?void 0:I.shade)===void 0?`var(--mantine-color-${I.color}-6)`:A==null?void 0:A.color,"--menu-item-hover":A==null?void 0:A.hover},children:[u&&_.jsx("div",{...p.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:u}),d&&_.jsx("div",{...p.getStyles("itemLabel",{styles:s,classNames:n}),children:d}),c&&_.jsx("div",{...p.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:c})]})});oW.classes=x_;oW.displayName="@mantine/core/MenuItem";const z7e={},aW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ne("MenuLabel",z7e,e),l=jT();return _.jsx(Se,{ref:t,...l.getStyles("label",{className:r,style:i,styles:s,classNames:n}),...a})});aW.classes=x_;aW.displayName="@mantine/core/MenuLabel";const U7e={refProp:"ref"},zve=R.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=Ne("MenuTarget",U7e,e);if(!tm(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=jT(),o=n.props,a=Js(o.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),l=Js(o.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),u=Js(o.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return _.jsx(Di.Target,{refProp:r,popupType:"menu",ref:t,...i,children:R.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":s.opened?!0:void 0})})});zve.displayName="@mantine/core/MenuTarget";const H7e={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function mn(e){const t=Ne("Menu",H7e,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:m,styles:g,unstyled:y,variant:v,vars:w,menuItemTabIndex:E,keepMounted:C,...S}=t,T=St({name:"Menu",classes:x_,props:t,classNames:m,styles:g,unstyled:y}),[A,{setHovered:I,resetHovered:D}]=O5e(),[O,M]=Oi({value:s,defaultValue:o,finalValue:!1,onChange:l}),[$,L]=R.useState(!1),z=()=>{M(!1),L(!1),O&&(i==null||i())},B=()=>{M(!0),!O&&(r==null||r())},W=()=>{O?z():B()},{openDropdown:V,closeDropdown:X}=Dve({open:B,close:z,closeDelay:p,openDelay:h}),U=q=>P5e("[data-menu-item]","[data-menu-dropdown]",q),{resolvedClassNames:F,resolvedStyles:G}=uh({classNames:m,styles:g,props:t});return vd(()=>{D()},[O]),_.jsx(F7e,{value:{getStyles:T,opened:O,toggleDropdown:W,getItemIndex:U,hovered:A,setHovered:I,openedViaClick:$,setOpenedViaClick:L,closeOnItemClick:u,closeDropdown:f==="click"?z:X,openDropdown:f==="click"?B:V,closeDropdownImmediately:z,loop:c,trigger:f,unstyled:y,menuItemTabIndex:E},children:_.jsx(Di,{...S,opened:O,onChange:W,defaultOpened:o,trapFocus:C?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:F,styles:G,unstyled:y,variant:v,keepMounted:C,children:n})})}mn.extend=e=>e;mn.classes=x_;mn.displayName="@mantine/core/Menu";mn.Item=oW;mn.Label=aW;mn.Dropdown=sW;mn.Target=zve;mn.Divider=iW;const[q7e,__]=ms("Modal component was not found in tree");var lm={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const V7e={},H$=We((e,t)=>{const n=Ne("ModalBody",V7e,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=__();return _.jsx(cV,{ref:t,...u.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...l})});H$.classes=lm;H$.displayName="@mantine/core/ModalBody";const W7e={},q$=We((e,t)=>{const n=Ne("ModalCloseButton",W7e,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=__();return _.jsx(dV,{ref:t,...u.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...l})});q$.classes=lm;q$.displayName="@mantine/core/ModalCloseButton";const G7e={},V$=We((e,t)=>{const n=Ne("ModalContent",G7e,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:l,__hidden:u,...c}=n,d=__(),f=d.scrollAreaComponent||Kye;return _.jsx(fV,{...d.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:t,...c,children:_.jsx(f,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${Le(d.yOffset)} * 2))`},children:l})})});V$.classes=lm;V$.displayName="@mantine/core/ModalContent";const Y7e={},W$=We((e,t)=>{const n=Ne("ModalHeader",Y7e,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=__();return _.jsx(hV,{ref:t,...u.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...l})});W$.classes=lm;W$.displayName="@mantine/core/ModalHeader";const K7e={},G$=We((e,t)=>{const n=Ne("ModalOverlay",K7e,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=__();return _.jsx(pV,{ref:t,...u.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...l})});G$.classes=lm;G$.displayName="@mantine/core/ModalOverlay";const X7e={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:lo("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},Q7e=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:vr(t),"--modal-size":fn(n,"modal-size"),"--modal-y-offset":Le(r),"--modal-x-offset":Le(i)}}),Y$=We((e,t)=>{const n=Ne("ModalRoot",X7e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:f,centered:h,xOffset:p,__staticSelector:m,...g}=n,y=St({name:m,classes:lm,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Q7e});return _.jsx(q7e,{value:{yOffset:u,scrollAreaComponent:c,getStyles:y,fullScreen:f},children:_.jsx(uV,{ref:t,...y("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,unstyled:a,...g})})});Y$.classes=lm;Y$.displayName="@mantine/core/ModalRoot";const[J7e,Z7e]=nm();function Uve({children:e}){const[t,n]=R.useState([]),[r,i]=R.useState(lo("modal"));return _.jsx(J7e,{value:{stack:t,addModal:(s,o)=>{n(a=>[...new Set([...a,s])]),i(a=>typeof o=="number"&&typeof a=="number"?Math.max(a,o):a)},removeModal:s=>n(o=>o.filter(a=>a!==s)),getZIndex:s=>`calc(${r} + ${t.indexOf(s)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}Uve.displayName="@mantine/core/ModalStack";const eze={},K$=We((e,t)=>{const n=Ne("ModalTitle",eze,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=__();return _.jsx(mV,{ref:t,...u.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...l})});K$.classes=lm;K$.displayName="@mantine/core/ModalTitle";const tze={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:lo("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},pi=We((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,radius:l,opened:u,stackId:c,zIndex:d,...f}=Ne("Modal",tze,e),h=Z7e(),p=!!n||s,m=h&&c?{closeOnEscape:h.currentId===c,trapFocus:h.currentId===c,zIndex:h.getZIndex(c)}:{},g=r===!1?!1:c&&h?h.currentId===c:u;return R.useEffect(()=>{h&&c&&(u?h.addModal(c,d||lo("modal")):h.removeModal(c))},[u,c,d]),_.jsxs(Y$,{ref:t,radius:l,opened:u,zIndex:h&&c?h.getZIndex(c):d,...f,...m,children:[r&&_.jsx(G$,{visible:g,transitionProps:h&&c?{duration:0}:void 0,...i}),_.jsxs(V$,{radius:l,__hidden:h&&c&&u?c!==h.currentId:!1,children:[p&&_.jsxs(W$,{children:[n&&_.jsx(K$,{children:n}),s&&_.jsx(q$,{...o})]}),_.jsx(H$,{children:a})]})]})});pi.classes=lm;pi.displayName="@mantine/core/Modal";pi.Root=Y$;pi.Overlay=G$;pi.Content=V$;pi.Body=H$;pi.Header=W$;pi.Title=K$;pi.CloseButton=q$;pi.Stack=Uve;const[nze,lW]=nm(),[rze,ize]=nm();var X$={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const sze={},oze=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?fn(t):fn(n,"pg-gap")}}),uW=We((e,t)=>{const n=Ne("PillGroup",sze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,disabled:c,...d}=n,f=lW(),h=(f==null?void 0:f.size)||u||void 0,p=St({name:"PillGroup",classes:X$,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:oze,stylesCtx:{size:h},rootSelector:"group"});return _.jsx(rze,{value:{size:h,disabled:c},children:_.jsx(Se,{ref:t,size:h,...p("group"),...d})})});uW.classes=X$;uW.displayName="@mantine/core/PillGroup";const aze={variant:"default"},lze=(e,{radius:t},{size:n})=>({root:{"--pill-fz":fn(n,"pill-fz"),"--pill-height":fn(n,"pill-height"),"--pill-radius":t===void 0?void 0:vr(t)}}),_2=We((e,t)=>{const n=Ne("Pill",aze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,variant:u,children:c,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:p,size:m,disabled:g,mod:y,...v}=n,w=ize(),E=lW(),C=m||(w==null?void 0:w.size)||void 0,S=(E==null?void 0:E.variant)==="filled"?"contrast":u||"default",T=St({name:"Pill",classes:X$,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:lze,stylesCtx:{size:C}});return _.jsxs(Se,{component:"span",ref:t,variant:S,size:C,...T("root",{variant:S}),mod:[{"with-remove":d&&!g,disabled:g||(w==null?void 0:w.disabled)},y],...v,children:[_.jsx("span",{...T("label"),children:c}),d&&_.jsx(Kf,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...T("remove",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onMouseDown:A=>{var I;A.preventDefault(),A.stopPropagation(),(I=h==null?void 0:h.onMouseDown)==null||I.call(h,A)},onClick:A=>{var I;A.stopPropagation(),f==null||f(),(I=h==null?void 0:h.onClick)==null||I.call(h,A)}})]})});_2.classes=X$;_2.displayName="@mantine/core/Pill";_2.Group=uW;var Hve={field:"m_45c4369d"};const uze={type:"visible"},cW=We((e,t)=>{const n=Ne("PillsInputField",uze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,type:u,disabled:c,id:d,pointer:f,mod:h,...p}=n,m=lW(),g=g_(),y=St({name:"PillsInputField",classes:Hve,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"field"}),v=c||(m==null?void 0:m.disabled);return _.jsx(Se,{component:"input",ref:Ns(t,m==null?void 0:m.fieldRef),"data-type":u,disabled:v,mod:[{disabled:v,pointer:f},h],...y("field"),...p,id:(g==null?void 0:g.inputId)||d,"aria-invalid":m==null?void 0:m.hasError,"aria-describedby":g==null?void 0:g.describedBy,type:"text",onMouseDown:w=>!f&&w.stopPropagation()})});cW.classes=Hve;cW.displayName="@mantine/core/PillsInputField";const cze={},L3=We((e,t)=>{const n=Ne("PillsInput",cze,e),{children:r,onMouseDown:i,onClick:s,size:o,disabled:a,__staticSelector:l,error:u,variant:c,...d}=n,f=R.useRef(null);return _.jsx(nze,{value:{fieldRef:f,size:o,disabled:a,hasError:!!u,variant:c},children:_.jsx(ga,{size:o,error:u,variant:c,component:"div",ref:t,onMouseDown:h=>{var p;h.preventDefault(),i==null||i(h),(p=f.current)==null||p.focus()},onClick:h=>{var p;h.preventDefault(),s==null||s(h),(p=f.current)==null||p.focus()},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});L3.displayName="@mantine/core/PillsInput";L3.Field=cW;function dze({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,s)=>(vx(s)?i.push({group:s.group,items:s.items.filter(o=>n.indexOf(o.value.toLowerCase().trim())===-1)}):n.indexOf(s.value.toLowerCase().trim())===-1&&i.push(s),i),[])}const fze={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},BT=We((e,t)=>{const n=Ne("MultiSelect",fze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,value:c,defaultValue:d,onChange:f,onKeyDown:h,variant:p,data:m,dropdownOpened:g,defaultDropdownOpened:y,onDropdownOpen:v,onDropdownClose:w,selectFirstOptionOnChange:E,onOptionSubmit:C,comboboxProps:S,filter:T,limit:A,withScrollArea:I,maxDropdownHeight:D,searchValue:O,defaultSearchValue:M,onSearchChange:$,readOnly:L,disabled:z,onFocus:B,onBlur:W,onPaste:V,radius:X,rightSection:U,rightSectionWidth:F,rightSectionPointerEvents:G,rightSectionProps:q,leftSection:Y,leftSectionWidth:J,leftSectionPointerEvents:te,leftSectionProps:ue,inputContainer:se,inputWrapperOrder:ne,withAsterisk:fe,labelProps:ee,descriptionProps:ie,errorProps:he,wrapperProps:ye,description:Ce,label:Re,error:De,maxValues:be,searchable:je,nothingFoundMessage:Qe,withCheckIcon:it,checkIconPosition:Ke,hidePickedOptions:Pe,withErrorStyles:ze,name:ot,form:xe,id:Te,clearable:nt,clearButtonProps:ht,hiddenInputProps:st,placeholder:Ot,hiddenInputValuesDivider:Qt,required:kn,mod:Yn,renderOption:gn,onRemove:Tn,onClear:er,scrollAreaProps:Nn,...Ni}=n,Kn=ma(Te),Or=R$(m),Vr=D$(Or),Xn=O$({opened:g,defaultOpened:y,onDropdownOpen:v,onDropdownClose:()=>{w==null||w(),Xn.resetSelectedOption()}}),{styleProps:Gi,rest:{type:zo,autoComplete:ys,...tr}}=hb(Ni),[_t,Fr]=Oi({value:c,defaultValue:d,finalValue:[],onChange:f}),[hn,sr]=Oi({value:O,defaultValue:M,finalValue:"",onChange:$}),En=St({name:"MultiSelect",classes:{},props:n,classNames:r,styles:o,unstyled:a}),{resolvedClassNames:Ar,resolvedStyles:Jr}=uh({props:n,styles:o,classNames:r}),_i=fr=>{h==null||h(fr),fr.key===" "&&!je&&(fr.preventDefault(),Xn.toggleDropdown()),fr.key==="Backspace"&&hn.length===0&&_t.length>0&&(Tn==null||Tn(_t[_t.length-1]),Fr(_t.slice(0,_t.length-1)))},ho=_t.map((fr,wc)=>{var Ei,Ja;return _.jsx(_2,{withRemoveButton:!L&&!((Ei=Vr[fr])!=null&&Ei.disabled),onRemove:()=>{Fr(_t.filter(po=>fr!==po)),Tn==null||Tn(fr)},unstyled:a,disabled:z,...En("pill"),children:((Ja=Vr[fr])==null?void 0:Ja.label)||fr},`${fr}-${wc}`)});R.useEffect(()=>{E&&Xn.selectFirstOption()},[E,_t]);const Fl=_.jsx(jn.ClearButton,{...ht,onClear:()=>{er==null||er(),Fr([]),sr("")}}),Rh=dze({data:Or,value:_t});return _.jsxs(_.Fragment,{children:[_.jsxs(jn,{store:Xn,classNames:Ar,styles:Jr,unstyled:a,size:u,readOnly:L,__staticSelector:"MultiSelect",onOptionSubmit:fr=>{C==null||C(fr),sr(""),Xn.updateSelectedOptionIndex("selected"),_t.includes(Vr[fr].value)?(Fr(_t.filter(wc=>wc!==Vr[fr].value)),Tn==null||Tn(Vr[fr].value)):_t.length<be&&Fr([..._t,Vr[fr].value])},...S,children:[_.jsx(jn.DropdownTarget,{children:_.jsx(L3,{...Gi,__staticSelector:"MultiSelect",classNames:Ar,styles:Jr,unstyled:a,size:u,className:i,style:s,variant:p,disabled:z,radius:X,__defaultRightSection:_.jsx(jn.Chevron,{size:u,error:De,unstyled:a}),__clearSection:Fl,__clearable:nt&&_t.length>0&&!z&&!L,rightSection:U,rightSectionPointerEvents:G||(Fl?"all":"none"),rightSectionWidth:F,rightSectionProps:q,leftSection:Y,leftSectionWidth:J,leftSectionPointerEvents:te,leftSectionProps:ue,inputContainer:se,inputWrapperOrder:ne,withAsterisk:fe,labelProps:ee,descriptionProps:ie,errorProps:he,wrapperProps:ye,description:Ce,label:Re,error:De,multiline:!0,withErrorStyles:ze,__stylesApiProps:{...n,rightSectionPointerEvents:G||(Fl?"all":"none"),multiline:!0},pointer:!je,onClick:()=>je?Xn.openDropdown():Xn.toggleDropdown(),"data-expanded":Xn.dropdownOpened||void 0,id:Kn,required:kn,mod:Yn,children:_.jsxs(_2.Group,{disabled:z,unstyled:a,...En("pillsList"),children:[ho,_.jsx(jn.EventsTarget,{autoComplete:ys,children:_.jsx(L3.Field,{...tr,ref:t,id:Kn,placeholder:Ot,type:!je&&!Ot?"hidden":"visible",...En("inputField"),unstyled:a,onFocus:fr=>{B==null||B(fr),je&&Xn.openDropdown()},onBlur:fr=>{W==null||W(fr),Xn.closeDropdown(),sr("")},onKeyDown:_i,value:hn,onChange:fr=>{sr(fr.currentTarget.value),je&&Xn.openDropdown(),E&&Xn.selectFirstOption()},disabled:z,readOnly:L||!je,pointer:!je})})]})})}),_.jsx(UV,{data:Pe?Rh:Or,hidden:L||z,filter:T,search:hn,limit:A,hiddenWhenEmpty:!Qe,withScrollArea:I,maxDropdownHeight:D,filterOptions:je,value:_t,checkIconPosition:Ke,withCheckIcon:it,nothingFoundMessage:Qe,unstyled:a,labelId:Re?`${Kn}-label`:void 0,"aria-label":Re?void 0:Ni["aria-label"],renderOption:gn,scrollAreaProps:Nn})]}),_.jsx(jn.HiddenInput,{name:ot,valuesDivider:Qt,value:_t,form:xe,disabled:z,...st})]})});BT.classes={...ga.classes,...jn.classes};BT.displayName="@mantine/core/MultiSelect";function hze(e){return"group"in e}function dW({data:e}){if(hze(e)){const i=e.items.map(s=>_.jsx(dW,{data:s},s.value));return _.jsx("optgroup",{label:e.group,children:i})}const{value:t,label:n,...r}=e;return _.jsx("option",{value:e.value,...r,children:e.label},e.value)}dW.displayName="@mantine/core/NativeSelectOption";const pze={rightSectionPointerEvents:"none"},jy=We((e,t)=>{const{data:n,children:r,size:i,error:s,rightSection:o,unstyled:a,...l}=Ne("NativeSelect",pze,e),u=R$(n).map((c,d)=>_.jsx(dW,{data:c},d));return _.jsx(ga,{component:"select",ref:t,...l,__staticSelector:"NativeSelect",size:i,pointer:!0,error:s,unstyled:a,rightSection:o||_.jsx(P$,{size:i,error:s,unstyled:a}),children:r||u})});jy.classes=ga.classes;jy.displayName="@mantine/core/NativeSelect";var qve={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const mze={},gze=(e,{variant:t,color:n,childrenOffset:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":n||t?s.background:void 0,"--nl-hover":n||t?s.hover:void 0,"--nl-color":n||t?s.color:void 0},children:{"--nl-offset":es(r)}}},Q$=os((e,t)=>{const n=Ne("NavLink",mze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,opened:u,defaultOpened:c,onChange:d,children:f,onClick:h,active:p,disabled:m,leftSection:g,rightSection:y,label:v,description:w,disableRightSectionRotation:E,noWrap:C,childrenOffset:S,onKeyDown:T,autoContrast:A,mod:I,...D}=n,O=St({name:"NavLink",props:n,classes:qve,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:gze}),[M,$]=Oi({value:u,defaultValue:c,finalValue:!1,onChange:d}),L=!!f,z=B=>{h==null||h(B),L&&(B.preventDefault(),$(!M))};return _.jsxs(_.Fragment,{children:[_.jsxs(ts,{...O("root"),component:"a",ref:t,onClick:z,onKeyDown:B=>{T==null||T(B),B.nativeEvent.code==="Space"&&L&&(B.preventDefault(),$(!M))},unstyled:a,mod:[{disabled:m,active:p,expanded:M},I],...D,children:[g&&_.jsx(Se,{component:"span",...O("section"),mod:{position:"left"},children:g}),_.jsxs(Se,{...O("body"),mod:{"no-wrap":C},children:[_.jsx(Se,{component:"span",...O("label"),children:v}),_.jsx(Se,{component:"span",mod:{active:p},...O("description"),children:w})]}),(L||y)&&_.jsx(Se,{...O("section"),component:"span",mod:{rotate:M&&!E,position:"right"},children:L?y||_.jsx(yx,{...O("chevron")}):y})]}),L&&_.jsx(im,{in:M,...O("collapse"),children:_.jsx("div",{...O("children"),children:f})})]})});Q$.classes=qve;Q$.displayName="@mantine/core/NavLink";var Vve={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const yze={withCloseButton:!0},vze=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:vr(t),"--notification-color":n?Dr(n,e):void 0}}),fW=We((e,t)=>{const n=Ne("Notification",yze,e),{className:r,color:i,radius:s,loading:o,withCloseButton:a,withBorder:l,title:u,icon:c,children:d,onClose:f,closeButtonProps:h,classNames:p,style:m,styles:g,unstyled:y,variant:v,vars:w,mod:E,...C}=n,S=St({name:"Notification",classes:Vve,props:n,className:r,style:m,classNames:p,styles:g,unstyled:y,vars:w,varsResolver:vze});return _.jsxs(Se,{...S("root"),mod:[{"data-with-icon":!!c||o,"data-with-border":l},E],ref:t,variant:v,...C,role:"alert",children:[c&&!o&&_.jsx("div",{...S("icon"),children:c}),o&&_.jsx(Od,{size:28,color:i,...S("loader")}),_.jsxs("div",{...S("body"),children:[u&&_.jsx("div",{...S("title"),children:u}),_.jsx(Se,{...S("description"),mod:{"data-with-title":!!u},children:d})]}),a&&_.jsx(Kf,{iconSize:16,color:"gray",...h,unstyled:y,onClick:f,...S("closeButton")})]})});fW.classes=Vve;fW.displayName="@mantine/core/Notification";function Wve(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var E2;(function(e){e.event="event",e.props="prop"})(E2||(E2={}));function f0(){}function bze(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(s,o){return s===t[o]})||(t=r,n=e.apply(void 0,r)),n}}function C2(e){return!!(e||"").match(/\d/)}function Fw(e){return e==null}function wze(e){return typeof e=="number"&&isNaN(e)}function Gve(e){return Fw(e)||wze(e)||typeof e=="number"&&!isFinite(e)}function Yve(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function xze(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function _ze(e,t,n){var r=xze(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function Eze(e){var t=R.useRef(e);t.current=e;var n=R.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function hW(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),s=i[0],o=i[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:n,addNegation:r}}function Cze(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function Kve(e,t,n){for(var r="",i=n?"0":"",s=0;s<=t-1;s++)r+=e[s]||i;return r}function mie(e,t){return Array(t+1).join(e)}function Xve(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],s=r[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var o=1+s,a=i.length;return o<0?i="0."+mie("0",Math.abs(o))+i:o>=a?i=i+mie("0",o-a):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function gie(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=hW(e),s=i.beforeDecimal,o=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(o||"0")),u=o.length<=t?"0."+o:l.toFixed(t),c=u.split("."),d=s;s&&Number(c[0])&&(d=s.split("").reverse().reduce(function(m,g,y){return m.length>y?(Number(m[0])+Number(g)).toString()+m.substring(1,m.length):g+m},c[0]));var f=Kve(c[1]||"",t,n),h=a?"-":"",p=r?".":"";return""+h+d+p+f}function By(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var Qve=bze(function(e,t){for(var n=0,r=0,i=e.length,s=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[s-1-r]&&s-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:s-r}}}),Sze=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function Tze(e,t,n){return Math.min(Math.max(e,t),n)}function zL(e){return Math.max(e.selectionStart,e.selectionEnd)}function Aze(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function kze(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function Ize(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function Rze(e,t,n,r,i,s,o){o===void 0&&(o=Ize);var a=i.findIndex(function(E){return E}),l=e.slice(0,a);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var u=n.length,c=e.length,d={},f=new Array(u),h=0;h<u;h++){f[h]=-1;for(var p=0,m=c;p<m;p++){var g=o({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:p});if(g&&d[p]!==!0){f[h]=p,d[p]=!0;break}}}for(var y=r;y<u&&(f[y]===-1||!s(n[y]));)y++;var v=y===u||f[y]===-1?c:f[y];for(y=r-1;y>0&&f[y]===-1;)y--;var w=y===-1||f[y]===-1?0:f[y]+1;return w>v?v:r-w<v-r?w:v}function yie(e,t,n,r){var i=e.length;if(t=Tze(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function Dze(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(C2(e[n])||C2(e[n-1]));return t}function Jve(e,t,n,r,i,s){s===void 0&&(s=f0);var o=Eze(function(p,m){var g,y;return Gve(p)?(y="",g=""):typeof p=="number"||m?(y=typeof p=="number"?Xve(p):p,g=r(y)):(y=i(p,void 0),g=r(y)),{formattedValue:g,numAsString:y}}),a=R.useState(function(){return o(Fw(e)?t:e,n)}),l=a[0],u=a[1],c=function(p,m){p.formattedValue!==l.formattedValue&&u({formattedValue:p.formattedValue,numAsString:p.value}),s(p,m)},d=e,f=n;Fw(e)&&(d=l.numAsString,f=!0);var h=o(d,f);return R.useMemo(function(){u(h)},[h.formattedValue]),[l,c]}function Pze(e){return e.replace(/[^0-9]/g,"")}function Oze(e){return e}function Nze(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,s=e.getInputRef,o=e.format;o===void 0&&(o=Oze);var a=e.removeFormatting;a===void 0&&(a=Pze);var l=e.defaultValue,u=e.valueIsNumericString,c=e.onValueChange,d=e.isAllowed,f=e.onChange;f===void 0&&(f=f0);var h=e.onKeyDown;h===void 0&&(h=f0);var p=e.onMouseUp;p===void 0&&(p=f0);var m=e.onFocus;m===void 0&&(m=f0);var g=e.onBlur;g===void 0&&(g=f0);var y=e.value,v=e.getCaretBoundary;v===void 0&&(v=Dze);var w=e.isValidInputCharacter;w===void 0&&(w=C2);var E=e.isCharacterSame,C=Wve(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),S=Jve(y,l,!!u,o,a,c),T=S[0],A=T.formattedValue,I=T.numAsString,D=S[1],O=R.useRef(),M=R.useRef({formattedValue:A,numAsString:I}),$=function(De,be){M.current={formattedValue:De.formattedValue,numAsString:De.value},D(De,be)},L=R.useState(!1),z=L[0],B=L[1],W=R.useRef(null),V=R.useRef({setCaretTimeout:null,focusTimeout:null});R.useEffect(function(){return B(!0),function(){clearTimeout(V.current.setCaretTimeout),clearTimeout(V.current.focusTimeout)}},[]);var X=o,U=function(De,be){var je=parseFloat(be);return{formattedValue:De,value:be,floatValue:isNaN(je)?void 0:je}},F=function(De,be,je){De.selectionStart===0&&De.selectionEnd===De.value.length||(By(De,be),V.current.setCaretTimeout=setTimeout(function(){De.value===je&&De.selectionStart!==be&&By(De,be)},0))},G=function(De,be,je){return yie(De,be,v(De),je)},q=function(De,be,je){var Qe=v(be),it=Rze(be,A,De,je,Qe,w,E);return it=yie(be,it,Qe),it},Y=function(De){var be=De.formattedValue;be===void 0&&(be="");var je=De.input,Qe=De.source,it=De.event,Ke=De.numAsString,Pe;if(je){var ze=De.inputValue||je.value,ot=zL(je);je.value=be,Pe=q(ze,be,ot),Pe!==void 0&&F(je,Pe,be)}be!==A&&$(U(be,Ke),{event:it,source:Qe})};R.useEffect(function(){var De=M.current,be=De.formattedValue,je=De.numAsString;(A!==be||I!==je)&&$(U(A,I),{event:void 0,source:E2.props})},[A,I]);var J=W.current?zL(W.current):void 0,te=typeof window<"u"?R.useLayoutEffect:R.useEffect;te(function(){var De=W.current;if(A!==M.current.formattedValue&&De){var be=q(M.current.formattedValue,A,J);De.value=A,F(De,be,A)}},[A]);var ue=function(De,be,je){var Qe=be.target,it=O.current?Sze(O.current,Qe.selectionEnd):Qve(A,De),Ke=Object.assign(Object.assign({},it),{lastValue:A}),Pe=a(De,Ke),ze=X(Pe);if(Pe=a(ze,void 0),d&&!d(U(ze,Pe))){var ot=be.target,xe=zL(ot),Te=q(De,A,xe);return ot.value=A,F(ot,Te,A),!1}return Y({formattedValue:ze,numAsString:Pe,inputValue:De,event:be,source:je,input:be.target}),!0},se=function(De,be){be===void 0&&(be=0);var je=De.selectionStart,Qe=De.selectionEnd;O.current={selectionStart:je,selectionEnd:Qe+be}},ne=function(De){var be=De.target,je=be.value,Qe=ue(je,De,E2.event);Qe&&f(De),O.current=void 0},fe=function(De){var be=De.target,je=De.key,Qe=be.selectionStart,it=be.selectionEnd,Ke=be.value;Ke===void 0&&(Ke="");var Pe;je==="ArrowLeft"||je==="Backspace"?Pe=Math.max(Qe-1,0):je==="ArrowRight"?Pe=Math.min(Qe+1,Ke.length):je==="Delete"&&(Pe=Qe);var ze=0;je==="Delete"&&Qe===it&&(ze=1);var ot=je==="ArrowLeft"||je==="ArrowRight";if(Pe===void 0||Qe!==it&&!ot){h(De),se(be,ze);return}var xe=Pe;if(ot){var Te=je==="ArrowLeft"?"left":"right";xe=G(Ke,Pe,Te),xe!==Pe&&De.preventDefault()}else je==="Delete"&&!w(Ke[Pe])?xe=G(Ke,Pe,"right"):je==="Backspace"&&!w(Ke[Pe])&&(xe=G(Ke,Pe,"left"));xe!==Pe&&F(be,xe,Ke),h(De),se(be,ze)},ee=function(De){var be=De.target,je=function(){var Qe=be.selectionStart,it=be.selectionEnd,Ke=be.value;if(Ke===void 0&&(Ke=""),Qe===it){var Pe=G(Ke,Qe);Pe!==Qe&&F(be,Pe,Ke)}};je(),requestAnimationFrame(function(){je()}),p(De),se(be)},ie=function(De){De.persist&&De.persist();var be=De.target,je=De.currentTarget;W.current=be,V.current.focusTimeout=setTimeout(function(){var Qe=be.selectionStart,it=be.selectionEnd,Ke=be.value;Ke===void 0&&(Ke="");var Pe=G(Ke,Qe);Pe!==Qe&&!(Qe===0&&it===Ke.length)&&F(be,Pe,Ke),m(Object.assign(Object.assign({},De),{currentTarget:je}))},0)},he=function(De){W.current=null,clearTimeout(V.current.focusTimeout),clearTimeout(V.current.setCaretTimeout),g(De)},ye=z&&Aze()?"numeric":void 0,Ce=Object.assign({inputMode:ye},C,{type:t,value:A,onChange:ne,onKeyDown:fe,onMouseUp:ee,onFocus:ie,onBlur:he});if(n==="text")return i?Ir.createElement(Ir.Fragment,null,i(A,C)||null):Ir.createElement("span",Object.assign({},C,{ref:s}),A);if(r){var Re=r;return Ir.createElement(Re,Object.assign({},Ce,{ref:s}))}return Ir.createElement("input",Object.assign({},Ce,{ref:s}))}function vie(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var s=t.suffix;s===void 0&&(s="");var o=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var l=J$(t),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&e.indexOf(".")!==-1||n&&r,f=hW(e,o),h=f.beforeDecimal,p=f.afterDecimal,m=f.addNegation;return n!==void 0&&(p=Kve(p,n,!!r)),u&&(h=_ze(h,u,a)),i&&(h=i+h),s&&(p=p+s),m&&(h="-"+h),e=h+(d&&c||"")+p,e}function J$(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function $ze(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),s=r.test(e);return e=e.replace(/-/g,""),i&&!s&&t&&(e="-"+e),e}function Mze(e,t){return new RegExp("(^-)|[0-9]|"+Yve(e),"g")}function Fze(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function Lze(e,t,n){var r;t===void 0&&(t=kze(e));var i=n.allowNegative,s=n.prefix;s===void 0&&(s="");var o=n.suffix;o===void 0&&(o="");var a=n.decimalScale,l=t.from,u=t.to,c=u.start,d=u.end,f=J$(n),h=f.allowedDecimalSeparators,p=f.decimalSeparator,m=e[d]===p;if(C2(e)&&(e===s||e===o)&&t.lastValue==="")return e;if(d-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":p;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var y=function(W,V,X){var U=!1,F=!1;s.startsWith("-")?U=!1:W.startsWith("--")?(U=!1,F=!0):o.startsWith("-")&&W.length===o.length?U=!1:W[0]==="-"&&(U=!0);var G=U?1:0;return F&&(G=2),G&&(W=W.substring(G),V-=G,X-=G),{value:W,start:V,end:X,hasNegation:U}},v=y(e,c,d),w=v.hasNegation;r=v,e=r.value,c=r.start,d=r.end;var E=y(t.lastValue,l.start,l.end),C=E.start,S=E.end,T=E.value,A=e.substring(c,d);e.length&&T.length&&(C>T.length-o.length||S<s.length)&&!(A&&o.startsWith(A))&&(e=T);var I=0;e.startsWith(s)?I+=s.length:c<s.length&&(I=c),e=e.substring(I),d-=I;var D=e.length,O=e.length-o.length;e.endsWith(o)?D=O:(d>O||d>e.length-o.length)&&(D=d),e=e.substring(0,D),e=$ze(w?"-"+e:e,i),e=(e.match(Mze(p))||[]).join("");var M=e.indexOf(p);e=e.replace(new RegExp(Yve(p),"g"),function(W,V){return V===M?".":""});var $=hW(e,i),L=$.beforeDecimal,z=$.afterDecimal,B=$.addNegation;return u.end-u.start<l.end-l.start&&L===""&&m&&!parseFloat(z)&&(e=B?"-":""),e}function jze(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),s=e[0]==="-";i.fill(!1,0,n.length+(s?1:0));var o=e.length;return i.fill(!1,o-r.length+1,o+1),i}function Bze(e){var t=J$(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var s=e.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},e),{allowNegative:s})}function zze(e){e=Bze(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=f0);var s=e.onBlur;s===void 0&&(s=f0);var o=e.thousandSeparator,a=e.decimalScale,l=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var c=e.defaultValue,d=e.value,f=e.valueIsNumericString,h=e.onValueChange,p=Wve(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),m=J$(e),g=m.decimalSeparator,y=m.allowedDecimalSeparators,v=function(B){return vie(B,e)},w=function(B,W){return Lze(B,W,e)},E=Fw(d)?c:d,C=f??Fze(E,u,t);Fw(d)?Fw(c)||(C=C||typeof c=="number"):C=C||typeof d=="number";var S=function(B){return Gve(B)?B:(typeof B=="number"&&(B=Xve(B)),C&&typeof a=="number"?gie(B,a,!!l):B)},T=Jve(S(d),S(c),!!C,v,w,h),A=T[0],I=A.numAsString,D=A.formattedValue,O=T[1],M=function(B){var W=B.target,V=B.key,X=W.selectionStart,U=W.selectionEnd,F=W.value;if(F===void 0&&(F=""),(V==="Backspace"||V==="Delete")&&U<u.length){B.preventDefault();return}if(X!==U){i(B);return}V==="Backspace"&&F[0]==="-"&&X===u.length+1&&n&&By(W,1),a&&l&&(V==="Backspace"&&F[X-1]===g?(By(W,X-1),B.preventDefault()):V==="Delete"&&F[X]===g&&B.preventDefault()),y!=null&&y.includes(V)&&F[X]===g&&By(W,X+1);var G=o===!0?",":o;V==="Backspace"&&F[X-1]===G&&By(W,X-1),V==="Delete"&&F[X]===G&&By(W,X+1),i(B)},$=function(B){var W=I;if(W.match(/\d/g)||(W=""),r||(W=Cze(W)),l&&a&&(W=gie(W,a,l)),W!==I){var V=vie(W,e);O({formattedValue:V,value:W,floatValue:parseFloat(W)},{event:B,source:E2.event})}s(B)},L=function(B){return B===g?!0:C2(B)},z=function(B){var W=B.currentValue,V=B.lastValue,X=B.formattedValue,U=B.currentValueIndex,F=B.formattedValueIndex,G=W[U],q=X[F],Y=Qve(V,W),J=Y.to,te=function(ue){return w(ue).indexOf(".")+u.length};return d===0&&l&&a&&W[J.start]===g&&te(W)<U&&te(X)>F?!1:U>=J.start&&U<J.end&&y&&y.includes(G)&&q===g?!0:G===q};return Object.assign(Object.assign({},p),{value:D,valueIsNumericString:!1,isValidInputCharacter:L,isCharacterSame:z,onValueChange:O,format:v,removeFormatting:w,getCaretBoundary:function(B){return jze(B,e)},onKeyDown:M,onBlur:$})}function Uze(e){var t=zze(e);return Ir.createElement(Nze,Object.assign({},t))}function bie({direction:e,style:t,...n}){return _.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:_.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var i7={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Hze=/^(0\.0*|-0(\.0*)?)$/,qze=/^-?0\d+(\.\d+)?\.?$/;function s7(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function UL(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||s7(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function Vze(e){return e.toString().replace(".","").length}function Wze(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&Vze(t)<14&&t!==""}function wie(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const Gze={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},Yze=(e,{size:t})=>({controls:{"--ni-chevron-size":fn(t,"ni-chevron-size")}}),pW=We((e,t)=>{const n=Ne("NumberInput",Gze,e),{className:r,classNames:i,styles:s,unstyled:o,vars:a,onChange:l,onValueChange:u,value:c,defaultValue:d,max:f,min:h,step:p,hideControls:m,rightSection:g,isAllowed:y,clampBehavior:v,onBlur:w,allowDecimal:E,decimalScale:C,onKeyDown:S,onKeyDownCapture:T,handlersRef:A,startValue:I,disabled:D,rightSectionPointerEvents:O,allowNegative:M,readOnly:$,size:L,rightSectionWidth:z,stepHoldInterval:B,stepHoldDelay:W,allowLeadingZeros:V,withKeyboardEvents:X,trimLeadingZeroesOnBlur:U,...F}=n,G=St({name:"NumberInput",classes:i7,props:n,classNames:i,styles:s,unstyled:o,vars:a,varsResolver:Yze}),{resolvedClassNames:q,resolvedStyles:Y}=uh({classNames:i,styles:s,props:n}),[J,te]=Oi({value:c,defaultValue:d,finalValue:"",onChange:l}),ue=W!==void 0&&B!==void 0,se=R.useRef(null),ne=R.useRef(null),fe=R.useRef(0),ee=(Pe,ze)=>{ze.source==="event"&&te(Wze(Pe.floatValue,Pe.value)&&!Hze.test(Pe.value)&&!(V&&qze.test(Pe.value))?Pe.floatValue:Pe.value),u==null||u(Pe,ze)},ie=Pe=>{const ze=String(Pe).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ze?Math.max(0,(ze[1]?ze[1].length:0)-(ze[2]?+ze[2]:0)):0},he=Pe=>{se.current&&typeof Pe<"u"&&se.current.setSelectionRange(Pe,Pe)},ye=R.useRef(I3);ye.current=()=>{if(!UL(J))return;let Pe;const ze=ie(J),ot=ie(p),xe=Math.max(ze,ot),Te=10**xe;if(!s7(J)&&(typeof J!="number"||Number.isNaN(J)))Pe=Yc(I,h,f);else if(f!==void 0){const ht=(Math.round(Number(J)*Te)+Math.round(p*Te))/Te;Pe=ht<=f?ht:f}else Pe=(Math.round(Number(J)*Te)+Math.round(p*Te))/Te;const nt=Pe.toFixed(xe);te(parseFloat(nt)),u==null||u({floatValue:parseFloat(nt),formattedValue:nt,value:nt},{source:"increment"}),setTimeout(()=>{var ht;return he((ht=se.current)==null?void 0:ht.value.length)},0)};const Ce=R.useRef(I3);Ce.current=()=>{if(!UL(J))return;let Pe;const ze=h!==void 0?h:M?Number.MIN_SAFE_INTEGER:0,ot=ie(J),xe=ie(p),Te=Math.max(ot,xe),nt=10**Te;if(!s7(J)&&typeof J!="number"||Number.isNaN(J))Pe=Yc(I,ze,f);else{const st=(Math.round(Number(J)*nt)-Math.round(p*nt))/nt;Pe=ze!==void 0&&st<ze?ze:st}const ht=Pe.toFixed(Te);te(parseFloat(ht)),u==null||u({floatValue:parseFloat(ht),formattedValue:ht,value:ht},{source:"decrement"}),setTimeout(()=>{var st;return he((st=se.current)==null?void 0:st.value.length)},0)};const Re=Pe=>{S==null||S(Pe),!($||!X)&&(Pe.key==="ArrowUp"&&(Pe.preventDefault(),ye.current()),Pe.key==="ArrowDown"&&(Pe.preventDefault(),Ce.current()))},De=Pe=>{if(T==null||T(Pe),Pe.key==="Backspace"){const ze=se.current;ze.selectionStart===0&&ze.selectionStart===ze.selectionEnd&&(Pe.preventDefault(),window.setTimeout(()=>he(0),0))}};R3(A,{increment:ye.current,decrement:Ce.current});const be=Pe=>{Pe?ye.current():Ce.current(),fe.current+=1},je=Pe=>{if(be(Pe),ue){const ze=typeof B=="number"?B:B(fe.current);ne.current=window.setTimeout(()=>je(Pe),ze)}},Qe=(Pe,ze)=>{var ot;Pe.preventDefault(),(ot=se.current)==null||ot.focus(),be(ze),ue&&(ne.current=window.setTimeout(()=>je(ze),W))},it=()=>{ne.current&&window.clearTimeout(ne.current),ne.current=null,fe.current=0},Ke=_.jsxs("div",{...G("controls"),children:[_.jsx(ts,{...G("control"),tabIndex:-1,"aria-hidden":!0,disabled:D||typeof J=="number"&&f!==void 0&&J>=f,mod:{direction:"up"},onMouseDown:Pe=>Pe.preventDefault(),onPointerDown:Pe=>{Qe(Pe,!0)},onPointerUp:it,onPointerLeave:it,children:_.jsx(bie,{direction:"up"})}),_.jsx(ts,{...G("control"),tabIndex:-1,"aria-hidden":!0,disabled:D||typeof J=="number"&&h!==void 0&&J<=h,mod:{direction:"down"},onMouseDown:Pe=>Pe.preventDefault(),onPointerDown:Pe=>{Qe(Pe,!1)},onPointerUp:it,onPointerLeave:it,children:_.jsx(bie,{direction:"down"})})]});return _.jsx(ga,{component:Uze,allowNegative:M,className:kt(i7.root,r),size:L,...F,readOnly:$,disabled:D,value:J,getInputRef:Ns(t,se),onValueChange:ee,rightSection:m||$||!UL(J)?g:g||Ke,classNames:q,styles:Y,unstyled:o,__staticSelector:"NumberInput",decimalScale:E?C:0,onKeyDown:Re,onKeyDownCapture:De,rightSectionPointerEvents:O??(D?"none":void 0),rightSectionWidth:z??`var(--ni-right-section-width-${L||"sm"})`,allowLeadingZeros:V,onBlur:Pe=>{if(w==null||w(Pe),v==="blur"&&typeof J=="number"&&Yc(J,h,f)!==J&&te(Yc(J,h,f)),U&&typeof J=="string"&&ie(J)<15){const ze=J.replace(/^0+/,""),ot=parseFloat(ze);te(Number.isNaN(ot)||ot>Number.MAX_SAFE_INTEGER?ze:Yc(ot,h,f))}},isAllowed:Pe=>v==="strict"?y?y(Pe)&&wie(Pe.floatValue,h,f):wie(Pe.floatValue,h,f):y?y(Pe):!0})});pW.classes={...ga.classes,...i7};pW.displayName="@mantine/core/NumberInput";const[Kze,Z$]=ms("Pagination.Root component was not found in tree");var zT={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const Xze={withPadding:!0},UT=We((e,t)=>{const n=Ne("PaginationControl",Xze,e),{classNames:r,className:i,style:s,styles:o,vars:a,active:l,disabled:u,withPadding:c,mod:d,...f}=n,h=Z$(),p=u||h.disabled;return _.jsx(ts,{ref:t,disabled:p,mod:[{active:l,disabled:p,"with-padding":c},d],...h.getStyles("control",{className:i,style:s,classNames:r,styles:o,active:!p}),...f})});UT.classes=zT;UT.displayName="@mantine/core/PaginationControl";function HT({style:e,children:t,path:n,...r}){return _.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...r,children:_.jsx("path",{d:n,fill:"currentColor"})})}const Qze=e=>_.jsx(HT,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),Jze=e=>_.jsx(HT,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),Zze=e=>_.jsx(HT,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),eUe=e=>_.jsx(HT,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),tUe=e=>_.jsx(HT,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),nUe={icon:tUe},e4=We((e,t)=>{const n=Ne("PaginationDots",nUe,e),{classNames:r,className:i,style:s,styles:o,vars:a,icon:l,...u}=n,c=Z$(),d=l;return _.jsx(Se,{ref:t,...c.getStyles("dots",{className:i,style:s,styles:o,classNames:r}),...u,children:_.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});e4.classes=zT;e4.displayName="@mantine/core/PaginationDots";function t4({icon:e,name:t,action:n,type:r}){const i={icon:e},s=R.forwardRef((o,a)=>{const{icon:l,...u}=Ne(t,i,o),c=l,d=Z$(),f=r==="next"?d.active===d.total:d.active===1;return _.jsx(UT,{disabled:d.disabled||f,ref:a,onClick:d[n],withPadding:!1,...u,children:_.jsx(c,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return s.displayName=`@mantine/core/${t}`,s}const Zve=t4({icon:Qze,name:"PaginationNext",action:"onNext",type:"next"}),ebe=t4({icon:Jze,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),tbe=t4({icon:Zze,name:"PaginationFirst",action:"onFirst",type:"previous"}),nbe=t4({icon:eUe,name:"PaginationLast",action:"onLast",type:"next"});function mW({dotsIcon:e}){const t=Z$(),n=t.range.map((r,i)=>{var s,o,a;return r==="dots"?_.jsx(e4,{icon:e},i):_.jsx(UT,{active:r===t.active,"aria-current":r===t.active?"page":void 0,onClick:()=>t.onChange(r),disabled:t.disabled,...(s=t.getItemProps)==null?void 0:s.call(t,r),children:((a=(o=t.getItemProps)==null?void 0:o.call(t,r))==null?void 0:a.children)??r},i)});return _.jsx(_.Fragment,{children:n})}mW.displayName="@mantine/core/PaginationItems";const rUe={siblings:1,boundaries:1},iUe=(e,{size:t,radius:n,color:r,autoContrast:i})=>({root:{"--pagination-control-radius":n===void 0?void 0:vr(n),"--pagination-control-size":fn(t,"pagination-control-size"),"--pagination-control-fz":Ui(t),"--pagination-active-bg":r?Dr(r,e):void 0,"--pagination-active-color":hg(i,e)?rm({color:r,theme:e,autoContrast:i}):void 0}}),n4=We((e,t)=>{const n=Ne("PaginationRoot",rUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,total:u,value:c,defaultValue:d,onChange:f,disabled:h,siblings:p,boundaries:m,color:g,radius:y,onNextPage:v,onPreviousPage:w,onFirstPage:E,onLastPage:C,getItemProps:S,autoContrast:T,...A}=n,I=St({name:"Pagination",classes:zT,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:iUe}),{range:D,setPage:O,next:M,previous:$,active:L,first:z,last:B}=K5e({page:c,initialPage:d,onChange:f,total:u,siblings:p,boundaries:m}),W=Js(v,M),V=Js(w,$),X=Js(E,z),U=Js(C,B);return _.jsx(Kze,{value:{total:u,range:D,active:L,disabled:h,getItemProps:S,onChange:O,onNext:W,onPrevious:V,onFirst:X,onLast:U,getStyles:I},children:_.jsx(Se,{ref:t,...I("root"),...A})})});n4.classes=zT;n4.displayName="@mantine/core/PaginationRoot";const sUe={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},$d=We((e,t)=>{const n=Ne("Pagination",sUe,e),{withEdges:r,withControls:i,getControlProps:s,nextIcon:o,previousIcon:a,lastIcon:l,firstIcon:u,dotsIcon:c,total:d,gap:f,hideWithOnePage:h,withPages:p,...m}=n;return d<=0||h&&d===1?null:_.jsx(n4,{ref:t,total:d,...m,children:_.jsxs(Pi,{gap:f,children:[r&&_.jsx(tbe,{icon:u,...s==null?void 0:s("first")}),i&&_.jsx(ebe,{icon:a,...s==null?void 0:s("previous")}),p&&_.jsx(mW,{dotsIcon:c}),i&&_.jsx(Zve,{icon:o,...s==null?void 0:s("next")}),r&&_.jsx(nbe,{icon:l,...s==null?void 0:s("last")})]})})});$d.classes=zT;$d.displayName="@mantine/core/Pagination";$d.Root=n4;$d.Control=UT;$d.Dots=e4;$d.First=tbe;$d.Last=nbe;$d.Next=Zve;$d.Previous=ebe;$d.Items=mW;const[oUe,rbe]=ms("Progress.Root component was not found in tree");var qT={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const aUe={},gW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ne("ProgressLabel",aUe,e),l=rbe();return _.jsx(Se,{ref:t,...l.getStyles("label",{className:r,style:i,classNames:n,styles:s}),...a})});gW.classes=qT;gW.displayName="@mantine/core/ProgressLabel";const lUe={},uUe=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":fn(t,"progress-size"),"--progress-radius":n===void 0?void 0:vr(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),r4=We((e,t)=>{const n=Ne("ProgressRoot",lUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,autoContrast:u,transitionDuration:c,...d}=n,f=St({name:"Progress",classes:qT,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:uUe});return _.jsx(oUe,{value:{getStyles:f,autoContrast:u},children:_.jsx(Se,{ref:t,...f("root"),...d})})});r4.classes=qT;r4.displayName="@mantine/core/ProgressRoot";const cUe={withAria:!0},i4=We((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,withAria:l,color:u,striped:c,animated:d,mod:f,...h}=Ne("ProgressSection",cUe,e),p=rbe(),m=Vi(),g=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return _.jsx(Se,{ref:t,...p.getStyles("section",{className:r,classNames:n,styles:s,style:i}),...h,...g,mod:[{striped:c||d,animated:d},f],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":Dr(u,m),"--progress-label-color":hg(p.autoContrast,m)?rm({color:u,theme:m,autoContrast:p.autoContrast}):void 0}})});i4.classes=qT;i4.displayName="@mantine/core/ProgressSection";const dUe={},vb=We((e,t)=>{const n=Ne("Progress",dUe,e),{value:r,classNames:i,styles:s,vars:o,color:a,striped:l,animated:u,"aria-label":c,...d}=n,{resolvedClassNames:f,resolvedStyles:h}=uh({classNames:i,styles:s,props:n});return _.jsx(r4,{ref:t,classNames:f,styles:h,vars:o,...d,children:_.jsx(i4,{value:r,color:a,striped:l,animated:u,"aria-label":c})})});vb.classes=qT;vb.displayName="@mantine/core/Progress";vb.Section=i4;vb.Root=r4;vb.Label=gW;const[fUe,ibe]=nm(),[hUe,pUe]=nm();var sbe={card:"m_9dc8ae12"};const mUe={withBorder:!0},gUe=(e,{radius:t})=>({card:{"--card-radius":vr(t)}}),yW=We((e,t)=>{const n=Ne("RadioCard",mUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,name:p,onKeyDown:m,...g}=n,y=St({name:"RadioCard",classes:sbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:gUe,rootSelector:"card"}),{dir:v}=Ga(),w=ibe(),E=typeof u=="boolean"?u:(w==null?void 0:w.value)===f||!1,C=p||(w==null?void 0:w.name),S=T=>{if(m==null||m(T),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(T.nativeEvent.code)){T.preventDefault();const A=Array.from(document.querySelectorAll(`[role="radio"][name="${C||"__mantine"}"]`)),I=A.findIndex(M=>M===T.target),D=I+1>=A.length?0:I+1,O=I-1<0?A.length-1:I-1;T.nativeEvent.code==="ArrowDown"&&(A[D].focus(),A[D].click()),T.nativeEvent.code==="ArrowUp"&&(A[O].focus(),A[O].click()),T.nativeEvent.code==="ArrowLeft"&&(A[v==="ltr"?O:D].focus(),A[v==="ltr"?O:D].click()),T.nativeEvent.code==="ArrowRight"&&(A[v==="ltr"?D:O].focus(),A[v==="ltr"?D:O].click())}};return _.jsx(hUe,{value:{checked:E},children:_.jsx(ts,{ref:t,mod:[{"with-border":d,checked:E},c],...y("card"),...g,role:"radio","aria-checked":E,name:C,onClick:T=>{h==null||h(T),w==null||w.onChange(f||"")},onKeyDown:S})})});yW.displayName="@mantine/core/RadioCard";yW.classes=sbe;const yUe={},vW=We((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,name:l,readOnly:u,...c}=Ne("RadioGroup",yUe,e),d=ma(l),[f,h]=Oi({value:n,defaultValue:r,finalValue:"",onChange:i}),p=m=>!u&&h(typeof m=="string"?m:m.currentTarget.value);return _.jsx(fUe,{value:{value:f,onChange:p,size:s,name:d},children:_.jsx(Pr.Wrapper,{size:s,ref:t,...o,...c,labelElement:"div",__staticSelector:"RadioGroup",children:_.jsx(jV,{role:"radiogroup",children:a})})})});vW.classes=Pr.Wrapper.classes;vW.displayName="@mantine/core/RadioGroup";function obe({size:e,style:t,...n}){return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Le(e),height:Le(e),...t},"aria-hidden":!0,...n,children:_.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var abe={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const vUe={icon:obe},bUe=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Pd({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":fn(r,"radio-size"),"--radio-radius":t===void 0?void 0:vr(t),"--radio-color":s==="outline"?l:Dr(n,e),"--radio-icon-size":fn(r,"radio-icon-size"),"--radio-icon-color":i?Dr(i,e):hg(o,e)?rm({color:n,theme:e,autoContrast:o}):void 0}}},bW=We((e,t)=>{const n=Ne("RadioIndicator",vUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,icon:u,radius:c,color:d,iconColor:f,autoContrast:h,checked:p,mod:m,variant:g,disabled:y,...v}=n,w=u,E=St({name:"RadioIndicator",classes:abe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:bUe,rootSelector:"indicator"}),C=pUe(),S=typeof p=="boolean"?p:(C==null?void 0:C.checked)||!1;return _.jsx(Se,{ref:t,...E("indicator",{variant:g}),variant:g,mod:[{checked:S,disabled:y},m],...v,children:_.jsx(w,{...E("icon")})})});bW.displayName="@mantine/core/RadioIndicator";bW.classes=abe;var lbe={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const wUe={labelPosition:"right"},xUe=(e,{size:t,radius:n,color:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Pd({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":fn(t,"radio-size"),"--radio-radius":n===void 0?void 0:vr(n),"--radio-color":s==="outline"?l:Dr(r,e),"--radio-icon-color":i?Dr(i,e):hg(o,e)?rm({color:r,theme:e,autoContrast:o}):void 0,"--radio-icon-size":fn(t,"radio-icon-size")}}},ru=We((e,t)=>{const n=Ne("Radio",wUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,id:u,size:c,label:d,labelPosition:f,description:h,error:p,radius:m,color:g,variant:y,disabled:v,wrapperProps:w,icon:E=obe,rootRef:C,iconColor:S,onChange:T,mod:A,...I}=n,D=St({name:"Radio",classes:lbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:xUe}),O=ibe(),M=(O==null?void 0:O.size)??c,$=n.size?c:M,{styleProps:L,rest:z}=hb(I),B=ma(u),W=O?{checked:O.value===z.value,name:z.name??O.name,onChange:V=>{O.onChange(V),T==null||T(V)}}:{};return _.jsx(N$,{...D("root"),__staticSelector:"Radio",__stylesApiProps:n,id:B,size:$,labelPosition:f,label:d,description:h,error:p,disabled:v,classNames:r,styles:o,unstyled:a,"data-checked":W.checked||void 0,variant:y,ref:C,mod:A,...L,...w,children:_.jsxs(Se,{...D("inner"),mod:{"label-position":f},children:[_.jsx(Se,{...D("radio",{focusable:!0,variant:y}),onChange:T,...z,...W,component:"input",mod:{error:!!p},ref:t,id:B,disabled:v,type:"radio"}),_.jsx(E,{...D("icon"),"aria-hidden":!0})]})})});ru.classes=lbe;ru.displayName="@mantine/core/Radio";ru.Group=vW;ru.Card=yW;ru.Indicator=bW;const _Ue={duration:100,transition:"fade"};function EUe(e,t){return{..._Ue,...t,...e}}function CUe({offset:e,position:t,defaultOpened:n}){const[r,i]=R.useState(n),s=R.useRef(null),{x:o,y:a,elements:l,refs:u,update:c,placement:d}=iV({placement:t,middleware:[eV({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?e:t.includes("left")?e*-1:0,h=d.includes("bottom")?e:t.includes("top")?e*-1:0,p=R.useCallback(({clientX:m,clientY:g})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:m,y:g,left:m+f,top:g+h,right:m,bottom:g}}})},[l.reference]);return R.useEffect(()=>{if(u.floating.current){const m=s.current;m.addEventListener("mousemove",p);const g=Ep(u.floating.current);return g.forEach(y=>{y.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),g.forEach(y=>{y.removeEventListener("scroll",c)})}}},[l.reference,u.floating.current,c,p,r]),{handleMouseMove:p,x:o,y:a,opened:r,setOpened:i,boundaryRef:s,floating:u.setFloating}}var s4={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const SUe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:lo("popover")},TUe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:vr(t),"--tooltip-bg":n?Dr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),wW=We((e,t)=>{const n=Ne("TooltipFloating",SUe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:p,position:m,multiline:g,zIndex:y,disabled:v,defaultOpened:w,variant:E,vars:C,portalProps:S,...T}=n,A=Vi(),I=St({name:"TooltipFloating",props:n,classes:s4,className:a,style:o,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:C,varsResolver:TUe}),{handleMouseMove:D,x:O,y:M,opened:$,boundaryRef:L,floating:z,setOpened:B}=CUe({offset:p,position:m,defaultOpened:w});if(!tm(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const W=Ns(L,b$(r),t),V=r.props,X=F=>{var G;(G=V.onMouseEnter)==null||G.call(V,F),D(F),B(!0)},U=F=>{var G;(G=V.onMouseLeave)==null||G.call(V,F),B(!1)};return _.jsxs(_.Fragment,{children:[_.jsx(pg,{...S,withinPortal:s,children:_.jsx(Se,{...T,...I("tooltip",{style:{...jq(o,A),zIndex:y,display:!v&&$?"block":"none",top:(M&&Math.round(M))??"",left:(O&&Math.round(O))??""}}),variant:E,ref:z,mod:{multiline:g},children:h})}),R.cloneElement(r,{...V,[i]:W,onMouseEnter:X,onMouseLeave:U})]})});wW.classes=s4;wW.displayName="@mantine/core/TooltipFloating";const ube=R.createContext(!1),AUe=ube.Provider,kUe=()=>R.useContext(ube),IUe={openDelay:0,closeDelay:0};function xW(e){const{openDelay:t,closeDelay:n,children:r}=Ne("TooltipGroup",IUe,e);return _.jsx(AUe,{value:!0,children:_.jsx(Y8e,{delay:{open:t,close:n},children:r})})}xW.displayName="@mantine/core/TooltipGroup";xW.extend=e=>e;function RUe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function DUe(e){const t=RUe(e.middlewares),n=[kye(e.offset)];return t.shift&&n.push(eV(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?M3():M3(t.flip)),n.push(Iye({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?RS():RS(t.inline)):e.inline&&n.push(RS()),n}function PUe(e){var S,T,A;const[t,n]=R.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,s=kUe(),o=ma(),{delay:a,currentId:l,setCurrentId:u}=Oye(),c=R.useCallback(I=>{n(I),I&&u(o)},[u,o]),{x:d,y:f,context:h,refs:p,update:m,placement:g,middlewareData:{arrow:{x:y,y:v}={}}}=iV({strategy:e.strategy,placement:e.position,open:i,onOpenChange:c,middleware:DUe(e)});K8e(h,{id:o});const{getReferenceProps:w,getFloatingProps:E}=nje([G8e(h,{enabled:(S=e.events)==null?void 0:S.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((T=e.events)!=null&&T.touch)}),tje(h,{enabled:(A=e.events)==null?void 0:A.focus,visibleOnly:!0}),ije(h,{role:"tooltip"}),Z8e(h,{enabled:typeof e.opened>"u"})]);zye({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:p,update:m}}),vd(()=>{var I;(I=e.onPositionChange)==null||I.call(e,g)},[g]);const C=i&&l&&l!==o;return{x:d,y:f,arrowX:y,arrowY:v,reference:p.setReference,floating:p.setFloating,getFloatingProps:E,getReferenceProps:w,isGroupPhase:C,opened:i,placement:g}}const xie={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:lo("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},OUe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:vr(t),"--tooltip-bg":n?Dr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),zt=We((e,t)=>{const n=Ne("Tooltip",xie,e),{children:r,position:i,refProp:s,label:o,openDelay:a,closeDelay:l,onPositionChange:u,opened:c,defaultOpened:d,withinPortal:f,radius:h,color:p,classNames:m,styles:g,unstyled:y,style:v,className:w,withArrow:E,arrowSize:C,arrowOffset:S,arrowRadius:T,arrowPosition:A,offset:I,transitionProps:D,multiline:O,events:M,zIndex:$,disabled:L,positionDependencies:z,onClick:B,onMouseEnter:W,onMouseLeave:V,inline:X,variant:U,keepMounted:F,vars:G,portalProps:q,mod:Y,floatingStrategy:J,middlewares:te,...ue}=Ne("Tooltip",xie,n),{dir:se}=Ga(),ne=R.useRef(null),fe=PUe({position:Nye(se,i),closeDelay:l,openDelay:a,onPositionChange:u,opened:c,defaultOpened:d,events:M,arrowRef:ne,arrowOffset:S,offset:typeof I=="number"?I+(E?C/2:0):I,positionDependencies:[...z,r],inline:X,strategy:J,middlewares:te}),ee=St({name:"Tooltip",props:n,classes:s4,className:w,style:v,classNames:m,styles:g,unstyled:y,rootSelector:"tooltip",vars:G,varsResolver:OUe});if(!tm(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ie=Ns(fe.reference,b$(r),t),he=EUe(D,{duration:100,transition:"fade"}),ye=r.props;return _.jsxs(_.Fragment,{children:[_.jsx(pg,{...q,withinPortal:f,children:_.jsx(lc,{...he,keepMounted:F,mounted:!L&&!!fe.opened,duration:fe.isGroupPhase?10:he.duration,children:Ce=>_.jsxs(Se,{...ue,"data-fixed":J==="fixed"||void 0,variant:U,mod:[{multiline:O},Y],...fe.getFloatingProps({ref:fe.floating,className:ee("tooltip").className,style:{...ee("tooltip").style,...Ce,zIndex:$,top:fe.y??0,left:fe.x??0}}),children:[o,_.jsx(sV,{ref:ne,arrowX:fe.arrowX,arrowY:fe.arrowY,visible:E,position:fe.placement,arrowSize:C,arrowOffset:S,arrowRadius:T,arrowPosition:A,...ee("arrow")})]})})}),R.cloneElement(r,fe.getReferenceProps({onClick:B,onMouseEnter:W,onMouseLeave:V,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[s]:ie,className:kt(w,ye.className),...ye}))]})});zt.classes=s4;zt.displayName="@mantine/core/Tooltip";zt.Floating=wW;zt.Group=xW;function NUe({size:e,thickness:t,sum:n,value:r,root:i,offset:s}){const o=(e*.9-t*2)/2,a=Math.PI*o*2/100,l=i||r===void 0?`${(100-n)*a}, ${n*a}`:`${r*a}, ${(100-r)*a}`;return{strokeWidth:Number.isNaN(t)?12:t,cx:e/2||0,cy:e/2||0,r:o||0,transform:i?`scale(1, -1) translate(0, -${e})`:void 0,strokeDasharray:l,strokeDashoffset:i?0:s||0}}function cbe({size:e,value:t,offset:n,sum:r,thickness:i,root:s,color:o,lineRoundCaps:a,tooltip:l,getStyles:u,display:c,...d}){const f=Vi();return _.jsx(zt.Floating,{disabled:!l,label:l,children:_.jsx(Se,{component:"circle",...d,...u("curve"),__vars:{"--curve-color":o?Dr(o,f):void 0},fill:"none",strokeLinecap:a?"round":"butt",...NUe({sum:r,size:e,thickness:i,value:t,offset:n,root:s})})})}cbe.displayName="@mantine/core/Curve";function $Ue({size:e,thickness:t,sections:n,renderRoundedLineCaps:r,rootColor:i}){const s=n.reduce((c,d)=>c+d.value,0),o=Math.PI*((e*.9-t*2)/2)*2;let a=o;const l=[],u=[];for(let c=0;c<n.length;c+=1)l.push({sum:s,offset:a,data:n[c],root:!1}),a-=n[c].value/100*o;if(l.push({sum:s,offset:a,data:{color:i},root:!0}),u.push({...l[l.length-1],lineRoundCaps:!1}),l.length>2){u.push({...l[0],lineRoundCaps:r}),u.push({...l[l.length-2],lineRoundCaps:r});for(let c=1;c<=l.length-3;c+=1)u.push({...l[c],lineRoundCaps:!1})}else u.push({...l[0],lineRoundCaps:r});return u}var dbe={root:"m_b32e4812",svg:"m_d43b5134",curve:"m_b1ca1fbf",label:"m_b23f9dc4"};function MUe(e,t){return Math.min(e||12,(t||120)/4)}const FUe={size:120,thickness:12},LUe=(e,{size:t,thickness:n,transitionDuration:r})=>({root:{"--rp-size":Le(t),"--rp-label-offset":Le(n*2),"--rp-transition-duration":r?`${r}ms`:void 0}}),_W=We((e,t)=>{const n=Ne("RingProgress",FUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,label:u,sections:c,size:d,thickness:f,roundCaps:h,rootColor:p,transitionDuration:m,...g}=n,y=St({name:"RingProgress",classes:dbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:LUe}),v=MUe(f,d),w=$Ue({size:d,thickness:v,sections:c,renderRoundedLineCaps:h,rootColor:p}).map(({data:E,sum:C,root:S,lineRoundCaps:T,offset:A},I)=>R.createElement(cbe,{...E,key:I,size:d,thickness:v,sum:C,offset:A,color:E==null?void 0:E.color,root:S,lineRoundCaps:T,getStyles:y}));return _.jsxs(Se,{...y("root"),size:d,ref:t,...g,children:[_.jsx("svg",{...y("svg"),children:w}),u&&_.jsx("div",{...y("label"),children:u})]})});_W.classes=dbe;_W.displayName="@mantine/core/RingProgress";const jUe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},vg=We((e,t)=>{const n=Ne("Select",jUe,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:w,comboboxProps:E,readOnly:C,disabled:S,filter:T,limit:A,withScrollArea:I,maxDropdownHeight:D,size:O,searchable:M,rightSection:$,checkIconPosition:L,withCheckIcon:z,nothingFoundMessage:B,name:W,form:V,searchValue:X,defaultSearchValue:U,onSearchChange:F,allowDeselect:G,error:q,rightSectionPointerEvents:Y,id:J,clearable:te,clearButtonProps:ue,hiddenInputProps:se,renderOption:ne,onClear:fe,autoComplete:ee,scrollAreaProps:ie,__defaultRightSection:he,__clearSection:ye,__clearable:Ce,...Re}=n,De=R.useMemo(()=>R$(m),[m]),be=R.useMemo(()=>D$(De),[De]),je=ma(J),[Qe,it,Ke]=Oi({value:g,defaultValue:y,finalValue:null,onChange:p}),Pe=typeof Qe=="string"?be[Qe]:void 0,ze=Z5e(Pe),[ot,xe]=Oi({value:X,defaultValue:U,finalValue:Pe?Pe.label:"",onChange:F}),Te=O$({opened:a,defaultOpened:l,onDropdownOpen:()=>{c==null||c(),Te.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),Te.resetSelectedOption()}}),{resolvedClassNames:nt,resolvedStyles:ht}=uh({props:n,styles:i,classNames:r});R.useEffect(()=>{v&&Te.selectFirstOption()},[v,Qe]),R.useEffect(()=>{g===null&&xe(""),typeof g=="string"&&Pe&&((ze==null?void 0:ze.value)!==Pe.value||(ze==null?void 0:ze.label)!==Pe.label)&&xe(Pe.label)},[g,Pe]);const st=_.jsx(jn.ClearButton,{...ue,onClear:()=>{it(null,null),xe(""),fe==null||fe()}});return _.jsxs(_.Fragment,{children:[_.jsxs(jn,{store:Te,__staticSelector:"Select",classNames:nt,styles:ht,unstyled:s,readOnly:C,onOptionSubmit:Ot=>{w==null||w(Ot);const Qt=G&&be[Ot].value===Qe?null:be[Ot],kn=Qt?Qt.value:null;kn!==Qe&&it(kn,Qt),!Ke&&xe(typeof kn=="string"&&(Qt==null?void 0:Qt.label)||""),Te.closeDropdown()},size:O,...E,children:[_.jsx(jn.Target,{targetType:M?"input":"button",autoComplete:ee,children:_.jsx(ga,{id:je,ref:t,__defaultRightSection:_.jsx(jn.Chevron,{size:O,error:q,unstyled:s}),__clearSection:st,__clearable:te&&!!Qe&&!S&&!C,rightSection:$,rightSectionPointerEvents:Y||(st?"all":"none"),...Re,size:O,__staticSelector:"Select",disabled:S,readOnly:C||!M,value:ot,onChange:Ot=>{xe(Ot.currentTarget.value),Te.openDropdown(),v&&Te.selectFirstOption()},onFocus:Ot=>{M&&Te.openDropdown(),d==null||d(Ot)},onBlur:Ot=>{var Qt;M&&Te.closeDropdown(),xe(Qe!=null&&((Qt=be[Qe])==null?void 0:Qt.label)||""),f==null||f(Ot)},onClick:Ot=>{M?Te.openDropdown():Te.toggleDropdown(),h==null||h(Ot)},classNames:nt,styles:ht,unstyled:s,pointer:!M,error:q})}),_.jsx(UV,{data:De,hidden:C||S,filter:T,search:ot,limit:A,hiddenWhenEmpty:!B,withScrollArea:I,maxDropdownHeight:D,filterOptions:M&&(Pe==null?void 0:Pe.label)!==ot,value:Qe,checkIconPosition:L,withCheckIcon:z,nothingFoundMessage:B,unstyled:s,labelId:Re.label?`${je}-label`:void 0,"aria-label":Re.label?void 0:Re["aria-label"],renderOption:ne,scrollAreaProps:ie})]}),_.jsx(jn.HiddenInput,{value:Qe,name:W,form:V,disabled:S,...se})]})});vg.classes={...ga.classes,...jn.classes};vg.displayName="@mantine/core/Select";function BUe({spacing:e,verticalSpacing:t,cols:n,selector:r}){var c;const i=Vi(),s=t===void 0?e:t,o=dg({"--sg-spacing-x":es(td(e)),"--sg-spacing-y":es(td(s)),"--sg-cols":(c=td(n))==null?void 0:c.toString()}),a=ti(i.breakpoints).reduce((d,f)=>(d[f]||(d[f]={}),typeof e=="object"&&e[f]!==void 0&&(d[f]["--sg-spacing-x"]=es(e[f])),typeof s=="object"&&s[f]!==void 0&&(d[f]["--sg-spacing-y"]=es(s[f])),typeof n=="object"&&n[f]!==void 0&&(d[f]["--sg-cols"]=n[f]),d),{}),u=v2(ti(a),i.breakpoints).filter(d=>ti(a[d.value]).length>0).map(d=>({query:`(min-width: ${i.breakpoints[d.value]})`,styles:a[d.value]}));return _.jsx(fb,{styles:o,media:u,selector:r})}function HL(e){return typeof e=="object"&&e!==null?ti(e):[]}function zUe(e){return e.sort((t,n)=>y2(t)-y2(n))}function UUe({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...HL(e),...HL(t),...HL(n)]));return zUe(r)}function HUe({spacing:e,verticalSpacing:t,cols:n,selector:r}){var u;const i=t===void 0?e:t,s=dg({"--sg-spacing-x":es(td(e)),"--sg-spacing-y":es(td(i)),"--sg-cols":(u=td(n))==null?void 0:u.toString()}),o=UUe({spacing:e,verticalSpacing:t,cols:n}),a=o.reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--sg-spacing-x"]=es(e[d])),typeof i=="object"&&i[d]!==void 0&&(c[d]["--sg-spacing-y"]=es(i[d])),typeof n=="object"&&n[d]!==void 0&&(c[d]["--sg-cols"]=n[d]),c),{}),l=o.map(c=>({query:`simple-grid (min-width: ${c})`,styles:a[c]}));return _.jsx(fb,{styles:s,container:l,selector:r})}var fbe={container:"m_925c2d2c",root:"m_2415a157"};const qUe={cols:1,spacing:"md",type:"media"},EW=We((e,t)=>{const n=Ne("SimpleGrid",qUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,cols:u,verticalSpacing:c,spacing:d,type:f,...h}=n,p=St({name:"SimpleGrid",classes:fbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l}),m=DT();return f==="container"?_.jsxs(_.Fragment,{children:[_.jsx(HUe,{...n,selector:`.${m}`}),_.jsx("div",{...p("container"),children:_.jsx(Se,{ref:t,...p("root",{className:m}),...h})})]}):_.jsxs(_.Fragment,{children:[_.jsx(BUe,{...n,selector:`.${m}`}),_.jsx(Se,{ref:t,...p("root",{className:m}),...h})]})});EW.classes=fbe;EW.displayName="@mantine/core/SimpleGrid";var hbe={root:"m_18320242","skeleton-fade":"m_299c329c"};const VUe={visible:!0,animate:!0},WUe=(e,{width:t,height:n,radius:r,circle:i})=>({root:{"--skeleton-height":Le(n),"--skeleton-width":Le(i?n:t),"--skeleton-radius":i?"1000px":r===void 0?void 0:vr(r)}}),CW=We((e,t)=>{const n=Ne("Skeleton",VUe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,width:u,height:c,circle:d,visible:f,radius:h,animate:p,mod:m,...g}=n,y=St({name:"Skeleton",classes:hbe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:WUe});return _.jsx(Se,{ref:t,...y("root"),mod:[{visible:f,animate:p},m],...g})});CW.classes=hbe;CW.displayName="@mantine/core/Skeleton";const[pbe,o4]=ms("SliderProvider was not found in tree"),SW=R.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:s,...o},a)=>{const{getStyles:l}=o4();return _.jsx(Se,{tabIndex:-1,variant:n,size:e,ref:a,...l("root"),...o})});SW.displayName="@mantine/core/SliderRoot";const j3=R.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:u,thumbLabel:c,onFocus:d,onBlur:f,showLabelOnHover:h,isHovered:p,children:m=null,disabled:g},y)=>{const{getStyles:v}=o4(),[w,E]=R.useState(!1),C=u||s||w||h&&p;return _.jsxs(Se,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:y,__vars:{"--slider-thumb-offset":`${r}%`},...v("thumb",{focusable:!0}),mod:{dragging:s,disabled:g},onFocus:S=>{E(!0),typeof d=="function"&&d(S)},onBlur:S=>{E(!1),typeof f=="function"&&f(S)},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:S=>S.stopPropagation(),children:[m,_.jsx(lc,{mounted:i!=null&&!!C,transition:"fade",duration:0,...l,children:S=>_.jsx("div",{...v("label",{style:S}),children:i})})]})});j3.displayName="@mantine/core/SliderThumb";function B3({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function GUe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function mbe({marks:e,min:t,max:n,disabled:r,value:i,offset:s,inverted:o}){const{getStyles:a}=o4();if(!e)return null;const l=e.map((u,c)=>R.createElement(Se,{...a("markWrapper"),__vars:{"--mark-offset":`${B3({value:u.value,min:t,max:n})}%`},key:c},_.jsx(Se,{...a("mark"),mod:{filled:GUe({mark:u,value:i,offset:s,inverted:o}),disabled:r}}),u.label&&_.jsx("div",{...a("markLabel"),children:u.label})));return _.jsx("div",{children:l})}mbe.displayName="@mantine/core/SliderMarks";function TW({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:s,containerProps:o,...a}){const{getStyles:l}=o4();return _.jsx(Se,{...l("trackContainer"),mod:{disabled:r},...o,children:_.jsxs(Se,{...l("track"),mod:{inverted:s,disabled:r},children:[_.jsx(Se,{mod:{inverted:s,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),t,_.jsx(mbe,{...a,offset:i,disabled:r,inverted:s})]})})}TW.displayName="@mantine/core/SliderTrack";function o7({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return s!==void 0?Number(u.toFixed(s)):u}function Nu(e,t){return parseFloat(e.toFixed(t))}function gbe(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function Qy(e,t){const r=[...t].sort((i,s)=>i.value-s.value).find(i=>i.value>e);return r?r.value:e}function Jy(e,t){const r=[...t].sort((i,s)=>s.value-i.value).find(i=>i.value<e);return r?r.value:e}function a7(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function l7(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var a4={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const YUe={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},KUe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":fn(t,"slider-size"),"--slider-color":n?Dr(n,e):void 0,"--slider-radius":i===void 0?void 0:vr(i),"--slider-thumb-size":r!==void 0?Le(r):"calc(var(--slider-size) * 2)"}}),Lw=We((e,t)=>{const n=Ne("Slider",YUe,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:l,min:u,max:c,step:d,precision:f,defaultValue:h,name:p,marks:m,label:g,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:w,showLabelOnHover:E,thumbChildren:C,disabled:S,unstyled:T,scale:A,inverted:I,className:D,style:O,vars:M,hiddenInputProps:$,restrictToMarks:L,thumbProps:z,...B}=n,W=St({name:"Slider",props:n,classes:a4,classNames:r,className:D,styles:i,style:O,vars:M,varsResolver:KUe,unstyled:T}),{dir:V}=Ga(),[X,U]=R.useState(!1),[F,G]=Oi({value:typeof s=="number"?Yc(s,u,c):s,defaultValue:typeof h=="number"?Yc(h,u,c):h,finalValue:Yc(0,u,c),onChange:o}),q=R.useRef(F),Y=R.useRef(null),J=R.useRef(null),te=B3({value:F,min:u,max:c}),ue=A(F),se=typeof g=="function"?g(ue):g,ne=f??gbe(d),fe=R.useCallback(({x:ye})=>{if(!S){const Ce=o7({value:ye,min:u,max:c,step:d,precision:ne});G(L&&(m!=null&&m.length)?WB(Ce,m.map(Re=>Re.value)):Ce),q.current=Ce}},[S,u,c,d,ne,G,m,L]),{ref:ee,active:ie}=Hge(fe,{onScrubEnd:()=>a==null?void 0:a(L&&(m!=null&&m.length)?WB(q.current,m.map(ye=>ye.value)):q.current)},V),he=ye=>{var Ce,Re,De,be,je,Qe;if(!S)switch(ye.key){case"ArrowUp":{if(ye.preventDefault(),(Ce=J.current)==null||Ce.focus(),L&&m){const Ke=Qy(F,m);G(Ke),a==null||a(Ke);break}const it=Nu(Math.min(Math.max(F+d,u),c),ne);G(it),a==null||a(it);break}case"ArrowRight":{if(ye.preventDefault(),(Re=J.current)==null||Re.focus(),L&&m){const Ke=V==="rtl"?Jy(F,m):Qy(F,m);G(Ke),a==null||a(Ke);break}const it=Nu(Math.min(Math.max(V==="rtl"?F-d:F+d,u),c),ne);G(it),a==null||a(it);break}case"ArrowDown":{if(ye.preventDefault(),(De=J.current)==null||De.focus(),L&&m){const Ke=Jy(F,m);G(Ke),a==null||a(Ke);break}const it=Nu(Math.min(Math.max(F-d,u),c),ne);G(it),a==null||a(it);break}case"ArrowLeft":{if(ye.preventDefault(),(be=J.current)==null||be.focus(),L&&m){const Ke=V==="rtl"?Qy(F,m):Jy(F,m);G(Ke),a==null||a(Ke);break}const it=Nu(Math.min(Math.max(V==="rtl"?F+d:F-d,u),c),ne);G(it),a==null||a(it);break}case"Home":{if(ye.preventDefault(),(je=J.current)==null||je.focus(),L&&m){G(a7(m)),a==null||a(a7(m));break}G(u),a==null||a(u);break}case"End":{if(ye.preventDefault(),(Qe=J.current)==null||Qe.focus(),L&&m){G(l7(m)),a==null||a(l7(m));break}G(c),a==null||a(c);break}}};return _.jsx(pbe,{value:{getStyles:W},children:_.jsxs(SW,{...B,ref:Ns(t,Y),onKeyDownCapture:he,onMouseDownCapture:()=>{var ye;return(ye=Y.current)==null?void 0:ye.focus()},size:l,disabled:S,children:[_.jsx(TW,{inverted:I,offset:0,filled:te,marks:m,min:u,max:c,value:ue,disabled:S,containerProps:{ref:ee,onMouseEnter:E?()=>U(!0):void 0,onMouseLeave:E?()=>U(!1):void 0},children:_.jsx(j3,{max:c,min:u,value:ue,position:te,dragging:ie,label:se,ref:J,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:w,showLabelOnHover:E,isHovered:X,disabled:S,...z,children:C})}),_.jsx("input",{type:"hidden",name:p,value:ue,...$})]})})});Lw.classes=a4;Lw.displayName="@mantine/core/Slider";function XUe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const QUe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":fn(t,"slider-size"),"--slider-color":n?Dr(n,e):void 0,"--slider-radius":i===void 0?void 0:vr(i),"--slider-thumb-size":r!==void 0?Le(r):"calc(var(--slider-size) * 2)"}}),JUe={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,scale:e=>e},AW=We((e,t)=>{const n=Ne("RangeSlider",JUe,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:l,min:u,max:c,minRange:d,maxRange:f,step:h,precision:p,defaultValue:m,name:g,marks:y,label:v,labelTransitionProps:w,labelAlwaysOn:E,thumbFromLabel:C,thumbToLabel:S,showLabelOnHover:T,thumbChildren:A,disabled:I,unstyled:D,scale:O,inverted:M,className:$,style:L,vars:z,hiddenInputProps:B,restrictToMarks:W,thumbProps:V,...X}=n,U=St({name:"Slider",props:n,classes:a4,classNames:r,className:$,styles:i,style:L,vars:z,varsResolver:QUe,unstyled:D}),{dir:F}=Ga(),[G,q]=R.useState(-1),[Y,J]=R.useState(!1),[te,ue]=Oi({value:s,defaultValue:m,finalValue:[u,c],onChange:o}),se=R.useRef(te),ne=R.useRef([]),fe=R.useRef(void 0),ee=[B3({value:te[0],min:u,max:c}),B3({value:te[1],min:u,max:c})],ie=p??gbe(h),he=ze=>{ue(ze),se.current=ze};R.useEffect(()=>{Array.isArray(s)&&(se.current=s)},Array.isArray(s)?[s[0],s[1]]:[null,null]);const ye=(ze,ot,xe)=>{if(ot===-1)return;const Te=[...se.current];if(W&&y){const nt=WB(ze,y.map(kn=>kn.value)),ht=Te[ot];Te[ot]=nt;const st=ot===0?1:0,Ot=l7(y),Qt=a7(y);nt===Ot&&Te[st]===Ot||nt===Qt&&Te[st]===Qt?Te[ot]=ht:nt===Te[st]&&(ht>Te[st]?Te[st]=Jy(nt,y):Te[st]=Qy(nt,y))}else Te[ot]=ze,ot===0&&(ze>Te[1]-(d-1e-9)&&(Te[1]=Math.min(ze+d,c)),ze>(c-(d-1e-9)||u)&&(Te[ot]=se.current[ot]),Te[1]-ze>f&&(Te[1]=ze+f)),ot===1&&(ze<Te[0]+d&&(Te[0]=Math.max(ze-d,u)),ze<Te[0]+d&&(Te[ot]=se.current[ot]),ze-Te[0]>f&&(Te[0]=ze-f));if(Te[0]=Nu(Te[0],ie),Te[1]=Nu(Te[1],ie),Te[0]>Te[1]){const nt=Te[0];Te[0]=Te[1],Te[1]=nt}he(Te),xe&&(a==null||a(se.current))},Ce=ze=>{if(!I){const ot=o7({value:ze,min:u,max:c,step:h,precision:ie});ye(ot,fe.current,!1)}},{ref:Re,active:De}=Hge(({x:ze})=>Ce(ze),{onScrubEnd:()=>a==null?void 0:a(se.current)},F);function be(ze){fe.current=ze}const je=ze=>{Re.current.focus();const ot=Re.current.getBoundingClientRect(),xe=XUe(ze.nativeEvent),Te=o7({value:xe-ot.left,max:c,min:u,step:h,containerWidth:ot.width}),nt=Math.abs(te[0]-Te)>Math.abs(te[1]-Te)?1:0,ht=F==="ltr"?nt:nt===1?0:1;fe.current=ht},Qe=()=>G!==1&&G!==0?(q(0),0):G,it=ze=>{if(!I)switch(ze.key){case"ArrowUp":{ze.preventDefault();const ot=Qe();ne.current[ot].focus();const xe=W&&y?Qy(se.current[ot],y):Math.min(Math.max(se.current[ot]+h,u),c);ye(Nu(xe,ie),ot,!0);break}case"ArrowRight":{ze.preventDefault();const ot=Qe();ne.current[ot].focus();const xe=W&&y?(F==="rtl"?Jy:Qy)(se.current[ot],y):Math.min(Math.max(F==="rtl"?se.current[ot]-h:se.current[ot]+h,u),c);ye(Nu(xe,ie),ot,!0);break}case"ArrowDown":{ze.preventDefault();const ot=Qe();ne.current[ot].focus();const xe=W&&y?Jy(se.current[ot],y):Math.min(Math.max(se.current[ot]-h,u),c);ye(Nu(xe,ie),ot,!0);break}case"ArrowLeft":{ze.preventDefault();const ot=Qe();ne.current[ot].focus();const xe=W&&y?(F==="rtl"?Qy:Jy)(se.current[ot],y):Math.min(Math.max(F==="rtl"?se.current[ot]+h:se.current[ot]-h,u),c);ye(Nu(xe,ie),ot,!0);break}}},Ke={max:c,min:u,size:l,labelTransitionProps:w,labelAlwaysOn:E,onBlur:()=>q(-1)},Pe=Array.isArray(A);return _.jsx(pbe,{value:{getStyles:U},children:_.jsxs(SW,{...X,size:l,ref:t,disabled:I,children:[_.jsxs(TW,{offset:ee[0],marksOffset:te[0],filled:ee[1]-ee[0],marks:y,inverted:M,min:u,max:c,value:te[1],disabled:I,containerProps:{ref:Re,onMouseEnter:T?()=>J(!0):void 0,onMouseLeave:T?()=>J(!1):void 0,onTouchStartCapture:je,onTouchEndCapture:()=>{fe.current=-1},onMouseDownCapture:je,onMouseUpCapture:()=>{fe.current=-1},onKeyDownCapture:it},children:[_.jsx(j3,{...Ke,value:O(te[0]),position:ee[0],dragging:De,label:typeof v=="function"?v(Nu(O(te[0]),ie)):v,ref:ze=>{ne.current[0]=ze},thumbLabel:C,onMouseDown:()=>be(0),onFocus:()=>q(0),showLabelOnHover:T,isHovered:Y,disabled:I,...V==null?void 0:V(0),children:Pe?A[0]:A}),_.jsx(j3,{...Ke,thumbLabel:S,value:O(te[1]),position:ee[1],dragging:De,label:typeof v=="function"?v(Nu(O(te[1]),ie)):v,ref:ze=>{ne.current[1]=ze},onMouseDown:()=>be(1),onFocus:()=>q(1),showLabelOnHover:T,isHovered:Y,disabled:I,...V==null?void 0:V(1),children:Pe?A[1]:A})]}),_.jsx("input",{type:"hidden",name:`${g}_from`,value:te[0],...B}),_.jsx("input",{type:"hidden",name:`${g}_to`,value:te[1],...B})]})})});AW.classes=a4;AW.displayName="@mantine/core/RangeSlider";const ZUe={},Gu=We((e,t)=>{const{w:n,h:r,miw:i,mih:s,...o}=Ne("Space",ZUe,e);return _.jsx(Se,{ref:t,...o,w:n,miw:i??n,h:r,mih:s??r})});Gu.displayName="@mantine/core/Space";var ybe={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const eHe={maxHeight:100,initialState:!1},tHe=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),kW=We((e,t)=>{const n=Ne("Spoiler",eHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,initialState:u,maxHeight:c,hideLabel:d,showLabel:f,children:h,controlRef:p,transitionDuration:m,id:g,expanded:y,onExpandedChange:v,...w}=n,E=St({name:"Spoiler",classes:ybe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:tHe}),C=ma(g),S=`${C}-region`,[T,A]=Oi({value:y,defaultValue:u,finalValue:!1,onChange:v}),{ref:I,height:D}=Q5e(),O=T?d:f,M=O!==null&&c<D;return _.jsxs(Se,{...E("root"),id:C,ref:t,"data-has-spoiler":M||void 0,...w,children:[M&&_.jsx(gb,{component:"button",type:"button",ref:p,onClick:()=>A(!T),"aria-expanded":T,"aria-controls":S,...E("control"),children:O}),_.jsx("div",{...E("content",{style:{maxHeight:T?D?Le(D):void 0:Le(c)}}),"data-reduce-motion":!0,role:"region",id:S,children:_.jsx("div",{ref:I,children:h})})]})});kW.classes=ybe;kW.displayName="@mantine/core/Spoiler";var vbe={root:"m_6d731127"};const nHe={gap:"md",align:"stretch",justify:"flex-start"},rHe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":es(t),"--stack-align":n,"--stack-justify":r}}),fs=We((e,t)=>{const n=Ne("Stack",nHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,align:u,justify:c,gap:d,variant:f,...h}=n,p=St({name:"Stack",props:n,classes:vbe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:rHe});return _.jsx(Se,{ref:t,...p("root"),variant:f,...h})});fs.classes=vbe;fs.displayName="@mantine/core/Stack";const bbe=R.createContext(null),iHe=bbe.Provider,sHe=()=>R.useContext(bbe),oHe={},IW=We((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:l,...u}=Ne("SwitchGroup",oHe,e),[c,d]=Oi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return _.jsx(iHe,{value:{value:c,onChange:f,size:s},children:_.jsx(Pr.Wrapper,{size:s,ref:t,...o,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:_.jsx(jV,{role:"group",children:a})})})});IW.classes=Pr.Wrapper.classes;IW.displayName="@mantine/core/SwitchGroup";var wbe={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const aHe={labelPosition:"right"},lHe=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:vr(t),"--switch-height":fn(r,"switch-height"),"--switch-width":fn(r,"switch-width"),"--switch-thumb-size":fn(r,"switch-thumb-size"),"--switch-label-font-size":fn(r,"switch-label-font-size"),"--switch-track-label-padding":fn(r,"switch-track-label-padding"),"--switch-color":n?Dr(n,e):void 0}}),D0=We((e,t)=>{const n=Ne("Switch",aHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,label:c,offLabel:d,onLabel:f,id:h,size:p,radius:m,wrapperProps:g,thumbIcon:y,checked:v,defaultChecked:w,onChange:E,labelPosition:C,description:S,error:T,disabled:A,variant:I,rootRef:D,mod:O,...M}=n,$=sHe(),L=p||($==null?void 0:$.size),z=St({name:"Switch",props:n,classes:wbe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:lHe}),{styleProps:B,rest:W}=hb(M),V=ma(h),X=$?{checked:$.value.includes(W.value),onChange:$.onChange}:{},[U,F]=Oi({value:X.checked??v,defaultValue:w,finalValue:!1});return _.jsxs(N$,{...z("root"),__staticSelector:"Switch",__stylesApiProps:n,id:V,size:L,labelPosition:C,label:c,description:S,error:T,disabled:A,bodyElement:"label",labelElement:"span",classNames:r,styles:o,unstyled:a,"data-checked":X.checked||v||void 0,variant:I,ref:D,mod:O,...B,...g,children:[_.jsx("input",{...W,disabled:A,checked:U,"data-checked":X.checked||v||void 0,onChange:G=>{var q;$?(q=X.onChange)==null||q.call(X,G):E==null||E(G),F(G.currentTarget.checked)},id:V,ref:t,type:"checkbox",role:"switch",...z("input")}),_.jsxs(Se,{"aria-hidden":"true",mod:{error:T,"label-position":C,"without-labels":!f&&!d},...z("track"),children:[_.jsx(Se,{component:"span",mod:"reduce-motion",...z("thumb"),children:y}),_.jsx("span",{...z("trackLabel"),children:U?f:d})]})]})});D0.classes={...wbe,...dve};D0.displayName="@mantine/core/Switch";D0.Group=IW;const[uHe,cHe]=ms("Table component was not found in the tree");var VT={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function dHe(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function bb(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=We((i,s)=>{const o=Ne(n,{},i),{classNames:a,className:l,style:u,styles:c,...d}=o,f=cHe();return _.jsx(Se,{component:e,ref:s,...dHe(f,t),...f.getStyles(e,{className:l,classNames:a,style:u,styles:c,props:o}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=VT,r}const bx=bb("th",{columnBorder:!0}),WT=bb("td",{columnBorder:!0}),Cp=bb("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),RW=bb("thead",{stickyHeader:!0}),DS=bb("tbody"),DW=bb("tfoot"),xbe=bb("caption",{captionSide:!0});function PW({data:e}){return _.jsxs(_.Fragment,{children:[e.caption&&_.jsx(xbe,{children:e.caption}),e.head&&_.jsx(RW,{children:_.jsx(Cp,{children:e.head.map((t,n)=>_.jsx(bx,{children:t},n))})}),e.body&&_.jsx(DS,{children:e.body.map((t,n)=>_.jsx(Cp,{children:t.map((r,i)=>_.jsx(WT,{children:r},i))},n))}),e.foot&&_.jsx(DW,{children:_.jsx(Cp,{children:e.foot.map((t,n)=>_.jsx(bx,{children:t},n))})})]})}PW.displayName="@mantine/core/TableDataRenderer";const fHe={type:"scrollarea"},hHe=(e,{minWidth:t,type:n})=>({scrollContainer:{"--table-min-width":Le(t),"--table-overflow":n==="native"?"auto":void 0}}),OW=We((e,t)=>{const n=Ne("TableScrollContainer",fHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,minWidth:c,type:d,...f}=n,h=St({name:"TableScrollContainer",classes:VT,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:hHe,rootSelector:"scrollContainer"});return _.jsx(Se,{component:d==="scrollarea"?Fp:"div",...d==="scrollarea"?{offsetScrollbars:"x"}:{},ref:t,...h("scrollContainer"),...f,children:_.jsx("div",{...h("scrollContainerInner"),children:u})})});OW.classes=VT;OW.displayName="@mantine/core/TableScrollContainer";const pHe={withRowBorders:!0,verticalSpacing:7},mHe=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:s,stripedColor:o,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":es(r),"--table-vertical-spacing":es(i),"--table-border-color":s?Dr(s,e):void 0,"--table-striped-color":l&&o?Dr(o,e):void 0,"--table-highlight-on-hover-color":u&&a?Dr(a,e):void 0,"--table-sticky-header-offset":d?Le(c):void 0}}),Vn=We((e,t)=>{const n=Ne("Table",pHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:f,highlightOnHoverColor:h,striped:p,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,withTableBorder:v,borderColor:w,layout:E,variant:C,data:S,children:T,stickyHeader:A,stickyHeaderOffset:I,mod:D,tabularNums:O,...M}=n,$=St({name:"Table",props:n,className:i,style:s,classes:VT,classNames:r,styles:o,unstyled:a,rootSelector:"table",vars:l,varsResolver:mHe});return _.jsx(uHe,{value:{getStyles:$,stickyHeader:A,striped:p===!0?"odd":p||void 0,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,captionSide:d||"bottom"},children:_.jsx(Se,{component:"table",variant:C,ref:t,mod:[{"data-with-table-border":v,"data-tabular-nums":O},D],...$("table"),...M,children:T||!!S&&_.jsx(PW,{data:S})})})});Vn.classes=VT;Vn.displayName="@mantine/core/Table";Vn.Td=WT;Vn.Th=bx;Vn.Tr=Cp;Vn.Thead=RW;Vn.Tbody=DS;Vn.Tfoot=DW;Vn.Caption=xbe;Vn.ScrollContainer=OW;Vn.DataRenderer=PW;const[gHe,NW]=ms("Tabs component was not found in the tree");var GT={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const yHe={},$W=We((e,t)=>{const n=Ne("TabsList",yHe,e),{children:r,className:i,grow:s,justify:o,classNames:a,styles:l,style:u,mod:c,...d}=n,f=NW();return _.jsx(Se,{...d,...f.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:s,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},c],"aria-orientation":f.orientation,__vars:{"--tabs-justify":o},children:r})});$W.classes=GT;$W.displayName="@mantine/core/TabsList";const vHe={},MW=We((e,t)=>{const n=Ne("TabsPanel",vHe,e),{children:r,className:i,value:s,classNames:o,styles:a,style:l,mod:u,keepMounted:c,...d}=n,f=NW(),h=f.value===s,p=f.keepMounted||c||h?r:null;return _.jsx(Se,{...d,...f.getStyles("panel",{className:i,classNames:o,styles:a,style:[l,h?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},u],role:"tabpanel",id:f.getPanelId(s),"aria-labelledby":f.getTabId(s),children:p})});MW.classes=GT;MW.displayName="@mantine/core/TabsPanel";const bHe={},FW=We((e,t)=>{const n=Ne("TabsTab",bHe,e),{className:r,children:i,rightSection:s,leftSection:o,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:f,classNames:h,styles:p,vars:m,mod:g,tabIndex:y,...v}=n,w=Vi(),{dir:E}=Ga(),C=NW(),S=a===C.value,T=I=>{C.onChange(C.allowTabDeactivation&&a===C.value?null:a),l==null||l(I)},A={classNames:h,styles:p,props:n};return _.jsxs(ts,{...v,...C.getStyles("tab",{className:r,style:f,variant:C.variant,...A}),disabled:c,unstyled:C.unstyled,variant:C.variant,mod:[{active:S,disabled:c,orientation:C.orientation,inverted:C.inverted,placement:C.orientation==="vertical"&&C.placement},g],ref:t,role:"tab",id:C.getTabId(a),"aria-selected":S,tabIndex:y||S||C.value===null?0:-1,"aria-controls":C.getPanelId(a),onClick:T,__vars:{"--tabs-color":d?Dr(d,w):void 0},onKeyDown:Dq({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:C.activateTabWithKeyboard,loop:C.loop,orientation:C.orientation||"horizontal",dir:E,onKeyDown:u}),children:[o&&_.jsx("span",{...C.getStyles("tabSection",A),"data-position":"left",children:o}),i&&_.jsx("span",{...C.getStyles("tabLabel",A),children:i}),s&&_.jsx("span",{...C.getStyles("tabSection",A),"data-position":"right",children:s})]})});FW.classes=GT;FW.displayName="@mantine/core/TabsTab";const _ie="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",wHe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},xHe=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":vr(t),"--tabs-color":Dr(n,e),"--tabs-text-color":hg(r,e)?rm({color:n,theme:e,autoContrast:r}):void 0}}),mr=We((e,t)=>{const n=Ne("Tabs",wHe,e),{defaultValue:r,value:i,onChange:s,orientation:o,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,placement:g,keepMounted:y,classNames:v,styles:w,unstyled:E,className:C,style:S,vars:T,autoContrast:A,mod:I,...D}=n,O=ma(u),[M,$]=Oi({value:i,defaultValue:r,finalValue:null,onChange:s}),L=St({name:"Tabs",props:n,classes:GT,className:C,style:S,classNames:v,styles:w,unstyled:E,vars:T,varsResolver:xHe});return _.jsx(gHe,{value:{placement:g,value:M,orientation:o,id:O,loop:l,activateTabWithKeyboard:c,getTabId:A3(`${O}-tab`,_ie),getPanelId:A3(`${O}-panel`,_ie),onChange:$,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,keepMounted:y,unstyled:E,getStyles:L},children:_.jsx(Se,{ref:t,id:O,variant:f,mod:[{orientation:o,inverted:o==="horizontal"&&m,placement:o==="vertical"&&g},I],...L("root"),...D,children:a})})});mr.classes=GT;mr.displayName="@mantine/core/Tabs";mr.Tab=FW;mr.Panel=MW;mr.List=$W;const _He={},Uu=We((e,t)=>{const n=Ne("TextInput",_He,e);return _.jsx(ga,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});Uu.classes=ga.classes;Uu.displayName="@mantine/core/TextInput";const EHe=["h1","h2","h3","h4","h5","h6"],CHe=["xs","sm","md","lg","xl"];function SHe(e,t){const n=t!==void 0?t:`h${e}`;return EHe.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:CHe.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:Le(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var _be={root:"m_8a5d1357"};const THe={order:1},AHe=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const s=SHe(t,n);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},Ii=We((e,t)=>{const n=Ne("Title",THe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,order:l,vars:u,size:c,variant:d,lineClamp:f,textWrap:h,mod:p,...m}=n,g=St({name:"Title",props:n,classes:_be,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:AHe});return[1,2,3,4,5,6].includes(l)?_.jsx(Se,{...g("root"),component:`h${l}`,variant:d,ref:t,mod:[{order:l,"data-line-clamp":typeof f=="number"},p],size:c,...m}):null});Ii.classes=_be;Ii.displayName="@mantine/core/Title";function kHe(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(s=>s(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function IHe(e){return R.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function RHe(e,t,n){const r=[],i=[],s={};for(const o of e){const a=o.position||t;s[a]=s[a]||0,s[a]+=1,s[a]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}const DHe=()=>kHe({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),wb=DHe(),PHe=(e=wb)=>IHe(e);function E_(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=RHe(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function OHe(e,t=wb){const n=e.id||$w();return E_(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function Ebe(e,t=wb){return E_(t,n=>n.filter(r=>{var i;return r.id===e?((i=r.onClose)==null||i.call(r,r),!1):!0})),e}function NHe(e,t=wb){return E_(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function $He(e=wb){E_(e,()=>[])}function MHe(e=wb){E_(e,t=>t.slice(0,e.getState().limit))}const xb={show:OHe,hide:Ebe,update:NHe,clean:$He,cleanQueue:MHe,updateState:E_};function u7(e,t){return u7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},u7(e,t)}function Cbe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u7(e,t)}var qL={exports:{}},VL,Eie;function FHe(){if(Eie)return VL;Eie=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return VL=e,VL}var WL,Cie;function LHe(){if(Cie)return WL;Cie=1;var e=FHe();function t(){}function n(){}return n.resetWarningCache=t,WL=function(){function r(o,a,l,u,c,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},WL}var Sie;function jHe(){return Sie||(Sie=1,qL.exports=LHe()()),qL.exports}var BHe=jHe();const z3=ao(BHe),Tie={disabled:!1},U3=Ir.createContext(null);var zHe=function(t){return t.scrollTop},VC="unmounted",Ty="exited",Ay="entering",mw="entered",c7="exiting",um=function(e){Cbe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ty,s.appearStatus=Ay):l=mw:r.unmountOnExit||r.mountOnEnter?l=VC:l=Ty,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===VC?{status:Ty}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ay&&o!==mw&&(s=Ay):(o===Ay||o===mw)&&(s=c7)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ay){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:qC.findDOMNode(this);o&&zHe(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ty&&this.setState({status:VC})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[qC.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||Tie.disabled){this.safeSetState({status:mw},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ay},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:mw},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:qC.findDOMNode(this);if(!s||Tie.disabled){this.safeSetState({status:Ty},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:c7},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ty},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:qC.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===VC)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=eW(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ir.createElement(U3.Provider,{value:null},typeof o=="function"?o(i,a):Ir.cloneElement(Ir.Children.only(o),a))},t}(Ir.Component);um.contextType=U3;um.propTypes={};function P1(){}um.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:P1,onEntering:P1,onEntered:P1,onExit:P1,onExiting:P1,onExited:P1};um.UNMOUNTED=VC;um.EXITED=Ty;um.ENTERING=Ay;um.ENTERED=mw;um.EXITING=c7;function UHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LW(e,t){var n=function(s){return t&&R.isValidElement(s)?t(s):s},r=Object.create(null);return e&&R.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function HHe(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Zy(e,t,n){return n[t]!=null?n[t]:e.props[t]}function qHe(e,t){return LW(e.children,function(n){return R.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Zy(n,"appear",e),enter:Zy(n,"enter",e),exit:Zy(n,"exit",e)})})}function VHe(e,t,n){var r=LW(e.children),i=HHe(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(R.isValidElement(o)){var a=s in t,l=s in r,u=t[s],c=R.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=R.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Zy(o,"exit",e),enter:Zy(o,"enter",e)}):!l&&a&&!c?i[s]=R.cloneElement(o,{in:!1}):l&&a&&R.isValidElement(u)&&(i[s]=R.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Zy(o,"exit",e),enter:Zy(o,"enter",e)}))}}),i}var WHe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},GHe={component:"div",childFactory:function(t){return t}},n0=function(e){Cbe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(UHe(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?qHe(i,a):VHe(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=LW(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=F3({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=eW(i,["component","childFactory"]),l=this.state.contextValue,u=WHe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Ir.createElement(U3.Provider,{value:l},u):Ir.createElement(U3.Provider,{value:l},Ir.createElement(s,a,u))},t}(Ir.Component);n0.propTypes={};n0.defaultProps=GHe;const Sbe=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function YHe(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),Sbe.reduce((n,r)=>(n[r]=[],n),{}))}const Aie={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},KHe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function XHe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,s]=n.split("-"),o=s==="center"?`${i}-center`:s,a={opacity:0,maxHeight:t,transform:Aie[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:KHe[o]},u={opacity:0,maxHeight:0,transform:Aie[o]};return{...a,...{entering:l,entered:l,exiting:u,exited:u}[e]}}function QHe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const Tbe=R.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:s,message:o,...a}=e,l=QHe(n,e.autoClose),u=R.useRef(-1),c=()=>window.clearTimeout(u.current),d=()=>{t(e.id),c()},f=()=>{typeof l=="number"&&(u.current=window.setTimeout(d,l))};return R.useEffect(()=>{var h;(h=e.onOpen)==null||h.call(e,e)},[]),R.useEffect(()=>(f(),c),[l]),_.jsx(fW,{...r,...a,onClose:d,ref:i,onMouseEnter:c,onMouseLeave:f,children:o})});Tbe.displayName="@mantine/notifications/NotificationContainer";var Abe={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const JHe=um,ZHe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:lo("overlay"),store:wb,withinPortal:!0},eqe=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":Le(n)}}),cm=We((e,t)=>{const n=Ne("Notifications",ZHe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,position:u,autoClose:c,transitionDuration:d,containerWidth:f,notificationMaxHeight:h,limit:p,zIndex:m,store:g,portalProps:y,withinPortal:v,...w}=n,E=Vi(),C=PHe(g),S=W5e(),T=v$(),A=R.useRef({}),I=R.useRef(0),O=(E.respectReducedMotion?T:!1)?1:d,M=St({name:"Notifications",classes:Abe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:eqe});R.useEffect(()=>{g==null||g.updateState(z=>({...z,limit:p||5,defaultPosition:u}))},[p,u]),vd(()=>{C.notifications.length>I.current&&setTimeout(()=>S(),0),I.current=C.notifications.length},[C.notifications]);const $=YHe(C.notifications,u),L=Sbe.reduce((z,B)=>(z[B]=$[B].map(({style:W,...V})=>_.jsx(JHe,{timeout:O,onEnter:()=>A.current[V.id].offsetHeight,nodeRef:{current:A.current[V.id]},children:X=>_.jsx(Tbe,{ref:U=>{A.current[V.id]=U},data:V,onHide:U=>Ebe(U,g),autoClose:c,...M("notification",{style:{...XHe({state:X,position:B,transitionDuration:O,maxHeight:h}),...W}})})},V.id)),z),{});return _.jsxs(pg,{withinPortal:v,...y,children:[_.jsx(Se,{...M("root"),"data-position":"top-center",ref:t,...w,children:_.jsx(n0,{children:L["top-center"]})}),_.jsx(Se,{...M("root"),"data-position":"top-left",...w,children:_.jsx(n0,{children:L["top-left"]})}),_.jsx(Se,{...M("root",{className:dx.classNames.fullWidth}),"data-position":"top-right",...w,children:_.jsx(n0,{children:L["top-right"]})}),_.jsx(Se,{...M("root",{className:dx.classNames.fullWidth}),"data-position":"bottom-right",...w,children:_.jsx(n0,{children:L["bottom-right"]})}),_.jsx(Se,{...M("root"),"data-position":"bottom-left",...w,children:_.jsx(n0,{children:L["bottom-left"]})}),_.jsx(Se,{...M("root"),"data-position":"bottom-center",...w,children:_.jsx(n0,{children:L["bottom-center"]})})]})});cm.classes=Abe;cm.displayName="@mantine/notifications/Notifications";cm.show=xb.show;cm.hide=xb.hide;cm.update=xb.update;cm.clean=xb.clean;cm.cleanQueue=xb.cleanQueue;cm.updateState=xb.updateState;const kbe=R.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),Wi=()=>R.useContext(kbe);function tqe({children:e}){const[t,n]=R.useState(void 0),r=R.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return _.jsx(kbe.Provider,{value:r,children:e})}var YE={},kie;function nqe(){if(kie)return YE;kie=1,Object.defineProperty(YE,"__esModule",{value:!0}),YE.parse=o,YE.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function o(f,h){const p=new s,m=f.length;if(m<2)return p;const g=(h==null?void 0:h.decode)||c;let y=0;do{const v=f.indexOf("=",y);if(v===-1)break;const w=f.indexOf(";",y),E=w===-1?m:w;if(v>E){y=f.lastIndexOf(";",v-1)+1;continue}const C=a(f,y,v),S=l(f,v,C),T=f.slice(C,S);if(p[T]===void 0){let A=a(f,v+1,E),I=l(f,E,A);const D=g(f.slice(A,I));p[T]=D}y=E+1}while(y<m);return p}function a(f,h,p){do{const m=f.charCodeAt(h);if(m!==32&&m!==9)return h}while(++h<p);return p}function l(f,h,p){for(;h>p;){const m=f.charCodeAt(--h);if(m!==32&&m!==9)return h+1}return p}function u(f,h,p){const m=(p==null?void 0:p.encode)||encodeURIComponent;if(!e.test(f))throw new TypeError(`argument name is invalid: ${f}`);const g=m(h);if(!t.test(g))throw new TypeError(`argument val is invalid: ${h}`);let y=f+"="+g;if(!p)return y;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);y+="; Max-Age="+p.maxAge}if(p.domain){if(!n.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);y+="; Domain="+p.domain}if(p.path){if(!r.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);y+="; Path="+p.path}if(p.expires){if(!d(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);y+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(y+="; HttpOnly"),p.secure&&(y+="; Secure"),p.partitioned&&(y+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return y}function c(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function d(f){return i.call(f)==="[object Date]"}return YE}nqe();var Iie="popstate";function rqe(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return d7("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:S2(i)}return sqe(t,n,null,e)}function wi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iqe(){return Math.random().toString(36).substring(2,10)}function Rie(e,t){return{usr:e.state,key:e.key,idx:t}}function d7(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?C_(t):t,state:n,key:t&&t.key||r||iqe()}}function S2({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function C_(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function sqe(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let g=c(),y=g==null?null:g-u;u=g,l&&l({action:a,location:m.location,delta:y})}function f(g,y){a="PUSH";let v=d7(m.location,g,y);u=c()+1;let w=Rie(v,u),E=m.createHref(v);try{o.pushState(w,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(E)}s&&l&&l({action:a,location:m.location,delta:1})}function h(g,y){a="REPLACE";let v=d7(m.location,g,y);u=c();let w=Rie(v,u),E=m.createHref(v);o.replaceState(w,"",E),s&&l&&l({action:a,location:m.location,delta:0})}function p(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:S2(g);return v=v.replace(/ $/,"%20"),wi(y,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,y)}let m={get action(){return a},get location(){return e(i,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Iie,d),l=g,()=>{i.removeEventListener(Iie,d),l=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(g){return o.go(g)}};return m}function Ibe(e,t,n="/"){return oqe(e,t,n,!1)}function oqe(e,t,n,r){let i=typeof t=="string"?C_(t):t,s=jp(i.pathname||"/",n);if(s==null)return null;let o=Rbe(e);aqe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=vqe(s);a=gqe(o[l],u,r)}return a}function Rbe(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(wi(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Sp([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(wi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Rbe(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:pqe(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Dbe(s.path))i(s,o,l)}),t}function Dbe(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Dbe(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function aqe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mqe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lqe=/^:[\w-]+$/,uqe=3,cqe=2,dqe=1,fqe=10,hqe=-2,Die=e=>e==="*";function pqe(e,t){let n=e.split("/"),r=n.length;return n.some(Die)&&(r+=hqe),t&&(r+=cqe),n.filter(i=>!Die(i)).reduce((i,s)=>i+(lqe.test(s)?uqe:s===""?dqe:fqe),r)}function mqe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function gqe(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=H3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=H3({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Sp([s,d.pathname]),pathnameBase:_qe(Sp([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Sp([s,d.pathnameBase]))}return o}function H3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yqe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let p=a[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function yqe(e,t=!1,n=!0){Zu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vqe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zu(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function bqe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?C_(e):e;return{pathname:n?n.startsWith("/")?n:wqe(n,t):t,search:Eqe(r),hash:Cqe(i)}}function wqe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function GL(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xqe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jW(e){let t=xqe(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function BW(e,t,n,r=!1){let i;typeof e=="string"?i=C_(e):(i={...e},wi(!i.pathname||!i.pathname.includes("?"),GL("?","pathname","search",i)),wi(!i.pathname||!i.pathname.includes("#"),GL("#","pathname","hash",i)),wi(!i.search||!i.search.includes("#"),GL("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=bqe(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Sp=e=>e.join("/").replace(/\/\/+/g,"/"),_qe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Eqe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cqe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sqe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Pbe=["POST","PUT","PATCH","DELETE"];new Set(Pbe);var Tqe=["GET",...Pbe];new Set(Tqe);var S_=R.createContext(null);S_.displayName="DataRouter";var l4=R.createContext(null);l4.displayName="DataRouterState";var Obe=R.createContext({isTransitioning:!1});Obe.displayName="ViewTransition";var Aqe=R.createContext(new Map);Aqe.displayName="Fetchers";var kqe=R.createContext(null);kqe.displayName="Await";var Md=R.createContext(null);Md.displayName="Navigation";var YT=R.createContext(null);YT.displayName="Location";var dc=R.createContext({outlet:null,matches:[],isDataRoute:!1});dc.displayName="Route";var zW=R.createContext(null);zW.displayName="RouteError";function UW(e,{relative:t}={}){wi(T_(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Md),{hash:i,pathname:s,search:o}=KT(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Sp([n,s])),r.createHref({pathname:a,search:o,hash:i})}function T_(){return R.useContext(YT)!=null}function fc(){return wi(T_(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(YT).location}var Nbe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $be(e){R.useContext(Md).static||R.useLayoutEffect(e)}function Ya(){let{isDataRoute:e}=R.useContext(dc);return e?Uqe():Iqe()}function Iqe(){wi(T_(),"useNavigate() may be used only in the context of a <Router> component.");let e=R.useContext(S_),{basename:t,navigator:n}=R.useContext(Md),{matches:r}=R.useContext(dc),{pathname:i}=fc(),s=JSON.stringify(jW(r)),o=R.useRef(!1);return $be(()=>{o.current=!0}),R.useCallback((l,u={})=>{if(Zu(o.current,Nbe),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=BW(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Sp([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}var Rqe=R.createContext(null);function Dqe(e){let t=R.useContext(dc).outlet;return t&&R.createElement(Rqe.Provider,{value:e},t)}function ha(){let{matches:e}=R.useContext(dc),t=e[e.length-1];return t?t.params:{}}function KT(e,{relative:t}={}){let{matches:n}=R.useContext(dc),{pathname:r}=fc(),i=JSON.stringify(jW(n));return R.useMemo(()=>BW(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Mbe(e,t){return Fbe(e,t)}function Fbe(e,t,n,r){var v;wi(T_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=R.useContext(Md),{matches:o}=R.useContext(dc),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let w=d&&d.path||"";Lbe(u,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=fc(),h;if(t){let w=typeof t=="string"?C_(t):t;wi(c==="/"||((v=w.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=f;let p=h.pathname||"/",m=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=!s&&n&&n.matches&&n.matches.length>0?n.matches:Ibe(e,{pathname:m});Zu(d||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Zu(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Mqe(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Sp([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Sp([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&y?R.createElement(YT.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function Pqe(){let e=zqe(),t=Sqe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:i},n):null,o)}var Oqe=R.createElement(Pqe,null),Nqe=class extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(dc.Provider,{value:this.props.routeContext},R.createElement(zW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $qe({routeContext:e,match:t,children:n}){let r=R.useContext(S_);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(dc.Provider,{value:e},n)}function Mqe(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);wi(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,f=!1,h=null,p=null;n&&(d=s&&u.route.id?s[u.route.id]:void 0,h=u.route.errorElement||Oqe,o&&(a<0&&c===0?(Lbe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):a===c&&(f=!0,p=u.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,c+1)),g=()=>{let y;return d?y=h:f?y=p:u.route.Component?y=R.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,R.createElement($qe,{match:u,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?R.createElement(Nqe,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}function HW(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fqe(e){let t=R.useContext(S_);return wi(t,HW(e)),t}function Lqe(e){let t=R.useContext(l4);return wi(t,HW(e)),t}function jqe(e){let t=R.useContext(dc);return wi(t,HW(e)),t}function qW(e){let t=jqe(e),n=t.matches[t.matches.length-1];return wi(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Bqe(){return qW("useRouteId")}function zqe(){var r;let e=R.useContext(zW),t=Lqe("useRouteError"),n=qW("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Uqe(){let{router:e}=Fqe("useNavigate"),t=qW("useNavigate"),n=R.useRef(!1);return $be(()=>{n.current=!0}),R.useCallback(async(i,s={})=>{Zu(n.current,Nbe),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Pie={};function Lbe(e,t,n){!t&&!Pie[e]&&(Pie[e]=!0,Zu(!1,n))}R.memo(Hqe);function Hqe({routes:e,future:t,state:n}){return Fbe(e,void 0,n,t)}function VW({to:e,replace:t,state:n,relative:r}){wi(T_(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(Md);Zu(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=R.useContext(dc),{pathname:o}=fc(),a=Ya(),l=BW(e,jW(s),o,r==="path"),u=JSON.stringify(l);return R.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function qqe(e){return Dqe(e.context)}function ky(e){wi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vqe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){wi(!T_(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=R.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=C_(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,h=R.useMemo(()=>{let p=jp(l,o);return p==null?null:{location:{pathname:p,search:u,hash:c,state:d,key:f},navigationType:r}},[o,l,u,c,d,f,r]);return Zu(h!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:R.createElement(Md.Provider,{value:a},R.createElement(YT.Provider,{children:t,value:h}))}function Wqe({children:e,location:t}){return Mbe(f7(e),t)}function f7(e,t=[]){let n=[];return R.Children.forEach(e,(r,i)=>{if(!R.isValidElement(r))return;let s=[...t,i];if(r.type===R.Fragment){n.push.apply(n,f7(r.props.children,s));return}wi(r.type===ky,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=f7(r.props.children,s)),n.push(o)}),n}var VD="get",WD="application/x-www-form-urlencoded";function u4(e){return e!=null&&typeof e.tagName=="string"}function Gqe(e){return u4(e)&&e.tagName.toLowerCase()==="button"}function Yqe(e){return u4(e)&&e.tagName.toLowerCase()==="form"}function Kqe(e){return u4(e)&&e.tagName.toLowerCase()==="input"}function Xqe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qqe(e,t){return e.button===0&&(!t||t==="_self")&&!Xqe(e)}function h7(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Jqe(e,t){let n=h7(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var AI=null;function Zqe(){if(AI===null)try{new FormData(document.createElement("form"),0),AI=!1}catch{AI=!0}return AI}var eVe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function YL(e){return e!=null&&!eVe.has(e)?(Zu(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${WD}"`),null):e}function tVe(e,t){let n,r,i,s,o;if(Yqe(e)){let a=e.getAttribute("action");r=a?jp(a,t):null,n=e.getAttribute("method")||VD,i=YL(e.getAttribute("enctype"))||WD,s=new FormData(e)}else if(Gqe(e)||Kqe(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?jp(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||VD,i=YL(e.getAttribute("formenctype"))||YL(a.getAttribute("enctype"))||WD,s=new FormData(a,e),!Zqe()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(u4(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=VD,r=null,i=WD,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function WW(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function nVe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rVe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function iVe(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await nVe(s,n);return o.links?o.links():[]}return[]}));return lVe(r.flat(1).filter(rVe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Oie(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function sVe(e,t,{includeHydrateFallback:n}={}){return oVe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function oVe(e){return[...new Set(e)]}function aVe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function lVe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(aVe(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}var uVe=new Set([100,101,204,205]);function cVe(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&jp(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function jbe(){let e=R.useContext(S_);return WW(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function dVe(){let e=R.useContext(l4);return WW(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var GW=R.createContext(void 0);GW.displayName="FrameworkContext";function Bbe(){let e=R.useContext(GW);return WW(e,"You must render this element inside a <HydratedRouter> element"),e}function fVe(e,t){let n=R.useContext(GW),[r,i]=R.useState(!1),[s,o]=R.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=R.useRef(null);R.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=y=>{y.forEach(v=>{o(v.isIntersecting)})},g=new IntersectionObserver(m,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[e]),R.useEffect(()=>{if(r){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[r]);let h=()=>{i(!0)},p=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,f,{}]:[s,f,{onFocus:KE(a,h),onBlur:KE(l,p),onMouseEnter:KE(u,h),onMouseLeave:KE(c,p),onTouchStart:KE(d,h)}]:[!1,f,{}]}function KE(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function hVe({page:e,...t}){let{router:n}=jbe(),r=R.useMemo(()=>Ibe(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?R.createElement(mVe,{page:e,matches:r,...t}):null}function pVe(e){let{manifest:t,routeModules:n}=Bbe(),[r,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return iVe(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function mVe({page:e,matches:t,...n}){let r=fc(),{manifest:i,routeModules:s}=Bbe(),{basename:o}=jbe(),{loaderData:a,matches:l}=dVe(),u=R.useMemo(()=>Oie(e,t,l,i,r,"data"),[e,t,l,i,r]),c=R.useMemo(()=>Oie(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=R.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,m=!1;if(t.forEach(y=>{var w;let v=i.routes[y.route.id];!v||!v.hasLoader||(!u.some(E=>E.route.id===y.route.id)&&y.route.id in a&&((w=s[y.route.id])!=null&&w.shouldRevalidate)||v.hasClientLoader?m=!0:p.add(y.route.id))}),p.size===0)return[];let g=cVe(e,o);return m&&p.size>0&&g.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[g.pathname+g.search]},[o,a,r,i,u,t,e,s]),f=R.useMemo(()=>sVe(c,i),[c,i]),h=pVe(c);return R.createElement(R.Fragment,null,d.map(p=>R.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>R.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:m})=>R.createElement("link",{key:p,...m})))}function gVe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var zbe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zbe&&(window.__reactRouterVersion="7.5.2")}catch{}function yVe({basename:e,children:t,window:n}){let r=R.useRef();r.current==null&&(r.current=rqe({window:n,v5Compat:!0}));let i=r.current,[s,o]=R.useState({action:i.action,location:i.location}),a=R.useCallback(l=>{R.startTransition(()=>o(l))},[o]);return R.useLayoutEffect(()=>i.listen(a),[i,a]),R.createElement(Vqe,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var Ube=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hbe=R.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},h){let{basename:p}=R.useContext(Md),m=typeof u=="string"&&Ube.test(u),g,y=!1;if(typeof u=="string"&&m&&(g=u,zbe))try{let I=new URL(window.location.href),D=u.startsWith("//")?new URL(I.protocol+u):new URL(u),O=jp(D.pathname,p);D.origin===I.origin&&O!=null?u=O+D.search+D.hash:y=!0}catch{Zu(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=UW(u,{relative:i}),[w,E,C]=fVe(r,f),S=xVe(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function T(I){t&&t(I),I.defaultPrevented||S(I)}let A=R.createElement("a",{...f,...C,href:g||v,onClick:y||s?t:T,ref:gVe(h,E),target:l,"data-discover":!m&&n==="render"?"true":void 0});return w&&!m?R.createElement(R.Fragment,null,A,R.createElement(hVe,{page:v})):A});Hbe.displayName="Link";var vVe=R.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let d=KT(o,{relative:u.relative}),f=fc(),h=R.useContext(l4),{navigator:p,basename:m}=R.useContext(Md),g=h!=null&&TVe(d)&&a===!0,y=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,v=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(v=v.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&m&&(w=jp(w,m)||w);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=v===y||!i&&v.startsWith(y)&&v.charAt(E)==="/",S=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),T={isActive:C,isPending:S,isTransitioning:g},A=C?t:void 0,I;typeof r=="function"?I=r(T):I=[r,C?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(T):s;return R.createElement(Hbe,{...u,"aria-current":A,className:I,ref:c,style:D,to:o,viewTransition:a},typeof l=="function"?l(T):l)});vVe.displayName="NavLink";var bVe=R.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=VD,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},h)=>{let p=CVe(),m=SVe(a,{relative:u}),g=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&Ube.test(a),v=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let E=w.nativeEvent.submitter,C=(E==null?void 0:E.getAttribute("formmethod"))||o;p(E||w.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:d})};return R.createElement("form",{ref:h,method:g,action:m,onSubmit:r?l:v,...f,"data-discover":!y&&e==="render"?"true":void 0})});bVe.displayName="Form";function wVe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qbe(e){let t=R.useContext(S_);return wi(t,wVe(e)),t}function xVe(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Ya(),l=fc(),u=KT(e,{relative:s});return R.useCallback(c=>{if(Qqe(c,t)){c.preventDefault();let d=n!==void 0?n:S2(l)===S2(u);a(e,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}function ch(e){Zu(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=R.useRef(h7(e)),n=R.useRef(!1),r=fc(),i=R.useMemo(()=>Jqe(r.search,n.current?null:t.current),[r.search]),s=Ya(),o=R.useCallback((a,l)=>{const u=h7(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var _Ve=0,EVe=()=>`__${String(++_Ve)}__`;function CVe(){let{router:e}=qbe("useSubmit"),{basename:t}=R.useContext(Md),n=Bqe();return R.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=tVe(r,t);if(i.navigate===!1){let c=i.fetcherKey||EVe();await e.fetch(c,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function SVe(e,{relative:t}={}){let{basename:n}=R.useContext(Md),r=R.useContext(dc);wi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...KT(e||".",{relative:t})},o=fc();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();s.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Sp([n,s.pathname])),S2(s)}function TVe(e,t={}){let n=R.useContext(Obe);wi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qbe("useViewTransitionState"),i=KT(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=jp(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=jp(n.nextLocation.pathname,r)||n.nextLocation.pathname;return H3(i.pathname,o)!=null||H3(i.pathname,s)!=null}new TextEncoder;[...uVe];const YW=R.createContext(null);YW.displayName="@mantine/modals/ModalsContext";function AVe(){const e=R.useContext(YW);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function kVe({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:s=!0,groupProps:o,onCancel:a,onConfirm:l,children:u}){const{cancel:c,confirm:d}=r,f=AVe(),h=m=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(m)),typeof a=="function"&&a(),s&&f.closeModal(e)},p=m=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(m)),typeof l=="function"&&l(),i&&f.closeModal(e)};return _.jsxs(_.Fragment,{children:[u&&_.jsx(Se,{mb:"md",children:u}),_.jsxs(Pi,{mt:u?0:"md",justify:"flex-end",...o,children:[_.jsx(qt,{variant:"default",...t,onClick:h,children:(t==null?void 0:t.children)||c}),_.jsx(qt,{...n,onClick:p,children:(n==null?void 0:n.children)||d})]})]})}const[IVe,KW]=rFe("mantine-modals"),Nie=e=>{const t=e.modalId||$w();return KW("openConfirmModal")({...e,modalId:t}),t};KW("closeModal");KW("closeAllModals");function $ie(e,t){var n,r,i,s;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(s=(i=e.props).onClose)==null||s.call(i)}function RVe(e,t){var n;switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const r=e.modals.find(s=>s.id===t.modalId);if(!r)return e;$ie(r,t.canceled);const i=e.modals.filter(s=>s.id!==t.modalId);return{current:i[i.length-1]||e.current,modals:i}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(r=>{$ie(r,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:r,newProps:i}=t,s=e.modals.map(a=>a.id!==r?a:a.type==="content"||a.type==="confirm"?{...a,props:{...a.props,...i}}:a.type==="context"?{...a,props:{...a.props,...i,innerProps:{...a.props.innerProps,...i.innerProps}}}:a),o=((n=e.current)==null?void 0:n.id)===r&&s.find(a=>a.id===r)||e.current;return{...e,modals:s,current:o}}default:return e}}function DVe(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}function PVe({children:e,modalProps:t,labels:n,modals:r}){const[i,s]=R.useReducer(RVe,{modals:[],current:null}),o=R.useRef(i);o.current=i;const a=R.useCallback(v=>{s({type:"CLOSE_ALL",canceled:v})},[o,s]),l=R.useCallback(({modalId:v,...w})=>{const E=v||$w();return s({type:"OPEN",modal:{id:E,type:"content",props:w}}),E},[s]),u=R.useCallback(({modalId:v,...w})=>{const E=v||$w();return s({type:"OPEN",modal:{id:E,type:"confirm",props:w}}),E},[s]),c=R.useCallback((v,{modalId:w,...E})=>{const C=w||$w();return s({type:"OPEN",modal:{id:C,type:"context",props:E,ctx:v}}),C},[s]),d=R.useCallback((v,w)=>{s({type:"CLOSE",modalId:v,canceled:w})},[o,s]),f=R.useCallback(({modalId:v,...w})=>{s({type:"UPDATE",modalId:v,newProps:w})},[s]),h=R.useCallback(({modalId:v,...w})=>{s({type:"UPDATE",modalId:v,newProps:w})},[s]);IVe({openModal:l,openConfirmModal:u,openContextModal:({modal:v,...w})=>c(v,w),closeModal:d,closeContextModal:d,closeAllModals:a,updateModal:f,updateContextModal:h});const p={modalProps:t||{},modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:d,closeContextModal:d,closeAll:a,updateModal:f,updateContextModal:h},m=()=>{const v=o.current.current;switch(v==null?void 0:v.type){case"context":{const{innerProps:w,...E}=v.props,C=r[v.ctx];return{modalProps:E,content:_.jsx(C,{innerProps:w,context:p,id:v.id})}}case"confirm":{const{modalProps:w,confirmProps:E}=DVe(v.props);return{modalProps:w,content:_.jsx(kVe,{...E,id:v.id,labels:v.props.labels||n})}}case"content":{const{children:w,...E}=v.props;return{modalProps:E,content:w}}default:return{modalProps:{},content:null}}},{modalProps:g,content:y}=m();return _.jsxs(YW.Provider,{value:p,children:[_.jsx(pi,{zIndex:lo("modal")+1,...t,...g,opened:i.modals.length>0,onClose:()=>{var v;return d((v=i.current)==null?void 0:v.id)},children:y}),e]})}/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var OVe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(e,t,n,r)=>{const i=R.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,title:l,className:u,children:c,...d},f)=>R.createElement("svg",{ref:f,...OVe[e],width:o,height:o,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...d},[l&&R.createElement("title",{key:"svg-title"},l),...r.map(([h,p])=>R.createElement(h,p)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var NVe=Pt("outline","adjustments-horizontal","IconAdjustmentsHorizontal",[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $Ve=Pt("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jw=Pt("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var MVe=Pt("outline","arrow-autofit-content","IconArrowAutofitContent",[["path",{d:"M6 4l-3 3l3 3",key:"svg-0"}],["path",{d:"M18 4l3 3l-3 3",key:"svg-1"}],["path",{d:"M4 14m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-2"}],["path",{d:"M10 7h-7",key:"svg-3"}],["path",{d:"M21 7h-7",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var p7=Pt("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mie=Pt("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FVe=Pt("outline","arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LVe=Pt("outline","arrows-sort","IconArrowsSort",[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jVe=Pt("outline","at","IconAt",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BVe=Pt("outline","baseline-density-large","IconBaselineDensityLarge",[["path",{d:"M4 4h16",key:"svg-0"}],["path",{d:"M4 20h16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zVe=Pt("outline","baseline-density-medium","IconBaselineDensityMedium",[["path",{d:"M4 20h16",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M4 4h16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UVe=Pt("outline","baseline-density-small","IconBaselineDensitySmall",[["path",{d:"M4 3h16",key:"svg-0"}],["path",{d:"M4 9h16",key:"svg-1"}],["path",{d:"M4 15h16",key:"svg-2"}],["path",{d:"M4 21h16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HVe=Pt("outline","box-multiple","IconBoxMultiple",[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qVe=Pt("outline","brain","IconBrain",[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VVe=Pt("outline","brand-python","IconBrandPython",[["path",{d:"M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3",key:"svg-0"}],["path",{d:"M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3",key:"svg-1"}],["path",{d:"M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4",key:"svg-2"}],["path",{d:"M11 6l0 .01",key:"svg-3"}],["path",{d:"M13 18l0 .01",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WVe=Pt("outline","bubble-text","IconBubbleText",[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GVe=Pt("outline","chart-donut-2","IconChartDonut2",[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vbe=Pt("outline","chart-histogram","IconChartHistogram",[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var T2=Pt("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wbe=Pt("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YVe=Pt("outline","chevron-left-pipe","IconChevronLeftPipe",[["path",{d:"M7 6v12",key:"svg-0"}],["path",{d:"M18 6l-6 6l6 6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KVe=Pt("outline","chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XVe=Pt("outline","chevron-right-pipe","IconChevronRightPipe",[["path",{d:"M6 6l6 6l-6 6",key:"svg-0"}],["path",{d:"M17 5v13",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QVe=Pt("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JVe=Pt("outline","chevrons-down","IconChevronsDown",[["path",{d:"M7 7l5 5l5 -5",key:"svg-0"}],["path",{d:"M7 13l5 5l5 -5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZVe=Pt("outline","circle-x","IconCircleX",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eWe=Pt("outline","clear-all","IconClearAll",[["path",{d:"M8 6h12",key:"svg-0"}],["path",{d:"M6 12h12",key:"svg-1"}],["path",{d:"M4 18h12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tWe=Pt("outline","code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nWe=Pt("outline","columns","IconColumns",[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rWe=Pt("outline","database-export","IconDatabaseExport",[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gbe=Pt("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iWe=Pt("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sWe=Pt("outline","dice-3","IconDice3",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["circle",{cx:"8.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-1"}],["circle",{cx:"15.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-2"}],["circle",{cx:"12",cy:"12",r:".5",fill:"currentColor",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ybe=Pt("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kbe=Pt("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oWe=Pt("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aWe=Pt("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lWe=Pt("outline","eye-off","IconEyeOff",[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uWe=Pt("outline","filter-cog","IconFilterCog",[["path",{d:"M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v1.5",key:"svg-0"}],["path",{d:"M19.001 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19.001 15.5v1.5",key:"svg-2"}],["path",{d:"M19.001 21v1.5",key:"svg-3"}],["path",{d:"M22.032 17.25l-1.299 .75",key:"svg-4"}],["path",{d:"M17.27 20l-1.3 .75",key:"svg-5"}],["path",{d:"M15.97 17.25l1.3 .75",key:"svg-6"}],["path",{d:"M20.733 20l1.3 .75",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cWe=Pt("outline","filter-off","IconFilterOff",[["path",{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dWe=Pt("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xbe=Pt("outline","flame","IconFlame",[["path",{d:"M12 10.941c2.333 -3.308 .167 -7.823 -1 -8.941c0 3.395 -2.235 5.299 -3.667 6.706c-1.43 1.408 -2.333 3.621 -2.333 5.588c0 3.704 3.134 6.706 7 6.706s7 -3.002 7 -6.706c0 -1.712 -1.232 -4.403 -2.333 -5.588c-2.084 3.353 -3.257 3.353 -4.667 2.235",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qbe=Pt("outline","graph-off","IconGraphOff",[["path",{d:"M8 4h10a2 2 0 0 1 2 2v10m-.586 3.414a2 2 0 0 1 -1.414 .586h-12a2 2 0 0 1 -2 -2v-12c0 -.547 .22 -1.043 .576 -1.405",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l.5 -.5m2 -2l.5 -.5l2 2",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jbe=Pt("outline","graph","IconGraph",[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fWe=Pt("outline","grip-horizontal","IconGripHorizontal",[["path",{d:"M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hWe=Pt("outline","hourglass-empty","IconHourglassEmpty",[["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pWe=Pt("outline","html","IconHtml",[["path",{d:"M13 16v-8l2 5l2 -5v8",key:"svg-0"}],["path",{d:"M1 16v-8",key:"svg-1"}],["path",{d:"M5 8v8",key:"svg-2"}],["path",{d:"M1 12h4",key:"svg-3"}],["path",{d:"M7 8h4",key:"svg-4"}],["path",{d:"M9 8v8",key:"svg-5"}],["path",{d:"M20 8v8h3",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XW=Pt("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mWe=Pt("outline","layout-columns","IconLayoutColumns",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zbe=Pt("outline","list-check","IconListCheck",[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gWe=Pt("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yWe=Pt("outline","maximize","IconMaximize",[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vWe=Pt("outline","minimize","IconMinimize",[["path",{d:"M15 19v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M15 5v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M5 15h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M5 9h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bWe=Pt("outline","number-123","IconNumber123",[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wWe=Pt("outline","package-import","IconPackageImport",[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M22 18h-7",key:"svg-4"}],["path",{d:"M18 15l-3 3l3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xWe=Pt("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _We=Pt("outline","pinned-off","IconPinnedOff",[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251",key:"svg-1"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-2"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var EWe=Pt("outline","pinned","IconPinned",[["path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6",key:"svg-0"}],["path",{d:"M12 16l0 5",key:"svg-1"}],["path",{d:"M8 4l8 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var e1e=Pt("outline","progress","IconProgress",[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var CWe=Pt("outline","radio","IconRadio",[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var SWe=Pt("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var TWe=Pt("outline","schema-off","IconSchemaOff",[["path",{d:"M6 2h4v4m-4 0h-1v-1",key:"svg-0"}],["path",{d:"M15 11v-1h5v4h-2",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h2",key:"svg-4"}],["path",{d:"M7.5 7.5v2.5",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}],["path",{d:"M3 3l18 18",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var t1e=Pt("outline","schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var AWe=Pt("outline","search-off","IconSearchOff",[["path",{d:"M5.039 5.062a7 7 0 0 0 9.91 9.89m1.584 -2.434a7 7 0 0 0 -9.038 -9.057",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kWe=Pt("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IWe=Pt("outline","select","IconSelect",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 11l3 3l3 -3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var n1e=Pt("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var RWe=Pt("outline","sort-ascending","IconSortAscending",[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DWe=Pt("outline","sort-descending","IconSortDescending",[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PWe=Pt("outline","squares","IconSquares",[["path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var r1e=Pt("outline","table-export","IconTableExport",[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var OWe=Pt("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var i1e=Pt("outline","trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QW=Pt("outline","user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fie=Pt("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Av=Pt("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var NWe=Pt("filled","brand-google-filled","IconBrandGoogleFilled",[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $We=Pt("filled","player-pause-filled","IconPlayerPauseFilled",[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var MWe=Pt("filled","player-play-filled","IconPlayerPlayFilled",[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]]);function s1e(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const hs="/revisit/";function Lie(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function o1e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const FWe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,LWe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jWe={};function jie(e,t){return(jWe.jsx?LWe:FWe).test(e)}const BWe=/[ \t\n\f\r]/g;function zWe(e){return typeof e=="object"?e.type==="text"?Bie(e.value):!1:Bie(e)}function Bie(e){return e.replace(BWe,"")===""}let XT=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};XT.prototype.property={};XT.prototype.normal={};XT.prototype.space=null;function a1e(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new XT(n,r,t)}function A2(e){return e.toLowerCase()}let hc=class{constructor(t,n){this.property=t,this.attribute=n}};hc.prototype.space=null;hc.prototype.boolean=!1;hc.prototype.booleanish=!1;hc.prototype.overloadedBoolean=!1;hc.prototype.number=!1;hc.prototype.commaSeparated=!1;hc.prototype.spaceSeparated=!1;hc.prototype.commaOrSpaceSeparated=!1;hc.prototype.mustUseProperty=!1;hc.prototype.defined=!1;let UWe=0;const Pn=_b(),ds=_b(),l1e=_b(),xt=_b(),oi=_b(),Bw=_b(),ql=_b();function _b(){return 2**++UWe}const m7=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pn,booleanish:ds,commaOrSpaceSeparated:ql,commaSeparated:Bw,number:xt,overloadedBoolean:l1e,spaceSeparated:oi},Symbol.toStringTag,{value:"Module"})),KL=Object.keys(m7);class JW extends hc{constructor(t,n,r,i){let s=-1;if(super(t,n),zie(this,"space",i),typeof r=="number")for(;++s<KL.length;){const o=KL[s];zie(this,KL[s],(r&m7[o])===m7[o])}}}JW.prototype.defined=!0;function zie(e,t,n){n&&(e[t]=n)}const HWe={}.hasOwnProperty;function A_(e){const t={},n={};let r;for(r in e.properties)if(HWe.call(e.properties,r)){const i=e.properties[r],s=new JW(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[A2(r)]=r,n[A2(s.attribute)]=r}return new XT(t,n,e.space)}const u1e=A_({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),c1e=A_({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function d1e(e,t){return t in e?e[t]:t}function f1e(e,t){return d1e(e,t.toLowerCase())}const h1e=A_({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:f1e,properties:{xmlns:null,xmlnsXLink:null}}),p1e=A_({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ds,ariaAutoComplete:null,ariaBusy:ds,ariaChecked:ds,ariaColCount:xt,ariaColIndex:xt,ariaColSpan:xt,ariaControls:oi,ariaCurrent:null,ariaDescribedBy:oi,ariaDetails:null,ariaDisabled:ds,ariaDropEffect:oi,ariaErrorMessage:null,ariaExpanded:ds,ariaFlowTo:oi,ariaGrabbed:ds,ariaHasPopup:null,ariaHidden:ds,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:oi,ariaLevel:xt,ariaLive:null,ariaModal:ds,ariaMultiLine:ds,ariaMultiSelectable:ds,ariaOrientation:null,ariaOwns:oi,ariaPlaceholder:null,ariaPosInSet:xt,ariaPressed:ds,ariaReadOnly:ds,ariaRelevant:null,ariaRequired:ds,ariaRoleDescription:oi,ariaRowCount:xt,ariaRowIndex:xt,ariaRowSpan:xt,ariaSelected:ds,ariaSetSize:xt,ariaSort:null,ariaValueMax:xt,ariaValueMin:xt,ariaValueNow:xt,ariaValueText:null,role:null}}),qWe=A_({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:f1e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Bw,acceptCharset:oi,accessKey:oi,action:null,allow:null,allowFullScreen:Pn,allowPaymentRequest:Pn,allowUserMedia:Pn,alt:null,as:null,async:Pn,autoCapitalize:null,autoComplete:oi,autoFocus:Pn,autoPlay:Pn,blocking:oi,capture:null,charSet:null,checked:Pn,cite:null,className:oi,cols:xt,colSpan:null,content:null,contentEditable:ds,controls:Pn,controlsList:oi,coords:xt|Bw,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pn,defer:Pn,dir:null,dirName:null,disabled:Pn,download:l1e,draggable:ds,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pn,formTarget:null,headers:oi,height:xt,hidden:Pn,high:xt,href:null,hrefLang:null,htmlFor:oi,httpEquiv:oi,id:null,imageSizes:null,imageSrcSet:null,inert:Pn,inputMode:null,integrity:null,is:null,isMap:Pn,itemId:null,itemProp:oi,itemRef:oi,itemScope:Pn,itemType:oi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pn,low:xt,manifest:null,max:null,maxLength:xt,media:null,method:null,min:null,minLength:xt,multiple:Pn,muted:Pn,name:null,nonce:null,noModule:Pn,noValidate:Pn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pn,optimum:xt,pattern:null,ping:oi,placeholder:null,playsInline:Pn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pn,referrerPolicy:null,rel:oi,required:Pn,reversed:Pn,rows:xt,rowSpan:xt,sandbox:oi,scope:null,scoped:Pn,seamless:Pn,selected:Pn,shadowRootClonable:Pn,shadowRootDelegatesFocus:Pn,shadowRootMode:null,shape:null,size:xt,sizes:null,slot:null,span:xt,spellCheck:ds,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xt,step:null,style:null,tabIndex:xt,target:null,title:null,translate:null,type:null,typeMustMatch:Pn,useMap:null,value:ds,width:xt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:oi,axis:null,background:null,bgColor:null,border:xt,borderColor:null,bottomMargin:xt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pn,declare:Pn,event:null,face:null,frame:null,frameBorder:null,hSpace:xt,leftMargin:xt,link:null,longDesc:null,lowSrc:null,marginHeight:xt,marginWidth:xt,noResize:Pn,noHref:Pn,noShade:Pn,noWrap:Pn,object:null,profile:null,prompt:null,rev:null,rightMargin:xt,rules:null,scheme:null,scrolling:ds,standby:null,summary:null,text:null,topMargin:xt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pn,disableRemotePlayback:Pn,prefix:null,property:null,results:xt,security:null,unselectable:null}}),VWe=A_({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:d1e,properties:{about:ql,accentHeight:xt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xt,amplitude:xt,arabicForm:null,ascent:xt,attributeName:null,attributeType:null,azimuth:xt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xt,by:null,calcMode:null,capHeight:xt,className:oi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xt,diffuseConstant:xt,direction:null,display:null,dur:null,divisor:xt,dominantBaseline:null,download:Pn,dx:null,dy:null,edgeMode:null,editable:null,elevation:xt,enableBackground:null,end:null,event:null,exponent:xt,externalResourcesRequired:null,fill:null,fillOpacity:xt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Bw,g2:Bw,glyphName:Bw,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xt,horizOriginX:xt,horizOriginY:xt,id:null,ideographic:xt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xt,k:xt,k1:xt,k2:xt,k3:xt,k4:xt,kernelMatrix:ql,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xt,overlineThickness:xt,paintOrder:null,panose1:null,path:null,pathLength:xt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:oi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xt,pointsAtY:xt,pointsAtZ:xt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ql,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ql,rev:ql,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ql,requiredFeatures:ql,requiredFonts:ql,requiredFormats:ql,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xt,specularExponent:xt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xt,strikethroughThickness:xt,string:null,stroke:null,strokeDashArray:ql,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xt,strokeOpacity:xt,strokeWidth:null,style:null,surfaceScale:xt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ql,tabIndex:xt,tableValues:null,target:null,targetX:xt,targetY:xt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ql,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xt,underlineThickness:xt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xt,values:null,vAlphabetic:xt,vMathematical:xt,vectorEffect:null,vHanging:xt,vIdeographic:xt,version:null,vertAdvY:xt,vertOriginX:xt,vertOriginY:xt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),WWe=/^data[-\w.:]+$/i,Uie=/-[a-z]/g,GWe=/[A-Z]/g;function c4(e,t){const n=A2(t);let r=t,i=hc;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&WWe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Uie,KWe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Uie.test(s)){let o=s.replace(GWe,YWe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=JW}return new i(r,t)}function YWe(e){return"-"+e.toLowerCase()}function KWe(e){return e.charAt(1).toUpperCase()}const XWe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},QT=a1e([c1e,u1e,h1e,p1e,qWe],"html"),bg=a1e([c1e,u1e,h1e,p1e,VWe],"svg");function Hie(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function m1e(e){return e.join(" ").trim()}var O1={},XL,qie;function QWe(){if(qie)return XL;qie=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",f="comment",h="declaration";XL=function(m,g){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];g=g||{};var y=1,v=1;function w($){var L=$.match(t);L&&(y+=L.length);var z=$.lastIndexOf(l);v=~z?$.length-z:v+$.length}function E(){var $={line:y,column:v};return function(L){return L.position=new C($),A(),L}}function C($){this.start=$,this.end={line:y,column:v},this.source=g.source}C.prototype.content=m;function S($){var L=new Error(g.source+":"+y+":"+v+": "+$);if(L.reason=$,L.filename=g.source,L.line=y,L.column=v,L.source=m,!g.silent)throw L}function T($){var L=$.exec(m);if(L){var z=L[0];return w(z),m=m.slice(z.length),L}}function A(){T(n)}function I($){var L;for($=$||[];L=D();)L!==!1&&$.push(L);return $}function D(){var $=E();if(!(u!=m.charAt(0)||c!=m.charAt(1))){for(var L=2;d!=m.charAt(L)&&(c!=m.charAt(L)||u!=m.charAt(L+1));)++L;if(L+=2,d===m.charAt(L-1))return S("End of comment missing");var z=m.slice(2,L-2);return v+=2,w(z),m=m.slice(L),v+=2,$({type:f,comment:z})}}function O(){var $=E(),L=T(r);if(L){if(D(),!T(i))return S("property missing ':'");var z=T(s),B=$({type:h,property:p(L[0].replace(e,d)),value:z?p(z[0].replace(e,d)):d});return T(o),B}}function M(){var $=[];I($);for(var L;L=O();)L!==!1&&($.push(L),I($));return $}return A(),M()};function p(m){return m?m.replace(a,d):d}return XL}var Vie;function JWe(){if(Vie)return O1;Vie=1;var e=O1&&O1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(O1,"__esModule",{value:!0});var t=e(QWe());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(s=s||{},s[u]=c)}}),s}return O1.default=n,O1}var ZWe=JWe();const Wie=ao(ZWe),eGe=Wie.default||Wie,d4=g1e("end"),dh=g1e("start");function g1e(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function tGe(e){const t=dh(e),n=d4(e);if(t&&n)return{start:t,end:n}}function PS(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Gie(e.position):"start"in e||"end"in e?Gie(e):"line"in e||"column"in e?g7(e):""}function g7(e){return Yie(e&&e.line)+":"+Yie(e&&e.column)}function Gie(e){return g7(e&&e.start)+"-"+g7(e&&e.end)}function Yie(e){return e&&typeof e=="number"?e:1}class ya extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=PS(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}ya.prototype.file="";ya.prototype.name="";ya.prototype.reason="";ya.prototype.message="";ya.prototype.stack="";ya.prototype.column=void 0;ya.prototype.line=void 0;ya.prototype.ancestors=void 0;ya.prototype.cause=void 0;ya.prototype.fatal=void 0;ya.prototype.place=void 0;ya.prototype.ruleId=void 0;ya.prototype.source=void 0;const ZW={}.hasOwnProperty,nGe=new Map,rGe=/[A-Z]/g,iGe=/-([a-z])/g,sGe=new Set(["table","tbody","thead","tfoot","tr"]),oGe=new Set(["td","th"]),y1e="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function aGe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=mGe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=pGe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?bg:QT,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=v1e(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function v1e(e,t,n){if(t.type==="element")return lGe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return uGe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return dGe(e,t,n);if(t.type==="mdxjsEsm")return cGe(e,t);if(t.type==="root")return fGe(e,t,n);if(t.type==="text")return hGe(e,t)}function lGe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=bg,e.schema=i),e.ancestors.push(t);const s=w1e(e,t.tagName,!1),o=gGe(e,t);let a=tG(e,t);return sGe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!zWe(l):!0})),b1e(e,o,s,t),eG(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function uGe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}k2(e,t.position)}function cGe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);k2(e,t.position)}function dGe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=bg,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:w1e(e,t.name,!0),o=yGe(e,t),a=tG(e,t);return b1e(e,o,s,t),eG(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function fGe(e,t,n){const r={};return eG(r,tG(e,t)),e.create(t,e.Fragment,r,n)}function hGe(e,t){return t.value}function b1e(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function eG(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function pGe(e,t,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:t;return a?u(s,o,a):u(s,o)}}function mGe(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=dh(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function gGe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&ZW.call(t.properties,i)){const s=vGe(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&oGe.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function yGe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else k2(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else k2(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function tG(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:nGe;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=v1e(e,s,o);a!==void 0&&n.push(a)}return n}function vGe(e,t,n){const r=c4(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?o1e(n):m1e(n)),r.property==="style"){let i=typeof n=="object"?n:bGe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=wGe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?XWe[r.property]||r.property:r.attribute,n]}}function bGe(e,t){const n={};try{eGe(t,r)}catch(i){if(!e.ignoreInvalidStyle){const s=i,o=new ya("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=y1e+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(iGe,_Ge)),n[o]=s}}function w1e(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=jie(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=jie(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return ZW.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);k2(e)}function k2(e,t){const n=new ya("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=y1e+"#cannot-handle-mdx-estrees-without-createevaluater",n}function wGe(e){const t={};let n;for(n in e)ZW.call(e,n)&&(t[xGe(n)]=e[n]);return t}function xGe(e){let t=e.replace(rGe,EGe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _Ge(e,t){return t.toUpperCase()}function EGe(e){return"-"+e.toLowerCase()}const QL={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},CGe={};function nG(e,t){const n=CGe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return x1e(e,r,i)}function x1e(e,t,n){if(SGe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Kie(e.children,t,n)}return Array.isArray(e)?Kie(e,t,n):""}function Kie(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=x1e(e[i],t,n);return r.join("")}function SGe(e){return!!(e&&typeof e=="object")}const Xie=document.createElement("i");function rG(e){const t="&"+e+";";Xie.innerHTML=t;const n=Xie.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function iu(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Mu(e,t){return e.length>0?(iu(e,e.length,0,t),e):t}const Qie={}.hasOwnProperty;function _1e(e){const t={};let n=-1;for(;++n<e.length;)TGe(t,e[n]);return t}function TGe(e,t){let n;for(n in t){const i=(Qie.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Qie.call(i,o)||(i[o]=[]);const a=s[o];AGe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function AGe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);iu(e,0,0,r)}function cd(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Na=wg(/[A-Za-z]/),sa=wg(/[\dA-Za-z]/),kGe=wg(/[#-'*+\--9=?A-Z^-~]/);function q3(e){return e!==null&&(e<32||e===127)}const y7=wg(/\d/),IGe=wg(/[\dA-Fa-f]/),RGe=wg(/[!-/:-@[-`{-~]/);function cn(e){return e!==null&&e<-2}function ni(e){return e!==null&&(e<0||e===32)}function Wn(e){return e===-2||e===-1||e===32}const f4=wg(new RegExp("\\p{P}|\\p{S}","u")),kv=wg(/\s/);function wg(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function k_(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&sa(e.charCodeAt(n+1))&&sa(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function cr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Wn(l)?(e.enter(n),a(l)):t(l)}function a(l){return Wn(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const DGe={tokenize:PGe};function PGe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),cr(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return cn(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const OGe={tokenize:NGe},Jie={tokenize:$Ge};function NGe(e){const t=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const E=t.events.length;let C=E,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}y(r);let T=E;for(;T<t.events.length;)t.events[T][1].end=Object.assign({},S),T++;return iu(t.events,C+1,0,t.events.slice(E)),t.events.length=T,u(w)}return a(w)}function u(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Jie,c,d)(w)}function c(w){return i&&v(),y(r),f(w)}function d(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(w)}function f(w){return t.containerState={},e.attempt(Jie,h,p)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function p(w){if(w===null){i&&v(),y(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(w)}function m(w){if(w===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return cn(w)?(e.consume(w),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),m)}function g(w,E){const C=t.sliceStream(w);if(E&&C.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const T=t.events.length;let A=T,I,D;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(I){D=t.events[A][1].end;break}I=!0}for(y(r),S=T;S<t.events.length;)t.events[S][1].end=Object.assign({},D),S++;iu(t.events,A+1,0,t.events.slice(T)),t.events.length=S}}function y(w){let E=n.length;for(;E-- >w;){const C=n[E];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function $Ge(e,t,n){return cr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function V3(e){if(e===null||ni(e)||kv(e))return 1;if(f4(e))return 2}function h4(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const v7={name:"attention",tokenize:FGe,resolveAll:MGe};function MGe(e,t){let n=-1,r,i,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=Object.assign({},e[r][1].end),f=Object.assign({},e[n][1].start);Zie(d,-l),Zie(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Mu(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Mu(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=Mu(u,h4(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Mu(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Mu(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,iu(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function FGe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=V3(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=V3(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),t(l)}}function Zie(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const LGe={name:"autolink",tokenize:jGe};function jGe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Na(h)?(e.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||sa(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||sa(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||q3(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):kGe(h)?(e.consume(h),u):n(h)}function c(h){return sa(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||sa(h))&&r++<63){const p=h===45?f:d;return e.consume(h),p}return n(h)}}const JT={tokenize:BGe,partial:!0};function BGe(e,t,n){return r;function r(s){return Wn(s)?cr(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||cn(s)?t(s):n(s)}}const E1e={name:"blockQuote",tokenize:zGe,continuation:{tokenize:UGe},exit:HGe};function zGe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Wn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function UGe(e,t,n){const r=this;return i;function i(o){return Wn(o)?cr(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(E1e,t,n)(o)}}function HGe(e){e.exit("blockQuote")}const C1e={name:"characterEscape",tokenize:qGe};function qGe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return RGe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const S1e={name:"characterReference",tokenize:VGe};function VGe(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=sa,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=IGe,c):(e.enter("characterReferenceValue"),s=7,o=y7,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===sa&&!rG(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),c):n(d)}}const ese={tokenize:GGe,partial:!0},tse={name:"codeFenced",tokenize:WGe,concrete:!0};function WGe(e,t,n){const r=this,i={tokenize:C,partial:!0};let s=0,o=0,a;return l;function l(S){return u(S)}function u(S){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===a?(o++,e.consume(S),c):o<3?n(S):(e.exit("codeFencedFenceSequence"),Wn(S)?cr(e,d,"whitespace")(S):d(S))}function d(S){return S===null||cn(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(ese,m,E)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||cn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):Wn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),cr(e,h,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),f)}function h(S){return S===null||cn(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||cn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===a?n(S):(e.consume(S),p)}function m(S){return e.attempt(i,E,g)(S)}function g(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y}function y(S){return s>0&&Wn(S)?cr(e,v,"linePrefix",s+1)(S):v(S)}function v(S){return S===null||cn(S)?e.check(ese,m,E)(S):(e.enter("codeFlowValue"),w(S))}function w(S){return S===null||cn(S)?(e.exit("codeFlowValue"),v(S)):(e.consume(S),w)}function E(S){return e.exit("codeFenced"),t(S)}function C(S,T,A){let I=0;return D;function D(z){return S.enter("lineEnding"),S.consume(z),S.exit("lineEnding"),O}function O(z){return S.enter("codeFencedFence"),Wn(z)?cr(S,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):M(z)}function M(z){return z===a?(S.enter("codeFencedFenceSequence"),$(z)):A(z)}function $(z){return z===a?(I++,S.consume(z),$):I>=o?(S.exit("codeFencedFenceSequence"),Wn(z)?cr(S,L,"whitespace")(z):L(z)):A(z)}function L(z){return z===null||cn(z)?(S.exit("codeFencedFence"),T(z)):A(z)}}}function GGe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const JL={name:"codeIndented",tokenize:KGe},YGe={tokenize:XGe,partial:!0};function KGe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),cr(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):cn(u)?e.attempt(YGe,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||cn(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function XGe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):cn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):cr(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):cn(o)?i(o):n(o)}}const QGe={name:"codeText",tokenize:eYe,resolve:JGe,previous:ZGe};function JGe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function ZGe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function eYe(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):cn(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||cn(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}let tYe=class{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&XE(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),XE(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),XE(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);XE(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);XE(this.left,n.reverse())}}};function XE(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function nYe(e){const t={};let n=-1,r,i,s,o,a,l,u;const c=new tYe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,rYe(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},c.get(i)[1].start),a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return iu(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function rYe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const y=a.slice(g[f],g[f+1]),v=s.pop();l.push([v,v+y.length-1]),e.splice(v,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const iYe={tokenize:aYe,resolve:oYe},sYe={tokenize:lYe,partial:!0};function oYe(e){return nYe(e),e}function aYe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):cn(a)?e.check(sYe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function lYe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),cr(e,s,"linePrefix")}function s(o){if(o===null||cn(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function T1e(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),f):y===null||y===32||y===41||q3(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(y))}function f(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||cn(y)?n(y):(e.consume(y),y===92?p:h)}function p(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function m(y){return!c&&(y===null||y===41||ni(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,m):y===41?(e.consume(y),c--,m):y===null||y===32||y===40||q3(y)?n(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function A1e(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):cn(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||cn(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!Wn(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function k1e(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),u(f))}function u(f){return f===o?(e.exit(s),l(o)):f===null?n(f):cn(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),cr(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||cn(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function OS(e,t){let n;return r;function r(i){return cn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Wn(i)?cr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const uYe={name:"definition",tokenize:dYe},cYe={tokenize:fYe,partial:!0};function dYe(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return A1e.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=cd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return ni(h)?OS(e,u)(h):u(h)}function u(h){return T1e(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(cYe,d,d)(h)}function d(h){return Wn(h)?cr(e,f,"whitespace")(h):f(h)}function f(h){return h===null||cn(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function fYe(e,t,n){return r;function r(a){return ni(a)?OS(e,i)(a):n(a)}function i(a){return k1e(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Wn(a)?cr(e,o,"whitespace")(a):o(a)}function o(a){return a===null||cn(a)?t(a):n(a)}}const hYe={name:"hardBreakEscape",tokenize:pYe};function pYe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return cn(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const mYe={name:"headingAtx",tokenize:yYe,resolve:gYe};function gYe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},iu(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function yYe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||ni(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||cn(c)?(e.exit("atxHeading"),t(c)):Wn(c)?cr(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||ni(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const vYe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nse=["pre","script","style","textarea"],bYe={name:"htmlFlow",tokenize:EYe,resolveTo:_Ye,concrete:!0},wYe={tokenize:SYe,partial:!0},xYe={tokenize:CYe,partial:!0};function _Ye(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function EYe(e,t,n){const r=this;let i,s,o,a,l;return u;function u(q){return c(q)}function c(q){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(q),d}function d(q){return q===33?(e.consume(q),f):q===47?(e.consume(q),s=!0,m):q===63?(e.consume(q),i=3,r.interrupt?t:U):Na(q)?(e.consume(q),o=String.fromCharCode(q),g):n(q)}function f(q){return q===45?(e.consume(q),i=2,h):q===91?(e.consume(q),i=5,a=0,p):Na(q)?(e.consume(q),i=4,r.interrupt?t:U):n(q)}function h(q){return q===45?(e.consume(q),r.interrupt?t:U):n(q)}function p(q){const Y="CDATA[";return q===Y.charCodeAt(a++)?(e.consume(q),a===Y.length?r.interrupt?t:M:p):n(q)}function m(q){return Na(q)?(e.consume(q),o=String.fromCharCode(q),g):n(q)}function g(q){if(q===null||q===47||q===62||ni(q)){const Y=q===47,J=o.toLowerCase();return!Y&&!s&&nse.includes(J)?(i=1,r.interrupt?t(q):M(q)):vYe.includes(o.toLowerCase())?(i=6,Y?(e.consume(q),y):r.interrupt?t(q):M(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):s?v(q):w(q))}return q===45||sa(q)?(e.consume(q),o+=String.fromCharCode(q),g):n(q)}function y(q){return q===62?(e.consume(q),r.interrupt?t:M):n(q)}function v(q){return Wn(q)?(e.consume(q),v):D(q)}function w(q){return q===47?(e.consume(q),D):q===58||q===95||Na(q)?(e.consume(q),E):Wn(q)?(e.consume(q),w):D(q)}function E(q){return q===45||q===46||q===58||q===95||sa(q)?(e.consume(q),E):C(q)}function C(q){return q===61?(e.consume(q),S):Wn(q)?(e.consume(q),C):w(q)}function S(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(e.consume(q),l=q,T):Wn(q)?(e.consume(q),S):A(q)}function T(q){return q===l?(e.consume(q),l=null,I):q===null||cn(q)?n(q):(e.consume(q),T)}function A(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||ni(q)?C(q):(e.consume(q),A)}function I(q){return q===47||q===62||Wn(q)?w(q):n(q)}function D(q){return q===62?(e.consume(q),O):n(q)}function O(q){return q===null||cn(q)?M(q):Wn(q)?(e.consume(q),O):n(q)}function M(q){return q===45&&i===2?(e.consume(q),B):q===60&&i===1?(e.consume(q),W):q===62&&i===4?(e.consume(q),F):q===63&&i===3?(e.consume(q),U):q===93&&i===5?(e.consume(q),X):cn(q)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(wYe,G,$)(q)):q===null||cn(q)?(e.exit("htmlFlowData"),$(q)):(e.consume(q),M)}function $(q){return e.check(xYe,L,G)(q)}function L(q){return e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),z}function z(q){return q===null||cn(q)?$(q):(e.enter("htmlFlowData"),M(q))}function B(q){return q===45?(e.consume(q),U):M(q)}function W(q){return q===47?(e.consume(q),o="",V):M(q)}function V(q){if(q===62){const Y=o.toLowerCase();return nse.includes(Y)?(e.consume(q),F):M(q)}return Na(q)&&o.length<8?(e.consume(q),o+=String.fromCharCode(q),V):M(q)}function X(q){return q===93?(e.consume(q),U):M(q)}function U(q){return q===62?(e.consume(q),F):q===45&&i===2?(e.consume(q),U):M(q)}function F(q){return q===null||cn(q)?(e.exit("htmlFlowData"),G(q)):(e.consume(q),F)}function G(q){return e.exit("htmlFlow"),t(q)}}function CYe(e,t,n){const r=this;return i;function i(o){return cn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function SYe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(JT,t,n)}}const TYe={name:"htmlText",tokenize:AYe};function AYe(e,t,n){const r=this;let i,s,o;return a;function a(U){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(U),l}function l(U){return U===33?(e.consume(U),u):U===47?(e.consume(U),C):U===63?(e.consume(U),w):Na(U)?(e.consume(U),A):n(U)}function u(U){return U===45?(e.consume(U),c):U===91?(e.consume(U),s=0,p):Na(U)?(e.consume(U),v):n(U)}function c(U){return U===45?(e.consume(U),h):n(U)}function d(U){return U===null?n(U):U===45?(e.consume(U),f):cn(U)?(o=d,W(U)):(e.consume(U),d)}function f(U){return U===45?(e.consume(U),h):d(U)}function h(U){return U===62?B(U):U===45?f(U):d(U)}function p(U){const F="CDATA[";return U===F.charCodeAt(s++)?(e.consume(U),s===F.length?m:p):n(U)}function m(U){return U===null?n(U):U===93?(e.consume(U),g):cn(U)?(o=m,W(U)):(e.consume(U),m)}function g(U){return U===93?(e.consume(U),y):m(U)}function y(U){return U===62?B(U):U===93?(e.consume(U),y):m(U)}function v(U){return U===null||U===62?B(U):cn(U)?(o=v,W(U)):(e.consume(U),v)}function w(U){return U===null?n(U):U===63?(e.consume(U),E):cn(U)?(o=w,W(U)):(e.consume(U),w)}function E(U){return U===62?B(U):w(U)}function C(U){return Na(U)?(e.consume(U),S):n(U)}function S(U){return U===45||sa(U)?(e.consume(U),S):T(U)}function T(U){return cn(U)?(o=T,W(U)):Wn(U)?(e.consume(U),T):B(U)}function A(U){return U===45||sa(U)?(e.consume(U),A):U===47||U===62||ni(U)?I(U):n(U)}function I(U){return U===47?(e.consume(U),B):U===58||U===95||Na(U)?(e.consume(U),D):cn(U)?(o=I,W(U)):Wn(U)?(e.consume(U),I):B(U)}function D(U){return U===45||U===46||U===58||U===95||sa(U)?(e.consume(U),D):O(U)}function O(U){return U===61?(e.consume(U),M):cn(U)?(o=O,W(U)):Wn(U)?(e.consume(U),O):I(U)}function M(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),i=U,$):cn(U)?(o=M,W(U)):Wn(U)?(e.consume(U),M):(e.consume(U),L)}function $(U){return U===i?(e.consume(U),i=void 0,z):U===null?n(U):cn(U)?(o=$,W(U)):(e.consume(U),$)}function L(U){return U===null||U===34||U===39||U===60||U===61||U===96?n(U):U===47||U===62||ni(U)?I(U):(e.consume(U),L)}function z(U){return U===47||U===62||ni(U)?I(U):n(U)}function B(U){return U===62?(e.consume(U),e.exit("htmlTextData"),e.exit("htmlText"),t):n(U)}function W(U){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),V}function V(U){return Wn(U)?cr(e,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):X(U)}function X(U){return e.enter("htmlTextData"),o(U)}}const iG={name:"labelEnd",tokenize:OYe,resolveTo:PYe,resolveAll:DYe},kYe={tokenize:NYe},IYe={tokenize:$Ye},RYe={tokenize:MYe};function DYe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function PYe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",l,t],["enter",u,t]],a=Mu(a,e.slice(s+1,s+r+3)),a=Mu(a,[["enter",c,t]]),a=Mu(a,h4(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Mu(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=Mu(a,e.slice(o+1)),a=Mu(a,[["exit",l,t]]),iu(e,s,e.length,a),e}function OYe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(cd(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(kYe,c,o?c:d)(f):f===91?e.attempt(IYe,c,o?u:d)(f):o?c(f):d(f)}function u(f){return e.attempt(RYe,c,d)(f)}function c(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function NYe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return ni(d)?OS(e,s)(d):s(d)}function s(d){return d===41?c(d):T1e(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return ni(d)?OS(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?k1e(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return ni(d)?OS(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function $Ye(e,t,n){const r=this;return i;function i(a){return A1e.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(cd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function MYe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const FYe={name:"labelStartImage",tokenize:LYe,resolveAll:iG.resolveAll};function LYe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const jYe={name:"labelStartLink",tokenize:BYe,resolveAll:iG.resolveAll};function BYe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const ZL={name:"lineEnding",tokenize:zYe};function zYe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),cr(e,t,"linePrefix")}}const GD={name:"thematicBreak",tokenize:UYe};function UYe(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||cn(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Wn(u)?cr(e,a,"whitespace")(u):a(u))}}const hl={name:"list",tokenize:VYe,continuation:{tokenize:WYe},exit:YYe},HYe={tokenize:KYe,partial:!0},qYe={tokenize:GYe,partial:!0};function VYe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:y7(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(GD,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return y7(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(JT,r.interrupt?n:c,e.attempt(HYe,f,d))}function c(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return Wn(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function WYe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(JT,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,cr(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Wn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qYe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,cr(e,e.attempt(hl,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function GYe(e,t,n){const r=this;return cr(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function YYe(e){e.exit(this.containerState.type)}function KYe(e,t,n){const r=this;return cr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Wn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const rse={name:"setextUnderline",tokenize:QYe,resolveTo:XYe};function XYe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function QYe(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Wn(u)?cr(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||cn(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const JYe={tokenize:ZYe};function ZYe(e){const t=this,n=e.attempt(JT,r,e.attempt(this.parser.constructs.flowInitial,i,cr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(iYe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const eKe={resolveAll:R1e()},tKe=I1e("string"),nKe=I1e("text");function I1e(e){return{tokenize:t,resolveAll:R1e(e==="text"?rKe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function R1e(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function rKe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function iKe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:v,enter:w,exit:E,attempt:T(C),check:T(S),interrupt:T(S,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:f,now:p,defineSkip:m,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(O){return o=Mu(o,O),g(),o[o.length-1]!==null?[]:(A(t,0),u.events=h4(s,u.events,u),u.events)}function f(O,M){return oKe(h(O),M)}function h(O){return sKe(o,O)}function p(){const{line:O,column:M,offset:$,_index:L,_bufferIndex:z}=r;return{line:O,column:M,offset:$,_index:L,_bufferIndex:z}}function m(O){i[O.line]=O.column,D()}function g(){let O;for(;r._index<o.length;){const M=o[r._index];if(typeof M=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<M.length;)y(M.charCodeAt(r._bufferIndex));else y(M)}}function y(O){c=c(O)}function v(O){cn(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,D()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=O}function w(O,M){const $=M||{};return $.type=O,$.start=p(),u.events.push(["enter",$,u]),a.push($),$}function E(O){const M=a.pop();return M.end=p(),u.events.push(["exit",M,u]),M}function C(O,M){A(O,M.from)}function S(O,M){M.restore()}function T(O,M){return $;function $(L,z,B){let W,V,X,U;return Array.isArray(L)?G(L):"tokenize"in L?G([L]):F(L);function F(te){return ue;function ue(se){const ne=se!==null&&te[se],fe=se!==null&&te.null,ee=[...Array.isArray(ne)?ne:ne?[ne]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return G(ee)(se)}}function G(te){return W=te,V=0,te.length===0?B:q(te[V])}function q(te){return ue;function ue(se){return U=I(),X=te,te.partial||(u.currentConstruct=te),te.name&&u.parser.constructs.disable.null.includes(te.name)?J():te.tokenize.call(M?Object.assign(Object.create(u),M):u,l,Y,J)(se)}}function Y(te){return O(X,U),z}function J(te){return U.restore(),++V<W.length?q(W[V]):B}}}function A(O,M){O.resolveAll&&!s.includes(O)&&s.push(O),O.resolve&&iu(u.events,M,u.events.length-M,O.resolve(u.events.slice(M),u)),O.resolveTo&&(u.events=O.resolveTo(u.events,u))}function I(){const O=p(),M=u.previous,$=u.currentConstruct,L=u.events.length,z=Array.from(a);return{restore:B,from:L};function B(){r=O,u.previous=M,u.currentConstruct=$,u.events.length=L,a=z,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function sKe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function oKe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const aKe={42:hl,43:hl,45:hl,48:hl,49:hl,50:hl,51:hl,52:hl,53:hl,54:hl,55:hl,56:hl,57:hl,62:E1e},lKe={91:uYe},uKe={[-2]:JL,[-1]:JL,32:JL},cKe={35:mYe,42:GD,45:[rse,GD],60:bYe,61:rse,95:GD,96:tse,126:tse},dKe={38:S1e,92:C1e},fKe={[-5]:ZL,[-4]:ZL,[-3]:ZL,33:FYe,38:S1e,42:v7,60:[LGe,TYe],91:jYe,92:[hYe,C1e],93:iG,95:v7,96:QGe},hKe={null:[v7,eKe]},pKe={null:[42,95]},mKe={null:[]},gKe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:pKe,contentInitial:lKe,disable:mKe,document:aKe,flow:cKe,flowInitial:uKe,insideSpan:hKe,string:dKe,text:fKe},Symbol.toStringTag,{value:"Module"}));function yKe(e){const n=_1e([gKe,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(DGe),document:i(OGe),flow:i(JYe),string:i(tKe),text:i(nKe)};return r;function i(s){return o;function o(a){return iKe(r,s,a)}}}class vKe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&QE(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),QE(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),QE(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);QE(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);QE(this.left,n.reverse())}}}function QE(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function bKe(e){const t={};let n=-1,r,i,s,o,a,l,u;const c=new vKe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,wKe(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},c.get(i)[1].start),a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return iu(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function wKe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const y=a.slice(g[f],g[f+1]),v=s.pop();l.push([v,v+y.length-1]),e.splice(v,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}function xKe(e){for(;!bKe(e););return e}const ise=/[\0\t\n\r]/g;function _Ke(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,f,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(ise.lastIndex=d,u=ise.exec(s),f=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(f),!u){t=s.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function EKe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function CKe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const SKe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function TKe(e){return e.replace(SKe,AKe)}function AKe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return CKe(n.slice(s?2:1),s?16:10)}return rG(n)||e}const D1e={}.hasOwnProperty;function kKe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),IKe(n)(xKe(yKe(n).document().write(_Ke()(e,t,!0))))}function IKe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(je),autolinkProtocol:I,autolinkEmail:I,atxHeading:s(Ce),blockQuote:s(fe),characterEscape:I,characterReference:I,codeFenced:s(ee),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ee,o),codeText:s(ie,o),codeTextData:I,data:I,codeFlowValue:I,definition:s(he),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ye),hardBreakEscape:s(Re),hardBreakTrailing:s(Re),htmlFlow:s(De,o),htmlFlowData:I,htmlText:s(De,o),htmlTextData:I,image:s(be),label:o,link:s(je),listItem:s(it),listItemValue:f,listOrdered:s(Qe,d),listUnordered:s(Qe),paragraph:s(Ke),reference:q,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ce),strong:s(Pe),thematicBreak:s(ot)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:ne,autolinkProtocol:se,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:te,characterReference:ue,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:D,codeIndented:l(y),codeText:l(z),codeTextData:D,data:D,definition:l(),definitionDestinationString:E,definitionLabelString:v,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l($),htmlFlowData:D,htmlText:l(L),htmlTextData:D,image:l(W),label:X,labelText:V,lineEnding:O,link:l(B),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Y,resourceDestinationString:U,resourceTitleString:F,resource:G,setextHeading:l(A),setextHeadingLineSequence:T,setextHeadingText:S,strong:l(),thematicBreak:l()}};P1e(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(xe){let Te={type:"root",children:[]};const nt={stack:[Te],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:n},ht=[];let st=-1;for(;++st<xe.length;)if(xe[st][1].type==="listOrdered"||xe[st][1].type==="listUnordered")if(xe[st][0]==="enter")ht.push(st);else{const Ot=ht.pop();st=i(xe,Ot,st)}for(st=-1;++st<xe.length;){const Ot=t[xe[st][0]];D1e.call(Ot,xe[st][1].type)&&Ot[xe[st][1].type].call(Object.assign({sliceSerialize:xe[st][2].sliceSerialize},nt),xe[st][1])}if(nt.tokenStack.length>0){const Ot=nt.tokenStack[nt.tokenStack.length-1];(Ot[1]||sse).call(nt,void 0,Ot[0])}for(Te.position={start:Vm(xe.length>0?xe[0][1].start:{line:1,column:1,offset:0}),end:Vm(xe.length>0?xe[xe.length-2][1].end:{line:1,column:1,offset:0})},st=-1;++st<t.transforms.length;)Te=t.transforms[st](Te)||Te;return Te}function i(xe,Te,nt){let ht=Te-1,st=-1,Ot=!1,Qt,kn,Yn,gn;for(;++ht<=nt;){const Tn=xe[ht];switch(Tn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Tn[0]==="enter"?st++:st--,gn=void 0;break}case"lineEndingBlank":{Tn[0]==="enter"&&(Qt&&!gn&&!st&&!Yn&&(Yn=ht),gn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:gn=void 0}if(!st&&Tn[0]==="enter"&&Tn[1].type==="listItemPrefix"||st===-1&&Tn[0]==="exit"&&(Tn[1].type==="listUnordered"||Tn[1].type==="listOrdered")){if(Qt){let er=ht;for(kn=void 0;er--;){const Nn=xe[er];if(Nn[1].type==="lineEnding"||Nn[1].type==="lineEndingBlank"){if(Nn[0]==="exit")continue;kn&&(xe[kn][1].type="lineEndingBlank",Ot=!0),Nn[1].type="lineEnding",kn=er}else if(!(Nn[1].type==="linePrefix"||Nn[1].type==="blockQuotePrefix"||Nn[1].type==="blockQuotePrefixWhitespace"||Nn[1].type==="blockQuoteMarker"||Nn[1].type==="listItemIndent"))break}Yn&&(!kn||Yn<kn)&&(Qt._spread=!0),Qt.end=Object.assign({},kn?xe[kn][1].start:Tn[1].end),xe.splice(kn||ht,0,["exit",Qt,Tn[2]]),ht++,nt++}if(Tn[1].type==="listItemPrefix"){const er={type:"listItem",_spread:!1,start:Object.assign({},Tn[1].start),end:void 0};Qt=er,xe.splice(ht,0,["enter",er,Tn[2]]),ht++,nt++,Yn=void 0,gn=!0}}}return xe[Te][1]._spread=Ot,nt}function s(xe,Te){return nt;function nt(ht){a.call(this,xe(ht),ht),Te&&Te.call(this,ht)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(xe,Te,nt){this.stack[this.stack.length-1].children.push(xe),this.stack.push(xe),this.tokenStack.push([Te,nt]),xe.position={start:Vm(Te.start),end:void 0}}function l(xe){return Te;function Te(nt){xe&&xe.call(this,nt),u.call(this,nt)}}function u(xe,Te){const nt=this.stack.pop(),ht=this.tokenStack.pop();if(ht)ht[0].type!==xe.type&&(Te?Te.call(this,xe,ht[0]):(ht[1]||sse).call(this,xe,ht[0]));else throw new Error("Cannot close `"+xe.type+"` ("+PS({start:xe.start,end:xe.end})+"): its not open");nt.position.end=Vm(xe.end)}function c(){return nG(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(xe){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(xe),10),this.data.expectingFirstListItemValue=void 0}}function h(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=xe}function p(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=xe}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=xe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=xe.replace(/(\r?\n|\r)$/g,"")}function v(xe){const Te=this.resume(),nt=this.stack[this.stack.length-1];nt.label=Te,nt.identifier=cd(this.sliceSerialize(xe)).toLowerCase()}function w(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.title=xe}function E(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.url=xe}function C(xe){const Te=this.stack[this.stack.length-1];if(!Te.depth){const nt=this.sliceSerialize(xe).length;Te.depth=nt}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(xe){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(xe).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function I(xe){const nt=this.stack[this.stack.length-1].children;let ht=nt[nt.length-1];(!ht||ht.type!=="text")&&(ht=ze(),ht.position={start:Vm(xe.start),end:void 0},nt.push(ht)),this.stack.push(ht)}function D(xe){const Te=this.stack.pop();Te.value+=this.sliceSerialize(xe),Te.position.end=Vm(xe.end)}function O(xe){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const nt=Te.children[Te.children.length-1];nt.position.end=Vm(xe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Te.type)&&(I.call(this,xe),D.call(this,xe))}function M(){this.data.atHardBreak=!0}function $(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=xe}function L(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=xe}function z(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=xe}function B(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=Te,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function W(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=Te,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function V(xe){const Te=this.sliceSerialize(xe),nt=this.stack[this.stack.length-2];nt.label=TKe(Te),nt.identifier=cd(Te).toLowerCase()}function X(){const xe=this.stack[this.stack.length-1],Te=this.resume(),nt=this.stack[this.stack.length-1];if(this.data.inReference=!0,nt.type==="link"){const ht=xe.children;nt.children=ht}else nt.alt=Te}function U(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.url=xe}function F(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.title=xe}function G(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function Y(xe){const Te=this.resume(),nt=this.stack[this.stack.length-1];nt.label=Te,nt.identifier=cd(this.sliceSerialize(xe)).toLowerCase(),this.data.referenceType="full"}function J(xe){this.data.characterReferenceType=xe.type}function te(xe){const Te=this.sliceSerialize(xe),nt=this.data.characterReferenceType;let ht;nt?(ht=EKe(Te,nt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ht=rG(Te);const st=this.stack[this.stack.length-1];st.value+=ht}function ue(xe){const Te=this.stack.pop();Te.position.end=Vm(xe.end)}function se(xe){D.call(this,xe);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(xe)}function ne(xe){D.call(this,xe);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(xe)}function fe(){return{type:"blockquote",children:[]}}function ee(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function he(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function Ce(){return{type:"heading",depth:0,children:[]}}function Re(){return{type:"break"}}function De(){return{type:"html",value:""}}function be(){return{type:"image",title:null,url:"",alt:null}}function je(){return{type:"link",title:null,url:"",children:[]}}function Qe(xe){return{type:"list",ordered:xe.type==="listOrdered",start:null,spread:xe._spread,children:[]}}function it(xe){return{type:"listItem",spread:xe._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function Pe(){return{type:"strong",children:[]}}function ze(){return{type:"text",value:""}}function ot(){return{type:"thematicBreak"}}}function Vm(e){return{line:e.line,column:e.column,offset:e.offset}}function P1e(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?P1e(e,r):RKe(e,r)}}function RKe(e,t){let n;for(n in t)if(D1e.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function sse(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+PS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+PS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+PS({start:t.start,end:t.end})+") is still open")}function DKe(e){const t=this;t.parser=n;function n(r){return kKe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function PKe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function OKe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function NKe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function $Ke(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function MKe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function FKe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=k_(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function LKe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jKe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function O1e(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function BKe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return O1e(e,t);const i={src:k_(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function zKe(e,t){const n={src:k_(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function UKe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function HKe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return O1e(e,t);const i={href:k_(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function qKe(e,t){const n={href:k_(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function VKe(e,t,n){const r=e.all(t),i=n?WKe(n):N1e(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function WKe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=N1e(n[r])}return t}function N1e(e){const t=e.spread;return t??e.children.length>1}function GKe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function YKe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KKe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function XKe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QKe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=dh(t.children[1]),l=d4(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function JKe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},h=o?o[l]:void 0;h&&(f.align=h);let p={type:"element",tagName:s,properties:f,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function ZKe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ose=9,ase=32;function eXe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(lse(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(lse(t.slice(i),i>0,!1)),s.join("")}function lse(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===ose||s===ase;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===ose||s===ase;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function tXe(e,t){const n={type:"text",value:eXe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function nXe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const rXe={blockquote:PKe,break:OKe,code:NKe,delete:$Ke,emphasis:MKe,footnoteReference:FKe,heading:LKe,html:jKe,imageReference:BKe,image:zKe,inlineCode:UKe,linkReference:HKe,link:qKe,listItem:VKe,list:GKe,paragraph:YKe,root:KKe,strong:XKe,table:QKe,tableCell:ZKe,tableRow:JKe,text:tXe,thematicBreak:nXe,toml:kI,yaml:kI,definition:kI,footnoteDefinition:kI};function kI(){}const $1e=-1,p4=0,W3=1,G3=2,sG=3,oG=4,aG=5,lG=6,M1e=7,F1e=8,use=typeof self=="object"?self:globalThis,iXe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case p4:case $1e:return n(o,i);case W3:{const a=n([],i);for(const l of o)a.push(r(l));return a}case G3:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case sG:return n(new Date(o),i);case oG:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case aG:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case lG:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case M1e:{const{name:a,message:l}=o;return n(new use[a](l),i)}case F1e:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new use[s](o),i)};return r},cse=e=>iXe(new Map,e)(0),N1="",{toString:sXe}={},{keys:oXe}=Object,JE=e=>{const t=typeof e;if(t!=="object"||!e)return[p4,t];const n=sXe.call(e).slice(8,-1);switch(n){case"Array":return[W3,N1];case"Object":return[G3,N1];case"Date":return[sG,N1];case"RegExp":return[oG,N1];case"Map":return[aG,N1];case"Set":return[lG,N1]}return n.includes("Array")?[W3,n]:n.includes("Error")?[M1e,n]:[G3,n]},II=([e,t])=>e===p4&&(t==="function"||t==="symbol"),aXe=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=JE(o);switch(a){case p4:{let c=o;switch(l){case"bigint":a=F1e,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([$1e],o)}return i([a,c],o)}case W3:{if(l)return i([l,[...o]],o);const c=[],d=i([a,c],o);for(const f of o)c.push(s(f));return d}case G3:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const f of oXe(o))(e||!II(JE(o[f])))&&c.push([s(f),s(o[f])]);return d}case sG:return i([a,o.toISOString()],o);case oG:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case aG:{const c=[],d=i([a,c],o);for(const[f,h]of o)(e||!(II(JE(f))||II(JE(h))))&&c.push([s(f),s(h)]);return d}case lG:{const c=[],d=i([a,c],o);for(const f of o)(e||!II(JE(f)))&&c.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},dse=(e,{json:t,lossy:n}={})=>{const r=[];return aXe(!(t||n),!!t,new Map,r)(e),r},wx=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?cse(dse(e,t)):structuredClone(e):(e,t)=>cse(dse(e,t));function lXe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function uXe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function cXe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||lXe,r=e.options.footnoteBackLabel||uXe,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=k_(d.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,h);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else c.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...wx(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const m4=function(e){if(e==null)return pXe;if(typeof e=="function")return g4(e);if(typeof e=="object")return Array.isArray(e)?dXe(e):fXe(e);if(typeof e=="string")return hXe(e);throw new Error("Expected function, string, or object as test")};function dXe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=m4(e[n]);return g4(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function fXe(e){const t=e;return g4(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function hXe(e){return g4(t);function t(n){return n&&n.type===e}}function g4(e){return t;function t(n,r,i){return!!(mXe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function pXe(){return!0}function mXe(e){return e!==null&&typeof e=="object"&&"type"in e}const L1e=[],gXe=!0,b7=!1,yXe="skip";function j1e(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=m4(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=L1e,p,m,g;if((!t||s(l,u,c[c.length-1]||void 0))&&(h=vXe(n(l,c)),h[0]===b7))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==yXe)for(m=(r?y.children.length:-1)+o,g=c.concat(y);m>-1&&m<y.children.length;){const v=y.children[m];if(p=a(v,m,g)(),p[0]===b7)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function vXe(e){return Array.isArray(e)?e:typeof e=="number"?[gXe,e]:e==null?L1e:[e]}function y4(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),j1e(e,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const w7={}.hasOwnProperty,bXe={};function wXe(e,t){const n=t||bXe,r=new Map,i=new Map,s=new Map,o={...rXe,...n.handlers},a={all:u,applyData:_Xe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:xXe,wrap:CXe};return y4(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,h=a.handlers[f];if(w7.call(a.handlers,f)&&h)return h(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:m,...g}=c,y=wx(g);return y.children=a.all(c),y}return wx(c)}return(a.options.unknownHandler||EXe)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const p=a.one(f[h],c);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=fse(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=fse(m.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function xXe(e,t){e.position&&(t.position=tGe(e))}function _Xe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,wx(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function EXe(e,t){const n=t.data||{},r="value"in t&&!(w7.call(n,"hProperties")||w7.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function CXe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function fse(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function hse(e,t){const n=wXe(e,t),r=n.one(e,void 0),i=cXe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function SXe(e,t){return e&&"run"in e?async function(n,r){const i=hse(n,{file:r,...t});await e.run(i,r)}:function(n,r){return hse(n,{file:r,...t||e})}}function pse(e){if(e)throw e}var e8,mse;function TXe(){if(mse)return e8;mse=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},o=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return e8=function l(){var u,c,d,f,h,p,m=arguments[0],g=1,y=arguments.length,v=!1;for(typeof m=="boolean"&&(v=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<y;++g)if(u=arguments[g],u!=null)for(c in u)d=a(m,c),f=a(u,c),m!==f&&(v&&f&&(s(f)||(h=i(f)))?(h?(h=!1,p=d&&i(d)?d:[]):p=d&&s(d)?d:{},o(m,{name:c,newValue:l(v,p,f)})):typeof f<"u"&&o(m,{name:c,newValue:f}));return m},e8}var AXe=TXe();const t8=ao(AXe);function x7(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function kXe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?IXe(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function IXe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const yf={basename:RXe,dirname:DXe,extname:PXe,join:OXe,sep:"/"};function RXe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ZT(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function DXe(e){if(ZT(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function PXe(e){ZT(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function OXe(...e){let t=-1,n;for(;++t<e.length;)ZT(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":NXe(n)}function NXe(e){ZT(e);const t=e.codePointAt(0)===47;let n=$Xe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function $Xe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function ZT(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const MXe={cwd:FXe};function FXe(){return"/"}function _7(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function LXe(e){if(typeof e=="string")e=new URL(e);else if(!_7(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return jXe(e)}function jXe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const n8=["history","path","basename","stem","extname","dirname"];class B1e{constructor(t){let n;t?_7(t)?n={path:t}:typeof t=="string"||BXe(t)?n={value:t}:n=t:n={},this.cwd=MXe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<n8.length;){const s=n8[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)n8.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?yf.basename(this.path):void 0}set basename(t){i8(t,"basename"),r8(t,"basename"),this.path=yf.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?yf.dirname(this.path):void 0}set dirname(t){gse(this.basename,"dirname"),this.path=yf.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?yf.extname(this.path):void 0}set extname(t){if(r8(t,"extname"),gse(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yf.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){_7(t)&&(t=LXe(t)),i8(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?yf.basename(this.path,this.extname):void 0}set stem(t){i8(t,"stem"),r8(t,"stem"),this.path=yf.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ya(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function r8(e,t){if(e&&e.includes(yf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+yf.sep+"`")}function i8(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function gse(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function BXe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zXe=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};Object.setPrototypeOf(s,r);const o=Object.getOwnPropertyNames(i);for(const a of o){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(s,a,l)}return s},UXe={}.hasOwnProperty;class uG extends zXe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kXe()}copy(){const t=new uG;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(t8(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(a8("data",this.frozen),this.namespace[t]=n,this):UXe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(a8("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=RI(t),r=this.parser||this.Parser;return s8("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),s8("process",this.parser||this.Parser),o8("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=RI(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const h=d,p=r.stringify(h,f);VXe(p)?f.value=p:f.result=p,u(c,f)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),s8("processSync",this.parser||this.Parser),o8("processSync",this.compiler||this.Compiler),this.process(t,i),vse("processSync","process",n),r;function i(s,o){n=!0,pse(s),r=o}}run(t,n,r){yse(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=RI(n);i.run(t,l,u);function u(c,d,f){const h=d||t;c?a(c):o?o(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),vse("runSync","run",r),i;function s(o,a){pse(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=RI(n),i=this.compiler||this.Compiler;return o8("stringify",i),yse(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(a8("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=t8(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const m=r[f][1];x7(m)&&x7(h)&&(h=t8(!0,m,h)),r[f]=[u,h,...p]}}}}const HXe=new uG().freeze();function s8(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function o8(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function a8(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yse(e){if(!x7(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function vse(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function RI(e){return qXe(e)?e:new B1e(e)}function qXe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function VXe(e){return typeof e=="string"||WXe(e)}function WXe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const GXe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",bse=[],wse={allowDangerousHtml:!0},YXe=/^(https?|ircs?|mailto|xmpp)$/i,KXe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function XXe(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,o=e.disallowedElements,a=e.rehypePlugins||bse,l=e.remarkPlugins||bse,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...wse}:wse,c=e.skipHtml,d=e.unwrapDisallowed,f=e.urlTransform||QXe,h=HXe().use(DKe).use(l).use(SXe,u).use(a),p=new B1e;typeof r=="string"&&(p.value=r);for(const v of KXe)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+GXe+v.id,void 0);const m=h.parse(p);let g=h.runSync(m,p);return i&&(g={type:"element",tagName:"div",properties:{className:i},children:g.type==="root"?g.children:[g]}),y4(g,y),aGe(g,{Fragment:_.Fragment,components:s,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function y(v,w,E){if(v.type==="raw"&&E&&typeof w=="number")return c?E.children.splice(w,1):E.children[w]={type:"text",value:v.value},w;if(v.type==="element"){let C;for(C in QL)if(Object.hasOwn(QL,C)&&Object.hasOwn(v.properties,C)){const S=v.properties[C],T=QL[C];(T===null||T.includes(v.tagName))&&(v.properties[C]=f(String(S||""),C,v))}}if(v.type==="element"){let C=t?!t.includes(v.tagName):o?o.includes(v.tagName):!1;if(!C&&n&&typeof w=="number"&&(C=!n(v,w,E)),C&&E&&typeof w=="number")return d&&v.children?E.children.splice(w,1,...v.children):E.children.splice(w,1),w}}}function QXe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||YXe.test(e.slice(0,t))?e:""}const xse=/[#.]/g;function JXe(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){xse.lastIndex=i;const a=xse.exec(n),l=n.slice(i,a?a.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,i+=l.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const ZXe=new Set(["button","menu","reset","submit"]),E7={}.hasOwnProperty;function z1e(e,t,n){const r=n&&rQe(n);function i(s,o,...a){let l=-1,u;if(s==null){u={type:"root",children:[]};const c=o;a.unshift(c)}else if(u=JXe(s,t),u.tagName=u.tagName.toLowerCase(),r&&E7.call(r,u.tagName)&&(u.tagName=r[u.tagName]),eQe(o,u.tagName)){let c;for(c in o)E7.call(o,c)&&tQe(e,u.properties,c,o[c])}else a.unshift(o);for(;++l<a.length;)C7(u.children,a[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function eQe(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?ZXe.has(e.type.toLowerCase()):!("value"in e)}function tQe(e,t,n,r){const i=c4(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=Hie(r):i.commaSeparated?o=Lie(r):i.commaOrSpaceSeparated?o=Hie(Lie(r).join(" ")):o=_se(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?nQe(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const l=_se(i,i.property,o[s]);a[s]=l}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function C7(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)C7(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?C7(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function _se(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||A2(n)===A2(t)))return!0}return n}function nQe(e){const t=[];let n;for(n in e)E7.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function rQe(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const iQe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],sQe=z1e(QT,"div"),oQe=z1e(bg,"g",iQe),l8=/\r?\n|\r/g;function aQe(e){const t=String(e),n=[];for(l8.lastIndex=0;l8.test(t);)n.push(l8.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const l=(n[o-2]||0)+a-1||0;if(l>-1&&l<n[n.length-1])return l}}}const ev={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},U1e={}.hasOwnProperty,lQe=Object.prototype;function uQe(e,t){const n=t||{};return cG({file:n.file||void 0,location:!1,schema:n.space==="svg"?bg:QT,verbose:n.verbose||!1},e)}function cG(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},YD(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:H1e(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=aQe(s),a=o.toPoint(0),l=o.toPoint(s.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},YD(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},YD(e,r,n),n}default:return n=cQe(e,t),n}}function H1e(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=cG(e,t[n]);r.push(i)}return r}function cQe(e,t){const n=e.schema;e.schema=t.namespaceURI===ev.svg?bg:QT;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;U1e.call(lQe,l)||(i[l]=a.value)}const o=(e.schema.space==="svg"?oQe:sQe)(t.tagName,i,H1e(e,t.childNodes));if(YD(e,t,o),o.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&_w(l.startTag),c=l&&l.endTag&&_w(l.endTag),d=cG(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),o.content=d}return e.schema=n,o}function YD(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=dQe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function dQe(e,t,n){const r=_w(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)U1e.call(n.attrs,o)&&(s[c4(e.schema,o).property]=_w(n.attrs[o]));n.startTag;const a=_w(n.startTag),l=n.endTag?_w(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return r}function _w(e){const t=Ese({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Ese({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Ese(e){return e.line&&e.column?e:void 0}const Cse={}.hasOwnProperty;function q1e(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&Cse.call(i,e)){const l=String(i[e]);o=Cse.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const fQe={},hQe={}.hasOwnProperty,V1e=q1e("type",{handlers:{root:mQe,element:wQe,text:vQe,comment:bQe,doctype:yQe}});function pQe(e,t){const r=(t||fQe).space;return V1e(e,r==="svg"?bg:QT)}function mQe(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=dG(e.children,n,t),I_(e,n),n}function gQe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=dG(e.children,n,t),I_(e,n),n}function yQe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return I_(e,t),t}function vQe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return I_(e,t),t}function bQe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return I_(e,t),t}function wQe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=bg);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&hQe.call(e.properties,s)){const l=xQe(r,s,e.properties[s]);l&&i.push(l)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:ev[o],childNodes:[],parentNode:null};return a.childNodes=dG(e.children,a,r),I_(e,a),e.tagName==="template"&&e.content&&(a.content=gQe(e.content,r)),a}function xQe(e,t,n){const r=c4(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?o1e(n):m1e(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=ev[r.space]}return i}function dG(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=V1e(e[r],n);s.parentNode=t,i.push(s)}return i}function I_(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const _Qe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],EQe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),gi="";var ae;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(ae=ae||(ae={}));const dl={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function W1e(e){return e>=55296&&e<=57343}function CQe(e){return e>=56320&&e<=57343}function SQe(e,t){return(e-55296)*1024+9216+t}function G1e(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Y1e(e){return e>=64976&&e<=65007||EQe.has(e)}var qe;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(qe=qe||(qe={}));const TQe=65536;class AQe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=TQe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(CQe(n))return this.pos++,this._addGap(),SQe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ae.EOF;return this._err(qe.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ae.EOF;const r=this.html.charCodeAt(n);return r===ae.CARRIAGE_RETURN?ae.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ae.EOF;let t=this.html.charCodeAt(this.pos);return t===ae.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ae.LINE_FEED):t===ae.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,W1e(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ae.LINE_FEED||t===ae.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){G1e(t)?this._err(qe.controlCharacterInInputStream):Y1e(t)&&this._err(qe.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Fn;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Fn=Fn||(Fn={}));function K1e(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Xm=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),kQe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var u8;const IQe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),RQe=(u8=String.fromCodePoint)!==null&&u8!==void 0?u8:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function DQe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=IQe.get(e))!==null&&t!==void 0?t:e}var Qs;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Qs||(Qs={}));const PQe=32;var Df;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Df||(Df={}));function S7(e){return e>=Qs.ZERO&&e<=Qs.NINE}function OQe(e){return e>=Qs.UPPER_A&&e<=Qs.UPPER_F||e>=Qs.LOWER_A&&e<=Qs.LOWER_F}function NQe(e){return e>=Qs.UPPER_A&&e<=Qs.UPPER_Z||e>=Qs.LOWER_A&&e<=Qs.LOWER_Z||S7(e)}function $Qe(e){return e===Qs.EQUALS||NQe(e)}var Vs;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Vs||(Vs={}));var zy;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(zy||(zy={}));class MQe{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Vs.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=zy.Strict}startEntity(t){this.decodeMode=t,this.state=Vs.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Vs.EntityStart:return t.charCodeAt(n)===Qs.NUM?(this.state=Vs.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Vs.NamedEntity,this.stateNamedEntity(t,n));case Vs.NumericStart:return this.stateNumericStart(t,n);case Vs.NumericDecimal:return this.stateNumericDecimal(t,n);case Vs.NumericHex:return this.stateNumericHex(t,n);case Vs.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|PQe)===Qs.LOWER_X?(this.state=Vs.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Vs.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(S7(i)||OQe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(S7(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Qs.SEMI)this.consumed+=1;else if(this.decodeMode===zy.Strict)return 0;return this.emitCodePoint(DQe(this.result),this.consumed),this.errors&&(t!==Qs.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Df.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=Q1e(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===zy.Attribute&&(s===0||$Qe(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Df.VALUE_LENGTH)>>14,s!==0){if(o===Qs.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==zy.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Df.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Df.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Vs.NamedEntity:return this.result!==0&&(this.decodeMode!==zy.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Vs.NumericDecimal:return this.emitNumericEntity(0,2);case Vs.NumericHex:return this.emitNumericEntity(0,3);case Vs.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Vs.EntityStart:return 0}}}function X1e(e){let t="";const n=new MQe(e,r=>t+=RQe(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const u=n.write(i,a+1);if(u<0){o=a+n.end();break}o=a+u,a=u===0?o+1:o}const l=t+i.slice(o);return t="",l}}function Q1e(e,t,n,r){const i=(t&Df.BRANCH_LENGTH)>>7,s=t&Df.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:e[n+l]-1}let o=n,a=o+i-1;for(;o<=a;){const l=o+a>>>1,u=e[l];if(u<r)o=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}X1e(Xm);X1e(kQe);var rt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(rt=rt||(rt={}));var P0;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(P0=P0||(P0={}));var Kl;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Kl=Kl||(Kl={}));var Fe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Fe=Fe||(Fe={}));var j;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(j=j||(j={}));const FQe=new Map([[Fe.A,j.A],[Fe.ADDRESS,j.ADDRESS],[Fe.ANNOTATION_XML,j.ANNOTATION_XML],[Fe.APPLET,j.APPLET],[Fe.AREA,j.AREA],[Fe.ARTICLE,j.ARTICLE],[Fe.ASIDE,j.ASIDE],[Fe.B,j.B],[Fe.BASE,j.BASE],[Fe.BASEFONT,j.BASEFONT],[Fe.BGSOUND,j.BGSOUND],[Fe.BIG,j.BIG],[Fe.BLOCKQUOTE,j.BLOCKQUOTE],[Fe.BODY,j.BODY],[Fe.BR,j.BR],[Fe.BUTTON,j.BUTTON],[Fe.CAPTION,j.CAPTION],[Fe.CENTER,j.CENTER],[Fe.CODE,j.CODE],[Fe.COL,j.COL],[Fe.COLGROUP,j.COLGROUP],[Fe.DD,j.DD],[Fe.DESC,j.DESC],[Fe.DETAILS,j.DETAILS],[Fe.DIALOG,j.DIALOG],[Fe.DIR,j.DIR],[Fe.DIV,j.DIV],[Fe.DL,j.DL],[Fe.DT,j.DT],[Fe.EM,j.EM],[Fe.EMBED,j.EMBED],[Fe.FIELDSET,j.FIELDSET],[Fe.FIGCAPTION,j.FIGCAPTION],[Fe.FIGURE,j.FIGURE],[Fe.FONT,j.FONT],[Fe.FOOTER,j.FOOTER],[Fe.FOREIGN_OBJECT,j.FOREIGN_OBJECT],[Fe.FORM,j.FORM],[Fe.FRAME,j.FRAME],[Fe.FRAMESET,j.FRAMESET],[Fe.H1,j.H1],[Fe.H2,j.H2],[Fe.H3,j.H3],[Fe.H4,j.H4],[Fe.H5,j.H5],[Fe.H6,j.H6],[Fe.HEAD,j.HEAD],[Fe.HEADER,j.HEADER],[Fe.HGROUP,j.HGROUP],[Fe.HR,j.HR],[Fe.HTML,j.HTML],[Fe.I,j.I],[Fe.IMG,j.IMG],[Fe.IMAGE,j.IMAGE],[Fe.INPUT,j.INPUT],[Fe.IFRAME,j.IFRAME],[Fe.KEYGEN,j.KEYGEN],[Fe.LABEL,j.LABEL],[Fe.LI,j.LI],[Fe.LINK,j.LINK],[Fe.LISTING,j.LISTING],[Fe.MAIN,j.MAIN],[Fe.MALIGNMARK,j.MALIGNMARK],[Fe.MARQUEE,j.MARQUEE],[Fe.MATH,j.MATH],[Fe.MENU,j.MENU],[Fe.META,j.META],[Fe.MGLYPH,j.MGLYPH],[Fe.MI,j.MI],[Fe.MO,j.MO],[Fe.MN,j.MN],[Fe.MS,j.MS],[Fe.MTEXT,j.MTEXT],[Fe.NAV,j.NAV],[Fe.NOBR,j.NOBR],[Fe.NOFRAMES,j.NOFRAMES],[Fe.NOEMBED,j.NOEMBED],[Fe.NOSCRIPT,j.NOSCRIPT],[Fe.OBJECT,j.OBJECT],[Fe.OL,j.OL],[Fe.OPTGROUP,j.OPTGROUP],[Fe.OPTION,j.OPTION],[Fe.P,j.P],[Fe.PARAM,j.PARAM],[Fe.PLAINTEXT,j.PLAINTEXT],[Fe.PRE,j.PRE],[Fe.RB,j.RB],[Fe.RP,j.RP],[Fe.RT,j.RT],[Fe.RTC,j.RTC],[Fe.RUBY,j.RUBY],[Fe.S,j.S],[Fe.SCRIPT,j.SCRIPT],[Fe.SECTION,j.SECTION],[Fe.SELECT,j.SELECT],[Fe.SOURCE,j.SOURCE],[Fe.SMALL,j.SMALL],[Fe.SPAN,j.SPAN],[Fe.STRIKE,j.STRIKE],[Fe.STRONG,j.STRONG],[Fe.STYLE,j.STYLE],[Fe.SUB,j.SUB],[Fe.SUMMARY,j.SUMMARY],[Fe.SUP,j.SUP],[Fe.TABLE,j.TABLE],[Fe.TBODY,j.TBODY],[Fe.TEMPLATE,j.TEMPLATE],[Fe.TEXTAREA,j.TEXTAREA],[Fe.TFOOT,j.TFOOT],[Fe.TD,j.TD],[Fe.TH,j.TH],[Fe.THEAD,j.THEAD],[Fe.TITLE,j.TITLE],[Fe.TR,j.TR],[Fe.TRACK,j.TRACK],[Fe.TT,j.TT],[Fe.U,j.U],[Fe.UL,j.UL],[Fe.SVG,j.SVG],[Fe.VAR,j.VAR],[Fe.WBR,j.WBR],[Fe.XMP,j.XMP]]);function R_(e){var t;return(t=FQe.get(e))!==null&&t!==void 0?t:j.UNKNOWN}const gt=j,LQe={[rt.HTML]:new Set([gt.ADDRESS,gt.APPLET,gt.AREA,gt.ARTICLE,gt.ASIDE,gt.BASE,gt.BASEFONT,gt.BGSOUND,gt.BLOCKQUOTE,gt.BODY,gt.BR,gt.BUTTON,gt.CAPTION,gt.CENTER,gt.COL,gt.COLGROUP,gt.DD,gt.DETAILS,gt.DIR,gt.DIV,gt.DL,gt.DT,gt.EMBED,gt.FIELDSET,gt.FIGCAPTION,gt.FIGURE,gt.FOOTER,gt.FORM,gt.FRAME,gt.FRAMESET,gt.H1,gt.H2,gt.H3,gt.H4,gt.H5,gt.H6,gt.HEAD,gt.HEADER,gt.HGROUP,gt.HR,gt.HTML,gt.IFRAME,gt.IMG,gt.INPUT,gt.LI,gt.LINK,gt.LISTING,gt.MAIN,gt.MARQUEE,gt.MENU,gt.META,gt.NAV,gt.NOEMBED,gt.NOFRAMES,gt.NOSCRIPT,gt.OBJECT,gt.OL,gt.P,gt.PARAM,gt.PLAINTEXT,gt.PRE,gt.SCRIPT,gt.SECTION,gt.SELECT,gt.SOURCE,gt.STYLE,gt.SUMMARY,gt.TABLE,gt.TBODY,gt.TD,gt.TEMPLATE,gt.TEXTAREA,gt.TFOOT,gt.TH,gt.THEAD,gt.TITLE,gt.TR,gt.TRACK,gt.UL,gt.WBR,gt.XMP]),[rt.MATHML]:new Set([gt.MI,gt.MO,gt.MN,gt.MS,gt.MTEXT,gt.ANNOTATION_XML]),[rt.SVG]:new Set([gt.TITLE,gt.FOREIGN_OBJECT,gt.DESC]),[rt.XLINK]:new Set,[rt.XML]:new Set,[rt.XMLNS]:new Set};function J1e(e){return e===gt.H1||e===gt.H2||e===gt.H3||e===gt.H4||e===gt.H5||e===gt.H6}Fe.STYLE,Fe.SCRIPT,Fe.XMP,Fe.IFRAME,Fe.NOEMBED,Fe.NOFRAMES,Fe.PLAINTEXT;const jQe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var ce;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(ce||(ce={}));const Ji={DATA:ce.DATA,RCDATA:ce.RCDATA,RAWTEXT:ce.RAWTEXT,SCRIPT_DATA:ce.SCRIPT_DATA,PLAINTEXT:ce.PLAINTEXT,CDATA_SECTION:ce.CDATA_SECTION};function NS(e){return e>=ae.DIGIT_0&&e<=ae.DIGIT_9}function WC(e){return e>=ae.LATIN_CAPITAL_A&&e<=ae.LATIN_CAPITAL_Z}function BQe(e){return e>=ae.LATIN_SMALL_A&&e<=ae.LATIN_SMALL_Z}function Qm(e){return BQe(e)||WC(e)}function T7(e){return Qm(e)||NS(e)}function Z1e(e){return e>=ae.LATIN_CAPITAL_A&&e<=ae.LATIN_CAPITAL_F}function ewe(e){return e>=ae.LATIN_SMALL_A&&e<=ae.LATIN_SMALL_F}function zQe(e){return NS(e)||Z1e(e)||ewe(e)}function DI(e){return e+32}function twe(e){return e===ae.SPACE||e===ae.LINE_FEED||e===ae.TABULATION||e===ae.FORM_FEED}function UQe(e){return e===ae.EQUALS_SIGN||T7(e)}function Sse(e){return twe(e)||e===ae.SOLIDUS||e===ae.GREATER_THAN_SIGN}class HQe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ce.DATA,this.returnState=ce.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new AQe(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Fn.START_TAG,tagName:"",tagID:j.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Fn.END_TAG,tagName:"",tagID:j.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Fn.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Fn.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(K1e(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(qe.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=R_(t.tagName),t.type===Fn.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(qe.endTagWithAttributes),t.selfClosing&&this._err(qe.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Fn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Fn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Fn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Fn.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=twe(t)?Fn.WHITESPACE_CHARACTER:t===ae.NULL?Fn.NULL_CHARACTER:Fn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Fn.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=Xm[0];s>=0&&(s=Q1e(Xm,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=Xm[s];const a=o&Df.VALUE_LENGTH;if(a){const l=(a>>14)-1;if(t!==ae.SEMICOLON&&this._isCharacterReferenceInAttribute()&&UQe(this.preprocessor.peek(1))?(n=[ae.AMPERSAND],s+=l):(n=l===0?[Xm[s]&~Df.VALUE_LENGTH]:l===1?[Xm[++s]]:[Xm[++s],Xm[++s]],r=0,i=t!==ae.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(qe.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ce.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ce.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ce.DATA:{this._stateData(t);break}case ce.RCDATA:{this._stateRcdata(t);break}case ce.RAWTEXT:{this._stateRawtext(t);break}case ce.SCRIPT_DATA:{this._stateScriptData(t);break}case ce.PLAINTEXT:{this._statePlaintext(t);break}case ce.TAG_OPEN:{this._stateTagOpen(t);break}case ce.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ce.TAG_NAME:{this._stateTagName(t);break}case ce.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ce.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ce.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ce.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ce.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ce.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ce.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ce.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ce.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ce.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ce.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ce.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ce.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ce.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ce.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ce.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ce.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ce.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ce.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ce.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ce.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ce.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ce.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ce.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ce.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ce.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ce.COMMENT_START:{this._stateCommentStart(t);break}case ce.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ce.COMMENT:{this._stateComment(t);break}case ce.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ce.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ce.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ce.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ce.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ce.COMMENT_END:{this._stateCommentEnd(t);break}case ce.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ce.DOCTYPE:{this._stateDoctype(t);break}case ce.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ce.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ce.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ce.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ce.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ce.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ce.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ce.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ce.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ce.CDATA_SECTION:{this._stateCdataSection(t);break}case ce.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ce.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ce.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case ce.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case ce.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case ce.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case ce.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case ce.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case ce.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case ce.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ae.LESS_THAN_SIGN:{this.state=ce.TAG_OPEN;break}case ae.AMPERSAND:{this.returnState=ce.DATA,this.state=ce.CHARACTER_REFERENCE;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this._emitCodePoint(t);break}case ae.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ae.AMPERSAND:{this.returnState=ce.RCDATA,this.state=ce.CHARACTER_REFERENCE;break}case ae.LESS_THAN_SIGN:{this.state=ce.RCDATA_LESS_THAN_SIGN;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(gi);break}case ae.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ae.LESS_THAN_SIGN:{this.state=ce.RAWTEXT_LESS_THAN_SIGN;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(gi);break}case ae.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ae.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_LESS_THAN_SIGN;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(gi);break}case ae.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ae.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(gi);break}case ae.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Qm(t))this._createStartTagToken(),this.state=ce.TAG_NAME,this._stateTagName(t);else switch(t){case ae.EXCLAMATION_MARK:{this.state=ce.MARKUP_DECLARATION_OPEN;break}case ae.SOLIDUS:{this.state=ce.END_TAG_OPEN;break}case ae.QUESTION_MARK:{this._err(qe.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ce.BOGUS_COMMENT,this._stateBogusComment(t);break}case ae.EOF:{this._err(qe.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(qe.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ce.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Qm(t))this._createEndTagToken(),this.state=ce.TAG_NAME,this._stateTagName(t);else switch(t){case ae.GREATER_THAN_SIGN:{this._err(qe.missingEndTagName),this.state=ce.DATA;break}case ae.EOF:{this._err(qe.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(qe.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ce.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:{this.state=ce.BEFORE_ATTRIBUTE_NAME;break}case ae.SOLIDUS:{this.state=ce.SELF_CLOSING_START_TAG;break}case ae.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentTagToken();break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),n.tagName+=gi;break}case ae.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(WC(t)?DI(t):t)}}_stateRcdataLessThanSign(t){t===ae.SOLIDUS?this.state=ce.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ce.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Qm(t)?(this.state=ce.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ce.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ce.BEFORE_ATTRIBUTE_NAME,!1;case ae.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ce.SELF_CLOSING_START_TAG,!1;case ae.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ce.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ae.SOLIDUS?this.state=ce.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ce.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Qm(t)?(this.state=ce.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ce.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ae.SOLIDUS:{this.state=ce.SCRIPT_DATA_END_TAG_OPEN;break}case ae.EXCLAMATION_MARK:{this.state=ce.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ce.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Qm(t)?(this.state=ce.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ae.HYPHEN_MINUS?(this.state=ce.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ae.HYPHEN_MINUS?(this.state=ce.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ae.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ae.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(gi);break}case ae.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ae.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ae.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_ESCAPED,this._emitChars(gi);break}case ae.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ae.HYPHEN_MINUS:{this._emitChars("-");break}case ae.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ae.GREATER_THAN_SIGN:{this.state=ce.SCRIPT_DATA,this._emitChars(">");break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_ESCAPED,this._emitChars(gi);break}case ae.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ae.SOLIDUS?this.state=ce.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Qm(t)?(this._emitChars("<"),this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Qm(t)?(this.state=ce.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(dl.SCRIPT,!1)&&Sse(this.preprocessor.peek(dl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<dl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ae.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ae.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(gi);break}case ae.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ae.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ae.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gi);break}case ae.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ae.HYPHEN_MINUS:{this._emitChars("-");break}case ae.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ae.GREATER_THAN_SIGN:{this.state=ce.SCRIPT_DATA,this._emitChars(">");break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gi);break}case ae.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ae.SOLIDUS?(this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(dl.SCRIPT,!1)&&Sse(this.preprocessor.peek(dl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<dl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ce.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:break;case ae.SOLIDUS:case ae.GREATER_THAN_SIGN:case ae.EOF:{this.state=ce.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ae.EQUALS_SIGN:{this._err(qe.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ce.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ce.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:case ae.SOLIDUS:case ae.GREATER_THAN_SIGN:case ae.EOF:{this._leaveAttrName(),this.state=ce.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ae.EQUALS_SIGN:{this._leaveAttrName(),this.state=ce.BEFORE_ATTRIBUTE_VALUE;break}case ae.QUOTATION_MARK:case ae.APOSTROPHE:case ae.LESS_THAN_SIGN:{this._err(qe.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.name+=gi;break}default:this.currentAttr.name+=String.fromCodePoint(WC(t)?DI(t):t)}}_stateAfterAttributeName(t){switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:break;case ae.SOLIDUS:{this.state=ce.SELF_CLOSING_START_TAG;break}case ae.EQUALS_SIGN:{this.state=ce.BEFORE_ATTRIBUTE_VALUE;break}case ae.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentTagToken();break}case ae.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ce.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:break;case ae.QUOTATION_MARK:{this.state=ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ae.APOSTROPHE:{this.state=ce.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ae.GREATER_THAN_SIGN:{this._err(qe.missingAttributeValue),this.state=ce.DATA,this.emitCurrentTagToken();break}default:this.state=ce.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ae.QUOTATION_MARK:{this.state=ce.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ae.AMPERSAND:{this.returnState=ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=ce.CHARACTER_REFERENCE;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.value+=gi;break}case ae.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ae.APOSTROPHE:{this.state=ce.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ae.AMPERSAND:{this.returnState=ce.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=ce.CHARACTER_REFERENCE;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.value+=gi;break}case ae.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:{this._leaveAttrValue(),this.state=ce.BEFORE_ATTRIBUTE_NAME;break}case ae.AMPERSAND:{this.returnState=ce.ATTRIBUTE_VALUE_UNQUOTED,this.state=ce.CHARACTER_REFERENCE;break}case ae.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ce.DATA,this.emitCurrentTagToken();break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.value+=gi;break}case ae.QUOTATION_MARK:case ae.APOSTROPHE:case ae.LESS_THAN_SIGN:case ae.EQUALS_SIGN:case ae.GRAVE_ACCENT:{this._err(qe.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ae.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:{this._leaveAttrValue(),this.state=ce.BEFORE_ATTRIBUTE_NAME;break}case ae.SOLIDUS:{this._leaveAttrValue(),this.state=ce.SELF_CLOSING_START_TAG;break}case ae.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ce.DATA,this.emitCurrentTagToken();break}case ae.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this._err(qe.missingWhitespaceBetweenAttributes),this.state=ce.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ae.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=ce.DATA,this.emitCurrentTagToken();break}case ae.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this._err(qe.unexpectedSolidusInTag),this.state=ce.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ae.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentComment(n);break}case ae.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),n.data+=gi;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(dl.DASH_DASH,!0)?(this._createCommentToken(dl.DASH_DASH.length+1),this.state=ce.COMMENT_START):this._consumeSequenceIfMatch(dl.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(dl.DOCTYPE.length+1),this.state=ce.DOCTYPE):this._consumeSequenceIfMatch(dl.CDATA_START,!0)?this.inForeignNode?this.state=ce.CDATA_SECTION:(this._err(qe.cdataInHtmlContent),this._createCommentToken(dl.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ce.BOGUS_COMMENT):this._ensureHibernation()||(this._err(qe.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ce.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ae.HYPHEN_MINUS:{this.state=ce.COMMENT_START_DASH;break}case ae.GREATER_THAN_SIGN:{this._err(qe.abruptClosingOfEmptyComment),this.state=ce.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ae.HYPHEN_MINUS:{this.state=ce.COMMENT_END;break}case ae.GREATER_THAN_SIGN:{this._err(qe.abruptClosingOfEmptyComment),this.state=ce.DATA,this.emitCurrentComment(n);break}case ae.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ce.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ae.HYPHEN_MINUS:{this.state=ce.COMMENT_END_DASH;break}case ae.LESS_THAN_SIGN:{n.data+="<",this.state=ce.COMMENT_LESS_THAN_SIGN;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),n.data+=gi;break}case ae.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ae.EXCLAMATION_MARK:{n.data+="!",this.state=ce.COMMENT_LESS_THAN_SIGN_BANG;break}case ae.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ae.HYPHEN_MINUS?this.state=ce.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ce.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ae.HYPHEN_MINUS?this.state=ce.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ce.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ae.GREATER_THAN_SIGN&&t!==ae.EOF&&this._err(qe.nestedComment),this.state=ce.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ae.HYPHEN_MINUS:{this.state=ce.COMMENT_END;break}case ae.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ae.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentComment(n);break}case ae.EXCLAMATION_MARK:{this.state=ce.COMMENT_END_BANG;break}case ae.HYPHEN_MINUS:{n.data+="-";break}case ae.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ae.HYPHEN_MINUS:{n.data+="--!",this.state=ce.COMMENT_END_DASH;break}case ae.GREATER_THAN_SIGN:{this._err(qe.incorrectlyClosedComment),this.state=ce.DATA,this.emitCurrentComment(n);break}case ae.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=ce.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:{this.state=ce.BEFORE_DOCTYPE_NAME;break}case ae.GREATER_THAN_SIGN:{this.state=ce.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ae.EOF:{this._err(qe.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingWhitespaceBeforeDoctypeName),this.state=ce.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(WC(t))this._createDoctypeToken(String.fromCharCode(DI(t))),this.state=ce.DOCTYPE_NAME;else switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:break;case ae.NULL:{this._err(qe.unexpectedNullCharacter),this._createDoctypeToken(gi),this.state=ce.DOCTYPE_NAME;break}case ae.GREATER_THAN_SIGN:{this._err(qe.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ce.DATA;break}case ae.EOF:{this._err(qe.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ce.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:{this.state=ce.AFTER_DOCTYPE_NAME;break}case ae.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentDoctype(n);break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),n.name+=gi;break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(WC(t)?DI(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:break;case ae.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentDoctype(n);break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(dl.PUBLIC,!1)?this.state=ce.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(dl.SYSTEM,!1)?this.state=ce.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(qe.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:{this.state=ce.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ae.QUOTATION_MARK:{this._err(qe.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ae.APOSTROPHE:{this._err(qe.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ae.GREATER_THAN_SIGN:{this._err(qe.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(n);break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:break;case ae.QUOTATION_MARK:{n.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ae.APOSTROPHE:{n.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ae.GREATER_THAN_SIGN:{this._err(qe.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(n);break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ae.QUOTATION_MARK:{this.state=ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),n.publicId+=gi;break}case ae.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ce.DATA;break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ae.APOSTROPHE:{this.state=ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),n.publicId+=gi;break}case ae.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ce.DATA;break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:{this.state=ce.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ae.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentDoctype(n);break}case ae.QUOTATION_MARK:{this._err(qe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ae.APOSTROPHE:{this._err(qe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:break;case ae.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ce.DATA;break}case ae.QUOTATION_MARK:{n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ae.APOSTROPHE:{n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:{this.state=ce.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ae.QUOTATION_MARK:{this._err(qe.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ae.APOSTROPHE:{this._err(qe.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ae.GREATER_THAN_SIGN:{this._err(qe.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(n);break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:break;case ae.QUOTATION_MARK:{n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ae.APOSTROPHE:{n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ae.GREATER_THAN_SIGN:{this._err(qe.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(n);break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ae.QUOTATION_MARK:{this.state=ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),n.systemId+=gi;break}case ae.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ce.DATA;break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ae.APOSTROPHE:{this.state=ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter),n.systemId+=gi;break}case ae.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ce.DATA;break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ae.SPACE:case ae.LINE_FEED:case ae.TABULATION:case ae.FORM_FEED:break;case ae.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ce.DATA;break}case ae.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ae.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ce.DATA;break}case ae.NULL:{this._err(qe.unexpectedNullCharacter);break}case ae.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ae.RIGHT_SQUARE_BRACKET:{this.state=ce.CDATA_SECTION_BRACKET;break}case ae.EOF:{this._err(qe.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ae.RIGHT_SQUARE_BRACKET?this.state=ce.CDATA_SECTION_END:(this._emitChars("]"),this.state=ce.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ae.GREATER_THAN_SIGN:{this.state=ce.DATA;break}case ae.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ce.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===ae.NUMBER_SIGN?this.state=ce.NUMERIC_CHARACTER_REFERENCE:T7(t)?(this.state=ce.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(ae.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(ae.AMPERSAND),this.state=ce.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){T7(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ae.SEMICOLON&&this._err(qe.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===ae.LATIN_SMALL_X||t===ae.LATIN_CAPITAL_X?this.state=ce.HEXADEMICAL_CHARACTER_REFERENCE_START:NS(t)?(this.state=ce.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(qe.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ae.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ae.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){zQe(t)?(this.state=ce.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(qe.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ae.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ae.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){Z1e(t)?this.charRefCode=this.charRefCode*16+t-55:ewe(t)?this.charRefCode=this.charRefCode*16+t-87:NS(t)?this.charRefCode=this.charRefCode*16+t-48:t===ae.SEMICOLON?this.state=ce.NUMERIC_CHARACTER_REFERENCE_END:(this._err(qe.missingSemicolonAfterCharacterReference),this.state=ce.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){NS(t)?this.charRefCode=this.charRefCode*10+t-48:t===ae.SEMICOLON?this.state=ce.NUMERIC_CHARACTER_REFERENCE_END:(this._err(qe.missingSemicolonAfterCharacterReference),this.state=ce.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===ae.NULL)this._err(qe.nullCharacterReference),this.charRefCode=ae.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(qe.characterReferenceOutsideUnicodeRange),this.charRefCode=ae.REPLACEMENT_CHARACTER;else if(W1e(this.charRefCode))this._err(qe.surrogateCharacterReference),this.charRefCode=ae.REPLACEMENT_CHARACTER;else if(Y1e(this.charRefCode))this._err(qe.noncharacterCharacterReference);else if(G1e(this.charRefCode)||this.charRefCode===ae.CARRIAGE_RETURN){this._err(qe.controlCharacterReference);const n=jQe.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const nwe=new Set([j.DD,j.DT,j.LI,j.OPTGROUP,j.OPTION,j.P,j.RB,j.RP,j.RT,j.RTC]),Tse=new Set([...nwe,j.CAPTION,j.COLGROUP,j.TBODY,j.TD,j.TFOOT,j.TH,j.THEAD,j.TR]),PI=new Map([[j.APPLET,rt.HTML],[j.CAPTION,rt.HTML],[j.HTML,rt.HTML],[j.MARQUEE,rt.HTML],[j.OBJECT,rt.HTML],[j.TABLE,rt.HTML],[j.TD,rt.HTML],[j.TEMPLATE,rt.HTML],[j.TH,rt.HTML],[j.ANNOTATION_XML,rt.MATHML],[j.MI,rt.MATHML],[j.MN,rt.MATHML],[j.MO,rt.MATHML],[j.MS,rt.MATHML],[j.MTEXT,rt.MATHML],[j.DESC,rt.SVG],[j.FOREIGN_OBJECT,rt.SVG],[j.TITLE,rt.SVG]]),qQe=[j.H1,j.H2,j.H3,j.H4,j.H5,j.H6],VQe=[j.TR,j.TEMPLATE,j.HTML],WQe=[j.TBODY,j.TFOOT,j.THEAD,j.TEMPLATE,j.HTML],GQe=[j.TABLE,j.TEMPLATE,j.HTML],YQe=[j.TD,j.TH];class KQe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=j.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===j.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===rt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==rt.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(qQe,rt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(YQe,rt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(GQe,rt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(WQe,rt.HTML)}clearBackToTableRowContext(){this.clearBackTo(VQe,rt.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===j.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===j.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===rt.HTML)return!0;if(PI.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(J1e(n)&&r===rt.HTML)return!0;if(PI.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===rt.HTML)return!0;if((r===j.UL||r===j.OL)&&i===rt.HTML||PI.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===rt.HTML)return!0;if(r===j.BUTTON&&i===rt.HTML||PI.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===rt.HTML){if(r===t)return!0;if(r===j.TABLE||r===j.TEMPLATE||r===j.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===rt.HTML){if(n===j.TBODY||n===j.THEAD||n===j.TFOOT)return!0;if(n===j.TABLE||n===j.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===rt.HTML){if(r===t)return!0;if(r!==j.OPTION&&r!==j.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;nwe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Tse.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Tse.has(this.currentTagId);)this.pop()}}const c8=3;var Vc;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Vc=Vc||(Vc={}));const Ase={type:Vc.Marker};class XQe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===Vc.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===o){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<c8)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<c8)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=c8&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(Ase)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Vc.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Vc.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Ase);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Vc.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Vc.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Vc.Element&&n.element===t)}}function kse(e){return{nodeName:"#text",value:e,parentNode:null}}const gw={createDocument(){return{nodeName:"#document",mode:Kl.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};gw.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(gw.isTextNode(n)){n.value+=t;return}}gw.appendChild(e,kse(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&gw.isTextNode(r)?r.value+=t:gw.insertBefore(e,kse(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},rwe="html",QQe="about:legacy-compat",JQe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",iwe=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],ZQe=[...iwe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],eJe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),swe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],tJe=[...swe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Ise(e,t){return t.some(n=>e.startsWith(n))}function nJe(e){return e.name===rwe&&e.publicId===null&&(e.systemId===null||e.systemId===QQe)}function rJe(e){if(e.name!==rwe)return Kl.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===JQe)return Kl.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),eJe.has(n))return Kl.QUIRKS;let r=t===null?ZQe:iwe;if(Ise(n,r))return Kl.QUIRKS;if(r=t===null?swe:tJe,Ise(n,r))return Kl.LIMITED_QUIRKS}return Kl.NO_QUIRKS}const Rse={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},iJe="definitionurl",sJe="definitionURL",oJe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),aJe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:rt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:rt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:rt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:rt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:rt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:rt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:rt.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:rt.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:rt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:rt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:rt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:rt.XMLNS}]]),lJe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),uJe=new Set([j.B,j.BIG,j.BLOCKQUOTE,j.BODY,j.BR,j.CENTER,j.CODE,j.DD,j.DIV,j.DL,j.DT,j.EM,j.EMBED,j.H1,j.H2,j.H3,j.H4,j.H5,j.H6,j.HEAD,j.HR,j.I,j.IMG,j.LI,j.LISTING,j.MENU,j.META,j.NOBR,j.OL,j.P,j.PRE,j.RUBY,j.S,j.SMALL,j.SPAN,j.STRONG,j.STRIKE,j.SUB,j.SUP,j.TABLE,j.TT,j.U,j.UL,j.VAR]);function cJe(e){const t=e.tagID;return t===j.FONT&&e.attrs.some(({name:r})=>r===P0.COLOR||r===P0.SIZE||r===P0.FACE)||uJe.has(t)}function owe(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===iJe){e.attrs[t].name=sJe;break}}function awe(e){for(let t=0;t<e.attrs.length;t++){const n=oJe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function fG(e){for(let t=0;t<e.attrs.length;t++){const n=aJe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function dJe(e){const t=lJe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=R_(e.tagName))}function fJe(e,t){return t===rt.MATHML&&(e===j.MI||e===j.MO||e===j.MN||e===j.MS||e===j.MTEXT)}function hJe(e,t,n){if(t===rt.MATHML&&e===j.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===P0.ENCODING){const i=n[r].value.toLowerCase();return i===Rse.TEXT_HTML||i===Rse.APPLICATION_XML}}return t===rt.SVG&&(e===j.FOREIGN_OBJECT||e===j.DESC||e===j.TITLE)}function pJe(e,t,n,r){return(!r||r===rt.HTML)&&hJe(e,t,n)||(!r||r===rt.MATHML)&&fJe(e,t)}const mJe="hidden",gJe=8,yJe=3;var ve;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ve||(ve={}));const vJe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},lwe=new Set([j.TABLE,j.TBODY,j.TFOOT,j.THEAD,j.TR]),Dse={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:gw,onParseError:null};let Pse=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=ve.INITIAL,this.originalInsertionMode=ve.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Dse,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new HQe(this.options,this),this.activeFormattingElements=new XQe(this.treeAdapter),this.fragmentContextID=r?R_(this.treeAdapter.getTagName(r)):j.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new KQe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Dse,...n};t??(t=r.treeAdapter.createElement(Fe.TEMPLATE,rt.HTML,[]));const i=r.treeAdapter.createElement("documentmock",rt.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===j.TEMPLATE&&s.tmplInsertionModeStack.unshift(ve.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:vJe,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===rt.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,rt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=ve.TEXT}switchToPlaintextParsing(){this.insertionMode=ve.TEXT,this.originalInsertionMode=ve.IN_BODY,this.tokenizer.state=Ji.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Fe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==rt.HTML))switch(this.fragmentContextID){case j.TITLE:case j.TEXTAREA:{this.tokenizer.state=Ji.RCDATA;break}case j.STYLE:case j.XMP:case j.IFRAME:case j.NOEMBED:case j.NOFRAMES:case j.NOSCRIPT:{this.tokenizer.state=Ji.RAWTEXT;break}case j.SCRIPT:{this.tokenizer.state=Ji.SCRIPT_DATA;break}case j.PLAINTEXT:{this.tokenizer.state=Ji.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,rt.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,rt.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Fe.HTML,rt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,j.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Fn.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===j.SVG&&this.treeAdapter.getTagName(n)===Fe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===rt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===j.MGLYPH||t.tagID===j.MALIGNMARK)&&!this._isIntegrationPoint(r,n,rt.HTML)}_processToken(t){switch(t.type){case Fn.CHARACTER:{this.onCharacter(t);break}case Fn.NULL_CHARACTER:{this.onNullCharacter(t);break}case Fn.COMMENT:{this.onComment(t);break}case Fn.DOCTYPE:{this.onDoctype(t);break}case Fn.START_TAG:{this._processStartTag(t);break}case Fn.END_TAG:{this.onEndTag(t);break}case Fn.EOF:{this.onEof(t);break}case Fn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return pJe(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Vc.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ve.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(j.P),this.openElements.popUntilTagNamePopped(j.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case j.TR:{this.insertionMode=ve.IN_ROW;return}case j.TBODY:case j.THEAD:case j.TFOOT:{this.insertionMode=ve.IN_TABLE_BODY;return}case j.CAPTION:{this.insertionMode=ve.IN_CAPTION;return}case j.COLGROUP:{this.insertionMode=ve.IN_COLUMN_GROUP;return}case j.TABLE:{this.insertionMode=ve.IN_TABLE;return}case j.BODY:{this.insertionMode=ve.IN_BODY;return}case j.FRAMESET:{this.insertionMode=ve.IN_FRAMESET;return}case j.SELECT:{this._resetInsertionModeForSelect(t);return}case j.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case j.HTML:{this.insertionMode=this.headElement?ve.AFTER_HEAD:ve.BEFORE_HEAD;return}case j.TD:case j.TH:{if(t>0){this.insertionMode=ve.IN_CELL;return}break}case j.HEAD:{if(t>0){this.insertionMode=ve.IN_HEAD;return}break}}this.insertionMode=ve.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===j.TEMPLATE)break;if(r===j.TABLE){this.insertionMode=ve.IN_SELECT_IN_TABLE;return}}this.insertionMode=ve.IN_SELECT}_isElementCausesFosterParenting(t){return lwe.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case j.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===rt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case j.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return LQe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){YZe(this,t);return}switch(this.insertionMode){case ve.INITIAL:{ZE(this,t);break}case ve.BEFORE_HTML:{$S(this,t);break}case ve.BEFORE_HEAD:{MS(this,t);break}case ve.IN_HEAD:{FS(this,t);break}case ve.IN_HEAD_NO_SCRIPT:{LS(this,t);break}case ve.AFTER_HEAD:{jS(this,t);break}case ve.IN_BODY:case ve.IN_CAPTION:case ve.IN_CELL:case ve.IN_TEMPLATE:{cwe(this,t);break}case ve.TEXT:case ve.IN_SELECT:case ve.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case ve.IN_TABLE:case ve.IN_TABLE_BODY:case ve.IN_ROW:{d8(this,t);break}case ve.IN_TABLE_TEXT:{gwe(this,t);break}case ve.IN_COLUMN_GROUP:{Y3(this,t);break}case ve.AFTER_BODY:{K3(this,t);break}case ve.AFTER_AFTER_BODY:{KD(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){GZe(this,t);return}switch(this.insertionMode){case ve.INITIAL:{ZE(this,t);break}case ve.BEFORE_HTML:{$S(this,t);break}case ve.BEFORE_HEAD:{MS(this,t);break}case ve.IN_HEAD:{FS(this,t);break}case ve.IN_HEAD_NO_SCRIPT:{LS(this,t);break}case ve.AFTER_HEAD:{jS(this,t);break}case ve.TEXT:{this._insertCharacters(t);break}case ve.IN_TABLE:case ve.IN_TABLE_BODY:case ve.IN_ROW:{d8(this,t);break}case ve.IN_COLUMN_GROUP:{Y3(this,t);break}case ve.AFTER_BODY:{K3(this,t);break}case ve.AFTER_AFTER_BODY:{KD(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){A7(this,t);return}switch(this.insertionMode){case ve.INITIAL:case ve.BEFORE_HTML:case ve.BEFORE_HEAD:case ve.IN_HEAD:case ve.IN_HEAD_NO_SCRIPT:case ve.AFTER_HEAD:case ve.IN_BODY:case ve.IN_TABLE:case ve.IN_CAPTION:case ve.IN_COLUMN_GROUP:case ve.IN_TABLE_BODY:case ve.IN_ROW:case ve.IN_CELL:case ve.IN_SELECT:case ve.IN_SELECT_IN_TABLE:case ve.IN_TEMPLATE:case ve.IN_FRAMESET:case ve.AFTER_FRAMESET:{A7(this,t);break}case ve.IN_TABLE_TEXT:{eC(this,t);break}case ve.AFTER_BODY:{SJe(this,t);break}case ve.AFTER_AFTER_BODY:case ve.AFTER_AFTER_FRAMESET:{TJe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case ve.INITIAL:{AJe(this,t);break}case ve.BEFORE_HEAD:case ve.IN_HEAD:case ve.IN_HEAD_NO_SCRIPT:case ve.AFTER_HEAD:{this._err(t,qe.misplacedDoctype);break}case ve.IN_TABLE_TEXT:{eC(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,qe.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?KZe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case ve.INITIAL:{ZE(this,t);break}case ve.BEFORE_HTML:{kJe(this,t);break}case ve.BEFORE_HEAD:{RJe(this,t);break}case ve.IN_HEAD:{Fd(this,t);break}case ve.IN_HEAD_NO_SCRIPT:{OJe(this,t);break}case ve.AFTER_HEAD:{$Je(this,t);break}case ve.IN_BODY:{va(this,t);break}case ve.IN_TABLE:{xx(this,t);break}case ve.IN_TABLE_TEXT:{eC(this,t);break}case ve.IN_CAPTION:{DZe(this,t);break}case ve.IN_COLUMN_GROUP:{mG(this,t);break}case ve.IN_TABLE_BODY:{w4(this,t);break}case ve.IN_ROW:{x4(this,t);break}case ve.IN_CELL:{NZe(this,t);break}case ve.IN_SELECT:{bwe(this,t);break}case ve.IN_SELECT_IN_TABLE:{MZe(this,t);break}case ve.IN_TEMPLATE:{LZe(this,t);break}case ve.AFTER_BODY:{BZe(this,t);break}case ve.IN_FRAMESET:{zZe(this,t);break}case ve.AFTER_FRAMESET:{HZe(this,t);break}case ve.AFTER_AFTER_BODY:{VZe(this,t);break}case ve.AFTER_AFTER_FRAMESET:{WZe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?XZe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case ve.INITIAL:{ZE(this,t);break}case ve.BEFORE_HTML:{IJe(this,t);break}case ve.BEFORE_HEAD:{DJe(this,t);break}case ve.IN_HEAD:{PJe(this,t);break}case ve.IN_HEAD_NO_SCRIPT:{NJe(this,t);break}case ve.AFTER_HEAD:{MJe(this,t);break}case ve.IN_BODY:{b4(this,t);break}case ve.TEXT:{xZe(this,t);break}case ve.IN_TABLE:{I2(this,t);break}case ve.IN_TABLE_TEXT:{eC(this,t);break}case ve.IN_CAPTION:{PZe(this,t);break}case ve.IN_COLUMN_GROUP:{OZe(this,t);break}case ve.IN_TABLE_BODY:{k7(this,t);break}case ve.IN_ROW:{vwe(this,t);break}case ve.IN_CELL:{$Ze(this,t);break}case ve.IN_SELECT:{wwe(this,t);break}case ve.IN_SELECT_IN_TABLE:{FZe(this,t);break}case ve.IN_TEMPLATE:{jZe(this,t);break}case ve.AFTER_BODY:{_we(this,t);break}case ve.IN_FRAMESET:{UZe(this,t);break}case ve.AFTER_FRAMESET:{qZe(this,t);break}case ve.AFTER_AFTER_BODY:{KD(this,t);break}}}onEof(t){switch(this.insertionMode){case ve.INITIAL:{ZE(this,t);break}case ve.BEFORE_HTML:{$S(this,t);break}case ve.BEFORE_HEAD:{MS(this,t);break}case ve.IN_HEAD:{FS(this,t);break}case ve.IN_HEAD_NO_SCRIPT:{LS(this,t);break}case ve.AFTER_HEAD:{jS(this,t);break}case ve.IN_BODY:case ve.IN_TABLE:case ve.IN_CAPTION:case ve.IN_COLUMN_GROUP:case ve.IN_TABLE_BODY:case ve.IN_ROW:case ve.IN_CELL:case ve.IN_SELECT:case ve.IN_SELECT_IN_TABLE:{pwe(this,t);break}case ve.TEXT:{_Ze(this,t);break}case ve.IN_TABLE_TEXT:{eC(this,t);break}case ve.IN_TEMPLATE:{xwe(this,t);break}case ve.AFTER_BODY:case ve.IN_FRAMESET:case ve.AFTER_FRAMESET:case ve.AFTER_AFTER_BODY:case ve.AFTER_AFTER_FRAMESET:{pG(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ae.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case ve.IN_HEAD:case ve.IN_HEAD_NO_SCRIPT:case ve.AFTER_HEAD:case ve.TEXT:case ve.IN_COLUMN_GROUP:case ve.IN_SELECT:case ve.IN_SELECT_IN_TABLE:case ve.IN_FRAMESET:case ve.AFTER_FRAMESET:{this._insertCharacters(t);break}case ve.IN_BODY:case ve.IN_CAPTION:case ve.IN_CELL:case ve.IN_TEMPLATE:case ve.AFTER_BODY:case ve.AFTER_AFTER_BODY:case ve.AFTER_AFTER_FRAMESET:{uwe(this,t);break}case ve.IN_TABLE:case ve.IN_TABLE_BODY:case ve.IN_ROW:{d8(this,t);break}case ve.IN_TABLE_TEXT:{mwe(this,t);break}}}};function bJe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):hwe(e,t),n}function wJe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function xJe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),l=a&&s>=yJe;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=_Je(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function _Je(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function EJe(e,t,n){const r=e.treeAdapter.getTagName(t),i=R_(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===j.TEMPLATE&&s===rt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function CJe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function hG(e,t){for(let n=0;n<gJe;n++){const r=bJe(e,t);if(!r)break;const i=wJe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=xJe(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&EJe(e,o,s),CJe(e,i,r)}}function A7(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function SJe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function TJe(e,t){e._appendCommentNode(t,e.document)}function pG(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function AJe(e,t){e._setDocumentType(t);const n=t.forceQuirks?Kl.QUIRKS:rJe(t);nJe(t)||e._err(t,qe.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=ve.BEFORE_HTML}function ZE(e,t){e._err(t,qe.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Kl.QUIRKS),e.insertionMode=ve.BEFORE_HTML,e._processToken(t)}function kJe(e,t){t.tagID===j.HTML?(e._insertElement(t,rt.HTML),e.insertionMode=ve.BEFORE_HEAD):$S(e,t)}function IJe(e,t){const n=t.tagID;(n===j.HTML||n===j.HEAD||n===j.BODY||n===j.BR)&&$S(e,t)}function $S(e,t){e._insertFakeRootElement(),e.insertionMode=ve.BEFORE_HEAD,e._processToken(t)}function RJe(e,t){switch(t.tagID){case j.HTML:{va(e,t);break}case j.HEAD:{e._insertElement(t,rt.HTML),e.headElement=e.openElements.current,e.insertionMode=ve.IN_HEAD;break}default:MS(e,t)}}function DJe(e,t){const n=t.tagID;n===j.HEAD||n===j.BODY||n===j.HTML||n===j.BR?MS(e,t):e._err(t,qe.endTagWithoutMatchingOpenElement)}function MS(e,t){e._insertFakeElement(Fe.HEAD,j.HEAD),e.headElement=e.openElements.current,e.insertionMode=ve.IN_HEAD,e._processToken(t)}function Fd(e,t){switch(t.tagID){case j.HTML:{va(e,t);break}case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:{e._appendElement(t,rt.HTML),t.ackSelfClosing=!0;break}case j.TITLE:{e._switchToTextParsing(t,Ji.RCDATA);break}case j.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Ji.RAWTEXT):(e._insertElement(t,rt.HTML),e.insertionMode=ve.IN_HEAD_NO_SCRIPT);break}case j.NOFRAMES:case j.STYLE:{e._switchToTextParsing(t,Ji.RAWTEXT);break}case j.SCRIPT:{e._switchToTextParsing(t,Ji.SCRIPT_DATA);break}case j.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ve.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ve.IN_TEMPLATE);break}case j.HEAD:{e._err(t,qe.misplacedStartTagForHeadElement);break}default:FS(e,t)}}function PJe(e,t){switch(t.tagID){case j.HEAD:{e.openElements.pop(),e.insertionMode=ve.AFTER_HEAD;break}case j.BODY:case j.BR:case j.HTML:{FS(e,t);break}case j.TEMPLATE:{Eb(e,t);break}default:e._err(t,qe.endTagWithoutMatchingOpenElement)}}function Eb(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==j.TEMPLATE&&e._err(t,qe.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(j.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,qe.endTagWithoutMatchingOpenElement)}function FS(e,t){e.openElements.pop(),e.insertionMode=ve.AFTER_HEAD,e._processToken(t)}function OJe(e,t){switch(t.tagID){case j.HTML:{va(e,t);break}case j.BASEFONT:case j.BGSOUND:case j.HEAD:case j.LINK:case j.META:case j.NOFRAMES:case j.STYLE:{Fd(e,t);break}case j.NOSCRIPT:{e._err(t,qe.nestedNoscriptInHead);break}default:LS(e,t)}}function NJe(e,t){switch(t.tagID){case j.NOSCRIPT:{e.openElements.pop(),e.insertionMode=ve.IN_HEAD;break}case j.BR:{LS(e,t);break}default:e._err(t,qe.endTagWithoutMatchingOpenElement)}}function LS(e,t){const n=t.type===Fn.EOF?qe.openElementsLeftAfterEof:qe.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=ve.IN_HEAD,e._processToken(t)}function $Je(e,t){switch(t.tagID){case j.HTML:{va(e,t);break}case j.BODY:{e._insertElement(t,rt.HTML),e.framesetOk=!1,e.insertionMode=ve.IN_BODY;break}case j.FRAMESET:{e._insertElement(t,rt.HTML),e.insertionMode=ve.IN_FRAMESET;break}case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:case j.NOFRAMES:case j.SCRIPT:case j.STYLE:case j.TEMPLATE:case j.TITLE:{e._err(t,qe.abandonedHeadElementChild),e.openElements.push(e.headElement,j.HEAD),Fd(e,t),e.openElements.remove(e.headElement);break}case j.HEAD:{e._err(t,qe.misplacedStartTagForHeadElement);break}default:jS(e,t)}}function MJe(e,t){switch(t.tagID){case j.BODY:case j.HTML:case j.BR:{jS(e,t);break}case j.TEMPLATE:{Eb(e,t);break}default:e._err(t,qe.endTagWithoutMatchingOpenElement)}}function jS(e,t){e._insertFakeElement(Fe.BODY,j.BODY),e.insertionMode=ve.IN_BODY,v4(e,t)}function v4(e,t){switch(t.type){case Fn.CHARACTER:{cwe(e,t);break}case Fn.WHITESPACE_CHARACTER:{uwe(e,t);break}case Fn.COMMENT:{A7(e,t);break}case Fn.START_TAG:{va(e,t);break}case Fn.END_TAG:{b4(e,t);break}case Fn.EOF:{pwe(e,t);break}}}function uwe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function cwe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function FJe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function LJe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function jJe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,rt.HTML),e.insertionMode=ve.IN_FRAMESET)}function BJe(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,rt.HTML)}function zJe(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),J1e(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,rt.HTML)}function UJe(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,rt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function HJe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,rt.HTML),n||(e.formElement=e.openElements.current))}function qJe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===j.LI&&i===j.LI||(n===j.DD||n===j.DT)&&(i===j.DD||i===j.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==j.ADDRESS&&i!==j.DIV&&i!==j.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,rt.HTML)}function VJe(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,rt.HTML),e.tokenizer.state=Ji.PLAINTEXT}function WJe(e,t){e.openElements.hasInScope(j.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML),e.framesetOk=!1}function GJe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Fe.A);n&&(hG(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function YJe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function KJe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(j.NOBR)&&(hG(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,rt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function XJe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function QJe(e,t){e.treeAdapter.getDocumentMode(e.document)!==Kl.QUIRKS&&e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,rt.HTML),e.framesetOk=!1,e.insertionMode=ve.IN_TABLE}function dwe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,rt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function fwe(e){const t=K1e(e,P0.TYPE);return t!=null&&t.toLowerCase()===mJe}function JJe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,rt.HTML),fwe(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function ZJe(e,t){e._appendElement(t,rt.HTML),t.ackSelfClosing=!0}function eZe(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._appendElement(t,rt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function tZe(e,t){t.tagName=Fe.IMG,t.tagID=j.IMG,dwe(e,t)}function nZe(e,t){e._insertElement(t,rt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Ji.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ve.TEXT}function rZe(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Ji.RAWTEXT)}function iZe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Ji.RAWTEXT)}function Ose(e,t){e._switchToTextParsing(t,Ji.RAWTEXT)}function sZe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ve.IN_TABLE||e.insertionMode===ve.IN_CAPTION||e.insertionMode===ve.IN_TABLE_BODY||e.insertionMode===ve.IN_ROW||e.insertionMode===ve.IN_CELL?ve.IN_SELECT_IN_TABLE:ve.IN_SELECT}function oZe(e,t){e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML)}function aZe(e,t){e.openElements.hasInScope(j.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,rt.HTML)}function lZe(e,t){e.openElements.hasInScope(j.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(j.RTC),e._insertElement(t,rt.HTML)}function uZe(e,t){e._reconstructActiveFormattingElements(),owe(t),fG(t),t.selfClosing?e._appendElement(t,rt.MATHML):e._insertElement(t,rt.MATHML),t.ackSelfClosing=!0}function cZe(e,t){e._reconstructActiveFormattingElements(),awe(t),fG(t),t.selfClosing?e._appendElement(t,rt.SVG):e._insertElement(t,rt.SVG),t.ackSelfClosing=!0}function Nse(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML)}function va(e,t){switch(t.tagID){case j.I:case j.S:case j.B:case j.U:case j.EM:case j.TT:case j.BIG:case j.CODE:case j.FONT:case j.SMALL:case j.STRIKE:case j.STRONG:{YJe(e,t);break}case j.A:{GJe(e,t);break}case j.H1:case j.H2:case j.H3:case j.H4:case j.H5:case j.H6:{zJe(e,t);break}case j.P:case j.DL:case j.OL:case j.UL:case j.DIV:case j.DIR:case j.NAV:case j.MAIN:case j.MENU:case j.ASIDE:case j.CENTER:case j.FIGURE:case j.FOOTER:case j.HEADER:case j.HGROUP:case j.DIALOG:case j.DETAILS:case j.ADDRESS:case j.ARTICLE:case j.SECTION:case j.SUMMARY:case j.FIELDSET:case j.BLOCKQUOTE:case j.FIGCAPTION:{BJe(e,t);break}case j.LI:case j.DD:case j.DT:{qJe(e,t);break}case j.BR:case j.IMG:case j.WBR:case j.AREA:case j.EMBED:case j.KEYGEN:{dwe(e,t);break}case j.HR:{eZe(e,t);break}case j.RB:case j.RTC:{aZe(e,t);break}case j.RT:case j.RP:{lZe(e,t);break}case j.PRE:case j.LISTING:{UJe(e,t);break}case j.XMP:{rZe(e,t);break}case j.SVG:{cZe(e,t);break}case j.HTML:{FJe(e,t);break}case j.BASE:case j.LINK:case j.META:case j.STYLE:case j.TITLE:case j.SCRIPT:case j.BGSOUND:case j.BASEFONT:case j.TEMPLATE:{Fd(e,t);break}case j.BODY:{LJe(e,t);break}case j.FORM:{HJe(e,t);break}case j.NOBR:{KJe(e,t);break}case j.MATH:{uZe(e,t);break}case j.TABLE:{QJe(e,t);break}case j.INPUT:{JJe(e,t);break}case j.PARAM:case j.TRACK:case j.SOURCE:{ZJe(e,t);break}case j.IMAGE:{tZe(e,t);break}case j.BUTTON:{WJe(e,t);break}case j.APPLET:case j.OBJECT:case j.MARQUEE:{XJe(e,t);break}case j.IFRAME:{iZe(e,t);break}case j.SELECT:{sZe(e,t);break}case j.OPTION:case j.OPTGROUP:{oZe(e,t);break}case j.NOEMBED:{Ose(e,t);break}case j.FRAMESET:{jJe(e,t);break}case j.TEXTAREA:{nZe(e,t);break}case j.NOSCRIPT:{e.options.scriptingEnabled?Ose(e,t):Nse(e,t);break}case j.PLAINTEXT:{VJe(e,t);break}case j.COL:case j.TH:case j.TD:case j.TR:case j.HEAD:case j.FRAME:case j.TBODY:case j.TFOOT:case j.THEAD:case j.CAPTION:case j.COLGROUP:break;default:Nse(e,t)}}function dZe(e,t){if(e.openElements.hasInScope(j.BODY)&&(e.insertionMode=ve.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function fZe(e,t){e.openElements.hasInScope(j.BODY)&&(e.insertionMode=ve.AFTER_BODY,_we(e,t))}function hZe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function pZe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(j.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(j.FORM):n&&e.openElements.remove(n))}function mZe(e){e.openElements.hasInButtonScope(j.P)||e._insertFakeElement(Fe.P,j.P),e._closePElement()}function gZe(e){e.openElements.hasInListItemScope(j.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(j.LI),e.openElements.popUntilTagNamePopped(j.LI))}function yZe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function vZe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function bZe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function wZe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Fe.BR,j.BR),e.openElements.pop(),e.framesetOk=!1}function hwe(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==j.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function b4(e,t){switch(t.tagID){case j.A:case j.B:case j.I:case j.S:case j.U:case j.EM:case j.TT:case j.BIG:case j.CODE:case j.FONT:case j.NOBR:case j.SMALL:case j.STRIKE:case j.STRONG:{hG(e,t);break}case j.P:{mZe(e);break}case j.DL:case j.UL:case j.OL:case j.DIR:case j.DIV:case j.NAV:case j.PRE:case j.MAIN:case j.MENU:case j.ASIDE:case j.BUTTON:case j.CENTER:case j.FIGURE:case j.FOOTER:case j.HEADER:case j.HGROUP:case j.DIALOG:case j.ADDRESS:case j.ARTICLE:case j.DETAILS:case j.SECTION:case j.SUMMARY:case j.LISTING:case j.FIELDSET:case j.BLOCKQUOTE:case j.FIGCAPTION:{hZe(e,t);break}case j.LI:{gZe(e);break}case j.DD:case j.DT:{yZe(e,t);break}case j.H1:case j.H2:case j.H3:case j.H4:case j.H5:case j.H6:{vZe(e);break}case j.BR:{wZe(e);break}case j.BODY:{dZe(e,t);break}case j.HTML:{fZe(e,t);break}case j.FORM:{pZe(e);break}case j.APPLET:case j.OBJECT:case j.MARQUEE:{bZe(e,t);break}case j.TEMPLATE:{Eb(e,t);break}default:hwe(e,t)}}function pwe(e,t){e.tmplInsertionModeStack.length>0?xwe(e,t):pG(e,t)}function xZe(e,t){var n;t.tagID===j.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function _Ze(e,t){e._err(t,qe.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function d8(e,t){if(lwe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ve.IN_TABLE_TEXT,t.type){case Fn.CHARACTER:{gwe(e,t);break}case Fn.WHITESPACE_CHARACTER:{mwe(e,t);break}}else eA(e,t)}function EZe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,rt.HTML),e.insertionMode=ve.IN_CAPTION}function CZe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,rt.HTML),e.insertionMode=ve.IN_COLUMN_GROUP}function SZe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Fe.COLGROUP,j.COLGROUP),e.insertionMode=ve.IN_COLUMN_GROUP,mG(e,t)}function TZe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,rt.HTML),e.insertionMode=ve.IN_TABLE_BODY}function AZe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Fe.TBODY,j.TBODY),e.insertionMode=ve.IN_TABLE_BODY,w4(e,t)}function kZe(e,t){e.openElements.hasInTableScope(j.TABLE)&&(e.openElements.popUntilTagNamePopped(j.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function IZe(e,t){fwe(t)?e._appendElement(t,rt.HTML):eA(e,t),t.ackSelfClosing=!0}function RZe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,rt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function xx(e,t){switch(t.tagID){case j.TD:case j.TH:case j.TR:{AZe(e,t);break}case j.STYLE:case j.SCRIPT:case j.TEMPLATE:{Fd(e,t);break}case j.COL:{SZe(e,t);break}case j.FORM:{RZe(e,t);break}case j.TABLE:{kZe(e,t);break}case j.TBODY:case j.TFOOT:case j.THEAD:{TZe(e,t);break}case j.INPUT:{IZe(e,t);break}case j.CAPTION:{EZe(e,t);break}case j.COLGROUP:{CZe(e,t);break}default:eA(e,t)}}function I2(e,t){switch(t.tagID){case j.TABLE:{e.openElements.hasInTableScope(j.TABLE)&&(e.openElements.popUntilTagNamePopped(j.TABLE),e._resetInsertionMode());break}case j.TEMPLATE:{Eb(e,t);break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TBODY:case j.TD:case j.TFOOT:case j.TH:case j.THEAD:case j.TR:break;default:eA(e,t)}}function eA(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,v4(e,t),e.fosterParentingEnabled=n}function mwe(e,t){e.pendingCharacterTokens.push(t)}function gwe(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function eC(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)eA(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const ywe=new Set([j.CAPTION,j.COL,j.COLGROUP,j.TBODY,j.TD,j.TFOOT,j.TH,j.THEAD,j.TR]);function DZe(e,t){const n=t.tagID;ywe.has(n)?e.openElements.hasInTableScope(j.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ve.IN_TABLE,xx(e,t)):va(e,t)}function PZe(e,t){const n=t.tagID;switch(n){case j.CAPTION:case j.TABLE:{e.openElements.hasInTableScope(j.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ve.IN_TABLE,n===j.TABLE&&I2(e,t));break}case j.BODY:case j.COL:case j.COLGROUP:case j.HTML:case j.TBODY:case j.TD:case j.TFOOT:case j.TH:case j.THEAD:case j.TR:break;default:b4(e,t)}}function mG(e,t){switch(t.tagID){case j.HTML:{va(e,t);break}case j.COL:{e._appendElement(t,rt.HTML),t.ackSelfClosing=!0;break}case j.TEMPLATE:{Fd(e,t);break}default:Y3(e,t)}}function OZe(e,t){switch(t.tagID){case j.COLGROUP:{e.openElements.currentTagId===j.COLGROUP&&(e.openElements.pop(),e.insertionMode=ve.IN_TABLE);break}case j.TEMPLATE:{Eb(e,t);break}case j.COL:break;default:Y3(e,t)}}function Y3(e,t){e.openElements.currentTagId===j.COLGROUP&&(e.openElements.pop(),e.insertionMode=ve.IN_TABLE,e._processToken(t))}function w4(e,t){switch(t.tagID){case j.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,rt.HTML),e.insertionMode=ve.IN_ROW;break}case j.TH:case j.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Fe.TR,j.TR),e.insertionMode=ve.IN_ROW,x4(e,t);break}case j.CAPTION:case j.COL:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ve.IN_TABLE,xx(e,t));break}default:xx(e,t)}}function k7(e,t){const n=t.tagID;switch(t.tagID){case j.TBODY:case j.TFOOT:case j.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ve.IN_TABLE);break}case j.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ve.IN_TABLE,I2(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TD:case j.TH:case j.TR:break;default:I2(e,t)}}function x4(e,t){switch(t.tagID){case j.TH:case j.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,rt.HTML),e.insertionMode=ve.IN_CELL,e.activeFormattingElements.insertMarker();break}case j.CAPTION:case j.COL:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:case j.TR:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ve.IN_TABLE_BODY,w4(e,t));break}default:xx(e,t)}}function vwe(e,t){switch(t.tagID){case j.TR:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ve.IN_TABLE_BODY);break}case j.TABLE:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ve.IN_TABLE_BODY,k7(e,t));break}case j.TBODY:case j.TFOOT:case j.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(j.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ve.IN_TABLE_BODY,k7(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TD:case j.TH:break;default:I2(e,t)}}function NZe(e,t){const n=t.tagID;ywe.has(n)?(e.openElements.hasInTableScope(j.TD)||e.openElements.hasInTableScope(j.TH))&&(e._closeTableCell(),x4(e,t)):va(e,t)}function $Ze(e,t){const n=t.tagID;switch(n){case j.TD:case j.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ve.IN_ROW);break}case j.TABLE:case j.TBODY:case j.TFOOT:case j.THEAD:case j.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),vwe(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:break;default:b4(e,t)}}function bwe(e,t){switch(t.tagID){case j.HTML:{va(e,t);break}case j.OPTION:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e._insertElement(t,rt.HTML);break}case j.OPTGROUP:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop(),e._insertElement(t,rt.HTML);break}case j.INPUT:case j.KEYGEN:case j.TEXTAREA:case j.SELECT:{e.openElements.hasInSelectScope(j.SELECT)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),t.tagID!==j.SELECT&&e._processStartTag(t));break}case j.SCRIPT:case j.TEMPLATE:{Fd(e,t);break}}}function wwe(e,t){switch(t.tagID){case j.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===j.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===j.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop();break}case j.OPTION:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop();break}case j.SELECT:{e.openElements.hasInSelectScope(j.SELECT)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode());break}case j.TEMPLATE:{Eb(e,t);break}}}function MZe(e,t){const n=t.tagID;n===j.CAPTION||n===j.TABLE||n===j.TBODY||n===j.TFOOT||n===j.THEAD||n===j.TR||n===j.TD||n===j.TH?(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),e._processStartTag(t)):bwe(e,t)}function FZe(e,t){const n=t.tagID;n===j.CAPTION||n===j.TABLE||n===j.TBODY||n===j.TFOOT||n===j.THEAD||n===j.TR||n===j.TD||n===j.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),e.onEndTag(t)):wwe(e,t)}function LZe(e,t){switch(t.tagID){case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:case j.NOFRAMES:case j.SCRIPT:case j.STYLE:case j.TEMPLATE:case j.TITLE:{Fd(e,t);break}case j.CAPTION:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:{e.tmplInsertionModeStack[0]=ve.IN_TABLE,e.insertionMode=ve.IN_TABLE,xx(e,t);break}case j.COL:{e.tmplInsertionModeStack[0]=ve.IN_COLUMN_GROUP,e.insertionMode=ve.IN_COLUMN_GROUP,mG(e,t);break}case j.TR:{e.tmplInsertionModeStack[0]=ve.IN_TABLE_BODY,e.insertionMode=ve.IN_TABLE_BODY,w4(e,t);break}case j.TD:case j.TH:{e.tmplInsertionModeStack[0]=ve.IN_ROW,e.insertionMode=ve.IN_ROW,x4(e,t);break}default:e.tmplInsertionModeStack[0]=ve.IN_BODY,e.insertionMode=ve.IN_BODY,va(e,t)}}function jZe(e,t){t.tagID===j.TEMPLATE&&Eb(e,t)}function xwe(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(j.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):pG(e,t)}function BZe(e,t){t.tagID===j.HTML?va(e,t):K3(e,t)}function _we(e,t){var n;if(t.tagID===j.HTML){if(e.fragmentContext||(e.insertionMode=ve.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===j.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else K3(e,t)}function K3(e,t){e.insertionMode=ve.IN_BODY,v4(e,t)}function zZe(e,t){switch(t.tagID){case j.HTML:{va(e,t);break}case j.FRAMESET:{e._insertElement(t,rt.HTML);break}case j.FRAME:{e._appendElement(t,rt.HTML),t.ackSelfClosing=!0;break}case j.NOFRAMES:{Fd(e,t);break}}}function UZe(e,t){t.tagID===j.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==j.FRAMESET&&(e.insertionMode=ve.AFTER_FRAMESET))}function HZe(e,t){switch(t.tagID){case j.HTML:{va(e,t);break}case j.NOFRAMES:{Fd(e,t);break}}}function qZe(e,t){t.tagID===j.HTML&&(e.insertionMode=ve.AFTER_AFTER_FRAMESET)}function VZe(e,t){t.tagID===j.HTML?va(e,t):KD(e,t)}function KD(e,t){e.insertionMode=ve.IN_BODY,v4(e,t)}function WZe(e,t){switch(t.tagID){case j.HTML:{va(e,t);break}case j.NOFRAMES:{Fd(e,t);break}}}function GZe(e,t){t.chars=gi,e._insertCharacters(t)}function YZe(e,t){e._insertCharacters(t),e.framesetOk=!1}function Ewe(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==rt.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function KZe(e,t){if(cJe(t))Ewe(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===rt.MATHML?owe(t):r===rt.SVG&&(dJe(t),awe(t)),fG(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function XZe(e,t){if(t.tagID===j.P||t.tagID===j.BR){Ewe(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===rt.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Fe.AREA,Fe.BASE,Fe.BASEFONT,Fe.BGSOUND,Fe.BR,Fe.COL,Fe.EMBED,Fe.FRAME,Fe.HR,Fe.IMG,Fe.INPUT,Fe.KEYGEN,Fe.LINK,Fe.META,Fe.PARAM,Fe.SOURCE,Fe.TRACK,Fe.WBR;const QZe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),$se={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Cwe(e,t){const n=aet(e),r=q1e("type",{handlers:{root:JZe,element:ZZe,text:eet,comment:Twe,doctype:tet,raw:ret},unknown:iet}),i={parser:n?new Pse($se):Pse.getFragmentParser(void 0,$se),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),D_(i,dh());const s=n?i.parser.document:i.parser.getFragment(),o=uQe(s,{file:i.options.file});return i.stitches&&y4(o,"comment",function(a,l,u){const c=a;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function Swe(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function JZe(e,t){Swe(e.children,t)}function ZZe(e,t){set(e,t),Swe(e.children,t),oet(e,t)}function eet(e,t){const n={type:Fn.CHARACTER,chars:e.value,location:tA(e)};D_(t,dh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function tet(e,t){const n={type:Fn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:tA(e)};D_(t,dh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function net(e,t){t.stitches=!0;const n=uet(e);if("children"in e&&"children"in n){const r=Cwe({type:"root",children:e.children},t.options);n.children=r.children}Twe({type:"comment",value:{stitch:n}},t)}function Twe(e,t){const n=e.value,r={type:Fn.COMMENT,data:n,location:tA(e)};D_(t,dh(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function ret(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Awe(t,dh(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function iet(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))net(n,t);else{let r="";throw QZe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function D_(e,t){Awe(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Ji.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Awe(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function set(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Ji.PLAINTEXT)return;D_(t,dh(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:ev.html;i===ev.html&&n==="svg"&&(i=ev.svg);const s=pQe({...e,children:[]},{space:i===ev.svg?"svg":"html"}),o={type:Fn.START_TAG,tagName:n,tagID:R_(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:tA(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function oet(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&_Qe.includes(n)||t.parser.tokenizer.state===Ji.PLAINTEXT)return;D_(t,d4(e));const r={type:Fn.END_TAG,tagName:n,tagID:R_(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:tA(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Ji.RCDATA||t.parser.tokenizer.state===Ji.RAWTEXT||t.parser.tokenizer.state===Ji.SCRIPT_DATA)&&(t.parser.tokenizer.state=Ji.DATA)}function aet(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function tA(e){const t=dh(e)||{line:void 0,column:void 0,offset:void 0},n=d4(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function uet(e){return"children"in e?wx({...e,children:[]}):wx(e)}function cet(e){return function(t,n){return Cwe(t,{...e,file:n})}}function Mse(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function det(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function fet(e,t,n){const i=m4((n||{}).ignore||[]),s=het(t);let o=-1;for(;++o<s.length;)j1e(e,"text",a);function a(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],p=f?f.children:void 0;if(i(h,p?p.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=s[o][0],h=s[o][1];let p=0;const g=d.children.indexOf(u);let y=!1,v=[];f.lastIndex=0;let w=f.exec(u.value);for(;w;){const E=w.index,C={index:w.index,input:w.input,stack:[...c,u]};let S=h(...w,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=E+1:(p!==E&&v.push({type:"text",value:u.value.slice(p,E)}),Array.isArray(S)?v.push(...S):S&&v.push(S),p=E+w[0].length,y=!0),!f.global)break;w=f.exec(u.value)}return y?(p<u.value.length&&v.push({type:"text",value:u.value.slice(p)}),d.children.splice(g,1,...v)):v=[u],g+v.length}}function het(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([pet(i[0]),met(i[1])])}return t}function pet(e){return typeof e=="string"?new RegExp(det(e),"g"):e}function met(e){return typeof e=="function"?e:function(){return e}}const f8="phrasing",h8=["autolink","link","image","label"];function get(){return{transforms:[Eet],enter:{literalAutolink:vet,literalAutolinkEmail:p8,literalAutolinkHttp:p8,literalAutolinkWww:p8},exit:{literalAutolink:_et,literalAutolinkEmail:xet,literalAutolinkHttp:bet,literalAutolinkWww:wet}}}function yet(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:f8,notInConstruct:h8},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:f8,notInConstruct:h8},{character:":",before:"[ps]",after:"\\/",inConstruct:f8,notInConstruct:h8}]}}function vet(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function p8(e){this.config.enter.autolinkProtocol.call(this,e)}function bet(e){this.config.exit.autolinkProtocol.call(this,e)}function wet(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function xet(e){this.config.exit.autolinkEmail.call(this,e)}function _et(e){this.exit(e)}function Eet(e){fet(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Cet],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Tet]],{ignore:["link","linkReference"]})}function Cet(e,t,n,r,i){let s="";if(!kwe(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!Aet(n)))return!1;const o=ket(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Tet(e,t,n,r){return!kwe(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Aet(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function ket(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Mse(e,"(");let s=Mse(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function kwe(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||kv(n)||f4(n))&&(!t||n!==47)}Iwe.peek=Fet;function Iet(){this.buffer()}function Ret(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Det(){this.buffer()}function Pet(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Oet(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=cd(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Net(e){this.exit(e)}function $et(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=cd(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Met(e){this.exit(e)}function Fet(){return"["}function Iwe(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Let(){return{enter:{gfmFootnoteCallString:Iet,gfmFootnoteCall:Ret,gfmFootnoteDefinitionLabelString:Det,gfmFootnoteDefinition:Pet},exit:{gfmFootnoteCallString:Oet,gfmFootnoteCall:Net,gfmFootnoteDefinitionLabelString:$et,gfmFootnoteDefinition:Met}}}function jet(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Iwe},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),c=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),c(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?Rwe:Bet))),u(),l}}function Bet(e,t,n){return t===0?e:Rwe(e,t,n)}function Rwe(e,t,n){return(n?"":"    ")+e}const zet=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Dwe.peek=Wet;function Uet(){return{canContainEols:["delete"],enter:{strikethrough:qet},exit:{strikethrough:Vet}}}function Het(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:zet}],handlers:{delete:Dwe}}}function qet(e){this.enter({type:"delete",children:[]},e)}function Vet(e){this.exit(e)}function Dwe(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function Wet(){return"~"}function Get(e){return e.length}function Yet(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Get,s=[],o=[],a=[],l=[];let u=0,c=-1;for(;++c<e.length;){const m=[],g=[];let y=-1;for(e[c].length>u&&(u=e[c].length);++y<e[c].length;){const v=Ket(e[c][y]);if(n.alignDelimiters!==!1){const w=i(v);g[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}m.push(v)}o[c]=m,a[c]=g}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=Fse(r[d]);else{const m=Fse(r);for(;++d<u;)s[d]=m}d=-1;const f=[],h=[];for(;++d<u;){const m=s[d];let g="",y="";m===99?(g=":",y=":"):m===108?g=":":m===114&&(y=":");let v=n.alignDelimiters===!1?1:Math.max(1,l[d]-g.length-y.length);const w=g+"-".repeat(v)+y;n.alignDelimiters!==!1&&(v=g.length+v+y.length,v>l[d]&&(l[d]=v),h[d]=v),f[d]=w}o.splice(1,0,f),a.splice(1,0,h),c=-1;const p=[];for(;++c<o.length;){const m=o[c],g=a[c];d=-1;const y=[];for(;++d<u;){const v=m[d]||"";let w="",E="";if(n.alignDelimiters!==!1){const C=l[d]-(g[d]||0),S=s[d];S===114?w=" ".repeat(C):S===99?C%2?(w=" ".repeat(C/2+.5),E=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),E=w):E=" ".repeat(C)}n.delimiterStart!==!1&&!d&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||d)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(v),n.alignDelimiters!==!1&&y.push(E),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&y.push("|")}p.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function Ket(e){return e==null?"":String(e)}function Fse(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Xet(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),Qet);return i(),o}function Qet(e,t,n){return">"+(n?"":" ")+e}function Jet(e,t){return Lse(e,t.inConstruct,!0)&&!Lse(e,t.notInConstruct,!1)}function Lse(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function jse(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Jet(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Zet(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function ett(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function ttt(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function ntt(e,t,n,r){const i=ttt(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(ett(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,rtt);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(Zet(s,i)+1,3)),u=n.enter("codeFenced");let c=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);c+=a.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);c+=a.move(" "),c+=a.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),s&&(c+=a.move(s+`
`)),c+=a.move(l),u(),c}function rtt(e,t,n){return(n?"":"    ")+e}function gG(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function itt(e,t,n,r){const i=gG(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function stt(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}Pwe.peek=ott;function Pwe(e,t,n,r){const i=stt(n),s=n.enter("emphasis"),o=n.createTracker(r);let a=o.move(i);return a+=o.move(n.containerPhrasing(e,{before:a,after:i,...o.current()})),a+=o.move(i),s(),a}function ott(e,t,n){return n.options.emphasis||"*"}function att(e,t){let n=!1;return y4(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,b7}),!!((!e.depth||e.depth<3)&&nG(e)&&(t.options.setext||n))}function ltt(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(att(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}Owe.peek=utt;function Owe(e){return e.value||""}function utt(){return"<"}Nwe.peek=ctt;function Nwe(e,t,n,r){const i=gG(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function ctt(){return"!"}$we.peek=dtt;function $we(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function dtt(){return"!"}Mwe.peek=ftt;function Mwe(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function ftt(){return"`"}function Fwe(e,t){const n=nG(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Lwe.peek=htt;function Lwe(e,t,n,r){const i=gG(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(Fwe(e,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=c,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function htt(e,t,n){return Fwe(e,n)?"<":"["}jwe.peek=ptt;function jwe(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function ptt(){return"["}function yG(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function mtt(e){const t=yG(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function gtt(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Bwe(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ytt(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?gtt(n):yG(n);const a=e.ordered?o==="."?")":".":mtt(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Bwe(n)===o&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function vtt(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function btt(e,t,n,r){const i=vtt(n);let s=n.bulletCurrent||yG(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(o))+d:(h?s:s+" ".repeat(o-s.length))+d}}function wtt(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const xtt=m4(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function _tt(e,t,n,r){return(e.children.some(function(o){return xtt(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Ett(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}zwe.peek=Ctt;function zwe(e,t,n,r){const i=Ett(n),s=n.enter("strong"),o=n.createTracker(r);let a=o.move(i+i);return a+=o.move(n.containerPhrasing(e,{before:a,after:i,...o.current()})),a+=o.move(i+i),s(),a}function Ctt(e,t,n){return n.options.strong||"*"}function Stt(e,t,n,r){return n.safe(e.value,r)}function Ttt(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Att(e,t,n){const r=(Bwe(n)+(n.options.ruleSpaces?" ":"")).repeat(Ttt(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Uwe={blockquote:Xet,break:jse,code:ntt,definition:itt,emphasis:Pwe,hardBreak:jse,heading:ltt,html:Owe,image:Nwe,imageReference:$we,inlineCode:Mwe,link:Lwe,linkReference:jwe,list:ytt,listItem:btt,paragraph:wtt,root:_tt,strong:zwe,text:Stt,thematicBreak:Att};function ktt(){return{enter:{table:Itt,tableData:Bse,tableHeader:Bse,tableRow:Dtt},exit:{codeText:Ptt,table:Rtt,tableData:m8,tableHeader:m8,tableRow:m8}}}function Itt(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Rtt(e){this.exit(e),this.data.inTable=void 0}function Dtt(e){this.enter({type:"tableRow",children:[]},e)}function m8(e){this.exit(e)}function Bse(e){this.enter({type:"tableCell",children:[]},e)}function Ptt(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Ott));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Ott(e,t){return t==="|"?t:e}function Ntt(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(h,p,m,g){return u(c(h,m,g),h.align)}function a(h,p,m,g){const y=d(h,m,g),v=u([y]);return v.slice(0,v.indexOf(`
`))}function l(h,p,m,g){const y=m.enter("tableCell"),v=m.enter("phrasing"),w=m.containerPhrasing(h,{...g,before:s,after:s});return v(),y(),w}function u(h,p){return Yet(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(h,p,m){const g=h.children;let y=-1;const v=[],w=p.enter("table");for(;++y<g.length;)v[y]=d(g[y],p,m);return w(),v}function d(h,p,m){const g=h.children;let y=-1;const v=[],w=p.enter("tableRow");for(;++y<g.length;)v[y]=l(g[y],h,p,m);return w(),v}function f(h,p,m){let g=Uwe.inlineCode(h,p,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function $tt(){return{exit:{taskListCheckValueChecked:zse,taskListCheckValueUnchecked:zse,paragraph:Ftt}}}function Mtt(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ltt}}}function zse(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Ftt(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Ltt(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=Uwe.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+o}}function jtt(){return[get(),Let(),Uet(),ktt(),$tt()]}function Btt(e){return{extensions:[yet(),jet(e),Het(),Ntt(e),Mtt()]}}const ztt={tokenize:Gtt,partial:!0},Hwe={tokenize:Ytt,partial:!0},qwe={tokenize:Ktt,partial:!0},Vwe={tokenize:Xtt,partial:!0},Utt={tokenize:Qtt,partial:!0},Wwe={name:"wwwAutolink",tokenize:Vtt,previous:Ywe},Gwe={name:"protocolAutolink",tokenize:Wtt,previous:Kwe},dm={name:"emailAutolink",tokenize:qtt,previous:Xwe},fh={};function Htt(){return{text:fh}}let ay=48;for(;ay<123;)fh[ay]=dm,ay++,ay===58?ay=65:ay===91&&(ay=97);fh[43]=dm;fh[45]=dm;fh[46]=dm;fh[95]=dm;fh[72]=[dm,Gwe];fh[104]=[dm,Gwe];fh[87]=[dm,Wwe];fh[119]=[dm,Wwe];function qtt(e,t,n){const r=this;let i,s;return o;function o(d){return!I7(d)||!Xwe.call(r,r.previous)||vG(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return I7(d)?(e.consume(d),a):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(Utt,c,u)(d):d===45||d===95||sa(d)?(s=!0,e.consume(d),l):c(d)}function u(d){return e.consume(d),i=!0,l}function c(d){return s&&i&&Na(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function Vtt(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Ywe.call(r,r.previous)||vG(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ztt,e.attempt(Hwe,e.attempt(qwe,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Wtt(e,t,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&Kwe.call(r,r.previous)&&!vG(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(Na(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||q3(d)||ni(d)||kv(d)||f4(d)?n(d):e.attempt(Hwe,e.attempt(qwe,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function Gtt(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function Ytt(e,t,n){let r,i,s;return o;function o(u){return u===46||u===95?e.check(Vwe,l,a)(u):u===null||ni(u)||kv(u)||u!==45&&f4(u)?l(u):(s=!0,e.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function l(u){return i||r||!s?n(u):t(u)}}function Ktt(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Vwe,t,s)(o):o===null||ni(o)||kv(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function Xtt(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||ni(a)||kv(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||ni(a)||kv(a)?t(a):r(a)}function s(a){return Na(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):Na(a)?(e.consume(a),o):n(a)}}function Qtt(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return sa(s)?n(s):t(s)}}function Ywe(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ni(e)}function Kwe(e){return!Na(e)}function Xwe(e){return!(e===47||I7(e))}function I7(e){return e===43||e===45||e===46||e===95||sa(e)}function vG(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Jtt={tokenize:ont,partial:!0};function Ztt(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:rnt,continuation:{tokenize:int},exit:snt}},text:{91:{name:"gfmFootnoteCall",tokenize:nnt},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:ent,resolveTo:tnt}}}}function ent(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=cd(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function tnt(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function nnt(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||ni(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(cd(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return ni(d)||(o=!0),s++,e.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(e.consume(d),s++,u):u(d)}}function rnt(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(p)}function c(p){if(o>999||p===93&&!a||p===null||p===91||ni(p))return n(p);if(p===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return s=cd(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return ni(p)||(a=!0),o++,e.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(e.consume(p),o++,c):c(p)}function f(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),cr(e,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return t(p)}}function int(e,t,n){return e.check(JT,t,e.attempt(Jtt,t,n))}function snt(e){e.exit("gfmFootnoteDefinition")}function ont(e,t,n){const r=this;return cr(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function ant(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",c,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",d,a]],h=a.parser.constructs.insideSpan.null;h&&iu(f,f.length,0,h4(h,o.slice(u+1,l),a)),iu(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",c,a]]),iu(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,c=this.events;let d=0;return f;function f(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(o.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const m=V3(u);if(p===126)return d>1?l(p):(o.consume(p),d++,h);if(d<2&&!n)return l(p);const g=o.exit("strikethroughSequenceTemporary"),y=V3(p);return g._open=!y||y===2&&!!m,g._close=!m||m===2&&!!y,a(p)}}}class lnt{constructor(){this.map=[]}add(t,n,r){unt(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function unt(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function cnt(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function dnt(){return{flow:{null:{name:"table",tokenize:fnt,resolveAll:hnt}}}}function fnt(e,t,n){const r=this;let i=0,s=0,o;return a;function a(D){let O=r.events.length-1;for(;O>-1;){const L=r.events[O][1].type;if(L==="lineEnding"||L==="linePrefix")O--;else break}const M=O>-1?r.events[O][1].type:null,$=M==="tableHead"||M==="tableRow"?S:l;return $===S&&r.parser.lazy[r.now().line]?n(D):$(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),u(D)}function u(D){return D===124||(o=!0,s+=1),c(D)}function c(D){return D===null?n(D):cn(D)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),h):n(D):Wn(D)?cr(e,c,"whitespace")(D):(s+=1,o&&(o=!1,i+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),o=!0,c):(e.enter("data"),d(D)))}function d(D){return D===null||D===124||ni(D)?(e.exit("data"),c(D)):(e.consume(D),D===92?f:d)}function f(D){return D===92||D===124?(e.consume(D),d):d(D)}function h(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),o=!1,Wn(D)?cr(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):p(D))}function p(D){return D===45||D===58?g(D):D===124?(o=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),m):C(D)}function m(D){return Wn(D)?cr(e,g,"whitespace")(D):g(D)}function g(D){return D===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),y):D===45?(s+=1,y(D)):D===null||cn(D)?E(D):C(D)}function y(D){return D===45?(e.enter("tableDelimiterFiller"),v(D)):C(D)}function v(D){return D===45?(e.consume(D),v):D===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(D))}function w(D){return Wn(D)?cr(e,E,"whitespace")(D):E(D)}function E(D){return D===124?p(D):D===null||cn(D)?!o||i!==s?C(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):C(D)}function C(D){return n(D)}function S(D){return e.enter("tableRow"),T(D)}function T(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),T):D===null||cn(D)?(e.exit("tableRow"),t(D)):Wn(D)?cr(e,T,"whitespace")(D):(e.enter("data"),A(D))}function A(D){return D===null||D===124||ni(D)?(e.exit("data"),T(D)):(e.consume(D),D===92?I:A)}function I(D){return D===92||D===124?(e.consume(D),A):A(D)}}function hnt(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,c,d;const f=new lnt;for(;++n<e.length;){const h=e[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(a=!1,l!==0&&(Use(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",c,t]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=OI(f,t,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=OI(f,t,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):p.type==="tableHead"?(a=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=OI(f,t,s,i,n,d)):o[1]!==0&&(d=OI(f,t,o,i,n,d)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&Use(f,t,l,u,c),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=cnt(t.events,n))}return e}function OI(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},yw(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=yw(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=yw(t.events,n[2]),c=yw(t.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;e.add(p,m,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},yw(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function Use(e,t,n,r,i){const s=[],o=yw(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function yw(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const pnt={name:"tasklistCheck",tokenize:gnt};function mnt(){return{text:{91:pnt}}}function gnt(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return ni(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return cn(l)?t(l):Wn(l)?e.check({tokenize:ynt},t,n)(l):n(l)}}function ynt(e,t,n){return cr(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function vnt(e){return _1e([Htt(),Ztt(),ant(e),dnt(),mnt()])}const bnt={};function wnt(e){const t=this,n=e||bnt,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(vnt(n)),s.push(jtt()),o.push(Btt(n))}function Bp({text:e,required:t}){const n={img({node:l,width:u,height:c,...d}){return _.jsx(yg,{...d,h:c,w:u,ref:void 0})},p({node:l,...u}){return _.jsx(tt,{...u,pb:8,fw:"inherit",ref:void 0})},h1({node:l,...u}){return _.jsx(Ii,{...u,order:1,pb:12})},h2({node:l,...u}){return _.jsx(Ii,{...u,order:2,pb:12})},h3({node:l,...u}){return _.jsx(Ii,{...u,order:3,pb:12})},h4({node:l,...u}){return _.jsx(Ii,{...u,order:4,pb:12})},h5({node:l,...u}){return _.jsx(Ii,{...u,order:5,pb:12})},h6({node:l,...u}){return _.jsx(Ii,{...u,order:6,pb:12})},a({node:l,...u}){return _.jsx(gb,{...u,ref:void 0})},ul({node:l,...u}){return _.jsx(ud,{withPadding:!0,...u,pb:8})},ol({node:l,type:u,...c}){return _.jsx(ud,{...c,type:"ordered",withPadding:!0,pb:8})},table({node:l,...u}){return _.jsx(Vn,{...u,mb:12,borderColor:"grey"})},thead({node:l,...u}){return _.jsx(Vn.Thead,{...u})},tbody({node:l,...u}){return _.jsx(Vn.Tbody,{...u})},tr({node:l,...u}){return _.jsx(Vn.Tr,{...u})},th({node:l,...u}){return _.jsx(Vn.Th,{...u})},td({node:l,...u}){return _.jsx(Vn.Td,{...u})}},r=e.trim().split(" "),i=r.at(-1),o=i?`<span style="white-space: nowrap;">${i+(t?'<span style="color: #fa5252; margin-left: 4px">*</span>':"")}</span>`:"",a=`${r.slice(0,-1).join(" ")} ${o}`;return e.length>0&&_.jsx(XXe,{components:n,rehypePlugins:[cet],remarkPlugins:[wnt],children:a})}function XD({issues:e,type:t}){const n=`
    ${t==="error"?"There was an issue loading the study config. Please check the following issues:":"There were some warnings while loading the study config. Please check the following warnings:"}

    ${e.map(r=>`- You have ${t==="error"?"an error":"a warning"} at ${r.instancePath||"root"}: ${r.message} - ${JSON.stringify(r.params)}  `).join(`
`)}
  `.replace(/\n\s+/g,`
`);return _.jsx(Bp,{text:n})}const $1=14;function xnt({completed:e,inProgress:t,rejected:n}){return _.jsxs(Nt,{ml:4,gap:4,children:[_.jsx(zt,{label:"Completed",children:_.jsx(nu,{variant:"light",color:"green",leftSection:_.jsx(T2,{width:$1,height:$1,style:{paddingTop:1}}),pb:1,children:e})}),_.jsx(zt,{label:"In Progress",children:_.jsx(nu,{variant:"light",color:"orange",leftSection:_.jsx(e1e,{width:$1,height:$1,style:{paddingTop:1}}),pb:1,children:t})}),_.jsx(zt,{label:"Rejected",children:_.jsx(nu,{variant:"light",color:"red",leftSection:_.jsx(Av,{width:$1,height:$1,style:{paddingTop:1}}),pb:1,children:n})})]})}var Hse={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qwe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},_nt=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},bG={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qwe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):_nt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Ent;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ent extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cnt=function(e){const t=Qwe(e);return bG.encodeByteArray(t,!0)},Jwe=function(e){return Cnt(e).replace(/\./g,"")},Zwe=function(e){try{return bG.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Snt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tnt=()=>Snt().__FIREBASE_DEFAULTS__,Ant=()=>{if(typeof process>"u"||typeof Hse>"u")return;const e=Hse.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},knt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Zwe(e[1]);return t&&JSON.parse(t)},wG=()=>{try{return Tnt()||Ant()||knt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Int=e=>{var t,n;return(n=(t=wG())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},exe=()=>{var e;return(e=wG())===null||e===void 0?void 0:e.config},txe=e=>{var t;return(t=wG())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R7=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rnt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ha())}function Dnt(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pnt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ont(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nnt(){const e=Ha();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function nxe(){try{return typeof indexedDB=="object"}catch{return!1}}function $nt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mnt="FirebaseError";class hh extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Mnt,Object.setPrototypeOf(this,hh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P_.prototype.create)}}class P_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Fnt(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new hh(i,a,r)}}function Fnt(e,t){return e.replace(Lnt,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Lnt=/\{\$([^}]+)}/g;function jnt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function X3(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(qse(s)&&qse(o)){if(!X3(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qse(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Bnt(e,t){const n=new znt(e,t);return n.subscribe.bind(n)}class znt{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Unt(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=g8),i.error===void 0&&(i.error=g8),i.complete===void 0&&(i.complete=g8);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Unt(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function g8(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(e){return e&&e._delegate?e._delegate:e}class Xf{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hnt=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new R7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Vnt(t))try{this.getOrInitializeService({instanceIdentifier:Iy})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Iy){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Iy){return this.instances.has(t)}getOptions(t=Iy){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qnt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Iy){return this.component?this.component.multipleInstances?t:Iy:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qnt(e){return e===Iy?void 0:e}function Vnt(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wnt{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Hnt(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(zr||(zr={}));const Gnt={debug:zr.DEBUG,verbose:zr.VERBOSE,info:zr.INFO,warn:zr.WARN,error:zr.ERROR,silent:zr.SILENT},Ynt=zr.INFO,Knt={[zr.DEBUG]:"log",[zr.VERBOSE]:"log",[zr.INFO]:"info",[zr.WARN]:"warn",[zr.ERROR]:"error"},Xnt=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Knt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _4{constructor(t){this.name=t,this._logLevel=Ynt,this._logHandler=Xnt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Gnt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zr.DEBUG,...t),this._logHandler(this,zr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zr.VERBOSE,...t),this._logHandler(this,zr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zr.INFO,...t),this._logHandler(this,zr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zr.WARN,...t),this._logHandler(this,zr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zr.ERROR,...t),this._logHandler(this,zr.ERROR,...t)}}const Qnt=(e,t)=>t.some(n=>e instanceof n);let Vse,Wse;function Jnt(){return Vse||(Vse=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Znt(){return Wse||(Wse=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rxe=new WeakMap,D7=new WeakMap,ixe=new WeakMap,y8=new WeakMap,xG=new WeakMap;function ert(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(O0(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&rxe.set(n,e)}).catch(()=>{}),xG.set(t,e),t}function trt(e){if(D7.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});D7.set(e,t)}let P7={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return D7.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ixe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return O0(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function nrt(e){P7=e(P7)}function rrt(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(v8(this),t,...n);return ixe.set(r,t.sort?t.sort():[t]),O0(r)}:Znt().includes(e)?function(...t){return e.apply(v8(this),t),O0(rxe.get(this))}:function(...t){return O0(e.apply(v8(this),t))}}function irt(e){return typeof e=="function"?rrt(e):(e instanceof IDBTransaction&&trt(e),Qnt(e,Jnt())?new Proxy(e,P7):e)}function O0(e){if(e instanceof IDBRequest)return ert(e);if(y8.has(e))return y8.get(e);const t=irt(e);return t!==e&&(y8.set(e,t),xG.set(t,e)),t}const v8=e=>xG.get(e);function srt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=O0(o);return r&&o.addEventListener("upgradeneeded",l=>{r(O0(o.result),l.oldVersion,l.newVersion,O0(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ort=["get","getKey","getAll","getAllKeys","count"],art=["put","add","delete","clear"],b8=new Map;function Gse(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(b8.get(t))return b8.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=art.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ort.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return b8.set(t,s),s}nrt(e=>({...e,get:(t,n,r)=>Gse(t,n)||e.get(t,n,r),has:(t,n)=>!!Gse(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lrt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(urt(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function urt(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const O7="@firebase/app",Yse="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=new _4("@firebase/app"),crt="@firebase/app-compat",drt="@firebase/analytics-compat",frt="@firebase/analytics",hrt="@firebase/app-check-compat",prt="@firebase/app-check",mrt="@firebase/auth",grt="@firebase/auth-compat",yrt="@firebase/database",vrt="@firebase/data-connect",brt="@firebase/database-compat",wrt="@firebase/functions",xrt="@firebase/functions-compat",_rt="@firebase/installations",Ert="@firebase/installations-compat",Crt="@firebase/messaging",Srt="@firebase/messaging-compat",Trt="@firebase/performance",Art="@firebase/performance-compat",krt="@firebase/remote-config",Irt="@firebase/remote-config-compat",Rrt="@firebase/storage",Drt="@firebase/storage-compat",Prt="@firebase/firestore",Ort="@firebase/vertexai",Nrt="@firebase/firestore-compat",$rt="firebase",Mrt="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7="[DEFAULT]",Frt={[O7]:"fire-core",[crt]:"fire-core-compat",[frt]:"fire-analytics",[drt]:"fire-analytics-compat",[prt]:"fire-app-check",[hrt]:"fire-app-check-compat",[mrt]:"fire-auth",[grt]:"fire-auth-compat",[yrt]:"fire-rtdb",[vrt]:"fire-data-connect",[brt]:"fire-rtdb-compat",[wrt]:"fire-fn",[xrt]:"fire-fn-compat",[_rt]:"fire-iid",[Ert]:"fire-iid-compat",[Crt]:"fire-fcm",[Srt]:"fire-fcm-compat",[Trt]:"fire-perf",[Art]:"fire-perf-compat",[krt]:"fire-rc",[Irt]:"fire-rc-compat",[Rrt]:"fire-gcs",[Drt]:"fire-gcs-compat",[Prt]:"fire-fst",[Nrt]:"fire-fst-compat",[Ort]:"fire-vertex","fire-js":"fire-js",[$rt]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new Map,Lrt=new Map,$7=new Map;function Kse(e,t){try{e.container.addComponent(t)}catch(n){zp.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Up(e){const t=e.name;if($7.has(t))return zp.debug(`There were multiple attempts to register component ${t}.`),!1;$7.set(t,e);for(const n of Q3.values())Kse(n,e);for(const n of Lrt.values())Kse(n,e);return!0}function sxe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dp(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jrt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},N0=new P_("app","Firebase",jrt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Brt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw N0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=Mrt;function zrt(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:N7,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw N0.create("bad-app-name",{appName:String(i)});if(n||(n=exe()),!n)throw N0.create("no-options");const s=Q3.get(i);if(s){if(X3(n,s.options)&&X3(r,s.config))return s;throw N0.create("duplicate-app",{appName:i})}const o=new Wnt(i);for(const l of $7.values())o.addComponent(l);const a=new Brt(n,r,o);return Q3.set(i,a),a}function Urt(e=N7){const t=Q3.get(e);if(!t&&e===N7&&exe())return zrt();if(!t)throw N0.create("no-app",{appName:e});return t}function dd(e,t,n){var r;let i=(r=Frt[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zp.warn(a.join(" "));return}Up(new Xf(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hrt="firebase-heartbeat-database",qrt=1,R2="firebase-heartbeat-store";let w8=null;function oxe(){return w8||(w8=srt(Hrt,qrt,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(R2)}catch(n){console.warn(n)}}}}).catch(e=>{throw N0.create("idb-open",{originalErrorMessage:e.message})})),w8}async function Vrt(e){try{const n=(await oxe()).transaction(R2),r=await n.objectStore(R2).get(axe(e));return await n.done,r}catch(t){if(t instanceof hh)zp.warn(t.message);else{const n=N0.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zp.warn(n.message)}}}async function Xse(e,t){try{const r=(await oxe()).transaction(R2,"readwrite");await r.objectStore(R2).put(t,axe(e)),await r.done}catch(n){if(n instanceof hh)zp.warn(n.message);else{const r=N0.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zp.warn(r.message)}}}function axe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wrt=1024,Grt=30*24*60*60*1e3;class Yrt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xrt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qse();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Grt}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zp.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qse(),{heartbeatsToSend:r,unsentEntries:i}=Krt(this._heartbeatsCache.heartbeats),s=Jwe(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return zp.warn(n),""}}}function Qse(){return new Date().toISOString().substring(0,10)}function Krt(e,t=Wrt){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Jse(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jse(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xrt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nxe()?$nt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vrt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xse(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xse(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Jse(e){return Jwe(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qrt(e){Up(new Xf("platform-logger",t=>new lrt(t),"PRIVATE")),Up(new Xf("heartbeat",t=>new Yrt(t),"PRIVATE")),dd(O7,Yse,e),dd(O7,Yse,"esm2017"),dd("fire-js","")}Qrt("");function lxe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jrt=lxe,uxe=new P_("auth","Firebase",lxe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new _4("@firebase/auth");function Zrt(e,...t){J3.logLevel<=zr.WARN&&J3.warn(`Auth (${Cb}): ${e}`,...t)}function QD(e,...t){J3.logLevel<=zr.ERROR&&J3.error(`Auth (${Cb}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(e,...t){throw EG(e,...t)}function fd(e,...t){return EG(e,...t)}function _G(e,t,n){const r=Object.assign(Object.assign({},Jrt()),{[t]:n});return new P_("auth","Firebase",r).create(t,{appName:e.name})}function hv(e){return _G(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eit(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Qf(e,"argument-error"),_G(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function EG(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return uxe.create(e,...t)}function _n(e,t,...n){if(!e)throw EG(t,...n)}function fp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw QD(t),new Error(t)}function Hp(e,t){e||fp(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function tit(){return Zse()==="http:"||Zse()==="https:"}function Zse(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nit(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tit()||Pnt()||"connection"in navigator)?navigator.onLine:!0}function rit(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t,n){this.shortDelay=t,this.longDelay=n,Hp(n>t,"Short delay should be less than long delay!"),this.isMobile=Rnt()||Ont()}get(){return nit()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(e,t){Hp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cxe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iit={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sit=new rA(3e4,6e4);function SG(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function O_(e,t,n,r,i={}){return dxe(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=nA(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},s);return Dnt()||(u.referrerPolicy="no-referrer"),cxe.fetch()(fxe(e,e.config.apiHost,n,a),u)})}async function dxe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},iit),t);try{const i=new ait(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw NI(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw NI(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw NI(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw NI(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _G(e,c,u);Qf(e,c)}}catch(i){if(i instanceof hh)throw i;Qf(e,"network-request-failed",{message:String(i)})}}async function oit(e,t,n,r,i={}){const s=await O_(e,t,n,r,i);return"mfaPendingCredential"in s&&Qf(e,"multi-factor-auth-required",{_serverResponse:s}),s}function fxe(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?CG(e.config,i):`${e.config.apiScheme}://${i}`}class ait{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fd(this.auth,"network-request-failed")),sit.get())})}}function NI(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fd(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lit(e,t){return O_(e,"POST","/v1/accounts:delete",t)}async function hxe(e,t){return O_(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uit(e,t=!1){const n=xg(e),r=await n.getIdToken(t),i=TG(r);_n(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:BS(x8(i.auth_time)),issuedAtTime:BS(x8(i.iat)),expirationTime:BS(x8(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function x8(e){return Number(e)*1e3}function TG(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return QD("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zwe(n);return i?JSON.parse(i):(QD("Failed to decode base64 JWT payload"),null)}catch(i){return QD("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eoe(e){const t=TG(e);return _n(t,"internal-error"),_n(typeof t.exp<"u","internal-error"),_n(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof hh&&cit(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function cit({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dit{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=BS(this.lastLoginAt),this.creationTime=BS(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(e){var t;const n=e.auth,r=await e.getIdToken(),i=await D2(e,hxe(n,{idToken:r}));_n(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?pxe(s.providerUserInfo):[],a=hit(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new F7(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function fit(e){const t=xg(e);await Z3(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hit(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function pxe(e){return e.map(t=>{var{providerId:n}=t,r=IT(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pit(e,t){const n=await dxe(e,{},async()=>{const r=nA({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=fxe(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cxe.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mit(e,t){return O_(e,"POST","/v2/accounts:revokeToken",SG(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_n(t.idToken,"internal-error"),_n(typeof t.idToken<"u","internal-error"),_n(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):eoe(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_n(t.length!==0,"internal-error");const n=eoe(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_n(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await pit(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zw;return r&&(_n(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(_n(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(_n(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zw,this.toJSON())}_performRefresh(){return fp("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(e,t){_n(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class hp{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=IT(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dit(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new F7(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await D2(this,this.stsTokenManager.getToken(this.auth,t));return _n(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return uit(this,t)}reload(){return fit(this)}_assign(t){this!==t&&(_n(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new hp(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_n(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Z3(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dp(this.auth.app))return Promise.reject(hv(this.auth));const t=await this.getIdToken();return await D2(this,lit(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:C,providerData:S,stsTokenManager:T}=n;_n(w&&T,t,"internal-error");const A=zw.fromJSON(this.name,T);_n(typeof w=="string",t,"internal-error"),Wm(d,t.name),Wm(f,t.name),_n(typeof E=="boolean",t,"internal-error"),_n(typeof C=="boolean",t,"internal-error"),Wm(h,t.name),Wm(p,t.name),Wm(m,t.name),Wm(g,t.name),Wm(y,t.name),Wm(v,t.name);const I=new hp({uid:w,auth:t,email:f,emailVerified:E,displayName:d,isAnonymous:C,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:A,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(I.providerData=S.map(D=>Object.assign({},D))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(t,n,r=!1){const i=new zw;i.updateFromServerResponse(n);const s=new hp({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Z3(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];_n(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?pxe(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new zw;a.updateFromIdToken(r);const l=new hp({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new F7(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const toe=new Map;function pp(e){Hp(e instanceof Function,"Expected a class definition");let t=toe.get(e);return t?(Hp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,toe.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mxe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}mxe.type="NONE";const noe=mxe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(e,t,n){return`firebase:${e}:${t}:${n}`}class Uw{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=JD(this.userKey,i.apiKey,s),this.fullPersistenceKey=JD("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?hp._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Uw(pp(noe),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||pp(noe);const o=JD(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=hp._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Uw(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Uw(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function roe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bxe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gxe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xxe(t))return"Blackberry";if(_xe(t))return"Webos";if(yxe(t))return"Safari";if((t.includes("chrome/")||vxe(t))&&!t.includes("edge/"))return"Chrome";if(wxe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gxe(e=Ha()){return/firefox\//i.test(e)}function yxe(e=Ha()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vxe(e=Ha()){return/crios\//i.test(e)}function bxe(e=Ha()){return/iemobile/i.test(e)}function wxe(e=Ha()){return/android/i.test(e)}function xxe(e=Ha()){return/blackberry/i.test(e)}function _xe(e=Ha()){return/webos/i.test(e)}function AG(e=Ha()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function git(e=Ha()){var t;return AG(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function yit(){return Nnt()&&document.documentMode===10}function Exe(e=Ha()){return AG(e)||wxe(e)||_xe(e)||xxe(e)||/windows phone/i.test(e)||bxe(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cxe(e,t=[]){let n;switch(e){case"Browser":n=roe(Ha());break;case"Worker":n=`${roe(Ha())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cb}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vit{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bit(e,t={}){return O_(e,"GET","/v2/passwordPolicy",SG(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wit=6;class xit{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:wit,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _it{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ioe(this),this.idTokenSubscription=new ioe(this),this.beforeStateQueue=new vit(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uxe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=pp(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Uw.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await hxe(this,{idToken:t}),r=await hp._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(dp(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _n(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Z3(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rit()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(dp(this.app))return Promise.reject(hv(this));const n=t?xg(t):null;return n&&_n(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_n(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return dp(this.app)?Promise.reject(hv(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return dp(this.app)?Promise.reject(hv(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pp(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bit(this),n=new xit(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new P_("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mit(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&pp(t)||this._popupRedirectResolver;_n(n,this,"argument-error"),this.redirectPersistenceManager=await Uw.create(this,[pp(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_n(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _n(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cxe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Zrt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function E4(e){return xg(e)}class ioe{constructor(t){this.auth=t,this.observer=null,this.addObserver=Bnt(n=>this.observer=n)}get next(){return _n(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kG={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Eit(e){kG=e}function Cit(e){return kG.loadJS(e)}function Sit(){return kG.gapiScript}function Tit(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ait(e,t){const n=sxe(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(X3(s,t??{}))return i;Qf(i,"already-initialized")}return n.initialize({options:t})}function kit(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pp);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Iit(e,t,n){const r=E4(e);_n(r._canInitEmulator,r,"emulator-config-failed"),_n(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=Sxe(t),{host:o,port:a}=Rit(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Dit()}function Sxe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rit(e){const t=Sxe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:soe(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:soe(o)}}}function soe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Dit(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Txe{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return fp("not implemented")}_getIdTokenResponse(t){return fp("not implemented")}_linkToIdToken(t,n){return fp("not implemented")}_getReauthenticationResolver(t){return fp("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(e,t){return oit(e,"POST","/v1/accounts:signInWithIdp",SG(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pit="http://localhost";class Iv extends Txe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Iv(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Qf("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=IT(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Iv(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Hw(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Hw(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Hw(t,n)}buildRequest(){const t={requestUri:Pit,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nA(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends IG{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends iA{constructor(){super("facebook.com")}static credential(t){return Iv._fromParams({providerId:h0.PROVIDER_ID,signInMethod:h0.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return h0.credentialFromTaggedObject(t)}static credentialFromError(t){return h0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return h0.credential(t.oauthAccessToken)}catch{return null}}}h0.FACEBOOK_SIGN_IN_METHOD="facebook.com";h0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends iA{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Iv._fromParams({providerId:lp.PROVIDER_ID,signInMethod:lp.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return lp.credentialFromTaggedObject(t)}static credentialFromError(t){return lp.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return lp.credential(n,r)}catch{return null}}}lp.GOOGLE_SIGN_IN_METHOD="google.com";lp.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0 extends iA{constructor(){super("github.com")}static credential(t){return Iv._fromParams({providerId:p0.PROVIDER_ID,signInMethod:p0.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return p0.credentialFromTaggedObject(t)}static credentialFromError(t){return p0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return p0.credential(t.oauthAccessToken)}catch{return null}}}p0.GITHUB_SIGN_IN_METHOD="github.com";p0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends iA{constructor(){super("twitter.com")}static credential(t,n){return Iv._fromParams({providerId:m0.PROVIDER_ID,signInMethod:m0.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return m0.credentialFromTaggedObject(t)}static credentialFromError(t){return m0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return m0.credential(n,r)}catch{return null}}}m0.TWITTER_SIGN_IN_METHOD="twitter.com";m0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await hp._fromIdTokenResponse(t,r,i),o=ooe(r);return new _x({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=ooe(r);return new _x({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function ooe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO extends hh{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,eO.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new eO(t,n,r,i)}}function Axe(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?eO._fromErrorAndOperation(e,s,t,r):s})}async function Oit(e,t,n=!1){const r=await D2(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return _x._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nit(e,t,n=!1){const{auth:r}=e;if(dp(r.app))return Promise.reject(hv(r));const i="reauthenticate";try{const s=await D2(e,Axe(r,i,t,e),n);_n(s.idToken,r,"internal-error");const o=TG(s.idToken);_n(o,r,"internal-error");const{sub:a}=o;return _n(e.uid===a,r,"user-mismatch"),_x._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qf(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $it(e,t,n=!1){if(dp(e.app))return Promise.reject(hv(e));const r="signIn",i=await Axe(e,r,t),s=await _x._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Mit(e,t,n,r){return xg(e).onIdTokenChanged(t,n,r)}function Fit(e,t,n){return xg(e).beforeAuthStateChanged(t,n)}function Lit(e,t,n,r){return xg(e).onAuthStateChanged(t,n,r)}function jit(e){return xg(e).signOut()}const tO="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kxe{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tO,"1"),this.storage.removeItem(tO),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bit=1e3,zit=10;class Ixe extends kxe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Exe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);yit()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,zit):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Bit)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ixe.type="LOCAL";const Uit=Ixe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rxe extends kxe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Rxe.type="SESSION";const Dxe=Rxe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hit(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new C4(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Hit(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}C4.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qit{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=RG("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){return window}function Vit(e){Mf().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pxe(){return typeof Mf().WorkerGlobalScope<"u"&&typeof Mf().importScripts=="function"}async function Wit(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Git(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Yit(){return Pxe()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oxe="firebaseLocalStorageDb",Kit=1,nO="firebaseLocalStorage",Nxe="fbase_key";class sA{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function S4(e,t){return e.transaction([nO],t?"readwrite":"readonly").objectStore(nO)}function Xit(){const e=indexedDB.deleteDatabase(Oxe);return new sA(e).toPromise()}function L7(){const e=indexedDB.open(Oxe,Kit);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(nO,{keyPath:Nxe})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(nO)?t(r):(r.close(),await Xit(),t(await L7()))})})}async function aoe(e,t,n){const r=S4(e,!0).put({[Nxe]:t,value:n});return new sA(r).toPromise()}async function Qit(e,t){const n=S4(e,!1).get(t),r=await new sA(n).toPromise();return r===void 0?null:r.value}function loe(e,t){const n=S4(e,!0).delete(t);return new sA(n).toPromise()}const Jit=800,Zit=3;class $xe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await L7(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Zit)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pxe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=C4._getInstance(Yit()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Wit(),!this.activeServiceWorker)return;this.sender=new qit(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Git()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await L7();return await aoe(t,tO,"1"),await loe(t,tO),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aoe(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Qit(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>loe(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=S4(i,!1).getAll();return new sA(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jit)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$xe.type="LOCAL";const est=$xe;new rA(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mxe(e,t){return t?pp(t):(_n(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG extends Txe{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Hw(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Hw(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Hw(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tst(e){return $it(e.auth,new DG(e),e.bypassAuthState)}function nst(e){const{auth:t,user:n}=e;return _n(n,t,"internal-error"),Nit(n,new DG(e),e.bypassAuthState)}async function rst(e){const{auth:t,user:n}=e;return _n(n,t,"internal-error"),Oit(n,new DG(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fxe{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tst;case"linkViaPopup":case"linkViaRedirect":return rst;case"reauthViaPopup":case"reauthViaRedirect":return nst;default:Qf(this.auth,"internal-error")}}resolve(t){Hp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ist=new rA(2e3,1e4);async function sst(e,t,n){if(dp(e.app))return Promise.reject(fd(e,"operation-not-supported-in-this-environment"));const r=E4(e);eit(e,t,IG);const i=Mxe(r,n);return new tv(r,"signInViaPopup",t,i).executeNotNull()}class tv extends Fxe{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,tv.currentPopupAction&&tv.currentPopupAction.cancel(),tv.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _n(t,this.auth,"internal-error"),t}async onExecution(){Hp(this.filter.length===1,"Popup operations only handle one event");const t=RG();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fd(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(fd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tv.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fd(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ist.get())};t()}}tv.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ost="pendingRedirect",ZD=new Map;class ast extends Fxe{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ZD.get(this.auth._key());if(!t){try{const r=await lst(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ZD.set(this.auth._key(),t)}return this.bypassAuthState||ZD.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lst(e,t){const n=dst(t),r=cst(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ust(e,t){ZD.set(e._key(),t)}function cst(e){return pp(e._redirectPersistence)}function dst(e){return JD(ost,e.config.apiKey,e.name)}async function fst(e,t,n=!1){if(dp(e.app))return Promise.reject(hv(e));const r=E4(e),i=Mxe(r,t),o=await new ast(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hst=10*60*1e3;class pst{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mst(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Lxe(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fd(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hst&&this.cachedEventUids.clear(),this.cachedEventUids.has(uoe(t))}saveEventToCache(t){this.cachedEventUids.add(uoe(t)),this.lastProcessedEventTime=Date.now()}}function uoe(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Lxe({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mst(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lxe(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gst(e,t={}){return O_(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yst=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vst=/^https?/;async function bst(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gst(e);for(const n of t)try{if(wst(n))return}catch{}Qf(e,"unauthorized-domain")}function wst(e){const t=M7(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vst.test(n))return!1;if(yst.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xst=new rA(3e4,6e4);function coe(){const e=Mf().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function _st(e){return new Promise((t,n)=>{var r,i,s;function o(){coe(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{coe(),n(fd(e,"network-request-failed"))},timeout:xst.get()})}if(!((i=(r=Mf().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Mf().gapi)===null||s===void 0)&&s.load)o();else{const a=Tit("iframefcb");return Mf()[a]=()=>{gapi.load?o():n(fd(e,"network-request-failed"))},Cit(`${Sit()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw eP=null,t})}let eP=null;function Est(e){return eP=eP||_st(e),eP}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cst=new rA(5e3,15e3),Sst="__/auth/iframe",Tst="emulator/auth/iframe",Ast={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kst=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ist(e){const t=e.config;_n(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?CG(t,Tst):`https://${e.config.authDomain}/${Sst}`,r={apiKey:t.apiKey,appName:e.name,v:Cb},i=kst.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nA(r).slice(1)}`}async function Rst(e){const t=await Est(e),n=Mf().gapi;return _n(n,e,"internal-error"),t.open({where:document.body,url:Ist(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ast,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fd(e,"network-request-failed"),a=Mf().setTimeout(()=>{s(o)},Cst.get());function l(){Mf().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dst={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pst=500,Ost=600,Nst="_blank",$st="http://localhost";class doe{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mst(e,t,n,r=Pst,i=Ost){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Dst),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ha().toLowerCase();n&&(a=vxe(u)?Nst:n),gxe(u)&&(t=t||$st,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(git(u)&&a!=="_self")return Fst(t||"",a),new doe(null);const d=window.open(t||"",a,c);_n(d,e,"popup-blocked");try{d.focus()}catch{}return new doe(d)}function Fst(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lst="__/auth/handler",jst="emulator/auth/handler",Bst=encodeURIComponent("fac");async function foe(e,t,n,r,i,s){_n(e.config.authDomain,e,"auth-domain-config-required"),_n(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Cb,eventId:i};if(t instanceof IG){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",jnt(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof iA){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${Bst}=${encodeURIComponent(l)}`:"";return`${zst(e)}?${nA(a).slice(1)}${u}`}function zst({config:e}){return e.emulator?CG(e,jst):`https://${e.authDomain}/${Lst}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="webStorageSupport";class Ust{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dxe,this._completeRedirectFn=fst,this._overrideRedirectResult=ust}async _openPopup(t,n,r,i){var s;Hp((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await foe(t,n,r,M7(),i);return Mst(t,o,RG())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await foe(t,n,r,M7(),i);return Vit(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hp(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Rst(t),r=new pst(t);return n.register("authEvent",i=>(_n(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_8,{type:_8},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_8];o!==void 0&&n(!!o),Qf(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bst(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Exe()||yxe()||AG()}}const jxe=Ust;var hoe="@firebase/auth",poe="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hst{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_n(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qst(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vst(e){Up(new Xf("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_n(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cxe(e)},u=new _it(r,i,s,l);return kit(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Up(new Xf("auth-internal",t=>{const n=E4(t.getProvider("auth").getImmediate());return(r=>new Hst(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dd(hoe,poe,qst(e)),dd(hoe,poe,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wst=5*60,Gst=txe("authIdTokenMaxAge")||Wst;let moe=null;const Yst=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Gst)return;const i=n==null?void 0:n.token;moe!==i&&(moe=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j7(e=Urt()){const t=sxe(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Ait(e,{popupRedirectResolver:jxe,persistence:[est,Uit,Dxe]}),r=txe("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Yst(s.toString());Fit(n,o,()=>o(n.currentUser)),Mit(n,a=>o(a))}}const i=Int("auth");return i&&Iit(n,`http://${i}`),n}function Kst(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Eit({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=fd("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Kst().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vst("Browser");async function B7(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function $I(e){const t=e;return typeof t=="object"&&t&&t.participantId!==void 0}function Fu(e){return!!e&&e.isCloudEngine()}const Bxe=R.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),N_=()=>R.useContext(Bxe);function Xst({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{name:"fakeName",email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,s]=R.useState(t),[o,a]=R.useState(!1),{storageEngine:l}=Wi(),u=async()=>{const h=j7();try{await jit(h)}catch(p){console.error(`There was an issue signing-out the user: ${p.message}`)}finally{s(n)}},c=()=>{a(!0)},d=async h=>l&&Fu(l)?await l.validateUser(h,!0):!1;R.useEffect(()=>{s(t);let h;if(l&&Fu(l))try{h=j7()}catch{console.warn("No firebase store.")}const p=async y=>{if(s(v=>({user:v.user,isAdmin:v.isAdmin,determiningStatus:!0,adminVerification:!1})),y){const v={user:y,determiningStatus:!1,isAdmin:!1,adminVerification:!0},w=await d(v);v.isAdmin=!!w,s(v)}else u()},g=(async()=>{if(l&&Fu(l)){const y=await(l==null?void 0:l.getUserManagementData("authentication"));if(y!=null&&y.isEnabled){const v=Lit(h,async w=>await p(w));return()=>v()}s(r)}else l&&s(r);return()=>{}})();return()=>{g.then(y=>y())}},[l,o]);const f=R.useMemo(()=>({user:i,triggerAuth:c,logout:u,verifyAdminStatus:d}),[i]);return _.jsx(Bxe.Provider,{value:f,children:i.determiningStatus?_.jsx(Ju,{visible:!0}):e})}function Qst({configName:e,config:t,url:n}){const{storageEngine:r}=Wi(),[i,s]=R.useState(null);R.useEffect(()=>{r&&r.getParticipantsStatusCounts(e).then(d=>{s(d)})},[e,r]);const{minTime:o,maxTime:a}=R.useMemo(()=>{if(!i)return{minTime:null,maxTime:null};if(!i.minTime||!i.maxTime)return{minTime:null,maxTime:null};const d=typeof i.minTime=="number"?new Date(i.minTime):i.minTime.toDate(),f=typeof i.maxTime=="number"?new Date(i.maxTime):i.maxTime.toDate();return{minTime:d.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),maxTime:f.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})}},[i]),[l,u]=R.useState(null);R.useEffect(()=>{r&&r.getModes(e).then(d=>{u(d)})},[e,r]);const c=R.useMemo(()=>l?l.dataCollectionEnabled?i&&(i.inProgress>0||i.completed>0)?"Collecting Data":"Ready to Collect Data":"Data Collection Disabled":"Unknown",[l,i]);return _.jsx(yb,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,children:t.errors.length>0?_.jsxs(_.Fragment,{children:[_.jsx(tt,{fw:"bold",children:e}),_.jsxs(Nt,{align:"center",direction:"row",children:[_.jsx(jw,{color:"red"}),_.jsx(tt,{fw:"bold",ml:8,color:"red",children:"Errors"})]}),_.jsx(XD,{issues:t.errors,type:"error"}),t.warnings.length>0&&_.jsxs(_.Fragment,{children:[_.jsxs(Nt,{align:"center",direction:"row",children:[_.jsx(jw,{color:"orange"}),_.jsx(tt,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),_.jsx(XD,{issues:t.warnings,type:"warning"})]})]}):_.jsxs(_.Fragment,{children:[_.jsx(Nt,{direction:"row",justify:"space-between",children:_.jsx(tt,{fw:"bold",children:t.studyMetadata.title})}),_.jsxs(tt,{c:"dimmed",children:[_.jsx(tt,{span:!0,fw:500,children:"Authors: "}),t.studyMetadata.authors.join(", ")]}),_.jsx(tt,{c:"dimmed",children:t.studyMetadata.description}),_.jsx(tt,{c:"dimmed",ta:"right",style:{paddingRight:5},children:_.jsxs(gb,{target:"_blank",onClick:d=>d.stopPropagation(),href:`undefined${n}`,children:["View source:"," ",n,_.jsx(aWe,{style:{width:Le(18),height:Le(18),marginLeft:Le(2),marginBottom:Le(-3)}})]})}),t.warnings.length>0&&_.jsxs(_.Fragment,{children:[_.jsxs(Nt,{align:"center",direction:"row",children:[_.jsx(jw,{color:"orange"}),_.jsx(tt,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),_.jsx(XD,{issues:t.warnings,type:"warning"})]}),_.jsx(b_,{my:"md"}),_.jsxs(Nt,{direction:"row",gap:"sm",children:[_.jsxs(tt,{fw:"bold",size:"sm",opacity:.7,children:["Study Status:"," ",c]}),i&&_.jsx(xnt,{completed:i.completed,inProgress:i.inProgress,rejected:i.rejected}),_.jsxs(Nt,{ml:"auto",gap:"sm",opacity:.7,children:[l!=null&&l.studyNavigatorEnabled?_.jsx(zt,{label:"Study navigator enabled",withinPortal:!0,children:_.jsx(t1e,{size:16,color:"green"})}):_.jsx(zt,{label:"Study navigator disabled",withinPortal:!0,children:_.jsx(TWe,{size:16,color:"red"})}),l!=null&&l.analyticsInterfacePubliclyAccessible?_.jsx(zt,{label:"Analytics interface publicly accessible",withinPortal:!0,children:_.jsx(Jbe,{size:16,color:"green"})}):_.jsx(zt,{label:"Analytics interface not publicly accessible",withinPortal:!0,children:_.jsx(Qbe,{size:16,color:"red"})}),(r==null?void 0:r.getEngine())==="localStorage"?_.jsx(zt,{label:"Local storage enabled",withinPortal:!0,children:_.jsx(Gbe,{size:16,color:"green"})}):_.jsx(zt,{label:"Firebase enabled",withinPortal:!0,children:_.jsx(Xbe,{size:16,color:"green"})})]})]}),o&&a&&_.jsxs(tt,{c:"dimmed",mt:4,children:["Activity:"," ",o," ",""," ",a]}),_.jsxs(Nt,{direction:"row",align:"end",gap:"sm",mt:"md",children:[_.jsx(qt,{leftSection:_.jsx(Vbe,{}),style:{marginLeft:"auto"},variant:"default",component:"a",href:`${hs}analysis/stats/${n}`,children:"Analyze & Manage Study"}),_.jsx(qt,{leftSection:_.jsx(Zbe,{}),component:"a",href:`${hs}${n}`,children:"Go to Study"})]})]})},e)}function M1({configNames:e,studyConfigs:t}){return e.map(n=>{const r=t[n];if(!r)return null;const i=s1e(n);return _.jsx(Qst,{configName:n,config:r,url:i},n)})}function Jst({globalConfig:e,studyConfigs:t}){const{storageEngine:n}=Wi(),{configsList:r}=e,[i,s]=R.useState({});R.useEffect(()=>{async function y(){const v={};await Promise.all(r.map(async w=>{if(n&&Fu(n)){const E=await n.getModes(w);v[w]=E.analyticsInterfacePubliclyAccessible}})),s(v)}y()},[r,n]);const{user:o}=N_(),a=R.useMemo(()=>r.filter(y=>i[y]||o.isAdmin),[r,i,o]),l=R.useMemo(()=>a.filter(y=>y.startsWith("demo-")),[a]),u=R.useMemo(()=>a.filter(y=>y.startsWith("tutorial")),[a]),c=R.useMemo(()=>a.filter(y=>y.startsWith("example-")),[a]),d=R.useMemo(()=>a.filter(y=>y.startsWith("test-")),[a]),f=R.useMemo(()=>a.filter(y=>y.startsWith("library-")),[a]),h=R.useMemo(()=>a.filter(y=>!y.startsWith("demo-")&&!y.startsWith("tutorial")&&!y.startsWith("example-")&&!y.startsWith("test-")&&!y.startsWith("library-")),[a]),[p]=ch(),m=R.useMemo(()=>p.get("tab")||(h.length>0?"Others":"Demos"),[h.length,p]),g=Ya();return _.jsx(Gr.Main,{children:_.jsxs(gg,{size:"sm",px:0,children:[_.jsx(yg,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${hs}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),_.jsxs(mr,{variant:"outline",defaultValue:h.length>0?"Others":"Demos",value:m,onChange:y=>g(`/?tab=${y}`),children:[_.jsxs(mr.List,{children:[h.length>0&&_.jsx(mr.Tab,{value:"Others",children:"Your Studies"}),_.jsx(mr.Tab,{value:"Demos",children:"Demo Studies"}),_.jsx(mr.Tab,{value:"Examples",children:"Example Studies"}),_.jsx(mr.Tab,{value:"Tutorials",children:"Tutorials"}),_.jsx(mr.Tab,{value:"Tests",children:"Tests"}),_.jsx(mr.Tab,{value:"Libraries",children:"Libraries"})]}),h.length>0&&_.jsx(mr.Panel,{value:"Others",children:_.jsx(M1,{configNames:h,studyConfigs:t})}),_.jsxs(mr.Panel,{value:"Demos",children:[_.jsx(tt,{c:"dimmed",mt:"sm",children:"These studies show off individual features of the reVISit platform."}),_.jsx(M1,{configNames:l,studyConfigs:t})]}),_.jsxs(mr.Panel,{value:"Examples",children:[_.jsx(tt,{c:"dimmed",mt:"sm",children:"These are full studies that demonstrate the capabilities of the reVISit platform."}),_.jsx(M1,{configNames:c,studyConfigs:t})]}),_.jsxs(mr.Panel,{value:"Tutorials",children:[_.jsx(tt,{c:"dimmed",mt:"sm",children:"These studies are designed to help you learn how to use the reVISit platform."}),_.jsx(M1,{configNames:u,studyConfigs:t})]}),_.jsxs(mr.Panel,{value:"Tests",children:[_.jsx(tt,{c:"dimmed",mt:"sm",children:"These studies exist for testing purposes."}),_.jsx(M1,{configNames:d,studyConfigs:t})]}),_.jsxs(mr.Panel,{value:"Libraries",children:[_.jsx(tt,{c:"dimmed",mt:"sm",children:"Here you can see an example of every library that we publish."}),_.jsx(M1,{configNames:f,studyConfigs:t})]})]})]})})}var E8={exports:{}},C8={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var goe;function Zst(){if(goe)return C8;goe=1;var e=m$();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return C8.useSyncExternalStoreWithSelector=function(l,u,c,d,f){var h=i(null);if(h.current===null){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=o(function(){function g(C){if(!y){if(y=!0,v=C,C=d(C),f!==void 0&&p.hasValue){var S=p.value;if(f(S,C))return w=S}return w=C}if(S=w,n(v,C))return S;var T=d(C);return f!==void 0&&f(S,T)?(v=C,S):(v=C,w=T)}var y=!1,v,w,E=c===void 0?null:c;return[function(){return g(u())},E===null?void 0:function(){return g(E())}]},[u,c,d,f]);var m=r(l,h[0],h[1]);return s(function(){p.hasValue=!0,p.value=m},[m]),a(m),m},C8}var yoe;function eot(){return yoe||(yoe=1,E8.exports=Zst()),E8.exports}var tot=eot();function not(e){e()}function rot(){let e=null,t=null;return{clear(){e=null,t=null},notify(){not(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var voe={notify(){},get:()=>[]};function iot(e,t){let n,r=voe,i=0,s=!1;function o(m){c();const g=r.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function c(){i++,n||(n=e.subscribe(l),r=rot())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=voe)}function f(){s||(s=!0,c())}function h(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}var sot=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oot=sot(),aot=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lot=aot(),uot=()=>oot||lot?R.useLayoutEffect:R.useEffect,cot=uot(),S8=Symbol.for("react-redux-context"),T8=typeof globalThis<"u"?globalThis:{};function dot(){if(!R.createContext)return{};const e=T8[S8]??(T8[S8]=new Map);let t=e.get(R.createContext);return t||(t=R.createContext(null),e.set(R.createContext,t)),t}var q0=dot();function fot(e){const{children:t,context:n,serverState:r,store:i}=e,s=R.useMemo(()=>{const l=iot(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=R.useMemo(()=>i.getState(),[i]);cot(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||q0;return R.createElement(a.Provider,{value:s},t)}var hot=fot;function PG(e=q0){return function(){return R.useContext(e)}}var zxe=PG();function Uxe(e=q0){const t=e===q0?zxe:PG(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var pot=Uxe();function mot(e=q0){const t=e===q0?pot:Uxe(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Hxe=mot(),got=(e,t)=>e===t;function yot(e=q0){const t=e===q0?zxe:PG(e),n=(r,i={})=>{const{equalityFn:s=got}=typeof i=="function"?{equalityFn:i}:i,o=t(),{store:a,subscription:l,getServerState:u}=o;R.useRef(!0);const c=R.useCallback({[r.name](f){return r(f)}}[r.name],[r]),d=tot.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,c,s);return R.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var vot=yot();const bot=R.createContext(null);function ra(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}let oA=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};const MI={decode:function(e,t){return ra(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function qxe(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[s,o]of Object.entries(t))typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(qxe(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function boe(e,t,n){const r=qxe(e,t||{});return n==null||n.appendChild(r),r}var wot=Object.freeze({__proto__:null,createElement:boe,default:boe});const xot={fetchBlob:function(e,t,n){return ra(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,s){ra(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let l=0;const u=d=>ra(this,void 0,void 0,function*(){l+=(d==null?void 0:d.length)||0;const f=Math.round(l/a*100);s(f)}),c=()=>ra(this,void 0,void 0,function*(){let d;try{d=yield o.read()}catch{return}d.done||(u(d.value),yield c())});c()})}(r.clone(),t),r.blob()})}};let _ot=class extends oA{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)},{once:!0})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){const r=this.getSrc();if(t&&r===t)return;this.revokeSrc();const i=n instanceof Blob&&(this.canPlayType(n.type)||!t)?URL.createObjectURL(n):t;try{this.media.src=i}catch{this.media.src=t}}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return ra(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}},z7=class U7 extends oA{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=n=>{const r=this.wrapper.getBoundingClientRect(),i=n.clientX-r.left,s=n.clientY-r.top;return[i/r.width,s/r.height]};if(this.wrapper.addEventListener("click",n=>{const[r,i]=t(n);this.emit("click",r,i)}),this.wrapper.addEventListener("dblclick",n=>{const[r,i]=t(n);this.emit("dblclick",r,i)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:n,scrollWidth:r,clientWidth:i}=this.scrollContainer,s=n/r,o=(n+i)/r;this.emit("scroll",s,o,n,n+i)}),typeof ResizeObserver=="function"){const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,n,r,i,s=3,o=0,a=100){if(!t)return()=>{};const l=matchMedia("(pointer: coarse)").matches;let u=()=>{};const c=d=>{if(d.button!==o)return;d.preventDefault(),d.stopPropagation();let f=d.clientX,h=d.clientY,p=!1;const m=Date.now(),g=C=>{if(C.preventDefault(),C.stopPropagation(),l&&Date.now()-m<a)return;const S=C.clientX,T=C.clientY,A=S-f,I=T-h;if(p||Math.abs(A)>s||Math.abs(I)>s){const D=t.getBoundingClientRect(),{left:O,top:M}=D;p||(r==null||r(f-O,h-M),p=!0),n(A,I,S-O,T-M),f=S,h=T}},y=C=>{if(p){const S=C.clientX,T=C.clientY,A=t.getBoundingClientRect(),{left:I,top:D}=A;i==null||i(S-I,T-D)}u()},v=C=>{C.relatedTarget&&C.relatedTarget!==document.documentElement||y(C)},w=C=>{p&&(C.stopPropagation(),C.preventDefault())},E=C=>{p&&C.preventDefault()};document.addEventListener("pointermove",g),document.addEventListener("pointerup",y),document.addEventListener("pointerout",v),document.addEventListener("pointercancel",v),document.addEventListener("touchmove",E,{passive:!1}),document.addEventListener("click",w,{capture:!0}),u=()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",y),document.removeEventListener("pointerout",v),document.removeEventListener("pointercancel",v),document.removeEventListener("touchmove",E),setTimeout(()=>{document.removeEventListener("click",w,{capture:!0})},10)}};return t.addEventListener("pointerdown",c),()=>{u(),t.removeEventListener("pointerdown",c)}}(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;if(t==null)return 128;if(!isNaN(Number(t)))return Number(t);if(t==="auto"){const s=this.parent.clientHeight||128;return n!=null&&n.every(o=>!o.overlay)?s/i:s}return 128}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),r=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${r?` nonce="${r}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t,n;this.subscriptions.forEach(r=>r()),this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(n=this.unsubscribeOnScroll)===null||n===void 0||n.forEach(r=>r()),this.unsubscribeOnScroll=[]}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((s,o)=>{i(),r=o,n=setTimeout(()=>{n=void 0,r=void 0,s()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach((a,l)=>{const u=l*o;s.addColorStop(u,a)}),s}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:l,height:u}=r.canvas,c=u/2,d=this.getPixelRatio(),f=n.barWidth?n.barWidth*d:1,h=n.barGap?n.barGap*d:n.barWidth?f/2:0,p=n.barRadius||0,m=l/(f+h)/a,g=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let y=0,v=0,w=0;for(let E=0;E<=a;E++){const C=Math.round(E*m);if(C>y){const A=Math.round(v*c*i),I=A+Math.round(w*c*i)||1;let D=c-A;n.barAlign==="top"?D=0:n.barAlign==="bottom"&&(D=u-I),r[g](y*(f+h),D,f,I,p),y=C,v=0,w=0}const S=Math.abs(s[E]||0),T=Math.abs(o[E]||0);S>v&&(v=S),T>w&&(w=T)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],l=a.length,{height:u}=r.canvas,c=u/2,d=r.canvas.width/l;r.moveTo(0,c);let f=0,h=0;for(let p=0;p<=l;p++){const m=Math.round(p*d);if(m>f){const y=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(f,y),f=m,h=0}const g=Math.abs(a[p]||0);g>h&&(h=g)}r.lineTo(f,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);i=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a){const l=this.getPixelRatio(),u=document.createElement("canvas");u.width=Math.round(r*l),u.height=Math.round(i*l),u.style.width=`${r}px`,u.style.height=`${i}px`,u.style.left=`${Math.round(s)}px`,o.appendChild(u);const c=u.getContext("2d");if(this.renderWaveform(t,n,c),u.width>0&&u.height>0){const d=u.cloneNode(),f=d.getContext("2d");f.drawImage(u,0,0),f.globalCompositeOperation="source-in",f.fillStyle=this.convertColorValues(n.progressColor),f.fillRect(0,0,u.width,u.height),a.appendChild(d)}}renderMultiCanvas(t,n,r,i,s,o){const a=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,u=r/a;let c=Math.min(U7.MAX_CANVAS_WIDTH,l,u),d={};if(c===0)return;if(n.barWidth||n.barGap){const g=n.barWidth||.5,y=g+(n.barGap||g/2);c%y!=0&&(c=Math.floor(c/y)*y)}const f=g=>{if(g<0||g>=h||d[g])return;d[g]=!0;const y=g*c,v=Math.min(u-y,c);if(v<=0)return;const w=t.map(E=>{const C=Math.floor(y/u*E.length),S=Math.floor((y+v)/u*E.length);return E.slice(C,S)});this.renderSingleCanvas(w,n,v,i,y,s,o)},h=Math.ceil(u/c);if(!this.isScrollable){for(let g=0;g<h;g++)f(g);return}const p=this.scrollContainer.scrollLeft/u,m=Math.floor(p*h);if(f(m-1),f(m),f(m+1),h>1){const g=this.on("scroll",()=>{const{scrollLeft:y}=this.scrollContainer,v=Math.floor(y/u*h);Object.keys(d).length>U7.MAX_NODES&&(s.innerHTML="",o.innerHTML="",d={}),f(v-1),f(v),f(v+1)});this.unsubscribeOnScroll.push(g)}}renderChannel(t,n,r,i){var{overlay:s}=n,o=function(c,d){var f={};for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&d.indexOf(h)<0&&(f[h]=c[h]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(h=Object.getOwnPropertySymbols(c);p<h.length;p++)d.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(c,h[p])&&(f[h[p]]=c[h[p]])}return f}(n,["overlay"]);const a=document.createElement("div"),l=this.getHeight(o.height,o.splitChannels);a.style.height=`${l}px`,s&&i>0&&(a.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(a);const u=a.cloneNode();this.progressWrapper.appendChild(u),this.renderMultiCanvas(t,o,r,l,a,u)}render(t){return ra(this,void 0,void 0,function*(){var n;this.timeouts.forEach(l=>l()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const r=this.getPixelRatio(),i=this.scrollContainer.clientWidth,s=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=s>i;const o=this.options.fillParent&&!this.isScrollable,a=(o?i:s)*r;if(this.wrapper.style.width=o?"100%":`${s}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let l=0;l<t.numberOfChannels;l++){const u=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[l]);this.renderChannel([t.getChannelData(l)],u,a,l)}else{const l=[t.getChannelData(0)];t.numberOfChannels>1&&l.push(t.getChannelData(1)),this.renderChannel(l,this.options,a,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){if(this.unsubscribeOnScroll.forEach(r=>r()),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,l=r+s,u=s/2;if(this.isDragging)o+30>l?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>l)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?u:0));const c=o-r-u;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,d=c/i,f=(c+s)/i;this.emit("scroll",d,f,c,c+s)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return ra(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map(o=>o.toDataURL(t,n));return Promise.resolve(s)}return Promise.all(Array.from(i).map(s=>new Promise((o,a)=>{s.toBlob(l=>{l?o(l):a(new Error("Could not export image"))},t,n)})))})}};z7.MAX_CANVAS_WIDTH=8e3,z7.MAX_NODES=10;let Eot=class extends oA{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}},woe=class extends oA{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return ra(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return ra(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return ra(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}};const Cot={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};let H7=class Vxe extends _ot{static create(t){return new Vxe(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new woe:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},Cot,t),this.timer=new Eot;const r=n?void 0:this.getMediaElement();this.renderer=new z7(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:s,duration:o}=this.options;(i||s&&o)&&this.load(i,s,o).catch(()=>null)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",t=>{var n;this.emit("error",(n=this.getMediaElement().error)!==null&&n!==void 0?n:new Error("Media error"))}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n,r,i)=>{const s=this.getDuration();this.emit("scroll",t*s,n*s,r,i)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",t=>{this.emit("dragstart",t)}),this.renderer.on("dragend",t=>{this.emit("dragend",t)}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{if(!this.options.interact)return;let r;this.renderer.renderProgress(n),clearTimeout(t),this.isPlaying()?r=0:this.options.dragToSeek===!0?r=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(r=this.options.dragToSeek.debounceTime),t=setTimeout(()=>{this.seekTo(n)},r),this.emit("interaction",n*this.getDuration()),this.emit("drag",n)}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=MI.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=MI.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return ra(this,void 0,void 0,function*(){var s;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=(s=this.abortController)===null||s===void 0?void 0:s.signal);const l=c=>this.emit("loading",c);n=yield xot.fetchBlob(t,l,a);const u=this.options.blobMimeType;u&&(n=new Blob([n],{type:u}))}this.setSrc(t,n);const o=yield new Promise(a=>{const l=i||this.getDuration();l?a(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>a(this.getDuration()),{once:!0}))});if(!t&&!n){const a=this.getMediaElement();a instanceof woe&&(a.duration=o)}if(r)this.decodedData=MI.createBuffer(r,o||0);else if(n){const a=yield n.arrayBuffer();this.decodedData=yield MI.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return ra(this,void 0,void 0,function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}})}loadBlob(t,n,r){return ra(this,void 0,void 0,function*(){try{return yield this.loadAudio("",t,n,r)}catch(i){throw this.emit("error",i),i}})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),l=[],u=a.length/n;for(let c=0;c<n;c++){const d=a.slice(Math.floor(c*u),Math.ceil((c+1)*u));let f=0;for(let h=0;h<d.length;h++){const p=d[h];Math.abs(p)>Math.abs(f)&&(f=p)}l.push(Math.round(f*r)/r)}s.push(l)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return ra(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return ra(this,arguments,void 0,function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)})}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach(n=>n.destroy()),this.subscriptions.forEach(n=>n()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}};H7.BasePlugin=class extends oA{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},H7.dom=wot;function Sot(e){return H7.create(e)}function Tot(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const xoe=e=>e.reduce((t,n)=>(t[n[0]]=n[1],t),{}),Aot=(e,t)=>{const n=Object.entries(e),r=Object.entries(t),i=n.filter(([o])=>r.findIndex(([a])=>a===o)===-1),s=r.filter(([o])=>n.findIndex(([a])=>a===o)===-1);return{disabled:xoe(i),enabled:xoe(s)}};function _oe(e,t){const n={},r=[...t];for(;r.length>=1;){const i=r.shift();!!e[i.key]?n[i.key]=e[i.key]:n[i.key]=Tot(i)}return n}function kot({container:e,plugins:t=[],onMount:n,...r}){const i=R.useRef(!1),[s,o]=R.useState({}),a=R.useRef([]),[l,u]=R.useState(null);return R.useEffect(()=>{if(!e)return;const c=e;if(i.current)return;i.current=!0;const d=_oe(s,t);a.current=Object.keys(d);const f=Sot({container:e,...r,plugins:Object.values(d)});return n==null||n(f),o(d),u(f),()=>{c!==e&&f.destroy()}},[e]),R.useEffect(()=>{if(l){const c=_oe(s,t),{disabled:d,enabled:f}=Aot(s,c);Object.keys(d).forEach(h=>{d[h].destroy()}),Object.keys(f).forEach(h=>{a.current.includes(h)||(console.log("register plugin",h,f[h]),l==null||l.registerPlugin(f[h]))}),a.current=Object.keys(f),o(c)}},[t]),[l,s,Object.values(s)]}function Wxe({children:e,plugins:t=[],onMount:n,...r}){const i=kot({plugins:t,onMount:n,...r});return Ir.createElement(bot.Provider,{value:i},e)}const Gxe=({id:e="waveform",children:t})=>Ir.createElement("div",{id:e},t);function A8(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(o,a)}l((r=r.apply(e,[])).next())})}let Yxe=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}},Iot=class extends Yxe{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}},Rot=class extends Yxe{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}};const Dot=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];let Pot=class Kxe extends Iot{constructor(t){var n,r,i,s,o,a;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3,scrollingWaveform:(r=t.scrollingWaveform)!==null&&r!==void 0&&r,scrollingWaveformWindow:(i=t.scrollingWaveformWindow)!==null&&i!==void 0?i:5,continuousWaveform:(s=t.continuousWaveform)!==null&&s!==void 0&&s,renderRecordedAudio:(o=t.renderRecordedAudio)===null||o===void 0||o,mediaRecorderTimeslice:(a=t.mediaRecorderTimeslice)!==null&&a!==void 0?a:void 0})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new Rot,this.subscriptions.push(this.timer.on("tick",()=>{const l=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+l,this.emit("record-progress",this.duration)}))}static create(t){return new Kxe(t||{})}renderMicStream(t){var n;const r=new AudioContext,i=r.createMediaStreamSource(t),s=r.createAnalyser();i.connect(s),this.options.continuousWaveform&&(s.fftSize=32);const o=s.frequencyBinCount,a=new Float32Array(o);let l=0;this.wavesurfer&&((n=this.originalOptions)!==null&&n!==void 0||(this.originalOptions=Object.assign({},this.wavesurfer.options)),this.wavesurfer.options.interact=!1,this.options.scrollingWaveform&&(this.wavesurfer.options.cursorWidth=0));const u=setInterval(()=>{var c,d,f,h;if(!this.isWaveformPaused){if(s.getFloatTimeDomainData(a),this.options.scrollingWaveform){const p=Math.floor((this.options.scrollingWaveformWindow||0)*r.sampleRate),m=Math.min(p,this.dataWindow?this.dataWindow.length+o:o),g=new Float32Array(p);if(this.dataWindow){const y=Math.max(0,p-this.dataWindow.length);g.set(this.dataWindow.slice(-m+o),y)}g.set(a,p-o),this.dataWindow=g}else if(this.options.continuousWaveform){if(!this.dataWindow){const m=this.options.continuousWaveformDuration?Math.round(100*this.options.continuousWaveformDuration):((d=(c=this.wavesurfer)===null||c===void 0?void 0:c.getWidth())!==null&&d!==void 0?d:0)*window.devicePixelRatio;this.dataWindow=new Float32Array(m)}let p=0;for(let m=0;m<o;m++){const g=Math.abs(a[m]);g>p&&(p=g)}if(l+1>this.dataWindow.length){const m=new Float32Array(2*this.dataWindow.length);m.set(this.dataWindow,0),this.dataWindow=m}this.dataWindow[l]=p,l++}else this.dataWindow=a;if(this.wavesurfer){const p=((h=(f=this.dataWindow)===null||f===void 0?void 0:f.length)!==null&&h!==void 0?h:0)/100;this.wavesurfer.load("",[this.dataWindow],this.options.scrollingWaveform?this.options.scrollingWaveformWindow:p).then(()=>{this.wavesurfer&&this.options.continuousWaveform&&(this.wavesurfer.setTime(this.getDuration()/1e3),this.wavesurfer.options.minPxPerSec||this.wavesurfer.setOptions({minPxPerSec:this.wavesurfer.getWidth()/this.wavesurfer.getDuration()}))}).catch(m=>{console.error("Error rendering real-time recording data:",m)})}}},10);return{onDestroy:()=>{clearInterval(u),i==null||i.disconnect(),r==null||r.close()},onEnd:()=>{this.isWaveformPaused=!0,clearInterval(u),this.stopMic()}}}startMic(t){return A8(this,void 0,void 0,function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:!(t!=null&&t.deviceId)||{deviceId:t.deviceId}})}catch(s){throw new Error("Error accessing the microphone: "+s.message)}const{onDestroy:r,onEnd:i}=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.subscriptions.push(this.once("record-end",i)),this.stream=n,n})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return A8(this,void 0,void 0,function*(){const n=this.stream||(yield this.startMic(t));this.dataWindow=null;const r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||Dot.find(o=>MediaRecorder.isTypeSupported(o)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=o=>{o.data.size>0&&i.push(o.data),this.emit("record-data-available",o.data)};const s=o=>{var a;const l=new Blob(i,{type:r.mimeType});this.emit(o,l),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(l)))};r.onpause=()=>s("record-pause"),r.onstop=()=>s("record-end"),r.start(this.options.mediaRecorderTimeslice),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")})}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,n;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(n=this.mediaRecorder)===null||n===void 0||n.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return A8(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(n=>n.kind==="audioinput"))})}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.setOptions(this.originalOptions),delete this.originalOptions)}};function Xxe({width:e=70,height:t=36}){const n=R.useRef(null),r=R.useRef(null),[i,s]=R.useState(!1);R.useEffect(()=>{if(i&&n.current){const a=n.current.registerPlugin(Pot.create({scrollingWaveform:!0,renderRecordedAudio:!1}));r.current=a,navigator.userAgent.includes("Firefox")||a.startRecording(),n.current.setOptions({height:t,waveColor:"#FA5252"})}return()=>{var a,l;i&&n.current&&((a=r.current)==null||a.stopRecording(),(l=r.current)==null||l.destroy(),n.current.destroy())}},[i]);const o=R.useCallback(a=>{n.current=a,s(!0)},[]);return _.jsx(Se,{id:"waveformDiv",style:{width:`${e}px`,height:`${t}px`},children:_.jsx(Wxe,{onMount:o,plugins:[],container:"#waveformDiv",height:t,children:_.jsx(Gxe,{id:"waveform",height:t})})})}function Eoe({setAnswer:e}){return R.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{new MediaRecorder(n).start();const i=new AudioContext,s=i.createMediaStreamSource(n),o=i.createAnalyser();o.minDecibels=-45,s.connect(o);const a=o.frequencyBinCount,l=new Uint8Array(a);let u=!1;const c=()=>{if(!u){o.getByteFrequencyData(l);for(let d=0;d<a;d+=1)l[d]>0&&(u=!0,e({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(c)}};window.requestAnimationFrame(c)})},[e]),_.jsx(xd,{style:{height:"70%",width:"100%"},children:_.jsxs(fs,{children:[_.jsx(tt,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),_.jsx(tt,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),_.jsx(tt,{ta:"center",style:{fontWeight:700},children:"If you are not comfortable or able to speak English during this study, please return the study."}),_.jsx(xd,{children:_.jsx(Xxe,{height:200,width:400})})]})})}const Qxe=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:Eoe,default:Eoe},Symbol.toStringTag,{value:"Module"}));function Oot(){return _.jsx("div",{children:"test react file"})}const Jxe=Object.freeze(Object.defineProperty({__proto__:null,default:Oot},Symbol.toStringTag,{value:"Module"}));function Kc(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function V0(e){return!!e&&!!e[vi]}function qp(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Uot}(e)||Array.isArray(e)||!!e[Roe]||!!(!((t=e.constructor)===null||t===void 0)&&t[Roe])||OG(e)||NG(e))}function Rv(e,t,n){n===void 0&&(n=!1),$_(e)===0?(n?Object.keys:Vw)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function $_(e){var t=e[vi];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:OG(e)?2:NG(e)?3:0}function qw(e,t){return $_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Not(e,t){return $_(e)===2?e.get(t):e[t]}function Zxe(e,t,n){var r=$_(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function e_e(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function OG(e){return Bot&&e instanceof Map}function NG(e){return zot&&e instanceof Set}function Ry(e){return e.o||e.t}function $G(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=n_e(e);delete t[vi];for(var n=Vw(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function MG(e,t){return t===void 0&&(t=!1),FG(e)||V0(e)||!qp(e)||($_(e)>1&&(e.set=e.add=e.clear=e.delete=$ot),Object.freeze(e),t&&Rv(e,function(n,r){return MG(r,!0)},!0)),e}function $ot(){Kc(2)}function FG(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ff(e){var t=G7[e];return t||Kc(18,e),t}function Mot(e,t){G7[e]||(G7[e]=t)}function q7(){return P2}function k8(e,t){t&&(Ff("Patches"),e.u=[],e.s=[],e.v=t)}function rO(e){V7(e),e.p.forEach(Fot),e.p=null}function V7(e){e===P2&&(P2=e.l)}function Coe(e){return P2={p:[],l:P2,h:e,m:!0,_:0}}function Fot(e){var t=e[vi];t.i===0||t.i===1?t.j():t.g=!0}function I8(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Ff("ES5").S(t,e,r),r?(n[vi].P&&(rO(t),Kc(4)),qp(e)&&(e=iO(t,e),t.l||sO(t,e)),t.u&&Ff("Patches").M(n[vi].t,e,t.u,t.s)):e=iO(t,n,[]),rO(t),t.u&&t.v(t.u,t.s),e!==t_e?e:void 0}function iO(e,t,n){if(FG(t))return t;var r=t[vi];if(!r)return Rv(t,function(a,l){return Soe(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return sO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=$G(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Rv(s,function(a,l){return Soe(e,r,i,a,l,n,o)}),sO(e,i,!1),n&&e.u&&Ff("Patches").N(r,n,e.u,e.s)}return r.o}function Soe(e,t,n,r,i,s,o){if(V0(i)){var a=iO(e,i,s&&t&&t.i!==3&&!qw(t.R,r)?s.concat(r):void 0);if(Zxe(n,r,a),!V0(a))return;e.m=!1}else o&&n.add(i);if(qp(i)&&!FG(i)){if(!e.h.D&&e._<1)return;iO(e,i),t&&t.A.l||sO(e,i)}}function sO(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&MG(t,n)}function R8(e,t){var n=e[vi];return(n?Ry(n):e)[t]}function Toe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function g0(e){e.P||(e.P=!0,e.l&&g0(e.l))}function D8(e){e.o||(e.o=$G(e.t))}function W7(e,t,n){var r=OG(t)?Ff("MapSet").F(t,n):NG(t)?Ff("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:q7(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=O2;o&&(l=[a],u=GC);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):Ff("ES5").J(t,n);return(n?n.A:q7()).p.push(r),r}function Lot(e){return V0(e)||Kc(22,e),function t(n){if(!qp(n))return n;var r,i=n[vi],s=$_(n);if(i){if(!i.P&&(i.i<4||!Ff("ES5").K(i)))return i.t;i.I=!0,r=Aoe(n,s),i.I=!1}else r=Aoe(n,s);return Rv(r,function(o,a){i&&Not(i.t,o)===a||Zxe(r,o,t(a))}),s===3?new Set(r):r}(e)}function Aoe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return $G(e)}function jot(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[vi];return O2.get(l,s)},set:function(l){var u=this[vi];O2.set(u,s,l)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][vi];if(!a.P)switch(a.i){case 5:r(a)&&g0(a);break;case 4:n(a)&&g0(a)}}}function n(s){for(var o=s.t,a=s.k,l=Vw(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==vi){var d=o[c];if(d===void 0&&!qw(o,c))return!0;var f=a[c],h=f&&f[vi];if(h?h.t!==d:!e_e(f,d))return!0}}var p=!!o[vi];return l.length!==Vw(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};Mot("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var p=n_e(d);delete p[vi];for(var m=Vw(p),g=0;g<m.length;g++){var y=m[g];p[y]=e(y,c||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(d),p)}(a,s),u={i:a?5:4,A:o?o.A:q7(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,vi,{value:u,writable:!0}),l},S:function(s,o,a){a?V0(o)&&o[vi].A===s&&t(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[vi];if(c){var d=c.t,f=c.k,h=c.R,p=c.i;if(p===4)Rv(f,function(w){w!==vi&&(d[w]!==void 0||qw(d,w)?h[w]||l(f[w]):(h[w]=!0,g0(c)))}),Rv(d,function(w){f[w]!==void 0||qw(f,w)||(h[w]=!1,g0(c))});else if(p===5){if(r(c)&&(g0(c),h.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)h[m]=!1;else for(var g=d.length;g<f.length;g++)h[g]=!0;for(var y=Math.min(f.length,d.length),v=0;v<y;v++)f.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&l(f[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var koe,P2,LG=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Bot=typeof Map<"u",zot=typeof Set<"u",Ioe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",t_e=LG?Symbol.for("immer-nothing"):((koe={})["immer-nothing"]=!0,koe),Roe=LG?Symbol.for("immer-draftable"):"__$immer_draftable",vi=LG?Symbol.for("immer-state"):"__$immer_state",Uot=""+Object.prototype.constructor,Vw=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,n_e=Object.getOwnPropertyDescriptors||function(e){var t={};return Vw(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},G7={},O2={get:function(e,t){if(t===vi)return e;var n=Ry(e);if(!qw(n,t))return function(i,s,o){var a,l=Toe(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!qp(r)?r:r===R8(e.t,t)?(D8(e),e.o[t]=W7(e.A.h,r,e)):r},has:function(e,t){return t in Ry(e)},ownKeys:function(e){return Reflect.ownKeys(Ry(e))},set:function(e,t,n){var r=Toe(Ry(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=R8(Ry(e),t),s=i==null?void 0:i[vi];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(e_e(n,i)&&(n!==void 0||qw(e.t,t)))return!0;D8(e),g0(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return R8(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,D8(e),g0(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ry(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Kc(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Kc(12)}},GC={};Rv(O2,function(e,t){GC[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),GC.deleteProperty=function(e,t){return GC.set.call(this,e,t,void 0)},GC.set=function(e,t,n){return O2.set.call(this,e[0],t,n,e[0])};var Hot=function(){function e(n){var r=this;this.O=Ioe,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];return l.produce(m,function(E){var C;return(C=s).call.apply(C,[g,E].concat(v))})}}var u;if(typeof s!="function"&&Kc(6),o!==void 0&&typeof o!="function"&&Kc(7),qp(i)){var c=Coe(r),d=W7(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?rO(c):V7(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return k8(c,o),I8(m,c)},function(m){throw rO(c),m}):(k8(c,o),I8(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===t_e&&(u=void 0),r.D&&MG(u,!0),o){var h=[],p=[];Ff("Patches").M(i,u,h,p),o(h,p)}return u}Kc(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){qp(n)||Kc(8),V0(n)&&(n=Lot(n));var r=Coe(this),i=W7(this,n,void 0);return i[vi].C=!0,V7(r),i},t.finishDraft=function(n,r){var i=n&&n[vi],s=i.A;return k8(s,r),I8(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Ioe&&Kc(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ff("Patches").$;return V0(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),lu=new Hot,r_e=lu.produce;lu.produceWithPatches.bind(lu);lu.setAutoFreeze.bind(lu);lu.setUseProxies.bind(lu);lu.applyPatches.bind(lu);lu.createDraft.bind(lu);lu.finishDraft.bind(lu);function N2(e){"@babel/helpers - typeof";return N2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N2(e)}function qot(e,t){if(N2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(N2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vot(e){var t=qot(e,"string");return N2(t)=="symbol"?t:t+""}function Wot(e,t,n){return(t=Vot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Doe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Poe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Doe(Object(n),!0).forEach(function(r){Wot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Doe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zo(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ooe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),P8=function(){return Math.random().toString(36).substring(7).split("").join(".")},oO={INIT:"@@redux/INIT"+P8(),REPLACE:"@@redux/REPLACE"+P8(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+P8()}};function Got(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function i_e(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zo(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zo(1));return n(i_e)(e,t)}if(typeof e!="function")throw new Error(Zo(2));var i=e,s=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Zo(3));return s}function d(m){if(typeof m!="function")throw new Error(Zo(4));if(l)throw new Error(Zo(5));var g=!0;return u(),a.push(m),function(){if(g){if(l)throw new Error(Zo(6));g=!1,u();var v=a.indexOf(m);a.splice(v,1),o=null}}}function f(m){if(!Got(m))throw new Error(Zo(7));if(typeof m.type>"u")throw new Error(Zo(8));if(l)throw new Error(Zo(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var g=o=a,y=0;y<g.length;y++){var v=g[y];v()}return m}function h(m){if(typeof m!="function")throw new Error(Zo(10));i=m,f({type:oO.REPLACE})}function p(){var m,g=d;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Zo(11));function w(){v.next&&v.next(c())}w();var E=g(w);return{unsubscribe:E}}},m[Ooe]=function(){return this},m}return f({type:oO.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[Ooe]=p,r}function Yot(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:oO.INIT});if(typeof r>"u")throw new Error(Zo(12));if(typeof n(void 0,{type:oO.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zo(13))})}function Kot(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{Yot(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var h=s[f],p=n[h],m=l[h],g=p(m,u);if(typeof g>"u")throw u&&u.type,new Error(Zo(14));d[h]=g,c=c||g!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function aO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Xot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Zo(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(l){return l(o)});return s=aO.apply(void 0,a)(i.dispatch),Poe(Poe({},i),{},{dispatch:s})}}}function s_e(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var Y7=s_e();Y7.withExtraArgument=s_e;var o_e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aA=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Dv=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Qot=Object.defineProperty,Jot=Object.defineProperties,Zot=Object.getOwnPropertyDescriptors,Noe=Object.getOwnPropertySymbols,eat=Object.prototype.hasOwnProperty,tat=Object.prototype.propertyIsEnumerable,$oe=function(e,t,n){return t in e?Qot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},$0=function(e,t){for(var n in t||(t={}))eat.call(t,n)&&$oe(e,n,t[n]);if(Noe)for(var r=0,i=Noe(t);r<i.length;r++){var n=i[r];tat.call(t,n)&&$oe(e,n,t[n])}return e},O8=function(e,t){return Jot(e,Zot(t))},lA=function(e,t,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(e,t)).next())})},nat=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?aO:aO.apply(null,arguments)};function a_e(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var rat=function(e){return e&&typeof e.match=="function"};function Lf(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return $0($0({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function iat(e){return a_e(e)&&"type"in e}var sat=function(e){o_e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Dv([void 0],n[0].concat(this)))):new(t.bind.apply(t,Dv([void 0],n.concat(this))))},t}(Array),oat=function(e){o_e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Dv([void 0],n[0].concat(this)))):new(t.bind.apply(t,Dv([void 0],n.concat(this))))},t}(Array);function K7(e){return qp(e)?r_e(e,function(){}):e}function aat(e){return typeof e=="boolean"}function lat(){return function(t){return uat(t)}}function uat(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new sat;return n&&(aat(n)?r.push(Y7):r.push(Y7.withExtraArgument(n.extraArgument))),r}function cat(e){var t=lat(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(a_e(i))h=Kot(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=Xot.apply(void 0,p),g=aO;l&&(g=nat($0({trace:!1},typeof l=="object"&&l)));var y=new oat(m),v=y;Array.isArray(f)?v=Dv([m],f):typeof f=="function"&&(v=f(y));var w=g.apply(void 0,v);return i_e(h,c,w)}function l_e(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function dat(e){return typeof e=="function"}function fat(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?l_e(t):[t,n,r],s=i[0],o=i[1],a=i[2],l;if(dat(e))l=function(){return K7(e())};else{var u=K7(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Dv([s[f.type]],o.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(V0(p)){var g=p,y=m(g,f);return y===void 0?p:y}else{if(qp(p))return r_e(p,function(v){return m(v,f)});var y=m(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},d)}return c.getInitialState=l,c}function hat(e,t){return e+"/"+t}function pat(e){var t=e.name,n=typeof e.initialState=="function"?e.initialState:K7(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],f=hat(t,c),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,s[c]=h,o[f]=h,a[c]=p?Lf(f,p):Lf(f)});function l(){var c=typeof e.extraReducers=="function"?l_e(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],p=h===void 0?[]:h,m=c[2],g=m===void 0?void 0:m,y=$0($0({},f),o);return fat(n,function(v){for(var w in y)v.addCase(w,y[w]);for(var E=0,C=p;E<C.length;E++){var S=C[E];v.addMatcher(S.matcher,S.reducer)}g&&v.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var mat="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",u_e=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=mat[Math.random()*64|0];return t},gat=["name","message","stack","code"],N8=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Moe=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),yat=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=gat;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Lf(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:O8($0({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Lf(t+"/pending",function(u,c,d){return{payload:void 0,meta:O8($0({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Lf(t+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||yat)(u||"Rejected"),meta:O8($0({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):u_e(),p=new a,m;function g(v){m=v,p.abort()}var y=function(){return lA(this,null,function(){var v,w,E,C,S,T,A;return aA(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),C=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:d,extra:f}),bat(C)?[4,C]:[3,2];case 1:C=I.sent(),I.label=2;case 2:if(C===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(D,O){return p.signal.addEventListener("abort",function(){return O({name:"AbortError",message:m||"Aborted"})})}),c(s(h,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:p.signal,abort:g,rejectWithValue:function(D,O){return new N8(D,O)},fulfillWithValue:function(D,O){return new Moe(D,O)}})).then(function(D){if(D instanceof N8)throw D;return D instanceof Moe?i(D.payload,h,u,D.meta):i(D,h,u)})])];case 3:return E=I.sent(),[3,5];case 4:return T=I.sent(),E=T instanceof N8?o(null,h,u,T.payload,T.meta):o(T,h,u),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,A||c(E),[2,E]}})})}();return Object.assign(y,{abort:g,requestId:h,arg:u,unwrap:function(){return y.then(vat)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function vat(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function bat(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var wat=function(e,t){return rat(e)?e.match(t):e(t)};function Foe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return wat(r,n)})}}var jG=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},X7=function(){},c_e=function(e,t){return t===void 0&&(t=X7),e.catch(t),e},d_e=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Ww=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},xat="task",f_e="listener",h_e="completed",BG="cancelled",_at="task-"+BG,Eat="task-"+h_e,p_e=f_e+"-"+BG,Cat=f_e+"-"+h_e,T4=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=xat+" "+BG+" (reason: "+t+")"}return e}(),Gw=function(e){if(e.aborted)throw new T4(e.reason)};function m_e(e,t){var n=X7;return new Promise(function(r,i){var s=function(){return i(new T4(e.reason))};if(e.aborted){s();return}n=d_e(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=X7})}var Sat=function(e,t){return lA(void 0,null,function(){var n,r;return aA(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof T4?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},lO=function(e){return function(t){return c_e(m_e(e,t).then(function(n){return Gw(e),n}))}},g_e=function(e){var t=lO(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},Tat=Object.assign,Loe={},uA="listenerMiddleware",Aat=function(e,t){var n=function(r){return d_e(e,function(){return Ww(r,e.reason)})};return function(r,i){jG(r,"taskExecutor");var s=new AbortController;n(s);var o=Sat(function(){return lA(void 0,null,function(){var a;return aA(this,function(l){switch(l.label){case 0:return Gw(e),Gw(s.signal),[4,r({pause:lO(s.signal),delay:g_e(s.signal),signal:s.signal})];case 1:return a=l.sent(),Gw(s.signal),[2,a]}})})},function(){return Ww(s,Eat)});return i!=null&&i.autoJoin&&t.push(o),{result:lO(e)(o),cancel:function(){Ww(s,_at)}}}},kat=function(e,t){var n=function(r,i){return lA(void 0,null,function(){var s,o,a,l;return aA(this,function(u){switch(u.label){case 0:Gw(t),s=function(){},o=new Promise(function(c,d){var f=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){f(),d()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,m_e(t,Promise.race(a))];case 2:return l=u.sent(),Gw(t),[2,l];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return c_e(n(r,i))}},y_e=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Lf(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return jG(s,"options.listener"),{predicate:i,type:t,effect:s}},Iat=function(e){var t=y_e(e),n=t.type,r=t.predicate,i=t.effect,s=u_e(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},Q7=function(e){e.pending.forEach(function(t){Ww(t,p_e)})},Rat=function(e){return function(){e.forEach(Q7),e.clear()}},joe=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},Dat=Lf(uA+"/add"),Pat=Lf(uA+"/removeAll"),Oat=Lf(uA+"/remove"),Nat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Dv([uA+"/error"],e))};function $at(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?Nat:i;jG(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&Q7(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var g=m[p];if(h(g))return g}},l=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=Iat(h)),o(p)},u=function(h){var p=y_e(h),m=p.type,g=p.effect,y=p.predicate,v=a(function(w){var E=typeof m=="string"?w.type===m:w.predicate===y;return E&&w.effect===g});return v&&(v.unsubscribe(),h.cancelActive&&Q7(v)),!!v},c=function(h,p,m,g){return lA(t,null,function(){var y,v,w,E;return aA(this,function(C){switch(C.label){case 0:y=new AbortController,v=kat(l,y.signal),w=[],C.label=1;case 1:return C.trys.push([1,3,4,6]),h.pending.add(y),[4,Promise.resolve(h.effect(p,Tat({},m,{getOriginalState:g,condition:function(S,T){return v(S,T).then(Boolean)},take:v,delay:g_e(y.signal),pause:lO(y.signal),extra:r,signal:y.signal,fork:Aat(y.signal,w),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,T,A){S!==y&&(Ww(S,p_e),A.delete(S))})}})))];case 2:return C.sent(),[3,6];case 3:return E=C.sent(),E instanceof T4||joe(s,E,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(w)];case 5:return C.sent(),Ww(y,Cat),h.pending.delete(y),[7];case 6:return[2]}})})},d=Rat(n),f=function(h){return function(p){return function(m){if(!iat(m))return p(m);if(Dat.match(m))return l(m.payload);if(Pat.match(m)){d();return}if(Oat.match(m))return u(m.payload);var g=h.getState(),y=function(){if(g===Loe)throw new Error(uA+": getOriginalState can only be called synchronously");return g},v;try{if(v=p(m),n.size>0)for(var w=h.getState(),E=Array.from(n.values()),C=0,S=E;C<S.length;C++){var T=S[C],A=!1;try{A=T.predicate(m,w,g)}catch(I){A=!1,joe(s,I,{raisedBy:"predicate"})}A&&c(T,m,h,y)}}finally{g=Loe}return v}}};return{middleware:f,startListening:l,stopListening:u,clearListeners:d}}var Boe;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);jot();function Mat(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let FI;const Fat=new Uint8Array(16);function Lat(){if(!FI&&(FI=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!FI))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return FI(Fat)}const _o=[];for(let e=0;e<256;++e)_o.push((e+256).toString(16).slice(1));function jat(e,t=0){return(_o[e[t+0]]+_o[e[t+1]]+_o[e[t+2]]+_o[e[t+3]]+"-"+_o[e[t+4]]+_o[e[t+5]]+"-"+_o[e[t+6]]+_o[e[t+7]]+"-"+_o[e[t+8]]+_o[e[t+9]]+"-"+_o[e[t+10]]+_o[e[t+11]]+_o[e[t+12]]+_o[e[t+13]]+_o[e[t+14]]+_o[e[t+15]]).toLowerCase()}const Bat=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zoe={randomUUID:Bat};function Uoe(e,t,n){if(zoe.randomUUID&&!e)return zoe.randomUUID();e=e||{};const r=e.random||(e.rng||Lat)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jat(r)}class jf{static get(){let t=Uoe();for(;this.ids.has(t);)t=Uoe();return this.ids.set(t,!0),t}}jf.ids=new Map;function hd(e){return"parent"in e}function v_e(e){return!hd(e)}function zat(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:jf.get(),val:i[u],createdOn:Date.now()}),l),s),a=r?[{id:jf.get(),createdOn:Date.now(),val:r}]:[];return{id:jf.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function Uat({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,d)=>(c[d]=[],i&&i[d]&&c[d].push({type:d,id:jf.get(),val:i[d],createdOn:Date.now()}),c),a),u=s?[{id:jf.get(),createdOn:Date.now(),val:s}]:[];return{id:jf.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function Bi(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=Qat[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Pv(e){return!!e&&!!e[uu]}function W0(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Jat}(e)||Array.isArray(e)||!!e[zS]||!!(!((t=e.constructor)===null||t===void 0)&&t[zS])||A4(e)||k4(e))}function Ex(e,t,n){n===void 0&&(n=!1),G0(e)===0?(n?Object.keys:WG)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function G0(e){var t=e[uu];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:A4(e)?2:k4(e)?3:0}function $2(e,t){return G0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function tP(e,t){return G0(e)===2?e.get(t):e[t]}function b_e(e,t,n){var r=G0(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function Hat(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function A4(e){return Kat&&e instanceof Map}function k4(e){return Xat&&e instanceof Set}function Dy(e){return e.o||e.t}function zG(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Zat(e);delete t[uu];for(var n=WG(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function UG(e,t){return t===void 0&&(t=!1),HG(e)||Pv(e)||!W0(e)||(G0(e)>1&&(e.set=e.add=e.clear=e.delete=qat),Object.freeze(e),t&&Ex(e,function(n,r){return UG(r,!0)},!0)),e}function qat(){Bi(2)}function HG(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Bf(e){var t=tz[e];return t||Bi(18,e),t}function Vat(e,t){tz[e]||(tz[e]=t)}function Hoe(){return{}.NODE_ENV==="production"||Cx||Bi(0),Cx}function $8(e,t){t&&(Bf("Patches"),e.u=[],e.s=[],e.v=t)}function uO(e){J7(e),e.p.forEach(Wat),e.p=null}function J7(e){e===Cx&&(Cx=e.l)}function qoe(e){return Cx={p:[],l:Cx,h:e,m:!0,_:0}}function Wat(e){var t=e[uu];t.i===0||t.i===1?t.j():t.O=!0}function M8(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Bf("ES5").S(t,e,r),r?(n[uu].P&&(uO(t),Bi(4)),W0(e)&&(e=cO(t,e),t.l||dO(t,e)),t.u&&Bf("Patches").M(n[uu].t,e,t.u,t.s)):e=cO(t,n,[]),uO(t),t.u&&t.v(t.u,t.s),e!==VG?e:void 0}function cO(e,t,n){if(HG(t))return t;var r=t[uu];if(!r)return Ex(t,function(s,o){return Voe(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return dO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=zG(r.k):r.o;Ex(r.i===3?new Set(i):i,function(s,o){return Voe(e,r,i,s,o,n)}),dO(e,i,!1),n&&e.u&&Bf("Patches").R(r,n,e.u,e.s)}return r.o}function Voe(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Bi(5),Pv(i)){var o=cO(e,i,s&&t&&t.i!==3&&!$2(t.D,r)?s.concat(r):void 0);if(b_e(n,r,o),!Pv(o))return;e.m=!1}if(W0(i)&&!HG(i)){if(!e.h.F&&e._<1)return;cO(e,i),t&&t.A.l||dO(e,i)}}function dO(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&UG(t,n)}function F8(e,t){var n=e[uu];return(n?Dy(n):e)[t]}function Woe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Z7(e){e.P||(e.P=!0,e.l&&Z7(e.l))}function L8(e){e.o||(e.o=zG(e.t))}function ez(e,t,n){var r=A4(t)?Bf("MapSet").N(t,n):k4(t)?Bf("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Hoe(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=nz;o&&(l=[a],u=YC);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):Bf("ES5").J(t,n);return(n?n.A:Hoe()).p.push(r),r}function Gat(e){return Pv(e)||Bi(22,e),function t(n){if(!W0(n))return n;var r,i=n[uu],s=G0(n);if(i){if(!i.P&&(i.i<4||!Bf("ES5").K(i)))return i.t;i.I=!0,r=Goe(n,s),i.I=!1}else r=Goe(n,s);return Ex(r,function(o,a){i&&tP(i.t,o)===a||b_e(r,o,t(a))}),s===3?new Set(r):r}(e)}function Goe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return zG(e)}function Yat(){function e(r){if(!W0(r))return r;if(Array.isArray(r))return r.map(e);if(A4(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(k4(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return $2(r,zS)&&(i[zS]=r[zS]),i}function t(r){return Pv(r)?e(r):r}var n="add";Vat("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,l=r,u=0;u<o.length-1;u++){var c=G0(l),d=""+o[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||Bi(24),typeof l=="function"&&d==="prototype"&&Bi(24),typeof(l=tP(l,d))!="object"&&Bi(15,o.join("/"))}var f=G0(l),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(f){case 2:return l.set(p,h);case 3:Bi(16);default:return l[p]=h}case n:switch(f){case 1:return p==="-"?l.push(h):l.splice(p,0,h);case 2:return l.set(p,h);case 3:return l.add(h);default:return l[p]=h}case"remove":switch(f){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(s.value);default:return delete l[p]}default:Bi(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,l,u,c){var d=a.t,f=a.o;Ex(a.D,function(h,p){var m=tP(d,h),g=tP(f,h),y=p?$2(d,h)?"replace":n:"remove";if(m!==g||y!=="replace"){var v=l.concat(h);u.push(y==="remove"?{op:y,path:v}:{op:y,path:v,value:g}),c.push(y===n?{op:"remove",path:v}:y==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,l,u,c){var d=a.t,f=a.D,h=a.o;if(h.length<d.length){var p=[h,d];d=p[0],h=p[1];var m=[c,u];u=m[0],c=m[1]}for(var g=0;g<d.length;g++)if(f[g]&&h[g]!==d[g]){var y=l.concat([g]);u.push({op:"replace",path:y,value:t(h[g])}),c.push({op:"replace",path:y,value:t(d[g])})}for(var v=d.length;v<h.length;v++){var w=l.concat([v]);u.push({op:n,path:w,value:t(h[v])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})}(r,i,s,o);case 3:return function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(p){if(!f.has(p)){var m=l.concat([h]);u.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,f.forEach(function(p){if(!d.has(p)){var m=l.concat([h]);u.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===VG?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var Yoe,Cx,qG=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Kat=typeof Map<"u",Xat=typeof Set<"u",Koe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",VG=qG?Symbol.for("immer-nothing"):((Yoe={})["immer-nothing"]=!0,Yoe),zS=qG?Symbol.for("immer-draftable"):"__$immer_draftable",uu=qG?Symbol.for("immer-state"):"__$immer_state",Qat={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Jat=""+Object.prototype.constructor,WG=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Zat=Object.getOwnPropertyDescriptors||function(e){var t={};return WG(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},tz={},nz={get:function(e,t){if(t===uu)return e;var n=Dy(e);if(!$2(n,t))return function(i,s,o){var a,l=Woe(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!W0(r)?r:r===F8(e.t,t)?(L8(e),e.o[t]=ez(e.A.h,r,e)):r},has:function(e,t){return t in Dy(e)},ownKeys:function(e){return Reflect.ownKeys(Dy(e))},set:function(e,t,n){var r=Woe(Dy(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=F8(Dy(e),t),s=i==null?void 0:i[uu];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Hat(n,i)&&(n!==void 0||$2(e.t,t)))return!0;L8(e),Z7(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return F8(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,L8(e),Z7(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Dy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Bi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Bi(12)}},YC={};Ex(nz,function(e,t){YC[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),YC.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Bi(13),YC.set.call(this,e,t,void 0)},YC.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Bi(14),nz.set.call(this,e[0],t,n,e[0])};var elt=function(){function e(n){var r=this;this.g=Koe,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];return l.produce(m,function(E){var C;return(C=s).call.apply(C,[g,E].concat(v))})}}var u;if(typeof s!="function"&&Bi(6),o!==void 0&&typeof o!="function"&&Bi(7),W0(i)){var c=qoe(r),d=ez(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?uO(c):J7(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return $8(c,o),M8(m,c)},function(m){throw uO(c),m}):($8(c,o),M8(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===VG&&(u=void 0),r.F&&UG(u,!0),o){var h=[],p=[];Bf("Patches").M(i,u,h,p),o(h,p)}return u}Bi(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){W0(n)||Bi(8),Pv(n)&&(n=Gat(n));var r=qoe(this),i=ez(this,n,void 0);return i[uu].C=!0,J7(r),i},t.finishDraft=function(n,r){var i=n&&n[uu];({}).NODE_ENV!=="production"&&(i&&i.C||Bi(9),i.I&&Bi(10));var s=i.A;return $8(s,r),M8(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Koe&&Bi(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Bf("Patches").$;return Pv(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),cu=new elt,tlt=cu.produce;cu.produceWithPatches.bind(cu);cu.setAutoFreeze.bind(cu);cu.setUseProxies.bind(cu);cu.applyPatches.bind(cu);cu.createDraft.bind(cu);cu.finishDraft.bind(cu);function nlt(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=zat({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return pat({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,d=a.nodes[u].meta,f=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:jf.get(),val:c[p],createdOn:Date.now()}),h),d);a.nodes[l.payload.id].meta=f},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:jf.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function rlt(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=nlt(e),s=$at();s.startListening({matcher:Foe(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=Foe(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const o=cat({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,l){const u={id:jf.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var ilt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),slt=Object.prototype.hasOwnProperty;function rz(e,t){return slt.call(e,t)}function iz(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)rz(e,i)&&r.push(i);return r}function _l(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function sz(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Py(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function w_e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function oz(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(oz(e[t]))return!0}else if(typeof e=="object"){for(var r=iz(e),i=r.length,s=0;s<i;s++)if(oz(e[r[s]]))return!0}}return!1}function Xoe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var x_e=function(e){ilt(t,e);function t(n,r,i,s,o){var a=this.constructor,l=e.call(this,Xoe(n,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=Xoe(n,{name:r,index:i,operation:s,tree:o}),l}return t}(Error),Li=x_e,olt=_l,Ew={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=fO(n,this.path);r&&(r=_l(r));var i=pv(n,{op:"remove",path:this.from}).removed;return pv(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=fO(n,this.from);return pv(n,{op:"add",path:this.path,value:_l(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:M2(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},alt={add:function(e,t,n){return sz(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Ew.move,copy:Ew.copy,test:Ew.test,_get:Ew._get};function fO(e,t){if(t=="")return e;var n={op:"_get",path:t};return pv(e,n),n.value}function pv(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):hO(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=fO(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=M2(e,t.value),o.test===!1)throw new Li("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Li("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=_l(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=hO;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=w_e(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!sz(h))throw new Li("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);sz(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new Li("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=alt[t.op].call(t,u,h,e);if(o.test===!1)throw new Li("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=d){var o=Ew[t.op].call(t,u,h,e);if(o.test===!1)throw new Li("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new Li("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function I4(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Li("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=_l(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=pv(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function llt(e,t,n){var r=pv(e,t);if(r.test===!1)throw new Li("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function hO(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Li("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Ew[e.op]){if(typeof e.path!="string")throw new Li("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Li('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Li("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Li("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&oz(e.value))throw new Li("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Li("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Li("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=__e([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Li("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Li("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function __e(e,t,n){try{if(!Array.isArray(e))throw new Li("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)I4(_l(t),_l(e),n||!0);else{n=n||hO;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Li)return i;throw i}}function M2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!M2(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!M2(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const ult=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Li,_areEquals:M2,applyOperation:pv,applyPatch:I4,applyReducer:llt,deepClone:olt,getValueByPointer:fO,validate:__e,validator:hO},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var GG=new WeakMap,clt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),dlt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function flt(e){return GG.get(e)}function hlt(e,t){return e.observers.get(t)}function plt(e,t){e.observers.delete(t.callback)}function mlt(e,t){t.unobserve()}function glt(e,t){var n=[],r,i=flt(e);if(!i)i=new clt(e),GG.set(e,i);else{var s=hlt(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=_l(e),t){r.callback=t,r.next=null;var o=function(){az(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){az(r),clearTimeout(r.next),plt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new dlt(t,r)),r}function az(e,t){t===void 0&&(t=!1);var n=GG.get(e.object);YG(n.value,e.object,e.patches,"",t),e.patches.length&&I4(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function YG(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=iz(t),o=iz(e),a=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(rz(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?YG(c,d,n,r+"/"+Py(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Py(u),value:_l(c)}),n.push({op:"replace",path:r+"/"+Py(u),value:_l(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Py(u),value:_l(c)}),n.push({op:"remove",path:r+"/"+Py(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var l=0;l<s.length;l++){var u=s[l];!rz(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Py(u),value:_l(t[u])})}}}function E_e(e,t,n){n===void 0&&(n=!1);var r=[];return YG(e,t,r,"",n),r}const ylt=Object.freeze(Object.defineProperty({__proto__:null,compare:E_e,generate:az,observe:glt,unobserve:mlt},Symbol.toStringTag,{value:"Module"}));Object.assign({},ult,ylt,{JsonPatchError:x_e,deepClone:_l,escapePathComponent:Py,unescapePathComponent:w_e});var KC=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(KC||{});function nP(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=C_e(i,e,t);s.shift();const o=s.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=nP(i,t);return I4(a,_l(o),!0,!1).newDocument}function vlt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function cA({registry:e,initialState:t}){let n=!1;const r=Mat(),i=rlt(t);function s(c){return i.backend.nodes[c]}r.listen(KC.TRAVERSAL_START,()=>{n=!0}),r.listen(KC.TRAVERSAL_END,()=>{n=!1});const o={add(c,d=i.current.id){i.update(i.addMetadata({id:d,meta:c}))},latestOfType(c,d=i.current.id){var f;return(f=i.backend.nodes[d].meta[c])==null?void 0:f.at(-1)},allOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]},latest(c=i.current.id){const d=i.backend.nodes[c].meta,f=Object.keys(d).reduce((h,p)=>{const m=d[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(f).length>0?f:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,d=i.current.id){i.update(i.addArtifact({id:d,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,d=i.current.id){o.add({annotation:c},d)},latest(c=i.current.id){var d;return(d=o.latestOfType("annotation",c))==null?void 0:d.val},all(c=i.current.id){var d;return(d=o.allOfType("annotation",c))==null?void 0:d.map(f=>f.val)}},u={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var d;return!!((d=o.latestOfType("bookmark",c))!=null&&d.val)},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return nP(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:d,sideEffects:f,eventType:h,onlySideEffects:p=!1}){let m=null,g=null;const y=nP(this.current,this.graph.backend.nodes);if(p)g={type:"checkpoint",val:d};else{const v=E_e(y,d);if(vlt(d,v)==="checkpoint")g={type:"checkpoint",val:d};else{const w=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:v,checkpointRef:w}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=Uat({label:c,state:g,parent:this.current,sideEffects:f,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,d){const f=e.get(d.type),h=nP(this.current,this.graph.backend.nodes);if(f.config.hasSideEffects){const{do:p=d,undo:m}=f.func(d.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:f.config.eventType})}else{const p=f.func(h,d.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:f.config.eventType})}},async to(c){r.fire(KC.TRAVERSAL_START);const d=C_e(i.current,i.backend.nodes[c],i.backend.nodes),f=[];for(let h=0;h<d.length-1;++h){const p=s(d[h]),m=s(d[h+1]);wlt(p,m)?hd(p)&&f.push(...p.sideEffects.undo):hd(m)&&f.push(...m.sideEffects.do)}for(const h of f){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(KC.TRAVERSAL_END)},undo(){const{current:c}=i;return hd(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:d}=i;return d.children.length>0?this.to(d.children[c==="oldest"?0:d.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,d=!1){return i.currentChange(c,{skipOnNew:d})},done(){console.log("Setup later for URL sharing.")},tree(){return S_e(i.root,i.backend.nodes)},on(c,d){r.listen(c,d)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const d=JSON.parse(c),f=d.current;d.current=d.root,i.update(i.load(d)),this.to(f)},importObject(c){const d=c.current;c.current=c.root,i.update(i.load(c)),this.to(d)},metadata:o,artifact:a,annotations:l,bookmarks:u}}function blt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;hd(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)hd(r)&&(r=n[r.parent]),hd(i)&&(i=n[i.parent]);return r.id}function C_e(e,t,n){const r=blt(e,t,n),i=n[r],s=[],o=[];let[a,l]=[e,t];for(;a.id!==i.id;)s.push(a),hd(a)&&(a=n[a.parent]);for(s.push(a);l.id!==i.id;)o.push(l),hd(l)&&(l=n[l.parent]);const u=o.reverse();return[...s,...u].map(c=>c.id)}function wlt(e,t){if(hd(e)&&e.parent===t.id)return!0;if(hd(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function S_e(e,t){return{...e,children:e.children.map(n=>S_e(t[n],t)),name:`${e.label}`}}Yat();function xlt(e){return e.length===2?tlt(e):e}class Sb{static create(){return new Sb}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:xlt(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Lf(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}function Tp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _lt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M_(e){let t,n,r;e.length!==2?(t=Tp,n=(a,l)=>Tp(e(a),l),r=(a,l)=>e(a)-l):(t=e===Tp||e===_lt?e:Elt,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function Elt(){return 0}function T_e(e){return e===null?NaN:+e}function*Clt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const A_e=M_(Tp),Y0=A_e.right,Slt=A_e.left;M_(T_e).center;function Tlt(e,t){let n=0,r,i=0,s=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,s+=r*(o-i));else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i))}if(n>1)return s/(n-1)}function Alt(e,t){const n=Tlt(e,t);return n&&Math.sqrt(n)}function klt(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class ja{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=t+s,a=Math.abs(t)<Math.abs(s)?t-(o-s):s-(o-t);a&&(n[r++]=a),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,s,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,s=i-(o-r),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}class Qoe extends Map{constructor(t,n=R_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(lz(this,t))}has(t){return super.has(lz(this,t))}set(t,n){return super.set(k_e(this,t),n)}delete(t){return super.delete(I_e(this,t))}}class pO extends Set{constructor(t,n=R_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(lz(this,t))}add(t){return super.add(k_e(this,t))}delete(t){return super.delete(I_e(this,t))}}function lz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function k_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function I_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function R_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ilt(e,t){return Array.from(t,n=>e[n])}function Rlt(e=Tp){if(e===Tp)return D_e;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function D_e(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Dlt=Math.sqrt(50),Plt=Math.sqrt(10),Olt=Math.sqrt(2);function mO(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Dlt?10:s>=Plt?5:s>=Olt?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?mO(e,t,n*2):[a,l,u]}function uz(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?mO(t,e,n):mO(e,t,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function cz(e,t,n){return t=+t,e=+e,n=+n,mO(e,t,n)[2]}function K0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?cz(t,e,n):cz(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function mv(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function dz(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function P_e(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?D_e:Rlt(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*d/l+f)),p=Math.min(r,Math.floor(t+(l-u)*d/l+f));P_e(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(tC(e,n,t),i(e[r],s)>0&&tC(e,n,r);o<a;){for(tC(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?tC(e,n,a):(++a,tC(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function tC(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function fz(e,t,n){if(e=Float64Array.from(Clt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return dz(e);if(t>=1)return mv(e);var r,i=(r-1)*t,s=Math.floor(i),o=mv(P_e(e,s).subarray(0,s+1)),a=dz(e.subarray(s+1));return o+(a-o)*(i-s)}}function O_e(e,t,n=T_e){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function Nlt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function N_e(e,t){return fz(e,.5,t)}function*$lt(e){for(const t of e)yield*t}function $_e(e){return Array.from($lt(e))}function Ma(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function M_e(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function Mlt(e,...t){e=new pO(e),t=t.map(Flt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Flt(e){return e instanceof pO?e:new pO(e)}function Llt(...e){const t=new pO;for(const n of e)for(const r of n)t.add(r);return t}var jlt={value:()=>{}};function KG(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new rP(n)}function rP(e){this._=e}function Blt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}rP.prototype=KG.prototype={constructor:rP,on:function(e,t){var n=this._,r=Blt(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=zlt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Joe(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Joe(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new rP(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function zlt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Joe(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=jlt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var hz="http://www.w3.org/1999/xhtml";const Zoe={svg:"http://www.w3.org/2000/svg",xhtml:hz,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function R4(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Zoe.hasOwnProperty(t)?{space:Zoe[t],local:e}:e}function Ult(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===hz&&t.documentElement.namespaceURI===hz?t.createElement(e):t.createElementNS(n,e)}}function Hlt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function F_e(e){var t=R4(e);return(t.local?Hlt:Ult)(t)}function qlt(){}function XG(e){return e==null?qlt:function(){return this.querySelector(e)}}function Vlt(e){typeof e!="function"&&(e=XG(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new du(r,this._parents)}function Wlt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Glt(){return[]}function L_e(e){return e==null?Glt:function(){return this.querySelectorAll(e)}}function Ylt(e){return function(){return Wlt(e.apply(this,arguments))}}function Klt(e){typeof e=="function"?e=Ylt(e):e=L_e(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new du(r,i)}function j_e(e){return function(){return this.matches(e)}}function B_e(e){return function(t){return t.matches(e)}}var Xlt=Array.prototype.find;function Qlt(e){return function(){return Xlt.call(this.children,e)}}function Jlt(){return this.firstElementChild}function Zlt(e){return this.select(e==null?Jlt:Qlt(typeof e=="function"?e:B_e(e)))}var eut=Array.prototype.filter;function tut(){return Array.from(this.children)}function nut(e){return function(){return eut.call(this.children,e)}}function rut(e){return this.selectAll(e==null?tut:nut(typeof e=="function"?e:B_e(e)))}function iut(e){typeof e!="function"&&(e=j_e(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new du(r,this._parents)}function z_e(e){return new Array(e.length)}function sut(){return new du(this._enter||this._groups.map(z_e),this._parents)}function gO(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}gO.prototype={constructor:gO,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function out(e){return function(){return e}}function aut(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new gO(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function lut(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=u.get(h))?(r[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new gO(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function uut(e){return e.__data__}function cut(e,t){if(!arguments.length)return Array.from(this,uut);var n=t?lut:aut,r=this._parents,i=this._groups;typeof e!="function"&&(e=out(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],f=d.length,h=dut(e.call(c,c&&c.__data__,u,r)),p=h.length,m=a[u]=new Array(p),g=o[u]=new Array(p),y=l[u]=new Array(f);n(c,d,m,g,y,h,t);for(var v=0,w=0,E,C;v<p;++v)if(E=m[v]){for(v>=w&&(w=v+1);!(C=g[w])&&++w<p;);E._next=C||null}}return o=new du(o,r),o._enter=a,o._exit=l,o}function dut(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fut(){return new du(this._exit||this._groups.map(z_e),this._parents)}function hut(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function put(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<i;++l)a[l]=n[l];return new du(a,this._parents)}function mut(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function gut(e){e||(e=yut);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new du(i,this._parents).order()}function yut(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function vut(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function but(){return Array.from(this)}function wut(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function xut(){let e=0;for(const t of this)++e;return e}function _ut(){return!this.node()}function Eut(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function Cut(e){return function(){this.removeAttribute(e)}}function Sut(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Tut(e,t){return function(){this.setAttribute(e,t)}}function Aut(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function kut(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Iut(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Rut(e,t){var n=R4(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Sut:Cut:typeof t=="function"?n.local?Iut:kut:n.local?Aut:Tut)(n,t))}function U_e(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Dut(e){return function(){this.style.removeProperty(e)}}function Put(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Out(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Nut(e,t,n){return arguments.length>1?this.each((t==null?Dut:typeof t=="function"?Out:Put)(e,t,n??"")):Sx(this.node(),e)}function Sx(e,t){return e.style.getPropertyValue(t)||U_e(e).getComputedStyle(e,null).getPropertyValue(t)}function $ut(e){return function(){delete this[e]}}function Mut(e,t){return function(){this[e]=t}}function Fut(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Lut(e,t){return arguments.length>1?this.each((t==null?$ut:typeof t=="function"?Fut:Mut)(e,t)):this.node()[e]}function H_e(e){return e.trim().split(/^|\s+/)}function QG(e){return e.classList||new q_e(e)}function q_e(e){this._node=e,this._names=H_e(e.getAttribute("class")||"")}q_e.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function V_e(e,t){for(var n=QG(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function W_e(e,t){for(var n=QG(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function jut(e){return function(){V_e(this,e)}}function But(e){return function(){W_e(this,e)}}function zut(e,t){return function(){(t.apply(this,arguments)?V_e:W_e)(this,e)}}function Uut(e,t){var n=H_e(e+"");if(arguments.length<2){for(var r=QG(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?zut:t?jut:But)(n,t))}function Hut(){this.textContent=""}function qut(e){return function(){this.textContent=e}}function Vut(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Wut(e){return arguments.length?this.each(e==null?Hut:(typeof e=="function"?Vut:qut)(e)):this.node().textContent}function Gut(){this.innerHTML=""}function Yut(e){return function(){this.innerHTML=e}}function Kut(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Xut(e){return arguments.length?this.each(e==null?Gut:(typeof e=="function"?Kut:Yut)(e)):this.node().innerHTML}function Qut(){this.nextSibling&&this.parentNode.appendChild(this)}function Jut(){return this.each(Qut)}function Zut(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ect(){return this.each(Zut)}function tct(e){var t=typeof e=="function"?e:F_e(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function nct(){return null}function rct(e,t){var n=typeof e=="function"?e:F_e(e),r=t==null?nct:typeof t=="function"?t:XG(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ict(){var e=this.parentNode;e&&e.removeChild(this)}function sct(){return this.each(ict)}function oct(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function act(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lct(e){return this.select(e?act:oct)}function uct(e){return arguments.length?this.property("__data__",e):this.node().__data__}function cct(e){return function(t){e.call(this,t,this.__data__)}}function dct(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function fct(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function hct(e,t,n){return function(){var r=this.__on,i,s=cct(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function pct(e,t,n){var r=dct(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?hct:fct,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function G_e(e,t,n){var r=U_e(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function mct(e,t){return function(){return G_e(this,e,t)}}function gct(e,t){return function(){return G_e(this,e,t.apply(this,arguments))}}function yct(e,t){return this.each((typeof t=="function"?gct:mct)(e,t))}function*vct(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Y_e=[null];function du(e,t){this._groups=e,this._parents=t}function dA(){return new du([[document.documentElement]],Y_e)}function bct(){return this}du.prototype=dA.prototype={constructor:du,select:Vlt,selectAll:Klt,selectChild:Zlt,selectChildren:rut,filter:iut,data:cut,enter:sut,exit:fut,join:hut,merge:put,selection:bct,order:mut,sort:gut,call:vut,nodes:but,node:wut,size:xut,empty:_ut,each:Eut,attr:Rut,style:Nut,property:Lut,classed:Uut,text:Wut,html:Xut,raise:Jut,lower:ect,append:tct,insert:rct,remove:sct,clone:lct,datum:uct,on:pct,dispatch:yct,[Symbol.iterator]:vct};function pz(e){return typeof e=="string"?new du([[document.querySelector(e)]],[document.documentElement]):new du([[e]],Y_e)}function wct(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xct(e,t){if(e=wct(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function F_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fA(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _g(){}var Ov=.7,Tx=1/Ov,Yw="\\s*([+-]?\\d+)\\s*",F2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_ct=/^#([0-9a-f]{3,8})$/,Ect=new RegExp(`^rgb\\(${Yw},${Yw},${Yw}\\)$`),Cct=new RegExp(`^rgb\\(${zf},${zf},${zf}\\)$`),Sct=new RegExp(`^rgba\\(${Yw},${Yw},${Yw},${F2}\\)$`),Tct=new RegExp(`^rgba\\(${zf},${zf},${zf},${F2}\\)$`),Act=new RegExp(`^hsl\\(${F2},${zf},${zf}\\)$`),kct=new RegExp(`^hsla\\(${F2},${zf},${zf},${F2}\\)$`),eae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F_(_g,Nv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tae,formatHex:tae,formatHex8:Ict,formatHsl:Rct,formatRgb:nae,toString:nae});function tae(){return this.rgb().formatHex()}function Ict(){return this.rgb().formatHex8()}function Rct(){return K_e(this).formatHsl()}function nae(){return this.rgb().formatRgb()}function Nv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_ct.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rae(t):n===3?new Zs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?LI(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?LI(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ect.exec(e))?new Zs(t[1],t[2],t[3],1):(t=Cct.exec(e))?new Zs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Sct.exec(e))?LI(t[1],t[2],t[3],t[4]):(t=Tct.exec(e))?LI(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Act.exec(e))?oae(t[1],t[2]/100,t[3]/100,1):(t=kct.exec(e))?oae(t[1],t[2]/100,t[3]/100,t[4]):eae.hasOwnProperty(e)?rae(eae[e]):e==="transparent"?new Zs(NaN,NaN,NaN,0):null}function rae(e){return new Zs(e>>16&255,e>>8&255,e&255,1)}function LI(e,t,n,r){return r<=0&&(e=t=n=NaN),new Zs(e,t,n,r)}function JG(e){return e instanceof _g||(e=Nv(e)),e?(e=e.rgb(),new Zs(e.r,e.g,e.b,e.opacity)):new Zs}function Jf(e,t,n,r){return arguments.length===1?JG(e):new Zs(e,t,n,r??1)}function Zs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}F_(Zs,Jf,fA(_g,{brighter(e){return e=e==null?Tx:Math.pow(Tx,e),new Zs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ov:Math.pow(Ov,e),new Zs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zs(gv(this.r),gv(this.g),gv(this.b),yO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iae,formatHex:iae,formatHex8:Dct,formatRgb:sae,toString:sae}));function iae(){return`#${nv(this.r)}${nv(this.g)}${nv(this.b)}`}function Dct(){return`#${nv(this.r)}${nv(this.g)}${nv(this.b)}${nv((isNaN(this.opacity)?1:this.opacity)*255)}`}function sae(){const e=yO(this.opacity);return`${e===1?"rgb(":"rgba("}${gv(this.r)}, ${gv(this.g)}, ${gv(this.b)}${e===1?")":`, ${e})`}`}function yO(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function nv(e){return e=gv(e),(e<16?"0":"")+e.toString(16)}function oae(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Xc(e,t,n,r)}function K_e(e){if(e instanceof Xc)return new Xc(e.h,e.s,e.l,e.opacity);if(e instanceof _g||(e=Nv(e)),!e)return new Xc;if(e instanceof Xc)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Xc(o,a,l,e.opacity)}function L2(e,t,n,r){return arguments.length===1?K_e(e):new Xc(e,t,n,r??1)}function Xc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}F_(Xc,L2,fA(_g,{brighter(e){return e=e==null?Tx:Math.pow(Tx,e),new Xc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ov:Math.pow(Ov,e),new Xc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Zs(j8(e>=240?e-240:e+120,i,r),j8(e,i,r),j8(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Xc(aae(this.h),jI(this.s),jI(this.l),yO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yO(this.opacity);return`${e===1?"hsl(":"hsla("}${aae(this.h)}, ${jI(this.s)*100}%, ${jI(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aae(e){return e=(e||0)%360,e<0?e+360:e}function jI(e){return Math.max(0,Math.min(1,e||0))}function j8(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const X_e=Math.PI/180,Q_e=180/Math.PI,vO=18,J_e=.96422,Z_e=1,eEe=.82521,tEe=4/29,Kw=6/29,nEe=3*Kw*Kw,Pct=Kw*Kw*Kw;function rEe(e){if(e instanceof Uf)return new Uf(e.l,e.a,e.b,e.opacity);if(e instanceof mp)return iEe(e);e instanceof Zs||(e=JG(e));var t=H8(e.r),n=H8(e.g),r=H8(e.b),i=B8((.2225045*t+.7168786*n+.0606169*r)/Z_e),s,o;return t===n&&n===r?s=o=i:(s=B8((.4360747*t+.3850649*n+.1430804*r)/J_e),o=B8((.0139322*t+.0971045*n+.7141733*r)/eEe)),new Uf(116*i-16,500*(s-i),200*(i-o),e.opacity)}function $v(e,t,n,r){return arguments.length===1?rEe(e):new Uf(e,t,n,r??1)}function Uf(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}F_(Uf,$v,fA(_g,{brighter(e){return new Uf(this.l+vO*(e??1),this.a,this.b,this.opacity)},darker(e){return new Uf(this.l-vO*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=J_e*z8(t),e=Z_e*z8(e),n=eEe*z8(n),new Zs(U8(3.1338561*t-1.6168667*e-.4906146*n),U8(-.9787684*t+1.9161415*e+.033454*n),U8(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function B8(e){return e>Pct?Math.pow(e,1/3):e/nEe+tEe}function z8(e){return e>Kw?e*e*e:nEe*(e-tEe)}function U8(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function H8(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Oct(e){if(e instanceof mp)return new mp(e.h,e.c,e.l,e.opacity);if(e instanceof Uf||(e=rEe(e)),e.a===0&&e.b===0)return new mp(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Q_e;return new mp(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function j2(e,t,n,r){return arguments.length===1?Oct(e):new mp(e,t,n,r??1)}function mp(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function iEe(e){if(isNaN(e.h))return new Uf(e.l,0,0,e.opacity);var t=e.h*X_e;return new Uf(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}F_(mp,j2,fA(_g,{brighter(e){return new mp(this.h,this.c,this.l+vO*(e??1),this.opacity)},darker(e){return new mp(this.h,this.c,this.l-vO*(e??1),this.opacity)},rgb(){return iEe(this).rgb()}}));var sEe=-.14861,ZG=1.78277,eY=-.29227,D4=-.90649,B2=1.97294,lae=B2*D4,uae=B2*ZG,cae=ZG*eY-D4*sEe;function Nct(e){if(e instanceof yv)return new yv(e.h,e.s,e.l,e.opacity);e instanceof Zs||(e=JG(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(cae*r+lae*t-uae*n)/(cae+lae-uae),s=r-i,o=(B2*(n-i)-eY*s)/D4,a=Math.sqrt(o*o+s*s)/(B2*i*(1-i)),l=a?Math.atan2(o,s)*Q_e-120:NaN;return new yv(l<0?l+360:l,a,i,e.opacity)}function X0(e,t,n,r){return arguments.length===1?Nct(e):new yv(e,t,n,r??1)}function yv(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}F_(yv,X0,fA(_g,{brighter(e){return e=e==null?Tx:Math.pow(Tx,e),new yv(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ov:Math.pow(Ov,e),new yv(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*X_e,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Zs(255*(t+n*(sEe*r+ZG*i)),255*(t+n*(eY*r+D4*i)),255*(t+n*(B2*r)),this.opacity)}}));function oEe(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}function aEe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],o=r>0?e[r-1]:2*i-s,a=r<t-1?e[r+2]:2*s-i;return oEe((n-r/t)*t,o,i,s,a)}}function lEe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],a=e[(r+2)%t];return oEe((n-r/t)*t,i,s,o,a)}}const P4=e=>()=>e;function uEe(e,t){return function(n){return e+n*t}}function $ct(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function O4(e,t){var n=t-e;return n?uEe(e,n>180||n<-180?n-360*Math.round(n/360):n):P4(isNaN(e)?t:e)}function Mct(e){return(e=+e)==1?eo:function(t,n){return n-t?$ct(t,n,e):P4(isNaN(t)?n:t)}}function eo(e,t){var n=t-e;return n?uEe(e,n):P4(isNaN(e)?t:e)}const z2=function e(t){var n=Mct(t);function r(i,s){var o=n((i=Jf(i)).r,(s=Jf(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=eo(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function cEe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=Jf(t[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=e(r),i=e(i),s=e(s),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=s(l),a+""}}}var dEe=cEe(aEe),Fct=cEe(lEe);function tY(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function fEe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Lct(e,t){return(fEe(t)?tY:hEe)(e,t)}function hEe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Eg(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function pEe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Lu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function mEe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Eg(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var mz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q8=new RegExp(mz.source,"g");function jct(e){return function(){return e}}function Bct(e){return function(t){return e(t)+""}}function nY(e,t){var n=mz.lastIndex=q8.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=mz.exec(e))&&(i=q8.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Lu(r,i)})),n=q8.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Bct(l[0].x):jct(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Eg(e,t){var n=typeof t,r;return t==null||n==="boolean"?P4(t):(n==="number"?Lu:n==="string"?(r=Nv(t))?(t=r,z2):nY:t instanceof Nv?z2:t instanceof Date?pEe:fEe(t)?tY:Array.isArray(t)?hEe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mEe:Lu)(e,t)}function zct(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Uct(e,t){var n=O4(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function hA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var dae=180/Math.PI,gz={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gEe(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*dae,skewX:Math.atan(l)*dae,scaleX:o,scaleY:a}}var BI;function Hct(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gz:gEe(t.a,t.b,t.c,t.d,t.e,t.f)}function qct(e){return e==null||(BI||(BI=document.createElementNS("http://www.w3.org/2000/svg","g")),BI.setAttribute("transform",e),!(e=BI.transform.baseVal.consolidate()))?gz:(e=e.matrix,gEe(e.a,e.b,e.c,e.d,e.e,e.f))}function yEe(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:Lu(u,d)},{i:m-2,x:Lu(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Lu(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Lu(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Lu(u,d)},{i:m-2,x:Lu(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),o(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var p=-1,m=f.length,g;++p<m;)d[(g=f[p]).i]=g.x(h);return d.join("")}}}var vEe=yEe(Hct,"px, ","px)","deg)"),bEe=yEe(qct,", ",")",")"),Vct=1e-12;function fae(e){return((e=Math.exp(e))+1/e)/2}function Wct(e){return((e=Math.exp(e))-1/e)/2}function Gct(e){return((e=Math.exp(2*e))-1)/(e+1)}const Yct=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],d=o[1],f=o[2],h=c-a,p=d-l,m=h*h+p*p,g,y;if(m<Vct)y=Math.log(f/u)/t,g=function(T){return[a+T*h,l+T*p,u*Math.exp(t*T*y)]};else{var v=Math.sqrt(m),w=(f*f-u*u+r*m)/(2*u*n*v),E=(f*f-u*u-r*m)/(2*f*n*v),C=Math.log(Math.sqrt(w*w+1)-w),S=Math.log(Math.sqrt(E*E+1)-E);y=(S-C)/t,g=function(T){var A=T*y,I=fae(C),D=u/(n*v)*(I*Gct(t*A+C)-Wct(C));return[a+D*h,l+D*p,u*I/fae(t*A+C)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);function wEe(e){return function(t,n){var r=e((t=L2(t)).h,(n=L2(n)).h),i=eo(t.s,n.s),s=eo(t.l,n.l),o=eo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const Kct=wEe(O4);var Xct=wEe(eo);function Qct(e,t){var n=eo((e=$v(e)).l,(t=$v(t)).l),r=eo(e.a,t.a),i=eo(e.b,t.b),s=eo(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=s(o),e+""}}function xEe(e){return function(t,n){var r=e((t=j2(t)).h,(n=j2(n)).h),i=eo(t.c,n.c),s=eo(t.l,n.l),o=eo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const Jct=xEe(O4);var Zct=xEe(eo);function _Ee(e){return function t(n){n=+n;function r(i,s){var o=e((i=X0(i)).h,(s=X0(s)).h),a=eo(i.s,s.s),l=eo(i.l,s.l),u=eo(i.opacity,s.opacity);return function(c){return i.h=o(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const edt=_Ee(O4);var rY=_Ee(eo);function iY(e,t){t===void 0&&(t=e,e=Eg);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function tdt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const ndt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Eg,interpolateArray:Lct,interpolateBasis:aEe,interpolateBasisClosed:lEe,interpolateCubehelix:edt,interpolateCubehelixLong:rY,interpolateDate:pEe,interpolateDiscrete:zct,interpolateHcl:Jct,interpolateHclLong:Zct,interpolateHsl:Kct,interpolateHslLong:Xct,interpolateHue:Uct,interpolateLab:Qct,interpolateNumber:Lu,interpolateNumberArray:tY,interpolateObject:mEe,interpolateRgb:z2,interpolateRgbBasis:dEe,interpolateRgbBasisClosed:Fct,interpolateRound:hA,interpolateString:nY,interpolateTransformCss:vEe,interpolateTransformSvg:bEe,interpolateZoom:Yct,piecewise:iY,quantize:tdt},Symbol.toStringTag,{value:"Module"}));var Ax=0,XC=0,nC=0,EEe=1e3,bO,QC,wO=0,Mv=0,N4=0,U2=typeof performance=="object"&&performance.now?performance:Date,CEe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $4(){return Mv||(CEe(rdt),Mv=U2.now()+N4)}function rdt(){Mv=0}function H2(){this._call=this._time=this._next=null}H2.prototype=sY.prototype={constructor:H2,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$4():+n)+(t==null?0:+t),!this._next&&QC!==this&&(QC?QC._next=this:bO=this,QC=this),this._call=e,this._time=n,yz()},stop:function(){this._call&&(this._call=null,this._time=1/0,yz())}};function sY(e,t,n){var r=new H2;return r.restart(e,t,n),r}function idt(){$4(),++Ax;for(var e=bO,t;e;)(t=Mv-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ax}function hae(){Mv=(wO=U2.now())+N4,Ax=XC=0;try{idt()}finally{Ax=0,odt(),Mv=0}}function sdt(){var e=U2.now(),t=e-wO;t>EEe&&(N4-=t,wO=e)}function odt(){for(var e,t=bO,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:bO=n);QC=e,yz(r)}function yz(e){if(!Ax){XC&&(XC=clearTimeout(XC));var t=e-Mv;t>24?(e<1/0&&(XC=setTimeout(hae,e-U2.now()-N4)),nC&&(nC=clearInterval(nC))):(nC||(wO=U2.now(),nC=setInterval(sdt,EEe)),Ax=1,CEe(hae))}}function pae(e,t,n){var r=new H2;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function adt(e,t,n){var r=new H2,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(s,o,a){o=+o,a=a==null?$4():+a,r._restart(function l(u){u+=i,r._restart(l,i+=o,a),s(u)},o,a)},r.restart(e,t,n),r)}var ldt=KG("start","end","cancel","interrupt"),udt=[],SEe=0,mae=1,vz=2,iP=3,gae=4,bz=5,sP=6;function M4(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;cdt(e,n,{name:t,index:r,group:i,on:ldt,tween:udt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:SEe})}function oY(e,t){var n=Ld(e,t);if(n.state>SEe)throw new Error("too late; already scheduled");return n}function ph(e,t){var n=Ld(e,t);if(n.state>iP)throw new Error("too late; already running");return n}function Ld(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function cdt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=sY(s,0,n.time);function s(u){n.state=mae,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,f,h;if(n.state!==mae)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===iP)return pae(o);h.state===gae?(h.state=sP,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=sP,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(pae(function(){n.state===iP&&(n.state=gae,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=vz,n.on.call("start",e,e.__data__,n.index,n.group),n.state===vz){for(n.state=iP,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=bz,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===bz&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=sP,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ddt(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>vz&&r.state<bz,r.state=sP,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function fdt(e){return this.each(function(){ddt(this,e)})}function hdt(e,t){var n,r;return function(){var i=ph(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function pdt(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ph(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function mdt(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ld(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?hdt:pdt)(n,e,t))}function aY(e,t,n){var r=e._id;return e.each(function(){var i=ph(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ld(i,r).value[t]}}function TEe(e,t){var n;return(typeof t=="number"?Lu:t instanceof Nv?z2:(n=Nv(t))?(t=n,z2):nY)(e,t)}function gdt(e){return function(){this.removeAttribute(e)}}function ydt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vdt(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function bdt(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function wdt(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function xdt(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function _dt(e,t){var n=R4(e),r=n==="transform"?bEe:TEe;return this.attrTween(e,typeof t=="function"?(n.local?xdt:wdt)(n,r,aY(this,"attr."+e,t)):t==null?(n.local?ydt:gdt)(n):(n.local?bdt:vdt)(n,r,t))}function Edt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Cdt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Sdt(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Cdt(e,s)),n}return i._value=t,i}function Tdt(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Edt(e,s)),n}return i._value=t,i}function Adt(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=R4(e);return this.tween(n,(r.local?Sdt:Tdt)(r,t))}function kdt(e,t){return function(){oY(this,e).delay=+t.apply(this,arguments)}}function Idt(e,t){return t=+t,function(){oY(this,e).delay=t}}function Rdt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kdt:Idt)(t,e)):Ld(this.node(),t).delay}function Ddt(e,t){return function(){ph(this,e).duration=+t.apply(this,arguments)}}function Pdt(e,t){return t=+t,function(){ph(this,e).duration=t}}function Odt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ddt:Pdt)(t,e)):Ld(this.node(),t).duration}function Ndt(e,t){if(typeof t!="function")throw new Error;return function(){ph(this,e).ease=t}}function $dt(e){var t=this._id;return arguments.length?this.each(Ndt(t,e)):Ld(this.node(),t).ease}function Mdt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ph(this,e).ease=n}}function Fdt(e){if(typeof e!="function")throw new Error;return this.each(Mdt(this._id,e))}function Ldt(e){typeof e!="function"&&(e=j_e(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Vp(r,this._parents,this._name,this._id)}function jdt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=o[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new Vp(o,this._parents,this._name,this._id)}function Bdt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function zdt(e,t,n){var r,i,s=Bdt(t)?oY:ph;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function Udt(e,t){var n=this._id;return arguments.length<2?Ld(this.node(),n).on.on(e):this.each(zdt(n,e,t))}function Hdt(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function qdt(){return this.on("end.remove",Hdt(this._id))}function Vdt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=XG(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,M4(u[f],t,n,f,u,Ld(c,n)));return new Vp(s,this._parents,t,n)}function Wdt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=L_e(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,p=Ld(c,n),m=0,g=f.length;m<g;++m)(h=f[m])&&M4(h,t,n,m,f,p);s.push(f),o.push(c)}return new Vp(s,o,t,n)}var Gdt=dA.prototype.constructor;function Ydt(){return new Gdt(this._groups,this._parents)}function Kdt(e,t){var n,r,i;return function(){var s=Sx(this,e),o=(this.style.removeProperty(e),Sx(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function AEe(e){return function(){this.style.removeProperty(e)}}function Xdt(e,t,n){var r,i=n+"",s;return function(){var o=Sx(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function Qdt(e,t,n){var r,i,s;return function(){var o=Sx(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Sx(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function Jdt(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=ph(this,e),u=l.on,c=l.value[s]==null?a||(a=AEe(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function Zdt(e,t,n){var r=(e+="")=="transform"?vEe:TEe;return t==null?this.styleTween(e,Kdt(e,r)).on("end.style."+e,AEe(e)):typeof t=="function"?this.styleTween(e,Qdt(e,r,aY(this,"style."+e,t))).each(Jdt(this._id,e)):this.styleTween(e,Xdt(e,r,t),n).on("end.style."+e,null)}function eft(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function tft(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&eft(e,o,n)),r}return s._value=t,s}function nft(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,tft(e,t,n??""))}function rft(e){return function(){this.textContent=e}}function ift(e){return function(){var t=e(this);this.textContent=t??""}}function sft(e){return this.tween("text",typeof e=="function"?ift(aY(this,"text",e)):rft(e==null?"":e+""))}function oft(e){return function(t){this.textContent=e.call(this,t)}}function aft(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&oft(i)),t}return r._value=e,r}function lft(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,aft(e))}function uft(){for(var e=this._name,t=this._id,n=kEe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Ld(l,t);M4(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Vp(r,this._parents,e,n)}function cft(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=ph(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var dft=0;function Vp(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function kEe(){return++dft}var qh=dA.prototype;Vp.prototype={constructor:Vp,select:Vdt,selectAll:Wdt,selectChild:qh.selectChild,selectChildren:qh.selectChildren,filter:Ldt,merge:jdt,selection:Ydt,transition:uft,call:qh.call,nodes:qh.nodes,node:qh.node,size:qh.size,empty:qh.empty,each:qh.each,on:Udt,attr:_dt,attrTween:Adt,style:Zdt,styleTween:nft,text:sft,textTween:lft,remove:qdt,tween:mdt,delay:Rdt,duration:Odt,ease:$dt,easeVarying:Fdt,end:cft,[Symbol.iterator]:qh[Symbol.iterator]};function fft(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var hft={time:null,delay:0,duration:250,ease:fft};function pft(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function mft(e){var t,n;e instanceof Vp?(t=e._id,e=e._name):(t=kEe(),(n=hft).time=$4(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&M4(l,e,t,u,o,n||pft(l,t));return new Vp(r,this._parents,e,t)}dA.prototype.interrupt=fdt;dA.prototype.transition=mft;const wz=Math.PI,xz=2*wz,Oy=1e-6,gft=xz-Oy;function IEe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function yft(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IEe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let lY=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IEe:yft(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-t,u=i-n,c=o-t,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Oy)if(!(Math.abs(d*l-u*c)>Oy)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=l*l+u*u,g=h*h+p*p,y=Math.sqrt(m),v=Math.sqrt(f),w=s*Math.tan((wz-Math.acos((m+f-g)/(2*y*v)))/2),E=w/v,C=w/y;Math.abs(E-1)>Oy&&this._append`L${t+E*c},${n+E*d}`,this._append`A${s},${s},0,0,${+(d*h>c*p)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Oy||Math.abs(this._y1-c)>Oy)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%xz+xz),f>gft?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>Oy&&this._append`A${r},${r},0,${+(f>=wz)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function F4(){return new lY}F4.prototype=lY.prototype;const Ap=11102230246251565e-32,Wo=134217729,vft=(3+8*Ap)*Ap;function V8(e,t,n,r,i){let s,o,a,l,u=t[0],c=r[0],d=0,f=0;c>u==c>-u?(s=u,u=t[++d]):(s=c,c=r[++f]);let h=0;if(d<e&&f<n)for(c>u==c>-u?(o=u+s,a=s-(o-u),u=t[++d]):(o=c+s,a=s-(o-c),c=r[++f]),s=o,a!==0&&(i[h++]=a);d<e&&f<n;)c>u==c>-u?(o=s+u,l=o-s,a=s-(o-l)+(u-l),u=t[++d]):(o=s+c,l=o-s,a=s-(o-l)+(c-l),c=r[++f]),s=o,a!==0&&(i[h++]=a);for(;d<e;)o=s+u,l=o-s,a=s-(o-l)+(u-l),u=t[++d],s=o,a!==0&&(i[h++]=a);for(;f<n;)o=s+c,l=o-s,a=s-(o-l)+(c-l),c=r[++f],s=o,a!==0&&(i[h++]=a);return(s!==0||h===0)&&(i[h++]=s),h}function bft(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function pA(e){return new Float64Array(e)}const wft=(3+16*Ap)*Ap,xft=(2+12*Ap)*Ap,_ft=(9+64*Ap)*Ap*Ap,F1=pA(4),yae=pA(8),vae=pA(12),bae=pA(16),Ca=pA(4);function Eft(e,t,n,r,i,s,o){let a,l,u,c,d,f,h,p,m,g,y,v,w,E,C,S,T,A;const I=e-i,D=n-i,O=t-s,M=r-s;E=I*M,f=Wo*I,h=f-(f-I),p=I-h,f=Wo*M,m=f-(f-M),g=M-m,C=p*g-(E-h*m-p*m-h*g),S=O*D,f=Wo*O,h=f-(f-O),p=O-h,f=Wo*D,m=f-(f-D),g=D-m,T=p*g-(S-h*m-p*m-h*g),y=C-T,d=C-y,F1[0]=C-(y+d)+(d-T),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-S,d=w-y,F1[1]=w-(y+d)+(d-S),A=v+y,d=A-v,F1[2]=v-(A-d)+(y-d),F1[3]=A;let $=bft(4,F1),L=xft*o;if($>=L||-$>=L||(d=e-I,a=e-(I+d)+(d-i),d=n-D,u=n-(D+d)+(d-i),d=t-O,l=t-(O+d)+(d-s),d=r-M,c=r-(M+d)+(d-s),a===0&&l===0&&u===0&&c===0)||(L=_ft*o+vft*Math.abs($),$+=I*c+M*a-(O*u+D*l),$>=L||-$>=L))return $;E=a*M,f=Wo*a,h=f-(f-a),p=a-h,f=Wo*M,m=f-(f-M),g=M-m,C=p*g-(E-h*m-p*m-h*g),S=l*D,f=Wo*l,h=f-(f-l),p=l-h,f=Wo*D,m=f-(f-D),g=D-m,T=p*g-(S-h*m-p*m-h*g),y=C-T,d=C-y,Ca[0]=C-(y+d)+(d-T),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-S,d=w-y,Ca[1]=w-(y+d)+(d-S),A=v+y,d=A-v,Ca[2]=v-(A-d)+(y-d),Ca[3]=A;const z=V8(4,F1,4,Ca,yae);E=I*c,f=Wo*I,h=f-(f-I),p=I-h,f=Wo*c,m=f-(f-c),g=c-m,C=p*g-(E-h*m-p*m-h*g),S=O*u,f=Wo*O,h=f-(f-O),p=O-h,f=Wo*u,m=f-(f-u),g=u-m,T=p*g-(S-h*m-p*m-h*g),y=C-T,d=C-y,Ca[0]=C-(y+d)+(d-T),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-S,d=w-y,Ca[1]=w-(y+d)+(d-S),A=v+y,d=A-v,Ca[2]=v-(A-d)+(y-d),Ca[3]=A;const B=V8(z,yae,4,Ca,vae);E=a*c,f=Wo*a,h=f-(f-a),p=a-h,f=Wo*c,m=f-(f-c),g=c-m,C=p*g-(E-h*m-p*m-h*g),S=l*u,f=Wo*l,h=f-(f-l),p=l-h,f=Wo*u,m=f-(f-u),g=u-m,T=p*g-(S-h*m-p*m-h*g),y=C-T,d=C-y,Ca[0]=C-(y+d)+(d-T),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-S,d=w-y,Ca[1]=w-(y+d)+(d-S),A=v+y,d=A-v,Ca[2]=v-(A-d)+(y-d),Ca[3]=A;const W=V8(B,vae,4,Ca,bae);return bae[W-1]}function zI(e,t,n,r,i,s){const o=(t-s)*(n-i),a=(e-i)*(r-s),l=o-a,u=Math.abs(o+a);return Math.abs(l)>=wft*u?l:-Eft(e,t,n,r,i,s,u)}const wae=Math.pow(2,-52),UI=new Uint32Array(512);class xO{static from(t,n=kft,r=Ift){const i=t.length,s=new Float64Array(i*2);for(let o=0;o<i;o++){const a=t[o];s[2*o]=n(a),s[2*o+1]=r(a)}return new xO(s)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:s}=this,o=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let I=0;I<o;I++){const D=t[2*I],O=t[2*I+1];D<a&&(a=D),O<l&&(l=O),D>u&&(u=D),O>c&&(c=O),this._ids[I]=I}const d=(a+u)/2,f=(l+c)/2;let h,p,m;for(let I=0,D=1/0;I<o;I++){const O=W8(d,f,t[2*I],t[2*I+1]);O<D&&(h=I,D=O)}const g=t[2*h],y=t[2*h+1];for(let I=0,D=1/0;I<o;I++){if(I===h)continue;const O=W8(g,y,t[2*I],t[2*I+1]);O<D&&O>0&&(p=I,D=O)}let v=t[2*p],w=t[2*p+1],E=1/0;for(let I=0;I<o;I++){if(I===h||I===p)continue;const D=Tft(g,y,v,w,t[2*I],t[2*I+1]);D<E&&(m=I,E=D)}let C=t[2*m],S=t[2*m+1];if(E===1/0){for(let O=0;O<o;O++)this._dists[O]=t[2*O]-t[0]||t[2*O+1]-t[1];Cw(this._ids,this._dists,0,o-1);const I=new Uint32Array(o);let D=0;for(let O=0,M=-1/0;O<o;O++){const $=this._ids[O],L=this._dists[$];L>M&&(I[D++]=$,M=L)}this.hull=I.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(zI(g,y,v,w,C,S)<0){const I=p,D=v,O=w;p=m,v=C,w=S,m=I,C=D,S=O}const T=Aft(g,y,v,w,C,S);this._cx=T.x,this._cy=T.y;for(let I=0;I<o;I++)this._dists[I]=W8(t[2*I],t[2*I+1],T.x,T.y);Cw(this._ids,this._dists,0,o-1),this._hullStart=h;let A=3;r[h]=n[m]=p,r[p]=n[h]=m,r[m]=n[p]=h,i[h]=0,i[p]=1,i[m]=2,s.fill(-1),s[this._hashKey(g,y)]=h,s[this._hashKey(v,w)]=p,s[this._hashKey(C,S)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(let I=0,D,O;I<this._ids.length;I++){const M=this._ids[I],$=t[2*M],L=t[2*M+1];if(I>0&&Math.abs($-D)<=wae&&Math.abs(L-O)<=wae||(D=$,O=L,M===h||M===p||M===m))continue;let z=0;for(let U=0,F=this._hashKey($,L);U<this._hashSize&&(z=s[(F+U)%this._hashSize],!(z!==-1&&z!==r[z]));U++);z=n[z];let B=z,W;for(;W=r[B],zI($,L,t[2*B],t[2*B+1],t[2*W],t[2*W+1])>=0;)if(B=W,B===z){B=-1;break}if(B===-1)continue;let V=this._addTriangle(B,M,r[B],-1,-1,i[B]);i[M]=this._legalize(V+2),i[B]=V,A++;let X=r[B];for(;W=r[X],zI($,L,t[2*X],t[2*X+1],t[2*W],t[2*W+1])<0;)V=this._addTriangle(X,M,W,i[M],-1,i[X]),i[M]=this._legalize(V+2),r[X]=X,A--,X=W;if(B===z)for(;W=n[B],zI($,L,t[2*W],t[2*W+1],t[2*B],t[2*B+1])<0;)V=this._addTriangle(W,M,B,-1,i[B],i[W]),this._legalize(V+2),i[W]=V,r[B]=B,A--,B=W;this._hullStart=n[M]=B,r[B]=n[X]=M,r[M]=X,s[this._hashKey($,L)]=M,s[this._hashKey(t[2*B],t[2*B+1])]=B}this.hull=new Uint32Array(A);for(let I=0,D=this._hullStart;I<A;I++)this.hull[I]=D,D=r[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(Cft(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let s=0,o=0;for(;;){const a=r[t],l=t-t%3;if(o=l+(t+2)%3,a===-1){if(s===0)break;t=UI[--s];continue}const u=a-a%3,c=l+(t+1)%3,d=u+(a+2)%3,f=n[o],h=n[t],p=n[c],m=n[d];if(Sft(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=f;const y=r[d];if(y===-1){let w=this._hullStart;do{if(this._hullTri[w]===d){this._hullTri[w]=t;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(t,y),this._link(a,r[o]),this._link(o,d);const v=u+(a+1)%3;s<UI.length&&(UI[s++]=v)}else{if(s===0)break;t=UI[--s]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,s,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,s),this._link(a+2,o),this.trianglesLen+=3,a}}function Cft(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function W8(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function Sft(e,t,n,r,i,s,o,a){const l=e-o,u=t-a,c=n-o,d=r-a,f=i-o,h=s-a,p=l*l+u*u,m=c*c+d*d,g=f*f+h*h;return l*(d*g-m*h)-u*(c*g-m*f)+p*(c*h-d*f)<0}function Tft(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,u=s-t,c=o*o+a*a,d=l*l+u*u,f=.5/(o*u-a*l),h=(u*c-a*d)*f,p=(o*d-l*c)*f;return h*h+p*p}function Aft(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,u=s-t,c=o*o+a*a,d=l*l+u*u,f=.5/(o*u-a*l),h=e+(u*c-a*d)*f,p=t+(o*d-l*c)*f;return{x:h,y:p}}function Cw(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],o=t[s];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{const i=n+r>>1;let s=n+1,o=r;rC(e,i,s),t[e[n]]>t[e[r]]&&rC(e,n,r),t[e[s]]>t[e[r]]&&rC(e,s,r),t[e[n]]>t[e[s]]&&rC(e,n,s);const a=e[s],l=t[a];for(;;){do s++;while(t[e[s]]<l);do o--;while(t[e[o]]>l);if(o<s)break;rC(e,s,o)}e[n+1]=e[o],e[o]=a,r-s+1>=o-n?(Cw(e,t,s,r),Cw(e,t,n,o-1)):(Cw(e,t,n,o-1),Cw(e,t,s,r))}}function rC(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function kft(e){return e[0]}function Ift(e){return e[1]}const xae=1e-6;class rv{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,s=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>xae||Math.abs(this._y1-s)>xae)&&(this._+="L"+i+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=s}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class _z{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let Rft=class{constructor(t,[n,r,i,s]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let s,o;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,g=0,y=r.length,v,w;m<y;m+=3,g+=2){const E=r[m]*2,C=r[m+1]*2,S=r[m+2]*2,T=t[E],A=t[E+1],I=t[C],D=t[C+1],O=t[S],M=t[S+1],$=I-T,L=D-A,z=O-T,B=M-A,W=($*B-L*z)*2;if(Math.abs(W)<1e-9){if(s===void 0){s=o=0;for(const X of n)s+=t[X*2],o+=t[X*2+1];s/=n.length,o/=n.length}const V=1e9*Math.sign((s-T)*B-(o-A)*z);v=(T+O)/2-V*B,w=(A+M)/2+V*z}else{const V=1/W,X=$*$+L*L,U=z*z+B*B;v=T+(B*X-L*U)*V,w=A+($*U-z*X)*V}a[g]=v,a[g+1]=w}let l=n[n.length-1],u,c=l*4,d,f=t[2*l],h,p=t[2*l+1];i.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=c,d=f,h=p,c=l*4,f=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=f-d}render(t){const n=t==null?t=new rv:void 0,{delaunay:{halfedges:r,inedges:i,hull:s},circumcenters:o,vectors:a}=this;if(s.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const f=r[c];if(f<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(f/3)*2,m=o[h],g=o[h+1],y=o[p],v=o[p+1];this._renderSegment(m,g,y,v,t)}let l,u=s[s.length-1];for(let c=0;c<s.length;++c){l=u,u=s[c];const d=Math.floor(i[u]/3)*2,f=o[d],h=o[d+1],p=l*4,m=this._project(f,h,a[p+2],a[p+3]);m&&this._renderSegment(f,h,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new rv:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new rv:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new _z;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,s){let o;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(s.moveTo(t,n),s.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,a,l))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let s=0,o=n.length;s<o;s+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[s]===i[a]&&n[s+1]===i[a+1]&&n[(s+2)%o]===i[(a+l-2)%l]&&n[(s+3)%o]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:s}}=this,o=r[t];if(o===-1)return null;const a=[];let l=o;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,s[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,s,o,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,f=0;for(let h=0;h<r;h+=2)if(s=a,o=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let p,m,g,y,v;if(u===0){if((p=this._clipSegment(s,o,a,l,u,c))===null)continue;[m,g,y,v]=p}else{if((p=this._clipSegment(a,l,s,o,c,u))===null)continue;[y,v,m,g]=p,d=f,f=this._edgecode(m,g),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(m,g):i=[m,g]}d=f,f=this._edgecode(y,v),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(y,v):i=[y,v]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,s,o){const a=s<o;for(a&&([t,n,r,i,s,o]=[r,i,t,n,o,s]);;){if(s===0&&o===0)return a?[r,i,t,n]:[t,n,r,i];if(s&o)return null;let l,u,c=s||o;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),s?(t=l,n=u,s=this._regioncode(t,n)):(r=l,i=u,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,s,o){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],s,o))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,d,f=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=f,f=this._edgecode(a[u],a[u+1]),d&&f&&(u=this._edge(t,d,f,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,s){for(;n!==r;){let o,a;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,a=this.ymin;break}(i[s]!==o||i[s+1]!==a)&&this.contains(t,o,a)&&(i.splice(s,0,o,a),s+=2)}return s}_project(t,n,r,i){let s=1/0,o,a,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<s&&(l=this.ymin,a=t+(s=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<s&&(l=this.ymax,a=t+(s=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<s&&(a=this.xmax,l=n+(s=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<s&&(a=this.xmin,l=n+(s=o)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const Dft=2*Math.PI,L1=Math.pow;function Pft(e){return e[0]}function Oft(e){return e[1]}function Nft(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],s=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[s+1]-n[i+1])-(n[s]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function $ft(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class uY{static from(t,n=Pft,r=Oft,i){return new uY("length"in t?Mft(t,n,r,i):Float64Array.from(Fft(t,n,r,i)))}constructor(t){this._delaunator=new xO(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&Nft(t)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){const p=$ft(n[2*f],n[2*f+1],d);n[2*f]=p[0],n[2*f+1]=p[1]}this._delaunator=new xO(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=s[l%3===2?l-2:l+1];(r[l]===-1||o[c]===-1)&&(o[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new Rft(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:s,triangles:o,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=s[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let s;for(;(s=this._step(r,t,n))>=0&&s!==r&&s!==i;)r=s;return s}_step(t,n,r){const{inedges:i,hull:s,_hullIndex:o,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=L1(n-u[t*2],2)+L1(r-u[t*2+1],2);const f=i[t];let h=f;do{let p=l[h];const m=L1(n-u[p*2],2)+L1(r-u[p*2+1],2);if(m<d&&(d=m,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=s[(o[t]+1)%s.length],h!==p&&L1(n-u[h*2],2)+L1(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(t){const n=t==null?t=new rv:void 0,{points:r,halfedges:i,triangles:s}=this;for(let o=0,a=i.length;o<a;++o){const l=i[o];if(l<o)continue;const u=s[o]*2,c=s[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new rv:void 0,{points:i}=this;for(let s=0,o=i.length;s<o;s+=2){const a=i[s],l=i[s+1];t.moveTo(a+n,l),t.arc(a,l,n,0,Dft)}return r&&r.value()}renderHull(t){const n=t==null?t=new rv:void 0,{hull:r,points:i}=this,s=r[0]*2,o=r.length;t.moveTo(i[s],i[s+1]);for(let a=1;a<o;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new _z;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new rv:void 0,{points:i,triangles:s}=this,o=s[t*=3]*2,a=s[t+1]*2,l=s[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new _z;return this.renderTriangle(t,n),n.value()}}function Mft(e,t,n,r){const i=e.length,s=new Float64Array(i*2);for(let o=0;o<i;++o){const a=e[o];s[o*2]=t.call(r,a,o,e),s[o*2+1]=n.call(r,a,o,e)}return s}function*Fft(e,t,n,r){let i=0;for(const s of e)yield t.call(r,s,i,e),yield n.call(r,s,i,e),++i}var _ae={},G8={},Y8=34,iC=10,K8=13;function REe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Lft(e,t){var n=REe(e);return function(r,i){return t(n(r),i,e)}}function Eae(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function ml(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function jft(e){return e<0?"-"+ml(-e,6):e>9999?"+"+ml(e,6):ml(e,4)}function Bft(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":jft(e.getUTCFullYear())+"-"+ml(e.getUTCMonth()+1,2)+"-"+ml(e.getUTCDate(),2)+(i?"T"+ml(t,2)+":"+ml(n,2)+":"+ml(r,2)+"."+ml(i,3)+"Z":r?"T"+ml(t,2)+":"+ml(n,2)+":"+ml(r,2)+"Z":n||t?"T"+ml(t,2)+":"+ml(n,2)+"Z":"")}function zft(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var h,p,m=i(d,function(g,y){if(h)return h(g,y-1);p=g,h=f?Lft(g,f):REe(g)});return m.columns=p||[],m}function i(d,f){var h=[],p=d.length,m=0,g=0,y,v=p<=0,w=!1;d.charCodeAt(p-1)===iC&&--p,d.charCodeAt(p-1)===K8&&--p;function E(){if(v)return G8;if(w)return w=!1,_ae;var S,T=m,A;if(d.charCodeAt(T)===Y8){for(;m++<p&&d.charCodeAt(m)!==Y8||d.charCodeAt(++m)===Y8;);return(S=m)>=p?v=!0:(A=d.charCodeAt(m++))===iC?w=!0:A===K8&&(w=!0,d.charCodeAt(m)===iC&&++m),d.slice(T+1,S-1).replace(/""/g,'"')}for(;m<p;){if((A=d.charCodeAt(S=m++))===iC)w=!0;else if(A===K8)w=!0,d.charCodeAt(m)===iC&&++m;else if(A!==n)continue;return d.slice(T,S)}return v=!0,d.slice(T,p)}for(;(y=E())!==G8;){for(var C=[];y!==_ae&&y!==G8;)C.push(y),y=E();f&&(C=f(C,g++))==null||h.push(C)}return h}function s(d,f){return d.map(function(h){return f.map(function(p){return c(h[p])}).join(e)})}function o(d,f){return f==null&&(f=Eae(d)),[f.map(c).join(e)].concat(s(d,f)).join(`
`)}function a(d,f){return f==null&&(f=Eae(d)),s(d,f).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?Bft(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function Uft(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var s,o=n.length,a,l=0,u=0;for(s=0;s<o;++s)a=n[s],l+=a.x,u+=a.y;for(l=(l/o-e)*r,u=(u/o-t)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=u}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(e=+s,i):e},i.y=function(s){return arguments.length?(t=+s,i):t},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function Hft(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return DEe(this.cover(t,n),t,n,e)}function DEe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s=e._root,o={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,d,f,h,p,m,g,y,v;if(!s)return e._root=o,e;for(;s.length;)if((m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f,i=s,!(s=s[y=g<<1|m]))return i[y]=o,e;if(h=+e._x.call(null,s.data),p=+e._y.call(null,s.data),t===h&&n===p)return o.next=s,i?i[y]=o:e._root=o,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f;while((y=g<<1|m)===(v=(p>=f)<<1|h>=d));return i[v]=s,i[y]=o,e}function qft(e){var t,n,r=e.length,i,s,o=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(o[n]=i,a[n]=s,i<l&&(l=i),i>c&&(c=i),s<u&&(u=s),s>d&&(d=s));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<r;++n)DEe(this,o[n],a[n],e[n]);return this}function Vft(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=s;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,o*=2,u){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function Wft(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Gft(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function $a(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Yft(e,t,n){var r,i=this._x0,s=this._y0,o,a,l,u,c=this._x1,d=this._y1,f=[],h=this._root,p,m;for(h&&f.push(new $a(h,i,s,c,d)),n==null?n=1/0:(i=e-n,s=t-n,c=e+n,d=t+n,n*=n);p=f.pop();)if(!(!(h=p.node)||(o=p.x0)>c||(a=p.y0)>d||(l=p.x1)<i||(u=p.y1)<s))if(h.length){var g=(o+l)/2,y=(a+u)/2;f.push(new $a(h[3],g,y,l,u),new $a(h[2],o,y,g,u),new $a(h[1],g,a,l,y),new $a(h[0],o,a,g,y)),(m=(t>=y)<<1|e>=g)&&(p=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=p)}else{var v=e-+this._x.call(null,h.data),w=t-+this._y.call(null,h.data),E=v*v+w*w;if(E<n){var C=Math.sqrt(n=E);i=e-C,s=t-C,c=e+C,d=t+C,r=h.data}}return r}function Kft(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,u=this._y1,c,d,f,h,p,m,g,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(f=(o+l)/2))?o=f:l=f,(m=d>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,y=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):t?(s?t[g]=s:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=s,this)}function Xft(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Qft(){return this._root}function Jft(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Zft(e){var t=[],n,r=this._root,i,s,o,a,l;for(r&&t.push(new $a(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(s+a)/2,c=(o+l)/2;(i=r[3])&&t.push(new $a(i,u,c,a,l)),(i=r[2])&&t.push(new $a(i,s,c,u,l)),(i=r[1])&&t.push(new $a(i,u,o,a,c)),(i=r[0])&&t.push(new $a(i,s,o,u,c))}return this}function eht(e){var t=[],n=[],r;for(this._root&&t.push(new $a(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,d=(a+u)/2;(s=i[0])&&t.push(new $a(s,o,a,c,d)),(s=i[1])&&t.push(new $a(s,c,a,l,d)),(s=i[2])&&t.push(new $a(s,o,d,c,u)),(s=i[3])&&t.push(new $a(s,c,d,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function tht(e){return e[0]}function nht(e){return arguments.length?(this._x=e,this):this._x}function rht(e){return e[1]}function iht(e){return arguments.length?(this._y=e,this):this._y}function cY(e,t,n){var r=new dY(t??tht,n??rht,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function dY(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function Cae(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ka=cY.prototype=dY.prototype;Ka.copy=function(){var e=new dY(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Cae(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Cae(r));return e};Ka.add=Hft;Ka.addAll=qft;Ka.cover=Vft;Ka.data=Wft;Ka.extent=Gft;Ka.find=Yft;Ka.remove=Kft;Ka.removeAll=Xft;Ka.root=Qft;Ka.size=Jft;Ka.visit=Zft;Ka.visitAfter=eht;Ka.x=nht;Ka.y=iht;function Fa(e){return function(){return e}}function w0(e){return(e()-.5)*1e-6}function sht(e){return e.x+e.vx}function oht(e){return e.y+e.vy}function aht(e){var t,n,r,i=1,s=1;typeof e!="function"&&(e=Fa(e==null?1:+e));function o(){for(var u,c=t.length,d,f,h,p,m,g,y=0;y<s;++y)for(d=cY(t,sht,oht).visitAfter(a),u=0;u<c;++u)f=t[u],m=n[f.index],g=m*m,h=f.x+f.vx,p=f.y+f.vy,d.visit(v);function v(w,E,C,S,T){var A=w.data,I=w.r,D=m+I;if(A){if(A.index>f.index){var O=h-A.x-A.vx,M=p-A.y-A.vy,$=O*O+M*M;$<D*D&&(O===0&&(O=w0(r),$+=O*O),M===0&&(M=w0(r),$+=M*M),$=(D-($=Math.sqrt($)))/$*i,f.vx+=(O*=$)*(D=(I*=I)/(g+I)),f.vy+=(M*=$)*D,A.vx-=O*(D=1-D),A.vy-=M*D)}return}return E>h+D||S<h-D||C>p+D||T<p-D}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return o.initialize=function(u,c){t=u,r=c,l()},o.iterations=function(u){return arguments.length?(s=+u,o):s},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Fa(+u),l(),o):e},o}function lht(e){return e.index}function Sae(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function uht(e){var t=lht,n=d,r,i=Fa(30),s,o,a,l,u,c=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function f(g){for(var y=0,v=e.length;y<c;++y)for(var w=0,E,C,S,T,A,I,D;w<v;++w)E=e[w],C=E.source,S=E.target,T=S.x+S.vx-C.x-C.vx||w0(u),A=S.y+S.vy-C.y-C.vy||w0(u),I=Math.sqrt(T*T+A*A),I=(I-s[w])/I*g*r[w],T*=I,A*=I,S.vx-=T*(D=l[w]),S.vy-=A*D,C.vx+=T*(D=1-D),C.vy+=A*D}function h(){if(o){var g,y=o.length,v=e.length,w=new Map(o.map((C,S)=>[t(C,S,o),C])),E;for(g=0,a=new Array(y);g<v;++g)E=e[g],E.index=g,typeof E.source!="object"&&(E.source=Sae(w,E.source)),typeof E.target!="object"&&(E.target=Sae(w,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(g=0,l=new Array(v);g<v;++g)E=e[g],l[g]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(v),p(),s=new Array(v),m()}}function p(){if(o)for(var g=0,y=e.length;g<y;++g)r[g]=+n(e[g],g,e)}function m(){if(o)for(var g=0,y=e.length;g<y;++g)s[g]=+i(e[g],g,e)}return f.initialize=function(g,y){o=g,u=y,h()},f.links=function(g){return arguments.length?(e=g,h(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Fa(+g),p(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Fa(+g),m(),f):i},f}const cht=1664525,dht=1013904223,Tae=4294967296;function fht(){let e=1;return()=>(e=(cht*e+dht)%Tae)/Tae}function hht(e){return e.x}function pht(e){return e.y}var mht=10,ght=Math.PI*(3-Math.sqrt(5));function yht(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=sY(d),u=KG("tick","end"),c=fht();e==null&&(e=[]);function d(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(m){var g,y=e.length,v;m===void 0&&(m=1);for(var w=0;w<m;++w)for(n+=(s-n)*i,a.forEach(function(E){E(n)}),g=0;g<y;++g)v=e[g],v.fx==null?v.x+=v.vx*=o:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=o:(v.y=v.fy,v.vy=0);return t}function h(){for(var m=0,g=e.length,y;m<g;++m){if(y=e[m],y.index=m,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=mht*Math.sqrt(.5+m),w=m*ght;y.x=v*Math.cos(w),y.y=v*Math.sin(w)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(s=+m,t):s},velocityDecay:function(m){return arguments.length?(o=1-m,t):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),t):a.get(m)},find:function(m,g,y){var v=0,w=e.length,E,C,S,T,A;for(y==null?y=1/0:y*=y,v=0;v<w;++v)T=e[v],E=m-T.x,C=g-T.y,S=E*E+C*C,S<y&&(A=T,y=S);return A},on:function(m,g){return arguments.length>1?(u.on(m,g),t):u.on(m)}}}function vht(){var e,t,n,r,i=Fa(-30),s,o=1,a=1/0,l=.81;function u(h){var p,m=e.length,g=cY(e,hht,pht).visitAfter(d);for(r=h,p=0;p<m;++p)t=e[p],g.visit(f)}function c(){if(e){var h,p=e.length,m;for(s=new Array(p),h=0;h<p;++h)m=e[h],s[m.index]=+i(m,h,e)}}function d(h){var p=0,m,g,y=0,v,w,E;if(h.length){for(v=w=E=0;E<4;++E)(m=h[E])&&(g=Math.abs(m.value))&&(p+=m.value,y+=g,v+=g*m.x,w+=g*m.y);h.x=v/y,h.y=w/y}else{m=h,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}h.value=p}function f(h,p,m,g){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,w=g-p,E=y*y+v*v;if(w*w/l<E)return E<a&&(y===0&&(y=w0(n),E+=y*y),v===0&&(v=w0(n),E+=v*v),E<o&&(E=Math.sqrt(o*E)),t.vx+=y*h.value*r/E,t.vy+=v*h.value*r/E),!0;if(h.length||E>=a)return;(h.data!==t||h.next)&&(y===0&&(y=w0(n),E+=y*y),v===0&&(v=w0(n),E+=v*v),E<o&&(E=Math.sqrt(o*E)));do h.data!==t&&(w=s[h.data.index]*r/E,t.vx+=y*w,t.vy+=v*w);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Fa(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(o=h*h,u):Math.sqrt(o)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function bht(e){var t=Fa(.1),n,r,i;typeof e!="function"&&(e=Fa(e==null?0:+e));function s(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Fa(+a),o(),s):t},s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Fa(+a),o(),s):e},s}function wht(e){var t=Fa(.1),n,r,i;typeof e!="function"&&(e=Fa(e==null?0:+e));function s(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Fa(+a),o(),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:Fa(+a),o(),s):e},s}function xht(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _O(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function kx(e){return e=_O(Math.abs(e)),e?e[1]:NaN}function _ht(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Eht(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Cht=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fv(e){if(!(t=Cht.exec(e)))throw new Error("invalid format: "+e);var t;return new fY({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fv.prototype=fY.prototype;function fY(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fY.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sht(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var PEe;function Tht(e,t){var n=_O(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(PEe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+_O(e,Math.max(0,t+s-1))[0]}function Aae(e,t){var n=_O(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kae={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xht,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Aae(e*100,t),r:Aae,s:Tht,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Iae(e){return e}var Rae=Array.prototype.map,Dae=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OEe(e){var t=e.grouping===void 0||e.thousands===void 0?Iae:_ht(Rae.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Iae:Eht(Rae.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Fv(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,y=d.width,v=d.comma,w=d.precision,E=d.trim,C=d.type;C==="n"?(v=!0,C="g"):kae[C]||(w===void 0&&(w=12),E=!0,C="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=m==="$"?r:/[%p]/.test(C)?o:"",A=kae[C],I=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(O){var M=S,$=T,L,z,B;if(C==="c")$=A(O)+$,O="";else{O=+O;var W=O<0||1/O<0;if(O=isNaN(O)?l:A(Math.abs(O),w),E&&(O=Sht(O)),W&&+O==0&&p!=="+"&&(W=!1),M=(W?p==="("?p:a:p==="-"||p==="("?"":p)+M,$=(C==="s"?Dae[8+PEe/3]:"")+$+(W&&p==="("?")":""),I){for(L=-1,z=O.length;++L<z;)if(B=O.charCodeAt(L),48>B||B>57){$=(B===46?i+O.slice(L+1):O.slice(L))+$,O=O.slice(0,L);break}}}v&&!g&&(O=t(O,1/0));var V=M.length+O.length+$.length,X=V<y?new Array(y-V+1).join(f):"";switch(v&&g&&(O=t(X+O,X.length?y-$.length:1/0),X=""),h){case"<":O=M+O+$+X;break;case"=":O=M+X+O+$;break;case"^":O=X.slice(0,V=X.length>>1)+M+O+$+X.slice(V);break;default:O=X+M+O+$;break}return s(O)}return D.toString=function(){return d+""},D}function c(d,f){var h=u((d=Fv(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(kx(f)/3)))*3,m=Math.pow(10,-p),g=Dae[8+p/3];return function(y){return h(m*y)+g}}return{format:u,formatPrefix:c}}var HI,L4,hY;Aht({thousands:",",grouping:[3],currency:["$",""]});function Aht(e){return HI=OEe(e),L4=HI.format,hY=HI.formatPrefix,HI}function NEe(e){return Math.max(0,-kx(Math.abs(e)))}function $Ee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kx(t)/3)))*3-kx(Math.abs(e)))}function MEe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kx(t)-kx(e))+1}var dn=1e-6,Ez=1e-12,zn=Math.PI,zi=zn/2,EO=zn/4,qa=zn*2,Xi=180/zn,Ln=zn/180,nr=Math.abs,L_=Math.atan,ec=Math.atan2,an=Math.cos,qI=Math.ceil,FEe=Math.exp,Cz=Math.hypot,CO=Math.log,X8=Math.pow,rn=Math.sin,Hu=Math.sign||function(e){return e>0?1:e<0?-1:0},Va=Math.sqrt,pY=Math.tan;function LEe(e){return e>1?0:e<-1?zn:Math.acos(e)}function kl(e){return e>1?zi:e<-1?-zi:Math.asin(e)}function Do(){}function SO(e,t){e&&Oae.hasOwnProperty(e.type)&&Oae[e.type](e,t)}var Pae={Feature:function(e,t){SO(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)SO(n[r].geometry,t)}},Oae={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Sz(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Sz(n[r],t,0)},Polygon:function(e,t){Nae(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Nae(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)SO(n[r],t)}};function Sz(e,t,n){var r=-1,i=e.length-n,s;for(t.lineStart();++r<i;)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function Nae(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Sz(e[n],t,1);t.polygonEnd()}function up(e,t){e&&Pae.hasOwnProperty(e.type)?Pae[e.type](e,t):SO(e,t)}var TO=new ja,AO=new ja,jEe,BEe,Tz,Az,kz,Zf={point:Do,lineStart:Do,lineEnd:Do,polygonStart:function(){TO=new ja,Zf.lineStart=kht,Zf.lineEnd=Iht},polygonEnd:function(){var e=+TO;AO.add(e<0?qa+e:e),this.lineStart=this.lineEnd=this.point=Do},sphere:function(){AO.add(qa)}};function kht(){Zf.point=Rht}function Iht(){zEe(jEe,BEe)}function Rht(e,t){Zf.point=zEe,jEe=e,BEe=t,e*=Ln,t*=Ln,Tz=e,Az=an(t=t/2+EO),kz=rn(t)}function zEe(e,t){e*=Ln,t*=Ln,t=t/2+EO;var n=e-Tz,r=n>=0?1:-1,i=r*n,s=an(t),o=rn(t),a=kz*o,l=Az*s+a*an(i),u=a*r*rn(i);TO.add(ec(u,l)),Tz=e,Az=s,kz=o}function UEe(e){return AO=new ja,up(e,Zf),AO*2}function kO(e){return[ec(e[1],e[0]),kl(e[2])]}function Lv(e){var t=e[0],n=e[1],r=an(n);return[r*an(t),r*rn(t),rn(n)]}function VI(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ix(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Q8(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function WI(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function IO(e){var t=Va(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Ai,bl,Fi,Xl,Ny,HEe,qEe,Xw,US,r0,Wp,rp={point:Iz,lineStart:$ae,lineEnd:Mae,polygonStart:function(){rp.point=WEe,rp.lineStart=Dht,rp.lineEnd=Pht,US=new ja,Zf.polygonStart()},polygonEnd:function(){Zf.polygonEnd(),rp.point=Iz,rp.lineStart=$ae,rp.lineEnd=Mae,TO<0?(Ai=-(Fi=180),bl=-(Xl=90)):US>dn?Xl=90:US<-1e-6&&(bl=-90),Wp[0]=Ai,Wp[1]=Fi},sphere:function(){Ai=-(Fi=180),bl=-(Xl=90)}};function Iz(e,t){r0.push(Wp=[Ai=e,Fi=e]),t<bl&&(bl=t),t>Xl&&(Xl=t)}function VEe(e,t){var n=Lv([e*Ln,t*Ln]);if(Xw){var r=Ix(Xw,n),i=[r[1],-r[0],0],s=Ix(i,r);IO(s),s=kO(s);var o=e-Ny,a=o>0?1:-1,l=s[0]*Xi*a,u,c=nr(o)>180;c^(a*Ny<l&&l<a*e)?(u=s[1]*Xi,u>Xl&&(Xl=u)):(l=(l+360)%360-180,c^(a*Ny<l&&l<a*e)?(u=-s[1]*Xi,u<bl&&(bl=u)):(t<bl&&(bl=t),t>Xl&&(Xl=t))),c?e<Ny?Gl(Ai,e)>Gl(Ai,Fi)&&(Fi=e):Gl(e,Fi)>Gl(Ai,Fi)&&(Ai=e):Fi>=Ai?(e<Ai&&(Ai=e),e>Fi&&(Fi=e)):e>Ny?Gl(Ai,e)>Gl(Ai,Fi)&&(Fi=e):Gl(e,Fi)>Gl(Ai,Fi)&&(Ai=e)}else r0.push(Wp=[Ai=e,Fi=e]);t<bl&&(bl=t),t>Xl&&(Xl=t),Xw=n,Ny=e}function $ae(){rp.point=VEe}function Mae(){Wp[0]=Ai,Wp[1]=Fi,rp.point=Iz,Xw=null}function WEe(e,t){if(Xw){var n=e-Ny;US.add(nr(n)>180?n+(n>0?360:-360):n)}else HEe=e,qEe=t;Zf.point(e,t),VEe(e,t)}function Dht(){Zf.lineStart()}function Pht(){WEe(HEe,qEe),Zf.lineEnd(),nr(US)>dn&&(Ai=-(Fi=180)),Wp[0]=Ai,Wp[1]=Fi,Xw=null}function Gl(e,t){return(t-=e)<0?t+360:t}function Oht(e,t){return e[0]-t[0]}function Fae(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function GEe(e){var t,n,r,i,s,o,a;if(Xl=Fi=-(Ai=bl=1/0),r0=[],up(e,rp),n=r0.length){for(r0.sort(Oht),t=1,r=r0[0],s=[r];t<n;++t)i=r0[t],Fae(r,i[0])||Fae(r,i[1])?(Gl(r[0],i[1])>Gl(r[0],r[1])&&(r[1]=i[1]),Gl(i[0],r[1])>Gl(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,n=s.length-1,t=0,r=s[n];t<=n;r=i,++t)i=s[t],(a=Gl(r[1],i[0]))>o&&(o=a,Ai=i[0],Fi=r[1])}return r0=Wp=null,Ai===1/0||bl===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ai,bl],[Fi,Xl]]}var JC,RO,DO,PO,OO,NO,$O,MO,Rz,Dz,Pz,YEe,KEe,Da,Pa,Oa,rd={sphere:Do,point:mY,lineStart:Lae,lineEnd:jae,polygonStart:function(){rd.lineStart=Mht,rd.lineEnd=Fht},polygonEnd:function(){rd.lineStart=Lae,rd.lineEnd=jae}};function mY(e,t){e*=Ln,t*=Ln;var n=an(t);mA(n*an(e),n*rn(e),rn(t))}function mA(e,t,n){++JC,DO+=(e-DO)/JC,PO+=(t-PO)/JC,OO+=(n-OO)/JC}function Lae(){rd.point=Nht}function Nht(e,t){e*=Ln,t*=Ln;var n=an(t);Da=n*an(e),Pa=n*rn(e),Oa=rn(t),rd.point=$ht,mA(Da,Pa,Oa)}function $ht(e,t){e*=Ln,t*=Ln;var n=an(t),r=n*an(e),i=n*rn(e),s=rn(t),o=ec(Va((o=Pa*s-Oa*i)*o+(o=Oa*r-Da*s)*o+(o=Da*i-Pa*r)*o),Da*r+Pa*i+Oa*s);RO+=o,NO+=o*(Da+(Da=r)),$O+=o*(Pa+(Pa=i)),MO+=o*(Oa+(Oa=s)),mA(Da,Pa,Oa)}function jae(){rd.point=mY}function Mht(){rd.point=Lht}function Fht(){XEe(YEe,KEe),rd.point=mY}function Lht(e,t){YEe=e,KEe=t,e*=Ln,t*=Ln,rd.point=XEe;var n=an(t);Da=n*an(e),Pa=n*rn(e),Oa=rn(t),mA(Da,Pa,Oa)}function XEe(e,t){e*=Ln,t*=Ln;var n=an(t),r=n*an(e),i=n*rn(e),s=rn(t),o=Pa*s-Oa*i,a=Oa*r-Da*s,l=Da*i-Pa*r,u=Cz(o,a,l),c=kl(u),d=u&&-c/u;Rz.add(d*o),Dz.add(d*a),Pz.add(d*l),RO+=c,NO+=c*(Da+(Da=r)),$O+=c*(Pa+(Pa=i)),MO+=c*(Oa+(Oa=s)),mA(Da,Pa,Oa)}function QEe(e){JC=RO=DO=PO=OO=NO=$O=MO=0,Rz=new ja,Dz=new ja,Pz=new ja,up(e,rd);var t=+Rz,n=+Dz,r=+Pz,i=Cz(t,n,r);return i<Ez&&(t=NO,n=$O,r=MO,RO<dn&&(t=DO,n=PO,r=OO),i=Cz(t,n,r),i<Ez)?[NaN,NaN]:[ec(n,t)*Xi,kl(r/i)*Xi]}function Oz(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Nz(e,t){return nr(e)>zn&&(e-=Math.round(e/qa)*qa),[e,t]}Nz.invert=Nz;function JEe(e,t,n){return(e%=qa)?t||n?Oz(zae(e),Uae(t,n)):zae(e):t||n?Uae(t,n):Nz}function Bae(e){return function(t,n){return t+=e,nr(t)>zn&&(t-=Math.round(t/qa)*qa),[t,n]}}function zae(e){var t=Bae(e);return t.invert=Bae(-e),t}function Uae(e,t){var n=an(e),r=rn(e),i=an(t),s=rn(t);function o(a,l){var u=an(l),c=an(a)*u,d=rn(a)*u,f=rn(l),h=f*n+c*r;return[ec(d*i-h*s,c*n-f*r),kl(h*i+d*s)]}return o.invert=function(a,l){var u=an(l),c=an(a)*u,d=rn(a)*u,f=rn(l),h=f*i-d*s;return[ec(d*i+f*s,c*n+h*r),kl(h*n-c*r)]},o}function jht(e){e=JEe(e[0]*Ln,e[1]*Ln,e.length>2?e[2]*Ln:0);function t(n){return n=e(n[0]*Ln,n[1]*Ln),n[0]*=Xi,n[1]*=Xi,n}return t.invert=function(n){return n=e.invert(n[0]*Ln,n[1]*Ln),n[0]*=Xi,n[1]*=Xi,n},t}function Bht(e,t,n,r,i,s){if(n){var o=an(t),a=rn(t),l=r*n;i==null?(i=t+r*qa,s=t-l/2):(i=Hae(o,i),s=Hae(o,s),(r>0?i<s:i>s)&&(i+=r*qa));for(var u,c=i;r>0?c>s:c<s;c-=l)u=kO([o,-a*an(c),-a*rn(c)]),e.point(u[0],u[1])}}function Hae(e,t){t=Lv(t),t[0]-=e,IO(t);var n=LEe(-t[1]);return((-t[2]<0?-n:n)+qa-dn)%qa}function ZEe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Do,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function oP(e,t){return nr(e[0]-t[0])<dn&&nr(e[1]-t[1])<dn}function GI(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function eCe(e,t,n,r,i){var s=[],o=[],a,l;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],v;if(oP(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=p[a])[0],g[1]);i.lineEnd();return}y[0]+=2*dn}s.push(v=new GI(g,p,null,!0)),o.push(v.o=new GI(g,null,v,!1)),s.push(v=new GI(y,p,null,!1)),o.push(v.o=new GI(y,null,v,!0))}}),!!s.length){for(o.sort(t),qae(s),qae(o),a=0,l=o.length;a<l;++a)o[a].e=n=!n;for(var u=s[0],c,d;;){for(var f=u,h=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((d=c[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(c=f.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,h=!h}while(!f.v);i.lineEnd()}}}function qae(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function J8(e){return nr(e[0])<=zn?e[0]:Hu(e[0])*((nr(e[0])+zn)%qa-zn)}function zht(e,t){var n=J8(t),r=t[1],i=rn(r),s=[rn(n),-an(n),0],o=0,a=0,l=new ja;i===1?r=zi+dn:i===-1&&(r=-zi-dn);for(var u=0,c=e.length;u<c;++u)if(f=(d=e[u]).length)for(var d,f,h=d[f-1],p=J8(h),m=h[1]/2+EO,g=rn(m),y=an(m),v=0;v<f;++v,p=E,g=S,y=T,h=w){var w=d[v],E=J8(w),C=w[1]/2+EO,S=rn(C),T=an(C),A=E-p,I=A>=0?1:-1,D=I*A,O=D>zn,M=g*S;if(l.add(ec(M*I*rn(D),y*T+M*an(D))),o+=O?A+I*qa:A,O^p>=n^E>=n){var $=Ix(Lv(h),Lv(w));IO($);var L=Ix(s,$);IO(L);var z=(O^A>=0?-1:1)*kl(L[2]);(r>z||r===z&&($[0]||$[1]))&&(a+=O^A>=0?1:-1)}}return(o<-1e-6||o<dn&&l<-1e-12)^a&1}function tCe(e,t,n,r){return function(i){var s=t(i),o=ZEe(),a=t(o),l=!1,u,c,d,f={point:h,lineStart:m,lineEnd:g,polygonStart:function(){f.point=y,f.lineStart=v,f.lineEnd=w,c=[],u=[]},polygonEnd:function(){f.point=h,f.lineStart=m,f.lineEnd=g,c=$_e(c);var E=zht(u,r);c.length?(l||(i.polygonStart(),l=!0),eCe(c,Hht,E,n,i)):E&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,C){e(E,C)&&i.point(E,C)}function p(E,C){s.point(E,C)}function m(){f.point=p,s.lineStart()}function g(){f.point=h,s.lineEnd()}function y(E,C){d.push([E,C]),a.point(E,C)}function v(){a.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),a.lineEnd();var E=a.clean(),C=o.result(),S,T=C.length,A,I,D;if(d.pop(),u.push(d),d=null,!!T){if(E&1){if(I=C[0],(A=I.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),S=0;S<A;++S)i.point((D=I[S])[0],D[1]);i.lineEnd()}return}T>1&&E&2&&C.push(C.pop().concat(C.shift())),c.push(C.filter(Uht))}}return f}}function Uht(e){return e.length>1}function Hht(e,t){return((e=e.x)[0]<0?e[1]-zi-dn:zi-e[1])-((t=t.x)[0]<0?t[1]-zi-dn:zi-t[1])}const Vae=tCe(function(){return!0},qht,Wht,[-zn,-zi]);function qht(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,o){var a=s>0?zn:-zn,l=nr(s-t);nr(l-zn)<dn?(e.point(t,n=(n+o)/2>0?zi:-zi),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(s,n),i=0):r!==a&&l>=zn&&(nr(t-r)<dn&&(t-=r*dn),nr(s-a)<dn&&(s-=a*dn),n=Vht(t,n,s,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=s,n=o),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function Vht(e,t,n,r){var i,s,o=rn(e-n);return nr(o)>dn?L_((rn(t)*(s=an(r))*rn(n)-rn(r)*(i=an(t))*rn(e))/(i*s*o)):(t+r)/2}function Wht(e,t,n,r){var i;if(e==null)i=n*zi,r.point(-zn,i),r.point(0,i),r.point(zn,i),r.point(zn,0),r.point(zn,-i),r.point(0,-i),r.point(-zn,-i),r.point(-zn,0),r.point(-zn,i);else if(nr(e[0]-t[0])>dn){var s=e[0]<t[0]?zn:-zn;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function Ght(e){var t=an(e),n=2*Ln,r=t>0,i=nr(t)>dn;function s(c,d,f,h){Bht(h,e,n,f,c,d)}function o(c,d){return an(c)*an(d)>t}function a(c){var d,f,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var v=[g,y],w,E=o(g,y),C=r?E?0:u(g,y):E?u(g+(g<0?zn:-zn),y):0;if(!d&&(p=h=E)&&c.lineStart(),E!==h&&(w=l(d,v),(!w||oP(d,w)||oP(v,w))&&(v[2]=1)),E!==h)m=0,E?(c.lineStart(),w=l(v,d),c.point(w[0],w[1])):(w=l(d,v),c.point(w[0],w[1],2),c.lineEnd()),d=w;else if(i&&d&&r^E){var S;!(C&f)&&(S=l(v,d,!0))&&(m=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}E&&(!d||!oP(d,v))&&c.point(v[0],v[1]),d=v,h=E,f=C},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function l(c,d,f){var h=Lv(c),p=Lv(d),m=[1,0,0],g=Ix(h,p),y=VI(g,g),v=g[0],w=y-v*v;if(!w)return!f&&c;var E=t*y/w,C=-t*v/w,S=Ix(m,g),T=WI(m,E),A=WI(g,C);Q8(T,A);var I=S,D=VI(T,I),O=VI(I,I),M=D*D-O*(VI(T,T)-1);if(!(M<0)){var $=Va(M),L=WI(I,(-D-$)/O);if(Q8(L,T),L=kO(L),!f)return L;var z=c[0],B=d[0],W=c[1],V=d[1],X;B<z&&(X=z,z=B,B=X);var U=B-z,F=nr(U-zn)<dn,G=F||U<dn;if(!F&&V<W&&(X=W,W=V,V=X),G?F?W+V>0^L[1]<(nr(L[0]-z)<dn?W:V):W<=L[1]&&L[1]<=V:U>zn^(z<=L[0]&&L[0]<=B)){var q=WI(I,(-D+$)/O);return Q8(q,T),[L,kO(q)]}}}function u(c,d){var f=r?e:zn-e,h=0;return c<-f?h|=1:c>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return tCe(o,a,s,r?[0,-e]:[-zn,e-zn])}function Yht(e,t,n,r,i,s){var o=e[0],a=e[1],l=t[0],u=t[1],c=0,d=1,f=l-o,h=u-a,p;if(p=n-o,!(!f&&p>0)){if(p/=f,f<0){if(p<c)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>c&&(c=p)}if(p=i-o,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>c&&(c=p)}else if(f>0){if(p<c)return;p<d&&(d=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=s-a,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(e[0]=o+c*f,e[1]=a+c*h),d<1&&(t[0]=o+d*f,t[1]=a+d*h),!0}}}}}var YI=1e9,KI=-1e9;function nCe(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function s(u,c,d,f){var h=0,p=0;if(u==null||(h=o(u,d))!==(p=o(c,d))||l(u,c)<0^d>0)do f.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==p);else f.point(c[0],c[1])}function o(u,c){return nr(u[0]-e)<dn?c>0?0:3:nr(u[0]-n)<dn?c>0?2:1:nr(u[1]-t)<dn?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var d=o(u,1),f=o(c,1);return d!==f?d-f:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=ZEe(),f,h,p,m,g,y,v,w,E,C,S,T={point:A,lineStart:M,lineEnd:$,polygonStart:D,polygonEnd:O};function A(z,B){i(z,B)&&c.point(z,B)}function I(){for(var z=0,B=0,W=h.length;B<W;++B)for(var V=h[B],X=1,U=V.length,F=V[0],G,q,Y=F[0],J=F[1];X<U;++X)G=Y,q=J,F=V[X],Y=F[0],J=F[1],q<=r?J>r&&(Y-G)*(r-q)>(J-q)*(e-G)&&++z:J<=r&&(Y-G)*(r-q)<(J-q)*(e-G)&&--z;return z}function D(){c=d,f=[],h=[],S=!0}function O(){var z=I(),B=S&&z,W=(f=$_e(f)).length;(B||W)&&(u.polygonStart(),B&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),W&&eCe(f,a,z,s,u),u.polygonEnd()),c=u,f=h=p=null}function M(){T.point=L,h&&h.push(p=[]),C=!0,E=!1,v=w=NaN}function $(){f&&(L(m,g),y&&E&&d.rejoin(),f.push(d.result())),T.point=A,E&&c.lineEnd()}function L(z,B){var W=i(z,B);if(h&&p.push([z,B]),C)m=z,g=B,y=W,C=!1,W&&(c.lineStart(),c.point(z,B));else if(W&&E)c.point(z,B);else{var V=[v=Math.max(KI,Math.min(YI,v)),w=Math.max(KI,Math.min(YI,w))],X=[z=Math.max(KI,Math.min(YI,z)),B=Math.max(KI,Math.min(YI,B))];Yht(V,X,e,t,n,r)?(E||(c.lineStart(),c.point(V[0],V[1])),c.point(X[0],X[1]),W||c.lineEnd(),S=!1):W&&(c.lineStart(),c.point(z,B),S=!1)}v=z,w=B,E=W}return T}}function Wae(e,t,n){var r=Ma(e,t-dn,n).concat(t);return function(i){return r.map(function(s){return[i,s]})}}function Gae(e,t,n){var r=Ma(e,t-dn,n).concat(t);return function(i){return r.map(function(s){return[s,i]})}}function Kht(){var e,t,n,r,i,s,o,a,l=10,u=l,c=90,d=360,f,h,p,m,g=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Ma(qI(r/c)*c,n,c).map(p).concat(Ma(qI(a/d)*d,o,d).map(m)).concat(Ma(qI(t/l)*l,e,l).filter(function(w){return nr(w%c)>dn}).map(f)).concat(Ma(qI(s/u)*u,i,u).filter(function(w){return nr(w%d)>dn}).map(h))}return y.lines=function(){return v().map(function(w){return{type:"LineString",coordinates:w}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(o).slice(1),p(n).reverse().slice(1),m(a).reverse().slice(1))]}},y.extent=function(w){return arguments.length?y.extentMajor(w).extentMinor(w):y.extentMinor()},y.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],a=+w[0][1],o=+w[1][1],r>n&&(w=r,r=n,n=w),a>o&&(w=a,a=o,o=w),y.precision(g)):[[r,a],[n,o]]},y.extentMinor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],s=+w[0][1],i=+w[1][1],t>e&&(w=t,t=e,e=w),s>i&&(w=s,s=i,i=w),y.precision(g)):[[t,s],[e,i]]},y.step=function(w){return arguments.length?y.stepMajor(w).stepMinor(w):y.stepMinor()},y.stepMajor=function(w){return arguments.length?(c=+w[0],d=+w[1],y):[c,d]},y.stepMinor=function(w){return arguments.length?(l=+w[0],u=+w[1],y):[l,u]},y.precision=function(w){return arguments.length?(g=+w,f=Wae(s,i,90),h=Gae(t,e,g),p=Wae(a,o,90),m=Gae(r,n,g),y):g},y.extentMajor([[-180,-90+dn],[180,90-dn]]).extentMinor([[-180,-80-dn],[180,80+dn]])}const q2=e=>e;var Z8=new ja,$z=new ja,rCe,iCe,Mz,Fz,cp={point:Do,lineStart:Do,lineEnd:Do,polygonStart:function(){cp.lineStart=Xht,cp.lineEnd=Jht},polygonEnd:function(){cp.lineStart=cp.lineEnd=cp.point=Do,Z8.add(nr($z)),$z=new ja},result:function(){var e=Z8/2;return Z8=new ja,e}};function Xht(){cp.point=Qht}function Qht(e,t){cp.point=sCe,rCe=Mz=e,iCe=Fz=t}function sCe(e,t){$z.add(Fz*e-Mz*t),Mz=e,Fz=t}function Jht(){sCe(rCe,iCe)}var Rx=1/0,FO=Rx,V2=-Rx,LO=V2,jO={point:Zht,lineStart:Do,lineEnd:Do,polygonStart:Do,polygonEnd:Do,result:function(){var e=[[Rx,FO],[V2,LO]];return V2=LO=-(FO=Rx=1/0),e}};function Zht(e,t){e<Rx&&(Rx=e),e>V2&&(V2=e),t<FO&&(FO=t),t>LO&&(LO=t)}var Lz=0,jz=0,ZC=0,BO=0,zO=0,Sw=0,Bz=0,zz=0,eS=0,oCe,aCe,Sf,Tf,Bu={point:jv,lineStart:Yae,lineEnd:Kae,polygonStart:function(){Bu.lineStart=npt,Bu.lineEnd=rpt},polygonEnd:function(){Bu.point=jv,Bu.lineStart=Yae,Bu.lineEnd=Kae},result:function(){var e=eS?[Bz/eS,zz/eS]:Sw?[BO/Sw,zO/Sw]:ZC?[Lz/ZC,jz/ZC]:[NaN,NaN];return Lz=jz=ZC=BO=zO=Sw=Bz=zz=eS=0,e}};function jv(e,t){Lz+=e,jz+=t,++ZC}function Yae(){Bu.point=ept}function ept(e,t){Bu.point=tpt,jv(Sf=e,Tf=t)}function tpt(e,t){var n=e-Sf,r=t-Tf,i=Va(n*n+r*r);BO+=i*(Sf+e)/2,zO+=i*(Tf+t)/2,Sw+=i,jv(Sf=e,Tf=t)}function Kae(){Bu.point=jv}function npt(){Bu.point=ipt}function rpt(){lCe(oCe,aCe)}function ipt(e,t){Bu.point=lCe,jv(oCe=Sf=e,aCe=Tf=t)}function lCe(e,t){var n=e-Sf,r=t-Tf,i=Va(n*n+r*r);BO+=i*(Sf+e)/2,zO+=i*(Tf+t)/2,Sw+=i,i=Tf*e-Sf*t,Bz+=i*(Sf+e),zz+=i*(Tf+t),eS+=i*3,jv(Sf=e,Tf=t)}function uCe(e){this._context=e}uCe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,qa);break}}},result:Do};var Uz=new ja,ej,cCe,dCe,tS,nS,W2={point:Do,lineStart:function(){W2.point=spt},lineEnd:function(){ej&&fCe(cCe,dCe),W2.point=Do},polygonStart:function(){ej=!0},polygonEnd:function(){ej=null},result:function(){var e=+Uz;return Uz=new ja,e}};function spt(e,t){W2.point=fCe,cCe=tS=e,dCe=nS=t}function fCe(e,t){tS-=e,nS-=t,Uz.add(Va(tS*tS+nS*nS)),tS=e,nS=t}let Xae,UO,Qae,Jae;class Zae{constructor(t){this._append=t==null?hCe:opt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Qae||this._append!==UO){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Qae=r,UO=this._append,Jae=this._,this._=i}this._+=Jae;break}}}result(){const t=this._;return this._="",t.length?t:null}}function hCe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function opt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return hCe;if(t!==Xae){const n=10**t;Xae=t,UO=function(i){let s=1;this._+=i[0];for(const o=i.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return UO}function pCe(e,t){let n=3,r=4.5,i,s;function o(a){return a&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),up(a,i(s))),s.result()}return o.area=function(a){return up(a,i(cp)),cp.result()},o.measure=function(a){return up(a,i(W2)),W2.result()},o.bounds=function(a){return up(a,i(jO)),jO.result()},o.centroid=function(a){return up(a,i(Bu)),Bu.result()},o.projection=function(a){return arguments.length?(i=a==null?(e=null,q2):(e=a).stream,o):e},o.context=function(a){return arguments.length?(s=a==null?(t=null,new Zae(n)):new uCe(t=a),typeof r!="function"&&s.pointRadius(r),o):t},o.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(s.pointRadius(+a),+a),o):r},o.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(s=new Zae(n)),o},o.projection(e).digits(n).context(t)}function j4(e){return function(t){var n=new Hz;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Hz(){}Hz.prototype={constructor:Hz,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function gY(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),up(n,e.stream(jO)),t(jO.result()),r!=null&&e.clipExtent(r),e}function B4(e,t,n){return gY(e,function(r){var i=t[1][0]-t[0][0],s=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),a=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(s-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,l])},n)}function yY(e,t,n){return B4(e,[[0,0],t],n)}function vY(e,t,n){return gY(e,function(r){var i=+t,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,a=-s*r[0][1];e.scale(150*s).translate([o,a])},n)}function bY(e,t,n){return gY(e,function(r){var i=+t,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],a=(i-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,a])},n)}var ele=16,apt=an(30*Ln);function tle(e,t){return+t?upt(e,t):lpt(e)}function lpt(e){return j4({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function upt(e,t){function n(r,i,s,o,a,l,u,c,d,f,h,p,m,g){var y=u-r,v=c-i,w=y*y+v*v;if(w>4*t&&m--){var E=o+f,C=a+h,S=l+p,T=Va(E*E+C*C+S*S),A=kl(S/=T),I=nr(nr(S)-1)<dn||nr(s-d)<dn?(s+d)/2:ec(C,E),D=e(I,A),O=D[0],M=D[1],$=O-r,L=M-i,z=v*$-y*L;(z*z/w>t||nr((y*$+v*L)/w-.5)>.3||o*f+a*h+l*p<apt)&&(n(r,i,s,o,a,l,O,M,I,E/=T,C/=T,S,m,g),g.point(O,M),n(O,M,I,E,C,S,u,c,d,f,h,p,m,g))}}return function(r){var i,s,o,a,l,u,c,d,f,h,p,m,g={point:y,lineStart:v,lineEnd:E,polygonStart:function(){r.polygonStart(),g.lineStart=C},polygonEnd:function(){r.polygonEnd(),g.lineStart=v}};function y(A,I){A=e(A,I),r.point(A[0],A[1])}function v(){d=NaN,g.point=w,r.lineStart()}function w(A,I){var D=Lv([A,I]),O=e(A,I);n(d,f,c,h,p,m,d=O[0],f=O[1],c=A,h=D[0],p=D[1],m=D[2],ele,r),r.point(d,f)}function E(){g.point=y,r.lineEnd()}function C(){v(),g.point=S,g.lineEnd=T}function S(A,I){w(i=A,I),s=d,o=f,a=h,l=p,u=m,g.point=w}function T(){n(d,f,c,h,p,m,s,o,i,a,l,u,ele,r),g.lineEnd=E,E()}return g}}var cpt=j4({point:function(e,t){this.stream.point(e*Ln,t*Ln)}});function dpt(e){return j4({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function fpt(e,t,n,r,i){function s(o,a){return o*=r,a*=i,[t+e*o,n-e*a]}return s.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},s}function nle(e,t,n,r,i,s){if(!s)return fpt(e,t,n,r,i);var o=an(s),a=rn(s),l=o*e,u=a*e,c=o/e,d=a/e,f=(a*n-o*t)/e,h=(a*t+o*n)/e;function p(m,g){return m*=r,g*=i,[l*m-u*g+t,n-u*m-l*g]}return p.invert=function(m,g){return[r*(c*m-d*g+f),i*(h-d*m-c*g)]},p}function mh(e){return mCe(function(){return e})()}function mCe(e){var t,n=150,r=480,i=250,s=0,o=0,a=0,l=0,u=0,c,d=0,f=1,h=1,p=null,m=Vae,g=null,y,v,w,E=q2,C=.5,S,T,A,I,D;function O(z){return A(z[0]*Ln,z[1]*Ln)}function M(z){return z=A.invert(z[0],z[1]),z&&[z[0]*Xi,z[1]*Xi]}O.stream=function(z){return I&&D===z?I:I=cpt(dpt(c)(m(S(E(D=z)))))},O.preclip=function(z){return arguments.length?(m=z,p=void 0,L()):m},O.postclip=function(z){return arguments.length?(E=z,g=y=v=w=null,L()):E},O.clipAngle=function(z){return arguments.length?(m=+z?Ght(p=z*Ln):(p=null,Vae),L()):p*Xi},O.clipExtent=function(z){return arguments.length?(E=z==null?(g=y=v=w=null,q2):nCe(g=+z[0][0],y=+z[0][1],v=+z[1][0],w=+z[1][1]),L()):g==null?null:[[g,y],[v,w]]},O.scale=function(z){return arguments.length?(n=+z,$()):n},O.translate=function(z){return arguments.length?(r=+z[0],i=+z[1],$()):[r,i]},O.center=function(z){return arguments.length?(s=z[0]%360*Ln,o=z[1]%360*Ln,$()):[s*Xi,o*Xi]},O.rotate=function(z){return arguments.length?(a=z[0]%360*Ln,l=z[1]%360*Ln,u=z.length>2?z[2]%360*Ln:0,$()):[a*Xi,l*Xi,u*Xi]},O.angle=function(z){return arguments.length?(d=z%360*Ln,$()):d*Xi},O.reflectX=function(z){return arguments.length?(f=z?-1:1,$()):f<0},O.reflectY=function(z){return arguments.length?(h=z?-1:1,$()):h<0},O.precision=function(z){return arguments.length?(S=tle(T,C=z*z),L()):Va(C)},O.fitExtent=function(z,B){return B4(O,z,B)},O.fitSize=function(z,B){return yY(O,z,B)},O.fitWidth=function(z,B){return vY(O,z,B)},O.fitHeight=function(z,B){return bY(O,z,B)};function $(){var z=nle(n,0,0,f,h,d).apply(null,t(s,o)),B=nle(n,r-z[0],i-z[1],f,h,d);return c=JEe(a,l,u),T=Oz(t,B),A=Oz(c,T),S=tle(T,C),L()}function L(){return I=D=null,O}return function(){return t=e.apply(this,arguments),O.invert=t.invert&&M,$()}}function wY(e){var t=0,n=zn/3,r=mCe(e),i=r(t,n);return i.parallels=function(s){return arguments.length?r(t=s[0]*Ln,n=s[1]*Ln):[t*Xi,n*Xi]},i}function hpt(e){var t=an(e);function n(r,i){return[r*t,rn(i)/t]}return n.invert=function(r,i){return[r/t,kl(i*t)]},n}function ppt(e,t){var n=rn(e),r=(n+rn(t))/2;if(nr(r)<dn)return hpt(e);var i=1+n*(2*r-n),s=Va(i)/r;function o(a,l){var u=Va(i-2*r*rn(l))/r;return[u*rn(a*=r),s-u*an(a)]}return o.invert=function(a,l){var u=s-l,c=ec(a,nr(u))*Hu(u);return u*r<0&&(c-=zn*Hu(a)*Hu(u)),[c/r,kl((i-(a*a+u*u)*r*r)/(2*r))]},o}function HO(){return wY(ppt).scale(155.424).center([0,33.6442])}function gCe(){return HO().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function mpt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function gpt(){var e,t,n=gCe(),r,i=HO().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=HO().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(f,h){l=[f,h]}};function c(f){var h=f[0],p=f[1];return l=null,r.point(h,p),l||(s.point(h,p),l)||(a.point(h,p),l)}c.invert=function(f){var h=n.scale(),p=n.translate(),m=(f[0]-p[0])/h,g=(f[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?o:n).invert(f)},c.stream=function(f){return e&&t===f?e:e=mpt([n.stream(t=f),i.stream(f),o.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),d()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var h=n.scale(),p=+f[0],m=+f[1];return r=n.translate(f).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(u),s=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+dn,m+.12*h+dn],[p-.214*h-dn,m+.234*h-dn]]).stream(u),a=o.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+dn,m+.166*h+dn],[p-.115*h-dn,m+.234*h-dn]]).stream(u),d()},c.fitExtent=function(f,h){return B4(c,f,h)},c.fitSize=function(f,h){return yY(c,f,h)},c.fitWidth=function(f,h){return vY(c,f,h)},c.fitHeight=function(f,h){return bY(c,f,h)};function d(){return e=t=null,c}return c.scale(1070)}function yCe(e){return function(t,n){var r=an(t),i=an(n),s=e(r*i);return s===1/0?[2,0]:[s*i*rn(t),s*rn(n)]}}function gA(e){return function(t,n){var r=Va(t*t+n*n),i=e(r),s=rn(i),o=an(i);return[ec(t*s,r*o),kl(r&&n*s/r)]}}var vCe=yCe(function(e){return Va(2/(1+e))});vCe.invert=gA(function(e){return 2*kl(e/2)});function ypt(){return mh(vCe).scale(124.75).clipAngle(180-.001)}var bCe=yCe(function(e){return(e=LEe(e))&&e/rn(e)});bCe.invert=gA(function(e){return e});function vpt(){return mh(bCe).scale(79.4188).clipAngle(180-.001)}function z4(e,t){return[e,CO(pY((zi+t)/2))]}z4.invert=function(e,t){return[e,2*L_(FEe(t))-zi]};function bpt(){return wCe(z4).scale(961/qa)}function wCe(e){var t=mh(e),n=t.center,r=t.scale,i=t.translate,s=t.clipExtent,o=null,a,l,u;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?o=a=l=u=null:(o=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):o==null?null:[[o,a],[l,u]]};function c(){var d=zn*r(),f=t(jht(t.rotate()).invert([0,0]));return s(o==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===z4?[[Math.max(f[0]-d,o),a],[Math.min(f[0]+d,l),u]]:[[o,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,u)]])}return c()}function XI(e){return pY((zi+e)/2)}function wpt(e,t){var n=an(e),r=e===t?rn(e):CO(n/an(t))/CO(XI(t)/XI(e)),i=n*X8(XI(e),r)/r;if(!r)return z4;function s(o,a){i>0?a<-zi+dn&&(a=-zi+dn):a>zi-dn&&(a=zi-dn);var l=i/X8(XI(a),r);return[l*rn(r*o),i-l*an(r*o)]}return s.invert=function(o,a){var l=i-a,u=Hu(r)*Va(o*o+l*l),c=ec(o,nr(l))*Hu(l);return l*r<0&&(c-=zn*Hu(o)*Hu(l)),[c/r,2*L_(X8(i/u,1/r))-zi]},s}function xpt(){return wY(wpt).scale(109.5).parallels([30,30])}function qO(e,t){return[e,t]}qO.invert=qO;function _pt(){return mh(qO).scale(152.63)}function Ept(e,t){var n=an(e),r=e===t?rn(e):(n-an(t))/(t-e),i=n/r+e;if(nr(r)<dn)return qO;function s(o,a){var l=i-a,u=r*o;return[l*rn(u),i-l*an(u)]}return s.invert=function(o,a){var l=i-a,u=ec(o,nr(l))*Hu(l);return l*r<0&&(u-=zn*Hu(o)*Hu(l)),[u/r,i-Hu(r)*Va(o*o+l*l)]},s}function Cpt(){return wY(Ept).scale(131.154).center([0,13.9389])}var HS=1.340264,qS=-.081106,VS=893e-6,WS=.003796,VO=Va(3)/2,Spt=12;function xCe(e,t){var n=kl(VO*rn(t)),r=n*n,i=r*r*r;return[e*an(n)/(VO*(HS+3*qS*r+i*(7*VS+9*WS*r))),n*(HS+qS*r+i*(VS+WS*r))]}xCe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,s=0,o,a,l;s<Spt&&(a=n*(HS+qS*r+i*(VS+WS*r))-t,l=HS+3*qS*r+i*(7*VS+9*WS*r),n-=o=a/l,r=n*n,i=r*r*r,!(nr(o)<Ez));++s);return[VO*e*(HS+3*qS*r+i*(7*VS+9*WS*r))/an(n),kl(rn(n)/VO)]};function Tpt(){return mh(xCe).scale(177.158)}function _Ce(e,t){var n=an(t),r=an(e)*n;return[n*rn(e)/r,rn(t)/r]}_Ce.invert=gA(L_);function Apt(){return mh(_Ce).scale(144.049).clipAngle(60)}function kpt(){var e=1,t=0,n=0,r=1,i=1,s=0,o,a,l=null,u,c,d,f=1,h=1,p=j4({point:function(E,C){var S=w([E,C]);this.stream.point(S[0],S[1])}}),m=q2,g,y;function v(){return f=e*r,h=e*i,g=y=null,w}function w(E){var C=E[0]*f,S=E[1]*h;if(s){var T=S*o-C*a;C=C*o+S*a,S=T}return[C+t,S+n]}return w.invert=function(E){var C=E[0]-t,S=E[1]-n;if(s){var T=S*o+C*a;C=C*o-S*a,S=T}return[C/f,S/h]},w.stream=function(E){return g&&y===E?g:g=p(m(y=E))},w.postclip=function(E){return arguments.length?(m=E,l=u=c=d=null,v()):m},w.clipExtent=function(E){return arguments.length?(m=E==null?(l=u=c=d=null,q2):nCe(l=+E[0][0],u=+E[0][1],c=+E[1][0],d=+E[1][1]),v()):l==null?null:[[l,u],[c,d]]},w.scale=function(E){return arguments.length?(e=+E,v()):e},w.translate=function(E){return arguments.length?(t=+E[0],n=+E[1],v()):[t,n]},w.angle=function(E){return arguments.length?(s=E%360*Ln,a=rn(s),o=an(s),v()):s*Xi},w.reflectX=function(E){return arguments.length?(r=E?-1:1,v()):r<0},w.reflectY=function(E){return arguments.length?(i=E?-1:1,v()):i<0},w.fitExtent=function(E,C){return B4(w,E,C)},w.fitSize=function(E,C){return yY(w,E,C)},w.fitWidth=function(E,C){return vY(w,E,C)},w.fitHeight=function(E,C){return bY(w,E,C)},w}function ECe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}ECe.invert=function(e,t){var n=t,r=25,i;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-t)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(nr(i)>dn&&--r>0);return[e/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function Ipt(){return mh(ECe).scale(175.295)}function CCe(e,t){return[an(t)*rn(e),rn(t)]}CCe.invert=gA(kl);function Rpt(){return mh(CCe).scale(249.5).clipAngle(90+dn)}function SCe(e,t){var n=an(t),r=1+an(e)*n;return[n*rn(e)/r,rn(t)/r]}SCe.invert=gA(function(e){return 2*L_(e)});function Dpt(){return mh(SCe).scale(250).clipAngle(142)}function TCe(e,t){return[CO(pY((zi+t)/2)),-e]}TCe.invert=function(e,t){return[-t,2*L_(FEe(e))-zi]};function Ppt(){var e=wCe(TCe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Opt(e,t){return e.parent===t.parent?1:2}function Npt(e){return e.reduce($pt,0)/e.length}function $pt(e,t){return e+t.x}function Mpt(e){return 1+e.reduce(Fpt,0)}function Fpt(e,t){return Math.max(e,t.y)}function Lpt(e){for(var t;t=e.children;)e=t[0];return e}function jpt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function Bpt(){var e=Opt,t=1,n=1,r=!1;function i(s){var o,a=0;s.eachAfter(function(f){var h=f.children;h?(f.x=Npt(h),f.y=Mpt(h)):(f.x=o?a+=e(f,o):0,f.y=0,o=f)});var l=Lpt(s),u=jpt(s),c=l.x-e(l,u)/2,d=u.x+e(u,l)/2;return s.eachAfter(r?function(f){f.x=(f.x-s.x)*t,f.y=(s.y-f.y)*n}:function(f){f.x=(f.x-c)/(d-c)*t,f.y=(1-(s.y?f.y/s.y:1))*n})}return i.separation=function(s){return arguments.length?(e=s,i):e},i.size=function(s){return arguments.length?(r=!1,t=+s[0],n=+s[1],i):r?null:[t,n]},i.nodeSize=function(s){return arguments.length?(r=!0,t=+s[0],n=+s[1],i):r?[t,n]:null},i}function zpt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Upt(){return this.eachAfter(zpt)}function Hpt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function qpt(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Vpt(e,t){for(var n=this,r=[n],i=[],s,o,a,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function Wpt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Gpt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Ypt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Kpt(e){for(var t=this,n=Xpt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Xpt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Qpt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Jpt(){return Array.from(this)}function Zpt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function emt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*tmt(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function xY(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=imt)):t===void 0&&(t=rmt);for(var n=new Dx(e),r,i=[n],s,o,a,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new Dx(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(ACe)}function nmt(){return xY(this).eachBefore(smt)}function rmt(e){return e.children}function imt(e){return Array.isArray(e)?e[1]:null}function smt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function ACe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Dx(e){this.data=e,this.depth=this.height=0,this.parent=null}Dx.prototype=xY.prototype={constructor:Dx,count:Upt,each:Hpt,eachAfter:Vpt,eachBefore:qpt,find:Wpt,sum:Gpt,sort:Ypt,path:Kpt,ancestors:Qpt,descendants:Jpt,leaves:Zpt,links:emt,copy:nmt,[Symbol.iterator]:tmt};function aP(e){return e==null?null:kCe(e)}function kCe(e){if(typeof e!="function")throw new Error;return e}function Uy(){return 0}function vw(e){return function(){return e}}const omt=1664525,amt=1013904223,rle=4294967296;function lmt(){let e=1;return()=>(e=(omt*e+amt)%rle)/rle}function umt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cmt(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function dmt(e,t){for(var n=0,r=(e=cmt(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&ICe(o,s)?++n:(o=hmt(i=fmt(i,s)),n=0);return o}function fmt(e,t){var n,r;if(tj(t,e))return[t];for(n=0;n<e.length;++n)if(QI(t,e[n])&&tj(rS(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(QI(rS(e[n],e[r]),t)&&QI(rS(e[n],t),e[r])&&QI(rS(e[r],t),e[n])&&tj(RCe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function QI(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function ICe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function tj(e,t){for(var n=0;n<t.length;++n)if(!ICe(e,t[n]))return!1;return!0}function hmt(e){switch(e.length){case 1:return pmt(e[0]);case 2:return rS(e[0],e[1]);case 3:return RCe(e[0],e[1],e[2])}}function pmt(e){return{x:e.x,y:e.y,r:e.r}}function rS(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,l=s-n,u=o-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+s+l/d*c)/2,y:(r+o+u/d*c)/2,r:(d+i+a)/2}}function RCe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-o,h=r-u,p=i-a,m=i-c,g=l-s,y=d-s,v=r*r+i*i-s*s,w=v-o*o-a*a+l*l,E=v-u*u-c*c+d*d,C=h*p-f*m,S=(p*E-m*w)/(C*2)-r,T=(m*g-p*y)/C,A=(h*w-f*E)/(C*2)-i,I=(f*y-h*g)/C,D=T*T+I*I-1,O=2*(s+S*T+A*I),M=S*S+A*A-s*s,$=-(Math.abs(D)>1e-6?(O+Math.sqrt(O*O-4*D*M))/(2*D):M/O);return{x:r+S+T*$,y:i+A+I*$,r:$}}function ile(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,l,u=r*r+o*o;u?(s=t.r+n.r,s*=s,l=e.r+n.r,l*=l,s>l?(i=(u+l-s)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(u+s-l)/(2*u),a=Math.sqrt(Math.max(0,s/u-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function sle(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function ole(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function JI(e){this._=e,this.next=null,this.previous=null}function mmt(e,t){if(!(s=(e=umt(e)).length))return 0;var n,r,i,s,o,a,l,u,c,d,f;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;ile(r,n,i=e[2]),n=new JI(n),r=new JI(r),i=new JI(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<s;++l){ile(n._,r._,i=e[l]),i=new JI(i),u=r.next,c=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(sle(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(sle(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=ole(n);(i=i.next)!==r;)(a=ole(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=dmt(n,t),l=0;l<s;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function gmt(e){return Math.sqrt(e.value)}function ymt(){var e=null,t=1,n=1,r=Uy;function i(s){const o=lmt();return s.x=t/2,s.y=n/2,e?s.eachBefore(ale(e)).eachAfter(nj(r,.5,o)).eachBefore(lle(1)):s.eachBefore(ale(gmt)).eachAfter(nj(Uy,1,o)).eachAfter(nj(r,s.r/Math.min(t,n),o)).eachBefore(lle(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=aP(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:vw(+s),i):r},i}function ale(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function nj(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,l;if(a)for(s=0;s<o;++s)i[s].r+=a;if(l=mmt(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=l+a}}}function lle(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function DCe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function yA(e,t,n,r,i){for(var s=e.children,o,a=-1,l=s.length,u=e.value&&(r-t)/e.value;++a<l;)o=s[a],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function vmt(){var e=1,t=1,n=0,r=!1;function i(o){var a=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/a,o.eachBefore(s(t,a)),r&&o.eachBefore(DCe),o}function s(o,a){return function(l){l.children&&yA(l,l.x0,o*(l.depth+1)/a,l.x1,o*(l.depth+2)/a);var u=l.x0,c=l.y0,d=l.x1-n,f=l.y1-n;d<u&&(u=d=(u+d)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var bmt={depth:-1},ule={},rj={};function wmt(e){return e.id}function xmt(e){return e.parentId}function cle(){var e=wmt,t=xmt,n;function r(i){var s=Array.from(i),o=e,a=t,l,u,c,d,f,h,p,m,g=new Map;if(n!=null){const y=s.map((E,C)=>_mt(n(E,C,i))),v=y.map(dle),w=new Set(y).add("");for(const E of v)w.has(E)||(w.add(E),y.push(E),v.push(dle(E)),s.push(rj));o=(E,C)=>y[C],a=(E,C)=>v[C]}for(c=0,l=s.length;c<l;++c)u=s[c],h=s[c]=new Dx(u),(p=o(u,c,i))!=null&&(p+="")&&(m=h.id=p,g.set(m,g.has(m)?ule:h)),(p=a(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=s[c],p=h.parent){if(f=g.get(p),!f)throw new Error("missing: "+p);if(f===ule)throw new Error("ambiguous: "+p);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(n!=null){for(;d.data===rj&&d.children.length===1;)d=d.children[0],--l;for(let y=s.length-1;y>=0&&(h=s[y],h.data===rj);--y)h.data=null}if(d.parent=bmt,d.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(ACe),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=aP(i),r):e},r.parentId=function(i){return arguments.length?(t=aP(i),r):t},r.path=function(i){return arguments.length?(n=aP(i),r):n},r}function _mt(e){e=`${e}`;let t=e.length;return qz(e,t-1)&&!qz(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function dle(e){let t=e.length;if(t<2)return"";for(;--t>1&&!qz(e,t););return e.slice(0,t)}function qz(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function Emt(e,t){return e.parent===t.parent?1:2}function ij(e){var t=e.children;return t?t[0]:e.t}function sj(e){var t=e.children;return t?t[t.length-1]:e.t}function Cmt(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Smt(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function Tmt(e,t,n){return e.a.parent===t.parent?e.a:n}function lP(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}lP.prototype=Object.create(Dx.prototype);function Amt(e){for(var t=new lP(e,0),n,r=[t],i,s,o,a;n=r.pop();)if(s=n._.children)for(n.children=new Array(a=s.length),o=a-1;o>=0;--o)r.push(i=n.children[o]=new lP(s[o],o)),i.parent=n;return(t.parent=new lP(null,0)).children=[t],t}function kmt(){var e=Emt,t=1,n=1,r=null;function i(u){var c=Amt(u);if(c.eachAfter(s),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var d=u,f=u,h=u;u.eachBefore(function(v){v.x<d.x&&(d=v),v.x>f.x&&(f=v),v.depth>h.depth&&(h=v)});var p=d===f?1:e(d,f)/2,m=p-d.x,g=t/(f.x+p+m),y=n/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+m)*g,v.y=v.depth*y})}return u}function s(u){var c=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(c){Smt(u);var h=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-h):u.z=h}else f&&(u.z=f.z+e(u._,f._));u.parent.A=a(u,f,u.parent.A||d[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,d){if(c){for(var f=u,h=u,p=c,m=f.parent.children[0],g=f.m,y=h.m,v=p.m,w=m.m,E;p=sj(p),f=ij(f),p&&f;)m=ij(m),h=sj(h),h.a=u,E=p.z+v-f.z-g+e(p._,f._),E>0&&(Cmt(Tmt(p,u,d),u,E),g+=E,y+=E),v+=p.m,g+=f.m,w+=m.m,y+=h.m;p&&!sj(h)&&(h.t=p,h.m+=v-y),f&&!ij(m)&&(m.t=f,m.m+=g-w,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function U4(e,t,n,r,i){for(var s=e.children,o,a=-1,l=s.length,u=e.value&&(i-n)/e.value;++a<l;)o=s[a],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u}var PCe=(1+Math.sqrt(5))/2;function OCe(e,t,n,r,i,s){for(var o=[],a=t.children,l,u,c=0,d=0,f=a.length,h,p,m=t.value,g,y,v,w,E,C,S;c<f;){h=i-n,p=s-r;do g=a[d++].value;while(!g&&d<f);for(y=v=g,C=Math.max(p/h,h/p)/(m*e),S=g*g*C,E=Math.max(v/S,S/y);d<f;++d){if(g+=u=a[d].value,u<y&&(y=u),u>v&&(v=u),S=g*g*C,w=Math.max(v/S,S/y),w>E){g-=u;break}E=w}o.push(l={value:g,dice:h<p,children:a.slice(c,d)}),l.dice?yA(l,n,r,i,m?r+=p*g/m:s):U4(l,n,r,m?n+=h*g/m:i,s),m-=g,c=d}return o}const NCe=function e(t){function n(r,i,s,o,a){OCe(t,r,i,s,o,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(PCe);function Imt(){var e=NCe,t=!1,n=1,r=1,i=[0],s=Uy,o=Uy,a=Uy,l=Uy,u=Uy;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(DCe),f}function d(f){var h=i[f.depth],p=f.x0+h,m=f.y0+h,g=f.x1-h,y=f.y1-h;g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),f.x0=p,f.y0=m,f.x1=g,f.y1=y,f.children&&(h=i[f.depth+1]=s(f)/2,p+=u(f)-h,m+=o(f)-h,g-=a(f)-h,y-=l(f)-h,g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),e(f,p,m,g,y))}return c.round=function(f){return arguments.length?(t=!!f,c):t},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(e=kCe(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:vw(+f),c):s},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:vw(+f),c):o},c.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:vw(+f),c):a},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:vw(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:vw(+f),c):u},c}function Rmt(e,t,n,r,i){var s=e.children,o,a=s.length,l,u=new Array(a+1);for(u[0]=l=o=0;o<a;++o)u[o+1]=l+=s[o].value;c(0,a,e.value,t,n,r,i);function c(d,f,h,p,m,g,y){if(d>=f-1){var v=s[d];v.x0=p,v.y0=m,v.x1=g,v.y1=y;return}for(var w=u[d],E=h/2+w,C=d+1,S=f-1;C<S;){var T=C+S>>>1;u[T]<E?C=T+1:S=T}E-u[C-1]<u[C]-E&&d+1<C&&--C;var A=u[C]-w,I=h-A;if(g-p>y-m){var D=h?(p*I+g*A)/h:g;c(d,C,A,p,m,D,y),c(C,f,I,D,m,g,y)}else{var O=h?(m*I+y*A)/h:y;c(d,C,A,p,m,g,O),c(C,f,I,p,O,g,y)}}}function Dmt(e,t,n,r,i){(e.depth&1?U4:yA)(e,t,n,r,i)}const Pmt=function e(t){function n(r,i,s,o,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,d,f=-1,h,p=l.length,m=r.value;++f<p;){for(u=l[f],c=u.children,d=u.value=0,h=c.length;d<h;++d)u.value+=c[d].value;u.dice?yA(u,i,s,o,m?s+=(a-s)*u.value/m:a):U4(u,i,s,m?i+=(o-i)*u.value/m:o,a),m-=u.value}else r._squarify=l=OCe(t,r,i,s,o,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(PCe);function jd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cg(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Vz=Symbol("implicit");function H4(){var e=new Qoe,t=[],n=[],r=Vz;function i(s){let o=e.get(s);if(o===void 0){if(r!==Vz)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Qoe;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return H4(t,n).unknown(r)},jd.apply(i,arguments),i}function Wz(){var e=H4().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var f=t().length,h=i<r,p=h?i:r,m=h?r:i;s=(m-p)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),p+=(m-p-s*(f-l))*c,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var g=Ma(f).map(function(y){return p+s*y});return n(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},e.copy=function(){return Wz(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},jd.apply(d(),arguments)}function Omt(e){return function(){return e}}function Gz(e){return+e}var fle=[0,1];function El(e){return e}function Yz(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Omt(isNaN(t)?NaN:.5)}function Nmt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function $mt(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=Yz(i,r),s=n(o,s)):(r=Yz(r,i),s=n(s,o)),function(a){return s(r(a))}}function Mmt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Yz(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=Y0(e,a,1,r)-1;return s[l](i[l](a))}}function vA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function q4(){var e=fle,t=fle,n=Eg,r,i,s,o=El,a,l,u;function c(){var f=Math.min(e.length,t.length);return o!==El&&(o=Nmt(e[0],e[f-1])),a=f>2?Mmt:$mt,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=a(t,e.map(r),Lu)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Gz),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=hA,c()},d.clamp=function(f){return arguments.length?(o=f?!0:El,c()):o!==El},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,h){return r=f,i=h,c()}}function $Ce(){return q4()(El,El)}function MCe(e,t,n,r){var i=K0(e,t,n),s;switch(r=Fv(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=$Ee(i,o))&&(r.precision=s),hY(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=MEe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=NEe(i))&&(r.precision=s-(r.type==="%")*2);break}}return L4(r)}function Tb(e){var t=e.domain;return e.ticks=function(n){var r=t();return uz(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return MCe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);c-- >0;){if(u=cz(o,a,n),u===l)return r[i]=o,r[s]=a,t(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function G2(){var e=$Ce();return e.copy=function(){return vA(e,G2())},jd.apply(e,arguments),Tb(e)}function FCe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Gz),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return FCe(e).unknown(t)},e=arguments.length?Array.from(e,Gz):[0,1],Tb(n)}function LCe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function hle(e){return Math.log(e)}function ple(e){return Math.exp(e)}function Fmt(e){return-Math.log(-e)}function Lmt(e){return-Math.exp(-e)}function jmt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Bmt(e){return e===10?jmt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zmt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function mle(e){return(t,n)=>-e(-t,n)}function _Y(e){const t=e(hle,ple),n=t.domain;let r=10,i,s;function o(){return i=zmt(r),s=Bmt(r),n()[0]<0?(i=mle(i),s=mle(s),e(Fmt,Lmt)):e(hle,ple),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),p,m;const g=a==null?10:+a;let y=[];if(!(r%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/s(-f):p*s(f),!(m<u)){if(m>c)break;y.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/s(-f):p*s(f),!(m<u)){if(m>c)break;y.push(m)}y.length*2<g&&(y=uz(u,c,g))}else y=uz(f,h,Math.min(h-f,g)).map(s);return d?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Fv(l)).precision==null&&(l.trim=!0),l=L4(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/s(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(LCe(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function jCe(){const e=_Y(q4()).domain([1,10]);return e.copy=()=>vA(e,jCe()).base(e.base()),jd.apply(e,arguments),e}function gle(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yle(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function EY(e){var t=1,n=e(gle(t),yle(t));return n.constant=function(r){return arguments.length?e(gle(t=+r),yle(t)):t},Tb(n)}function BCe(){var e=EY(q4());return e.copy=function(){return vA(e,BCe()).constant(e.constant())},jd.apply(e,arguments)}function vle(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Umt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Hmt(e){return e<0?-e*e:e*e}function CY(e){var t=e(El,El),n=1;function r(){return n===1?e(El,El):n===.5?e(Umt,Hmt):e(vle(n),vle(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Tb(t)}function SY(){var e=CY(q4());return e.copy=function(){return vA(e,SY()).exponent(e.exponent())},jd.apply(e,arguments),e}function qmt(){return SY.apply(null,arguments).exponent(.5)}function zCe(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=O_e(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[Y0(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Tp),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return zCe().domain(e).range(t).unknown(r)},jd.apply(s,arguments)}function GS(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[Y0(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return GS().domain([e,t]).range(i).unknown(s)},jd.apply(Tb(o),arguments)}function UCe(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[Y0(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return UCe().domain(e).range(t).unknown(n)},jd.apply(i,arguments)}const oj=new Date,aj=new Date;function $s(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),t(s,a),e(s);while(u<s&&s<o);return l},i.filter=s=>$s(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(oj.setTime(+s),aj.setTime(+o),e(oj),e(aj),Math.floor(n(oj,aj))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Px=$s(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Px.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$s(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Px);Px.range;const gp=1e3,qu=gp*60,yp=qu*60,Gp=yp*24,TY=Gp*7,ble=Gp*30,lj=Gp*365,vp=$s(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gp)},(e,t)=>(t-e)/gp,e=>e.getUTCSeconds());vp.range;const V4=$s(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gp)},(e,t)=>{e.setTime(+e+t*qu)},(e,t)=>(t-e)/qu,e=>e.getMinutes());V4.range;const W4=$s(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qu)},(e,t)=>(t-e)/qu,e=>e.getUTCMinutes());W4.range;const G4=$s(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gp-e.getMinutes()*qu)},(e,t)=>{e.setTime(+e+t*yp)},(e,t)=>(t-e)/yp,e=>e.getHours());G4.range;const Y4=$s(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yp)},(e,t)=>(t-e)/yp,e=>e.getUTCHours());Y4.range;const kp=$s(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qu)/Gp,e=>e.getDate()-1);kp.range;const M0=$s(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gp,e=>e.getUTCDate()-1);M0.range;const HCe=$s(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gp,e=>Math.floor(e/Gp));HCe.range;function Ab(e){return $s(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qu)/TY)}const j_=Ab(0),WO=Ab(1),Vmt=Ab(2),Wmt=Ab(3),Ox=Ab(4),Gmt=Ab(5),Ymt=Ab(6);j_.range;WO.range;Vmt.range;Wmt.range;Ox.range;Gmt.range;Ymt.range;function kb(e){return $s(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/TY)}const B_=kb(0),GO=kb(1),Kmt=kb(2),Xmt=kb(3),Nx=kb(4),Qmt=kb(5),Jmt=kb(6);B_.range;GO.range;Kmt.range;Xmt.range;Nx.range;Qmt.range;Jmt.range;const Y2=$s(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Y2.range;const K2=$s(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());K2.range;const eh=$s(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());eh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$s(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});eh.range;const th=$s(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());th.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$s(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});th.range;function qCe(e,t,n,r,i,s){const o=[[vp,1,gp],[vp,5,5*gp],[vp,15,15*gp],[vp,30,30*gp],[s,1,qu],[s,5,5*qu],[s,15,15*qu],[s,30,30*qu],[i,1,yp],[i,3,3*yp],[i,6,6*yp],[i,12,12*yp],[r,1,Gp],[r,2,2*Gp],[n,1,TY],[t,1,ble],[t,3,3*ble],[e,1,lj]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),p=h?h.range(u,+c+1):[];return f?p.reverse():p}function l(u,c,d){const f=Math.abs(c-u)/d,h=M_(([,,g])=>g).right(o,f);if(h===o.length)return e.every(K0(u/lj,c/lj,d));if(h===0)return Px.every(Math.max(K0(u,c,d),1));const[p,m]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return p.every(m)}return[a,l]}const[Zmt,e0t]=qCe(th,K2,B_,HCe,Y4,W4),[t0t,n0t]=qCe(eh,Y2,j_,kp,G4,V4);function uj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sC(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function VCe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,u=oC(i),c=aC(i),d=oC(s),f=aC(s),h=oC(o),p=aC(o),m=oC(a),g=aC(a),y=oC(l),v=aC(l),w={a:W,A:V,b:X,B:U,c:null,d:Sle,e:Sle,f:S0t,g:$0t,G:F0t,H:_0t,I:E0t,j:C0t,L:WCe,m:T0t,M:A0t,p:F,q:G,Q:kle,s:Ile,S:k0t,u:I0t,U:R0t,V:D0t,w:P0t,W:O0t,x:null,X:null,y:N0t,Y:M0t,Z:L0t,"%":Ale},E={a:q,A:Y,b:J,B:te,c:null,d:Tle,e:Tle,f:U0t,g:J0t,G:egt,H:j0t,I:B0t,j:z0t,L:YCe,m:H0t,M:q0t,p:ue,q:se,Q:kle,s:Ile,S:V0t,u:W0t,U:G0t,V:Y0t,w:K0t,W:X0t,x:null,X:null,y:Q0t,Y:Z0t,Z:tgt,"%":Ale},C={a:D,A:O,b:M,B:$,c:L,d:Ele,e:Ele,f:v0t,g:_le,G:xle,H:Cle,I:Cle,j:p0t,L:y0t,m:h0t,M:m0t,p:I,q:f0t,Q:w0t,s:x0t,S:g0t,u:a0t,U:l0t,V:u0t,w:o0t,W:c0t,x:z,X:B,y:_le,Y:xle,Z:d0t,"%":b0t};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),E.x=S(n,E),E.X=S(r,E),E.c=S(t,E);function S(ne,fe){return function(ee){var ie=[],he=-1,ye=0,Ce=ne.length,Re,De,be;for(ee instanceof Date||(ee=new Date(+ee));++he<Ce;)ne.charCodeAt(he)===37&&(ie.push(ne.slice(ye,he)),(De=wle[Re=ne.charAt(++he)])!=null?Re=ne.charAt(++he):De=Re==="e"?" ":"0",(be=fe[Re])&&(Re=be(ee,De)),ie.push(Re),ye=he+1);return ie.push(ne.slice(ye,he)),ie.join("")}}function T(ne,fe){return function(ee){var ie=sC(1900,void 0,1),he=A(ie,ne,ee+="",0),ye,Ce;if(he!=ee.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(fe&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(ye=cj(sC(ie.y,0,1)),Ce=ye.getUTCDay(),ye=Ce>4||Ce===0?GO.ceil(ye):GO(ye),ye=M0.offset(ye,(ie.V-1)*7),ie.y=ye.getUTCFullYear(),ie.m=ye.getUTCMonth(),ie.d=ye.getUTCDate()+(ie.w+6)%7):(ye=uj(sC(ie.y,0,1)),Ce=ye.getDay(),ye=Ce>4||Ce===0?WO.ceil(ye):WO(ye),ye=kp.offset(ye,(ie.V-1)*7),ie.y=ye.getFullYear(),ie.m=ye.getMonth(),ie.d=ye.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Ce="Z"in ie?cj(sC(ie.y,0,1)).getUTCDay():uj(sC(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Ce+5)%7:ie.w+ie.U*7-(Ce+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,cj(ie)):uj(ie)}}function A(ne,fe,ee,ie){for(var he=0,ye=fe.length,Ce=ee.length,Re,De;he<ye;){if(ie>=Ce)return-1;if(Re=fe.charCodeAt(he++),Re===37){if(Re=fe.charAt(he++),De=C[Re in wle?fe.charAt(he++):Re],!De||(ie=De(ne,ee,ie))<0)return-1}else if(Re!=ee.charCodeAt(ie++))return-1}return ie}function I(ne,fe,ee){var ie=u.exec(fe.slice(ee));return ie?(ne.p=c.get(ie[0].toLowerCase()),ee+ie[0].length):-1}function D(ne,fe,ee){var ie=h.exec(fe.slice(ee));return ie?(ne.w=p.get(ie[0].toLowerCase()),ee+ie[0].length):-1}function O(ne,fe,ee){var ie=d.exec(fe.slice(ee));return ie?(ne.w=f.get(ie[0].toLowerCase()),ee+ie[0].length):-1}function M(ne,fe,ee){var ie=y.exec(fe.slice(ee));return ie?(ne.m=v.get(ie[0].toLowerCase()),ee+ie[0].length):-1}function $(ne,fe,ee){var ie=m.exec(fe.slice(ee));return ie?(ne.m=g.get(ie[0].toLowerCase()),ee+ie[0].length):-1}function L(ne,fe,ee){return A(ne,t,fe,ee)}function z(ne,fe,ee){return A(ne,n,fe,ee)}function B(ne,fe,ee){return A(ne,r,fe,ee)}function W(ne){return o[ne.getDay()]}function V(ne){return s[ne.getDay()]}function X(ne){return l[ne.getMonth()]}function U(ne){return a[ne.getMonth()]}function F(ne){return i[+(ne.getHours()>=12)]}function G(ne){return 1+~~(ne.getMonth()/3)}function q(ne){return o[ne.getUTCDay()]}function Y(ne){return s[ne.getUTCDay()]}function J(ne){return l[ne.getUTCMonth()]}function te(ne){return a[ne.getUTCMonth()]}function ue(ne){return i[+(ne.getUTCHours()>=12)]}function se(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var fe=S(ne+="",w);return fe.toString=function(){return ne},fe},parse:function(ne){var fe=T(ne+="",!1);return fe.toString=function(){return ne},fe},utcFormat:function(ne){var fe=S(ne+="",E);return fe.toString=function(){return ne},fe},utcParse:function(ne){var fe=T(ne+="",!0);return fe.toString=function(){return ne},fe}}}var wle={"-":"",_:" ",0:"0"},uo=/^\s*\d+/,r0t=/^%/,i0t=/[\\^$*+?|[\]().{}]/g;function Cr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function s0t(e){return e.replace(i0t,"\\$&")}function oC(e){return new RegExp("^(?:"+e.map(s0t).join("|")+")","i")}function aC(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function o0t(e,t,n){var r=uo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function a0t(e,t,n){var r=uo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function l0t(e,t,n){var r=uo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function u0t(e,t,n){var r=uo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function c0t(e,t,n){var r=uo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xle(e,t,n){var r=uo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _le(e,t,n){var r=uo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function d0t(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function f0t(e,t,n){var r=uo.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function h0t(e,t,n){var r=uo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ele(e,t,n){var r=uo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function p0t(e,t,n){var r=uo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Cle(e,t,n){var r=uo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function m0t(e,t,n){var r=uo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function g0t(e,t,n){var r=uo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function y0t(e,t,n){var r=uo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function v0t(e,t,n){var r=uo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function b0t(e,t,n){var r=r0t.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function w0t(e,t,n){var r=uo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function x0t(e,t,n){var r=uo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Sle(e,t){return Cr(e.getDate(),t,2)}function _0t(e,t){return Cr(e.getHours(),t,2)}function E0t(e,t){return Cr(e.getHours()%12||12,t,2)}function C0t(e,t){return Cr(1+kp.count(eh(e),e),t,3)}function WCe(e,t){return Cr(e.getMilliseconds(),t,3)}function S0t(e,t){return WCe(e,t)+"000"}function T0t(e,t){return Cr(e.getMonth()+1,t,2)}function A0t(e,t){return Cr(e.getMinutes(),t,2)}function k0t(e,t){return Cr(e.getSeconds(),t,2)}function I0t(e){var t=e.getDay();return t===0?7:t}function R0t(e,t){return Cr(j_.count(eh(e)-1,e),t,2)}function GCe(e){var t=e.getDay();return t>=4||t===0?Ox(e):Ox.ceil(e)}function D0t(e,t){return e=GCe(e),Cr(Ox.count(eh(e),e)+(eh(e).getDay()===4),t,2)}function P0t(e){return e.getDay()}function O0t(e,t){return Cr(WO.count(eh(e)-1,e),t,2)}function N0t(e,t){return Cr(e.getFullYear()%100,t,2)}function $0t(e,t){return e=GCe(e),Cr(e.getFullYear()%100,t,2)}function M0t(e,t){return Cr(e.getFullYear()%1e4,t,4)}function F0t(e,t){var n=e.getDay();return e=n>=4||n===0?Ox(e):Ox.ceil(e),Cr(e.getFullYear()%1e4,t,4)}function L0t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cr(t/60|0,"0",2)+Cr(t%60,"0",2)}function Tle(e,t){return Cr(e.getUTCDate(),t,2)}function j0t(e,t){return Cr(e.getUTCHours(),t,2)}function B0t(e,t){return Cr(e.getUTCHours()%12||12,t,2)}function z0t(e,t){return Cr(1+M0.count(th(e),e),t,3)}function YCe(e,t){return Cr(e.getUTCMilliseconds(),t,3)}function U0t(e,t){return YCe(e,t)+"000"}function H0t(e,t){return Cr(e.getUTCMonth()+1,t,2)}function q0t(e,t){return Cr(e.getUTCMinutes(),t,2)}function V0t(e,t){return Cr(e.getUTCSeconds(),t,2)}function W0t(e){var t=e.getUTCDay();return t===0?7:t}function G0t(e,t){return Cr(B_.count(th(e)-1,e),t,2)}function KCe(e){var t=e.getUTCDay();return t>=4||t===0?Nx(e):Nx.ceil(e)}function Y0t(e,t){return e=KCe(e),Cr(Nx.count(th(e),e)+(th(e).getUTCDay()===4),t,2)}function K0t(e){return e.getUTCDay()}function X0t(e,t){return Cr(GO.count(th(e)-1,e),t,2)}function Q0t(e,t){return Cr(e.getUTCFullYear()%100,t,2)}function J0t(e,t){return e=KCe(e),Cr(e.getUTCFullYear()%100,t,2)}function Z0t(e,t){return Cr(e.getUTCFullYear()%1e4,t,4)}function egt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Nx(e):Nx.ceil(e),Cr(e.getUTCFullYear()%1e4,t,4)}function tgt(){return"+0000"}function Ale(){return"%"}function kle(e){return+e}function Ile(e){return Math.floor(+e/1e3)}var j1,AY,XCe,kY,QCe;ngt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ngt(e){return j1=VCe(e),AY=j1.format,XCe=j1.parse,kY=j1.utcFormat,QCe=j1.utcParse,j1}function rgt(e){return new Date(e)}function igt(e){return e instanceof Date?+e:+new Date(+e)}function IY(e,t,n,r,i,s,o,a,l,u){var c=$Ce(),d=c.invert,f=c.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),w=u("%B"),E=u("%Y");function C(S){return(l(S)<S?h:a(S)<S?p:o(S)<S?m:s(S)<S?g:r(S)<S?i(S)<S?y:v:n(S)<S?w:E)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?f(Array.from(S,igt)):f().map(rgt)},c.ticks=function(S){var T=f();return e(T[0],T[T.length-1],S??10)},c.tickFormat=function(S,T){return T==null?C:u(T)},c.nice=function(S){var T=f();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S??10)),S?f(LCe(T,S)):c},c.copy=function(){return vA(c,IY(e,t,n,r,i,s,o,a,l,u))},c}function sgt(){return jd.apply(IY(t0t,n0t,eh,Y2,j_,kp,G4,V4,vp,AY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ogt(){return jd.apply(IY(Zmt,e0t,th,K2,B_,M0,Y4,W4,vp,kY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function K4(){var e=0,t=1,n,r,i,s,o=El,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(s(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(f){var h,p;return arguments.length?([h,p]=f,o=d(h,p),u):[o(0),o(1)]}}return u.range=c(Eg),u.rangeRound=c(hA),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return s=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function Sg(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function RY(){var e=Tb(K4()(El));return e.copy=function(){return Sg(e,RY())},Cg.apply(e,arguments)}function JCe(){var e=_Y(K4()).domain([1,10]);return e.copy=function(){return Sg(e,JCe()).base(e.base())},Cg.apply(e,arguments)}function ZCe(){var e=EY(K4());return e.copy=function(){return Sg(e,ZCe()).constant(e.constant())},Cg.apply(e,arguments)}function DY(){var e=CY(K4());return e.copy=function(){return Sg(e,DY()).exponent(e.exponent())},Cg.apply(e,arguments)}function agt(){return DY.apply(null,arguments).exponent(.5)}function X4(){var e=0,t=.5,n=1,r=1,i,s,o,a,l,u=El,c,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+c(m))-s)*(r*m<r*s?a:l),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),s=c(t=+t),o=c(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(g){var y,v,w;return arguments.length?([y,v,w]=g,u=iY(m,[y,v,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(Eg),h.rangeRound=p(hA),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return c=m,i=m(e),s=m(t),o=m(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,h}}function eSe(){var e=Tb(X4()(El));return e.copy=function(){return Sg(e,eSe())},Cg.apply(e,arguments)}function tSe(){var e=_Y(X4()).domain([.1,1,10]);return e.copy=function(){return Sg(e,tSe()).base(e.base())},Cg.apply(e,arguments)}function nSe(){var e=EY(X4());return e.copy=function(){return Sg(e,nSe()).constant(e.constant())},Cg.apply(e,arguments)}function PY(){var e=CY(X4());return e.copy=function(){return Sg(e,PY()).exponent(e.exponent())},Cg.apply(e,arguments)}function lgt(){return PY.apply(null,arguments).exponent(.5)}function jo(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const ugt=jo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),cgt=jo("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),dgt=jo("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),fgt=jo("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),hgt=jo("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),pgt=jo("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),mgt=jo("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ggt=jo("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ygt=jo("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),vgt=jo("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),OY=e=>dEe(e[e.length-1]);var bgt=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(jo);const wgt=OY(bgt);var xgt=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(jo);const _gt=OY(xgt);var Egt=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(jo);const Cgt=OY(Egt);function Sgt(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var Tgt=rY(X0(-100,.75,.35),X0(80,1.5,.8)),Agt=rY(X0(260,.75,.35),X0(80,1.5,.8));X0();function kgt(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Q4(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Igt=Q4(jo("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Q4(jo("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var Rgt=Q4(jo("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Dgt=Q4(jo("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function $r(e){return function(){return e}}const Rle=Math.abs,Go=Math.atan2,ly=Math.cos,Pgt=Math.max,dj=Math.min,cf=Math.sin,iv=Math.sqrt,Qo=1e-12,$x=Math.PI,YO=$x/2,rSe=2*$x;function Ogt(e){return e>1?0:e<-1?$x:Math.acos(e)}function Dle(e){return e>=1?YO:e<=-1?-YO:Math.asin(e)}function J4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new lY(t)}function Ngt(e){return e.innerRadius}function $gt(e){return e.outerRadius}function Mgt(e){return e.startAngle}function Fgt(e){return e.endAngle}function Lgt(e){return e&&e.padAngle}function jgt(e,t,n,r,i,s,o,a){var l=n-e,u=r-t,c=o-i,d=a-s,f=d*l-c*u;if(!(f*f<Qo))return f=(c*(t-s)-d*(e-i))/f,[e+f*l,t+f*u]}function ZI(e,t,n,r,i,s,o){var a=e-n,l=t-r,u=(o?s:-s)/iv(a*a+l*l),c=u*l,d=-u*a,f=e+c,h=t+d,p=n+c,m=r+d,g=(f+p)/2,y=(h+m)/2,v=p-f,w=m-h,E=v*v+w*w,C=i-s,S=f*m-p*h,T=(w<0?-1:1)*iv(Pgt(0,C*C*E-S*S)),A=(S*w-v*T)/E,I=(-S*v-w*T)/E,D=(S*w+v*T)/E,O=(-S*v+w*T)/E,M=A-g,$=I-y,L=D-g,z=O-y;return M*M+$*$>L*L+z*z&&(A=D,I=O),{cx:A,cy:I,x01:-c,y01:-d,x11:A*(i/C-1),y11:I*(i/C-1)}}function Bgt(){var e=Ngt,t=$gt,n=$r(0),r=null,i=Mgt,s=Fgt,o=Lgt,a=null,l=J4(u);function u(){var c,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-YO,m=s.apply(this,arguments)-YO,g=Rle(m-p),y=m>p;if(a||(a=c=l()),h<f&&(d=h,h=f,f=d),!(h>Qo))a.moveTo(0,0);else if(g>rSe-Qo)a.moveTo(h*ly(p),h*cf(p)),a.arc(0,0,h,p,m,!y),f>Qo&&(a.moveTo(f*ly(m),f*cf(m)),a.arc(0,0,f,m,p,y));else{var v=p,w=m,E=p,C=m,S=g,T=g,A=o.apply(this,arguments)/2,I=A>Qo&&(r?+r.apply(this,arguments):iv(f*f+h*h)),D=dj(Rle(h-f)/2,+n.apply(this,arguments)),O=D,M=D,$,L;if(I>Qo){var z=Dle(I/f*cf(A)),B=Dle(I/h*cf(A));(S-=z*2)>Qo?(z*=y?1:-1,E+=z,C-=z):(S=0,E=C=(p+m)/2),(T-=B*2)>Qo?(B*=y?1:-1,v+=B,w-=B):(T=0,v=w=(p+m)/2)}var W=h*ly(v),V=h*cf(v),X=f*ly(C),U=f*cf(C);if(D>Qo){var F=h*ly(w),G=h*cf(w),q=f*ly(E),Y=f*cf(E),J;if(g<$x)if(J=jgt(W,V,q,Y,F,G,X,U)){var te=W-J[0],ue=V-J[1],se=F-J[0],ne=G-J[1],fe=1/cf(Ogt((te*se+ue*ne)/(iv(te*te+ue*ue)*iv(se*se+ne*ne)))/2),ee=iv(J[0]*J[0]+J[1]*J[1]);O=dj(D,(f-ee)/(fe-1)),M=dj(D,(h-ee)/(fe+1))}else O=M=0}T>Qo?M>Qo?($=ZI(q,Y,W,V,h,M,y),L=ZI(F,G,X,U,h,M,y),a.moveTo($.cx+$.x01,$.cy+$.y01),M<D?a.arc($.cx,$.cy,M,Go($.y01,$.x01),Go(L.y01,L.x01),!y):(a.arc($.cx,$.cy,M,Go($.y01,$.x01),Go($.y11,$.x11),!y),a.arc(0,0,h,Go($.cy+$.y11,$.cx+$.x11),Go(L.cy+L.y11,L.cx+L.x11),!y),a.arc(L.cx,L.cy,M,Go(L.y11,L.x11),Go(L.y01,L.x01),!y))):(a.moveTo(W,V),a.arc(0,0,h,v,w,!y)):a.moveTo(W,V),!(f>Qo)||!(S>Qo)?a.lineTo(X,U):O>Qo?($=ZI(X,U,F,G,f,-O,y),L=ZI(W,V,q,Y,f,-O,y),a.lineTo($.cx+$.x01,$.cy+$.y01),O<D?a.arc($.cx,$.cy,O,Go($.y01,$.x01),Go(L.y01,L.x01),!y):(a.arc($.cx,$.cy,O,Go($.y01,$.x01),Go($.y11,$.x11),!y),a.arc(0,0,f,Go($.cy+$.y11,$.cx+$.x11),Go(L.cy+L.y11,L.cx+L.x11),y),a.arc(L.cx,L.cy,O,Go(L.y11,L.x11),Go(L.y01,L.x01),!y))):a.arc(0,0,f,C,E,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-$x/2;return[ly(d)*c,cf(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:$r(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:$r(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:$r(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:$r(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:$r(+c),u):i},u.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:$r(+c),u):s},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:$r(+c),u):o},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function iSe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sSe(e){this._context=e}sSe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function NY(e){return new sSe(e)}function oSe(e){return e[0]}function aSe(e){return e[1]}function lSe(e,t){var n=$r(!0),r=null,i=NY,s=null,o=J4(a);e=typeof e=="function"?e:e===void 0?oSe:$r(e),t=typeof t=="function"?t:t===void 0?aSe:$r(t);function a(l){var u,c=(l=iSe(l)).length,d,f=!1,h;for(r==null&&(s=i(h=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(d,u,l),+t(d,u,l));if(h)return s=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:$r(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:$r(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:$r(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function uSe(e,t,n){var r=null,i=$r(!0),s=null,o=NY,a=null,l=J4(u);e=typeof e=="function"?e:e===void 0?oSe:$r(+e),t=typeof t=="function"?t:$r(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?aSe:$r(+n);function u(d){var f,h,p,m=(d=iSe(d)).length,g,y=!1,v,w=new Array(m),E=new Array(m);for(s==null&&(a=o(v=l())),f=0;f<=m;++f){if(!(f<m&&i(g=d[f],f,d))===y)if(y=!y)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=h;--p)a.point(w[p],E[p]);a.lineEnd(),a.areaEnd()}y&&(w[f]=+e(g,f,d),E[f]=+t(g,f,d),a.point(r?+r(g,f,d):w[f],n?+n(g,f,d):E[f]))}if(v)return a=null,v+""||null}function c(){return lSe().defined(i).curve(o).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:$r(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:$r(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:$r(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:$r(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:$r(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:$r(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:$r(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),u):s},u}const zgt={draw(e,t){const n=iv(t/$x);e.moveTo(n,0),e.arc(0,0,n,0,rSe)}};function Ugt(e,t){let n=null,r=J4(i);e=typeof e=="function"?e:$r(e||zgt),t=typeof t=="function"?t:$r(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:$r(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:$r(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Q0(){}function KO(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Z4(e){this._context=e}Z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:KO(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:KO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hgt(e){return new Z4(e)}function cSe(e){this._context=e}cSe.prototype={areaStart:Q0,areaEnd:Q0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:KO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qgt(e){return new cSe(e)}function dSe(e){this._context=e}dSe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:KO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vgt(e){return new dSe(e)}function fSe(e,t){this._basis=new Z4(e),this._beta=t}fSe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],s=e[n]-r,o=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*s),this._beta*t[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Wgt=function e(t){function n(r){return t===1?new Z4(r):new fSe(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function XO(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function $Y(e,t){this._context=e,this._k=(1-t)/6}$Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:XO(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:XO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ggt=function e(t){function n(r){return new $Y(r,t)}return n.tension=function(r){return e(+r)},n}(0);function MY(e,t){this._context=e,this._k=(1-t)/6}MY.prototype={areaStart:Q0,areaEnd:Q0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:XO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ygt=function e(t){function n(r){return new MY(r,t)}return n.tension=function(r){return e(+r)},n}(0);function FY(e,t){this._context=e,this._k=(1-t)/6}FY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:XO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Kgt=function e(t){function n(r){return new FY(r,t)}return n.tension=function(r){return e(+r)},n}(0);function LY(e,t,n){var r=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>Qo){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Qo){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,s,o,e._x2,e._y2)}function hSe(e,t){this._context=e,this._alpha=t}hSe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:LY(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Xgt=function e(t){function n(r){return t?new hSe(r,t):new $Y(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function pSe(e,t){this._context=e,this._alpha=t}pSe.prototype={areaStart:Q0,areaEnd:Q0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:LY(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Qgt=function e(t){function n(r){return t?new pSe(r,t):new MY(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function mSe(e,t){this._context=e,this._alpha=t}mSe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:LY(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Jgt=function e(t){function n(r){return t?new mSe(r,t):new FY(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function gSe(e){this._context=e}gSe.prototype={areaStart:Q0,areaEnd:Q0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Zgt(e){return new gSe(e)}function Ple(e){return e<0?-1:1}function Ole(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(Ple(s)+Ple(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function Nle(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function fj(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function QO(e){this._context=e}QO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fj(this,this._t0,Nle(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fj(this,Nle(this,n=Ole(this,e,t)),n);break;default:fj(this,this._t0,n=Ole(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ySe(e){this._context=new vSe(e)}(ySe.prototype=Object.create(QO.prototype)).point=function(e,t){QO.prototype.point.call(this,t,e)};function vSe(e){this._context=e}vSe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function eyt(e){return new QO(e)}function tyt(e){return new ySe(e)}function bSe(e){this._context=e}bSe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=$le(e),i=$le(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $le(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function nyt(e){return new bSe(e)}function eM(e,t){this._context=e,this._t=t}eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ryt(e){return new eM(e,.5)}function iyt(e){return new eM(e,0)}function syt(e){return new eM(e,1)}function iS(e,t,n){this.k=e,this.x=t,this.y=n}iS.prototype={constructor:iS,scale:function(e){return e===1?this:new iS(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new iS(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};iS.prototype;const wSe=R.createContext(null);function xSe({children:e,value:t}){return _.jsx(wSe.Provider,{value:t,children:e})}const pc=()=>{const e=R.useContext(wSe);if(!e)throw new Error("useMatrixContext must be used within a MatrixProvider");return e},_Se=Object.freeze(Object.defineProperty({__proto__:null,MatrixProvider:xSe,useMatrixContext:pc},Symbol.toStringTag,{value:"Module"})),ESe=(e,t)=>{const n=[...new Set(t.filter(s=>s.origin===e).map(s=>s.destination))].sort(),r=[...new Set(t.filter(s=>s.origin!==e).map(s=>s.destination))].filter(s=>!n.includes(s)).sort();return[...n,...r]};function CSe({showLines:e=!0}){const{configProps:t,data:n,originScale:r,destinationScale:i,margin:s,setDestinationHighlight:o,setOriginHighlight:a,orderingNode:l,setOrderingNode:u,orderedOrigins:c,setOrderedDestinations:d,trrack:f,actions:h}=pc(),p=R.useMemo(()=>i.range(),[i]),m=R.useMemo(()=>r.bandwidth()/2,[r]),g=R.useMemo(()=>r.domain().map(w=>({value:w,offset:(r(w)||0)+m})),[r,m]),y=R.useCallback(w=>{o(w),a(w)},[o,a]),v=R.useCallback((w,E)=>{t.nodeOrderingDisabled||(E===w?(u(null),f==null||f.apply("Reset Sort",h==null?void 0:h.setOrderingNode(null))):(u(w),f==null||f.apply("Sort",h==null?void 0:h.setOrderingNode(w))))},[t.nodeOrderingDisabled,f,h,u]);return R.useEffect(()=>{if(t.nodeOrderingDisabled)return;if(l===null){d(c);return}const w=ESe(l,n);d(w)},[t.nodeOrderingDisabled,n,c,d,l]),_.jsxs(_.Fragment,{children:[e?_.jsx("path",{className:"axis-line",d:["M",0,0,"V",p[1]].join(" ")}):null,g.map(({value:w,offset:E})=>_.jsxs("g",{transform:`translate(${E},0 )`,children:[e?_.jsx("line",{className:"axis-line",y2:`${p[1]}`,x2:m,x1:m}):null,_.jsx("foreignObject",{className:"axis-label",y:-m,width:s.top,height:r.bandwidth(),style:{transform:"rotate(-90deg)",cursor:"pointer"},onMouseOver:()=>y(w),onClick:()=>v(w,l),children:_.jsx("div",{className:"label-container",style:{height:r.bandwidth()},children:_.jsx(zt,{transitionProps:{transition:"slide-down",duration:300},label:w,withinPortal:!0,openDelay:200,children:_.jsx(tt,{className:"axis-label",size:"s",children:l===w?`  ${w}`:w})})})})]},`${w}`))]})}const SSe=Object.freeze(Object.defineProperty({__proto__:null,OriginAxis:CSe,getOrder:ESe},Symbol.toStringTag,{value:"Module"}));function TSe({showLines:e=!0}){const{configProps:t,margin:n,destinationScale:r,originScale:i,answerNodes:s,setAnswerNodes:o,orderingNode:a,actions:l,trrack:u,setAnswer:c,setDestinationHighlight:d,setOriginHighlight:f}=pc(),h=R.useMemo(()=>i.range(),[i]),p=R.useMemo(()=>r.bandwidth()/2,[r]),m=R.useMemo(()=>r.domain().map(w=>({value:w,offset:(r(w)||0)+p})),[r,p]),g=R.useCallback((w,E)=>{if(t.destinationSelectionDisabled)return;let C;E.includes(w)?C=E.filter(S=>S!==w):C=[...E,w],o(C),u==null||u.apply("Set Answer",l==null?void 0:l.setAnswerNodes(C)),c({status:!0,provenanceGraph:u==null?void 0:u.graph.backend,answers:{answerNodes:C}})},[o,c,u,l,t]),y=R.useCallback((w,E)=>{d(w),f(E?null:w)},[d,f]),v=Math.round(r.bandwidth());return _.jsxs(_.Fragment,{children:[e?_.jsx("path",{className:"axis-line",d:["M",0,0,"H",h[1]].join(" ")}):null,m.map(({value:w,offset:E})=>_.jsxs("g",{transform:`translate(0, ${E})`,style:{cursor:"pointer"},children:[e?_.jsx("line",{className:"axis-line",x2:`${-(h[0]-h[1])}`,y2:p,y1:p}):null,_.jsx("foreignObject",{x:-n.left,y:-p,width:n.left,height:v,style:{cursor:"pointer"},onClick:()=>c?g(w,s):{},onMouseOver:()=>y(w,a),children:_.jsx("div",{className:"label-container",style:{justifyContent:"flex-end",borderRadius:"5px",background:s.includes(w)?" #ff6e4a":"transparent",height:v},children:_.jsx(zt,{transitionProps:{transition:"slide-right",duration:300},label:w,withinPortal:!0,openDelay:200,children:_.jsx(tt,{className:"axis-label",style:{textAlign:"start"},children:w})})})})]},`${w}`))]})}const ASe=Object.freeze(Object.defineProperty({__proto__:null,DestinationAxis:TSe},Symbol.toStringTag,{value:"Module"}));function Kz(e,t){const n=e.domain(),r=e.range(),i=Math.floor((t-r[0])/e.step());return n[i]}function kSe(){const{size:e,originScale:t,destinationScale:n,setOriginHighlight:r,setDestinationHighlight:i,originHighlight:s,destinationHighlight:o,linkMarks:a,setLinkMarks:l,trrack:u,actions:c}=pc(),{width:d,height:f}=R.useMemo(()=>({width:e,height:e}),[e]),h=R.useCallback(g=>{const[y,v]=xct(g);return{origin:Kz(t,y),destination:Kz(n,v)}},[t,n]),p=R.useCallback(g=>{const{origin:y,destination:v}=h(g);y!==s&&r(y),v!==o&&i(v)},[h,s,r,o,i]),m=R.useCallback(g=>{const{origin:y,destination:v}=h(g),w=a.find(C=>C[0]===y&&C[1]===v);let E;w?E=a.filter(C=>C[0]!==y||C[1]!==v):E=[[y,v],...a],l(E),u==null||u.apply("Set Link Marks",c==null?void 0:c.setLinkMarks(E))},[h,a,l,u,c]);return _.jsx("rect",{width:d,height:f,fill:"transparent",opacity:0,onClick:m,onMouseMove:p})}const ISe=Object.freeze(Object.defineProperty({__proto__:null,Background:kSe,invertScaleBand:Kz},Symbol.toStringTag,{value:"Module"})),pl=3,RSe=Object.freeze(Object.defineProperty({__proto__:null,HIGHLIGHT_STROKE_WIDTH:pl},Symbol.toStringTag,{value:"Module"}));function DSe(){const{margin:e,size:t,cellSize:n,originScale:r,destinationScale:i,originHighlight:s,destinationHighlight:o,orderingNode:a,actions:l,trrack:u}=pc(),{topMargin:c,leftMargin:d}=R.useMemo(()=>({topMargin:e.top,leftMargin:e.left}),[e]),{width:f,height:h}=R.useMemo(()=>({width:t,height:t}),[t]);return R.useEffect(()=>{u==null||u.apply("Highlight",l==null?void 0:l.setOriginHighlight(s))},[s,u,l]),R.useEffect(()=>{u==null||u.apply("Highlight",l==null?void 0:l.setDestinationHighlight(o))},[o,u,l]),_.jsxs(_.Fragment,{children:[s&&_.jsx("rect",{id:"originHighlight",className:"highlight",width:n+pl,height:h+c,y:-c+pl/2,x:r(s)-pl/2,visibility:s?"visible":"hidden",style:{strokeWidth:pl}}),o&&_.jsx("rect",{id:"destinationHighlight",className:"highlight",width:f+d,height:n+pl,x:-d+pl/2,y:i(o)-pl/2,visibility:o?"visible":"hidden",style:{strokeWidth:pl}}),a&&_.jsx("rect",{id:"orderHighlight",className:"highlight",width:n+pl,height:h+c,y:-c+pl/2,x:r(a)-pl/2,style:{strokeWidth:pl}})]})}const PSe=Object.freeze(Object.defineProperty({__proto__:null,Highlighting:DSe},Symbol.toStringTag,{value:"Module"})),Qw=e=>e.origin,Jw=e=>e.destination,Mle=5,Mi=e=>+e.mean.toFixed(2),Bv=e=>+e.std.toFixed(2),jY=e=>+Math.min(Mle,e.std===0?Mle:+(e.mean/e.std).toFixed(2)),OSe=Object.freeze(Object.defineProperty({__proto__:null,destinationAccessor:Jw,meanAccessor:Mi,originAccessor:Qw,snrAccessor:jY,stdAccessor:Bv},Symbol.toStringTag,{value:"Module"}));var gr=(e=>(e.Bivariate="Bivariate",e.MarkSize="Overlaid Mark Size",e.CellSize="Cell Size",e.BarChart="Bar Chart",e.BarChartColor="Bar Chart + Color Scale",e.MarkAngle45="Overlaid Mark Angle (0-45)",e.MarkAngle45_90="Overlaid Mark Angle (45-90)",e.MarkAngle90="Overlaid Mark Angle",e.ColorAngle45="Color+Angle (0-45)",e.ColorAngle90="Color+Angle (0-90)",e.Mean="Just the mean",e))(gr||{}),tM=(e=>(e.None="none",e.Optimal="optimal",e.PCA="pca",e))(tM||{}),nM=(e=>(e.Mean="mean",e.StandardDeviation="std",e.SignalToNoiseRatio="snr",e))(nM||{}),Wl=(e=>(e.Viridis="viridis",e.Cividis="cividis",e.Warm="warm",e.Cool="cool",e.Plasma="plasma",e.Inferno="inferno",e.Turbo="turbo",e.Blues="blues",e.Oranges="oranges",e.Reds="reds",e))(Wl||{}),rM=(e=>(e.ClearNodeSelection="Clear State Selection",e.ClearLinkSelection="Clear Flight Selection",e.ResetOrdering="reset_ordering",e))(rM||{});const NSe=Object.freeze(Object.defineProperty({__proto__:null,ClusteringMode:tM,ClusteringVariable:nM,ColorScheme:Wl,EncodingType:gr,UserActionType:rM},Symbol.toStringTag,{value:"Module"})),hj=80,oyt="Price Ranges (in $):",ayt="Price Variation Ranges (in $):";function $Se(){const{cellRenderer:e,cellSize:t,meanScale:n,devScale:r,configProps:i}=pc(),{encoding:s}=i,o=t,a=R.useRef(null),l=R.useRef(null),u=R.useCallback((h,p)=>h.range().map(m=>{const[g,y]=h.invertExtent(m);return{mean:p?(g+y)/2:0,std:p?0:(g+y)/2,origin:"",destination:""}}),[]),c=R.useCallback((h,p,m,g,y)=>{const v=h.current;if(!v)return;const w=pz(v);w.selectAll("*").remove();const E=Math.max(o+20,70);w.selectAll(".cell").data(p,S=>Mi(S)+Bv(S)).enter().append("g").attr("class","cell").attr("transform",(S,T)=>`translate(${E*T}, 0)`).append("text").attr("transform",`translate(${o/2}, ${o+20})`).attr("text-anchor","middle").text((S,T)=>{const[A,I]=m.invertExtent(m.range()[T]);return T+1===m.range().length?`${A.toFixed(0)}-${+I.toFixed(0)}`:`${A.toFixed(0)}-${+I.toFixed(0)-1}`}),e(w.selectAll(".cell"),o,g,y)},[e,o]),d=R.useCallback((h,p)=>{const m=[];return h.range().forEach((g,y)=>{const[v,w]=n.invertExtent(g);p.range().forEach((E,C)=>{const[S,T]=r.invertExtent(E),A={mean:(v+w)/2,std:(S+T)/2,origin:`${y}`,destination:`${C}`};m.push(A)})}),m},[n,r]),f=R.useCallback((h,p,m,g,y,v)=>{const w=h.current;if(!w)return;const E=o,C=pz(w);C.selectAll("*").remove(),C.selectAll(".cell").data(p,S=>Mi(S)+Bv(S)).join("g").attr("class","cell").attr("transform",S=>`translate(${E*+S.origin}, ${E*+S.destination+hj})`),C.selectAll(".meanLabel").data(m.range()).join("text").attr("transform",(S,T)=>`translate(${E*T+15}, ${hj-5})rotate(-45)`).attr("text-anchor","start").text((S,T)=>{const[A,I]=m.invertExtent(S);return T+1===m.range().length?`${A.toFixed(0)} - ${+I.toFixed(0)}`:`${A.toFixed(0)} - ${+I.toFixed(0)}`}),C.selectAll(".devLabel").data(g.range()).join("text").attr("transform",(S,T)=>`translate(${m.range().length*E+5},${E*T+hj+E/2+5})`).attr("text-anchor","start").text((S,T)=>{const[A,I]=g.invertExtent(S);return T+1===g.range().length?`${A.toFixed(0)} - ${+I.toFixed(0)}`:`${A.toFixed(0)} - ${+I.toFixed(0)}`}),e(C.selectAll(".cell"),E,y,v)},[o,e]);return R.useEffect(()=>{if(a.current&&s!==gr.Bivariate){const h=u(n,!0);c(a,h,n,!0,!1)}},[n,s,c,u]),R.useEffect(()=>{if(l.current&&s!==gr.Bivariate){const h=u(r,!1);c(l,h,r,!1,!0)}},[r,s,c,u]),R.useEffect(()=>{if(a.current&&s===gr.Bivariate){const h=d(n,r);f(a,h,n,r,!0,!0)}},[s,n,r,f,d]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{width:"100%"},children:[_.jsx(tt,{size:"xl",fw:700,style:{marginBottom:"20px"},children:oyt}),_.jsx("svg",{width:"100%",overflow:"visible",height:s!==gr.Bivariate?o*2:Math.min(o+30,60)*7,children:_.jsx("g",{ref:a})})]}),r.range().length>1&&s!==gr.Bivariate&&_.jsxs("div",{children:[_.jsx(tt,{size:"xl",fw:700,style:{marginBottom:"20px"},children:ayt}),_.jsx("svg",{overflow:"visible",height:o*2,width:"100%",children:_.jsx("g",{ref:l})})]})]})}const MSe=Object.freeze(Object.defineProperty({__proto__:null,Legend:$Se},Symbol.toStringTag,{value:"Module"}));function FSe(){const{data:e,cellSize:t,cellRenderer:n,originScale:r,destinationScale:i}=pc(),s=R.useRef(null);return R.useEffect(()=>{if(!s.current)return;const o=pz(s.current).selectAll(".cell").data(e,a=>Qw(a)+Jw(a)+Mi(a)+Bv(a)).join(a=>a.append("g").attr("class","cell").attr("transform",l=>`translate(${r(Qw(l))}, ${i(Jw(l))})`),a=>(a.selectAll("*").remove(),a.attr("transform",l=>`translate(${r(Qw(l))}, ${i(Jw(l))})`)),a=>a.remove());n(o,t)},[e,r,i,n,s,t]),_.jsx("g",{ref:s})}const LSe=Object.freeze(Object.defineProperty({__proto__:null,EncodedCells:FSe},Symbol.toStringTag,{value:"Module"})),[Fle,pj]=[300,105];function lyt(e,t,n,r,i,s){switch(s){case"top-right":return{x:e-n,y:t+i};case"bottom-left":return{x:e+i,y:t-r};case"bottom-right":return{x:e-n,y:t-r};default:return{x:e+i,y:t+i}}}function uyt(e,t,n,r){const i=n/2,s=r/2,o=t<s,a=e<i;return o&&a?"top-left":o&&!a?"top-right":!o&&a?"bottom-left":"bottom-right"}function jSe(){const{data:e,originScale:t,destinationScale:n,originHighlight:r,destinationHighlight:i,cellSize:s,size:o}=pc(),[a,l]=R.useState(!1),[u,c]=R.useState({x:0,y:0}),d=R.useRef(null),f=e.find(p=>Qw(p)===r&&Jw(p)===i),h=!!f&&r!=null&&i!=null;return R.useEffect(()=>{if(!h){d.current&&clearTimeout(d.current),l(!1);return}const p=t(r),m=n(i);if(p==null||m==null)return;const g=uyt(p,m,o,o),{x:y,y:v}=lyt(p,m,Fle,pj,s,g);d.current&&clearTimeout(d.current),l(!1),d.current=setTimeout(()=>{c({x:y,y:v}),l(!0)},200)},[h,t,n,r,i,o,s]),h?_.jsx("foreignObject",{x:u.x,y:u.y,width:Fle,height:pj,style:{pointerEvents:"none"},children:_.jsxs(yb,{shadow:"sm",radius:"md",p:"xs",withBorder:!0,style:{backgroundColor:"white",height:pj,display:"flex",flexDirection:"column",opacity:a?1:0,transform:a?"scale(1)":"scale(0.95)",transition:"opacity 200ms ease, transform 200ms ease"},children:[_.jsxs(tt,{size:"sm",fw:500,children:["Origin:"," ",r]}),_.jsxs(tt,{size:"sm",fw:500,children:["Destination:"," ",i]}),_.jsxs(tt,{size:"sm",c:"blue",children:["Mean:"," ",Mi(f).toFixed(2)]}),_.jsxs(tt,{size:"sm",c:"orange",children:["Deviation: ",Bv(f).toFixed(2)]})," "]})}):null}const BSe=Object.freeze(Object.defineProperty({__proto__:null,MatrixTooltip:jSe},Symbol.toStringTag,{value:"Module"})),Af=pl+1;function zSe({marks:e,size:t}){const{originScale:n,destinationScale:r,cellSize:i}=pc();return e==null?void 0:e.map((s,o)=>_.jsxs(_.Fragment,{children:[_.jsx("rect",{x:n(s.origin),y:r(s.destination)-35,width:25,height:30,fill:"white"},o),_.jsx("text",{className:"cluster-label",color:"#ff6e4a",x:n(s.origin),y:r(s.destination)-10,children:s.option}),_.jsx("rect",{className:"mark",x:n(s.origin)-Af/2,y:r(s.destination)-Af/2,width:t*i+Af,height:t*i+Af,strokeWidth:Af},o)]}))}function USe({marks:e}){const{originScale:t,destinationScale:n,cellSize:r}=pc();return e==null?void 0:e.map((i,s)=>_.jsx("rect",{className:"mark",x:t(i[0])-Af/2,y:n(i[1])-Af/2,width:r+Af,height:r+Af,strokeWidth:Af},s))}const HSe=Object.freeze(Object.defineProperty({__proto__:null,ClusterMarks:zSe,LinkMarks:USe},Symbol.toStringTag,{value:"Module"})),cyt="#008837",dyt="#7b3294";function fyt(e,t){const{l:n}=$v(e),r=100-n,i=80-t+r*t/100;return $v(i,0,0).formatHex()}function qSe(e,t){const n=t/(e+1);return Array.from({length:e},(r,i)=>n*(i+1))}function Zh(e,t=0,n=45){const r=(n-t)/(e-1);return Array.from({length:e},(i,s)=>t+r*s)}function VSe(e,t,n,r,i,s){return R.useCallback((a,l,u=!0,c=!0)=>{const d=n?jY:Bv;function f(p="black"){a.append("rect").attr("fill",p).attr("width",l).attr("height",l)}function h(p){const m=r(Mi(p));return fyt(m,t)}switch(e){case gr.BarChart:{let p=function(w=!1){w&&a.append("rect").attr("fill","transparent").attr("width",l).attr("height",l).attr("stroke","black").attr("stroke-width",1.5),a.append("rect").attr("fill",cyt).attr("width",v*g).attr("height",E=>+r(Mi(E))).attr("y",E=>l-+r(Mi(E))).attr("x",(l-v)/2)},m=function(w=!1){w&&a.append("rect").attr("fill","transparent").attr("width",l).attr("height",l).attr("stroke","black").attr("stroke-width",1.5),a.append("rect").attr("fill",dyt).attr("width",v*(1-g)).attr("height",E=>+i(d(E))).attr("x",(l-v)/2+v*g).attr("y",E=>l-+i(d(E)))};const g=.5,v=l*.8;u&&c?(p(),m()):u?p(!0):c&&m(!0);break}case gr.BarChartColor:{let p=function(w=!1){w&&a.append("rect").attr("fill","transparent").attr("width",l).attr("height",l).attr("stroke","black").attr("stroke-width",1.5),a.append("rect").attr("fill",E=>s(Mi(E))).attr("width",v*g).attr("height",E=>+r(Mi(E))).attr("y",E=>l-+r(Mi(E))).attr("x",(l-v)/2)},m=function(w=!1){w&&a.append("rect").attr("fill","transparent").attr("width",l).attr("height",l).attr("stroke","black").attr("stroke-width",1.5),a.append("rect").attr("fill","grey").attr("width",v*(1-g)).attr("height",E=>+i(d(E))).attr("x",(l-v)/2+v*g).attr("y",E=>l-+i(d(E)))};const g=.5,v=l*.8;u&&c?(p(),m()):u?p(!0):c&&m(!0);break}case gr.Bivariate:{a.append("rect").attr("fill","white").attr("width",l).attr("height",l),a.append("rect").attr("width",l).attr("height",l).attr("fill",p=>r(Mi(p))).attr("opacity",p=>i(d(p)));break}case gr.MarkAngle45:case gr.MarkAngle45_90:case gr.MarkAngle90:{let p=function(E="#CCCCCC"){a.append("rect").attr("fill",E).attr("width",m).attr("height",g).attr("x",v).attr("y",w).attr("transform",C=>`rotate(${-i(d(C))}, ${y}, ${y})`)};const m=l*.8,g=l*.2,y=l/2,v=(l-m)/2,w=(l-g)/2;u&&c?(f(E=>r(Mi(E))),p(h)):u?f(E=>r(Mi(E))):c&&(f(),p());break}case gr.ColorAngle45:case gr.ColorAngle90:{let p=function(E="black",C=!1){C&&a.append("rect").attr("fill","transparent").attr("width",l).attr("height",l).attr("stroke","black").attr("stroke-width",1.5),a.append("rect").attr("fill",E).attr("width",m).attr("height",g).attr("x",v).attr("y",w).attr("transform",S=>`rotate(${-i(d(S))}, ${y}, ${y})`)};const m=l*.8,g=l*.6,y=l/2,v=(l-m)/2,w=(l-g)/2;u&&c?p(E=>r(Mi(E))):u?p(E=>r(Mi(E)),!0):c&&p("black",!0);break}case gr.MarkSize:{let p=function(m="#CCCCCC"){a.append("rect").attr("fill",m).attr("width",g=>+i(d(g))).attr("height",g=>+i(d(g))).attr("x",g=>(l-+i(d(g)))/2).attr("y",g=>(l-+i(d(g)))/2)};u&&c?(f(m=>r(Mi(m))),p(h)):u?f(m=>r(Mi(m))):c&&(f(),p());break}case gr.CellSize:{u&&c?a.append("rect").attr("fill",p=>r(Mi(p))).attr("width",p=>i(d(p))).attr("height",p=>i(d(p))).attr("x",p=>(l-+i(d(p)))/2).attr("y",p=>(l-+i(d(p)))/2):u?a.append("rect").attr("fill",p=>r(Mi(p))).attr("width",l).attr("height",l):c&&a.append("rect").attr("fill","black").attr("width",p=>i(d(p))).attr("height",p=>i(d(p))).attr("x",p=>(l-+i(d(p)))/2).attr("y",p=>(l-+i(d(p)))/2);break}default:{a.append("rect").attr("width",l).attr("height",l).attr("fill",p=>r(Mi(p)));break}}},[r,i,n,e,t])}const WSe=Object.freeze(Object.defineProperty({__proto__:null,createLinearScale:Zh,createMarkScale:qSe,useCellRenderer:VSe},Symbol.toStringTag,{value:"Module"}));function hyt(e,t){const n=Zh(t,0,1);let r;switch(e){case Wl.Viridis:r=n.map(i=>Igt(i)).reverse();break;case Wl.Cividis:r=n.map(i=>Sgt(i)).reverse();break;case Wl.Warm:r=n.map(i=>Tgt(i)).reverse();break;case Wl.Cool:r=n.map(i=>Agt(i)).reverse();break;case Wl.Plasma:r=n.map(i=>Dgt(i)).reverse();break;case Wl.Inferno:r=n.map(i=>Rgt(i)).reverse();break;case Wl.Turbo:r=n.map(i=>kgt(i)).reverse();break;case Wl.Blues:r=n.map(i=>_gt(i));break;case Wl.Oranges:r=n.map(i=>Cgt(i));break;default:r=n.map(i=>wgt(i));break}return r}function GSe(e,t,n,r,i,s,o,a,l,u){const{meanScale:c,alternateScale:d}=R.useMemo(()=>{const h=Zh(l,n*.2,n*.9),p=hyt(t,l),m=e===gr.BarChart||e===gr.BarChartColor?h:p,g=e===gr.BarChart||e===gr.BarChartColor?p:h;return{meanScale:GS().domain([r,i]).range(m),alternateScale:GS().domain([r,i]).range(g)}},[r,i,l,t,e,n]),f=R.useMemo(()=>{let h=[1];switch(e){case gr.BarChartColor:case gr.BarChart:{h=Zh(u,n*.2,n*.9),a&&(h=h.reverse());break}case gr.Bivariate:{h=Zh(u,.2,1).reverse();break}case gr.ColorAngle45:case gr.MarkAngle45:{h=Zh(u);break}case gr.ColorAngle90:case gr.MarkAngle90:{h=Zh(u,0,90);break}case gr.MarkAngle45_90:{h=Zh(u,90,45);break}case gr.MarkSize:{h=qSe(u,n*.8);break}case gr.CellSize:{h=Zh(u,n*.3,n).reverse();break}}return GS().domain([s,o]).range(h)},[s,o,u,e,n,a]);return{meanScale:c,devScale:f,alternateScale:d}}const YSe=Object.freeze(Object.defineProperty({__proto__:null,useCellScales:GSe},Symbol.toStringTag,{value:"Module"}));function pyt(e,t){return e-t}function myt(e){return typeof e=="function"?e:function(){return e}}function Lle(e,t){e=Math.abs(e),t=Math.abs(t);var n,r;e>t?(n=e,r=t):(n=t,r=e);var i=r/n;return n*Math.sqrt(1+i*i)}function gyt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function yyt(){function e(t){for(var n=t.length,r=[],i=[],s=[],o=0;o<n;o++)r[o]=[],i[o]=[],s[o]=[];for(var a=!0,l=0;l<n;l++)for(var o=0;o<n;o++)if(t[o][l]!==t[l][o]){a=!1;break}if(a){for(var o=0;o<n;o++)r[o]=t[o].slice();vyt(i,s,r),byt(i,s,r)}else{for(var u=[],o=0;o<n;o++)u[o]=t[o].slice();wyt(u,r),xyt(i,s,u,r)}for(var c=[],o=0;o<n;o++){for(var d=c[o]=[],l=0;l<n;l++)d[l]=o===l?i[o]:0;c[o][s[o]>0?o+1:o-1]=s[o]}return{D:c,V:r}}return e}function vyt(e,t,n){for(var r=n.length,i=0;i<r;i++)e[i]=n[r-1][i];for(var s=r-1;s>0;s--){for(var o=0,a=0,l=0;l<s;l++)o+=Math.abs(e[l]);if(o===0){t[s]=e[s-1];for(var i=0;i<s;i++)e[i]=n[s-1][i],n[s][i]=0,n[i][s]=0}else{for(var l=0;l<s;l++)e[l]/=o,a+=e[l]*e[l];var u=e[s-1],c=Math.sqrt(a);u>0&&(c=-c),t[s]=o*c,a=a-u*c,e[s-1]=u-c;for(var i=0;i<s;i++)t[i]=0;for(var i=0;i<s;i++){u=e[i],n[i][s]=u,c=t[i]+n[i][i]*u;for(var l=i+1;l<=s-1;l++)c+=n[l][i]*e[l],t[l]+=n[l][i]*u;t[i]=c}u=0;for(var i=0;i<s;i++)t[i]/=a,u+=t[i]*e[i];for(var d=u/(a+a),i=0;i<s;i++)t[i]-=d*e[i];for(var i=0;i<s;i++){u=e[i],c=t[i];for(var l=i;l<=s-1;l++)n[l][i]-=u*t[l]+c*e[l];e[i]=n[s-1][i],n[s][i]=0}}e[s]=a}for(var s=0;s<r-1;s++){n[r-1][s]=n[s][s],n[s][s]=1;var a=e[s+1];if(a!=0){for(var l=0;l<=s;l++)e[l]=n[l][s+1]/a;for(var i=0;i<=s;i++){for(var c=0,l=0;l<=s;l++)c+=n[l][s+1]*n[l][i];for(var l=0;l<=s;l++)n[l][i]-=c*e[l]}}for(var l=0;l<=s;l++)n[l][s+1]=0}for(var i=0;i<r;i++)e[i]=n[r-1][i],n[r-1][i]=0;n[r-1][r-1]=1,t[0]=0}function byt(e,t,n){for(var r=n.length,i=1;i<r;i++)t[i-1]=t[i];t[r-1]=0;for(var s=0,o=0,a=1e-12,l=0;l<r;l++){o=Math.max(o,Math.abs(e[l])+Math.abs(t[l]));for(var u=l;u<r&&!(Math.abs(t[u])<=a*o);)u++;if(u>l)do{var c=e[l],d=(e[l+1]-c)/(2*t[l]),f=Lle(d,1);d<0&&(f=-f),e[l]=t[l]/(d+f),e[l+1]=t[l]*(d+f);for(var h=e[l+1],p=c-e[l],i=l+2;i<r;i++)e[i]-=p;s+=p,d=e[u];for(var m=1,g=m,y=m,v=t[l+1],w=0,E=0,i=u-1;i>=l;i--){y=g,g=m,E=w,c=m*t[i],p=m*d,f=Lle(d,t[i]),t[i+1]=w*f,w=t[i]/f,m=d/f,d=m*e[i]-w*c,e[i+1]=p+w*(m*c+w*e[i]);for(var C=0;C<r;C++)p=n[C][i+1],n[C][i+1]=w*n[C][i]+m*p,n[C][i]=m*n[C][i]-w*p}d=-w*E*y*v*t[l]/h,t[l]=w*d,e[l]=m*d}while(Math.abs(t[l])>a*o);e[l]=e[l]+s,t[l]=0}for(var i=0;i<r-1;i++){for(var C=i,d=e[i],S=i+1;S<r;S++)e[S]<d&&(C=S,d=e[S]);if(C!=i){e[C]=e[i],e[i]=d;for(var S=0;S<r;S++)d=n[S][i],n[S][i]=n[S][C],n[S][C]=d}}}function wyt(e,t){for(var n=e.length,r=[],i=0,s=n-1,o=i+1;o<s;o++){for(var a=0,l=o;l<=s;l++)a+=Math.abs(e[l][o-1]);if(a!==0){for(var u=0,l=s;l>=o;l--)r[l]=e[l][o-1]/a,u+=r[l]*r[l];var c=Math.sqrt(u);r[o]>0&&(c=-c),u=u-r[o]*c,r[o]=r[o]-c;for(var d=o;d<n;d++){for(var f=0,l=s;l>=o;l--)f+=r[l]*e[l][d];f/=u;for(var l=o;l<=s;l++)e[l][d]-=f*r[l]}for(var l=0;l<=s;l++){for(var f=0,d=s;d>=o;d--)f+=r[d]*e[l][d];f/=u;for(var d=o;d<=s;d++)e[l][d]-=f*r[d]}r[o]=a*r[o],e[o][o-1]=a*c}}for(var l=0;l<n;l++)for(var d=0;d<n;d++)t[l][d]=l===d?1:0;for(var o=s-1;o>=i+1;o--)if(e[o][o-1]!==0){for(var l=o+1;l<=s;l++)r[l]=e[l][o-1];for(var d=o;d<=s;d++){for(var c=0,l=o;l<=s;l++)c+=r[l]*t[l][d];c=c/r[o]/e[o][o-1];for(var l=o;l<=s;l++)t[l][d]+=c*r[l]}}}function xyt(e,t,n,r){for(var i=n.length,s=i-1,o=0,a=i-1,l=1e-12,u=0,c=0,d=0,f=0,h=0,p=0,m,g,y,v,w=0,E=0;E<i;E++){(E<o||E>a)&&(e[E]=n[E][E],t[E]=0);for(var C=Math.max(E-1,0);C<i;C++)w+=Math.abs(n[E][C])}for(var S=0;s>=o;){for(var T=s;T>o&&(h=Math.abs(n[T-1][T-1])+Math.abs(n[T][T]),h===0&&(h=w),!(Math.abs(n[T][T-1])<l*h));)T--;if(T===s)n[s][s]=n[s][s]+u,e[s]=n[s][s],t[s]=0,s--,S=0;else if(T===s-1){if(g=n[s][s-1]*n[s-1][s],c=(n[s-1][s-1]-n[s][s])/2,d=c*c+g,p=Math.sqrt(Math.abs(d)),n[s][s]=n[s][s]+u,n[s-1][s-1]=n[s-1][s-1]+u,y=n[s][s],d>=0){p=c+(c>=0?p:-p),e[s-1]=y+p,e[s]=e[s-1],p!==0&&(e[s]=y-g/p),t[s-1]=0,t[s]=0,y=n[s][s-1],h=Math.abs(y)+Math.abs(p),c=y/h,d=p/h,f=Math.sqrt(c*c+d*d),c/=f,d/=f;for(var C=s-1;C<i;C++)p=n[s-1][C],n[s-1][C]=d*p+c*n[s][C],n[s][C]=d*n[s][C]-c*p;for(var E=0;E<=s;E++)p=n[E][s-1],n[E][s-1]=d*p+c*n[E][s],n[E][s]=d*n[E][s]-c*p;for(var E=o;E<=a;E++)p=r[E][s-1],r[E][s-1]=d*p+c*r[E][s],r[E][s]=d*r[E][s]-c*p}else e[s-1]=y+c,e[s]=y+c,t[s-1]=p,t[s]=-p;s=s-2,S=0}else{if(y=n[s][s],v=0,g=0,T<s&&(v=n[s-1][s-1],g=n[s][s-1]*n[s-1][s]),S==10){u+=y;for(var E=o;E<=s;E++)n[E][E]-=y;h=Math.abs(n[s][s-1])+Math.abs(n[s-1][s-2]),y=v=.75*h,g=-.4375*h*h}if(S==30&&(h=(v-y)/2,h=h*h+g,h>0)){h=Math.sqrt(h),v<y&&(h=-h),h=y-g/((v-y)/2+h);for(var E=o;E<=s;E++)n[E][E]-=h;u+=h,y=v=g=.964}S++;for(var A=s-2;A>=T&&(p=n[A][A],f=y-p,h=v-p,c=(f*h-g)/n[A+1][A]+n[A][A+1],d=n[A+1][A+1]-p-f-h,f=n[A+2][A+1],h=Math.abs(c)+Math.abs(d)+Math.abs(f),c=c/h,d=d/h,f=f/h,!(A==T||Math.abs(n[A][A-1])*(Math.abs(d)+Math.abs(f))<l*(Math.abs(c)*(Math.abs(n[A-1][A-1])+Math.abs(p)+Math.abs(n[A+1][A+1])))));)A--;for(var E=A+2;E<=s;E++)n[E][E-2]=0,E>A+2&&(n[E][E-3]=0);for(var I=A;I<=s-1;I++){var D=I!=s-1;if(I!=A&&(c=n[I][I-1],d=n[I+1][I-1],f=D?n[I+2][I-1]:0,y=Math.abs(c)+Math.abs(d)+Math.abs(f),y!=0&&(c/=y,d/=y,f/=y)),y==0)break;if(h=Math.sqrt(c*c+d*d+f*f),c<0&&(h=-h),h!=0){I!=A?n[I][I-1]=-h*y:T!=A&&(n[I][I-1]=-n[I][I-1]),c+=h,y=c/h,v=d/h,p=f/h,d/=c,f/=c;for(var C=I;C<i;C++)c=n[I][C]+d*n[I+1][C],D&&(c=c+f*n[I+2][C],n[I+2][C]=n[I+2][C]-c*p),n[I][C]=n[I][C]-c*y,n[I+1][C]=n[I+1][C]-c*v;for(var E=0;E<=Math.min(s,I+3);E++)c=y*n[E][I]+v*n[E][I+1],D&&(c+=p*n[E][I+2],n[E][I+2]=n[E][I+2]-c*f),n[E][I]=n[E][I]-c,n[E][I+1]=n[E][I+1]-c*d;for(var E=o;E<=a;E++)c=y*r[E][I]+v*r[E][I+1],D&&(c=c+p*r[E][I+2],r[E][I+2]=r[E][I+2]-c*f),r[E][I]=r[E][I]-c,r[E][I+1]=r[E][I+1]-c*d}}}}if(w!=0){for(s=i-1;s>=0;s--)if(c=e[s],d=t[s],d==0){var T=s;n[s][s]=1;for(var E=s-1;E>=0;E--){g=n[E][E]-c,f=0;for(var C=T;C<=s;C++)f=f+n[E][C]*n[C][s];if(t[E]<0)p=g,h=f;else if(T=E,t[E]===0?n[E][s]=-f/(g!==0?g:l*w):(y=n[E][E+1],v=n[E+1][E],d=(e[E]-c)*(e[E]-c)+t[E]*t[E],m=(y*h-p*f)/d,n[E][s]=m,Math.abs(y)>Math.abs(p)?n[E+1][s]=(-f-g*m)/y:n[E+1][s]=(-h-v*m)/p),m=Math.abs(n[E][s]),l*m*m>1)for(var C=E;C<=s;C++)n[C][s]=n[C][s]/m}}else if(d<0){var T=s-1;if(Math.abs(n[s][s-1])>Math.abs(n[s-1][s]))n[s-1][s-1]=d/n[s][s-1],n[s-1][s]=-(n[s][s]-c)/n[s][s-1];else{var O=eR(0,-n[s-1][s],n[s-1][s-1]-c,d);n[s-1][s-1]=O[0],n[s-1][s]=O[1]}n[s][s-1]=0,n[s][s]=1;for(var E=s-2;E>=0;E--){for(var M=0,$=0,L,z,C=T;C<=s;C++)M=M+n[E][C]*n[C][s-1],$=$+n[E][C]*n[C][s];if(g=n[E][E]-c,t[E]<0)p=g,f=M,h=$;else{if(T=E,t[E]==0){var O=eR(-M,-$,g,d);n[E][s-1]=O[0],n[E][s]=O[1]}else{y=n[E][E+1],v=n[E+1][E],L=(e[E]-c)*(e[E]-c)+t[E]*t[E]-d*d,z=(e[E]-c)*2*d,L==0&z==0&&(L=l*w*(Math.abs(g)+Math.abs(d)+Math.abs(y)+Math.abs(v)+Math.abs(p)));var O=eR(y*f-p*M+d*$,y*h-p*$-d*M,L,z);if(n[E][s-1]=O[0],n[E][s]=O[1],Math.abs(y)>Math.abs(p)+Math.abs(d))n[E+1][s-1]=(-M-g*n[E][s-1]+d*n[E][s])/y,n[E+1][s]=(-$-g*n[E][s]-d*n[E][s-1])/y;else{var O=eR(-f-v*n[E][s-1],-h-v*n[E][s],p,d);n[E+1][s-1]=O[0],n[E+1][s]=O[1]}}if(m=Math.max(Math.abs(n[E][s-1]),Math.abs(n[E][s])),l*m*m>1)for(var C=E;C<=s;C++)n[C][s-1]=n[C][s-1]/m,n[C][s]=n[C][s]/m}}}for(var E=0;E<i;E++)if(E<o||E>a)for(var C=E;C<i;C++)r[E][C]=n[E][C];for(var C=i-1;C>=o;C--)for(var E=o;E<=a;E++){p=0;for(var I=o;I<=Math.min(C,a);I++)p+=r[E][I]*n[I][C];r[E][C]=p}}}function eR(e,t,n,r){if(Math.abs(n)>Math.abs(r)){var i=r/n,s=n+i*r;return[(e+i*t)/s,(t-i*e)/s]}else{var i=n/r,s=r+i*n;return[(i*e+t)/s,(i*t-e)/s]}}function _yt(e){var t=e[0].concat(e[1]).concat(e[2]).concat(e[3]);return t[12]*t[9]*t[6]*t[3]-t[8]*t[13]*t[6]*t[3]-t[12]*t[5]*t[10]*t[3]+t[4]*t[13]*t[10]*t[3]+t[8]*t[5]*t[14]*t[3]-t[4]*t[9]*t[14]*t[3]-t[12]*t[9]*t[2]*t[7]+t[8]*t[13]*t[2]*t[7]+t[12]*t[1]*t[10]*t[7]-t[0]*t[13]*t[10]*t[7]-t[8]*t[1]*t[14]*t[7]+t[0]*t[9]*t[14]*t[7]+t[12]*t[5]*t[2]*t[11]-t[4]*t[13]*t[2]*t[11]-t[12]*t[1]*t[6]*t[11]+t[0]*t[13]*t[6]*t[11]+t[4]*t[1]*t[14]*t[11]-t[0]*t[5]*t[14]*t[11]-t[8]*t[5]*t[2]*t[15]+t[4]*t[9]*t[2]*t[15]+t[8]*t[1]*t[6]*t[15]-t[0]*t[9]*t[6]*t[15]-t[4]*t[1]*t[10]*t[15]+t[0]*t[5]*t[10]*t[15]}function KSe(e,t){for(var n=0,r=-1,i=Math.min(e.length,t.length);++r<i;)n+=e[r]*t[r];return n}function XSe(e,t){t||(t=1e-10);for(var n=e.length,r=e[0].length,i=-1,s,o;++i<n;){var a=i;for(s=i;++s<n;)Math.abs(e[s][i])>Math.abs(e[a][i])&&(a=s);var l=e[i];if(e[i]=e[a],e[a]=l,Math.abs(e[i][i])<=t)return!1;for(s=i;++s<n;){var u=e[s][i]/e[i][i];for(o=i-1;++o<r;)e[s][o]-=e[i][o]*u}}for(i=n;--i>=0;){var u=e[i][i];for(s=-1;++s<i;)for(o=r;--o>=i;)e[s][o]-=e[i][o]*e[s][i]/u;for(e[i][i]/=u,o=n-1;++o<r;)e[i][o]/=u}return!0}function Eyt(e){var t=e.length,n=-1;if(t===e[0].length){for(e=e.map(function(r,i){for(var s=new Array(t),o=-1;++o<t;)s[o]=i===o?1:0;return r.concat(s)}),XSe(e);++n<t;)e[n]=e[n].slice(t);return e}}function QSe(e){return Math.sqrt(KSe(e,e))}function Cyt(e,t){var n=e.length,r=t[0].length,i=t.length,s=-1,o,a;if(i!==e[0].length)throw{error:"columns(a) != rows(b); "+e[0].length+" != "+i};for(var l=new Array(n);++s<n;)for(l[s]=new Array(r),o=-1;++o<r;){var u=0;for(a=-1;++a<i;)u+=e[s][a]*t[a][o];l[s][o]=u}return l}function Syt(e){var t=QSe(e);return e.map(function(n){return n/t})}function Tyt(e){for(var t=e.length,n=e[0].length,r=-1,i,s=new Array(n);++r<n;)for(s[r]=new Array(t),i=-1;++i<t;)s[r][i]=e[i][r];return s}function Ayt(e,t,n,r,i,s){var o,a;for(o=1;o<s;o++)a=e[o]/t[o-1],t[o]-=a*n[o-1],r[o]-=a*r[o-1];for(i[s-1]=r[s-1]/t[s-1],o=s-2;o>=0;o--)i[o]=(r[o]-n[o]*i[o+1])/t[o]}var kyt=Object.freeze({cross:gyt,decompose:yyt,determinant:_yt,dot:KSe,gaussjordan:XSe,inverse:Eyt,length:QSe,multiply:Cyt,normalize:Syt,transpose:Tyt,tridag:Ayt});function BY(e){var t=.254829592,n=-.284496736,r=1.421413741,i=-1.453152027,s=1.061405429,o=.3275911,a=e<0?-1:1;e<0&&(a=-1,e=-e);var l=1/(1+o*e);return a*(1-((((s*l+i)*l+r)*l+n)*l+t)*l*Math.exp(-e*e))}function Iyt(){var e=Math.random,t=0,n=1,r=1;function i(){var s,o,a;do s=2*e()-1,o=2*e()-1,a=s*s+o*o;while(a>=1||a===0);return t+n*s*Math.sqrt(-2*Math.log(a)/a)}return i.pdf=function(s){return s=(s-t)/n,Ryt*Math.exp(-.5*s*s)/n},i.cdf=function(s){return s=(s-t)/n,.5*(1+BY(s/Math.SQRT2))},i.mean=function(s){return arguments.length?(t=+s,i):t},i.variance=function(s){return arguments.length?(n=Math.sqrt(r=+s),i):r},i.random=function(s){return arguments.length?(e=s,i):e},i}var Ryt=1/Math.sqrt(2*Math.PI),Dyt=Object.freeze({gaussian:Iyt});function JSe(e){var t=e.length;if(t===0)return NaN;for(var n=0,r=-1;++r<t;)n+=(e[r]-n)/(r+1);return n}function zY(e){var t=e.length;if(t<1)return NaN;if(t===1)return 0;for(var n=JSe(e),r=-1,i=0;++r<t;){var s=e[r]-n;i+=s*s}return i/(t-1)}function UY(e,t){e=e.slice().sort(pyt);var n=e.length-1;return t.map(function(r){if(r===0)return e[0];if(r===1)return e[n];var i=1+r*n,s=Math.floor(i),o=i-s,a=e[s-1];return o===0?a:a+o*(e[s]-a)})}function HY(e){var t=UY(e,[.25,.75]);return t[1]-t[0]}function Pyt(e){var t,n=Math.sqrt(zY(e));return(t=Math.min(n,HY(e)/1.34))||(t=n)||(t=Math.abs(e[1]))||(t=1),.9*t*Math.pow(e.length,-.2)}function ZSe(e){var t=HY(e)/1.34;return 1.06*Math.min(Math.sqrt(zY(e)),t)*Math.pow(e.length,-1/5)}var Oyt=Object.freeze({nrd0:Pyt,nrd:ZSe});function qY(e,t){for(var n=e.length,r=-1,i=0,s;++r<n;)s=e[r]-t[r],i+=s*s;return Math.sqrt(i)}function Nyt(e,t){for(var n=e.length,r=-1,i=0;++r<n;)i+=Math.abs(e[r]-t[r]);return i}function $yt(e){return function(t,n){for(var r=t.length,i=-1,s=0;++i<r;)s+=Math.pow(Math.abs(t[i]-n[i]),e);return Math.pow(s,1/e)}}function Myt(e,t){for(var n=e.length,r=-1,i=0,s;++r<n;)s=Math.abs(e[r]-t[r]),s>i&&(i=s);return i}function Fyt(e,t){for(var n=e.length,r=-1,i=0;++r<n;)e[r]!==t[r]&&i++;return i}function Lyt(e,t){for(var n=e.length,r=-1,i=0;++r<n;)e[r]===t[r]&&i++;return i/n}function jyt(e,t){for(var n=e.length,r=-1,i=0,s=0,o,a;++r<n;)o=e[r],a=t[r],i+=Math.abs(o-a),s+=Math.abs(o+a);return i/s}var Byt=Object.freeze({euclidean:qY,manhattan:Nyt,minkowski:$yt,chebyshev:Myt,hamming:Fyt,jaccard:Lyt,braycurtis:jyt});function zyt(){var e=qY,t="single";function n(r){var i=r.length,s=[],o=[],a=[],l=[],u,c,d,f,h,p,m,g;for(m=-1;++m<i;)for(s[m]=0,a[m]=[],g=-1;++g<i;)a[m][g]=m===g?1/0:e(r[m],r[g]),a[m][s[m]]>a[m][g]&&(s[m]=g);for(m=-1;++m<i;)l[m]=[],l[m][0]={left:null,right:null,dist:0,centroid:r[m],size:1,depth:0},o[m]=1;for(h=0;h<i-1;h++){for(u=0,m=0;m<i;m++)a[m][s[m]]<a[u][s[u]]&&(u=m);c=s[u],d=l[u][0],f=l[c][0];var y={left:d,right:f,dist:a[u][c],centroid:Uyt(d.size,d.centroid,f.size,f.centroid),size:d.size+f.size,depth:1+Math.max(d.depth,f.depth)};for(l[u].splice(0,0,y),o[u]+=o[c],g=0;g<i;g++)switch(t){case"single":a[u][g]>a[c][g]&&(a[g][u]=a[u][g]=a[c][g]);break;case"complete":a[u][g]<a[c][g]&&(a[g][u]=a[u][g]=a[c][g]);break;case"average":a[g][u]=a[u][g]=(o[u]*a[u][g]+o[c]*a[c][g])/(o[u]+o[g]);break}for(a[u][u]=1/0,m=0;m<i;m++)a[m][c]=a[c][m]=1/0;for(g=0;g<i;g++)s[g]==c&&(s[g]=u),a[u][g]<a[u][s[u]]&&(s[u]=g);p=y}return p}return n.distance=function(r){return arguments.length?(e=r,n):e},n}function Uyt(e,t,n,r){for(var i=[],s=e+n,o=t.length,a=-1;++a<o;)i[a]=(e*t[a]+n*r[a])/s;return i}function Hyt(e){return e<=1&&e>=-1?.5:0}function qyt(e){return e<=1&&e>=-1?1-Math.abs(e):0}function Vyt(e){return e<=1&&e>=-1?.75*(1-e*e):0}function Wyt(e){if(e<=1&&e>=-1){var t=1-e*e;return 15/16*t*t}return 0}function Gyt(e){if(e<=1&&e>=-1){var t=1-e*e;return 35/32*t*t*t}return 0}function e2e(e){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*e*e)}function Yyt(e){return e<=1&&e>=-1?Math.PI/4*Math.cos(Math.PI/2*e):0}var Kyt=Object.freeze({uniform:Hyt,triangular:qyt,epanechnikov:Vyt,quartic:Wyt,triweight:Gyt,gaussian:e2e,cosine:Yyt});function Xyt(){var e=e2e,t=[],n=ZSe;function r(i,s){var o=n.call(this,t);return i.map(function(a){for(var l=-1,u=0,c=t.length;++l<c;)u+=e((a-t[l])/o);return[a,u/o/c]})}return r.kernel=function(i){return arguments.length?(e=i,r):e},r.sample=function(i){return arguments.length?(t=i,r):t},r.bandwidth=function(i){return arguments.length?(n=myt(i),r):n},r}function Qyt(){var e=qY,t=1e3,n=1;function r(i){for(var s=i.length,o=[],a=[],l=1,u=0,c=Jyt(n,i),d,f,h,p,m,g,y;l&&u<t;){for(h=-1;++h<n;)a[h]=0;for(f=-1;++f<s;){for(p=i[f],g=1/0,h=-1;++h<n;)m=e.call(this,c[h],p),m<g&&(g=m,y=h);a[o[f]=y]++}for(d=[],f=-1;++f<s;)if(p=o[f],m=d[p],m==null)d[p]=i[f].slice();else for(h=-1;++h<m.length;)m[h]+=i[f][h];for(h=-1;++h<n;)for(p=d[h],m=1/a[h],f=-1;++f<p.length;)p[f]*=m;for(l=0,h=-1;++h<n;)if(!t2e(d[h],c[h])){l=1;break}c=d,u++}return{assignments:o,centroids:c}}return r.k=function(i){return arguments.length?(n=i,r):n},r.distance=function(i){return arguments.length?(e=i,r):e},r}function t2e(e,t){if(!e||!t||e.length!==t.length)return!1;for(var n=e.length,r=-1;++r<n;)if(e[r]!==t[r])return!1;return!0}function Jyt(e,t){var n=t.length;if(e>n)return null;for(var r=[],i=[],s={},o=0,a=0,l,u,c;a<e;){if(o===n)return null;var d=Math.floor(Math.random()*n);if(!(d in s)){for(s[d]=1,o++,u=t[d],c=!0,l=0;l<a;l++)if(t2e(u,r[l])){c=!1;break}c&&(r[a]=u,i[a]=d,a++)}}return r}function n2e(e){return UY(e,[.5])[0]}function Zyt(){var e=.3,t=2,n=1e-12;function r(i,s,o){var a=i.length,l;if(a!==s.length)throw{error:"Mismatched array lengths"};if(a==0)throw{error:"At least one point required."};if(arguments.length<3)for(o=[],l=-1;++l<a;)o[l]=1;if(mj(i),mj(s),mj(o),evt(i),a==1)return[s[0]];if(a==2)return[s[0],s[1]];var u=Math.floor(e*a);if(u<2)throw{error:"Bandwidth too small."};var c=[],d=[],f=[];for(l=-1;++l<a;)c[l]=0,d[l]=0,f[l]=1;for(var h=-1;++h<=t;){var p=[0,u-1],m;for(l=-1;++l<a;){m=i[l],l>0&&nvt(i,o,l,p);for(var g=p[0],y=p[1],v=i[l]-i[g]>i[y]-i[l]?g:y,w=0,E=0,C=0,S=0,T=0,A=Math.abs(1/(i[v]-m)),I=g;I<=y;++I){var D=i[I],O=s[I],M=I<l?m-D:D-m,G=tvt(M*A)*f[I]*o[I],$=D*G;w+=G,E+=$,C+=D*$,S+=O*G,T+=O*$}var L=E/w,z=S/w,B=T/w,W=C/w,V=Math.sqrt(Math.abs(W-L*L))<n?0:(B-L*z)/(W-L*L),X=z-V*L;c[l]=V*m+X,d[l]=Math.abs(s[l]-c[l])}if(h===t)break;var U=n2e(d);if(Math.abs(U)<n)break;var F,G;for(l=-1;++l<a;)F=d[l]/(6*U),f[l]=F>=1?0:(G=1-F*F)*G}return c}return r.bandwidth=function(i){return arguments.length?(e=i,r):i},r.robustnessIterations=function(i){return arguments.length?(t=i,r):i},r.accuracy=function(i){return arguments.length?(n=i,r):i},r}function mj(e){for(var t=e.length,n=-1;++n<t;)if(!isFinite(e[n]))return!1;return!0}function evt(e){for(var t=e.length,n=0;++n<t;)if(e[n-1]>=e[n])return!1;return!0}function tvt(e){return(e=1-e*e*e)*e*e}function nvt(e,t,n,r){var i=r[0],s=r[1],o=jle(t,s);if(o<e.length&&e[o]-e[n]<e[n]-e[i]){var a=jle(t,i);r[0]=a,r[1]=o}}function jle(e,t){for(var n=t+1;n<e.length&&e[n]===0;)n++;return n}function rvt(e){for(var t={},n=[],r=0,i=e.length,s=-1,o,a;++s<i;)a=t.hasOwnProperty(o=e[s])?++t[o]:t[o]=1,a===r?n.push(o):a>r&&(r=a,n=[o]);if(n.length===1)return n[0]}function ivt(e){return .5*(1+BY(e/Math.SQRT2))}var svt=Byt,ovt=Kyt,avt=Dyt,lvt=Oyt,uvt=Object.freeze({distance:svt,kernel:ovt,distribution:avt,bandwidth:lvt,erf:BY,hcluster:zyt,iqr:HY,kde:Xyt,kmeans:Qyt,loess:Zyt,mean:JSe,median:n2e,mode:rvt,phi:ivt,quantiles:UY,variance:zY}),cvt=kyt,dvt=uvt;function fvt(e,t,n=1){arguments.length<2&&(t=e,e=0);const r=[];let i=e;if(n<0)for(;i>t;i+=n)r.push(i);else for(;i<t;i+=n)r.push(i);return r}const hvt=fvt,{dot:pvt,length:mvt,normalize:ptn,transpose:mtn}=cvt,{mean:gtn}=dvt;function gvt(e){return hvt(0,e.length).sort((t,n)=>e[t]-e[n])}function yvt(e,t,n){const r=e.length;let i=0;for(let s=0;s<r;s++)i+=e[s][t]*e[s][n];return i}function vvt(e){const t=e[0].length,n=Array(t);for(let r=0;r<t;r++)n[r]=Array(t);for(let r=0;r<t;r++)for(let i=r;i<t;i++)n[r][i]=n[i][r]=yvt(e,r,i);return n}function bvt(e,t){if(!e)throw console.log(t),t}function Tg(e,t){return!(isNaN(e)||isNaN(t)||e==1/0||t==1/0)}const mc={};mc.euclidean=function(e,t){let n=0;for(let r=e.length-1;r>=0;r--)if(Tg(e[r],t[r])){const i=e[r]-t[r];n+=i*i}return Math.sqrt(n)};mc.manhattan=function(e,t){let n=0;for(let r=e.length-1;r>=0;r--)Tg(e[r],t[r])&&(n+=Math.abs(e[r]-t[r]));return n};mc.minkowski=function(e){return(t,n)=>{let r=0;for(let i=t.length-1;i>=0;i--)Tg(t[i],n[i])&&(r+=Math.pow(Math.abs(t[i]-n[i]),e));return Math.pow(r,1/e)}};mc.chebyshev=function(e,t){let n=0;for(let r=e.length-1;r>=0;r--)if(Tg(e[r],t[r])){const i=Math.abs(e[r]-t[r]);i>n&&(n=i)}return n};mc.hamming=function(e,t){let n=0;for(let r=e.length-1;r>=0;r--)Tg(e[r],t[r])&&e[r]!==t[r]&&n++;return n};mc.jaccard=function(e,t){let n=0,r=0;for(let i=e.length-1;i>=0;i--)Tg(e[i],t[i])&&(e[i]===t[i]&&r++,n++);return n===0?0:r/n};mc.braycurtis=function(e,t){let n=0,r=0;for(let i=e.length-1;i>=0;i--){const s=e[i],o=t[i];Tg(s,o)&&(n+=Math.abs(s-o),r+=Math.abs(s+o))}return r===0?0:n/r};mc.morans=function(e){let t=0;const n=e.length*e[0].length;for(let r=0;r<e.length;r++)for(let i=0;i<e[0].length;i++)t+=e[r][i];return(r,i)=>{let s=0;for(let o=0;o<r.length;o++)Tg(r[o],i[o])&&(s+=(r[o]*n-t)*(i[o]*n-t));return-1*s}};function wvt(){let e=mc.euclidean;function t(n){const r=n.length,i=[];for(let s=0;s<r;s++){const o=[];i[s]=o;for(let a=0;a<r;a++)a<s?o.push(i[a][s]):s===a?o.push(0):o.push(e(n[s],n[a]))}return i}return t.distance=function(n){return arguments.length?(e=n,t):e},t}function xvt(e,t,n){const r=Array(e);if(arguments.length==1)for(;e;)r[--e]=Math.random();else if(arguments.length==2)for(;e;)r[--e]=Math.random()*t;else for(;e;)r[--e]=t+Math.random()*(n-t);return r}function Ble(e){const t=mvt(e);let n=e.length;if(t===0||Math.abs(t-1)<1e-9)return 1;for(;n-- >0;)e[n]/=t;return t}function _vt(e,t,n){t||(t=1e-9);const r=e.length;let i,s=Array(r),o=100;for(bvt(r==e[0].length,"poweriteration needs a square matrix"),i=xvt(r),Ble(i);o-- >0;){for(let l=0;l<r;l++){s[l]=0;for(let u=0;u<r;u++)s[l]+=e[l][u]*i[u]}if(Ble(s),pvt(s,i)>1-t)break;const a=s;s=i,i=a}return s}function Evt(e,t){let n=t.length;const r=e.slice();for(;n--;)r[n]=e[t[n]];return r}function Cvt(){let e=mc.euclidean,t="single",n=null;function r(i){const s=i.length,o=[],a=[],l=[];let u,c=0;if(n===null){n=[];let f=-1;for(;++f<s;){o[f]=0,n[f]=[];let h=-1;for(;++h<s;)n[f][h]=f===h?1/0:e(i[f],i[h]),n[f][o[f]]>n[f][h]&&(o[f]=h)}}else{if(n.length<s||n[0].length<s)throw{error:`Provided distance matrix length ${n.length} instead of ${s}`};let f=-1;for(;++f<s;){o[f]=0;let h=-1;for(;++h<s;)f===h&&(n[f][h]=1/0),n[f][o[f]]>n[f][h]&&(o[f]=h)}}let d=-1;for(;++d<s;)d!=c&&console.log("i = %d, id = %d",d,c),l[d]={left:null,right:null,dist:0,centroid:i[d],id:c++,size:1,depth:0},a[d]=1;for(let f=0;f<s-1;f++){let h=0;for(d=0;d<s;d++)n[d][o[d]]<n[h][o[h]]&&(h=d);const p=o[h],m=l[h],g=l[p],y={left:m,right:g,dist:n[h][p],centroid:Svt(m.size,m.centroid,g.size,g.centroid),id:c++,size:m.size+g.size,depth:1+Math.max(m.depth,g.depth)};l[h]=y;for(let v=0;v<s;v++)if(!(v===h||v===p))switch(t){case"single":n[h][v]>n[p][v]&&(n[v][h]=n[h][v]=n[p][v]);break;case"complete":n[h][v]<n[p][v]&&(n[v][h]=n[h][v]=n[p][v]);break;case"average":n[v][h]=n[h][v]=(a[h]*n[h][v]+a[p]*n[p][v])/(a[h]+a[p]);break}a[h]+=a[p];for(let v=0;v<s;v++)n[v][p]=n[p][v]=1/0;for(let v=0;v<s;v++){if(t==="single")o[v]===p&&(o[v]=h);else if(o[v]===p||o[v]===h)for(let w=0;w<s;w++)n[v][w]<n[v][o[v]]&&(o[v]=w);n[h][v]<n[h][o[h]]&&(o[h]=v)}u=y}return u}return r.linkage=function(i){return arguments.length?(t=i,r):t},r.distance=function(i){return arguments.length?(e=i,r):e},r.distanceMatrix=function(i){return arguments.length?(n=i.map(s=>s.slice(0)),r):n},r}function Svt(e,t,n,r){const i=[],s=e+n,o=t.length;let a=-1;for(;++a<o;)i[a]=(e*t[a]+n*r[a])/s;return i}function Tvt(e){const t=e.length;if(t===0)return NaN;const n=e[0].length,r=e[0].slice(0);let i=0;for(;++i<t;){const s=e[i];for(let o=0;o<n;o++)r[o]+=(s[o]-r[o])/(i+1)}return r}function Avt(){let e=null,t=mc.euclidean,n="complete",r={},i={};function s(d){return d===null?[]:d.id in r?r[d.id]:r[d.id]=o(d)}function o(d){return d===null?[]:d.depth===0?[d.id]:s(d.left).concat(s(d.right))}function a(d,f,h){const p=`k${d.id}-${f}-${h}`;return p in i?i[p]:i[p]=l(d,f,h)}function l(d,f,h){if(d.depth===0)return[0,[d.id]];const p=d.left,m=d.right,g=s(p),y=s(m);let v,w;if(g.includes(f)&&y.includes(h))v=p,w=m;else if(y.includes(f)&&g.includes(h))v=m,w=p;else throw{error:`Node is not common ancestor of ${f}, ${h}`};const E=s(v.left),C=s(v.right);let S=C.includes(f)?E:C;S.length===0&&(S=[f]);const T=s(w.left),A=s(w.right);let I=A.includes(h)?T:A;I.length===0&&(I=[h]);let D=1/0,O=[];for(let M=0;M<S.length;M++){const $=a(v,f,S[M]);for(let L=0;L<I.length;L++){const z=a(w,I[L],h),B=$[0]+e[S[M]][I[L]]+z[0];B<D&&(D=B,O=$[1].concat(z[1]))}}return[D,O]}function u(d){r={},i={};let f=1/0,h=[];const p=s(d.left),m=s(d.right);for(let g=0;g<p.length;g++)for(let y=0;y<m.length;y++){const v=a(d,p[g],m[y]);v[0]<f&&(f=v[0],h=v[1])}return e=null,h}function c(d){e===null&&(e=wvt().distance(t)(d));const f=Cvt().linkage(n).distanceMatrix(e);return u(f(d))}return c.order=u,c.reorder=c,c.distance=function(d){return arguments.length?(t=d,e=null,c):t},c.linkage=function(d){return arguments.length?(n=d,c):n},c.distance_matrix=function(d){return arguments.length?(e=d.map(f=>f.slice(0)),c):e},c.distanceMatrix=c.distance_matrix,c}function kvt(e){const t=e.length;if(t===0)return null;const n=Tvt(e),r=n.length,i=Array(t);for(let s=0;s<t;s++){const o=e[s].slice(0);for(let a=0;a<r;a++)o[a]-=n[a];i[s]=o}return i}function Ivt(e,t){if(e.length===0)return null;e=kvt(e);const n=vvt(e);return _vt(n,t)}function Rvt(e,t){return gvt(Ivt(e,t))}function Dvt(e,t){let n=Mi;e==="snr"?n=jY:e==="std"&&(n=Bv);const r=Array.from(new Set(t.flatMap(({origin:o,destination:a})=>[o,a]))),i=new Map(r.map((o,a)=>[o,a])),s=Array.from({length:r.length},()=>Array(r.length).fill(0));return t.forEach(o=>{const{origin:a,destination:l}=o,u=n(o)||0;s[i.get(a)][i.get(l)]=u}),{matrix:s,nodes:r}}function r2e(e,t,n){const{matrix:r,nodes:i}=Dvt(t,n);let s,o;return e==="optimal"?(s=Avt(),s.distance(mc.euclidean),s.linkage("complete"),o=s(r)):(s=Rvt,o=s(r)),Evt(i,o)}function i2e(e,t,n){const[r,i]=R.useState(null),[s,o]=R.useState(null);return R.useLayoutEffect(()=>{if(e.length>1){let a;t==="none"?a=null:a=r2e(t,n,e),i(a),o(a)}},[e,t,n]),{orderedOrigins:r,orderedDestinations:s,setOrderedOrigins:i,setOrderedDestinations:o}}const s2e=Object.freeze(Object.defineProperty({__proto__:null,getClusterOrder:r2e,useOrderingState:i2e},Symbol.toStringTag,{value:"Module"}));function o2e(e){const[t,n]=R.useState([]),[r,i]=R.useState(null),[s,o]=R.useState([]),[a,l]=R.useState(null),[u,c]=R.useState(null);return R.useEffect(()=>{e&&(n(e.answerNodes),i(e.orderingNode),o(e.linkMarks),c(e.originHighlight),l(e.destinationHighlight))},[e]),{destinationHighlight:a,setDestinationHighlight:l,originHighlight:u,setOriginHighlight:c,answerNodes:t,setAnswerNodes:n,orderingNode:r,setOrderingNode:i,linkMarks:s,setLinkMarks:o}}const a2e=Object.freeze(Object.defineProperty({__proto__:null,useReplayState:o2e},Symbol.toStringTag,{value:"Module"})),Pvt={showConfigurationPanel:!1,colorScheme:Wl.Viridis,markContrast:0,encoding:gr.Mean,showTooltip:!1,isSnr:!1,clusterMode:tM.None,clusterVar:nM.Mean,nMeans:5,nDevs:5},Ovt=(e,t)=>({...t,...Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0))});function l2e(e){const t=Ovt(e,Pvt),[n,r]=R.useState(t.colorScheme),[i,s]=R.useState(t.markContrast),[o,a]=R.useState(t.encoding),[l,u]=R.useState(t.showTooltip),[c,d]=R.useState(t.isSnr),[f,h]=R.useState(t.clusterMode),[p,m]=R.useState(t.clusterVar),[g,y]=R.useState(t.nMeans),[v,w]=R.useState(t.nDevs);return{...t,colorScheme:n,markContrast:i,encoding:o,showTooltip:l,isSnr:c,clusterMode:f,clusterVar:p,nMeans:g,nDevs:v,setColorScheme:r,setMarkContrast:s,setEncoding:a,setShowTooltip:u,setIsSnr:d,setClusterMode:h,setClusterVar:m,setNMeans:y,setNDevs:w}}const u2e=Object.freeze(Object.defineProperty({__proto__:null,useConfigProps:l2e},Symbol.toStringTag,{value:"Module"}));function Nvt(){const{setAnswerNodes:e,trrack:t,actions:n,setAnswer:r}=pc();return _.jsx(qt,{variant:"filled",size:"sm",styles:{root:{width:"fit-content",display:"inline-flex"}},onClick:()=>{e([]),t==null||t.apply("Set Answer",n==null?void 0:n.setAnswerNodes([])),r({status:!0,provenanceGraph:t==null?void 0:t.graph.backend,answers:{answerNodes:[]}})},children:rM.ClearNodeSelection})}function $vt(){const{setLinkMarks:e}=pc();return _.jsx(qt,{variant:"filled",size:"sm",styles:{root:{width:"fit-content",display:"inline-flex"}},onClick:()=>{e([])},children:rM.ClearLinkSelection})}function c2e(){return _.jsxs(fs,{style:{display:"flex"},children:[_.jsx(Nvt,{}),_.jsx($vt,{})]})}const d2e=Object.freeze(Object.defineProperty({__proto__:null,InteractionButtons:c2e},Symbol.toStringTag,{value:"Module"})),Mvt="modulepreload",Fvt=function(e){return"/revisit/"+e},zle={},zv=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Fvt(l),l in zle)return;zle[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Mvt,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Lvt=Object.assign({"/public/matrices/data/tasks_data.txt":()=>zv(()=>import("./tasks_data-DzJatG4n.js"),[]),"/public/matrices/data/training_data.txt":()=>zv(()=>import("./training_data-CWUhbmEg.js"),[])}),jvt=Object.keys(Lvt).map(e=>e.replace("/public/matrices/data/",""));function f2e({configProps:e,dataname:t,setDataname:n}){const{showTooltip:r,encoding:i,colorScheme:s,markContrast:o,nMeans:a,nDevs:l,clusterMode:u,clusterVar:c,setShowTooltip:d,setEncoding:f,setColorScheme:h,setMarkContrast:p,setClusterMode:m,setClusterVar:g,setNMeans:y,setNDevs:v,showConfigurationPanel:w}=e,[E,C]=R.useState(!1);return _.jsxs(Se,{style:{position:"absolute",top:0,left:0},children:[w&&!E&&_.jsx(qV,{opened:E,onClick:()=>C(S=>!S),size:"lg"}),_.jsx(Nd,{opened:E,onClose:()=>C(!1),position:"left",size:300,padding:"md",withOverlay:!1,title:"Configuration",children:_.jsxs(fs,{gap:"md",children:[_.jsx(Ro,{label:"Tooltip",checked:r,onChange:S=>d(S.currentTarget.checked)}),_.jsx(jy,{label:"Data file:",value:t,onChange:S=>n(S.currentTarget.value),data:jvt}),_.jsx(jy,{label:"Encoding:",value:i,onChange:S=>f(S.currentTarget.value),data:Object.values(gr)}),_.jsx(jy,{label:"Color scheme:",value:s,onChange:S=>h(S.currentTarget.value),data:Object.values(Wl)}),_.jsxs(fs,{gap:"xs",children:[_.jsxs(tt,{size:"sm",children:["Grey Mark contrast:",o]}),_.jsx(Lw,{min:0,max:100,value:o,onChange:p})]}),_.jsx(jy,{label:"Cluster mode:",value:u,onChange:S=>m(S.currentTarget.value),data:Object.values(tM)}),_.jsx(jy,{label:"Cluster variable:",value:c,onChange:S=>g(S.currentTarget.value),data:Object.values(nM)}),_.jsxs(fs,{gap:"xs",children:[_.jsxs(tt,{size:"sm",children:["Mean Steps:",a]}),_.jsx(Lw,{min:2,max:5,value:a,onChange:y})]}),_.jsxs(fs,{gap:"xs",children:[_.jsxs(tt,{size:"sm",children:["Deviation Steps:",l]}),_.jsx(Lw,{min:2,max:5,value:l,onChange:v})]})]})})]})}const h2e=Object.freeze(Object.defineProperty({__proto__:null,default:f2e},Symbol.toStringTag,{value:"Module"})),uy={top:120,left:120,right:3,bottom:3};function p2e({config:e,data:t,dataname:n,setDataname:r,provenanceState:i,actions:s,trrack:o,setAnswer:a}){const l=l2e(e),u=o2e(i),c=i2e(t,l.clusterMode,l.clusterVar),[d,f]=[695,695],h=Math.min(d-uy.left-uy.right,f-uy.top-uy.bottom),p=R.useMemo(()=>c.orderedOrigins||[...new Set(t.map(Qw))].sort(),[t,c.orderedOrigins]),m=R.useMemo(()=>c.orderedDestinations||[...new Set(t.map(Jw))].sort(),[t,c.orderedDestinations]),g=R.useMemo(()=>Wz().domain(p).range([0,h]),[h,p]),y=R.useMemo(()=>Wz().domain(m).range([0,h]),[h,m]),v=g.bandwidth(),{meanMin:w,meanMax:E}=R.useMemo(()=>({meanMin:0,meanMax:250}),[t]),{devMin:C,devMax:S}=R.useMemo(()=>({devMin:0,devMax:150}),[t,l.isSnr]),{meanScale:T,devScale:A,alternateScale:I}=GSe(l.encoding,l.colorScheme,v,w,E,C,S,l.isSnr,l.nMeans,l.nDevs),D=VSe(l.encoding,l.markContrast,l.isSnr,T,A,I),O=R.useMemo(()=>({data:t,width:d,height:f,size:h,margin:uy,cellSize:v,meanMin:w,meanMax:E,devMin:C,devMax:S,meanScale:T,devScale:A,alternateScale:I,originScale:g,destinationScale:y,cellRenderer:D,configProps:l,...u,...c,actions:s,trrack:o,setAnswer:a}),[t,d,f,h,v,w,E,C,S,T,A,g,y,D,l,u,c,s,o,a]),M=!Number.isNaN(h)&&h>0;return _.jsx(xSe,{value:O,children:_.jsxs("div",{className:"container",children:[_.jsx(f2e,{configProps:l,dataname:n,setDataname:r}),_.jsx("svg",{className:"matrix-svg",children:M&&_.jsxs("g",{transform:`translate(${uy.left},${uy.top})`,onMouseLeave:()=>{u.setOriginHighlight(null),u.setDestinationHighlight(null)},children:[_.jsx(FSe,{}),_.jsxs("g",{className:"axes",children:[_.jsx(CSe,{}),_.jsx(TSe,{})]}),_.jsx(DSe,{}),_.jsx(kSe,{}),e.clusterMarks&&_.jsx(zSe,{size:3,marks:e.clusterMarks}),_.jsx(USe,{marks:u.linkMarks}),l.showTooltip&&_.jsx(jSe,{})]})}),M&&_.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"350px",gap:"20px",marginTop:"120px"},children:[_.jsx(c2e,{}),_.jsx($Se,{})]})]})})}const m2e=Object.freeze(Object.defineProperty({__proto__:null,Matrix:p2e},Symbol.toStringTag,{value:"Module"}));function Ule({parameters:e,setAnswer:t,provenanceState:n}){const[r,i]=R.useState(null),[s,o]=R.useState(e.dataset??""),a=R.useCallback(async c=>{if(c)try{const d=await fetch(`${c}`);if(!d.ok)throw new Error("Failed to fetch file");const p=(await d.text()).split(`
`).filter(m=>m.trim().length>0).map(m=>JSON.parse(m)).filter(m=>m.origin>=m.destination);p.forEach(m=>{if(m.destination!==m.origin){const g={...m};g.origin=m.destination,g.destination=m.origin,p.push(g)}}),i(p)}catch(d){console.error("Error loading JSON:",d)}},[]);R.useEffect(()=>{a(s)},[a,s]);const{actions:l,trrack:u}=R.useMemo(()=>{const c=Sb.create(),d=c.register("set-answer-nodes",(y,v)=>{y.answerNodes=v}),f=c.register("set-ordering-node",(y,v)=>{y.orderingNode=v}),h=c.register("set-link-marks",(y,v)=>{y.linkMarks=v}),p=c.register("highlight-origin-node",(y,v)=>{y.originHighlight=v}),m=c.register("highlight-destination-node",(y,v)=>{y.destinationHighlight=v}),g=cA({initialState:{answerNodes:[],orderingNode:null,linkMarks:[],originHighlight:null,destinationHighlight:null},registry:c});return{actions:{setAnswerNodes:d,setOrderingNode:f,setLinkMarks:h,setOriginHighlight:p,setDestinationHighlight:m},trrack:g}},[]);return r?_.jsx("div",{className:"precontainer",children:_.jsx(p2e,{config:e,data:r,dataname:s,setDataname:o,provenanceState:n,actions:l,trrack:u,setAnswer:t})}):_.jsx(Od,{})}const g2e=Object.freeze(Object.defineProperty({__proto__:null,Stimuli:Ule,default:Ule},Symbol.toStringTag,{value:"Module"})),y2e=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function Co(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Bvt=typeof Symbol=="function"&&Symbol.observable||"@@observable",Hle=Bvt,gj=()=>Math.random().toString(36).substring(7).split("").join("."),zvt={INIT:`@@redux/INIT${gj()}`,REPLACE:`@@redux/REPLACE${gj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gj()}`},JO=zvt;function VY(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function v2e(e,t,n){if(typeof e!="function")throw new Error(Co(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Co(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Co(1));return n(v2e)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((g,y)=>{o.set(y,g)}))}function c(){if(l)throw new Error(Co(3));return i}function d(g){if(typeof g!="function")throw new Error(Co(4));if(l)throw new Error(Co(5));let y=!0;u();const v=a++;return o.set(v,g),function(){if(y){if(l)throw new Error(Co(6));y=!1,u(),o.delete(v),s=null}}}function f(g){if(!VY(g))throw new Error(Co(7));if(typeof g.type>"u")throw new Error(Co(8));if(typeof g.type!="string")throw new Error(Co(17));if(l)throw new Error(Co(9));try{l=!0,i=r(i,g)}finally{l=!1}return(s=o).forEach(v=>{v()}),g}function h(g){if(typeof g!="function")throw new Error(Co(10));r=g,f({type:JO.REPLACE})}function p(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Co(11));function v(){const E=y;E.next&&E.next(c())}return v(),{unsubscribe:g(v)}},[Hle](){return this}}}return f({type:JO.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[Hle]:p}}function Uvt(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:JO.INIT})>"u")throw new Error(Co(12));if(typeof n(void 0,{type:JO.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Co(13))})}function Hvt(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{Uvt(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],h=o[d],p=f(h,a);if(typeof p>"u")throw a&&a.type,new Error(Co(14));u[d]=p,l=l||p!==h}return l=l||r.length!==Object.keys(o).length,l?u:o}}function ZO(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function qvt(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Co(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=e.map(l=>l(o));return s=ZO(...a)(i.dispatch),{...i,dispatch:s}}}function Vvt(e){return VY(e)&&"type"in e&&typeof e.type=="string"}var b2e=Symbol.for("immer-nothing"),qle=Symbol.for("immer-draftable"),fu=Symbol.for("immer-state");function Qc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Mx=Object.getPrototypeOf;function Uv(e){return!!e&&!!e[fu]}function Yp(e){var t;return e?w2e(e)||Array.isArray(e)||!!e[qle]||!!((t=e.constructor)!=null&&t[qle])||sM(e)||oM(e):!1}var Wvt=Object.prototype.constructor.toString();function w2e(e){if(!e||typeof e!="object")return!1;const t=Mx(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Wvt}function eN(e,t){iM(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function iM(e){const t=e[fu];return t?t.type_:Array.isArray(e)?1:sM(e)?2:oM(e)?3:0}function Xz(e,t){return iM(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function x2e(e,t,n){const r=iM(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Gvt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function sM(e){return e instanceof Map}function oM(e){return e instanceof Set}function $y(e){return e.copy_||e.base_}function Qz(e,t){if(sM(e))return new Map(e);if(oM(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=w2e(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[fu];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Mx(e),r)}else{const r=Mx(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function WY(e,t=!1){return aM(e)||Uv(e)||!Yp(e)||(iM(e)>1&&(e.set=e.add=e.clear=e.delete=Yvt),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>WY(r,!0))),e}function Yvt(){Qc(2)}function aM(e){return Object.isFrozen(e)}var Kvt={};function Hv(e){const t=Kvt[e];return t||Qc(0,e),t}var X2;function _2e(){return X2}function Xvt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vle(e,t){t&&(Hv("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jz(e){Zz(e),e.drafts_.forEach(Qvt),e.drafts_=null}function Zz(e){e===X2&&(X2=e.parent_)}function Wle(e){return X2=Xvt(X2,e)}function Qvt(e){const t=e[fu];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Gle(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[fu].modified_&&(Jz(t),Qc(4)),Yp(e)&&(e=tN(t,e),t.parent_||nN(t,e)),t.patches_&&Hv("Patches").generateReplacementPatches_(n[fu].base_,e,t.patches_,t.inversePatches_)):e=tN(t,n,[]),Jz(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==b2e?e:void 0}function tN(e,t,n){if(aM(t))return t;const r=t[fu];if(!r)return eN(t,(i,s)=>Yle(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return nN(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),eN(s,(a,l)=>Yle(e,r,i,a,l,n,o)),nN(e,i,!1),n&&e.patches_&&Hv("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Yle(e,t,n,r,i,s,o){if(Uv(i)){const a=s&&t&&t.type_!==3&&!Xz(t.assigned_,r)?s.concat(r):void 0,l=tN(e,i,a);if(x2e(n,r,l),Uv(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Yp(i)&&!aM(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;tN(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&nN(e,i)}}function nN(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&WY(t,n)}function Jvt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_2e(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=GY;n&&(i=[r],s=Q2);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var GY={get(e,t){if(t===fu)return e;const n=$y(e);if(!Xz(n,t))return Zvt(e,n,t);const r=n[t];return e.finalized_||!Yp(r)?r:r===yj(e.base_,t)?(vj(e),e.copy_[t]=tU(r,e)):r},has(e,t){return t in $y(e)},ownKeys(e){return Reflect.ownKeys($y(e))},set(e,t,n){const r=E2e($y(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=yj($y(e),t),s=i==null?void 0:i[fu];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Gvt(n,i)&&(n!==void 0||Xz(e.base_,t)))return!0;vj(e),eU(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return yj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,vj(e),eU(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=$y(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Qc(11)},getPrototypeOf(e){return Mx(e.base_)},setPrototypeOf(){Qc(12)}},Q2={};eN(GY,(e,t)=>{Q2[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Q2.deleteProperty=function(e,t){return Q2.set.call(this,e,t,void 0)};Q2.set=function(e,t,n){return GY.set.call(this,e[0],t,n,e[0])};function yj(e,t){const n=e[fu];return(n?$y(n):e)[t]}function Zvt(e,t,n){var i;const r=E2e(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function E2e(e,t){if(!(t in e))return;let n=Mx(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Mx(n)}}function eU(e){e.modified_||(e.modified_=!0,e.parent_&&eU(e.parent_))}function vj(e){e.copy_||(e.copy_=Qz(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ebt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Qc(6),r!==void 0&&typeof r!="function"&&Qc(7);let i;if(Yp(t)){const s=Wle(this),o=tU(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Jz(s):Zz(s)}return Vle(s,r),Gle(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===b2e&&(i=void 0),this.autoFreeze_&&WY(i,!0),r){const s=[],o=[];Hv("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Qc(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Yp(e)||Qc(8),Uv(e)&&(e=tbt(e));const t=Wle(this),n=tU(e,void 0);return n[fu].isManual_=!0,Zz(t),n}finishDraft(e,t){const n=e&&e[fu];(!n||!n.isManual_)&&Qc(9);const{scope_:r}=n;return Vle(r,t),Gle(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Hv("Patches").applyPatches_;return Uv(e)?r(e,t):this.produce(e,i=>r(i,t))}};function tU(e,t){const n=sM(e)?Hv("MapSet").proxyMap_(e,t):oM(e)?Hv("MapSet").proxySet_(e,t):Jvt(e,t);return(t?t.scope_:_2e()).drafts_.push(n),n}function tbt(e){return Uv(e)||Qc(10,e),C2e(e)}function C2e(e){if(!Yp(e)||aM(e))return e;const t=e[fu];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Qz(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Qz(e,!0);return eN(n,(r,i)=>{x2e(n,r,C2e(i))}),t&&(t.finalized_=!1),n}var hu=new ebt,S2e=hu.produce;hu.produceWithPatches.bind(hu);hu.setAutoFreeze.bind(hu);hu.setUseStrictShallowCopy.bind(hu);hu.applyPatches.bind(hu);hu.createDraft.bind(hu);hu.finishDraft.bind(hu);function nbt(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function rbt(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ibt(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Kle=e=>Array.isArray(e)?e:[e];function sbt(e){const t=Array.isArray(e[0])?e[0]:e;return ibt(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function obt(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var abt=class{constructor(e){this.value=e}deref(){return this.value}},lbt=typeof WeakRef<"u"?WeakRef:abt,ubt=0,Xle=1;function tR(){return{s:ubt,v:void 0,o:null,p:null}}function T2e(e,t={}){let n=tR();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const g=m.get(p);g===void 0?(a=tR(),m.set(p,a)):a=g}else{let m=a.p;m===null&&(a.p=m=new Map);const g=m.get(p);g===void 0?(a=tR(),m.set(p,a)):a=g}}const u=a;let c;if(a.s===Xle)c=a.v;else if(c=e.apply(null,arguments),s++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,c)&&(c=f,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new lbt(c):c}return u.s=Xle,u.v=c,c}return o.clearCache=()=>{n=tR(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function cbt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),nbt(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=T2e,argsMemoizeOptions:p=[]}=c,m=Kle(f),g=Kle(p),y=sbt(i),v=d(function(){return s++,u.apply(null,arguments)},...m),w=h(function(){o++;const C=obt(y,arguments);return a=v.apply(null,C),a},...g);return Object.assign(w,{resultFunc:u,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var A2e=cbt(T2e),dbt=Object.assign((e,t=A2e)=>{rbt(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>dbt});function k2e(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var fbt=k2e(),hbt=k2e,pbt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ZO:ZO.apply(null,arguments)};function Qle(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Ip(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Vvt(r)&&r.type===e,n}var I2e=class sS extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sS.prototype)}static get[Symbol.species](){return sS}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sS(...t[0].concat(this)):new sS(...t.concat(this))}};function Jle(e){return Yp(e)?S2e(e,()=>{}):e}function Zle(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function mbt(e){return typeof e=="boolean"}var gbt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new I2e;return n&&(mbt(n)?o.push(fbt):o.push(hbt(n.extraArgument))),o},ybt="RTK_autoBatch",eue=e=>t=>{setTimeout(t,e)},vbt=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eue(10):e.type==="callback"?e.queueNotification:eue(e.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[ybt]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},bbt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new I2e(e);return r&&i.push(vbt(typeof r=="object"?r:void 0)),i};function wbt(e){const t=gbt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(VY(n))a=Hvt(n);else throw new Error(Ip(1));let l;typeof r=="function"?l=r(t):l=t();let u=ZO;i&&(u=pbt({trace:!1,...typeof i=="object"&&i}));const c=qvt(...l),d=bbt(c);let f=typeof o=="function"?o(d):d();const h=u(...f);return v2e(a,s,h)}function R2e(e){const t={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Ip(28));if(a in t)throw new Error(Ip(29));return t[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function xbt(e){return typeof e=="function"}function _bt(e,t){let[n,r,i]=R2e(t),s;if(xbt(e))s=()=>Jle(e());else{const a=Jle(e);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Uv(c)){const h=d(c,l);return h===void 0?c:h}else{if(Yp(c))return S2e(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},a)}return o.getInitialState=s,o}var Ebt=Symbol.for("rtk-slice-createasyncthunk");function Cbt(e,t){return`${e}/${t}`}function Sbt({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Ebt];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Ip(11));const a=(typeof i.reducers=="function"?i.reducers(kbt()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,E){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(Ip(12));if(C in u.sliceCaseReducersByType)throw new Error(Ip(13));return u.sliceCaseReducersByType[C]=E,c},addMatcher(w,E){return u.sliceMatchers.push({matcher:w,reducer:E}),c},exposeAction(w,E){return u.actionCreators[w]=E,c},exposeCaseReducer(w,E){return u.sliceCaseReducersByName[w]=E,c}};l.forEach(w=>{const E=a[w],C={reducerName:w,type:Cbt(s,w),createNotation:typeof i.reducers=="function"};Rbt(E)?Pbt(C,E,c,t):Ibt(C,E,c)});function d(){const[w={},E=[],C=void 0]=typeof i.extraReducers=="function"?R2e(i.extraReducers):[i.extraReducers],S={...w,...u.sliceCaseReducersByType};return _bt(i.initialState,T=>{for(let A in S)T.addCase(A,S[A]);for(let A of u.sliceMatchers)T.addMatcher(A.matcher,A.reducer);for(let A of E)T.addMatcher(A.matcher,A.reducer);C&&T.addDefaultCase(C)})}const f=w=>w,h=new Map;let p;function m(w,E){return p||(p=d()),p(w,E)}function g(){return p||(p=d()),p.getInitialState()}function y(w,E=!1){function C(T){let A=T[w];return typeof A>"u"&&E&&(A=g()),A}function S(T=f){const A=Zle(h,E,()=>new WeakMap);return Zle(A,T,()=>{const I={};for(const[D,O]of Object.entries(i.selectors??{}))I[D]=Tbt(O,T,g,E);return I})}return{reducerPath:w,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const v={name:s,reducer:m,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...y(o),injectInto(w,{reducerPath:E,...C}={}){const S=E??o;return w.inject({reducerPath:S,reducer:m},C),{...v,...y(S,!0)}}};return v}}function Tbt(e,t,n,r){function i(s,...o){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var Abt=Sbt();function kbt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Ibt({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!Dbt(r))throw new Error(Ip(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Qle(e,o):Qle(e))}function Rbt(e){return e._reducerDefinitionType==="asyncThunk"}function Dbt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Pbt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Ip(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,s,c);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:o||nR,pending:a||nR,rejected:l||nR,settled:u||nR})}function nR(){}function Ip(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function lM(e){return e.baseComponent!==void 0}function tc(e){return e.order==="dynamic"}function _d(e){return tc(e)?[e.id]:e.components.flatMap(t=>typeof t=="string"?t:_d(t))}function D2e(e){return tc(e)?[e]:e.components.flatMap(t=>typeof t=="string"?[]:D2e(t))}function nU(e,t){return D2e(t).find(r=>r.id===e)}function P2e(e){var t;return tc(e)?[]:[...e.components.flatMap(n=>typeof n=="string"?n:tc(n)?[]:P2e(n)),...((t=e.interruptions)==null?void 0:t.flatMap(n=>n.components))||[]]}function O2e(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+_d(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+_d(e).length-1}];r+=1}else{const o=O2e(s,t,n+r);if(typeof o=="number")r+=o;else{const a={currentBlock:e,firstIndex:n,lastIndex:o[0].lastIndex};return[...o,a]}}}return r}function N2e(e,t){const n=O2e(e,t,0);return typeof n=="number"?null:n}function $2e(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string")r+=1;else{const o=$2e(s,t,n+r);if(o.found)return o;r+=o.distance}}return{found:!1,distance:r}}function Obt(e,t){const n=$2e(e,t,0);return n.found?n.distance:-1}function YY(e,t){return typeof e=="string"?e:tc(e)?{...e,orderPath:t,components:[]}:{...e,orderPath:t,order:e.order,components:e.components.map((n,r)=>YY(n,`${t}-${r}`))}}var oS={exports:{}};oS.exports;var tue;function Nbt(){return tue||(tue=1,function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",w="[object Proxy]",E="[object RegExp]",C="[object Set]",S="[object String]",T="[object Undefined]",A="[object WeakMap]",I="[object ArrayBuffer]",D="[object DataView]",O="[object Float32Array]",M="[object Float64Array]",$="[object Int8Array]",L="[object Int16Array]",z="[object Int32Array]",B="[object Uint8Array]",W="[object Uint8ClampedArray]",V="[object Uint16Array]",X="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,q={};q[O]=q[M]=q[$]=q[L]=q[z]=q[B]=q[W]=q[V]=q[X]=!0,q[a]=q[l]=q[I]=q[c]=q[D]=q[d]=q[f]=q[h]=q[m]=q[g]=q[v]=q[E]=q[C]=q[S]=q[A]=!1;var Y=typeof Rs=="object"&&Rs&&Rs.Object===Object&&Rs,J=typeof self=="object"&&self&&self.Object===Object&&self,te=Y||J||Function("return this")(),ue=t&&!t.nodeType&&t,se=ue&&!0&&e&&!e.nodeType&&e,ne=se&&se.exports===ue,fe=ne&&Y.process,ee=function(){try{var pe=se&&se.require&&se.require("util").types;return pe||fe&&fe.binding&&fe.binding("util")}catch{}}(),ie=ee&&ee.isTypedArray;function he(pe,_e,He){switch(He.length){case 0:return pe.call(_e);case 1:return pe.call(_e,He[0]);case 2:return pe.call(_e,He[0],He[1]);case 3:return pe.call(_e,He[0],He[1],He[2])}return pe.apply(_e,He)}function ye(pe,_e){for(var He=-1,Ut=Array(pe);++He<pe;)Ut[He]=_e(He);return Ut}function Ce(pe){return function(_e){return pe(_e)}}function Re(pe,_e){return pe==null?void 0:pe[_e]}function De(pe,_e){return function(He){return pe(_e(He))}}var be=Array.prototype,je=Function.prototype,Qe=Object.prototype,it=te["__core-js_shared__"],Ke=je.toString,Pe=Qe.hasOwnProperty,ze=function(){var pe=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return pe?"Symbol(src)_1."+pe:""}(),ot=Qe.toString,xe=Ke.call(Object),Te=RegExp("^"+Ke.call(Pe).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=ne?te.Buffer:void 0,ht=te.Symbol,st=te.Uint8Array;nt&&nt.allocUnsafe;var Ot=De(Object.getPrototypeOf,Object),Qt=Object.create,kn=Qe.propertyIsEnumerable,Yn=be.splice,gn=ht?ht.toStringTag:void 0,Tn=function(){try{var pe=ut(Object,"defineProperty");return pe({},"",{}),pe}catch{}}(),er=nt?nt.isBuffer:void 0,Nn=Math.max,Ni=Date.now,Kn=ut(te,"Map"),Or=ut(Object,"create"),Vr=function(){function pe(){}return function(_e){if(!Cu(_e))return{};if(Qt)return Qt(_e);pe.prototype=_e;var He=new pe;return pe.prototype=void 0,He}}();function Xn(pe){var _e=-1,He=pe==null?0:pe.length;for(this.clear();++_e<He;){var Ut=pe[_e];this.set(Ut[0],Ut[1])}}function Gi(){this.__data__=Or?Or(null):{},this.size=0}function zo(pe){var _e=this.has(pe)&&delete this.__data__[pe];return this.size-=_e?1:0,_e}function ys(pe){var _e=this.__data__;if(Or){var He=_e[pe];return He===r?void 0:He}return Pe.call(_e,pe)?_e[pe]:void 0}function tr(pe){var _e=this.__data__;return Or?_e[pe]!==void 0:Pe.call(_e,pe)}function _t(pe,_e){var He=this.__data__;return this.size+=this.has(pe)?0:1,He[pe]=Or&&_e===void 0?r:_e,this}Xn.prototype.clear=Gi,Xn.prototype.delete=zo,Xn.prototype.get=ys,Xn.prototype.has=tr,Xn.prototype.set=_t;function Fr(pe){var _e=-1,He=pe==null?0:pe.length;for(this.clear();++_e<He;){var Ut=pe[_e];this.set(Ut[0],Ut[1])}}function hn(){this.__data__=[],this.size=0}function sr(pe){var _e=this.__data__,He=_c(_e,pe);if(He<0)return!1;var Ut=_e.length-1;return He==Ut?_e.pop():Yn.call(_e,He,1),--this.size,!0}function En(pe){var _e=this.__data__,He=_c(_e,pe);return He<0?void 0:_e[He][1]}function Ar(pe){return _c(this.__data__,pe)>-1}function Jr(pe,_e){var He=this.__data__,Ut=_c(He,pe);return Ut<0?(++this.size,He.push([pe,_e])):He[Ut][1]=_e,this}Fr.prototype.clear=hn,Fr.prototype.delete=sr,Fr.prototype.get=En,Fr.prototype.has=Ar,Fr.prototype.set=Jr;function _i(pe){var _e=-1,He=pe==null?0:pe.length;for(this.clear();++_e<He;){var Ut=pe[_e];this.set(Ut[0],Ut[1])}}function ho(){this.size=0,this.__data__={hash:new Xn,map:new(Kn||Fr),string:new Xn}}function Fl(pe){var _e=at(this,pe).delete(pe);return this.size-=_e?1:0,_e}function Rh(pe){return at(this,pe).get(pe)}function fr(pe){return at(this,pe).has(pe)}function wc(pe,_e){var He=at(this,pe),Ut=He.size;return He.set(pe,_e),this.size+=He.size==Ut?0:1,this}_i.prototype.clear=ho,_i.prototype.delete=Fl,_i.prototype.get=Rh,_i.prototype.has=fr,_i.prototype.set=wc;function Ei(pe){var _e=this.__data__=new Fr(pe);this.size=_e.size}function Ja(){this.__data__=new Fr,this.size=0}function po(pe){var _e=this.__data__,He=_e.delete(pe);return this.size=_e.size,He}function _m(pe){return this.__data__.get(pe)}function Dh(pe){return this.__data__.has(pe)}function Jd(pe,_e){var He=this.__data__;if(He instanceof Fr){var Ut=He.__data__;if(!Kn||Ut.length<n-1)return Ut.push([pe,_e]),this.size=++He.size,this;He=this.__data__=new _i(Ut)}return He.set(pe,_e),this.size=He.size,this}Ei.prototype.clear=Ja,Ei.prototype.delete=po,Ei.prototype.get=_m,Ei.prototype.has=Dh,Ei.prototype.set=Jd;function Zd(pe,_e){var He=Ls(pe),Ut=!He&&Ci(pe),Dn=!He&&!Ut&&wa(pe),or=!He&&!Ut&&!Dn&&Gg(pe),Nr=He||Ut||Dn||or,Cn=Nr?ye(pe.length,String):[],kr=Cn.length;for(var ri in pe)Nr&&(ri=="length"||Dn&&(ri=="offset"||ri=="parent")||or&&(ri=="buffer"||ri=="byteLength"||ri=="byteOffset")||jt(ri,kr))||Cn.push(ri);return Cn}function xc(pe,_e,He){(He!==void 0&&!mo(pe[_e],He)||He===void 0&&!(_e in pe))&&Qn(pe,_e,He)}function Em(pe,_e,He){var Ut=pe[_e];(!(Pe.call(pe,_e)&&mo(Ut,He))||He===void 0&&!(_e in pe))&&Qn(pe,_e,He)}function _c(pe,_e){for(var He=pe.length;He--;)if(mo(pe[He][0],_e))return He;return-1}function Qn(pe,_e,He){_e=="__proto__"&&Tn?Tn(pe,_e,{configurable:!0,enumerable:!0,value:He,writable:!0}):pe[_e]=He}var Ph=Je();function vs(pe){return pe==null?pe===void 0?T:y:gn&&gn in Object(pe)?lt(pe):_s(pe)}function Ll(pe){return ls(pe)&&vs(pe)==a}function bs(pe){if(!Cu(pe)||$n(pe))return!1;var _e=el(pe)?Te:F;return _e.test(Am(pe))}function Ec(pe){return ls(pe)&&Jb(pe.length)&&!!q[vs(pe)]}function Cm(pe){if(!Cu(pe))return br(pe);var _e=en(pe),He=[];for(var Ut in pe)Ut=="constructor"&&(_e||!Pe.call(pe,Ut))||He.push(Ut);return He}function _u(pe,_e,He,Ut,Dn){pe!==_e&&Ph(_e,function(or,Nr){if(Dn||(Dn=new Ei),Cu(or))ws(pe,_e,Nr,He,_u,Ut,Dn);else{var Cn=Ut?Ut(Eu(pe,Nr),or,Nr+"",pe,_e,Dn):void 0;Cn===void 0&&(Cn=or),xc(pe,Nr,Cn)}},nf)}function ws(pe,_e,He,Ut,Dn,or,Nr){var Cn=Eu(pe,He),kr=Eu(_e,He),ri=Nr.get(kr);if(ri){xc(pe,He,ri);return}var Es=or?or(Cn,kr,He+"",pe,_e,Nr):void 0,Su=Es===void 0;if(Su){var nl=Ls(kr),Oh=!nl&&wa(kr),us=!nl&&!Oh&&Gg(kr);Es=kr,nl||Oh||us?Ls(Cn)?Es=Cn:tf(Cn)?Es=ke(Cn):Oh?(Su=!1,Es=oe(kr)):us?(Su=!1,Es=de(kr)):Es=[]:yE(kr)||Ci(kr)?(Es=Cn,Ci(Cn)?Es=Cc(Cn):(!Cu(Cn)||el(Cn))&&(Es=bt(kr))):Su=!1}Su&&(Nr.set(kr,Es),Dn(Es,kr,Ut,or,Nr),Nr.delete(kr)),xc(pe,He,Es)}function Sm(pe,_e){return Tm(Za(pe,_e,tl),pe+"")}var xs=Tn?function(pe,_e){return Tn(pe,"toString",{configurable:!0,enumerable:!1,value:jl(_e),writable:!0})}:tl;function oe(pe,_e){return pe.slice()}function we(pe){var _e=new pe.constructor(pe.byteLength);return new st(_e).set(new st(pe)),_e}function de(pe,_e){var He=we(pe.buffer);return new pe.constructor(He,pe.byteOffset,pe.length)}function ke(pe,_e){var He=-1,Ut=pe.length;for(_e||(_e=Array(Ut));++He<Ut;)_e[He]=pe[He];return _e}function Oe(pe,_e,He,Ut){var Dn=!He;He||(He={});for(var or=-1,Nr=_e.length;++or<Nr;){var Cn=_e[or],kr=void 0;kr===void 0&&(kr=pe[Cn]),Dn?Qn(He,Cn,kr):Em(He,Cn,kr)}return He}function Ae(pe){return Sm(function(_e,He){var Ut=-1,Dn=He.length,or=Dn>1?He[Dn-1]:void 0,Nr=Dn>2?He[2]:void 0;for(or=pe.length>3&&typeof or=="function"?(Dn--,or):void 0,Nr&&yn(He[0],He[1],Nr)&&(or=Dn<3?void 0:or,Dn=1),_e=Object(_e);++Ut<Dn;){var Cn=He[Ut];Cn&&pe(_e,Cn,Ut,or)}return _e})}function Je(pe){return function(_e,He,Ut){for(var Dn=-1,or=Object(_e),Nr=Ut(_e),Cn=Nr.length;Cn--;){var kr=Nr[++Dn];if(He(or[kr],kr,or)===!1)break}return _e}}function at(pe,_e){var He=pe.__data__;return Jt(_e)?He[typeof _e=="string"?"string":"hash"]:He.map}function ut(pe,_e){var He=Re(pe,_e);return bs(He)?He:void 0}function lt(pe){var _e=Pe.call(pe,gn),He=pe[gn];try{pe[gn]=void 0;var Ut=!0}catch{}var Dn=ot.call(pe);return Ut&&(_e?pe[gn]=He:delete pe[gn]),Dn}function bt(pe){return typeof pe.constructor=="function"&&!en(pe)?Vr(Ot(pe)):{}}function jt(pe,_e){var He=typeof pe;return _e=_e??o,!!_e&&(He=="number"||He!="symbol"&&G.test(pe))&&pe>-1&&pe%1==0&&pe<_e}function yn(pe,_e,He){if(!Cu(He))return!1;var Ut=typeof _e;return(Ut=="number"?ba(He)&&jt(_e,He.length):Ut=="string"&&_e in He)?mo(He[_e],pe):!1}function Jt(pe){var _e=typeof pe;return _e=="string"||_e=="number"||_e=="symbol"||_e=="boolean"?pe!=="__proto__":pe===null}function $n(pe){return!!ze&&ze in pe}function en(pe){var _e=pe&&pe.constructor,He=typeof _e=="function"&&_e.prototype||Qe;return pe===He}function br(pe){var _e=[];if(pe!=null)for(var He in Object(pe))_e.push(He);return _e}function _s(pe){return ot.call(pe)}function Za(pe,_e,He){return _e=Nn(_e===void 0?pe.length-1:_e,0),function(){for(var Ut=arguments,Dn=-1,or=Nn(Ut.length-_e,0),Nr=Array(or);++Dn<or;)Nr[Dn]=Ut[_e+Dn];Dn=-1;for(var Cn=Array(_e+1);++Dn<_e;)Cn[Dn]=Ut[Dn];return Cn[_e]=He(Nr),he(pe,this,Cn)}}function Eu(pe,_e){if(!(_e==="constructor"&&typeof pe[_e]=="function")&&_e!="__proto__")return pe[_e]}var Tm=ef(xs);function ef(pe){var _e=0,He=0;return function(){var Ut=Ni(),Dn=s-(Ut-He);if(He=Ut,Dn>0){if(++_e>=i)return arguments[0]}else _e=0;return pe.apply(void 0,arguments)}}function Am(pe){if(pe!=null){try{return Ke.call(pe)}catch{}try{return pe+""}catch{}}return""}function mo(pe,_e){return pe===_e||pe!==pe&&_e!==_e}var Ci=Ll(function(){return arguments}())?Ll:function(pe){return ls(pe)&&Pe.call(pe,"callee")&&!kn.call(pe,"callee")},Ls=Array.isArray;function ba(pe){return pe!=null&&Jb(pe.length)&&!el(pe)}function tf(pe){return ls(pe)&&ba(pe)}var wa=er||Sc;function el(pe){if(!Cu(pe))return!1;var _e=vs(pe);return _e==h||_e==p||_e==u||_e==w}function Jb(pe){return typeof pe=="number"&&pe>-1&&pe%1==0&&pe<=o}function Cu(pe){var _e=typeof pe;return pe!=null&&(_e=="object"||_e=="function")}function ls(pe){return pe!=null&&typeof pe=="object"}function yE(pe){if(!ls(pe)||vs(pe)!=v)return!1;var _e=Ot(pe);if(_e===null)return!0;var He=Pe.call(_e,"constructor")&&_e.constructor;return typeof He=="function"&&He instanceof He&&Ke.call(He)==xe}var Gg=ie?Ce(ie):Ec;function Cc(pe){return Oe(pe,nf(pe))}function nf(pe){return ba(pe)?Zd(pe):Cm(pe)}var Zb=Ae(function(pe,_e,He){_u(pe,_e,He)});function jl(pe){return function(){return pe}}function tl(pe){return pe}function Sc(){return!1}e.exports=Zb}(oS,oS.exports)),oS.exports}var $bt=Nbt();const M2e=ao($bt);function Yu(e,t){var n;return lM(e)&&t.baseComponents?M2e({},(n=t.baseComponents)==null?void 0:n[e.baseComponent],e):e}function nue(e,t){return t.components[e]===void 0?null:Yu(t.components[e],t)}function rue(e){const t=e.response.map(n=>n.id);return e.responseOrder==="random"?{response:[...t].map(n=>({value:n,sort:Math.random()})).sort((n,r)=>n.sort-r.sort).map(({value:n})=>n)}:{response:t}}function iue(e){return e.response.reduce((t,n)=>{if(n.type==="radio"||n.type==="checkbox"||n.type==="buttons")if(n.optionOrder==="random"){const i=[...n.options.map(s=>typeof s=="string"?{value:s,label:s}:s)].map(s=>({value:s,sort:Math.random()})).sort((s,o)=>s.sort-o.sort).map(({value:s})=>s);t[n.id]=i}else t[n.id]=n.options.map(r=>typeof r=="string"?{value:r,label:r}:r);return t},{})}function sue(e){return e.response.reduce((t,n)=>{if(n.type==="matrix-radio"||n.type==="matrix-checkbox")if(n.questionOrder==="random"){const i=[...n.questionOptions].map(s=>({value:s,sort:Math.random()})).sort((s,o)=>s.sort-o.sort).map(({value:s})=>s);t[n.id]=i}else t[n.id]=n.questionOptions;return t},{})}async function Mbt(e,t,n,r,i,s,o){const a=_d(n),l=Object.fromEntries(a.filter(p=>p!=="end").map((p,m)=>{const g=Yu(t.components[p]||{},t);return t.components[p]?[`${p}_${m}`,{answer:{},trialOrder:`${m}`,componentName:p,incorrectAnswers:{},startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:Object.hasOwn(g,"parameters")?g.parameters:{},correctAnswer:Object.hasOwn(g,"correctAnswer")?g.correctAnswer:[],optionOrders:iue(g),questionOrders:sue(g),formOrder:rue(g)}]:null}).filter(p=>p!==null)),u=Object.assign({},...a.map((p,m)=>{const g=Yu(t.components[p]||{response:[]},t);return{[`${p}_${m}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},stimulus:{valid:!g.response.some(y=>y.type==="reactive"&&y.required!==!1),values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}})),c=Object.assign({},...a.map((p,m)=>({[`${p}_${m}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,stimulus:!0,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}))),d={studyId:e,isRecording:!1,answers:Object.keys(i).length>0?i:l,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:Object.keys(i).length>0?c:u,reactiveAnswers:{},metadata:r,analysisProvState:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},analysisIsPlaying:!1,analysisHasAudio:!1,analysisHasProvenance:!1,modes:s,matrixAnswers:{},participantId:o,funcSequence:{}},f=Abt({name:"storeSlice",initialState:d,reducers:{setConfig(p,{payload:m}){p.config=m},setIsRecording(p,{payload:m}){p.isRecording=m},pushToFuncSequence(p,{payload:m}){if(p.funcSequence[m.funcName]||(p.funcSequence[m.funcName]=[]),p.funcSequence[m.funcName].length>m.funcIndex)return;const g=Yu(p.config.components[m.component]||{response:[]},t),y=`${m.funcName}_${m.index}_${m.component}_${m.funcIndex}`;p.funcSequence[m.funcName].push(m.component),p.answers[y]={answer:{},incorrectAnswers:{},componentName:m.component,trialOrder:`${m.index}_${m.funcIndex}`,startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:m.parameters||("parameters"in g?g.parameters:{})||{},correctAnswer:m.correctAnswer||g.correctAnswer||[],optionOrders:iue(g),questionOrders:sue(g),formOrder:rue(g)},p.trialValidation[y]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},stimulus:{valid:g.response.every(v=>v.type!=="reactive"),values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}},toggleStudyBrowser:p=>{p.showStudyBrowser=!p.showStudyBrowser},toggleShowHelpText:p=>{p.showHelpText=!p.showHelpText},setAlertModal:(p,m)=>{p.alertModal=m.payload},setReactiveAnswers:(p,m)=>{p.reactiveAnswers=m.payload},saveAnalysisState(p,{payload:m}){p.analysisProvState[m.location]=m.prov},setAnalysisIsPlaying(p,{payload:m}){p.analysisIsPlaying=m},setAnalysisHasAudio(p,{payload:m}){p.analysisHasAudio=m},setAnalysisHasProvenance(p,{payload:m}){p.analysisHasProvenance=m},setMatrixAnswersRadio:(p,m)=>{if(m.payload){const{responseId:g,questionKey:y,val:v}=m.payload;p.matrixAnswers={...p.matrixAnswers,[g]:{...p.matrixAnswers[g],[y]:v}}}else p.matrixAnswers={}},setMatrixAnswersCheckbox:(p,m)=>{var g;if(m.payload){const{responseId:y,questionKey:v,value:w,isChecked:E,choiceOptions:C}=m.payload,S=((g=p.matrixAnswers[y])==null?void 0:g[v])??"";let T="";E?S.length>0?T=[...S.split("|"),w].sort((A,I)=>C.map(D=>D.value).indexOf(A)-C.map(D=>D.value).indexOf(I)).join("|"):T=`${w}`:T=S.split("|").filter(A=>A!==w).join("|"),p.matrixAnswers={...p.matrixAnswers,[y]:{...p.matrixAnswers[y],[v]:T}}}else p.matrixAnswers={}},updateResponseBlockValidation:(p,{payload:m})=>{var y,v;if(!p.trialValidation[m.identifier])return;const g=(v=(y=p.trialValidation[m.identifier])==null?void 0:y[m.location])==null?void 0:v.values;Object.keys(m.values).length>0?p.trialValidation[m.identifier][m.location]={valid:m.status,values:{...g,...m.values}}:p.trialValidation[m.identifier][m.location]={valid:m.status,values:g||{}},m.provenanceGraph&&(p.trialValidation[m.identifier].provenanceGraph[m.location]=m.provenanceGraph)},saveTrialAnswer(p,{payload:m}){p.answers[m.identifier]={...m}},incrementHelpCounter(p,{payload:m}){p.answers[m.identifier].helpButtonClickedCount+=1},saveIncorrectAnswer(p,{payload:m}){const{identifier:g,answer:y,question:v}=m;p.answers[v].incorrectAnswers||(p.answers[v].incorrectAnswers={}),p.answers[v].incorrectAnswers[g]||(p.answers[v].incorrectAnswers[g]={id:g,value:[]}),p.answers[v].incorrectAnswers[g].value.push(y)},deleteDynamicBlockAnswers(p,{payload:m}){var E;const{currentStep:g,funcIndex:y,funcName:v}=m,w=new RegExp(`.*_${g}_.*_${y}`);Object.keys(p.answers).forEach(C=>{C.match(w)&&delete p.answers[C]}),p.funcSequence[v]&&(p.funcSequence[v]=p.funcSequence[m.funcName].filter((C,S)=>S!==y)),((E=p.funcSequence[v])==null?void 0:E.length)===0&&delete p.funcSequence[v]}}});return{store:wbt({reducer:f.reducer,preloadedState:d}),actions:f.actions}}const F2e=R.createContext(null);function ps(){return R.useContext(F2e).actions}const Ms=Hxe,rr=vot;function Fbt(e){return rr(t=>{if(e.includes("reviewer-"))return!0;const n=t.trialValidation[e]?Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0):!0;return n?Object.values(n).every(r=>r):!1})}const Lbt=A2e(e=>e.sequence,e=>_d(e));function Ib(){return rr(Lbt)}var uP={exports:{}};function aS(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cP={exports:{}};const jbt={},Bbt=Object.freeze(Object.defineProperty({__proto__:null,default:jbt},Symbol.toStringTag,{value:"Module"})),L2e=Cge(Bbt);var zbt=cP.exports,oue;function ir(){return oue||(oue=1,function(e,t){(function(n,r){e.exports=r()})(zbt,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Rs<"u"&&Rs.crypto&&(s=Rs.crypto),!s&&typeof aS=="function")try{s=L2e}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function v(){}return function(w){var E;return v.prototype=w,E=new v,v.prototype=null,E}}(),l={},u=l.lib={},c=u.Base=function(){return{extend:function(v){var w=a(this);return v&&w.mixIn(v),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var w in v)v.hasOwnProperty(w)&&(this[w]=v[w]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=c.extend({init:function(v,w){v=this.words=v||[],w!=i?this.sigBytes=w:this.sigBytes=v.length*4},toString:function(v){return(v||h).stringify(this)},concat:function(v){var w=this.words,E=v.words,C=this.sigBytes,S=v.sigBytes;if(this.clamp(),C%4)for(var T=0;T<S;T++){var A=E[T>>>2]>>>24-T%4*8&255;w[C+T>>>2]|=A<<24-(C+T)%4*8}else for(var I=0;I<S;I+=4)w[C+I>>>2]=E[I>>>2];return this.sigBytes+=S,this},clamp:function(){var v=this.words,w=this.sigBytes;v[w>>>2]&=4294967295<<32-w%4*8,v.length=r.ceil(w/4)},clone:function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var w=[],E=0;E<v;E+=4)w.push(o());return new d.init(w,v)}}),f=l.enc={},h=f.Hex={stringify:function(v){for(var w=v.words,E=v.sigBytes,C=[],S=0;S<E;S++){var T=w[S>>>2]>>>24-S%4*8&255;C.push((T>>>4).toString(16)),C.push((T&15).toString(16))}return C.join("")},parse:function(v){for(var w=v.length,E=[],C=0;C<w;C+=2)E[C>>>3]|=parseInt(v.substr(C,2),16)<<24-C%8*4;return new d.init(E,w/2)}},p=f.Latin1={stringify:function(v){for(var w=v.words,E=v.sigBytes,C=[],S=0;S<E;S++){var T=w[S>>>2]>>>24-S%4*8&255;C.push(String.fromCharCode(T))}return C.join("")},parse:function(v){for(var w=v.length,E=[],C=0;C<w;C++)E[C>>>2]|=(v.charCodeAt(C)&255)<<24-C%4*8;return new d.init(E,w)}},m=f.Utf8={stringify:function(v){try{return decodeURIComponent(escape(p.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return p.parse(unescape(encodeURIComponent(v)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=m.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var w,E=this._data,C=E.words,S=E.sigBytes,T=this.blockSize,A=T*4,I=S/A;v?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var D=I*T,O=r.min(D*4,S);if(D){for(var M=0;M<D;M+=T)this._doProcessBlock(C,M);w=C.splice(0,D),E.sigBytes-=O}return new d.init(w,O)},clone:function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0});u.Hasher=g.extend({cfg:c.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(v){return function(w,E){return new v.init(E).finalize(w)}},_createHmacHelper:function(v){return function(w,E){return new y.HMAC.init(v,E).finalize(w)}}});var y=l.algo={};return l}(Math);return n})}(cP)),cP.exports}var dP={exports:{}},Ubt=dP.exports,aue;function uM(){return aue||(aue=1,function(e,t){(function(n,r){e.exports=r(ir())})(Ubt,function(n){return function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=i.x64={};l.Word=o.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=o.extend({init:function(u,c){u=this.words=u||[],c!=r?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,d=[],f=0;f<c;f++){var h=u[f];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),c=u.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return u}})}(),n})}(dP)),dP.exports}var fP={exports:{}},Hbt=fP.exports,lue;function qbt(){return lue||(lue=1,function(e,t){(function(n,r){e.exports=r(ir())})(Hbt,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],d=0;d<u;d++)c[d>>>2]|=l[d]<<24-d%4*8;o.call(this,c,u)}else o.apply(this,arguments)};a.prototype=s}}(),n.lib.WordArray})}(fP)),fP.exports}var hP={exports:{}},Vbt=hP.exports,uue;function Wbt(){return uue||(uue=1,function(e,t){(function(n,r){e.exports=r(ir())})(Vbt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=u[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return s.create(c,u*2)}},o.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=a(u[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=a(l.charCodeAt(d)<<16-d%2*16);return s.create(c,u*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(hP)),hP.exports}var pP={exports:{}},Gbt=pP.exports,cue;function Rb(){return cue||(cue=1,function(e,t){(function(n,r){e.exports=r(ir())})(Gbt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,d=this._map;l.clamp();for(var f=[],h=0;h<c;h+=3)for(var p=u[h>>>2]>>>24-h%4*8&255,m=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,y=p<<16|m<<8|g,v=0;v<4&&h+v*.75<c;v++)f.push(d.charAt(y>>>6*(3-v)&63));var w=d.charAt(64);if(w)for(;f.length%4;)f.push(w);return f.join("")},parse:function(l){var u=l.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var h=c.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(u=p)}return a(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var p=c[l.charCodeAt(h-1)]<<h%4*2,m=c[l.charCodeAt(h)]>>>6-h%4*2,g=p|m;d[f>>>2]|=g<<24-f%4*8,f++}return s.create(d,f)}}(),n.enc.Base64})}(pP)),pP.exports}var mP={exports:{}},Ybt=mP.exports,due;function Kbt(){return due||(due=1,function(e,t){(function(n,r){e.exports=r(ir())})(Ybt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,d=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<d;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,g=c[p+1>>>2]>>>24-(p+1)%4*8&255,y=c[p+2>>>2]>>>24-(p+2)%4*8&255,v=m<<16|g<<8|y,w=0;w<4&&p+w*.75<d;w++)h.push(f.charAt(v>>>6*(3-w)&63));var E=f.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,d=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<d.length;h++)f[d.charCodeAt(h)]=h}var p=d.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(c=m)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var p=c[l.charCodeAt(h-1)]<<h%4*2,m=c[l.charCodeAt(h)]>>>6-h%4*2,g=p|m;d[f>>>2]|=g<<24-f%4*8,f++}return s.create(d,f)}}(),n.enc.Base64url})}(mP)),mP.exports}var gP={exports:{}},Xbt=gP.exports,fue;function Db(){return fue||(fue=1,function(e,t){(function(n,r){e.exports=r(ir())})(Xbt,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[];(function(){for(var m=0;m<64;m++)u[m]=r.abs(r.sin(m+1))*4294967296|0})();var c=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,g){for(var y=0;y<16;y++){var v=g+y,w=m[v];m[v]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var E=this._hash.words,C=m[g+0],S=m[g+1],T=m[g+2],A=m[g+3],I=m[g+4],D=m[g+5],O=m[g+6],M=m[g+7],$=m[g+8],L=m[g+9],z=m[g+10],B=m[g+11],W=m[g+12],V=m[g+13],X=m[g+14],U=m[g+15],F=E[0],G=E[1],q=E[2],Y=E[3];F=d(F,G,q,Y,C,7,u[0]),Y=d(Y,F,G,q,S,12,u[1]),q=d(q,Y,F,G,T,17,u[2]),G=d(G,q,Y,F,A,22,u[3]),F=d(F,G,q,Y,I,7,u[4]),Y=d(Y,F,G,q,D,12,u[5]),q=d(q,Y,F,G,O,17,u[6]),G=d(G,q,Y,F,M,22,u[7]),F=d(F,G,q,Y,$,7,u[8]),Y=d(Y,F,G,q,L,12,u[9]),q=d(q,Y,F,G,z,17,u[10]),G=d(G,q,Y,F,B,22,u[11]),F=d(F,G,q,Y,W,7,u[12]),Y=d(Y,F,G,q,V,12,u[13]),q=d(q,Y,F,G,X,17,u[14]),G=d(G,q,Y,F,U,22,u[15]),F=f(F,G,q,Y,S,5,u[16]),Y=f(Y,F,G,q,O,9,u[17]),q=f(q,Y,F,G,B,14,u[18]),G=f(G,q,Y,F,C,20,u[19]),F=f(F,G,q,Y,D,5,u[20]),Y=f(Y,F,G,q,z,9,u[21]),q=f(q,Y,F,G,U,14,u[22]),G=f(G,q,Y,F,I,20,u[23]),F=f(F,G,q,Y,L,5,u[24]),Y=f(Y,F,G,q,X,9,u[25]),q=f(q,Y,F,G,A,14,u[26]),G=f(G,q,Y,F,$,20,u[27]),F=f(F,G,q,Y,V,5,u[28]),Y=f(Y,F,G,q,T,9,u[29]),q=f(q,Y,F,G,M,14,u[30]),G=f(G,q,Y,F,W,20,u[31]),F=h(F,G,q,Y,D,4,u[32]),Y=h(Y,F,G,q,$,11,u[33]),q=h(q,Y,F,G,B,16,u[34]),G=h(G,q,Y,F,X,23,u[35]),F=h(F,G,q,Y,S,4,u[36]),Y=h(Y,F,G,q,I,11,u[37]),q=h(q,Y,F,G,M,16,u[38]),G=h(G,q,Y,F,z,23,u[39]),F=h(F,G,q,Y,V,4,u[40]),Y=h(Y,F,G,q,C,11,u[41]),q=h(q,Y,F,G,A,16,u[42]),G=h(G,q,Y,F,O,23,u[43]),F=h(F,G,q,Y,L,4,u[44]),Y=h(Y,F,G,q,W,11,u[45]),q=h(q,Y,F,G,U,16,u[46]),G=h(G,q,Y,F,T,23,u[47]),F=p(F,G,q,Y,C,6,u[48]),Y=p(Y,F,G,q,M,10,u[49]),q=p(q,Y,F,G,X,15,u[50]),G=p(G,q,Y,F,D,21,u[51]),F=p(F,G,q,Y,W,6,u[52]),Y=p(Y,F,G,q,A,10,u[53]),q=p(q,Y,F,G,z,15,u[54]),G=p(G,q,Y,F,S,21,u[55]),F=p(F,G,q,Y,$,6,u[56]),Y=p(Y,F,G,q,U,10,u[57]),q=p(q,Y,F,G,O,15,u[58]),G=p(G,q,Y,F,V,21,u[59]),F=p(F,G,q,Y,I,6,u[60]),Y=p(Y,F,G,q,B,10,u[61]),q=p(q,Y,F,G,T,15,u[62]),G=p(G,q,Y,F,L,21,u[63]),E[0]=E[0]+F|0,E[1]=E[1]+G|0,E[2]=E[2]+q|0,E[3]=E[3]+Y|0},_doFinalize:function(){var m=this._data,g=m.words,y=this._nDataBytes*8,v=m.sigBytes*8;g[v>>>5]|=128<<24-v%32;var w=r.floor(y/4294967296),E=y;g[(v+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var C=this._hash,S=C.words,T=0;T<4;T++){var A=S[T];S[T]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return C},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function d(m,g,y,v,w,E,C){var S=m+(g&y|~g&v)+w+C;return(S<<E|S>>>32-E)+g}function f(m,g,y,v,w,E,C){var S=m+(g&v|y&~v)+w+C;return(S<<E|S>>>32-E)+g}function h(m,g,y,v,w,E,C){var S=m+(g^y^v)+w+C;return(S<<E|S>>>32-E)+g}function p(m,g,y,v,w,E,C){var S=m+(y^(g|~v))+w+C;return(S<<E|S>>>32-E)+g}i.MD5=a._createHelper(c),i.HmacMD5=a._createHmacHelper(c)}(Math),n.MD5})}(gP)),gP.exports}var yP={exports:{}},Qbt=yP.exports,hue;function j2e(){return hue||(hue=1,function(e,t){(function(n,r){e.exports=r(ir())})(Qbt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,l=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,d){for(var f=this._hash.words,h=f[0],p=f[1],m=f[2],g=f[3],y=f[4],v=0;v<80;v++){if(v<16)l[v]=c[d+v]|0;else{var w=l[v-3]^l[v-8]^l[v-14]^l[v-16];l[v]=w<<1|w>>>31}var E=(h<<5|h>>>27)+y+l[v];v<20?E+=(p&m|~p&g)+1518500249:v<40?E+=(p^m^g)+1859775393:v<60?E+=(p&m|p&g|m&g)-1894007588:E+=(p^m^g)-899497514,y=g,g=m,m=p<<30|p>>>2,p=h,h=E}f[0]=f[0]+h|0,f[1]=f[1]+p|0,f[2]=f[2]+m|0,f[3]=f[3]+g|0,f[4]=f[4]+y|0},_doFinalize:function(){var c=this._data,d=c.words,f=this._nDataBytes*8,h=c.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(h+64>>>9<<4)+15]=f,c.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var c=o.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u)}(),n.SHA1})}(yP)),yP.exports}var vP={exports:{}},Jbt=vP.exports,pue;function KY(){return pue||(pue=1,function(e,t){(function(n,r){e.exports=r(ir())})(Jbt,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[],c=[];(function(){function h(y){for(var v=r.sqrt(y),w=2;w<=v;w++)if(!(y%w))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var m=2,g=0;g<64;)h(m)&&(g<8&&(u[g]=p(r.pow(m,1/2))),c[g]=p(r.pow(m,1/3)),g++),m++})();var d=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,g=m[0],y=m[1],v=m[2],w=m[3],E=m[4],C=m[5],S=m[6],T=m[7],A=0;A<64;A++){if(A<16)d[A]=h[p+A]|0;else{var I=d[A-15],D=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,O=d[A-2],M=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;d[A]=D+d[A-7]+M+d[A-16]}var $=E&C^~E&S,L=g&y^g&v^y&v,z=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),B=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),W=T+B+$+c[A]+d[A],V=z+L;T=S,S=C,C=E,E=w+W|0,w=v,v=y,y=g,g=W+V|0}m[0]=m[0]+g|0,m[1]=m[1]+y|0,m[2]=m[2]+v|0,m[3]=m[3]+w|0,m[4]=m[4]+E|0,m[5]=m[5]+C|0,m[6]=m[6]+S|0,m[7]=m[7]+T|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,g=h.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=r.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)}(Math),n.SHA256})}(vP)),vP.exports}var bP={exports:{}},Zbt=bP.exports,mue;function e1t(){return mue||(mue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),KY())})(Zbt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(bP)),bP.exports}var wP={exports:{}},t1t=wP.exports,gue;function B2e(){return gue||(gue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),uM())})(t1t,function(n){return function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,l=o.WordArray,u=r.algo;function c(){return a.create.apply(a,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=c()})();var h=u.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var g=this._hash.words,y=g[0],v=g[1],w=g[2],E=g[3],C=g[4],S=g[5],T=g[6],A=g[7],I=y.high,D=y.low,O=v.high,M=v.low,$=w.high,L=w.low,z=E.high,B=E.low,W=C.high,V=C.low,X=S.high,U=S.low,F=T.high,G=T.low,q=A.high,Y=A.low,J=I,te=D,ue=O,se=M,ne=$,fe=L,ee=z,ie=B,he=W,ye=V,Ce=X,Re=U,De=F,be=G,je=q,Qe=Y,it=0;it<80;it++){var Ke,Pe,ze=f[it];if(it<16)Pe=ze.high=p[m+it*2]|0,Ke=ze.low=p[m+it*2+1]|0;else{var ot=f[it-15],xe=ot.high,Te=ot.low,nt=(xe>>>1|Te<<31)^(xe>>>8|Te<<24)^xe>>>7,ht=(Te>>>1|xe<<31)^(Te>>>8|xe<<24)^(Te>>>7|xe<<25),st=f[it-2],Ot=st.high,Qt=st.low,kn=(Ot>>>19|Qt<<13)^(Ot<<3|Qt>>>29)^Ot>>>6,Yn=(Qt>>>19|Ot<<13)^(Qt<<3|Ot>>>29)^(Qt>>>6|Ot<<26),gn=f[it-7],Tn=gn.high,er=gn.low,Nn=f[it-16],Ni=Nn.high,Kn=Nn.low;Ke=ht+er,Pe=nt+Tn+(Ke>>>0<ht>>>0?1:0),Ke=Ke+Yn,Pe=Pe+kn+(Ke>>>0<Yn>>>0?1:0),Ke=Ke+Kn,Pe=Pe+Ni+(Ke>>>0<Kn>>>0?1:0),ze.high=Pe,ze.low=Ke}var Or=he&Ce^~he&De,Vr=ye&Re^~ye&be,Xn=J&ue^J&ne^ue&ne,Gi=te&se^te&fe^se&fe,zo=(J>>>28|te<<4)^(J<<30|te>>>2)^(J<<25|te>>>7),ys=(te>>>28|J<<4)^(te<<30|J>>>2)^(te<<25|J>>>7),tr=(he>>>14|ye<<18)^(he>>>18|ye<<14)^(he<<23|ye>>>9),_t=(ye>>>14|he<<18)^(ye>>>18|he<<14)^(ye<<23|he>>>9),Fr=d[it],hn=Fr.high,sr=Fr.low,En=Qe+_t,Ar=je+tr+(En>>>0<Qe>>>0?1:0),En=En+Vr,Ar=Ar+Or+(En>>>0<Vr>>>0?1:0),En=En+sr,Ar=Ar+hn+(En>>>0<sr>>>0?1:0),En=En+Ke,Ar=Ar+Pe+(En>>>0<Ke>>>0?1:0),Jr=ys+Gi,_i=zo+Xn+(Jr>>>0<ys>>>0?1:0);je=De,Qe=be,De=Ce,be=Re,Ce=he,Re=ye,ye=ie+En|0,he=ee+Ar+(ye>>>0<ie>>>0?1:0)|0,ee=ne,ie=fe,ne=ue,fe=se,ue=J,se=te,te=En+Jr|0,J=Ar+_i+(te>>>0<En>>>0?1:0)|0}D=y.low=D+te,y.high=I+J+(D>>>0<te>>>0?1:0),M=v.low=M+se,v.high=O+ue+(M>>>0<se>>>0?1:0),L=w.low=L+fe,w.high=$+ne+(L>>>0<fe>>>0?1:0),B=E.low=B+ie,E.high=z+ee+(B>>>0<ie>>>0?1:0),V=C.low=V+ye,C.high=W+he+(V>>>0<ye>>>0?1:0),U=S.low=U+Re,S.high=X+Ce+(U>>>0<Re>>>0?1:0),G=T.low=G+be,T.high=F+De+(G>>>0<be>>>0?1:0),Y=A.low=Y+Qe,A.high=q+je+(Y>>>0<Qe>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,g=this._nDataBytes*8,y=p.sigBytes*8;m[y>>>5]|=128<<24-y%32,m[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(y+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=s._createHelper(h),r.HmacSHA512=s._createHmacHelper(h)}(),n.SHA512})}(wP)),wP.exports}var xP={exports:{}},n1t=xP.exports,yue;function r1t(){return yue||(yue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),uM(),B2e())})(n1t,function(n){return function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,l=a.SHA512,u=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});r.SHA384=l._createHelper(u),r.HmacSHA384=l._createHmacHelper(u)}(),n.SHA384})}(xP)),xP.exports}var _P={exports:{}},i1t=_P.exports,vue;function s1t(){return vue||(vue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),uM())})(i1t,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.x64,u=l.Word,c=i.algo,d=[],f=[],h=[];(function(){for(var g=1,y=0,v=0;v<24;v++){d[g+5*y]=(v+1)*(v+2)/2%64;var w=y%5,E=(2*g+3*y)%5;g=w,y=E}for(var g=0;g<5;g++)for(var y=0;y<5;y++)f[g+5*y]=y+(2*g+3*y)%5*5;for(var C=1,S=0;S<24;S++){for(var T=0,A=0,I=0;I<7;I++){if(C&1){var D=(1<<I)-1;D<32?A^=1<<D:T^=1<<D-32}C&128?C=C<<1^113:C<<=1}h[S]=u.create(T,A)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=u.create()})();var m=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,y){for(var v=this._state,w=this.blockSize/2,E=0;E<w;E++){var C=g[y+2*E],S=g[y+2*E+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var T=v[E];T.high^=S,T.low^=C}for(var A=0;A<24;A++){for(var I=0;I<5;I++){for(var D=0,O=0,M=0;M<5;M++){var T=v[I+5*M];D^=T.high,O^=T.low}var $=p[I];$.high=D,$.low=O}for(var I=0;I<5;I++)for(var L=p[(I+4)%5],z=p[(I+1)%5],B=z.high,W=z.low,D=L.high^(B<<1|W>>>31),O=L.low^(W<<1|B>>>31),M=0;M<5;M++){var T=v[I+5*M];T.high^=D,T.low^=O}for(var V=1;V<25;V++){var D,O,T=v[V],X=T.high,U=T.low,F=d[V];F<32?(D=X<<F|U>>>32-F,O=U<<F|X>>>32-F):(D=U<<F-32|X>>>64-F,O=X<<F-32|U>>>64-F);var G=p[f[V]];G.high=D,G.low=O}var q=p[0],Y=v[0];q.high=Y.high,q.low=Y.low;for(var I=0;I<5;I++)for(var M=0;M<5;M++){var V=I+5*M,T=v[V],J=p[V],te=p[(I+1)%5+5*M],ue=p[(I+2)%5+5*M];T.high=J.high^~te.high&ue.high,T.low=J.low^~te.low&ue.low}var T=v[0],se=h[A];T.high^=se.high,T.low^=se.low}},_doFinalize:function(){var g=this._data,y=g.words;this._nDataBytes*8;var v=g.sigBytes*8,w=this.blockSize*32;y[v>>>5]|=1<<24-v%32,y[(r.ceil((v+1)/w)*w>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var E=this._state,C=this.cfg.outputLength/8,S=C/8,T=[],A=0;A<S;A++){var I=E[A],D=I.high,O=I.low;D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,T.push(O),T.push(D)}return new o.init(T,C)},clone:function(){for(var g=a.clone.call(this),y=g._state=this._state.slice(0),v=0;v<25;v++)y[v]=y[v].clone();return g}});i.SHA3=a._createHelper(m),i.HmacSHA3=a._createHmacHelper(m)}(Math),n.SHA3})}(_P)),_P.exports}var EP={exports:{}},o1t=EP.exports,bue;function a1t(){return bue||(bue=1,function(e,t){(function(n,r){e.exports=r(ir())})(o1t,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,T){for(var A=0;A<16;A++){var I=T+A,D=S[I];S[I]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var O=this._hash.words,M=h.words,$=p.words,L=u.words,z=c.words,B=d.words,W=f.words,V,X,U,F,G,q,Y,J,te,ue;q=V=O[0],Y=X=O[1],J=U=O[2],te=F=O[3],ue=G=O[4];for(var se,A=0;A<80;A+=1)se=V+S[T+L[A]]|0,A<16?se+=g(X,U,F)+M[0]:A<32?se+=y(X,U,F)+M[1]:A<48?se+=v(X,U,F)+M[2]:A<64?se+=w(X,U,F)+M[3]:se+=E(X,U,F)+M[4],se=se|0,se=C(se,B[A]),se=se+G|0,V=G,G=F,F=C(U,10),U=X,X=se,se=q+S[T+z[A]]|0,A<16?se+=E(Y,J,te)+$[0]:A<32?se+=w(Y,J,te)+$[1]:A<48?se+=v(Y,J,te)+$[2]:A<64?se+=y(Y,J,te)+$[3]:se+=g(Y,J,te)+$[4],se=se|0,se=C(se,W[A]),se=se+ue|0,q=ue,ue=te,te=C(J,10),J=Y,Y=se;se=O[1]+U+te|0,O[1]=O[2]+F+ue|0,O[2]=O[3]+G+q|0,O[3]=O[4]+V+Y|0,O[4]=O[0]+X+J|0,O[0]=se},_doFinalize:function(){var S=this._data,T=S.words,A=this._nDataBytes*8,I=S.sigBytes*8;T[I>>>5]|=128<<24-I%32,T[(I+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,S.sigBytes=(T.length+1)*4,this._process();for(var D=this._hash,O=D.words,M=0;M<5;M++){var $=O[M];O[M]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}return D},clone:function(){var S=a.clone.call(this);return S._hash=this._hash.clone(),S}});function g(S,T,A){return S^T^A}function y(S,T,A){return S&T|~S&A}function v(S,T,A){return(S|~T)^A}function w(S,T,A){return S&A|T&~A}function E(S,T,A){return S^(T|~A)}function C(S,T){return S<<T|S>>>32-T}i.RIPEMD160=a._createHelper(m),i.HmacRIPEMD160=a._createHmacHelper(m)}(),n.RIPEMD160})}(EP)),EP.exports}var CP={exports:{}},l1t=CP.exports,wue;function XY(){return wue||(wue=1,function(e,t){(function(n,r){e.exports=r(ir())})(l1t,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,l=r.algo;l.HMAC=s.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=a.parse(c));var d=u.blockSize,f=d*4;c.sigBytes>f&&(c=u.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),p=this._iKey=c.clone(),m=h.words,g=p.words,y=0;y<d;y++)m[y]^=1549556828,g[y]^=909522486;h.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,d=c.finalize(u);c.reset();var f=c.finalize(this._oKey.clone().concat(d));return f}})})()})}(CP)),CP.exports}var SP={exports:{}},u1t=SP.exports,xue;function c1t(){return xue||(xue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),KY(),XY())})(u1t,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.SHA256,u=a.HMAC,c=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var h=this.cfg,p=u.create(h.hasher,d),m=o.create(),g=o.create([1]),y=m.words,v=g.words,w=h.keySize,E=h.iterations;y.length<w;){var C=p.update(f).finalize(g);p.reset();for(var S=C.words,T=S.length,A=C,I=1;I<E;I++){A=p.finalize(A),p.reset();for(var D=A.words,O=0;O<T;O++)S[O]^=D[O]}m.concat(C),v[0]++}return m.sigBytes=w*4,m}});r.PBKDF2=function(d,f,h){return c.create(h).compute(d,f)}}(),n.PBKDF2})}(SP)),SP.exports}var TP={exports:{}},d1t=TP.exports,_ue;function Ag(){return _ue||(_ue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),j2e(),XY())})(d1t,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.MD5,u=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var f,h=this.cfg,p=h.hasher.create(),m=o.create(),g=m.words,y=h.keySize,v=h.iterations;g.length<y;){f&&p.update(f),f=p.update(c).finalize(d),p.reset();for(var w=1;w<v;w++)f=p.finalize(f),p.reset();m.concat(f)}return m.sigBytes=y*4,m}});r.EvpKDF=function(c,d,f){return u.create(f).compute(c,d)}}(),n.EvpKDF})}(TP)),TP.exports}var AP={exports:{}},f1t=AP.exports,Eue;function co(){return Eue||(Eue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),Ag())})(f1t,function(n){n.lib.Cipher||function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,d=i.algo,f=d.EvpKDF,h=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(D,O){return this.create(this._ENC_XFORM_MODE,D,O)},createDecryptor:function(D,O){return this.create(this._DEC_XFORM_MODE,D,O)},init:function(D,O,M){this.cfg=this.cfg.extend(M),this._xformMode=D,this._key=O,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){D&&this._append(D);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function D(O){return typeof O=="string"?I:S}return function(O){return{encrypt:function(M,$,L){return D($).encrypt(O,M,$,L)},decrypt:function(M,$,L){return D($).decrypt(O,M,$,L)}}}}()});s.StreamCipher=h.extend({_doFinalize:function(){var D=this._process(!0);return D},blockSize:1});var p=i.mode={},m=s.BlockCipherMode=o.extend({createEncryptor:function(D,O){return this.Encryptor.create(D,O)},createDecryptor:function(D,O){return this.Decryptor.create(D,O)},init:function(D,O){this._cipher=D,this._iv=O}}),g=p.CBC=function(){var D=m.extend();D.Encryptor=D.extend({processBlock:function(M,$){var L=this._cipher,z=L.blockSize;O.call(this,M,$,z),L.encryptBlock(M,$),this._prevBlock=M.slice($,$+z)}}),D.Decryptor=D.extend({processBlock:function(M,$){var L=this._cipher,z=L.blockSize,B=M.slice($,$+z);L.decryptBlock(M,$),O.call(this,M,$,z),this._prevBlock=B}});function O(M,$,L){var z,B=this._iv;B?(z=B,this._iv=r):z=this._prevBlock;for(var W=0;W<L;W++)M[$+W]^=z[W]}return D}(),y=i.pad={},v=y.Pkcs7={pad:function(D,O){for(var M=O*4,$=M-D.sigBytes%M,L=$<<24|$<<16|$<<8|$,z=[],B=0;B<$;B+=4)z.push(L);var W=a.create(z,$);D.concat(W)},unpad:function(D){var O=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=O}};s.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:v}),reset:function(){var D;h.reset.call(this);var O=this.cfg,M=O.iv,$=O.mode;this._xformMode==this._ENC_XFORM_MODE?D=$.createEncryptor:(D=$.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,M&&M.words):(this._mode=D.call($,this,M&&M.words),this._mode.__creator=D)},_doProcessBlock:function(D,O){this._mode.processBlock(D,O)},_doFinalize:function(){var D,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),O.unpad(D)),D},blockSize:128/32});var w=s.CipherParams=o.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),E=i.format={},C=E.OpenSSL={stringify:function(D){var O,M=D.ciphertext,$=D.salt;return $?O=a.create([1398893684,1701076831]).concat($).concat(M):O=M,O.toString(c)},parse:function(D){var O,M=c.parse(D),$=M.words;return $[0]==1398893684&&$[1]==1701076831&&(O=a.create($.slice(2,4)),$.splice(0,4),M.sigBytes-=16),w.create({ciphertext:M,salt:O})}},S=s.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(D,O,M,$){$=this.cfg.extend($);var L=D.createEncryptor(M,$),z=L.finalize(O),B=L.cfg;return w.create({ciphertext:z,key:M,iv:B.iv,algorithm:D,mode:B.mode,padding:B.padding,blockSize:D.blockSize,formatter:$.format})},decrypt:function(D,O,M,$){$=this.cfg.extend($),O=this._parse(O,$.format);var L=D.createDecryptor(M,$).finalize(O.ciphertext);return L},_parse:function(D,O){return typeof D=="string"?O.parse(D,this):D}}),T=i.kdf={},A=T.OpenSSL={execute:function(D,O,M,$,L){if($||($=a.random(64/8)),L)var z=f.create({keySize:O+M,hasher:L}).compute(D,$);else var z=f.create({keySize:O+M}).compute(D,$);var B=a.create(z.words.slice(O),M*4);return z.sigBytes=O*4,w.create({key:z,iv:B,salt:$})}},I=s.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:A}),encrypt:function(D,O,M,$){$=this.cfg.extend($);var L=$.kdf.execute(M,D.keySize,D.ivSize,$.salt,$.hasher);$.iv=L.iv;var z=S.encrypt.call(this,D,O,L.key,$);return z.mixIn(L),z},decrypt:function(D,O,M,$){$=this.cfg.extend($),O=this._parse(O,$.format);var L=$.kdf.execute(M,D.keySize,D.ivSize,O.salt,$.hasher);$.iv=L.iv;var z=S.decrypt.call(this,D,O,L.key,$);return z}})}()})}(AP)),AP.exports}var kP={exports:{}},h1t=kP.exports,Cue;function p1t(){return Cue||(Cue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(h1t,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;i.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=s.slice(o,o+l);i.call(this,s,o,l,a),this._prevBlock=u}});function i(s,o,a,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var d=0;d<a;d++)s[o+d]^=u[d]}return r}(),n.mode.CFB})}(kP)),kP.exports}var IP={exports:{}},m1t=IP.exports,Sue;function g1t(){return Sue||(Sue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(m1t,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var d=c.slice(0);a.encryptBlock(d,0),c[l-1]=c[l-1]+1|0;for(var f=0;f<l;f++)s[o+f]^=d[f]}});return r.Decryptor=i,r}(),n.mode.CTR})}(IP)),IP.exports}var RP={exports:{}},y1t=RP.exports,Tue;function v1t(){return Tue||(Tue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(y1t,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,u=a>>8&255,c=a&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,a=0,a+=l<<16,a+=u<<8,a+=c}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,l){var u=this._cipher,c=u.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),s(f);var h=f.slice(0);u.encryptBlock(h,0);for(var p=0;p<c;p++)a[l+p]^=h[p]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(RP)),RP.exports}var DP={exports:{}},b1t=DP.exports,Aue;function w1t(){return Aue||(Aue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(b1t,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var d=0;d<l;d++)s[o+d]^=c[d]}});return r.Decryptor=i,r}(),n.mode.OFB})}(DP)),DP.exports}var PP={exports:{}},x1t=PP.exports,kue;function _1t(){return kue||(kue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(x1t,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r}(),n.mode.ECB})}(PP)),PP.exports}var OP={exports:{}},E1t=OP.exports,Iue;function C1t(){return Iue||(Iue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(E1t,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,l=s+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(OP)),OP.exports}var NP={exports:{}},S1t=NP.exports,Rue;function T1t(){return Rue||(Rue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(S1t,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(NP)),NP.exports}var $P={exports:{}},A1t=$P.exports,Due;function k1t(){return Due||(Due=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(A1t,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}($P)),$P.exports}var MP={exports:{}},I1t=MP.exports,Pue;function R1t(){return Pue||(Pue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(I1t,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})}(MP)),MP.exports}var FP={exports:{}},D1t=FP.exports,Oue;function P1t(){return Oue||(Oue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(D1t,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(FP)),FP.exports}var LP={exports:{}},O1t=LP.exports,Nue;function N1t(){return Nue||(Nue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),co())})(O1t,function(n){return function(r){var i=n,s=i.lib,o=s.CipherParams,a=i.enc,l=a.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var d=l.parse(c);return o.create({ciphertext:d})}}}(),n.format.Hex})}(LP)),LP.exports}var jP={exports:{}},$1t=jP.exports,$ue;function M1t(){return $ue||($ue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),Rb(),Db(),Ag(),co())})($1t,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],l=[],u=[],c=[],d=[],f=[],h=[],p=[],m=[],g=[];(function(){for(var w=[],E=0;E<256;E++)E<128?w[E]=E<<1:w[E]=E<<1^283;for(var C=0,S=0,E=0;E<256;E++){var T=S^S<<1^S<<2^S<<3^S<<4;T=T>>>8^T&255^99,a[C]=T,l[T]=C;var A=w[C],I=w[A],D=w[I],O=w[T]*257^T*16843008;u[C]=O<<24|O>>>8,c[C]=O<<16|O>>>16,d[C]=O<<8|O>>>24,f[C]=O;var O=D*16843009^I*65537^A*257^C*16843008;h[T]=O<<24|O>>>8,p[T]=O<<16|O>>>16,m[T]=O<<8|O>>>24,g[T]=O,C?(C=A^w[w[w[D^A]]],S^=w[w[S]]):C=S=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=s.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,C=E.words,S=E.sigBytes/4,T=this._nRounds=S+6,A=(T+1)*4,I=this._keySchedule=[],D=0;D<A;D++)D<S?I[D]=C[D]:(w=I[D-1],D%S?S>6&&D%S==4&&(w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255]):(w=w<<8|w>>>24,w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255],w^=y[D/S|0]<<24),I[D]=I[D-S]^w);for(var O=this._invKeySchedule=[],M=0;M<A;M++){var D=A-M;if(M%4)var w=I[D];else var w=I[D-4];M<4||D<=4?O[M]=w:O[M]=h[a[w>>>24]]^p[a[w>>>16&255]]^m[a[w>>>8&255]]^g[a[w&255]]}}},encryptBlock:function(w,E){this._doCryptBlock(w,E,this._keySchedule,u,c,d,f,a)},decryptBlock:function(w,E){var C=w[E+1];w[E+1]=w[E+3],w[E+3]=C,this._doCryptBlock(w,E,this._invKeySchedule,h,p,m,g,l);var C=w[E+1];w[E+1]=w[E+3],w[E+3]=C},_doCryptBlock:function(w,E,C,S,T,A,I,D){for(var O=this._nRounds,M=w[E]^C[0],$=w[E+1]^C[1],L=w[E+2]^C[2],z=w[E+3]^C[3],B=4,W=1;W<O;W++){var V=S[M>>>24]^T[$>>>16&255]^A[L>>>8&255]^I[z&255]^C[B++],X=S[$>>>24]^T[L>>>16&255]^A[z>>>8&255]^I[M&255]^C[B++],U=S[L>>>24]^T[z>>>16&255]^A[M>>>8&255]^I[$&255]^C[B++],F=S[z>>>24]^T[M>>>16&255]^A[$>>>8&255]^I[L&255]^C[B++];M=V,$=X,L=U,z=F}var V=(D[M>>>24]<<24|D[$>>>16&255]<<16|D[L>>>8&255]<<8|D[z&255])^C[B++],X=(D[$>>>24]<<24|D[L>>>16&255]<<16|D[z>>>8&255]<<8|D[M&255])^C[B++],U=(D[L>>>24]<<24|D[z>>>16&255]<<16|D[M>>>8&255]<<8|D[$&255])^C[B++],F=(D[z>>>24]<<24|D[M>>>16&255]<<16|D[$>>>8&255]<<8|D[L&255])^C[B++];w[E]=V,w[E+1]=X,w[E+2]=U,w[E+3]=F},keySize:256/32});r.AES=s._createHelper(v)}(),n.AES})}(jP)),jP.exports}var BP={exports:{}},F1t=BP.exports,Mue;function L1t(){return Mue||(Mue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),Rb(),Db(),Ag(),co())})(F1t,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=o.extend({_doReset:function(){for(var y=this._key,v=y.words,w=[],E=0;E<56;E++){var C=l[E]-1;w[E]=v[C>>>5]>>>31-C%32&1}for(var S=this._subKeys=[],T=0;T<16;T++){for(var A=S[T]=[],I=c[T],E=0;E<24;E++)A[E/6|0]|=w[(u[E]-1+I)%28]<<31-E%6,A[4+(E/6|0)]|=w[28+(u[E+24]-1+I)%28]<<31-E%6;A[0]=A[0]<<1|A[0]>>>31;for(var E=1;E<7;E++)A[E]=A[E]>>>(E-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var D=this._invSubKeys=[],E=0;E<16;E++)D[E]=S[15-E]},encryptBlock:function(y,v){this._doCryptBlock(y,v,this._subKeys)},decryptBlock:function(y,v){this._doCryptBlock(y,v,this._invSubKeys)},_doCryptBlock:function(y,v,w){this._lBlock=y[v],this._rBlock=y[v+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var E=0;E<16;E++){for(var C=w[E],S=this._lBlock,T=this._rBlock,A=0,I=0;I<8;I++)A|=d[I][((T^C[I])&f[I])>>>0];this._lBlock=T,this._rBlock=S^A}var D=this._lBlock;this._lBlock=this._rBlock,this._rBlock=D,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[v]=this._lBlock,y[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,v){var w=(this._lBlock>>>y^this._rBlock)&v;this._rBlock^=w,this._lBlock^=w<<y}function m(y,v){var w=(this._rBlock>>>y^this._lBlock)&v;this._lBlock^=w,this._rBlock^=w<<y}r.DES=o._createHelper(h);var g=a.TripleDES=o.extend({_doReset:function(){var y=this._key,v=y.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=v.slice(0,2),E=v.length<4?v.slice(0,2):v.slice(2,4),C=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=h.createEncryptor(s.create(w)),this._des2=h.createEncryptor(s.create(E)),this._des3=h.createEncryptor(s.create(C))},encryptBlock:function(y,v){this._des1.encryptBlock(y,v),this._des2.decryptBlock(y,v),this._des3.encryptBlock(y,v)},decryptBlock:function(y,v){this._des3.decryptBlock(y,v),this._des2.encryptBlock(y,v),this._des1.decryptBlock(y,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(g)}(),n.TripleDES})}(BP)),BP.exports}var zP={exports:{}},j1t=zP.exports,Fue;function B1t(){return Fue||(Fue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),Rb(),Db(),Ag(),co())})(j1t,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var c=this._key,d=c.words,f=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var g=p%f,y=d[g>>>2]>>>24-g%4*8&255;m=(m+h[p]+y)%256;var v=h[p];h[p]=h[m],h[m]=v}this._i=this._j=0},_doProcessBlock:function(c,d){c[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,d=this._i,f=this._j,h=0,p=0;p<4;p++){d=(d+1)%256,f=(f+c[d])%256;var m=c[d];c[d]=c[f],c[f]=m,h|=c[(c[d]+c[f])%256]<<24-p*8}return this._i=d,this._j=f,h}r.RC4=s._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});r.RC4Drop=s._createHelper(u)}(),n.RC4})}(zP)),zP.exports}var UP={exports:{}},z1t=UP.exports,Lue;function U1t(){return Lue||(Lue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),Rb(),Db(),Ag(),co())})(z1t,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],u=[],c=o.Rabbit=s.extend({_doReset:function(){for(var f=this._key.words,h=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(h){var y=h.words,v=y[0],w=y[1],E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=E>>>16|C&4294901760,T=C<<16|E&65535;g[0]^=E,g[1]^=S,g[2]^=C,g[3]^=T,g[4]^=E,g[5]^=S,g[6]^=C,g[7]^=T;for(var p=0;p<4;p++)d.call(this)}},_doProcessBlock:function(f,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+h[p],g=m&65535,y=m>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,w=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=v^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=s._createHelper(c)}(),n.Rabbit})}(UP)),UP.exports}var HP={exports:{}},H1t=HP.exports,jue;function q1t(){return jue||(jue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),Rb(),Db(),Ag(),co())})(H1t,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],u=[],c=o.RabbitLegacy=s.extend({_doReset:function(){var f=this._key.words,h=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],m=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(h){var y=h.words,v=y[0],w=y[1],E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=E>>>16|C&4294901760,T=C<<16|E&65535;m[0]^=E,m[1]^=S,m[2]^=C,m[3]^=T,m[4]^=E,m[5]^=S,m[6]^=C,m[7]^=T;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(f,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+h[p],g=m&65535,y=m>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,w=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=v^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=s._createHelper(c)}(),n.RabbitLegacy})}(HP)),HP.exports}var qP={exports:{}},V1t=qP.exports,Bue;function W1t(){return Bue||(Bue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),Rb(),Db(),Ag(),co())})(V1t,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function d(g,y){let v=y>>24&255,w=y>>16&255,E=y>>8&255,C=y&255,S=g.sbox[0][v]+g.sbox[1][w];return S=S^g.sbox[2][E],S=S+g.sbox[3][C],S}function f(g,y,v){let w=y,E=v,C;for(let S=0;S<a;++S)w=w^g.pbox[S],E=d(g,w)^E,C=w,w=E,E=C;return C=w,w=E,E=C,E=E^g.pbox[a],w=w^g.pbox[a+1],{left:w,right:E}}function h(g,y,v){let w=y,E=v,C;for(let S=a+1;S>1;--S)w=w^g.pbox[S],E=d(g,w)^E,C=w,w=E,E=C;return C=w,w=E,E=C,E=E^g.pbox[1],w=w^g.pbox[0],{left:w,right:E}}function p(g,y,v){for(let T=0;T<4;T++){g.sbox[T]=[];for(let A=0;A<256;A++)g.sbox[T][A]=u[T][A]}let w=0;for(let T=0;T<a+2;T++)g.pbox[T]=l[T]^y[w],w++,w>=v&&(w=0);let E=0,C=0,S=0;for(let T=0;T<a+2;T+=2)S=f(g,E,C),E=S.left,C=S.right,g.pbox[T]=E,g.pbox[T+1]=C;for(let T=0;T<4;T++)for(let A=0;A<256;A+=2)S=f(g,E,C),E=S.left,C=S.right,g.sbox[T][A]=E,g.sbox[T][A+1]=C;return!0}var m=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,v=g.sigBytes/4;p(c,y,v)}},encryptBlock:function(g,y){var v=f(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},decryptBlock:function(g,y){var v=h(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(m)}(),n.Blowfish})}(qP)),qP.exports}var G1t=uP.exports,zue;function Y1t(){return zue||(zue=1,function(e,t){(function(n,r,i){e.exports=r(ir(),uM(),qbt(),Wbt(),Rb(),Kbt(),Db(),j2e(),KY(),e1t(),B2e(),r1t(),s1t(),a1t(),XY(),c1t(),Ag(),co(),p1t(),g1t(),v1t(),w1t(),_1t(),C1t(),T1t(),k1t(),R1t(),P1t(),N1t(),M1t(),L1t(),B1t(),U1t(),q1t(),W1t())})(G1t,function(n){return n})}(uP)),uP.exports}var Zw=Y1t();const z2e=Zw.enc.Hex.parse("000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f");function Zr(e){const t=Zw.AES.encrypt(e.toString(),z2e,{mode:Zw.mode.ECB}).toString();return btoa(t)}function Cl(e){const t=Zw.AES.decrypt(atob(e),z2e,{mode:Zw.mode.ECB}).toString(Zw.enc.Utf8);return parseInt(t,10)}function xu(){return rr(e=>e.config)}function gh(){const{studyId:e}=ha();return`${e}`}function Xa(){const{index:e}=ha();return e===void 0?0:e.startsWith("reviewer-")||e.startsWith("__")?e:Cl(e)}const Uue=Object.assign({"../public/libraries/mic-check/assets/AudioTest.tsx":Qxe,"../public/libraries/test/assets/test.tsx":Jxe,"../public/matrices/Stimuli.tsx":g2e,"../public/matrices/components/Background.tsx":ISe,"../public/matrices/components/ControlPanel.tsx":h2e,"../public/matrices/components/EncodedCells.tsx":LSe,"../public/matrices/components/Highlighting.tsx":PSe,"../public/matrices/components/InteractionButtons.tsx":d2e,"../public/matrices/components/Legend.tsx":MSe,"../public/matrices/components/Marks.tsx":HSe,"../public/matrices/components/Matrix.tsx":m2e,"../public/matrices/components/Tooltip.tsx":BSe,"../public/matrices/components/axis/DestinationAxis.tsx":ASe,"../public/matrices/components/axis/OriginAxis.tsx":SSe,"../public/matrices/hooks/useCellScales.tsx":YSe,"../public/matrices/hooks/useConfig.tsx":u2e,"../public/matrices/hooks/useOrdering.tsx":s2e,"../public/matrices/hooks/useRenderEncodeCells.tsx":WSe,"../public/matrices/hooks/useReplay.tsx":a2e,"../public/matrices/utils/Accessors.tsx":OSe,"../public/matrices/utils/Constants.ts":RSe,"../public/matrices/utils/Enums.ts":NSe,"../public/matrices/utils/Interfaces.tsx":y2e,"../public/matrices/utils/MatrixContext.tsx":_Se});function Bd(){const{funcIndex:e}=ha(),t=rr(m=>m.answers),n=xu(),r=Xa(),i=Ib(),s=Ya(),o=gh(),a=Ms(),{pushToFuncSequence:l}=ps(),[u,c]=R.useState(null),d=R.useMemo(()=>typeof r=="number"?nue(i[r],n):r.includes("reviewer-")||r.startsWith("__")?r:null,[r,i,n]),[f,h]=R.useState("__dynamicLoading"),p=R.useMemo(()=>{if(typeof r=="number"&&!d){const m=nU(i[r],n.sequence);if(!m)return null;const g=`../public/${m.functionPath}`;return g in Uue?Uue[g].default:null}return null},[d,r,i,n.sequence]);return R.useEffect(()=>{!e&&p&&typeof r=="number"&&s(`/${o}/${Zr(r)}/${Zr(0)}${window.location.search}`)},[r,e,s,p,o]),R.useEffect(()=>{var m;if(typeof r=="number"){const g=nue(i[r],n),y=i[r],v=e?Cl(e):0,w=Object.entries(t).find(([C,S])=>C.startsWith(`${y}_${r}_`)&&C.endsWith(`${v}`)),E=w?w[1].componentName:null;if(E!==null){h(E),c(v);return}if(!g&&p!==null){const{component:C,parameters:S,correctAnswer:T}=p({answers:t,customParameters:(m=nU(i[r],n.sequence))==null?void 0:m.parameters,currentStep:r,currentBlock:i[r]});C!==null?e&&(h(C),c(v),a(l({component:C,funcName:y,index:r,funcIndex:v,parameters:S||void 0,correctAnswer:T||void 0}))):(h("__dynamicLoading"),c(null),s(`/${o}/${Zr(r+1)}${window.location.search}`))}}},[r,e]),typeof r=="number"&&i[r]==="end"?"end":d?typeof r=="number"?i[r]:r.replace("reviewer-",""):u!==null&&e&&Cl(e)===u?f:"__dynamicLoading"}function Pb(){const e=Xa(),t=Ib(),n=Bd(),{funcIndex:r}=ha();return R.useMemo(()=>r&&typeof e=="number"?`${t[e]}_${e}_${n}_${Cl(r)}`:`${n}_${e}`,[n,e,r,t])}function kg(){const{funcIndex:e}=ha(),t=Ib(),n=Xa(),r=Bd(),i=e&&typeof n=="number"?`${t[n]}_${n}_${r}_${Cl(e)}`:`${r}_${n}`;return rr(o=>o.answers[i])}const U2e=R.createContext(null);function K1t(){const e=R.useContext(U2e);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Ig(){const[e]=ch();return!!e.get("participantId")}function Hue(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),s=Object.entries(r.components).find(([a])=>a===i),o=s?s[1]:null;if(!o)throw new Error(`Component ${i} could not be found in the study components.`);return o.correctAnswer?o.correctAnswer.every(a=>e[a.id]===a.answer):!0}function X1t(e,t){return t.every(n=>e[n.id]===n.answer)}function Q1t(){const e=Xa(),t=Ib(),n=rr(I=>I.trialValidation),r=rr(I=>I.sequence),i=rr(I=>I.answers),s=rr(I=>I.modes),o=xu(),{funcIndex:a}=ha(),l=Pb(),u=Ms(),{saveTrialAnswer:c,setReactiveAnswers:d,setMatrixAnswersRadio:f,setMatrixAnswersCheckbox:h}=ps(),{storageEngine:p}=Wi(),m=gh(),g=R.useMemo(()=>s.dataCollectionEnabled,[s]),y=Fbt(l),v=Ig(),w=typeof e!="number"||v||!y,E=kg(),C=Ya(),S=R.useMemo(()=>Date.now(),[a,e]),T=K1t(),A=R.useCallback((I=!0)=>{if(typeof e!="number")return;const D=structuredClone(n[l]),O=Object.values(D).reduce((U,F)=>Object.hasOwn(F,"values")?{...U,...F.values}:U,{}),{provenanceGraph:M}=D,$=Date.now(),{componentName:L}=E,z=T&&"current"in T&&T.current?T.current.splice(0,T.current.length):[];if(g){const U={...E,answer:I?O:{},startTime:S,endTime:$,provenanceGraph:M,windowEvents:z,timedOut:!I};u(c({identifier:l,...U})),p&&p.saveAnswers({...i,[l]:U}),u(d({})),u(h(null)),u(f(null))}let B=e+1;const W=N2e(r,e),V=W!==null&&W.some(U=>Object.hasOwn(U.currentBlock,"skip")&&U.currentBlock.skip!==void 0),X={...i,[l]:{answer:O,startTime:S,endTime:$,provenanceGraph:M,windowEvents:z}};V&&[...W.flatMap(F=>F.currentBlock.skip?F.currentBlock.skip.map(G=>({...G,firstIndex:F.firstIndex,lastIndex:F.lastIndex})):[])].some(F=>{let G=!1;const q=Object.fromEntries(Object.entries(X).filter(([J])=>{const te=parseInt(J.slice(J.lastIndexOf("_")+1),10);return te>=F.firstIndex&&te<=e})),Y=F.check!=="block"?Object.entries(q).filter(([J])=>J.slice(0,J.lastIndexOf("_"))===F.name):Object.entries(q);if(Y.length===0)return!1;if(Y.some(([J,te])=>!te))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(F,null,2)}`);if(F.check==="response"||F.check==="responses"){const[J,te]=Y[0];F.check==="response"?G=F.comparison==="equal"?F.value===te.answer[F.responseId]:F.value!==te.answer[F.responseId]:G=!Hue(te.answer,J,o.components[J.slice(0,J.lastIndexOf("_"))],o)}else if(F.check==="block"||F.check==="repeatedComponent"){if(Y.length<F.value)return!1;const J=Y.map(([se,ne])=>Hue(ne.answer,se,o.components[L.slice(0,L.lastIndexOf("_"))],o)),te=J.filter(se=>se).length,ue=J.length-te;G=F.condition==="numCorrect"&&te===F.value||F.condition==="numIncorrect"&&ue===F.value}if(G){const J=t.indexOf(F.to),te=J===-1?Obt(r,F.to):-1;return B=J===-1?te:J,!0}return!1}),C(a?`/${m}/${Zr(e)}/${Zr(Cl(a)+1)}${window.location.search}`:`/${m}/${Zr(B)}${window.location.search}`)},[e,n,l,E,T,g,r,i,S,a,C,m,u,c,p,d,h,f,o,t]);return{isNextDisabled:w,goToNextStep:A}}function J1t(){const e=Xa(),{funcIndex:t}=ha(),n=gh(),r=Ya(),i=Ig(),s=xu(),o=Ms(),{deleteDynamicBlockAnswers:a}=ps(),l=rr(d=>d.answers),u=typeof e!="number"||i||e<=0,c=R.useCallback(()=>{if(typeof e!="number")return;const d=e-1,f=_d(s.sequence);if(t&&(o(a({currentStep:e,funcIndex:Cl(t),funcName:f[e]})),Cl(t)!==0)){r(`/${n}/${Zr(e)}/${Zr(Cl(t)-1)}${window.location.search}`);return}const h=f[d];if(nU(h,s.sequence)){const g=Object.keys(l).filter(y=>y.startsWith(`${h}_${d}_`)).length-1;r(`/${n}/${Zr(d)}/${Zr(g)}${window.location.search}`)}else r(`/${n}/${Zr(d)}${window.location.search}`)},[e,t,r,n,s,o,a,l]);return{isPreviousDisabled:u,goToPreviousStep:c}}function Z1t({label:e="Previous",px:t}){const{isPreviousDisabled:n,goToPreviousStep:r}=J1t(),i=R.useCallback(()=>{r()},[r]);return _.jsx(qt,{type:"submit",disabled:n,onClick:i,px:t,children:e})}function ewt({label:e="Next",disabled:t=!1,configInUse:n,location:r,checkAnswer:i}){const{isNextDisabled:s,goToNextStep:o}=Q1t(),a=xu(),l=Ya(),u=R.useMemo(()=>(n==null?void 0:n.nextButtonDisableTime)??a.uiConfig.nextButtonDisableTime,[n,a]),c=R.useMemo(()=>(n==null?void 0:n.nextButtonEnableTime)??a.uiConfig.nextButtonEnableTime??0,[n,a]),[d,f]=R.useState(void 0);R.useEffect(()=>{let y=0;const v=setInterval(()=>{y+=100,f(y)},100);return()=>{clearInterval(v)}},[]),R.useEffect(()=>{d&&u&&d>=u&&a.uiConfig.timeoutReject&&l("./../__timedOut")},[u,d,l,a.uiConfig.timeoutReject]);const h=R.useMemo(()=>{const y=u&&d?d<=u:!0,v=d?d>=c:!0;return y&&v},[u,c,d]),p=R.useMemo(()=>(n==null?void 0:n.nextOnEnter)??a.uiConfig.nextOnEnter,[n,a]);R.useEffect(()=>{const y=v=>{v.key==="Enter"&&!t&&!s&&h&&o()};return p?(window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",y)}):()=>{}},[t,s,h,o,p]);const m=R.useMemo(()=>t||s||!h,[t,s,h]),g=R.useMemo(()=>(n==null?void 0:n.previousButtonText)??a.uiConfig.previousButtonText??"Previous",[n,a]);return _.jsxs(_.Fragment,{children:[_.jsxs(Pi,{justify:"right",gap:"xs",mt:"sm",children:[(n==null?void 0:n.previousButton)&&_.jsx(Z1t,{label:g,px:r==="sidebar"&&i?8:void 0}),i,_.jsx(qt,{type:"submit",disabled:m,onClick:()=>o(),px:r==="sidebar"&&i?8:void 0,children:e})]}),d&&_.jsxs(_.Fragment,{children:[c>0&&d<c&&_.jsxs($f,{mt:"md",title:"Please wait",color:"blue",icon:_.jsx(XW,{}),children:["The next button will be enabled in"," ",Math.ceil((c-d)/1e3)," ","seconds."]}),u&&d&&u-d<1e4&&(u-d>0?_.jsxs($f,{mt:"md",title:"Next button disables soon",color:"yellow",icon:_.jsx(jw,{}),children:["The next button disables in"," ",Math.ceil((u-d)/1e3)," ","seconds."]}):!a.uiConfig.timeoutReject&&_.jsxs($f,{mt:"md",title:"Next button disabled",color:"red",icon:_.jsx(jw,{}),children:["The next button has timed out and is now disabled.",_.jsx(Pi,{justify:"right",mt:"sm",children:_.jsx(qt,{onClick:()=>o(!1),variant:"link",color:"red",children:"Proceed"})})]}))]})]})}function twt(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const nwt=typeof window<"u"?R.useLayoutEffect:R.useEffect;function bo(e,t){nwt(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function rwt(e,t){e&&twt(e),bo(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),bo(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),bo(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),bo(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),bo(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),bo(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),bo(`mantine-form:${e}:clear-errors`,t.clearErrors),bo(`mantine-form:${e}:reset`,t.reset),bo(`mantine-form:${e}:validate`,t.validate),bo(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),bo(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),bo(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),bo(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),bo(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),bo(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),bo(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),bo(`mantine-form:${e}:reset-touched`,t.resetTouched)}function iwt(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function rU(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function swt(e){const[t,n]=R.useState(rU(e)),r=R.useRef(t),i=R.useCallback(l=>{n(u=>{const c=rU(typeof l=="function"?l(u):l);return r.current=c,c})},[]),s=R.useCallback(()=>i({}),[]),o=R.useCallback(l=>{r.current[l]!==void 0&&i(u=>{const c={...u};return delete c[l],c})},[t]),a=R.useCallback((l,u)=>{u==null||u===!1?o(l):r.current[l]!==u&&i(c=>({...c,[l]:u}))},[t]);return{errorsState:t,setErrors:i,clearErrors:s,setFieldError:a,clearFieldError:o}}function iU(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function que(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function Vue(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=iU(`${i}.${t}`,s));const o={...s},a=new Set;return Object.entries(s).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=que(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=que(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);o[d]=u,a.add(d),a.has(l)||delete o[l]}),o}function owt(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o={...r};return Object.keys(r).every(a=>{let l,u;if(a.startsWith(i)&&(l=a,u=a.replace(i,s)),a.startsWith(s)&&(l=a.replace(s,i),u=a),l&&u){const c=o[l],d=o[u];return d===void 0?delete o[l]:o[l]=d,c===void 0?delete o[u]:o[u]=c,!1}return!0}),o}function Wue(e,t,n){typeof n.value=="object"&&(n.value=Tw(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Tw(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Tw(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Tw(a),Tw(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Tw(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)Wue(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||Wue(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function H2e(e){return typeof e!="string"?[]:e.split(".")}function ko(e,t){const n=H2e(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!=null;i+=1)r=r[n[i]];return r}function bA(e,t,n){const r=H2e(e);if(r.length===0)return n;const i=Tw(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function awt(e,{from:t,to:n},r){const i=ko(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),bA(e,s,r)}function lwt(e,t,n,r){const i=ko(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),bA(e,s,r)}function uwt(e,t,n){const r=ko(e,n);return Array.isArray(r)?bA(e,r.filter((i,s)=>s!==t),n):n}function cwt(e,t,n,r){const i=ko(e,r);if(!Array.isArray(i)||i.length<=n)return r;const s=[...i];return s[n]=t,bA(e,s,r)}function dwt({$values:e,$errors:t,$status:n}){const r=R.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>owt(a,l,u)),e.setValues({values:awt(a,l,e.refValues.current),updateState:!0})},[]),i=R.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>Vue(a,l,u,-1)),e.setValues({values:uwt(a,l,e.refValues.current),updateState:!0})},[]),s=R.useCallback((a,l,u)=>{n.clearFieldDirty(a),t.setErrors(c=>Vue(a,u,c,1)),e.setValues({values:lwt(a,l,u,e.refValues.current),updateState:!0})},[]),o=R.useCallback((a,l,u)=>{n.clearFieldDirty(a),e.setValues({values:cwt(a,u,l,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:s,replaceListItem:o}}var bj,Gue;function QY(){return Gue||(Gue=1,bj=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),bj}var fwt=QY();const lS=ao(fwt);function lC(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function hwt({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,s]=R.useState(t),[o,a]=R.useState(e),l=R.useRef(t),u=R.useRef(e),c=R.useCallback(S=>{const T=typeof S=="function"?S(l.current):S;l.current=T,n==="controlled"&&s(T)},[]),d=R.useCallback((S,T=!1)=>{const A=typeof S=="function"?S(u.current):S;u.current=A,(n==="controlled"||T)&&a(A)},[]),f=R.useCallback(()=>c({}),[]),h=R.useCallback(S=>{const T=S?{...S,...r.refValues.current}:r.refValues.current;r.setValuesSnapshot(T),d({})},[]),p=R.useCallback((S,T)=>{c(A=>lC(A,S)===T?A:{...A,[S]:T})},[]),m=R.useCallback((S,T,A)=>{d(I=>lC(I,S)===T?I:{...I,[S]:T},A)},[]),g=R.useCallback((S,T)=>{const A=lC(u.current,S),I=!lS(ko(S,r.getValuesSnapshot()),T),D=iU(S,u.current);D[S]=I,d(D,A!==I)},[]),y=R.useCallback(S=>lC(l.current,S),[]),v=R.useCallback(S=>d(T=>{if(typeof S!="string")return T;const A=iU(S,T);return delete A[S],lS(A,T)?T:A}),[]),w=R.useCallback(S=>{if(S){const A=ko(S,u.current);if(typeof A=="boolean")return A;const I=ko(S,r.refValues.current),D=ko(S,r.valuesSnapshot.current);return!lS(I,D)}return Object.keys(u.current).length>0?lC(u.current):!lS(r.refValues.current,r.valuesSnapshot.current)},[]),E=R.useCallback(()=>u.current,[]),C=R.useCallback(()=>l.current,[]);return{touchedState:i,dirtyState:o,touchedRef:l,dirtyRef:u,setTouched:c,setDirty:d,resetDirty:h,resetTouched:f,isTouched:y,setFieldTouched:p,setFieldDirty:m,setTouchedState:s,setDirtyState:a,clearFieldDirty:v,isDirty:w,getDirty:E,getTouched:C,setCalculatedFieldDirty:g}}function pwt({initialValues:e,onValuesChange:t,mode:n}){const r=R.useRef(!1),[i,s]=R.useState(e||{}),o=R.useRef(i),a=R.useRef(i),l=R.useCallback(({values:m,subscribers:g,updateState:y=!0,mergeWithPreviousValues:v=!0})=>{const w=o.current,E=m instanceof Function?m(o.current):m,C=v?{...w,...E}:E;o.current=C,y&&s(C),t==null||t(C,w),g==null||g.filter(Boolean).forEach(S=>S({updatedValues:C,previousValues:w}))},[t]),u=R.useCallback(m=>{var v;const g=ko(m.path,o.current),y=m.value instanceof Function?m.value(g):m.value;if(g!==y){const w=o.current,E=bA(m.path,y,o.current);l({values:E,updateState:m.updateState}),(v=m.subscribers)==null||v.filter(Boolean).forEach(C=>C({path:m.path,updatedValues:E,previousValues:w}))}},[l]),c=R.useCallback(m=>{a.current=m},[]),d=R.useCallback((m,g)=>{r.current||(r.current=!0,l({values:m,updateState:n==="controlled"}),c(m),g())},[l]),f=R.useCallback(()=>{l({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),h=R.useCallback(()=>o.current,[]),p=R.useCallback(()=>a.current,[]);return{initialized:r,stateValues:i,refValues:o,valuesSnapshot:a,setValues:l,setFieldValue:u,resetValues:f,setValuesSnapshot:c,initialize:d,getValues:h,getValuesSnapshot:p}}function mwt({$status:e}){const t=R.useRef({}),n=R.useCallback((i,s)=>{R.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(s),()=>{t.current[i]=t.current[i].filter(o=>o!==s)}),[s])},[]),r=R.useCallback(i=>t.current[i]?t.current[i].map(s=>o=>s({previousValue:ko(i,o.previousValues),value:ko(i,o.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function Yue(e,t){return e?`${e}-${t.toString()}`:t.toString()}function Kue(e){const t=rU(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function sU(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,l=ko(a,t);let u=!1;return typeof o=="function"&&(i[a]=o(l,t,a)),typeof o=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>sU(o,t,`${a}.${d}`,i))),typeof o=="object"&&typeof l=="object"&&l!==null&&(u||sU(o,t,a,i)),i},r)}function oU(e,t){return Kue(typeof e=="function"?e(t):sU(e,t))}function rR(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=oU(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const gwt="__MANTINE_FORM_INDEX__";function Xue(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${gwt}`)):!1:!1}function q2e({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:s={},clearInputErrorOnChange:o=!0,validateInputOnChange:a=!1,validateInputOnBlur:l=!1,onValuesChange:u,transformValues:c=m=>m,enhanceGetInputProps:d,validate:f,onSubmitPreventDefault:h="always",touchTrigger:p="change"}={}){const m=swt(r),g=pwt({initialValues:n,onValuesChange:u,mode:t}),y=hwt({initialDirty:i,initialTouched:s,$values:g,mode:t}),v=dwt({$values:g,$errors:m,$status:y}),w=mwt({$status:y}),[E,C]=R.useState(0),[S,T]=R.useState({}),[A,I]=R.useState(!1),D=R.useCallback(()=>{g.resetValues(),m.clearErrors(),y.resetDirty(),y.resetTouched(),t==="uncontrolled"&&C(J=>J+1)},[]),O=R.useCallback(J=>{o&&m.clearErrors(),t==="uncontrolled"&&C(te=>te+1),Object.keys(w.subscribers.current).forEach(te=>{const ue=ko(te,g.refValues.current),se=ko(te,J);ue!==se&&w.getFieldSubscribers(te).forEach(ne=>ne({previousValues:J,updatedValues:g.refValues.current}))})},[o]),M=R.useCallback(J=>{const te=g.refValues.current;g.initialize(J,()=>t==="uncontrolled"&&C(ue=>ue+1)),O(te)},[O]),$=R.useCallback((J,te,ue)=>{const se=Xue(J,a),ne=te instanceof Function?te(ko(J,g.refValues.current)):te;y.setCalculatedFieldDirty(J,ne),p==="change"&&y.setFieldTouched(J,!0),!se&&o&&m.clearFieldError(J),g.setFieldValue({path:J,value:te,updateState:t==="controlled",subscribers:[...w.getFieldSubscribers(J),se?fe=>{const ee=rR(J,f,fe.updatedValues);ee.hasError?m.setFieldError(J,ee.error):m.clearFieldError(J)}:null,(ue==null?void 0:ue.forceUpdate)!==!1&&t!=="controlled"?()=>T(fe=>({...fe,[J]:(fe[J]||0)+1})):null]})},[u,f]),L=R.useCallback(J=>{const te=g.refValues.current;g.setValues({values:J,updateState:t==="controlled"}),O(te)},[u,O]),z=R.useCallback(()=>{const J=oU(f,g.refValues.current);return m.setErrors(J.errors),J},[f]),B=R.useCallback(J=>{const te=rR(J,f,g.refValues.current);return te.hasError?m.setFieldError(J,te.error):m.clearFieldError(J),te},[f]),W=(J,{type:te="input",withError:ue=!0,withFocus:se=!0,...ne}={})=>{const ee={onChange:iwt(ie=>$(J,ie,{forceUpdate:!1})),"data-path":Yue(e,J)};return ue&&(ee.error=m.errorsState[J]),te==="checkbox"?ee[t==="controlled"?"checked":"defaultChecked"]=ko(J,g.refValues.current):ee[t==="controlled"?"value":"defaultValue"]=ko(J,g.refValues.current),se&&(ee.onFocus=()=>y.setFieldTouched(J,!0),ee.onBlur=()=>{if(Xue(J,l)){const ie=rR(J,f,g.refValues.current);ie.hasError?m.setFieldError(J,ie.error):m.clearFieldError(J)}}),Object.assign(ee,d==null?void 0:d({inputProps:ee,field:J,options:{type:te,withError:ue,withFocus:se,...ne},form:Y}))},V=(J,te)=>ue=>{h==="always"&&(ue==null||ue.preventDefault());const se=z();if(se.hasErrors)h==="validation-failed"&&(ue==null||ue.preventDefault()),te==null||te(se.errors,g.refValues.current,ue);else{const ne=J==null?void 0:J(c(g.refValues.current),ue);ne instanceof Promise&&(I(!0),ne.finally(()=>I(!1)))}},X=J=>c(J||g.refValues.current),U=R.useCallback(J=>{J.preventDefault(),D()},[]),F=R.useCallback(J=>J?!rR(J,f,g.refValues.current).hasError:!oU(f,g.refValues.current).hasErrors,[f]),G=J=>`${E}-${J}-${S[J]||0}`,q=R.useCallback(J=>document.querySelector(`[data-path="${Yue(e,J)}"]`),[]),Y={watch:w.watch,initialized:g.initialized.current,values:g.stateValues,getValues:g.getValues,setInitialValues:g.setValuesSnapshot,initialize:M,setValues:L,setFieldValue:$,submitting:A,setSubmitting:I,errors:m.errorsState,setErrors:m.setErrors,setFieldError:m.setFieldError,clearFieldError:m.clearFieldError,clearErrors:m.clearErrors,resetDirty:y.resetDirty,setTouched:y.setTouched,setDirty:y.setDirty,isTouched:y.isTouched,resetTouched:y.resetTouched,isDirty:y.isDirty,getTouched:y.getTouched,getDirty:y.getDirty,reorderListItem:v.reorderListItem,insertListItem:v.insertListItem,removeListItem:v.removeListItem,replaceListItem:v.replaceListItem,reset:D,validate:z,validateField:B,getInputProps:W,onSubmit:V,onReset:U,isValid:F,getTransformedValues:X,key:G,getInputNode:q};return rwt(e,Y),Y}function ywt(e,t){const n=t;return r=>typeof r!="string"?n:e.test(r)?null:n}function vwt(e){return ywt(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function V2e(e,t){if(e.type==="checkbox"){const n=e,r=n.minSelections&&t.length<n.minSelections,i=n.maxSelections&&t.length>n.maxSelections;if(r&&i)return`Please select between ${n.minSelections} and ${n.maxSelections} options`;if(r)return`Please select at least ${n.minSelections} options`;if(i)return`Please select at most ${n.maxSelections} options`}return null}const bwt=new URLSearchParams(window.location.search),wwt=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{},s=t&&t[`${r.id}-dontKnow`]!==void 0?t[`${r.id}-dontKnow`]:!1,o=r.withDontKnow?{[`${r.id}-dontKnow`]:s}:{},a=t&&t[`${r.id}-other`]!==void 0?t[`${r.id}-other`]:"",l=r.withOther?{[`${r.id}-other`]:a}:{};if(i)n={...n,[r.id]:i,...o,...l};else{let u="";r.paramCapture?u=bwt.get(r.paramCapture):r.type==="reactive"?u=[]:r.type==="matrix-radio"||r.type==="matrix-checkbox"?u=Object.fromEntries(r.questionOptions.map(c=>[c,""])):r.type==="slider"&&r.startingValue&&(u=r.startingValue.toString()),n={...n,[r.id]:u,...o,...l}}}),{...n}},xwt=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:(r,i)=>{if(typeof r=="object"&&!Array.isArray(r)&&r!==null)return Object.values(r).every(s=>s!=="")?null:"Empty Input";if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value. Contact study administrator.";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const s=[...n.requiredValue].sort(),o=[...r].sort();return s.every((a,l)=>a===o[l])?null:"Incorrect input"}return n.type==="checkbox"?V2e(n,r):r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?(r==null||r==="")&&!i[`${n.id}-dontKnow`]?"Empty input":null:r===null?"Empty input":null}})}),t};function _wt(e,t,n){const[r,i]=R.useState(null),s=q2e({initialValues:wwt(e,n),validate:xwt(e)});return R.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function Rg(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:t.checked&&e.required?s=V2e(e,t.checked):s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}function W2e({horizontal:e,children:t,style:n}){return e?_.jsx(Pi,{mt:Le(4),gap:"lg",style:n,children:t}):_.jsx(fs,{gap:"md",style:n,children:t})}const Ewt="_fixDisabled_1k5ri_1",Cwt="_fixDisabledIcon_1k5ri_16",Swt="_fixDisabledLabel_1k5ri_20",Wc={fixDisabled:Ewt,fixDisabledIcon:Cwt,fixDisabledLabel:Swt},Twt="_fixDisabled_d4mus_1",J0={fixDisabled:Twt};function yh({prompt:e,required:t,index:n,enumerateQuestions:r}){return _.jsxs(Nt,{direction:"row",wrap:"nowrap",gap:4,children:[r&&_.jsx(Se,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${n}. `}),_.jsx(Se,{style:{display:"block"},className:"no-last-child-bottom-padding",children:_.jsx(Bp,{text:e,required:t})})]})}function Awt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,otherValue:s}){const{prompt:o,required:a,secondaryText:l,horizontal:u,withOther:c,options:d}=e,f=kg(),h=R.useMemo(()=>f?f.optionOrders:{},[f]),p=R.useMemo(()=>h[e.id]||d.map(v=>typeof v=="string"?{label:v,value:v}:v),[h,d,e.id]),[m,g]=R.useState(!1),y=R.useMemo(()=>Rg(e,n,p),[e,n,p]);return _.jsxs(Ro.Group,{label:o.length>0&&_.jsx(yh,{prompt:o,required:a,index:r,enumerateQuestions:i}),description:l,...n,error:y,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[_.jsx(Se,{mt:"xs",children:_.jsxs(W2e,{horizontal:!!u,style:{flexGrow:1},children:[p.map(v=>_.jsx(Ro,{disabled:t,value:v.value,label:v.label,classNames:{input:Wc.fixDisabled,label:Wc.fixDisabledLabel,icon:Wc.fixDisabledIcon}},v.value)),c&&_.jsx(Ro,{disabled:t,value:"__other",checked:m,onClick:v=>g(v.currentTarget.checked),label:u?"Other":_.jsx(Pr,{mt:-8,placeholder:"Other",disabled:!m,...s,classNames:{input:J0.fixDisabled}}),classNames:{input:Wc.fixDisabled,label:Wc.fixDisabledLabel,icon:Wc.fixDisabledIcon}},"__other")]})}),u&&c&&_.jsx(Pr,{mt:"sm",placeholder:"Other",disabled:!m,...s,w:216,classNames:{input:J0.fixDisabled}})]})}function kwt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,options:l,secondaryText:u}=e,c=l.map(d=>typeof d=="string"?{value:d,label:d}:d);return _.jsx(vg,{disabled:t,label:o.length>0&&_.jsx(yh,{prompt:o,required:a,index:r,enumerateQuestions:i}),description:u,placeholder:s,data:c,radius:"md",size:"md",...n,value:n.value===""?null:n.value,error:Rg(e,n,c),classNames:{input:J0.fixDisabled}})}function Iwt({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:s,secondaryText:o}=e;return _.jsx(Pr.Wrapper,{label:i.length>0&&_.jsx(yh,{prompt:i,required:s,index:n,enumerateQuestions:r}),description:o,size:"md",children:t.value&&_.jsx(ud,{children:Array.isArray(t.value)?t.value.map(a=>_.jsx(ud.Item,{children:a},a)):_.jsx(ud.Item,{children:t.value})})})}const Rwt="_fixDisabled_14ab8_1",Dwt="_fixDisabledIcon_14ab8_16",Pwt="_fixDisabledLabel_14ab8_20",i0={fixDisabled:Rwt,fixDisabledIcon:Dwt,fixDisabledLabel:Pwt};function G2e({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,stretch:s,otherValue:o}){const{prompt:a,required:l,leftLabel:u,rightLabel:c,secondaryText:d,horizontal:f,withOther:h,options:p}=e,m=kg(),g=R.useMemo(()=>m?m.optionOrders:{},[m]),y=R.useMemo(()=>g[e.id]||p.map(C=>typeof C=="string"?{label:C,value:C}:C),[g,p,e.id]),[v,w]=R.useState(!1),E=R.useMemo(()=>Rg(e,n,y),[e,n,y]);return _.jsxs(ru.Group,{name:`radioInput${e.id}`,label:a.length>0&&_.jsx(yh,{prompt:a,required:l,index:r,enumerateQuestions:i}),description:d,...n,error:E,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[_.jsxs(Pi,{gap:"lg",align:"flex-end",mt:f?0:"sm",children:[u?_.jsx(tt,{children:u}):null,_.jsxs(W2e,{horizontal:!!f,style:{flexGrow:1},children:[y.map(C=>_.jsxs("div",{style:{display:"flex",flexDirection:f?"column":"row",gap:f?"unset":Le(12),flex:s?1:"unset",alignItems:"center"},children:[f&&_.jsx(tt,{size:"sm",children:C.label}),_.jsx(ru,{disabled:t,value:C.value,label:C.label,styles:{label:{display:f?"none":"initial"}},onChange:()=>w(!1),classNames:{radio:i0.fixDisabled,label:i0.fixDisabledLabel,icon:i0.fixDisabledIcon}})]},`${C.value}-${e.id}`)),h&&_.jsxs("div",{style:{display:"flex",flexDirection:f?"column":"row",gap:f?"unset":Le(12),flex:s?1:"unset",alignItems:"center"},children:[f&&_.jsx(tt,{size:"sm",children:"Other"}),_.jsx(ru,{disabled:t,value:"other",checked:v,onClick:C=>w(C.currentTarget.checked),label:!f&&_.jsx(Pr,{mt:-8,placeholder:"Other",disabled:!v,...o,classNames:{input:J0.fixDisabled}}),mt:0,classNames:{radio:i0.fixDisabled,label:i0.fixDisabledLabel,icon:i0.fixDisabledIcon}})]})]}),_.jsx(tt,{children:c})]}),f&&h&&_.jsx(Pr,{mt:"sm",placeholder:"Other",disabled:!v,...o,w:216,classNames:{input:J0.fixDisabled}})]},e.id)}function Owt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:s,start:o,spacing:a}=e,l=[],u=o??1,c=a??1;for(let f=0;f<+s;f+=1){const h=u+f*c;l.push({label:`${h}`,value:`${h}`})}const d={...e,type:"radio",options:l,horizontal:!0};return _.jsx(G2e,{disabled:t,response:d,answer:n,index:r,enumerateQuestions:i,stretch:!0})}function Nwt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,min:a,max:l,placeholder:u,secondaryText:c}=e;return _.jsx(pW,{disabled:t,placeholder:u,label:s.length>0&&_.jsx(yh,{prompt:s,required:o,index:r,enumerateQuestions:i}),description:c,radius:"md",size:"md",min:a,max:l,...n,error:Rg(e,n),classNames:{input:J0.fixDisabled}})}const $wt="_track_w59g7_1",Mwt="_fixDisabled_w59g7_11",Que={track:$wt,fixDisabled:Mwt};function Fwt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,secondaryText:l,snap:u,step:c,withBar:d,tlxStyle:f}=e,[h,p]=R.useMemo(()=>[Math.min(...a.map(y=>y.value)),Math.max(...a.map(y=>y.value))],[a]),m=a.some(y=>y.label!==""),g=Rg(e,n);return _.jsx(Pr.Wrapper,{label:s.length>0&&_.jsx(yh,{prompt:s,required:o,index:r,enumerateQuestions:i}),description:l,error:g,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:_.jsx(Lw,{disabled:t,marks:a,min:h,max:p,step:c??(u?.001:(p-h)/100),h:m?40:void 0,...n,classNames:{track:f?Que.track:"",bar:Que.fixDisabled},restrictToMarks:u,label:y=>u?null:y,styles:y=>({mark:{...f?{height:20,width:1,marginTop:-6,marginLeft:2,borderRadius:0}:{},...d===!1?{borderColor:"var(--mantine-color-gray-2)"}:{}},bar:d===!1||f?{display:"none"}:{},markLabel:{fontSize:y.fontSizes.sm,color:y.colors.gray[7],transform:"translate(calc((var(--mark-offset) * -1) + (var(--slider-size) / 2)), calc(var(--mantine-spacing-xs) / 2)"},thumb:{...f?{borderColor:"var(--mantine-color-red-6)",width:1,borderWidth:1,height:22,borderRadius:0,backgroundColor:"var(--mantine-color-red-6)",transform:"translate(-50%, -62%)"}:{}}}),flex:1,mt:f?"sm":"xs"})})}function Lwt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:l}=e;return _.jsx(Uu,{disabled:t,placeholder:s,label:o.length>0&&_.jsx(yh,{prompt:o,required:a,index:r,enumerateQuestions:i}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:Rg(e,n),classNames:{input:J0.fixDisabled}})}function jwt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:l}=e;return _.jsx(tW,{disabled:t,placeholder:s,label:o.length>0&&_.jsx(yh,{prompt:o,required:a,index:r,enumerateQuestions:i}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:Rg(e,n),classNames:{input:J0.fixDisabled}})}function Bwt({_choices:e,_n:t,idx:n,question:r,answer:i,onChange:s,disabled:o}){return _.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(a=>_.jsx(Ro,{disabled:o,checked:i.value[r].split("|").includes(a.value),onChange:l=>s(l,r,a),value:a.value,classNames:{input:Wc.fixDisabled,icon:Wc.fixDisabledIcon}},`${a.label}-${n}`))})}function zwt({_choices:e,_n:t,idx:n,question:r,response:i,answer:s,onChange:o,disabled:a}){return _.jsx(ru.Group,{name:`radioInput${i.id}-${n}`,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))",flex:1},onChange:l=>o(l,r),value:s.value[r],children:_.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(l=>_.jsx(ru,{disabled:a,value:l.value,classNames:{radio:i0.fixDisabled,icon:i0.fixDisabledIcon}},`${l.label}-${n}`))})},`${i.id}-${n}`)}function Uwt({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{setMatrixAnswersRadio:s,setMatrixAnswersCheckbox:o}=ps(),a=Ms(),{answerOptions:l,prompt:u,secondaryText:c,required:d}=e,h=typeof l=="string"?{likely5:["Highly Unlikely","Unlikely","Neutral","Likely","Highly Likely"],likely7:["Highly Unlikely","Unlikely","Slightly Unlikely","Neutral","Slightly Likely","Likely","Highly Likely"],satisfaction5:["Highly Unsatisfied","Unsatisfied","Neutral","Satisfied","Highly Satisfied"],satisfaction7:["Highly Unsatisfied","Unsatisfied","Slightly Unsatisfied","Neutral","Slightly Satisfied","Satisfied","Highly Satisfied"]}[l].map(E=>({value:E,label:E})):l.map(E=>typeof E=="string"?{value:E,label:E}:E),{questionOrders:p}=kg(),m=R.useMemo(()=>p[e.id],[p,e.id]),g=(E,C)=>{const S={type:"radio",questionKey:C,val:E,responseId:e.id};a(s(S))},y=(E,C,S)=>{const T=E.target.checked,A={questionKey:C,responseId:e.id,value:S.value,label:S.label,isChecked:T,choiceOptions:h};a(o(A))},v=h.length,w=m.length;return _.jsxs(_.Fragment,{children:[u.length>0&&_.jsx(yh,{prompt:u,required:d,index:n,enumerateQuestions:i}),_.jsx(tt,{c:"dimmed",size:"sm",mt:0,children:c}),_.jsxs(Se,{style:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto 1fr"},m:"md",mt:"xs",children:[_.jsx("div",{style:{borderBottom:"1px solid var(--mantine-color-dark-0)",borderRight:"1px solid var(--mantine-color-dark-0)"}}),_.jsx("div",{style:{height:"100%",display:"grid",gridTemplateColumns:`repeat(${v}, 1fr)`,alignItems:"center",justifyItems:"center",borderBottom:"1px solid var(--mantine-color-dark-0)"},children:h.map((E,C)=>_.jsx(tt,{style:{fontWeight:"bold",textAlign:"center",fontSize:"0.8em"},mb:"sm",ml:"xs",mr:"xs",children:E.label},`choice-${C}-label`))}),_.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${w}, 1fr)`},children:m.map((E,C)=>_.jsx(tt,{style:{height:"80px",width:"100%",display:"flex",alignItems:"safe center",justifyContent:"end",borderRight:"1px solid var(--mantine-color-dark-0)",backgroundColor:`${(C+1)%2===0?"var(--mantine-color-gray-2)":"white"}`,overflowY:"auto"},ta:"right",p:"sm",miw:140,maw:400,children:E},`question-${C}-label`))}),_.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${w},1fr)`},children:m.map((E,C)=>_.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",backgroundColor:`${(C+1)%2===0?"var(--mantine-color-gray-2)":"white"}`},children:e.type==="matrix-radio"?_.jsx(zwt,{disabled:r,idx:C,question:E,answer:t,_choices:h,_n:v,onChange:g,response:e}):_.jsx(Bwt,{disabled:r,idx:C,question:E,answer:t,_choices:h,_n:v,onChange:y})},`question-${C}`))})]})]})}const Hwt="_root_152zr_1",qwt={root:Hwt};function Vwt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,secondaryText:a,options:l}=e,u=kg(),c=R.useMemo(()=>u?u.optionOrders:{},[u]),d=R.useMemo(()=>c[e.id]||l,[c,l,e.id]),f=R.useMemo(()=>Rg(e,n,d),[e,n,d]);return _.jsx(NT,{children:_.jsx(ru.Group,{name:`radioInput${e.id}`,label:s.length>0&&_.jsx(yh,{prompt:s,required:o,index:r,enumerateQuestions:i}),description:a,...n,error:f,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:_.jsx(Nt,{justify:"space-between",align:"center",gap:"xl",mt:"xs",children:d.map((h,p)=>_.jsx(ru.Card,{value:h.value,disabled:t,ta:"center",className:qwt.root,p:"xs",children:_.jsx(tt,{children:h.label})},`radio-${p}`))})},e.id)})}function Wwt({response:e}){const{prompt:t}=e;return _.jsx(Nt,{direction:"row",wrap:"nowrap",gap:4,children:_.jsx(Se,{style:{display:"block"},className:"no-last-child-bottom-padding",children:_.jsx(Bp,{text:t,required:!1})})})}const JY=e=>{R.useEffect(()=>{if(!e)return()=>{};const t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=`${hs}${e}`,t.dataset.stylesheetPath=e,document.head.appendChild(t),()=>{t.parentNode&&t.parentNode.removeChild(t)}},[e])};function Gwt({response:e,form:t,storedAnswer:n,index:r,configInUse:i,dontKnowCheckbox:s,otherInput:o,disabled:a}){const u=(Ig()?{value:n[e.id]}:t)||{value:void 0},c=(Object.keys(n||{}).length>0?{checked:n[`${e.id}-dontKnow`]}:s)||{checked:void 0},d=(Object.keys(n||{}).length>0?{value:n[`${e.id}-other`]}:o)||{value:void 0},f=Object.keys(n||{}).length>0||a,[h]=ch(),p=xu(),m=R.useMemo(()=>(i==null?void 0:i.enumerateQuestions)??p.uiConfig.enumerateQuestions??!1,[i,p]),g=rr(T=>T.sequence),y=_d(g),v=Xa();JY(e.stylesheetPath);const w=R.useMemo(()=>{if(typeof v=="number"){const T=y[v];for(let A=0;A<g.components.length;A+=1){const I=g.components[A];if(typeof I=="string"&&I===T){if(A+1<g.components.length&&typeof g.components[A+1]!="string")return!1;break}}}if(typeof v=="number"&&v+1<y.length){const T=y[v+1],A=p.components[T];if(A!=null&&A.previousButton)return!1}if(e.paramCapture){const T=h.get(e.paramCapture);return f||!!T}return a},[a,e.paramCapture,h,v,y,p.components,g,f]),E=R.useMemo(()=>e.paramCapture?h.get(e.paramCapture)||"":e.type==="reactive"||e.type==="checkbox"?[]:e.type==="matrix-radio"||e.type==="matrix-checkbox"?Object.fromEntries(e.questionOptions.map(T=>[T,""])):e.type==="slider"&&e.startingValue?e.startingValue.toString():"",[e.paramCapture,e.questionOptions,e.startingValue,e.type,h]),C=e.style||{},S=R.useMemo(()=>e.withDivider??(i==null?void 0:i.responseDividers)??p.uiConfig.responseDividers,[e,i,p]);return _.jsxs(Se,{mb:S?"xl":"lg",className:"response",id:e.id,style:C,children:[e.type==="numerical"&&_.jsx(Nwt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="shortText"&&_.jsx(Lwt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="longText"&&_.jsx(jwt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="likert"&&_.jsx(Owt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="dropdown"&&_.jsx(kwt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="slider"&&_.jsx(Fwt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="radio"&&_.jsx(G2e,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m,otherValue:d}),e.type==="checkbox"&&_.jsx(Awt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m,otherValue:d}),e.type==="reactive"&&_.jsx(Iwt,{response:e,answer:u,index:r,enumerateQuestions:m}),(e.type==="matrix-radio"||e.type==="matrix-checkbox")&&_.jsx(Uwt,{disabled:w||(s==null?void 0:s.checked),response:e,answer:u,index:r,enumerateQuestions:m}),e.type==="buttons"&&_.jsx(Vwt,{response:e,disabled:w||(s==null?void 0:s.checked),answer:u,index:r,enumerateQuestions:m}),e.type==="textOnly"&&_.jsx(Wwt,{response:e}),e.withDontKnow&&_.jsx(Ro,{mt:"xs",disabled:w,label:"I don't know",classNames:{input:Wc.fixDisabled,label:Wc.fixDisabledLabel,icon:Wc.fixDisabledIcon},...s,checked:c.checked,onChange:T=>{s==null||s.onChange(T.currentTarget.checked),t.onChange(E)}}),S&&_.jsx(b_,{mt:"xl",mb:"xs"})]})}function Ywt(e,t){const n=[];for(const r of e)t.includes(r)&&n.push(r);return n}function rN({config:e,location:t,status:n,style:r}){var fe;const{storageEngine:i}=Wi(),s=Ms(),{updateResponseBlockValidation:o,toggleShowHelpText:a,saveIncorrectAnswer:l,incrementHelpCounter:u}=ps(),c=Xa(),d=rr(ee=>ee.analysisProvState[t]),f=R.useMemo(()=>(d==null?void 0:d.form)||(n==null?void 0:n.answer),[d,n]),h=kg(),p=R.useMemo(()=>(h==null?void 0:h.formOrder)||{},[h]),m=Ya(),g=e,y=R.useMemo(()=>p!=null&&p.response?p.response.map(ee=>{var ie;return(ie=g==null?void 0:g.response)==null?void 0:ie.find(he=>he.id===ee)}).filter(ee=>ee!==void 0&&(ee.location?ee.location===t:t==="belowStimulus")):[],[g==null?void 0:g.response,t,p]),v=R.useMemo(()=>y.map(ee=>ee.type!=="textOnly"?{...ee,required:ee.required===void 0?!0:ee.required}:ee),[y]),w=_wt(v,c,f||{}),{actions:E,trrack:C}=R.useMemo(()=>{const ee=Sb.create(),ie=ee.register("update",(ye,Ce)=>(ye.form=Ce,ye)),he=cA({registry:ee,initialState:{form:null}});return{actions:{updateFormAction:ie},trrack:he}},[]),S=rr(ee=>ee.reactiveAnswers),T=rr(ee=>ee.matrixAnswers),A=xu(),D=R.useMemo(()=>(g==null?void 0:g.provideFeedback)??A.uiConfig.provideFeedback,[g,A])&&(((fe=g==null?void 0:g.correctAnswer)==null?void 0:fe.length)||0)>0,O=R.useMemo(()=>(g==null?void 0:g.allowFailedTraining)??A.uiConfig.allowFailedTraining??!0,[g,A]),[M,$]=R.useState(0),L=R.useMemo(()=>(g==null?void 0:g.trainingAttempts)??A.uiConfig.trainingAttempts??2,[g,A]),[z,B]=R.useState(!1),[W,V]=R.useState(!1),U=M>=L&&L>=0||W,F=R.useMemo(()=>t===((g==null?void 0:g.nextButtonLocation)??A.uiConfig.nextButtonLocation??"belowStimulus"),[g,A,t]),G=Pb();R.useEffect(()=>{const ee=v.find(ie=>ie.type==="reactive");if(S&&ee){const ie=ee.id;w.setValues({...w.values,[ie]:S[ie]})}},[S]),R.useEffect(()=>{const ee=v.filter(ie=>ie.type==="matrix-radio"||ie.type==="matrix-checkbox");if(T&&ee.length>0){const ie={...w.values};ee.forEach(he=>{const{id:ye}=he;ie[ye]={...w.getInputProps(ye).value,...T[ye]}}),w.setValues(ie)}},[T]),R.useEffect(()=>{C.apply("update",E.updateFormAction(structuredClone(w.values))),s(o({location:t,identifier:G,status:w.isValid(),values:structuredClone(w.values),provenanceGraph:C.graph.backend}))},[w.values,G,t,s,o]);const[q,Y]=R.useState(Object.fromEntries(v.map(ee=>[ee.id,{visible:!1,title:"Correct Answer",message:"The correct answer is: ",color:"green"}]))),J=(ee,ie,he,ye,Ce)=>{Y(Re=>({...Re,[ee]:{visible:ie,title:he,message:ye,color:Ce}}))},te=R.useCallback(()=>{const ee=M+1;$(ee);const ie=Object.fromEntries(v.map(he=>{var Re,De;const ye=(De=(Re=g==null?void 0:g.correctAnswer)==null?void 0:Re.find(be=>be.id===he.id))==null?void 0:De.answer,Ce=w.values[he.id];return[he.id,Array.isArray(Ce)?typeof ye=="string"?Ce.length===1&&ye===Ce[0]:Ce.length===ye.length&&Ce.every(be=>ye.includes(be)):ye===Ce]}));D&&(v.forEach(he=>{var ye,Ce,Re;if(ie[he.id]&&!((ye=q[he.id])!=null&&ye.message.includes("You've failed to answer this question correctly")))J(he.id,!0,"Correct Answer","You have answered the question correctly.","green");else{s(l({question:G,identifier:he.id,answer:w.values[he.id]}));let De="";if(L===-1?De="Please try again.":ee>=L?(De=`You didn't answer this question correctly after ${L} attempts. ${O?"You can continue to the next question.":"Unfortunately you have not met the criteria for continuing this study."}`,!O&&i&&i.rejectCurrentParticipant("Failed training").then(()=>{setTimeout(()=>{m("./../__trainingFailed")},5e3)}).catch(()=>{console.error("Failed to reject participant who failed training"),setTimeout(()=>{m("./../__trainingFailed")},5e3)})):L-ee===1?De="Please try again. You have 1 attempt left.":De=`Please try again. You have ${L-ee} attempts left.`,he.type==="checkbox"){const be=(Re=(Ce=g==null?void 0:g.correctAnswer)==null?void 0:Ce.find(Ke=>Ke.id===he.id))==null?void 0:Re.answer,je=w.values[he.id],Qe=Ywt(je,be),it=be.length===Qe.length&&je.length>be.length?"However, you have selected too many boxes. ":"";De=`You have successfully checked ${Qe.length}/${be.length} correct boxes. ${it}${De}`}J(he.id,!0,"Incorrect Answer",De,"red")}}),V(Object.values(ie).every(he=>he)),B(O&&ee>=L||Object.values(ie).every(he=>he)&&ee<=L))},[M,v,g,D,L,O,i,m,G,s,w,q,l]),ue=(g==null?void 0:g.nextOnEnter)??A.uiConfig.nextOnEnter;R.useEffect(()=>{if(ue){const ee=ie=>{ie.key==="Enter"&&te()};return window.addEventListener("keydown",ee),()=>{window.removeEventListener("keydown",ee)}}return()=>{}},[te,ue]);const se=R.useMemo(()=>(g==null?void 0:g.nextButtonText)??A.uiConfig.nextButtonText??"Next",[g,A]);let ne=0;return _.jsxs(_.Fragment,{children:[_.jsx(Se,{className:`responseBlock responseBlock-${t}`,style:r,children:v.map(ee=>{var he,ye,Ce;const ie=(ye=(he=g.correctAnswer)==null?void 0:he.find(Re=>Re.id===ee.id))==null?void 0:ye.answer;return ee.type!=="textOnly"?ne+=1:ee.restartEnumeration&&(ne=0),_.jsx(Ir.Fragment,{children:ee.hidden?"":_.jsxs(_.Fragment,{children:[_.jsx(Gwt,{storedAnswer:f,form:{...w.getInputProps(ee.id,{type:ee.type==="checkbox"?"checkbox":"input"})},dontKnowCheckbox:{...w.getInputProps(`${ee.id}-dontKnow`,{type:"checkbox"})},otherInput:{...w.getInputProps(`${ee.id}-other`)},response:ee,index:ne,configInUse:g,disabled:U}),((Ce=q[ee.id])==null?void 0:Ce.visible)&&_.jsxs($f,{mb:"md",title:q[ee.id].title,color:q[ee.id].color,children:[q[ee.id].message,q[ee.id].message.includes("Please try again")&&_.jsxs(_.Fragment,{children:[_.jsx("br",{}),_.jsx("br",{}),"If you're unsure"," ",_.jsx(gb,{style:{fontSize:14},onClick:()=>{s(a()),s(u({identifier:G}))},children:"review the help text."})," "]}),_.jsx("br",{}),_.jsx("br",{}),M>=L&&L>=0&&ie&&` The correct answer was: ${ie}.`]})]})},`${ee.id}-${c}`)})}),F&&_.jsx(ewt,{disabled:D&&!z||!w.isValid(),label:se,configInUse:g,location:t,checkAnswer:F&&D?_.jsx(qt,{disabled:W||M>=L&&L>=0,onClick:()=>te(),px:t==="sidebar"?8:void 0,children:"Check Answer"}):null})]})}const uC="@REVISIT_COMMS";function Kwt({currentConfig:e,provState:t,answers:n}){const{setReactiveAnswers:r,updateResponseBlockValidation:i}=ps(),s=Ms(),o=Hxe(),a=Pb(),l=R.useRef(null),u=R.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),c=Bd(),d=R.useCallback((f,h)=>{var p,m;(m=(p=l.current)==null?void 0:p.contentWindow)==null||m.postMessage({error:!1,type:`${uC}/${f}`,iframeId:u,message:h},"*")},[l,u]);return R.useEffect(()=>{t&&d("PROVENANCE",t)},[t,d]),R.useEffect(()=>{n&&d("ANSWERS",n)},[n,d]),R.useEffect(()=>{const f=h=>{const{data:p}=h;if(typeof p=="object"&&u===p.iframeId)switch(p.type){case`${uC}/WINDOW_READY`:e.parameters&&d("STUDY_DATA",e.parameters);break;case`${uC}/READY`:break;case`${uC}/ANSWERS`:s(r(p.message)),s(i({location:"stimulus",identifier:a,status:!0,values:p.message}));break;case`${uC}/PROVENANCE`:s(i({location:"stimulus",identifier:a,values:{},status:!0,provenanceGraph:p.message}));break}};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[s,o,u,e,d,r,i,a]),_.jsx("iframe",{ref:l,style:{width:"100%",flexGrow:1,border:0},src:e.path.startsWith("http")?e.path:`${hs}${e.path}?trialid=${c}&id=${u}`})}async function cM(e){const n=await(await fetch(e)).text();if(!n.includes("<title>ReVISit</title>"))return n}async function Xwt(e){const t=await fetch(`${hs}${e}`);let n;try{n=await t.json()}catch(r){console.error("Invalid JSON:",r)}return n}function Kp({email:e,path:t}){const n=fc();return _.jsxs(gg,{fluid:!0,my:50,maw:800,mx:"auto",children:[_.jsx(Ii,{order:2,children:_.jsx(tt,{span:!0,c:"orange",children:"404"})}),_.jsxs(tt,{children:[_.jsx(tt,{span:!0,fw:700,children:t||n.pathname})," ","not Found."]}),_.jsx(Gu,{h:"lg"}),_.jsxs(ud,{children:[_.jsx(ud.Item,{children:_.jsx(tt,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),_.jsx(ud.Item,{children:_.jsxs(tt,{children:["If you're a participant, please contact the study administrator"," ",e&&_.jsxs(_.Fragment,{children:["at"," ",_.jsxs(gb,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}function Qwt({currentConfig:e}){const t=R.useMemo(()=>e.path.startsWith("http")?e.path:`${hs}${e.path}`,[e.path]),[n,r]=R.useState(!0),[i,s]=R.useState(!1);return R.useEffect(()=>{async function o(){let a=await cM(t);a=a!=null&&a.includes("File not found")?void 0:a,s(!!a),r(!1)}o()},[t]),n||i?_.jsx(yg,{mx:"auto",src:t}):_.jsx(Kp,{path:e.path})}class Jwt extends Ir.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?_.jsx(tt,{children:this.state.error.toString()}):this.props.children}}const Jue=Object.assign({"../public/libraries/mic-check/assets/AudioTest.tsx":Qxe,"../public/libraries/test/assets/test.tsx":Jxe,"../public/matrices/Stimuli.tsx":g2e,"../public/matrices/components/Background.tsx":ISe,"../public/matrices/components/ControlPanel.tsx":h2e,"../public/matrices/components/EncodedCells.tsx":LSe,"../public/matrices/components/Highlighting.tsx":PSe,"../public/matrices/components/InteractionButtons.tsx":d2e,"../public/matrices/components/Legend.tsx":MSe,"../public/matrices/components/Marks.tsx":HSe,"../public/matrices/components/Matrix.tsx":m2e,"../public/matrices/components/Tooltip.tsx":BSe,"../public/matrices/components/axis/DestinationAxis.tsx":ASe,"../public/matrices/components/axis/OriginAxis.tsx":SSe,"../public/matrices/hooks/useCellScales.tsx":YSe,"../public/matrices/hooks/useConfig.tsx":u2e,"../public/matrices/hooks/useOrdering.tsx":s2e,"../public/matrices/hooks/useRenderEncodeCells.tsx":WSe,"../public/matrices/hooks/useReplay.tsx":a2e,"../public/matrices/utils/Accessors.tsx":OSe,"../public/matrices/utils/Constants.ts":RSe,"../public/matrices/utils/Enums.ts":NSe,"../public/matrices/utils/Interfaces.tsx":y2e,"../public/matrices/utils/MatrixContext.tsx":_Se});function Zwt({currentConfig:e,provState:t,answers:n}){const r=`../public/${e.path}`,i=r in Jue?Jue[r].default:null,s=Pb(),o=Ms(),{updateResponseBlockValidation:a,setReactiveAnswers:l}=ps(),u=R.useCallback(({status:c,provenanceGraph:d,answers:f})=>{o(a({location:"stimulus",identifier:s,status:c,values:f,provenanceGraph:d})),o(l(f))},[l,o,a,s]);return _.jsx(R.Suspense,{fallback:_.jsx("div",{children:"Loading..."}),children:i?_.jsx(Jwt,{children:_.jsx(i,{parameters:e.parameters,setAnswer:u,answers:n,provenanceState:t})}):_.jsx(Kp,{path:e.path})})}function ext({currentConfig:e}){const[t,n]=R.useState(""),[r,i]=R.useState(!0);return R.useEffect(()=>{async function s(){const o=await cM(`${hs}${e.path}`);o!==void 0&&n(o),i(!1)}s()},[e.path]),r||t?_.jsx(Bp,{text:t}):_.jsx(Kp,{path:e.path})}function Y2e(){const e=Xa(),{setAlertModal:t}=ps(),n=Ms();R.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))}},[e,t,n])}var Zue=Object.prototype.hasOwnProperty;function ece(e,t,n){for(n of e.keys())if(YS(n,t))return n}function YS(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&YS(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=ece(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=ece(t,i),!i)||!YS(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Zue.call(e,n)&&++r&&!Zue.call(t,n)||!(n in t)||!YS(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function txt(e){var t=R.useRef(e),n=R.useRef(0);return YS(e,t.current)||(t.current=e,n.current+=1),R.useMemo(function(){return t.current},[n.current])}function nxt(e,t){return R.useEffect(e,txt(t))}const ZY=(e,t=null)=>{const[n,r]=R.useState("idle"),[i,s]=R.useState(null),[o,a]=R.useState(null),l=R.useRef(null),u=R.useRef(!1);R.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const c=R.useCallback((...d)=>{r("pending"),a(null);const f=Promise.resolve(e(...d)).then(h=>(u.current&&f===l.current&&(s(h),r("success")),h)).catch(h=>{throw u.current&&f===l.current&&(s(null),a(h),r("error")),h});return l.current=f,f},[e]);return nxt(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}};function rxt(e){const t=e.endTime===-1?void 0:e.endTime-e.startTime,n=(e.windowEvents||[]).filter(o=>o!==void 0).filter(([o,a,l])=>a==="visibility");let r=0,i=0;for(;i<n.length-1;){if(n[i][2]==="hidden"){for(let o=i+1;o<n.length;o+=1)if(n[o][2]==="visible"){r+=n[o][0]-n[i][0],i=o;break}}i+=1}return t?t-r:void 0}const ixt="_root_1spq0_1",sxt="_description_1spq0_9",oxt="_title_1spq0_10",axt="_closeButton_1spq0_14",lxt={root:ixt,description:sxt,title:oxt,closeButton:axt},J2=e=>{const{title:t,message:n,color:r}=e;xb.show({title:t,message:n,position:"top-center",classNames:lxt,color:r||"blue",autoClose:r==="red"||r==="yellow"?!1:5e3})},tce=["status","rejectReason","rejectTime","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","responseMin","responseMax","startTime","endTime","duration","cleanedDuration","meta","configHash"],K2e=["participantId","trialId","trialOrder","responseId"];function eK(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function uxt(e,t,n){const r=(Object.entries(e.answers).filter(([s,o])=>o.endTime!==-1).length/Object.entries(e.answers).length*100).toFixed(2),i=new Set;return[[{participantId:e.participantId,trialId:"participantTags",trialOrder:null,responseId:"participantTags",answer:JSON.stringify(e.participantTags)},...Object.values(e.answers).map(s=>{const o=s.componentName,{trialOrder:a}=s,l=n.components[o],u=Yu(l,n),c=s.endTime===-1?void 0:s.endTime-s.startTime,d=rxt(s),f=Object.keys(s.answer).length===0?{"":void 0}:s.answer;return Object.entries(f).map(([p,m])=>{var v,w,E;const g={participantId:e.participantId,trialId:o,trialOrder:a,responseId:p};Object.entries(s.parameters).forEach(([C,S])=>{g[`parameters_${C}`]=S,i.add(`parameters_${C}`)});const y=u.response.find(C=>C.id===p);if(t.includes("status")&&(g.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("rejectReason")&&(g.rejectReason=e.rejected?e.rejected.reason:void 0),t.includes("rejectTime")&&(g.rejectTime=e.rejected?new Date(e.rejected.timestamp).toISOString():void 0),t.includes("configHash")&&(g.configHash=e.participantConfigHash),t.includes("percentComplete")&&(g.percentComplete=r),t.includes("description")&&(g.description=u.description),t.includes("instruction")&&(g.instruction=u.instruction),t.includes("responsePrompt")&&(g.responsePrompt=y==null?void 0:y.prompt),t.includes("answer")&&(g.answer=m),t.includes("correctAnswer")){const C=(w=(v=u.correctAnswer)==null?void 0:v.find(A=>A.id===p))==null?void 0:w.answer,T=((E=s.correctAnswer.find(A=>A.id===p))==null?void 0:E.answer)||C;g.correctAnswer=typeof T=="object"?JSON.stringify(T):T}return t.includes("responseMin")&&(g.responseMin=(y==null?void 0:y.type)==="numerical"?y.min:void 0),t.includes("responseMax")&&(g.responseMax=(y==null?void 0:y.type)==="numerical"?y.max:void 0),t.includes("startTime")&&(g.startTime=new Date(s.startTime).toISOString()),t.includes("endTime")&&(g.endTime=new Date(s.endTime).toISOString()),t.includes("duration")&&(g.duration=c),t.includes("cleanedDuration")&&(g.cleanedDuration=d),t.includes("meta")&&(g.meta=JSON.stringify(u.meta,null,2)),g}).flat()}).flat()],Array.from(i)]}async function cxt(e,t,n,r){if(!n)return{header:[],rows:[]};const i=[...K2e,...e],s=[...new Set(t.map(f=>f.participantConfigHash))],o=await n.getAllConfigsFromHash(s,r),a=i,l=await Promise.all(t.map(async f=>await uxt(f,i,o[f.participantConfigHash]))),u=l.map(f=>f[0]),c=new Set(l.map(f=>f[1]).flat()),d=u.flat().sort((f,h)=>f!==h?f.participantId.localeCompare(h.participantId):f.trialOrder-h.trialOrder);return{header:[...a,...c],rows:d}}function dxt({opened:e,close:t,filename:n,data:r,studyId:i}){const[s,o]=R.useState([...tce].filter(p=>p!=="meta")),a=Wi(),{value:l,status:u,error:c}=ZY(cxt,[s,r,a.storageEngine,i]),d=R.useCallback(()=>{if(!l)return;const p=[l.header.join(","),...l.rows.map(m=>l.header.map(g=>`"${`${m[g]}`.replace(/"/g,'""')}"`).join(","))].join(`
`);eK(p,n)},[n,l]),f=R.useCallback(()=>{l&&(window.parent.postMessage({type:"revisitWidget/PYTHON_EXPORT_TIDY",payload:l},"*"),J2({title:"Success",message:"Data sent to python notebook",color:"green"}))},[l]),h=R.useMemo(()=>{if(!l)return"";const p=l.rows.length>5?5:l.rows.length,m=p===1?"":"s";return`This is a preview of the first ${m?p:""} row${m} of the CSV. The full CSV contains ${l.rows.length} row${m}.`},[l]);return _.jsxs(pi,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,children:[_.jsx(BT,{searchable:!0,nothingFoundMessage:"Property not found",data:[...tce],value:s,onChange:p=>o(p),label:"Included optional columns:",leftSection:_.jsx(mWe,{}),variant:"filled"}),_.jsx(Gu,{h:"md"}),_.jsxs(Se,{mih:300,style:{width:"100%",overflow:"scroll"},children:[u==="success"&&l?_.jsxs(Vn,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[_.jsx(Vn.Thead,{children:_.jsx(Vn.Tr,{children:l.header.map(p=>_.jsx(Vn.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(p)?200:void 0},children:_.jsxs(Nt,{direction:"row",justify:"space-between",align:"center",children:[p,!K2e.includes(p)&&_.jsx(Jn,{onClick:()=>o(s.filter(m=>m!==p)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:_.jsx(Av,{size:16})})]})},p))})}),_.jsx(Vn.Tbody,{children:l.rows.slice(0,5).map((p,m)=>_.jsx(Vn.Tr,{children:l.header.map(g=>_.jsx(Vn.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(g)?"normal":"nowrap"},children:p[g]},`${m}-${g}`))},m))})]}):u==="error"&&c?_.jsx($f,{variant:"light",children:c.message}):null,_.jsx(Ju,{visible:u==="pending"||u==="idle"})]}),_.jsx(Gu,{h:"sm"}),_.jsx(Nt,{justify:"center",fz:"sm",c:"dimmed",children:_.jsx(tt,{children:h})}),_.jsx(Gu,{h:"md"}),_.jsxs(Pi,{justify:"right",children:[_.jsx(qt,{onClick:t,color:"dark",variant:"subtle",children:"Close"}),_.jsx(qt,{leftSection:_.jsx(r1e,{}),onClick:d,"data-autofocus":!0,children:"Download"}),i==="__revisit-widget"&&_.jsx(qt,{onClick:f,children:_.jsx(VVe,{})})]})]})}function fxt(){const e=xu(),{storageEngine:t}=Wi(),n=Ig(),[r,i]=R.useState(!1);R.useEffect(()=>{if(n){i(!0);return}const w=setInterval(async()=>{await t.verifyCompletion()&&(i(!0),clearInterval(w))},1e3)},[]),Y2e();const[s,o]=R.useState(),[a,l]=R.useState(""),u=e.studyMetadata.title.replace(" ","_");R.useEffect(()=>{async function w(){if(t){const E=await t.getCurrentParticipantId(),C=await t.getParticipantData();l(E),o(C)}}w()},[t]);const c=R.useCallback(async()=>{eK(JSON.stringify(s,null,2),`${u}_${a}.json`)},[u,s,a]),d=e.uiConfig.autoDownloadStudy||!1,f=d&&e.uiConfig.autoDownloadTime||-1,[h,p]=R.useState(Math.floor(f/1e3));R.useEffect(()=>{if(r){const w=setInterval(()=>{p(E=>E-1)},1e3);return h<=0?(d&&c(),clearInterval(w),()=>clearInterval(w)):()=>clearInterval(w)}return()=>{}},[d,r,h,c]);const m=gh(),[g,y]=R.useState(!1);R.useEffect(()=>{(async()=>{if(t){const E=await t.getModes(m);y(E.dataCollectionEnabled)}})()},[t,m]);const v=R.useMemo(()=>{const{studyEndMsg:w,urlParticipantIdParam:E}=e.uiConfig;return!E||!(w!=null&&w.includes("{PARTICIPANT_ID}"))?w:w.replace(/\{PARTICIPANT_ID\}/g,()=>a)},[e,a]);return _.jsx(xd,{style:{height:"100%"},children:_.jsx(Nt,{direction:"column",children:r||!g?v?_.jsx(Bp,{text:v}):_.jsx(tt,{size:"xl",display:"block",children:"Thank you for completing the study. You may close this window now."}):_.jsxs(_.Fragment,{children:[_.jsx(tt,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),_.jsx(Gu,{h:"lg"}),_.jsx(xd,{children:_.jsx(Od,{color:"blue"})})]})})})}function hxt(){return _.jsx(tt,{children:"Thank you for participating. Unfortunately you have didn't answer the training correctly, which means you are not eligible to participate in the study. You may close this window now."})}function pxt(){return _.jsx(tt,{children:"Thank you for participating. Unfortunately, you have not answered the questions within the given time limit. Because of this, you are no longer eligible to participate in the study. You may close this window now."})}const nce={};function aU(e,t){e===void 0&&(e=nce),t===void 0&&(t=nce);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var mxt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gxt=Object.prototype.hasOwnProperty;function lU(e,t){return gxt.call(e,t)}function uU(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)lU(e,i)&&r.push(i);return r}function Zl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function cU(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function My(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function X2e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function dU(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(dU(e[t]))return!0}else if(typeof e=="object"){for(var r=uU(e),i=r.length,s=0;s<i;s++)if(dU(e[r[s]]))return!0}}return!1}function rce(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Q2e=function(e){mxt(t,e);function t(n,r,i,s,o){var a=this.constructor,l=e.call(this,rce(n,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=rce(n,{name:r,index:i,operation:s,tree:o}),l}return t}(Error),ji=Q2e,yxt=Zl,Aw={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=iN(n,this.path);r&&(r=Zl(r));var i=vv(n,{op:"remove",path:this.from}).removed;return vv(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=iN(n,this.from);return vv(n,{op:"add",path:this.path,value:Zl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Z2(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},vxt={add:function(e,t,n){return cU(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Aw.move,copy:Aw.copy,test:Aw.test,_get:Aw._get};function iN(e,t){if(t=="")return e;var n={op:"_get",path:t};return vv(e,n),n.value}function vv(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):sN(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=iN(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Z2(e,t.value),o.test===!1)throw new ji("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new ji("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Zl(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=sN;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=X2e(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!cU(h))throw new ji("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);cU(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new ji("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=vxt[t.op].call(t,u,h,e);if(o.test===!1)throw new ji("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=d){var o=Aw[t.op].call(t,u,h,e);if(o.test===!1)throw new ji("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new ji("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function dM(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new ji("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Zl(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=vv(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function bxt(e,t,n){var r=vv(e,t);if(r.test===!1)throw new ji("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function sN(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new ji("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Aw[e.op]){if(typeof e.path!="string")throw new ji("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new ji('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new ji("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new ji("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&dU(e.value))throw new ji("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new ji("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new ji("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=J2e([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new ji("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new ji("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function J2e(e,t,n){try{if(!Array.isArray(e))throw new ji("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)dM(Zl(t),Zl(e),n||!0);else{n=n||sN;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof ji)return i;throw i}}function Z2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Z2(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!Z2(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const wxt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:ji,_areEquals:Z2,applyOperation:vv,applyPatch:dM,applyReducer:bxt,deepClone:yxt,getValueByPointer:iN,validate:J2e,validator:sN},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var tK=new WeakMap,xxt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),_xt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Ext(e){return tK.get(e)}function Cxt(e,t){return e.observers.get(t)}function Sxt(e,t){e.observers.delete(t.callback)}function Txt(e,t){t.unobserve()}function Axt(e,t){var n=[],r,i=Ext(e);if(!i)i=new xxt(e),tK.set(e,i);else{var s=Cxt(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Zl(e),t){r.callback=t,r.next=null;var o=function(){fU(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){fU(r),clearTimeout(r.next),Sxt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new _xt(t,r)),r}function fU(e,t){t===void 0&&(t=!1);var n=tK.get(e.object);nK(n.value,e.object,e.patches,"",t),e.patches.length&&dM(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function nK(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=uU(t),o=uU(e),a=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(lU(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?nK(c,d,n,r+"/"+My(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+My(u),value:Zl(c)}),n.push({op:"replace",path:r+"/"+My(u),value:Zl(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+My(u),value:Zl(c)}),n.push({op:"remove",path:r+"/"+My(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var l=0;l<s.length;l++){var u=s[l];!lU(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+My(u),value:Zl(t[u])})}}}function kxt(e,t,n){n===void 0&&(n=!1);var r=[];return nK(e,t,r,"",n),r}const Ixt=Object.freeze(Object.defineProperty({__proto__:null,compare:kxt,generate:fU,observe:Axt,unobserve:Txt},Symbol.toStringTag,{value:"Module"}));Object.assign({},wxt,Ixt,{JsonPatchError:Q2e,deepClone:Zl,escapePathComponent:My,unescapePathComponent:X2e});var wj,ice;function Rxt(){if(ice)return wj;ice=1;var e=/("(?:[^\\"]|\\.)*")|[:,]/g;return wj=function(n,r){var i,s,o;return r=r||{},i=JSON.stringify([1],void 0,r.indent===void 0?2:r.indent).slice(2,-3),s=i===""?1/0:r.maxLength===void 0?80:r.maxLength,o=r.replacer,function a(l,u,c){var d,f,h,p,m,g,y,v,w,E,C,S;if(l&&typeof l.toJSON=="function"&&(l=l.toJSON()),C=JSON.stringify(l,o),C===void 0)return C;if(y=s-u.length-c,C.length<=y&&(w=C.replace(e,function(T,A){return A||T+" "}),w.length<=y))return w;if(o!=null&&(l=JSON.parse(C),o=void 0),typeof l=="object"&&l!==null){if(v=u+i,h=[],f=0,Array.isArray(l))for(E="[",d="]",y=l.length;f<y;f++)h.push(a(l[f],v,f===y-1?0:1)||"null");else for(E="{",d="}",g=Object.keys(l),y=g.length;f<y;f++)p=g[f],m=JSON.stringify(p)+": ",S=a(l[p],v,m.length+(f===y-1?0:1)),S!==void 0&&h.push(m+S);if(h.length>0)return[E,i+h.join(`,
`+v),d].join(`
`+u)}return C}(n,"",0)},wj}var Dxt=Rxt();const xj=ao(Dxt);function $l(e,t,n){return e.fields=t||[],e.fname=n,e}function Hi(e){return e==null?null:e.fname}function aa(e){return e==null?null:e.fields}function Z2e(e){return e.length===1?Pxt(e[0]):Oxt(e)}const Pxt=e=>function(t){return t[e]},Oxt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Ye(e){throw Error(e)}function vh(e){const t=[],n=e.length;let r=null,i=0,s="",o,a,l;e=e+"";function u(){t.push(s+e.substring(o,a)),s="",o=a+1}for(o=a=0;a<n;++a)if(l=e[a],l==="\\")s+=e.substring(o,a++),o=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;o===i&&l==='"'||o===i&&l==="'"?(o=a+1,r=l):l==="."&&!i?a>o?u():o=a+1:l==="["?(a>o&&u(),i=o=a+1):l==="]"&&(i||Ye("Access path missing open bracket: "+e),i>0&&u(),i=0,o=a+1)}return i&&Ye("Access path missing closing bracket: "+e),r&&Ye("Access path missing closing quote: "+e),a>o&&(a++,u()),t}function pu(e,t,n){const r=vh(e);return e=r.length===1?r[0]:e,$l((n&&n.get||Z2e)(r),[e],t||e)}const wA=pu("id"),Fo=$l(e=>e,[],"identity"),y0=$l(()=>0,[],"zero"),z_=$l(()=>1,[],"one"),Il=$l(()=>!0,[],"true"),Jm=$l(()=>!1,[],"false");function Nxt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const eTe=0,rK=1,iK=2,tTe=3,nTe=4;function sK(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nxt,r=e||eTe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=rK&&n(t||"error","ERROR",arguments),this},warn(){return r>=iK&&n(t||"warn","WARN",arguments),this},info(){return r>=tTe&&n(t||"log","INFO",arguments),this},debug(){return r>=nTe&&n(t||"log","DEBUG",arguments),this}}}var Xe=Array.isArray;function Dt(e){return e===Object(e)}const sce=e=>e!=="__proto__";function U_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const s in i)if(s==="signals")r.signals=$xt(r.signals,i.signals);else{const o=s==="legend"?{layout:1}:s==="style"?!0:null;H_(r,s,i[s],o)}return r},{})}function H_(e,t,n,r){if(!sce(t))return;let i,s;if(Dt(n)&&!Xe(n)){s=Dt(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?H_(s,i,n[i]):sce(i)&&(s[i]=n[i])}else e[t]=n}function $xt(e,t){if(e==null)return t;const n={},r=[];function i(s){n[s.name]||(n[s.name]=1,r.push(s))}return t.forEach(i),e.forEach(i),r}function Un(e){return e[e.length-1]}function Po(e){return e==null||e===""?null:+e}const rTe=e=>t=>e*Math.exp(t),iTe=e=>t=>Math.log(e*t),sTe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),oTe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,oN=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function fM(e,t,n,r){const i=n(e[0]),s=n(Un(e)),o=(s-i)*t;return[r(i-o),r(s-o)]}function oK(e,t){return fM(e,t,Po,Fo)}function aK(e,t){var n=Math.sign(e[0]);return fM(e,t,iTe(n),rTe(n))}function lK(e,t,n){return fM(e,t,oN(n),oN(1/n))}function uK(e,t,n){return fM(e,t,sTe(n),oTe(n))}function hM(e,t,n,r,i){const s=r(e[0]),o=r(Un(e)),a=t!=null?r(t):(s+o)/2;return[i(a+(s-a)*n),i(a+(o-a)*n)]}function pM(e,t,n){return hM(e,t,n,Po,Fo)}function mM(e,t,n){const r=Math.sign(e[0]);return hM(e,t,n,iTe(r),rTe(r))}function eT(e,t,n,r){return hM(e,t,n,oN(r),oN(1/r))}function gM(e,t,n,r){return hM(e,t,n,sTe(r),oTe(r))}function cK(e){return 1+~~(new Date(e).getMonth()/3)}function dK(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Rt(e){return e!=null?Xe(e)?e:[e]:[]}function fK(e,t,n){let r=e[0],i=e[1],s;return i<r&&(s=i,i=r,r=s),s=i-r,s>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-s),r+s]}function Rn(e){return typeof e=="function"}const Mxt="descending";function hK(e,t,n){n=n||{},t=Rt(t)||[];const r=[],i=[],s={},o=n.comparator||Fxt;return Rt(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===Mxt?-1:1),i.push(a=Rn(a)?a:pu(a,null,n)),(aa(a)||[]).forEach(u=>s[u]=1))}),i.length===0?null:$l(o(i,r),Object.keys(s))}const q_=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),Fxt=(e,t)=>e.length===1?Lxt(e[0],t[0]):jxt(e,t,e.length),Lxt=(e,t)=>function(n,r){return q_(e(n),e(r))*t},jxt=(e,t,n)=>(t.push(0),function(r,i){let s,o=0,a=-1;for(;o===0&&++a<n;)s=e[a],o=q_(s(r),s(i));return o*t[a]});function pa(e){return Rn(e)?e:()=>e}function pK(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function An(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Ed(e,t){let n=0,r,i,s,o;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(s=o=i;n<r;++n)i=e[n],i!=null&&(i<s&&(s=i),i>o&&(o=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(s=o=i;n<r;++n)i=t(e[n]),i!=null&&(i<s&&(s=i),i>o&&(o=i))}return[s,o]}function aTe(e,t){const n=e.length;let r=-1,i,s,o,a,l;if(t==null){for(;++r<n;)if(s=e[r],s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)s=e[r],s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,l=r))}else{for(;++r<n;)if(s=t(e[r],r,e),s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)s=t(e[r],r,e),s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,l=r))}return[a,l]}function Ft(e,t){return Object.hasOwn(e,t)}const iR={};function V_(e){let t={},n;function r(s){return Ft(t,s)&&t[s]!==iR}const i={size:0,empty:0,object:t,has:r,get(s){return r(s)?t[s]:void 0},set(s,o){return r(s)||(++i.size,t[s]===iR&&--i.empty),t[s]=o,this},delete(s){return r(s)&&(--i.size,++i.empty,t[s]=iR),this},clear(){i.size=i.empty=0,i.object=t={}},test(s){return arguments.length?(n=s,i):n},clean(){const s={};let o=0;for(const a in t){const l=t[a];l!==iR&&(!n||!n(l))&&(s[a]=l,++o)}i.size=o,i.empty=0,i.object=t=s}};return e&&Object.keys(e).forEach(s=>{i.set(s,e[s])}),i}function mK(e,t,n,r,i,s){if(!n&&n!==0)return s;const o=+n;let a=e[0],l=Un(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=o?r:c<=o?i:s}function Ct(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),An(r,n)}function sv(e,t,n,r){let i=t[0],s=t[t.length-1],o;return i>s&&(o=i,i=s,s=o),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=s:e<s)}function fm(e){return typeof e=="boolean"}function Rp(e){return Object.prototype.toString.call(e)==="[object Date]"}function lTe(e){return e&&Rn(e[Symbol.iterator])}function yr(e){return typeof e=="number"}function xA(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function It(e){return typeof e=="string"}function gK(e,t,n){e&&(e=t?Rt(e).map(a=>a.replace(/\\(.)/g,"$1")):Rt(e));const r=e&&e.length,i=n&&n.get||Z2e,s=a=>i(t?[a]:vh(a));let o;if(!r)o=function(){return""};else if(r===1){const a=s(e[0]);o=function(l){return""+a(l)}}else{const a=e.map(s);o=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return $l(o,e,"key")}function yK(e,t){const n=e[0],r=Un(e),i=+t;return i?i===1?r:n+i*(r-n):n}const Bxt=1e4;function uTe(e){e=+e||Bxt;let t,n,r;const i=()=>{t={},n={},r=0},s=(o,a)=>(++r>e&&(n=t,t={},r=1),t[o]=a);return i(),{clear:i,has:o=>Ft(t,o)||Ft(n,o),get:o=>Ft(t,o)?t[o]:Ft(n,o)?s(o,n[o]):void 0,set:(o,a)=>Ft(t,o)?t[o]=a:s(o,a)}}function cTe(e,t,n,r){const i=t.length,s=n.length;if(!s)return t;if(!i)return n;const o=r||new t.constructor(i+s);let a=0,l=0,u=0;for(;a<i&&l<s;++u)o[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)o[u]=t[a];for(;l<s;++l,++u)o[u]=n[l];return o}function uS(e,t){let n="";for(;--t>=0;)n+=e;return n}function vK(e,t,n,r){const i=n||" ",s=e+"",o=t-s.length;return o<=0?s:r==="left"?uS(i,o)+s:r==="center"?uS(i,~~(o/2))+s+uS(i,Math.ceil(o/2)):s+uS(i,o)}function W_(e){return e&&Un(e)-e[0]||0}function vt(e){return Xe(e)?"["+e.map(vt)+"]":Dt(e)||It(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function yM(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const zxt=e=>yr(e)||Rp(e)?e:Date.parse(e);function vM(e,t){return t=t||zxt,e==null||e===""?null:t(e)}function bM(e){return e==null||e===""?null:e+""}function Cd(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function bK(e,t,n,r){const i=r??"",s=e+"",o=s.length,a=Math.max(0,t-i.length);return o<=t?s:n==="left"?i+s.slice(o-a):n==="center"?s.slice(0,Math.ceil(a/2))+i+s.slice(o-~~(a/2)):s.slice(0,a)+i}function s0(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const s=t(e[i]);s&&n(s,i,e)}}else e.forEach(n)}function Uxt(e){return e}function Hxt(e){if(e==null)return Uxt;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],o=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,d=new Array(c);for(d[0]=(t+=a[0])*r+s,d[1]=(n+=a[1])*i+o;u<c;)d[u]=a[u],++u;return d}}function qxt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Vxt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return oce(e,n)})}:oce(e,t)}function oce(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=dTe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function dTe(e,t){var n=Hxt(e.transform),r=e.arcs;function i(c,d){d.length&&d.pop();for(var f=r[c<0?~c:c],h=0,p=f.length;h<p;++h)d.push(n(f[h],h));c<0&&qxt(d,p)}function s(c){return n(c)}function o(c){for(var d=[],f=0,h=c.length;f<h;++f)i(c[f],d);return d.length<2&&d.push(d[0]),d}function a(c){for(var d=o(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(a)}function u(c){var d=c.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":f=s(c.coordinates);break;case"MultiPoint":f=c.coordinates.map(s);break;case"LineString":f=o(c.arcs);break;case"MultiLineString":f=c.arcs.map(o);break;case"Polygon":f=l(c.arcs);break;case"MultiPolygon":f=c.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return u(t)}function Wxt(e,t){var n={},r={},i={},s=[],o=-1;t.forEach(function(u,c){var d=e.arcs[u<0?~u:u],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=t[++o],t[o]=u,t[c]=f)}),t.forEach(function(u){var c=a(u),d=c[0],f=c[1],h,p;if(h=i[d])if(delete i[h.end],h.push(u),h.end=f,p=r[f]){delete r[p.start];var m=p===h?h:h.concat(p);r[m.start=h.start]=i[m.end=p.end]=m}else r[h.start]=i[h.end]=h;else if(h=r[f])if(delete r[h.start],h.unshift(u),h.start=d,p=i[d]){delete i[p.end];var g=p===h?h:p.concat(h);r[g.start=p.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=d]=i[h.end=f]=h});function a(u){var c=e.arcs[u<0?~u:u],d=c[0],f;return e.transform?(f=[0,0],c.forEach(function(h){f[0]+=h[0],f[1]+=h[1]})):f=c[c.length-1],u<0?[f,d]:[d,f]}function l(u,c){for(var d in u){var f=u[d];delete c[f.start],delete f.start,delete f.end,f.forEach(function(h){n[h<0?~h:h]=1}),s.push(f)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||s.push([u])}),s}function Gxt(e){return dTe(e,Yxt.apply(this,arguments))}function Yxt(e,t,n){var r,i,s;if(arguments.length>1)r=Kxt(e,t,n);else for(i=0,r=new Array(s=e.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:Wxt(e,r)}}function Kxt(e,t,n){var r=[],i=[],s;function o(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:s})}function a(d){d.forEach(o)}function l(d){d.forEach(a)}function u(d){d.forEach(l)}function c(d){switch(s=d,d.type){case"GeometryCollection":d.geometries.forEach(c);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return c(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}const $o="year",Rl="quarter",la="month",Ds="week",Dl="date",ia="day",nh="dayofyear",mu="hours",gu="minutes",nc="seconds",Sd="milliseconds",wK=[$o,Rl,la,Ds,Dl,ia,nh,mu,gu,nc,Sd],_j=wK.reduce((e,t,n)=>(e[t]=1+n,e),{});function xK(e){const t=Rt(e).slice(),n={};return t.length||Ye("Missing time unit."),t.forEach(i=>{Ft(_j,i)?n[i]=1:Ye(`Invalid time unit: ${i}.`)}),(n[Ds]||n[ia]?1:0)+(n[Rl]||n[la]||n[Dl]?1:0)+(n[nh]?1:0)>1&&Ye(`Incompatible time units: ${e}`),t.sort((i,s)=>_j[i]-_j[s]),t}const Xxt={[$o]:"%Y ",[Rl]:"Q%q ",[la]:"%b ",[Dl]:"%d ",[Ds]:"W%U ",[ia]:"%a ",[nh]:"%j ",[mu]:"%H:00",[gu]:"00:%M",[nc]:":%S",[Sd]:".%L",[`${$o}-${la}`]:"%Y-%m ",[`${$o}-${la}-${Dl}`]:"%Y-%m-%d ",[`${mu}-${gu}`]:"%H:%M"};function _K(e,t){const n=An({},Xxt,t),r=xK(e),i=r.length;let s="",o=0,a,l;for(o=0;o<i;)for(a=r.length;a>o;--a)if(l=r.slice(o,a).join("-"),n[l]!=null){s+=n[l],o=a;break}return s.trim()}const Hy=new Date;function EK(e){return Hy.setFullYear(e),Hy.setMonth(0),Hy.setDate(1),Hy.setHours(0,0,0,0),Hy}function CK(e){return fTe(new Date(e))}function SK(e){return hU(new Date(e))}function fTe(e){return kp.count(EK(e.getFullYear())-1,e)}function hU(e){return j_.count(EK(e.getFullYear())-1,e)}function pU(e){return EK(e).getDay()}function Qxt(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,s,o);return a.setFullYear(e),a}return new Date(e,t,n,r,i,s,o)}function TK(e){return hTe(new Date(e))}function AK(e){return mU(new Date(e))}function hTe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return M0.count(t-1,e)}function mU(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return B_.count(t-1,e)}function gU(e){return Hy.setTime(Date.UTC(e,0,1)),Hy.getUTCDay()}function Jxt(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,s,o));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,s,o))}function pTe(e,t,n,r,i){const s=t||1,o=Un(e),a=(y,v,w)=>(w=w||y,Zxt(n[w],r[w],y===o&&s,v)),l=new Date,u=Cd(e),c=u[$o]?a($o):pa(2012),d=u[la]?a(la):u[Rl]?a(Rl):y0,f=u[Ds]&&u[ia]?a(ia,1,Ds+ia):u[Ds]?a(Ds,1):u[ia]?a(ia,1):u[Dl]?a(Dl,1):u[nh]?a(nh,1):z_,h=u[mu]?a(mu):y0,p=u[gu]?a(gu):y0,m=u[nc]?a(nc):y0,g=u[Sd]?a(Sd):y0;return function(y){l.setTime(+y);const v=c(l);return i(v,d(l),f(l,v),h(l),p(l),m(l),g(l))}}function Zxt(e,t,n,r){const i=n<=1?e:r?(s,o)=>r+n*Math.floor((e(s,o)-r)/n):(s,o)=>n*Math.floor(e(s,o)/n);return t?(s,o)=>t(i(s,o),o):i}function Fx(e,t,n){return t+e*7-(n+6)%7}const e_t={[$o]:e=>e.getFullYear(),[Rl]:e=>Math.floor(e.getMonth()/3),[la]:e=>e.getMonth(),[Dl]:e=>e.getDate(),[mu]:e=>e.getHours(),[gu]:e=>e.getMinutes(),[nc]:e=>e.getSeconds(),[Sd]:e=>e.getMilliseconds(),[nh]:e=>fTe(e),[Ds]:e=>hU(e),[Ds+ia]:(e,t)=>Fx(hU(e),e.getDay(),pU(t)),[ia]:(e,t)=>Fx(1,e.getDay(),pU(t))},t_t={[Rl]:e=>3*e,[Ds]:(e,t)=>Fx(e,0,pU(t))};function mTe(e,t){return pTe(e,t||1,e_t,t_t,Qxt)}const n_t={[$o]:e=>e.getUTCFullYear(),[Rl]:e=>Math.floor(e.getUTCMonth()/3),[la]:e=>e.getUTCMonth(),[Dl]:e=>e.getUTCDate(),[mu]:e=>e.getUTCHours(),[gu]:e=>e.getUTCMinutes(),[nc]:e=>e.getUTCSeconds(),[Sd]:e=>e.getUTCMilliseconds(),[nh]:e=>hTe(e),[Ds]:e=>mU(e),[ia]:(e,t)=>Fx(1,e.getUTCDay(),gU(t)),[Ds+ia]:(e,t)=>Fx(mU(e),e.getUTCDay(),gU(t))},r_t={[Rl]:e=>3*e,[Ds]:(e,t)=>Fx(e,0,gU(t))};function gTe(e,t){return pTe(e,t||1,n_t,r_t,Jxt)}const i_t={[$o]:eh,[Rl]:Y2.every(3),[la]:Y2,[Ds]:j_,[Dl]:kp,[ia]:kp,[nh]:kp,[mu]:G4,[gu]:V4,[nc]:vp,[Sd]:Px},s_t={[$o]:th,[Rl]:K2.every(3),[la]:K2,[Ds]:B_,[Dl]:M0,[ia]:M0,[nh]:M0,[mu]:Y4,[gu]:W4,[nc]:vp,[Sd]:Px};function G_(e){return i_t[e]}function Y_(e){return s_t[e]}function yTe(e,t,n){return e?e.offset(t,n):void 0}function kK(e,t,n){return yTe(G_(e),t,n)}function IK(e,t,n){return yTe(Y_(e),t,n)}function vTe(e,t,n,r){return e?e.range(t,n,r):void 0}function RK(e,t,n,r){return vTe(G_(e),t,n,r)}function DK(e,t,n,r){return vTe(Y_(e),t,n,r)}const cS=1e3,dS=cS*60,fS=dS*60,wM=fS*24,o_t=wM*7,ace=wM*30,yU=wM*365,bTe=[$o,la,Dl,mu,gu,nc,Sd],hS=bTe.slice(0,-1),pS=hS.slice(0,-1),mS=pS.slice(0,-1),a_t=mS.slice(0,-1),l_t=[$o,Ds],lce=[$o,la],wTe=[$o],cC=[[hS,1,cS],[hS,5,5*cS],[hS,15,15*cS],[hS,30,30*cS],[pS,1,dS],[pS,5,5*dS],[pS,15,15*dS],[pS,30,30*dS],[mS,1,fS],[mS,3,3*fS],[mS,6,6*fS],[mS,12,12*fS],[a_t,1,wM],[l_t,1,o_t],[lce,1,ace],[lce,3,3*ace],[wTe,1,yU]];function xTe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(W_(t))/n;let i=M_(a=>a[2]).right(cC,r),s,o;return i===cC.length?(s=wTe,o=K0(t[0]/yU,t[1]/yU,n)):i?(i=cC[r/cC[i-1][2]<cC[i][2]/r?i-1:i],s=i[0],o=i[1]):(s=bTe,o=Math.max(K0(t[0],t[1],n),1)),{units:s,step:o}}function gS(e){const t={};return n=>t[n]||(t[n]=e(n))}function u_t(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let s=c_t(r,i);const o=s<r.length?r.slice(s):"";for(;--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+o}}function c_t(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function _Te(e){const t=gS(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Fv(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return u_t(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,s,o){o=Fv(o??",f");const a=K0(r,i,s),l=Math.max(Math.abs(r),Math.abs(i));let u;if(o.precision==null)switch(o.type){case"s":return isNaN(u=$Ee(a,l))||(o.precision=u),n(o,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=MEe(a,l))||(o.precision=u-(o.type==="e"));break}case"f":case"%":{isNaN(u=NEe(a))||(o.precision=u-(o.type==="%")*2);break}}return t(o)}}}let vU;ETe();function ETe(){return vU=_Te({format:L4,formatPrefix:hY})}function CTe(e){return _Te(OEe(e))}function aN(e){return arguments.length?vU=CTe(e):vU}function uce(e,t,n){n=n||{},Dt(n)||Ye(`Invalid time multi-format specifier: ${n}`);const r=t(nc),i=t(gu),s=t(mu),o=t(Dl),a=t(Ds),l=t(la),u=t(Rl),c=t($o),d=e(n[Sd]||".%L"),f=e(n[nc]||":%S"),h=e(n[gu]||"%I:%M"),p=e(n[mu]||"%I %p"),m=e(n[Dl]||n[ia]||"%a %d"),g=e(n[Ds]||"%b %d"),y=e(n[la]||"%B"),v=e(n[Rl]||"%B"),w=e(n[$o]||"%Y");return E=>(r(E)<E?d:i(E)<E?f:s(E)<E?h:o(E)<E?p:l(E)<E?a(E)<E?m:g:c(E)<E?u(E)<E?y:v:w)(E)}function STe(e){const t=gS(e.format),n=gS(e.utcFormat);return{timeFormat:r=>It(r)?t(r):uce(t,G_,r),utcFormat:r=>It(r)?n(r):uce(n,Y_,r),timeParse:gS(e.parse),utcParse:gS(e.utcParse)}}let bU;TTe();function TTe(){return bU=STe({format:AY,parse:XCe,utcFormat:kY,utcParse:QCe})}function ATe(e){return STe(VCe(e))}function tT(e){return arguments.length?bU=ATe(e):bU}const wU=(e,t)=>An({},e,t);function kTe(e,t){const n=e?CTe(e):aN(),r=t?ATe(t):tT();return wU(n,r)}function PK(e,t){const n=arguments.length;return n&&n!==2&&Ye("defaultLocale expects either zero or two arguments."),n?wU(aN(e),tT(t)):wU(aN(),tT())}function d_t(){return ETe(),TTe(),PK()}const f_t=/^(data:|([A-Za-z]+:)?\/\/)/,h_t=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,p_t=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,cce="file://";function m_t(e,t){return n=>({options:n||{},sanitize:y_t,load:g_t,fileAccess:!1,file:v_t(t),http:w_t(e)})}async function g_t(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function y_t(e,t){t=An({},this.options,t);const n=this.fileAccess,r={href:null};let i,s,o;const a=h_t.test(e.replace(p_t,""));(e==null||typeof e!="string"||!a)&&Ye("Sanitize failure, invalid URI: "+vt(e));const l=f_t.test(e);return(o=t.baseURL)&&!l&&(!e.startsWith("/")&&!o.endsWith("/")&&(e="/"+e),e=o+e),s=(i=e.startsWith(cce))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(cce.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!s}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function v_t(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,s)=>{i?r(i):n(s)})}):b_t}async function b_t(){Ye("No file system access.")}function w_t(e){return e?async function(t,n){const r=An({},this.options.http,n),i=n&&n.response,s=await e(t,r);return s.ok?Rn(s[i])?s[i]():s.text():Ye(s.status+""+s.statusText)}:x_t}async function x_t(){Ye("No HTTP fetch method available.")}const __t=e=>e!=null&&e===e,E_t=e=>e==="true"||e==="false"||e===!0||e===!1,C_t=e=>!Number.isNaN(Date.parse(e)),ITe=e=>!Number.isNaN(+e)&&!(e instanceof Date),S_t=e=>ITe(e)&&Number.isInteger(+e),xU={boolean:yM,integer:Po,number:Po,date:vM,string:bM,unknown:Fo},sR=[E_t,S_t,ITe,C_t],T_t=["boolean","integer","number","date"];function RTe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=sR.length,i=sR.map((s,o)=>o+1);for(let s=0,o=0,a,l;s<n;++s)for(l=t?e[s][t]:e[s],a=0;a<r;++a)if(i[a]&&__t(l)&&!sR[a](l)&&(i[a]=0,++o,o===sR.length))return"string";return T_t[i.reduce((s,o)=>s===0?o:s,0)-1]}function DTe(e,t){return t.reduce((n,r)=>(n[r]=RTe(e,r),n),{})}function dce(e){const t=function(n,r){const i={delimiter:e};return OK(n,r?An(r,i):i)};return t.responseType="text",t}function OK(e,t){return t.header&&(e=t.header.map(vt).join(t.delimiter)+`
`+e),zft(t.delimiter).parse(e+"")}OK.responseType="text";function A_t(e){return typeof Buffer=="function"&&Rn(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function NK(e,t){const n=t&&t.property?pu(t.property):Fo;return Dt(e)&&!A_t(e)?k_t(n(e),t):n(JSON.parse(e))}NK.responseType="json";function k_t(e,t){return!Xe(e)&&lTe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const I_t={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function PTe(e,t){let n,r,i,s;return e=NK(e,t),t&&t.feature?(n=Vxt,i=t.feature):t&&t.mesh?(n=Gxt,i=t.mesh,s=I_t[t.filter]):Ye("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,s):Ye("Invalid TopoJSON object: "+i),r&&r.features||[r]}PTe.responseType="json";const VP={dsv:OK,csv:dce(","),tsv:dce("	"),json:NK,topojson:PTe};function $K(e,t){return arguments.length>1?(VP[e]=t,this):Ft(VP,e)?VP[e]:null}function OTe(e){const t=$K(e);return t&&t.responseType||"text"}function NTe(e,t,n,r){t=t||{};const i=$K(t.type||"json");return i||Ye("Unknown data format type: "+t.type),e=i(e,t),t.parse&&R_t(e,t.parse,n,r),Ft(e,"columns")&&delete e.columns,e}function R_t(e,t,n,r){if(!e.length)return;const i=tT();n=n||i.timeParse,r=r||i.utcParse;let s=e.columns||Object.keys(e[0]),o,a,l,u,c,d;t==="auto"&&(t=DTe(e,s)),s=Object.keys(t);const f=s.map(h=>{const p=t[h];let m,g;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),g=m[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(m[0]==="utc"?r:n)(g);if(!xU[p])throw Error("Illegal format pattern: "+h+":"+p);return xU[p]});for(l=0,c=e.length,d=s.length;l<c;++l)for(o=e[l],u=0;u<d;++u)a=s[u],o[a]=f[u](o[a])}const xM=m_t(typeof fetch<"u"&&fetch,null);function _M(e){const t=e||Fo,n=[],r={};return n.add=i=>{const s=t(i);return r[s]||(r[s]=1,n.push(i)),n},n.remove=i=>{const s=t(i);if(r[s]){r[s]=0;const o=n.indexOf(i);o>=0&&n.splice(o,1)}return n},n}async function WP(e,t){try{await t(e)}catch(n){e.error(n)}}const $Te=Symbol("vega_id");let D_t=1;function K_(e){return!!(e&&nn(e))}function nn(e){return e[$Te]}function MTe(e,t){return e[$Te]=t,e}function Rr(e){const t=e===Object(e)?e:{data:e};return nn(t)?t:MTe(t,D_t++)}function MK(e){return EM(e,Rr({}))}function EM(e,t){for(const n in e)t[n]=e[n];return t}function FTe(e,t){return MTe(t,nn(e))}function Ob(e,t){return e?t?(n,r)=>e(n,r)||nn(t(n))-nn(t(r)):(n,r)=>e(n,r)||nn(n)-nn(r):null}function LTe(e){return e&&e.constructor===Nb}function Nb(){const e=[],t=[],n=[],r=[],i=[];let s=null,o=!1;return{constructor:Nb,insert(a){const l=Rt(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=Rn(a)?r:t,u=Rt(a),c=u.length;for(let d=0;d<c;++d)l.push(u[d]);return this},modify(a,l,u){const c={field:l,value:pa(u)};return Rn(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return Rn(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return s=a,this},reflow(){return o=!0,this},pulse(a,l){const u={},c={};let d,f,h,p,m,g;for(d=0,f=l.length;d<f;++d)u[nn(l[d])]=1;for(d=0,f=t.length;d<f;++d)m=t[d],u[nn(m)]=-1;for(d=0,f=r.length;d<f;++d)p=r[d],l.forEach(v=>{p(v)&&(u[nn(v)]=-1)});for(d=0,f=e.length;d<f;++d)m=e[d],g=nn(m),u[g]?u[g]=1:a.add.push(Rr(e[d]));for(d=0,f=l.length;d<f;++d)m=l[d],u[nn(m)]<0&&a.rem.push(m);function y(v,w,E){E?v[w]=E(v):a.encode=w,o||(c[nn(v)]=v)}for(d=0,f=n.length;d<f;++d)h=n[d],m=h.tuple,p=h.field,g=u[nn(m)],g>0&&(y(m,p,h.value),a.modifies(p));for(d=0,f=i.length;d<f;++d)h=i[d],p=h.filter,l.forEach(v=>{p(v)&&u[nn(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(o)a.mod=t.length||r.length?l.filter(v=>u[nn(v)]>0):l.slice();else for(g in c)a.mod.push(c[g]);return(s||s==null&&(t.length||r.length))&&a.clean(!0),a}}}const GP="_:mod:_";function CM(){Object.defineProperty(this,GP,{writable:!0,value:{}})}CM.prototype={set(e,t,n,r){const i=this,s=i[e],o=i[GP];return t!=null&&t>=0?(s[t]!==n||r)&&(s[t]=n,o[t+":"+e]=-1,o[e]=-1):(s!==n||r)&&(i[e]=n,o[e]=Xe(n)?1+n.length:-1),i},modified(e,t){const n=this[GP];if(arguments.length){if(Xe(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[GP]={},this}};let P_t=0;const O_t="pulse",N_t=new CM,$_t=1,M_t=2;function ei(e,t,n,r){this.id=++P_t,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function fce(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}ei.prototype={targets(){return this._targets||(this._targets=_M(wA))},set(e){return this.value!==e?(this.value=e,1):0},skip:fce($_t),modified:fce(M_t),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new CM,i=this._argops=this._argops||[],s=[];let o,a,l,u;const c=(d,f,h)=>{h instanceof ei?(h!==this&&(t&&h.targets().add(this),s.push(h)),i.push({op:h,name:d,index:f})):r.set(d,f,h)};for(o in e)if(a=e[o],o===O_t)Rt(a).forEach(d=>{d instanceof ei?d!==this&&(d.targets().add(this),s.push(d)):Ye("Pulse parameters must be operator instances.")}),this.source=a;else if(Xe(a))for(r.set(o,-1,Array(l=a.length)),u=0;u<l;++u)c(o,u,a[u]);else c(o,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),s},marshall(e){const t=this._argval||N_t,n=this._argops;let r,i,s,o;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],s=r.op,o=s.modified()&&s.stamp===e,t.set(r.name,r.index,s.value,o);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function F_t(e,t,n,r){let i=1,s;return e instanceof ei?s=e:e&&e.prototype instanceof ei?s=new e:Rn(e)?s=new ei(null,e):(i=0,s=new ei(e,t)),this.rank(s),i&&(r=n,n=t),n&&this.connect(s,s.parameters(n,r)),this.touch(s),s}function L_t(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let j_t=0;function SM(e,t,n){this.id=++j_t,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Zm(e,t,n){return new SM(e,t,n)}SM.prototype={_filter:Il,_apply:Fo,targets(){return this._targets||(this._targets=_M(wA))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Zm(e);return this.targets().add(t),t},apply(e){const t=Zm(null,e);return this.targets().add(t),t},merge(){const e=Zm();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Zm();return this.targets().add(Zm(null,null,pK(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Zm(null,null,()=>n=!0)),t.targets().add(Zm(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Il,this._targets=null}};function B_t(e,t,n,r){const i=this,s=Zm(n,r),o=function(u){u.dataflow=i;try{s.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=Rt(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,o);return s}function z_t(e,t){const n=this.locale();return NTe(e,t,n.timeParse,n.utcParse)}function U_t(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function H_t(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:OTe(t&&t.type)});try{i=n.parse(i,t)}catch(s){r=-2,n.warn("Data ingestion failed",e,s)}}catch(s){r=-1,n.warn("Loading failed",e,s)}return{data:i,status:r}}async function q_t(e,t,n){const r=this,i=r._pending||V_t(r);i.requests+=1;const s=await r.request(t,n);return r.pulse(e,r.changeset().remove(Il).insert(s.data||[])),i.done(),s}function V_t(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const W_t={skip:!0};function G_t(e,t,n,r,i){return(e instanceof ei?K_t:Y_t)(this,e,t,n,r,i),this}function Y_t(e,t,n,r,i,s){const o=An({},s,W_t);let a,l;Rn(n)||(n=pa(n)),r===void 0?a=u=>e.touch(n(u)):Rn(r)?(l=new ei(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),d=l.value;LTe(d)?e.pulse(c,d,s):e.update(c,d,o)}):a=u=>e.update(n(u),r,o),t.apply(a)}function K_t(e,t,n,r,i,s){if(r===void 0)t.targets().add(n);else{const o=s||{},a=new ei(null,X_t(n,r),i,!1);a.modified(o.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function X_t(e,t){return t=Rn(t)?t:pa(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function Q_t(e){e.rank=++this._rank}function J_t(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&Ye("Cycle detected in dataflow graph.")}const lN={},bf=1,o0=2,ep=4,Z_t=bf|o0,hce=bf|ep,B1=bf|o0|ep,pce=8,dC=16,mce=32,gce=64;function F0(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Ej(e,t){const n=[];return s0(e,t,r=>n.push(r)),n}function yce(e,t){const n={};return e.visit(t,r=>{n[nn(r)]=1}),r=>n[nn(r)]?null:r}function oR(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}F0.prototype={StopPropagation:lN,ADD:bf,REM:o0,MOD:ep,ADD_REM:Z_t,ADD_MOD:hce,ALL:B1,REFLOW:pce,SOURCE:dC,NO_SOURCE:mce,NO_FIELDS:gce,fork(e){return new F0(this.dataflow).init(this,e)},clone(){const e=this.fork(B1);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(B1|dC)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new F0(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&gce)&&(n.fields=e.fields),t&bf?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&o0?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&ep?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&mce?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||B1;return t&bf&&this.add.length||t&o0&&this.rem.length||t&ep&&this.mod.length},reflow(e){if(e)return this.fork(B1).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(ep,yce(this,bf))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Xe(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?Xe(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&bf&&(n.addF=oR(n.addF,t)),e&o0&&(n.remF=oR(n.remF,t)),e&ep&&(n.modF=oR(n.modF,t)),e&dC&&(n.srcF=oR(n.srcF,t)),n},materialize(e){e=e||B1;const t=this;return e&bf&&t.addF&&(t.add=Ej(t.add,t.addF),t.addF=null),e&o0&&t.remF&&(t.rem=Ej(t.rem,t.remF),t.remF=null),e&ep&&t.modF&&(t.mod=Ej(t.mod,t.modF),t.modF=null),e&dC&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&dC)return s0(n.source,n.srcF,r),n;e&bf&&s0(n.add,n.addF,r),e&o0&&s0(n.rem,n.remF,r),e&ep&&s0(n.mod,n.modF,r);const i=n.source;if(e&pce&&i){const s=n.add.length+n.mod.length;s===i.length||(s?s0(i,yce(n,hce),r):s0(i,n.srcF,r))}return n}};function FK(e,t,n,r){const i=this;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const o of n)if(o.stamp===t){if(o.fields){const a=i.fields||(i.fields={});for(const l in o.fields)a[l]=1}o.changed(i.ADD)&&(s|=i.ADD),o.changed(i.REM)&&(s|=i.REM),o.changed(i.MOD)&&(s|=i.MOD)}this.changes=s}Ct(FK,F0,{fork(e){const t=new F0(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?Xe(e)?e.some(r=>n[r]):n[e]:0},filter(){Ye("MultiPulse does not support filtering.")},materialize(){Ye("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let s=0;if(e&n.SOURCE)for(;s<i;++s)r[s].visit(e,t);else for(;s<i;++s)r[s].stamp===n.stamp&&r[s].visit(e,t);return n}});async function eEt(e,t,n){const r=this,i=[];if(r._pulse)return jTe(r);if(r._pending&&await r._pending,t&&await WP(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const s=++r._clock;r._pulse=new F0(r,s,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=_M(wA);let o=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=lN),l!==lN&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++o}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${s}: ${o} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((d,f)=>f.priority-d.priority);r._postrun=[];for(let d=0;d<c.length;++d)await WP(r,c[d].callback)}return n&&await WP(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(d=>{try{d(r)}catch(f){r.error(f)}})})),r}async function tEt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function nEt(e,t,n){return this._pulse?jTe(this):(this.evaluate(e,t,n),this)}function rEt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function jTe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function iEt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function sEt(e,t){const n=e.source,r=this._clock;return n&&Xe(n)?new FK(this,r,n.map(i=>i.pulse),t):this._input[e.id]||oEt(this._pulse,n&&n.pulse)}function oEt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==lN&&(e.source=t.source),e)}const LK={skip:!1,force:!1};function aEt(e,t){const n=t||LK;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function lEt(e,t,n){const r=n||LK;return(e.set(t)||r.force)&&this.touch(e,r),this}function uEt(e,t,n){this.touch(e,n||LK);const r=new F0(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function cEt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),BTe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,dEt(t,0,e)):r=n,r}}}function BTe(e,t,n,r){let i,s;const o=e[n];for(;n>t;){if(s=n-1>>1,i=e[s],r(o,i)<0){e[n]=i,n=s;continue}break}return e[n]=o}function dEt(e,t,n){const r=t,i=e.length,s=e[t];let o=(t<<1)+1,a;for(;o<i;)a=o+1,a<i&&n(e[o],e[a])>=0&&(o=a),e[t]=e[o],t=o,o=(t<<1)+1;return e[t]=s,BTe(e,r,t,n)}function ex(){this.logger(sK()),this.logLevel(rK),this._clock=0,this._rank=0,this._locale=PK();try{this._loader=xM()}catch{}this._touched=_M(wA),this._input={},this._pulse=null,this._heap=cEt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function fC(e){return function(){return this._log[e].apply(this,arguments)}}ex.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:fC("error"),warn:fC("warn"),info:fC("info"),debug:fC("debug"),logLevel:fC("level"),cleanThreshold:1e4,add:F_t,connect:L_t,rank:Q_t,rerank:J_t,pulse:uEt,touch:aEt,update:lEt,changeset:Nb,ingest:U_t,parse:z_t,preload:q_t,request:H_t,events:B_t,on:G_t,evaluate:eEt,run:nEt,runAsync:tEt,runAfter:rEt,_enqueue:iEt,_getPulse:sEt};function Ge(e,t){ei.call(this,e,null,t)}Ct(Ge,ei,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Lx={};function zTe(e){const t=UTe(e);return t&&t.Definition||null}function UTe(e){return e=e&&e.toLowerCase(),Ft(Lx,e)?Lx[e]:null}function*HTe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function jK(e,t,n){const r=Float64Array.from(HTe(e,n));return r.sort(Tp),t.map(i=>O_e(r,i))}function BK(e,t){return jK(e,[.25,.5,.75],t)}function zK(e,t){const n=e.length,r=Alt(e,t),i=BK(e,t),s=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,s)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function qTe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let s=e.extent[0],o=e.extent[1],a,l,u,c,d,f;const h=e.span||o-s||Math.abs(s)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,d=0,f=e.steps.length;d<f&&e.steps[d]<c;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(d=0,f=i.length;d<f;++d)c=a/i[d],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(s/a+m)*a,s=s<c?c-a:c,o=Math.ceil(o/a)*a),{start:s,stop:o===s?s+a:o,step:a}}var yu=Math.random;function fEt(e){yu=e}function VTe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(HTe(e,r)),s=i.length,o=t;let a,l,u,c;for(u=0,c=Array(o);u<o;++u){for(a=0,l=0;l<s;++l)a+=i[~~(yu()*s)];c[u]=a/s}return c.sort(Tp),[fz(c,n/2),fz(c,1-n/2)]}function WTe(e,t,n,r){r=r||(f=>f);const i=e.length,s=new Float64Array(i);let o=0,a=1,l=r(e[0]),u=l,c=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=c){for(u=(l+u)/2;o<a;++o)s[o]=u;c=d+t,l=d}u=d}for(u=(l+u)/2;o<a;++o)s[o]=u;return n?hEt(s,t+t/4):s}function hEt(e,t){const n=e.length;let r=0,i=1,s,o;for(;e[r]===e[i];)++i;for(;i<n;){for(s=i+1;e[i]===e[s];)++s;if(e[i]-e[i-1]<t){for(o=i+(r+s-i-i>>1);o<i;)e[o++]=e[i];for(;o>i;)e[o--]=e[r]}r=i,i=s}return e}function pEt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function mEt(e,t){t==null&&(t=e,e=0);let n,r,i;const s={min(o){return arguments.length?(n=o||0,i=r-n,s):n},max(o){return arguments.length?(r=o||0,i=r-n,s):r},sample(){return n+Math.floor(i*yu())},pdf(o){return o===Math.floor(o)&&o>=n&&o<r?1/i:0},cdf(o){const a=Math.floor(o);return a<n?0:a>=r?1:(a-n+1)/i},icdf(o){return o>=0&&o<=1?n-1+Math.floor(o*i):NaN}};return s.min(e).max(t)}const GTe=Math.sqrt(2*Math.PI),gEt=Math.SQRT2;let hC=NaN;function _A(e,t){e=e||0,t=t??1;let n=0,r=0,i,s;if(hC===hC)n=hC,hC=NaN;else{do n=yu()*2-1,r=yu()*2-1,i=n*n+r*r;while(i===0||i>1);s=Math.sqrt(-2*Math.log(i)/i),n*=s,hC=r*s}return e+n*t}function TM(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*GTe)}function EA(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let s;if(i>37)s=0;else{const o=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,s=o*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,s=s/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,s=o/a/2.506628274631)}return r>0?1-s:s}function CA(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*gEt*yEt(2*e-1)}function yEt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function UK(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>_A(n,r),pdf:s=>TM(s,n,r),cdf:s=>EA(s,n,r),icdf:s=>CA(s,n,r)};return i.mean(e).stdev(t)}function HK(e,t){const n=UK();let r=0;const i={data(s){return arguments.length?(e=s,r=s?s.length:0,i.bandwidth(t)):e},bandwidth(s){return arguments.length?(t=s,!t&&e&&(t=zK(e)),i):t},sample(){return e[~~(yu()*r)]+t*n.sample()},pdf(s){let o=0,a=0;for(;a<r;++a)o+=n.pdf((s-e[a])/t);return o/t/r},cdf(s){let o=0,a=0;for(;a<r;++a)o+=n.cdf((s-e[a])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function AM(e,t){return e=e||0,t=t??1,Math.exp(e+_A()*t)}function kM(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*GTe*e)}function IM(e,t,n){return EA(Math.log(e),t,n)}function RM(e,t,n){return Math.exp(CA(e,t,n))}function YTe(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>AM(n,r),pdf:s=>kM(s,n,r),cdf:s=>IM(s,n,r),icdf:s=>RM(s,n,r)};return i.mean(e).stdev(t)}function KTe(e,t){let n=0,r;function i(o){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=o[u]==null?1:+o[u];for(u=0;u<n;++u)a[u]/=l;return a}const s={weights(o){return arguments.length?(r=i(t=o||[]),s):t},distributions(o){return arguments.length?(o?(n=o.length,e=o):(n=0,e=[]),s.weights(t)):e},sample(){const o=yu();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(o<l){a=e[u];break}return a.sample()},pdf(o){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(o);return a},cdf(o){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(o);return a},icdf(){throw Error("Mixture icdf not supported.")}};return s.distributions(e).weights(t)}function DM(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*yu()}function PM(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function OM(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function NM(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function XTe(e,t){let n,r;const i={min(s){return arguments.length?(n=s||0,i):n},max(s){return arguments.length?(r=s??1,i):r},sample:()=>DM(n,r),pdf:s=>PM(s,n,r),cdf:s=>OM(s,n,r),icdf:s=>NM(s,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function qK(e,t,n){let r=0,i=0;for(const s of e){const o=n(s);t(s)==null||o==null||isNaN(o)||(r+=(o-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function SA(e,t,n,r){const i=r-e*e,s=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-s*e,s]}function $M(e,t,n,r){e=e.filter(h=>{let p=t(h),m=n(h);return p!=null&&(p=+p)>=p&&m!=null&&(m=+m)>=m}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,s=new Float64Array(i),o=new Float64Array(i);let a=0,l=0,u=0,c,d,f;for(f of e)s[a]=c=+t(f),o[a]=d=+n(f),++a,l+=(c-l)/a,u+=(d-u)/a;for(a=0;a<i;++a)s[a]-=l,o[a]-=u;return[s,o,l,u]}function TA(e,t,n,r){let i=-1,s,o;for(const a of e)s=t(a),o=n(a),s!=null&&(s=+s)>=s&&o!=null&&(o=+o)>=o&&r(s,o,++i)}function X_(e,t,n,r,i){let s=0,o=0;return TA(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;s+=u*u,o+=c*c}),1-s/o}function VK(e,t,n){let r=0,i=0,s=0,o=0,a=0;TA(e,t,n,(c,d)=>{++a,r+=(c-r)/a,i+=(d-i)/a,s+=(c*d-s)/a,o+=(c*c-o)/a});const l=SA(r,i,s,o),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:X_(e,t,n,i,u)}}function QTe(e,t,n){let r=0,i=0,s=0,o=0,a=0;TA(e,t,n,(c,d)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(d-i)/a,s+=(c*d-s)/a,o+=(c*c-o)/a});const l=SA(r,i,s,o),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:X_(e,t,n,i,u)}}function JTe(e,t,n){const[r,i,s,o]=$M(e,t,n);let a=0,l=0,u=0,c=0,d=0,f,h,p;TA(e,t,n,(v,w)=>{f=r[d++],h=Math.log(w),p=f*w,a+=(w*h-a)/d,l+=(p-l)/d,u+=(p*h-u)/d,c+=(f*p-c)/d});const[m,g]=SA(l/o,a/o,u/o,c/o),y=v=>Math.exp(m+g*(v-s));return{coef:[Math.exp(m-g*s),g],predict:y,rSquared:X_(e,t,n,o,y)}}function ZTe(e,t,n){let r=0,i=0,s=0,o=0,a=0,l=0;TA(e,t,n,(d,f)=>{const h=Math.log(d),p=Math.log(f);++l,r+=(h-r)/l,i+=(p-i)/l,s+=(h*p-s)/l,o+=(h*h-o)/l,a+=(f-a)/l});const u=SA(r,i,s,o),c=d=>u[0]*Math.pow(d,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:X_(e,t,n,a,c)}}function WK(e,t,n){const[r,i,s,o]=$M(e,t,n),a=r.length;let l=0,u=0,c=0,d=0,f=0,h,p,m,g;for(h=0;h<a;)p=r[h],m=i[h++],g=p*p,l+=(g-l)/h,u+=(g*p-u)/h,c+=(g*g-c)/h,d+=(p*m-d)/h,f+=(g*m-f)/h;const y=c-l*l,v=l*y-u*u,w=(f*l-d*u)/v,E=(d*y-f*u)/v,C=-w*l,S=T=>(T=T-s,w*T*T+E*T+C+o);return{coef:[C-E*s+w*s*s+o,E-2*w*s,w],predict:S,rSquared:X_(e,t,n,o,S)}}function eAe(e,t,n,r){if(r===0)return qK(e,t,n);if(r===1)return VK(e,t,n);if(r===2)return WK(e,t,n);const[i,s,o,a]=$M(e,t,n),l=i.length,u=[],c=[],d=r+1;let f,h,p,m,g;for(f=0;f<d;++f){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f)*s[p];for(u.push(m),g=new Float64Array(d),h=0;h<d;++h){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f+h);g[h]=m}c.push(g)}c.push(u);const y=bEt(c),v=w=>{w-=o;let E=a+y[0]+y[1]*w+y[2]*w*w;for(f=3;f<d;++f)E+=y[f]*Math.pow(w,f);return E};return{coef:vEt(d,y,-o,a),predict:v,rSquared:X_(e,t,n,a,v)}}function vEt(e,t,n,r){const i=Array(e);let s,o,a,l;for(s=0;s<e;++s)i[s]=0;for(s=e-1;s>=0;--s)for(a=t[s],l=1,i[s]+=a,o=1;o<=s;++o)l*=(s+1-o)/o,i[s-o]+=a*Math.pow(n,o)*l;return i[0]+=r,i}function bEt(e){const t=e.length-1,n=[];let r,i,s,o,a;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(s=r;s<t+1;++s)a=e[s][r],e[s][r]=e[s][o],e[s][o]=a;for(i=r+1;i<t;++i)for(s=t;s>=r;s--)e[s][i]-=e[s][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,s=i+1;s<t;++s)a+=e[s][i]*n[s];n[i]=(e[t][i]-a)/e[i][i]}return n}const vce=2,bce=1e-12;function tAe(e,t,n,r){const[i,s,o,a]=$M(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),f=new Float64Array(l).fill(1);for(let h=-1;++h<=vce;){const p=[0,u-1];for(let g=0;g<l;++g){const y=i[g],v=p[0],w=p[1],E=y-i[v]>i[w]-y?v:w;let C=0,S=0,T=0,A=0,I=0;const D=1/Math.abs(i[E]-y||1);for(let $=v;$<=w;++$){const L=i[$],z=s[$],B=wEt(Math.abs(y-L)*D)*f[$],W=L*B;C+=B,S+=W,T+=z*B,A+=z*W,I+=L*W}const[O,M]=SA(S/C,T/C,A/C,I/C);c[g]=O+M*y,d[g]=Math.abs(s[g]-c[g]),xEt(i,g+1,p)}if(h===vce)break;const m=N_e(d);if(Math.abs(m)<bce)break;for(let g=0,y,v;g<l;++g)y=d[g]/(6*m),f[g]=y>=1?bce:(v=1-y*y)*v}return _Et(i,c,o,a)}function wEt(e){return(e=1-e*e*e)*e*e}function xEt(e,t,n){const r=e[t];let i=n[0],s=n[1]+1;if(!(s>=e.length))for(;t>i&&e[s]-r<=r-e[i];)n[0]=++i,n[1]=s,++s}function _Et(e,t,n,r){const i=e.length,s=[];let o=0,a=0,l=[],u;for(;o<i;++o)u=e[o]+n,l[0]===u?l[1]+=(t[o]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[o]],s.push(l));return l[1]+=r,s}const EEt=.5*Math.PI/180;function MM(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],s=t[0],o=t[1],a=o-s,l=a/r,u=[i(s)],c=[];if(n===r){for(let m=1;m<r;++m)u.push(i(s+m/n*a));return u.push(i(o)),u}else{c.push(i(o));for(let m=n;--m>0;)c.push(i(s+m/n*a))}let d=u[0],f=c[c.length-1];const h=1/a,p=CEt(d[1],c);for(;f;){const m=i((d[0]+f[0])/2);m[0]-d[0]>=l&&SEt(d,m,f,h,p)>EEt?c.push(m):(d=f,u.push(f),c.pop()),f=c[c.length-1]}return u}function CEt(e,t){let n=e,r=e;const i=t.length;for(let s=0;s<i;++s){const o=t[s][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}function SEt(e,t,n,r,i){const s=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(s-o)}function TEt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function _U(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:TEt(e)}function nAe(e,t,n){return n||e+(t?"_"+t:"")}const Cj=()=>{},AEt={init:Cj,add:Cj,rem:Cj,idx:0},nT={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},AA=Object.keys(nT).filter(e=>e!=="__count__");function kEt(e,t){return(n,r)=>An({name:e,aggregate_param:r,out:n||e},AEt,t)}[...AA,"__count__"].forEach(e=>{nT[e]=kEt(e,nT[e])});function rAe(e,t,n){return nT[e](n,t)}function iAe(e,t){return e.idx-t.idx}function IEt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=nT[i]())})};return e.forEach(n),Object.values(t).sort(iAe)}function REt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function DEt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function PEt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function OEt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function sAe(e,t){const n=t||Fo,r=IEt(e),i=e.slice().sort(iAe);function s(o){this._ops=r,this._out=i,this.cell=o,this.init()}return s.prototype.init=REt,s.prototype.add=DEt,s.prototype.rem=PEt,s.prototype.set=OEt,s.prototype.get=n,s.fields=e.map(o=>o.out),s}function GK(e){this._key=e?pu(e):nn,this.reset()}const Bo=GK.prototype;Bo.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Bo.add=function(e){this._add.push(e)};Bo.rem=function(e){this._rem.push(e)};Bo.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,s=Array(r-i),o={};let a,l,u;for(a=0;a<i;++a)o[n(t[a])]=1;for(a=0,l=0;a<r;++a)o[n(u=e[a])]?o[n(u)]=0:s[l++]=u;return this._rem=[],this._add=s};Bo.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,s;for(;--r>=0;)s=e(t[r])+"",Ft(n,s)||(n[s]=1,++i);return i};Bo.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=aTe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Bo.argmin=function(e){return this.extent(e)[0]||{}};Bo.argmax=function(e){return this.extent(e)[1]||{}};Bo.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Bo.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Bo.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=BK(this.values(),e),this._get=e),this._q};Bo.q1=function(e){return this.quartile(e)[0]};Bo.q2=function(e){return this.quartile(e)[1]};Bo.q3=function(e){return this.quartile(e)[2]};Bo.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=VTe(this.values(),1e3,.05,e),this._get=e),this._ci};Bo.ci0=function(e){return this.ci(e)[0]};Bo.ci1=function(e){return this.ci(e)[1]};function Z0(e){Ge.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Z0.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:AA},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Ct(Z0,Ge,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,s=>n.add(s))):(n.value=n.value||n.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function s(a){let l,u,c,d;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][d=c[n[u]]]=d}s(e._prev),s(t);function o(a,l,u){const c=n[u],d=r[u++];for(const f in d){const h=a?a+"|"+f:f;l[c]=d[f],u<i?o(h,l,u):t[h]||e.cell(h,l)}}o("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const w=Rt(aa(v)),E=w.length;let C=0,S;for(;C<E;++C)r[S=w[C]]||(r[S]=1,t.push(S))}this._dims=Rt(e.groupby),this._dnames=this._dims.map(v=>{const w=Hi(v);return i(v),n.push(w),w}),this.cellkey=e.key?e.key:_U(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=e.fields||[null],o=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=s.length,c={};let d,f,h,p,m,g,y;for(u!==o.length&&Ye("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(d=s[y],f=o[y],h=a[y]||null,d==null&&f!=="count"&&Ye("Null aggregate field specified."),m=Hi(d),g=nAe(f,m,l[y]),n.push(g),f==="count"){this._counts.push(g);continue}p=c[m],p||(i(d),p=c[m]=[],p.field=d,this._measures.push(p)),f!=="count"&&(this._countOnly=!1),p.push(rAe(f,h,g))}return this._measures=this._measures.map(v=>sAe(v,v.field)),Object.create(null)},cellkey:_U(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let s=0;s<i;++s)n.agg[s]=new r[s](n)}return n.store&&(n.data=new GK),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,s={};for(let o=0;o<i;++o)s[n[o]]=r[o](e);return t?FTe(t.tuple,s):Rr(s)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,s=r.length;i<s;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,s=e.add,o=e.rem,a=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],(!i||l.num)&&o.push(l.tuple);for(c=0,d=this._alen;c<d;++c)s.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(l.num===0&&i?o:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const NEt=1e-14;function YK(e){Ge.call(this,null,e)}YK.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Ct(YK,Ge,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,s=r.step,o=e.as||["bin0","bin1"],a=o[0],l=o[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(aa(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const d=r(c);c[a]=d,c[l]=d==null?null:i+s*(1+(d-i)/s)}:c=>c[a]=r(c)),t.modifies(n?o:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=qTe(e),r=n.step;let i=n.start,s=i+Math.ceil((n.stop-i)/r)*r,o,a;(o=e.anchor)!=null&&(a=o-(i+r*Math.floor((o-i)/r)),i+=a,s+=a);const l=function(u){let c=Po(t(u));return c==null?null:c<i?-1/0:c>s?1/0:(c=Math.max(i,Math.min(c,s-r)),i+r*Math.floor(NEt+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=$l(l,aa(t),e.name||"bin_"+Hi(t))}});function oAe(e,t,n){const r=e;let i=t||[],s=n||[],o={},a=0;return{add:l=>s.push(l),remove:l=>o[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!o[r(c)]),o={},a=0),u&&l&&i.sort(l),s.length&&(i=l?cTe(l,i,s.sort(l)):i.concat(s),s=[]),i)}}function KK(e){Ge.call(this,[],e)}KK.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Ct(KK,Ge,{transform(e,t){const n=t.fork(t.ALL),r=oAe(nn,this.value,n.materialize(n.ADD).add),i=e.sort,s=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(s),this.value=n.source=r.data(Ob(i),s),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function aAe(e){ei.call(this,null,$Et,e)}Ct(aAe,ei);function $Et(e){return this.value&&!e.modified()?this.value:hK(e.fields,e.orders)}function XK(e){Ge.call(this,null,e)}XK.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function MEt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Ct(XK,Ge,{transform(e,t){const n=d=>f=>{for(var h=MEt(a(f),e.case,s)||[],p,m=0,g=h.length;m<g;++m)o.test(p=h[m])||d(p)},r=this._parameterCheck(e,t),i=this._counts,s=this._match,o=this._stop,a=e.field,l=e.as||["text","count"],u=n(d=>i[d]=1+(i[d]||0)),c=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],s=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=Rr({}),l[i]=a,l[s]=u,o.add.push(l)):u===0?(l&&o.rem.push(l),n[a]=null,r[a]=null):l[s]!==u&&(l[s]=u,o.mod.push(l));return o.modifies(t)}});function QK(e){Ge.call(this,null,e)}QK.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Ct(QK,Ge,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],s=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return o?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=FEt(a,i,s,e.filter||Il)):n.mod=a,n.source=this.value,n.modifies(r)}});function FEt(e,t,n,r){for(var i=[],s={},o=e.length,a=0,l,u;a<o;++a)for(s[t]=u=e[a],l=0;l<o;++l)s[n]=e[l],r(s)&&(i.push(Rr(s)),s={},s[t]=u);return i}const wce={kde:HK,mixture:KTe,normal:UK,lognormal:YTe,uniform:XTe},LEt="distributions",xce="function",jEt="field";function lAe(e,t){const n=e[xce];Ft(wce,n)||Ye("Unknown distribution function: "+n);const r=wce[n]();for(const i in e)i===jEt?r.data((e.from||t()).map(e[i])):i===LEt?r[i](e[i].map(s=>lAe(s,t))):typeof r[i]===xce&&r[i](e[i]);return r}function JK(e){Ge.call(this,null,e)}const uAe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],BEt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:uAe},{name:"weights",type:"number",array:!0}]};JK.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:uAe.concat(BEt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Ct(JK,Ge,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=lAe(e.distribution,zEt(t)),i=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200;let o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&Ye("Invalid density method: "+o),!e.extent&&!r.data&&Ye("Missing density extent parameter."),o=r[o];const a=e.as||["value","density"],l=e.extent||Ed(r.data()),u=MM(o,l,i,s).map(c=>{const d={};return d[a[0]]=c[0],d[a[1]]=c[1],Rr(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function zEt(e){return()=>e.materialize(e.SOURCE).source}function cAe(e,t){return e?e.map((n,r)=>t[r]||Hi(n)):null}function ZK(e,t,n){const r=[],i=d=>d(l);let s,o,a,l,u,c;if(t==null)r.push(e.map(n));else for(s={},o=0,a=e.length;o<a;++o)l=e[o],u=t.map(i),c=s[u],c||(s[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const dAe="bin";function eX(e){Ge.call(this,null,e)}eX.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:dAe}]};const UEt=(e,t)=>W_(Ed(e,t))/30;Ct(eX,Ge,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=ZK(t.source,e.groupby,Fo),i=e.smooth||!1,s=e.field,o=e.step||UEt(n,s),a=Ob((p,m)=>s(p)-s(m)),l=e.as||dAe,u=r.length;let c=1/0,d=-1/0,f=0,h;for(;f<u;++f){const p=r[f].sort(a);h=-1;for(const m of WTe(p,o,i,s))m<c&&(c=m),m>d&&(d=m),p[++h][l]=m}return this.value={start:c,stop:d,step:o},t.reflow(!0).modifies(l)}});function fAe(e){ei.call(this,null,HEt,e),this.modified(!0)}Ct(fAe,ei);function HEt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:$l(n=>t(n,e),aa(t),Hi(t))}function tX(e){Ge.call(this,[void 0,void 0],e)}tX.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Ct(tX,Ge,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let s=n[0],o=n[1];if((i||s==null)&&(s=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=Po(r(a));l!=null&&(l<s&&(s=l),l>o&&(o=l))}),!Number.isFinite(s)||!Number.isFinite(o)){let a=Hi(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${s}, ${o}]`),s=o=void 0}this.value=[s,o]}});function nX(e,t){ei.call(this,e),this.parent=t,this.count=0}Ct(nX,ei,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function FM(e){Ge.call(this,{},e),this._keys=V_();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Ct(FM,Ge,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let s=Ft(i,e)&&i[e],o,a;return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,o=n.dataflow,s=new nX(n.fork(n.NO_SOURCE),this),o.add(s).connect(t(o,e,a)),i[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,s=this._keys,o=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=nn(l),c=s.get(u);c!==void 0&&(s.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);s.set(nn(l),u),a(u).add(l)}),o||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=nn(l),c=s.get(u),d=r(l);c===d?a(d).mod(l):(s.set(u,d),a(c).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(s.get(nn(l))).mod(l)}),o&&t.visit(t.REFLOW,l=>{const u=nn(l),c=s.get(u),d=r(l);c!==d&&(s.set(u,d),a(c).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),s.clean()}):s.empty>n.cleanThreshold&&n.runAfter(s.clean),t}});function hAe(e){ei.call(this,null,qEt,e)}Ct(hAe,ei);function qEt(e){return this.value&&!e.modified()?this.value:Xe(e.name)?Rt(e.name).map(t=>pu(t)):pu(e.name,e.as)}function rX(e){Ge.call(this,V_(),e)}rX.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Ct(rX,Ge,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),s=i.add,o=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,d=>{const f=nn(d);r.has(f)?r.delete(f):o.push(d)}),t.visit(t.ADD,d=>{l(d,e)?s.push(d):r.set(nn(d),1)});function c(d){const f=nn(d),h=l(d,e),p=r.get(f);h&&p?(r.delete(f),s.push(d)):!h&&!p?(r.set(f,1),o.push(d)):u&&h&&!p&&a.push(d)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function iX(e){Ge.call(this,[],e)}iX.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Ct(iX,Ge,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=cAe(r,e.as||[]),s=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,m)=>Math.max(p,m.length),0);let c=0,d,f,h;for(;c<u;++c){for(f=MK(a),d=0;d<o;++d)f[i[d]]=(h=l[d][c])==null?null:h;s&&(f[s]=c),n.add.push(f)}}),this.value=n.source=n.add,s&&n.modifies(s),n.modifies(i)}});function sX(e){Ge.call(this,[],e)}sX.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Ct(sX,Ge,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Hi),s=e.as||["key","value"],o=s[0],a=s[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,d;c<l;++c)d=MK(u),d[o]=i[c],d[a]=r[c](u),n.add.push(d)}),this.value=n.source=n.add,n.modifies(s)}});function oX(e){Ge.call(this,null,e)}oX.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Ct(oX,Ge,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),s=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(s,o=>o[r]=n(o,e))}});function pAe(e){Ge.call(this,[],e)}Ct(pAe,Ge,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,s=e.size-i.length,o,a,l;if(s>0){for(o=[];--s>=0;)o.push(l=Rr(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else a=i.slice(0,-s),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-s);return n.source=this.value=i,n}});const aR={value:"value",median:N_e,mean:Nlt,min:dz,max:mv},VEt=[];function aX(e){Ge.call(this,[],e)}aX.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function WEt(e){var t=e.method||aR.value,n;if(aR[t]==null)Ye("Unrecognized imputation method: "+t);else return t===aR.value?(n=e.value!==void 0?e.value:0,()=>n):aR[t]}function GEt(e){const t=e.field;return n=>n?t(n):NaN}Ct(aX,Ge,{transform(e,t){var n=t.fork(t.ALL),r=WEt(e),i=GEt(e),s=Hi(e.field),o=Hi(e.key),a=(e.groupby||[]).map(Hi),l=YEt(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,d=l.domain.length,f,h,p,m,g,y,v,w,E,C;for(g=0,w=l.length;g<w;++g)for(f=l[g],p=f.values,h=NaN,v=0;v<d;++v)if(f[v]==null){for(m=l.domain[v],C={_impute:!0},y=0,E=p.length;y<E;++y)C[a[y]]=p[y];C[o]=m,C[s]=Number.isNaN(h)?h=r(f,i):h,u.push(Rr(C))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function YEt(e,t,n,r){var i=y=>y(g),s=[],o=r?r.slice():[],a={},l={},u,c,d,f,h,p,m,g;for(o.forEach((y,v)=>a[y]=v+1),f=0,m=e.length;f<m;++f)g=e[f],p=n(g),h=a[p]||(a[p]=o.push(p)),c=(u=t?t.map(i):VEt)+"",(d=l[c])||(d=l[c]=[],s.push(d),d.values=u),d[h-1]=g;return s.domain=o,s}function lX(e){Z0.call(this,e)}lX.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:AA},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Ct(lX,Z0,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,s=>n.add(s))):(i=n.value=n.value||this.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),n.changes(),t.visit(t.SOURCE,s=>{An(s,i[n.cellkey(s)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function uX(e){Ge.call(this,null,e)}uX.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Ct(uX,Ge,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=ZK(r,e.groupby,e.field),s=(e.groupby||[]).map(Hi),o=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&Ye("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Ed(r,e.field)),d=f=e.steps||f),i.forEach(h=>{const p=HK(h,o)[a],m=e.counts?h.length:1,g=c||Ed(h);MM(p,g,d,f).forEach(y=>{const v={};for(let w=0;w<s.length;++w)v[s[w]]=h.dims[w];v[l[0]]=y[0],v[l[1]]=y[1]*m,u.push(Rr(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function mAe(e){ei.call(this,null,KEt,e)}Ct(mAe,ei);function KEt(e){return this.value&&!e.modified()?this.value:gK(e.fields,e.flat)}function gAe(e){Ge.call(this,[],e),this._pending=null}Ct(gAe,Ge,{transform(e,t){const n=t.dataflow;return this._pending?Sj(this,t,this._pending):XEt(e)?t.StopPropagation:e.values?Sj(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Rt(i.data),s=>s.touch(this)))}:n.request(e.url,e.format).then(r=>Sj(this,t,Rt(r.data)))}});function XEt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function Sj(e,t,n){n.forEach(Rr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function cX(e){Ge.call(this,{},e)}cX.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Ct(cX,Ge,{transform(e,t){const n=e.fields,r=e.index,i=e.values,s=e.default==null?null:e.default,o=e.modified(),a=n.length;let l=o?t.SOURCE:t.ADD,u=t,c=e.as,d,f,h;return i?(f=i.length,a>1&&!c&&Ye('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*f&&Ye('The "as" parameter has too few output field names.'),c=c||i.map(Hi),d=function(p){for(var m=0,g=0,y,v;m<a;++m)if(v=r.get(n[m](p)),v==null)for(y=0;y<f;++y,++g)p[c[g]]=s;else for(y=0;y<f;++y,++g)p[c[g]]=i[y](v)}):(c||Ye("Missing output field names."),d=function(p){for(var m=0,g;m<a;++m)g=r.get(n[m](p)),p[c[m]]=g??s}),o?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,d),u.modifies(c)}});function yAe(e){ei.call(this,null,QEt,e)}Ct(yAe,ei);function QEt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,s,o;for(s=0;s<n;++s)o=t[s],o[0]<r&&(r=o[0]),o[1]>i&&(i=o[1]);return[r,i]}function vAe(e){ei.call(this,null,JEt,e)}Ct(vAe,ei);function JEt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function bAe(e){Ge.call(this,null,e)}Ct(bAe,Ge,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function dX(e){Z0.call(this,e)}dX.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:AA,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Ct(dX,Z0,{_transform:Z0.prototype.transform,transform(e,t){return this._transform(ZEt(e,t),t)}});function ZEt(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",s=aa(n).concat(aa(r)),o=tCt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:o.map(()=>i),fields:o.map(a=>eCt(a,n,r,s)),as:o.map(a=>a+""),modified:e.modified.bind(e)}}function eCt(e,t,n,r){return $l(i=>t(i)===e?n(i):NaN,r,e+"")}function tCt(e,t,n){const r={},i=[];return n.visit(n.SOURCE,s=>{const o=e(s);r[o]||(r[o]=1,i.push(o))}),i.sort(q_),t?i.slice(0,t):i}function wAe(e){FM.call(this,e)}Ct(wAe,FM,{transform(e,t){const n=e.subflow,r=e.field,i=s=>this.subflow(nn(s),n,t,s);return(e.modified("field")||r&&t.modified(aa(r)))&&Ye("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,s=>{const o=i(s);r(s).forEach(a=>o.mod(a))}),t.visit(t.ADD,s=>{const o=i(s);r(s).forEach(a=>o.add(Rr(a)))}),t.visit(t.REM,s=>{const o=i(s);r(s).forEach(a=>o.rem(a))})):(t.visit(t.MOD,s=>i(s).mod(s)),t.visit(t.ADD,s=>i(s).add(s)),t.visit(t.REM,s=>i(s).rem(s))),t.clean()&&t.runAfter(()=>this.clean()),t}});function fX(e){Ge.call(this,null,e)}fX.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Ct(fX,Ge,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=cAe(e.fields,e.as||[]),s=r?(a,l)=>nCt(a,l,r,i):EM;let o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,a=>{const l=nn(a);n.rem.push(o[l]),o[l]=null}),t.visit(t.ADD,a=>{const l=s(a,Rr({}));o[nn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(s(a,o[nn(a)]))}),n}});function nCt(e,t,n,r){for(let i=0,s=n.length;i<s;++i)t[r[i]]=n[i](e);return t}function xAe(e){Ge.call(this,null,e)}Ct(xAe,Ge,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function hX(e){Ge.call(this,null,e)}hX.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const rCt=1e-14;Ct(hX,Ge,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,s=ZK(i,e.groupby,e.field),o=(e.groupby||[]).map(Hi),a=[],l=e.step||.01,u=e.probs||Ma(l/2,1-rCt,l),c=u.length;return s.forEach(d=>{const f=jK(d,u);for(let h=0;h<c;++h){const p={};for(let m=0;m<o.length;++m)p[o[m]]=d.dims[m];p[r[0]]=u[h],p[r[1]]=f[h],a.push(Rr(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function _Ae(e){Ge.call(this,null,e)}Ct(_Ae,Ge,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const s=nn(i);n.rem.push(r[s]),r[s]=null}),t.visit(t.ADD,i=>{const s=MK(i);r[nn(i)]=s,n.add.push(s)}),t.visit(t.MOD,i=>{const s=r[nn(i)];for(const o in i)s[o]=i[o],n.modifies(o);n.mod.push(s)})),n}});function pX(e){Ge.call(this,[],e),this.count=0}pX.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Ct(pX,Ge,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,s=this.value.reduce((c,d)=>(c[nn(d)]=1,c),{});let o=this.value,a=this.count,l=0;function u(c){let d,f;o.length<i?o.push(c):(f=~~((a+1)*yu()),f<o.length&&f>=l&&(d=o[f],s[nn(d)]&&n.rem.push(d),o[f]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const d=nn(c);s[d]&&(s[d]=-1,n.rem.push(c)),--a}),o=o.filter(c=>s[nn(c)]!==-1)),(t.rem.length||r)&&o.length<i&&t.source&&(l=a=o.length,t.visit(t.SOURCE,c=>{s[nn(c)]||u(c)}),l=-1),r&&o.length>i){const c=o.length-i;for(let d=0;d<c;++d)s[nn(o[d])]=-1,n.rem.push(o[d]);o=o.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{s[nn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=o.filter(c=>!s[nn(c)])),this.count=a,this.value=n.source=o,n}});function mX(e){Ge.call(this,null,e)}mX.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Ct(mX,Ge,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ma(e.start,e.stop,e.step||1).map(i=>{const s={};return s[r]=i,Rr(s)}),n.add=t.add.concat(this.value),n}});function EAe(e){Ge.call(this,null,e),this.modified(!0)}Ct(EAe,Ge,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function gX(e){Ge.call(this,null,e)}const CAe=["unit0","unit1"];gX.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:wK,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:CAe}]};Ct(gX,Ge,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",s=this._floor(e,t),o=(i?Y_:G_)(s.unit).offset,a=e.as||CAe,l=a[0],u=a[1],c=s.step;let d=s.start||1/0,f=s.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(aa(n)))&&(t=t.reflow(!0),h=t.SOURCE,d=1/0,f=-1/0),t.visit(h,p=>{const m=n(p);let g,y;m==null?(p[l]=null,r&&(p[u]=null)):(p[l]=g=y=s(m),r&&(p[u]=y=o(g,c)),g<d&&(d=g),y>f&&(f=y))}),s.start=d,s.stop=f,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:xTe({extent:e.extent||Ed(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=xK(r),o=this.value||{},a=(n?gTe:mTe)(s,i);return a.unit=Un(s),a.units=s,a.step=i,a.start=o.start,a.stop=o.stop,this.value=a}});function SAe(e){Ge.call(this,V_(),e)}Ct(SAe,Ge,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,s=a=>i.set(r(a),a);let o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,s)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,s)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function TAe(e){Ge.call(this,null,e)}Ct(TAe,Ge,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Ob(e.sort)):t.source).map(e.field))}});function iCt(e,t,n,r){const i=rT[e](t,n);return{init:i.init||y0,update:function(s,o){o[r]=i.next(s)}}}const rT={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=rT.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||Ye("ntile num must be greater than zero.");const n=rT.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||Ye("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=sCt(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function sCt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const oCt=Object.keys(rT);function AAe(e){const t=Rt(e.ops),n=Rt(e.fields),r=Rt(e.params),i=Rt(e.aggregate_params),s=Rt(e.as),o=this.outputs=[],a=this.windows=[],l={},u={},c=[],d=[];let f=!0;function h(p){Rt(aa(p)).forEach(m=>l[m]=1)}h(e.sort),t.forEach((p,m)=>{const g=n[m],y=r[m],v=i[m]||null,w=Hi(g),E=nAe(p,w,s[m]);if(h(g),o.push(E),Ft(rT,p))a.push(iCt(p,g,y,E));else{if(g==null&&p!=="count"&&Ye("Null aggregate field specified."),p==="count"){c.push(E);return}f=!1;let C=u[w];C||(C=u[w]=[],C.field=g,d.push(C)),C.push(rAe(p,v,E))}}),(c.length||d.length)&&(this.cell=aCt(d,c,f)),this.inputs=Object.keys(l)}const kAe=AAe.prototype;kAe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};kAe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,s=r&&r.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(i[o]);for(o=e.p1;o<e.i1;++o)n.add(i[o]);n.set(t)}for(o=0;o<s;++o)r[o].update(e,t)};function aCt(e,t,n){e=e.map(l=>sAe(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,s=r.agg=Array(i),o=0;o<i;++o)s[o]=new e[o](r);if(r.store)var a=r.data=new GK;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)s[u].add(s[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)s[u].rem(s[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=s.length;u<c;++u)s[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)s[l].init()},r}function yX(e){Ge.call(this,{},e),this._mlen=0,this._mods=[]}yX.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:oCt.concat(AA)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Ct(yX,Ge,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Ob(e.sort),i=_U(e.groupby),s=a=>this.group(i(a));let o=this.state;(!o||n)&&(o=this.state=new AAe(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,a=>s(a).add(a))):(t.visit(t.REM,a=>s(a).remove(a)),t.visit(t.ADD,a=>s(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)lCt(this._mods[a],o,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=oAe(nn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function lCt(e,t,n,r){const i=r.sort,s=i&&!r.ignorePeers,o=r.frame||[null,0],a=e.data(n),l=a.length,u=s?M_(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||pa(-1)};t.init();for(let d=0;d<l;++d)uCt(c,o,d,l),s&&cCt(c,u),t.update(c,a[d])}function uCt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function cCt(e,t){const n=e.i0,r=e.i1-1,i=e.compare,s=e.data,o=s.length-1;n>0&&!i(s[n],s[n-1])&&(e.i0=t.left(s,s[n])),r<o&&!i(s[r],s[r+1])&&(e.i1=t.right(s,s[r]))}const dCt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Z0,bin:YK,collect:KK,compare:aAe,countpattern:XK,cross:QK,density:JK,dotbin:eX,expression:fAe,extent:tX,facet:FM,field:hAe,filter:rX,flatten:iX,fold:sX,formula:oX,generate:pAe,impute:aX,joinaggregate:lX,kde:uX,key:mAe,load:gAe,lookup:cX,multiextent:yAe,multivalues:vAe,params:bAe,pivot:dX,prefacet:wAe,project:fX,proxy:xAe,quantile:hX,relay:_Ae,sample:pX,sequence:mX,sieve:EAe,subflow:nX,timeunit:gX,tupleindex:SAe,values:TAe,window:yX},Symbol.toStringTag,{value:"Module"}));function L0(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const fCt=()=>typeof Image<"u"?Image:null;function LM(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const hCt="identity",jx="linear",Xp="log",kA="pow",IA="sqrt",jM="symlog",qv="time",Vv="utc",Hf="sequential",Q_="diverging",Bx="quantile",BM="quantize",zM="threshold",vX="ordinal",EU="point",IAe="band",bX="bin-ordinal",Fs="continuous",RA="discrete",DA="discretizing",gc="interpolating",wX="temporal";function pCt(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function mCt(e){return function(t){const n=e.range();let r=t[0],i=t[1],s=-1,o,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(s<0&&(s=l),o=l);if(!(s<0))return r=e.invertExtent(n[s]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function xX(){const e=H4().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,s,o=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const d=t().length,f=r[1]<r[0],h=r[1-f],p=LM(d,a,l);let m=r[f-0];i=(h-m)/(p||1),o&&(i=Math.floor(i)),m+=(h-m-i*(d-a))*u,s=i*(1-a),o&&(m=Math.round(m),s=Math.round(s));const g=Ma(d).map(y=>m+i*y);return n(f?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(d){return arguments.length?(o=!!d,c()):o},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,c()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),c()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),c()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=r[1]<r[0],h=f?n().reverse():n(),p=h.length-1;let m=+d[0],g=+d[1],y,v,w;if(!(m!==m||g!==g)&&(g<m&&(w=m,m=g,g=w),!(g<h[0]||m>r[1-f])))return y=Math.max(0,Y0(h,m)-1),v=m===g?y:Y0(h,g)-1,m-h[y]>s+1e-10&&++y,f&&(w=y,y=p-v,v=p-w),y>v?void 0:t().slice(y,v+1)},e.invert=function(d){const f=e.invertRange([d,d]);return f&&f[0]},e.copy=function(){return xX().domain(t()).range(r).round(o).paddingInner(a).paddingOuter(l).align(u)},c()}function RAe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return RAe(t())},e}function gCt(){return RAe(xX().paddingInner(1))}var yCt=Array.prototype.map;function vCt(e){return yCt.call(e,Po)}const bCt=Array.prototype.slice;function DAe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Y0(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=vCt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=bCt.call(r),n):t.slice()},n.tickFormat=function(r,i){return MCe(e[0],Un(e),r??10,i)},n.copy=function(){return DAe().domain(n.domain()).range(n.range())},n}const uN=new Map,PAe=Symbol("vega_scale");function OAe(e){return e[PAe]=!0,e}function CU(e){return e&&e[PAe]===!0}function wCt(e,t,n){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?pCt(s):s.invertExtent?mCt(s):void 0),s.type=e,OAe(s)};return r.metadata=Cd(Rt(n)),r}function dr(e,t,n){return arguments.length>1?(uN.set(e,wCt(e,t,n)),this):NAe(e)?uN.get(e):void 0}dr(hCt,FCe);dr(jx,G2,Fs);dr(Xp,jCe,[Fs,Xp]);dr(kA,SY,Fs);dr(IA,qmt,Fs);dr(jM,BCe,Fs);dr(qv,sgt,[Fs,wX]);dr(Vv,ogt,[Fs,wX]);dr(Hf,RY,[Fs,gc]);dr(`${Hf}-${jx}`,RY,[Fs,gc]);dr(`${Hf}-${Xp}`,JCe,[Fs,gc,Xp]);dr(`${Hf}-${kA}`,DY,[Fs,gc]);dr(`${Hf}-${IA}`,agt,[Fs,gc]);dr(`${Hf}-${jM}`,ZCe,[Fs,gc]);dr(`${Q_}-${jx}`,eSe,[Fs,gc]);dr(`${Q_}-${Xp}`,tSe,[Fs,gc,Xp]);dr(`${Q_}-${kA}`,PY,[Fs,gc]);dr(`${Q_}-${IA}`,lgt,[Fs,gc]);dr(`${Q_}-${jM}`,nSe,[Fs,gc]);dr(Bx,zCe,[DA,Bx]);dr(BM,GS,DA);dr(zM,UCe,DA);dr(bX,DAe,[RA,DA]);dr(vX,H4,RA);dr(IAe,xX,RA);dr(EU,gCt,RA);function NAe(e){return uN.has(e)}function $b(e,t){const n=uN.get(e);return n&&n.metadata[t]}function _X(e){return $b(e,Fs)}function zx(e){return $b(e,RA)}function SU(e){return $b(e,DA)}function $Ae(e){return $b(e,Xp)}function xCt(e){return $b(e,wX)}function MAe(e){return $b(e,gc)}function FAe(e){return $b(e,Bx)}const _Ct=["clamp","base","constant","exponent"];function LAe(e,t){const n=t[0],r=Un(t)-n;return function(i){return e(n+i*r)}}function UM(e,t,n){return iY(CX(t||"rgb",n),e)}function jAe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function EX(e,t,n){const r=n-t;let i,s,o;return!r||!Number.isFinite(r)?pa(.5):(i=(s=e.type).indexOf("-"),s=i<0?s:s.slice(i+1),o=dr(s)().domain([t,n]).range([0,1]),_Ct.forEach(a=>e[a]?o[a](e[a]()):0),o)}function CX(e,t){const n=ndt[ECt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function ECt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const CCt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},SCt={accent:cgt,category10:ugt,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:dgt,observable10:fgt,paired:hgt,pastel1:pgt,pastel2:mgt,set1:ggt,set2:ygt,set3:vgt,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function BAe(e){if(Xe(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function zAe(e,t){for(const n in e)SX(n,t(e[n]))}const _ce={};zAe(SCt,BAe);zAe(CCt,e=>UM(BAe(e)));function SX(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(_ce[e]=t,this):_ce[e]}const YP="symbol",TCt="discrete",ACt="gradient",kCt=e=>Xe(e)?e.map(t=>String(t)):String(e),ICt=(e,t)=>e[1]-t[1],RCt=(e,t)=>t[1]-e[1];function TX(e,t,n){let r;return yr(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(W_(e.domain())/n||1)+1))),Dt(t)&&(r=t.step,t=t.interval),It(t)&&(t=e.type===qv?G_(t):e.type==Vv?Y_(t):Ye("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function UAe(e,t,n){let r=e.range(),i=r[0],s=Un(r),o=ICt;if(i>s&&(r=s,s=i,i=r,o=RCt),i=Math.floor(i),s=Math.ceil(s),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=s).sort(o).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],Un(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function AX(e,t){return e.bins?UAe(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function HAe(e,t,n,r,i,s){const o=t.type;let a=kCt;if(o===qv||i===qv)a=e.timeFormat(r);else if(o===Vv||i===Vv)a=e.utcFormat(r);else if($Ae(o)){const l=e.formatFloat(r);if(s||t.bins)a=l;else{const u=qAe(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function qAe(e,t,n){const r=AX(e,t),i=e.base(),s=Math.log(i),o=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/s));return u*i<i-.5&&(u*=i),u<=o};return n?r.filter(a):a}const TU={[Bx]:"quantiles",[BM]:"thresholds",[zM]:"domain"},VAe={[Bx]:"quantiles",[BM]:"domain"};function WAe(e,t){return e.bins?OCt(e.bins):e.type===Xp?qAe(e,t,!0):TU[e.type]?PCt(e[TU[e.type]]()):AX(e,t)}function DCt(e,t,n){const r=t[VAe[t.type]](),i=r.length;let s=i>1?r[1]-r[0]:r[0],o;for(o=1;o<i;++o)s=Math.min(s,r[o]-r[o-1]);return e.formatSpan(0,s,3*10,n)}function PCt(e){const t=[-1/0].concat(e);return t.max=1/0,t}function OCt(e){const t=e.slice(0,-1);return t.max=Un(e),t}const NCt=e=>TU[e.type]||e.bins;function GAe(e,t,n,r,i,s,o){const a=VAe[t.type]&&s!==qv&&s!==Vv?DCt(e,t,i):HAe(e,t,n,i,s,o);return r===YP&&NCt(t)?$Ct(a):r===TCt?MCt(a):FCt(a)}const $Ct=e=>(t,n,r)=>{const i=Ece(r[n+1],Ece(r.max,1/0)),s=Cce(t,e),o=Cce(i,e);return s&&o?s+"  "+o:o?"< "+o:" "+s},Ece=(e,t)=>e??t,MCt=e=>(t,n)=>n?e(t):null,FCt=e=>t=>e(t),Cce=(e,t)=>Number.isFinite(e)?t(e):null;function LCt(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Un(t),s=i-r;if(e.type===zM){const o=n?s/n:.1;r-=o,i+=o,s=i-r}return o=>(o-r)/s}function jCt(e,t,n,r){const i=r||t.type;return It(n)&&xCt(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===qv?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===Vv?e.utcFormat("%A, %d %B %Y, %X UTC"):GAe(e,t,5,null,n,r,!0)}function YAe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=jCt(e,t,n.format,n.formatType);if(SU(t.type)){const s=WAe(t).slice(1).map(i),o=s.length;return`${o} boundar${o===1?"y":"ies"}: ${s.join(", ")}`}else if(zx(t.type)){const s=t.domain(),o=s.length,a=o>r?s.slice(0,r-2).map(i).join(", ")+", ending with "+s.slice(-1).map(i):s.map(i).join(", ");return`${o} value${o===1?"":"s"}: ${a}`}else{const s=t.domain();return`values from ${i(s[0])} to ${i(Un(s))}`}}let KAe=0;function BCt(){KAe=0}const cN="p_";function kX(e){return e&&e.gradient}function XAe(e,t,n){const r=e.gradient;let i=e.id,s=r==="radial"?cN:"";return i||(i=e.id="gradient_"+KAe++,r==="radial"?(e.x1=df(e.x1,.5),e.y1=df(e.y1,.5),e.r1=df(e.r1,0),e.x2=df(e.x2,.5),e.y2=df(e.y2,.5),e.r2=df(e.r2,.5),s=cN):(e.x1=df(e.x1,0),e.y1=df(e.y1,0),e.x2=df(e.x2,1),e.y2=df(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+s+i+")"}function df(e,t){return e??t}function IX(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,s){return n.push({offset:i,color:s}),r}}}const Sce={basis:{curve:Hgt},"basis-closed":{curve:qgt},"basis-open":{curve:Vgt},bundle:{curve:Wgt,tension:"beta",value:.85},cardinal:{curve:Ggt,tension:"tension",value:0},"cardinal-open":{curve:Kgt,tension:"tension",value:0},"cardinal-closed":{curve:Ygt,tension:"tension",value:0},"catmull-rom":{curve:Xgt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Qgt,tension:"alpha",value:.5},"catmull-rom-open":{curve:Jgt,tension:"alpha",value:.5},linear:{curve:NY},"linear-closed":{curve:Zgt},monotone:{horizontal:tyt,vertical:eyt},natural:{curve:nyt},step:{curve:ryt},"step-after":{curve:syt},"step-before":{curve:iyt}};function RX(e,t,n){var r=Ft(Sce,e)&&Sce[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const zCt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},UCt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,HCt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,qCt=/^((\s+,?\s*)|(,\s*))/,VCt=/^[01]/;function Wv(e){const t=[];return(e.match(UCt)||[]).forEach(r=>{let i=r[0];const s=i.toLowerCase(),o=zCt[s],a=WCt(s,o,r.slice(1).trim()),l=a.length;if(l<o||l&&l%o!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,o)]),l!==o){s==="m"&&(i=i==="M"?"L":"l");for(let u=o;u<l;u+=o)t.push([i,...a.slice(u,u+o)])}}),t}function WCt(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let s=0;s<t;++s){const o=e==="a"&&(s===3||s===4)?VCt:HCt,a=n.slice(i).match(o);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(qCt);l!==null&&(i+=l[0].length)}return r}const eg=Math.PI/180,GCt=1e-14,qy=Math.PI/2,kf=Math.PI*2,z1=Math.sqrt(3)/2;var Tj={},Aj={},QAe=[].join;function YCt(e,t,n,r,i,s,o,a,l){const u=QAe.call(arguments);if(Tj[u])return Tj[u];const c=o*eg,d=Math.sin(c),f=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=f*(a-e)*.5+d*(l-t)*.5,p=f*(l-t)*.5-d*(a-e)*.5;let m=h*h/(n*n)+p*p/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=f/n,y=d/n,v=-d/r,w=f/r,E=g*a+y*l,C=v*a+w*l,S=g*e+y*t,T=v*e+w*t;let I=1/((S-E)*(S-E)+(T-C)*(T-C))-.25;I<0&&(I=0);let D=Math.sqrt(I);s==i&&(D=-D);const O=.5*(E+S)-D*(T-C),M=.5*(C+T)+D*(S-E),$=Math.atan2(C-M,E-O);let z=Math.atan2(T-M,S-O)-$;z<0&&s===1?z+=kf:z>0&&s===0&&(z-=kf);const B=Math.ceil(Math.abs(z/(qy+.001))),W=[];for(let V=0;V<B;++V){const X=$+V*z/B,U=$+(V+1)*z/B;W[V]=[O,M,X,U,n,r,d,f]}return Tj[u]=W}function KCt(e){const t=QAe.call(e);if(Aj[t])return Aj[t];var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7];const c=u*o,d=-l*a,f=l*o,h=u*a,p=Math.cos(i),m=Math.sin(i),g=Math.cos(s),y=Math.sin(s),v=.5*(s-i),w=Math.sin(v*.5),E=8/3*w*w/Math.sin(v),C=n+p-E*m,S=r+m+E*p,T=n+g,A=r+y,I=T+E*y,D=A-E*g;return Aj[t]=[c*C+d*S,f*C+h*S,c*I+d*D,f*I+h*D,c*T+d*A,f*T+h*A]}const Pu=["l",0,0,0,0,0,0,0];function XCt(e,t,n){const r=Pu[0]=e[0];if(r==="a"||r==="A")Pu[1]=t*e[1],Pu[2]=n*e[2],Pu[3]=e[3],Pu[4]=e[4],Pu[5]=e[5],Pu[6]=t*e[6],Pu[7]=n*e[7];else if(r==="h"||r==="H")Pu[1]=t*e[1];else if(r==="v"||r==="V")Pu[1]=n*e[1];else for(var i=1,s=e.length;i<s;++i)Pu[i]=(i%2==1?t:n)*e[i];return Pu}function Ux(e,t,n,r,i,s){var o,a=null,l=0,u=0,c=0,d=0,f,h,p,m,g=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),s==null&&(s=i),e.beginPath&&e.beginPath();for(var v=0,w=t.length;v<w;++v){switch(o=t[v],(i!==1||s!==1)&&(o=XCt(o,i,s)),o[0]){case"l":l+=o[1],u+=o[2],e.lineTo(l+n,u+r);break;case"L":l=o[1],u=o[2],e.lineTo(l+n,u+r);break;case"h":l+=o[1],e.lineTo(l+n,u+r);break;case"H":l=o[1],e.lineTo(l+n,u+r);break;case"v":u+=o[1],e.lineTo(l+n,u+r);break;case"V":u=o[1],e.lineTo(l+n,u+r);break;case"m":l+=o[1],u+=o[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=o[1],u=o[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"c":f=l+o[5],h=u+o[6],c=l+o[3],d=u+o[4],e.bezierCurveTo(l+o[1]+n,u+o[2]+r,c+n,d+r,f+n,h+r),l=f,u=h;break;case"C":l=o[5],u=o[6],c=o[3],d=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,c+n,d+r,l+n,u+r);break;case"s":f=l+o[3],h=u+o[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,l+o[1]+n,u+o[2]+r,f+n,h+r),c=l+o[1],d=u+o[2],l=f,u=h;break;case"S":f=o[3],h=o[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,o[1]+n,o[2]+r,f+n,h+r),l=f,u=h,c=o[1],d=o[2];break;case"q":f=l+o[3],h=u+o[4],c=l+o[1],d=u+o[2],e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"Q":f=o[3],h=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,f+n,h+r),l=f,u=h,c=o[1],d=o[2];break;case"t":f=l+o[1],h=u+o[2],a[0].match(/[QqTt]/)===null?(c=l,d=u):a[0]==="t"?(c=2*l-p,d=2*u-m):a[0]==="q"&&(c=2*l-c,d=2*u-d),p=c,m=d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h,c=l+o[1],d=u+o[2];break;case"T":f=o[1],h=o[2],c=2*l-c,d=2*u-d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"a":Tce(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+l+n,o[7]+u+r]),l+=o[6],u+=o[7];break;case"A":Tce(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),l=o[6],u=o[7];break;case"z":case"Z":l=g,u=y,e.closePath();break}a=o}}function Tce(e,t,n,r){const i=YCt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let s=0;s<i.length;++s){const o=KCt(i[s]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const Ace=.5773502691896257,kce={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,kf)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,s=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-s),e.lineTo(i,-s),e.lineTo(0,-n),e.lineTo(-i,-s),e.lineTo(-r,-s),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=z1*n,i=r-n*Ace,s=n/4;e.moveTo(0,-r-i),e.lineTo(-s,r-i),e.lineTo(s,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=z1*n,i=r-n*Ace;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=z1*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=z1*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=z1*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=z1*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function JAe(e){return Ft(kce,e)?kce[e]:QCt(e)}var kj={};function QCt(e){if(!Ft(kj,e)){const t=Wv(e);kj[e]={draw:function(n,r){Ux(n,t,0,0,Math.sqrt(r)/2)}}}return kj[e]}const Gm=.448084975506;function JCt(e){return e.x}function ZCt(e){return e.y}function eSt(e){return e.width}function tSt(e){return e.height}function Vh(e){return typeof e=="function"?e:()=>+e}function lR(e,t,n){return Math.max(t,Math.min(e,n))}function ZAe(){var e=JCt,t=ZCt,n=eSt,r=tSt,i=Vh(0),s=i,o=i,a=i,l=null;function u(c,d,f){var h,p=d??+e.call(this,c),m=f??+t.call(this,c),g=+n.call(this,c),y=+r.call(this,c),v=Math.min(g,y)/2,w=lR(+i.call(this,c),0,v),E=lR(+s.call(this,c),0,v),C=lR(+o.call(this,c),0,v),S=lR(+a.call(this,c),0,v);if(l||(l=h=F4()),w<=0&&E<=0&&C<=0&&S<=0)l.rect(p,m,g,y);else{var T=p+g,A=m+y;l.moveTo(p+w,m),l.lineTo(T-E,m),l.bezierCurveTo(T-Gm*E,m,T,m+Gm*E,T,m+E),l.lineTo(T,A-S),l.bezierCurveTo(T,A-Gm*S,T-Gm*S,A,T-S,A),l.lineTo(p+C,A),l.bezierCurveTo(p+Gm*C,A,p,A-Gm*C,p,A-C),l.lineTo(p,m+w),l.bezierCurveTo(p,m+Gm*w,p+Gm*w,m,p+w,m),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=Vh(c),u):e},u.y=function(c){return arguments.length?(t=Vh(c),u):t},u.width=function(c){return arguments.length?(n=Vh(c),u):n},u.height=function(c){return arguments.length?(r=Vh(c),u):r},u.cornerRadius=function(c,d,f,h){return arguments.length?(i=Vh(c),s=d!=null?Vh(d):i,a=f!=null?Vh(f):i,o=h!=null?Vh(h):s,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function eke(){var e,t,n,r,i=null,s,o,a,l;function u(d,f,h){const p=h/2;if(s){var m=a-f,g=d-o;if(m||g){var y=Math.hypot(m,g),v=(m/=y)*l,w=(g/=y)*l,E=Math.atan2(g,m);i.moveTo(o-v,a-w),i.lineTo(d-m*p,f-g*p),i.arc(d,f,p,E-Math.PI,E),i.lineTo(o+v,a+w),i.arc(o,a,l,E,E+Math.PI)}else i.arc(d,f,p,0,kf);i.closePath()}else s=1;o=d,a=f,l=p}function c(d){var f,h=d.length,p,m=!1,g;for(i==null&&(i=g=F4()),f=0;f<=h;++f)!(f<h&&r(p=d[f],f,d))===m&&(m=!m)&&(s=0),m&&u(+e(p,f,d),+t(p,f,d),+n(p,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=d,c):e},c.y=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(n=d,c):n},c.defined=function(d){return arguments.length?(r=d,c):r},c.context=function(d){return arguments.length?(d==null?i=null:i=d,c):i},c}function PA(e,t){return e??t}const OA=e=>e.x||0,NA=e=>e.y||0,nSt=e=>e.width||0,rSt=e=>e.height||0,iSt=e=>(e.x||0)+(e.width||0),sSt=e=>(e.y||0)+(e.height||0),oSt=e=>e.startAngle||0,aSt=e=>e.endAngle||0,lSt=e=>e.padAngle||0,uSt=e=>e.innerRadius||0,cSt=e=>e.outerRadius||0,dSt=e=>e.cornerRadius||0,fSt=e=>PA(e.cornerRadiusTopLeft,e.cornerRadius)||0,hSt=e=>PA(e.cornerRadiusTopRight,e.cornerRadius)||0,pSt=e=>PA(e.cornerRadiusBottomRight,e.cornerRadius)||0,mSt=e=>PA(e.cornerRadiusBottomLeft,e.cornerRadius)||0,gSt=e=>PA(e.size,64),ySt=e=>e.size||1,HM=e=>e.defined!==!1,vSt=e=>JAe(e.shape||"circle"),bSt=Bgt().startAngle(oSt).endAngle(aSt).padAngle(lSt).innerRadius(uSt).outerRadius(cSt).cornerRadius(dSt),wSt=uSe().x(OA).y1(NA).y0(sSt).defined(HM),xSt=uSe().y(NA).x1(OA).x0(iSt).defined(HM),_St=lSe().x(OA).y(NA).defined(HM),ESt=ZAe().x(OA).y(NA).width(nSt).height(rSt).cornerRadius(fSt,hSt,pSt,mSt),CSt=Ugt().type(vSt).size(gSt),SSt=eke().x(OA).y(NA).defined(HM).size(ySt);function DX(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function TSt(e,t){return bSt.context(e)(t)}function ASt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?xSt:wSt).curve(RX(r,n.orient,n.tension)).context(e)(t)}function kSt(e,t){const n=t[0],r=n.interpolate||"linear";return _St.curve(RX(r,n.orient,n.tension)).context(e)(t)}function J_(e,t,n,r){return ESt.context(e)(t,n,r)}function ISt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function RSt(e,t){return CSt.context(e)(t)}function DSt(e,t){return SSt.context(e)(t)}var tke=1;function nke(){tke=1}function PX(e,t,n){var r=t.clip,i=e._defs,s=t.clip_id||(t.clip_id="clip"+tke++),o=i.clipping[s]||(i.clipping[s]={id:s});return Rn(r)?o.path=r(null):DX(n)?o.path=J_(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+s+")"}function qi(e){this.clear(),e&&this.union(e)}qi.prototype={clone(){return new qi(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:s,y2:o}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*o+u,l*r+a*o+c,a*s-l*i+u,l*s+a*i+c,a*s-l*o+u,l*s+a*o+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function qM(e){this.mark=e,this.bounds=this.bounds||new qi}function VM(e){qM.call(this,e),this.items=this.items||[]}Ct(VM,qM);class rke{constructor(t){this._pending=0,this._loader=t||xM()}pending(){return this._pending}sanitizeURL(t){const n=this;return Ice(n),n._loader.sanitize(t,{context:"href"}).then(r=>(pC(n),r)).catch(()=>(pC(n),null))}loadImage(t){const n=this,r=fCt();return Ice(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const s=i.href;if(!s||!r)throw{url:s};const o=new r,a=Ft(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(o.crossOrigin=a),o.onload=()=>pC(n),o.onerror=()=>pC(n),o.src=s,o}).catch(i=>(pC(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function Ice(e){e._pending+=1}function pC(e){e._pending-=1}function hm(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?PSt(t,r):0))}return e}function PSt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const OSt=kf-1e-8;let WM,KP,XP,ov,AU,QP,kU,IU;const x0=(e,t)=>WM.add(e,t),JP=(e,t)=>x0(KP=e,XP=t),Rce=e=>x0(e,WM.y1),Dce=e=>x0(WM.x1,e),Vy=(e,t)=>AU*e+kU*t,Wy=(e,t)=>QP*e+IU*t,Ij=(e,t)=>x0(Vy(e,t),Wy(e,t)),Rj=(e,t)=>JP(Vy(e,t),Wy(e,t));function $A(e,t){return WM=e,t?(ov=t*eg,AU=IU=Math.cos(ov),QP=Math.sin(ov),kU=-QP):(AU=IU=1,ov=QP=kU=0),NSt}const NSt={beginPath(){},closePath(){},moveTo:Rj,lineTo:Rj,rect(e,t,n,r){ov?(Ij(e+n,t),Ij(e+n,t+r),Ij(e,t+r),Rj(e,t)):(x0(e+n,t+r),JP(e,t))},quadraticCurveTo(e,t,n,r){const i=Vy(e,t),s=Wy(e,t),o=Vy(n,r),a=Wy(n,r);Pce(KP,i,o,Rce),Pce(XP,s,a,Dce),JP(o,a)},bezierCurveTo(e,t,n,r,i,s){const o=Vy(e,t),a=Wy(e,t),l=Vy(n,r),u=Wy(n,r),c=Vy(i,s),d=Wy(i,s);Oce(KP,o,l,c,Rce),Oce(XP,a,u,d,Dce),JP(c,d)},arc(e,t,n,r,i,s){if(r+=ov,i+=ov,KP=n*Math.cos(i)+e,XP=n*Math.sin(i)+t,Math.abs(i-r)>OSt)x0(e-n,t-n),x0(e+n,t+n);else{const o=u=>x0(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(o(r),o(i),i!==r)if(r=r%kf,r<0&&(r+=kf),i=i%kf,i<0&&(i+=kf),i<r&&(s=!s,a=r,r=i,i=a),s)for(i-=kf,a=r-r%qy,l=0;l<4&&a>i;++l,a-=qy)o(a);else for(a=r-r%qy+qy,l=0;l<4&&a<i;++l,a=a+qy)o(a)}}};function Pce(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function Oce(e,t,n,r,i){const s=r-e+3*t-3*n,o=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(s)>GCt?(c=o*o+a*s,c>=0&&(c=Math.sqrt(c),l=(-o+c)/s,u=(-o-c)/s)):l=.5*a/o,0<l&&l<1&&i(Nce(l,e,t,n,r)),0<u&&u<1&&i(Nce(u,e,t,n,r))}function Nce(e,t,n,r,i){const s=1-e,o=s*s,a=e*e;return o*s*t+3*o*e*n+3*s*a*r+a*e*i}var j0=(j0=L0(1,1))?j0.getContext("2d"):null;const RU=new qi;function OX(e){return function(t,n){if(!j0)return!0;e(j0,t),RU.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:s,y2:o}=RU;for(let a=i;a<=o;++a)for(let l=r;l<=s;++l)if(j0.isPointInPath(l,a))return!0;return!1}}function NX(e,t){return t.contains(e.x||0,e.y||0)}function ike(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,s=e.height||0;return t.intersects(RU.set(n,r,n+i,r+s))}function ske(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,s=e.y2!=null?e.y2:r;return kw(t,n,r,i,s)}function kw(e,t,n,r,i){const{x1:s,y1:o,x2:a,y2:l}=e,u=r-t,c=i-n;let d=0,f=1,h,p,m,g;for(g=0;g<4;++g){if(g===0&&(h=-u,p=-(s-t)),g===1&&(h=u,p=a-t),g===2&&(h=-c,p=-(o-n)),g===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(m=p/h,h<0){if(m>f)return!1;m>d&&(d=m)}else if(h>0){if(m<d)return!1;m<f&&(f=m)}}return!0}function Hx(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Mc(e,t){return e??t}function $ce(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function $St(e,t,n){const r=n.width(),i=n.height();let s;if(t.gradient==="radial")s=e.createRadialGradient(n.x1+Mc(t.x1,.5)*r,n.y1+Mc(t.y1,.5)*i,Math.max(r,i)*Mc(t.r1,0),n.x1+Mc(t.x2,.5)*r,n.y1+Mc(t.y2,.5)*i,Math.max(r,i)*Mc(t.r2,.5));else{const o=Mc(t.x1,0),a=Mc(t.y1,0),l=Mc(t.x2,1),u=Mc(t.y2,0);if(o===l||a===u||r===i)s=e.createLinearGradient(n.x1+o*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=L0(Math.ceil(r),Math.ceil(i)),d=c.getContext("2d");return d.scale(r,i),d.fillStyle=$ce(d.createLinearGradient(o,a,l,u),t.stops),d.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return $ce(s,t.stops)}function oke(e,t,n){return kX(n)?$St(e,n,t.bounds):n}function dN(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=oke(e,t,t.fill),!0):!1}var MSt=[];function qx(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=oke(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||MSt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function FSt(e,t){return e.zindex-t.zindex||e.index-t.index}function $X(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,s;for(i=0,s=t.length;i<s;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(FSt)}function Td(e,t){var n=e.items,r,i;if(!n||!n.length)return;const s=$X(e);if(s&&s.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=s}for(r=0,i=n.length;r<i;++r)t(n[r])}function fN(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const s=$X(e);for(s&&s.length&&(n=s),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===s){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function MX(e){return function(t,n,r){Td(n,i=>{(!r||r.intersects(i.bounds))&&ake(e,t,i,i)})}}function LSt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&ake(e,t,n.items[0],n.items)}}function ake(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Hx(t,n),n.fill&&dN(t,n,i)&&t.fill(),n.stroke&&qx(t,n,i)&&t.stroke()))}function GM(e){return e=e||Il,function(t,n,r,i,s,o){return r*=t.pixelRatio,i*=t.pixelRatio,fN(n,a=>{const l=a.bounds;if(!(l&&!l.contains(s,o)||!l)&&e(t,a,r,i,s,o))return a})}}function MA(e,t){return function(n,r,i,s){var o=Array.isArray(r)?r[0]:r,a=t??o.fill,l=o.stroke&&n.isPointInStroke,u,c;return l&&(u=o.strokeWidth,c=o.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,s)||l&&n.isPointInStroke(i,s)}}function FX(e){return GM(MA(e))}function bv(e,t){return"translate("+e+","+t+")"}function LX(e){return"rotate("+e+")"}function jSt(e,t){return"scale("+e+","+t+")"}function lke(e){return bv(e.x||0,e.y||0)}function BSt(e){return bv(e.x||0,e.y||0)+(e.angle?" "+LX(e.angle):"")}function zSt(e){return bv(e.x||0,e.y||0)+(e.angle?" "+LX(e.angle):"")+(e.scaleX||e.scaleY?" "+jSt(e.scaleX||1,e.scaleY||1):"")}function jX(e,t,n){function r(o,a){o("transform",BSt(a)),o("d",t(null,a))}function i(o,a){return t($A(o,a.angle),a),hm(o,a).translate(a.x||0,a.y||0)}function s(o,a){var l=a.x||0,u=a.y||0,c=a.angle||0;o.translate(l,u),c&&o.rotate(c*=eg),o.beginPath(),t(o,a),c&&o.rotate(-c),o.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:MX(s),pick:FX(s),isect:n||OX(s)}}var USt=jX("arc",TSt);function HSt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,s=1/0,o,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<s&&(s=a,o=e[i]));return o}function qSt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,s,o;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],s=e[r].y-t[1],o=i*i+s*s,o<n))return e[r];return null}function VSt(e,t){for(var n=e.length,r,i,s;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],s=r*r+i*i,r=e[n].size||1,s<r*r))return e[n];return null}function BX(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t($A(l),c),hm(l,c[0]))}function s(l,u){l.beginPath(),t(l,u)}const o=MA(s);function a(l,u,c,d,f,h){var p=u.items,m=u.bounds;return!p||!p.length||m&&!m.contains(f,h)?null:(c*=l.pixelRatio,d*=l.pixelRatio,o(l,p,c,d)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:LSt(s),pick:a,isect:NX,tip:n}}var WSt=BX("area",ASt,HSt);function GSt(e,t){var n=t.clip;e.save(),Rn(n)?(e.beginPath(),n(e),e.clip()):uke(e,t.group)}function uke(e,t){e.beginPath(),DX(t)?J_(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function cke(e){const t=Mc(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function YSt(e,t){e("transform",lke(t))}function dke(e,t){const n=cke(t);e("d",J_(null,t,n,n))}function KSt(e,t){e("class","background"),e("aria-hidden",!0),dke(e,t)}function XSt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?dke(e,t):e("d","")}function QSt(e,t,n){const r=t.clip?PX(n,t,t):null;e("clip-path",r)}function JSt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),hm(e,t),e.translate(t.x||0,t.y||0)}function iT(e,t,n,r){const i=cke(t);e.beginPath(),J_(e,t,(n||0)+i,(r||0)+i)}const ZSt=MA(iT),e2t=MA(iT,!1),t2t=MA(iT,!0);function n2t(e,t,n,r){Td(t,i=>{const s=i.x||0,o=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(iT(e,i,s,o),Hx(e,i),i.fill&&dN(e,i,l)&&e.fill(),i.stroke&&!a&&qx(e,i,l)&&e.stroke()),e.save(),e.translate(s,o),i.clip&&uke(e,i),n&&n.translate(-s,-o),Td(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(s,o),e.restore(),a&&i.stroke&&l&&(iT(e,i,s,o),Hx(e,i),qx(e,i,l)&&e.stroke())})}function r2t(e,t,n,r,i,s){if(t.bounds&&!t.bounds.contains(i,s)||!t.items)return null;const o=n*e.pixelRatio,a=r*e.pixelRatio;return fN(t,l=>{let u,c,d;const f=l.bounds;if(f&&!f.contains(i,s))return;c=l.x||0,d=l.y||0;const h=c+(l.width||0),p=d+(l.height||0),m=l.clip;if(m&&(i<c||i>h||s<d||s>p))return;if(e.save(),e.translate(c,d),c=i-c,d=s-d,m&&DX(l)&&!t2t(e,l,o,a))return e.restore(),null;const g=l.strokeForeground,y=t.interactive!==!1;return y&&g&&l.stroke&&e2t(e,l,o,a)?(e.restore(),l):(u=fN(l,v=>i2t(v,c,d)?this.pick(v,n,r,c,d):null),!u&&y&&(l.fill||!g&&l.stroke)&&ZSt(e,l,o,a)&&(u=l),e.restore(),u||null)})}function i2t(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var s2t={type:"group",tag:"g",nested:!1,attr:YSt,bound:JSt,draw:n2t,pick:r2t,isect:ike,content:QSt,background:KSt,foreground:XSt},sT={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function zX(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function UX(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function HX(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function YM(e,t){return e==="center"?t/2:e==="right"?t:0}function KM(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function o2t(e,t,n){const r=zX(t,n),i=UX(t,r),s=HX(t,r),o=(t.x||0)-YM(t.align,i),a=(t.y||0)-KM(t.baseline,s),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,sT["xmlns:xlink"],"xlink:href"),e("transform",bv(o,a)),e("width",i),e("height",s),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function a2t(e,t){const n=t.image,r=UX(t,n),i=HX(t,n),s=(t.x||0)-YM(t.align,r),o=(t.y||0)-KM(t.baseline,i);return e.set(s,o,s+r,o+i)}function l2t(e,t,n){Td(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=zX(r,this);let s=UX(r,i),o=HX(r,i);if(s===0||o===0)return;let a=(r.x||0)-YM(r.align,s),l=(r.y||0)-KM(r.baseline,o),u,c,d,f;r.aspect!==!1&&(c=i.width/i.height,d=r.width/r.height,c===c&&d===d&&c!==d&&(d<c?(f=s/c,l+=(o-f)/2,o=f):(f=o*c,a+=(s-f)/2,s=f))),(i.complete||i.toDataURL)&&(Hx(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,s,o))})}var u2t={type:"image",tag:"image",nested:!1,attr:o2t,bound:a2t,draw:l2t,pick:GM(),isect:Il,get:zX,xOffset:YM,yOffset:KM},c2t=BX("line",kSt,qSt);function d2t(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",zSt(t)),e("d",t.path)}function ZP(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,s=t.scaleX||1,o=t.scaleY||1,a=(t.angle||0)*eg,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=Wv(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),Ux(e,l,0,0,s,o),e.rotate(-a),e.translate(-r,-i)):Ux(e,l,r,i,s,o)}function f2t(e,t){return ZP($A(e,t.angle),t)?e.set(0,0,0,0):hm(e,t,!0)}var h2t={type:"path",tag:"path",nested:!1,attr:d2t,bound:f2t,draw:MX(ZP),pick:FX(ZP),isect:OX(ZP)};function p2t(e,t){e("d",J_(null,t))}function m2t(e,t){var n,r;return hm(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function Mce(e,t){e.beginPath(),J_(e,t)}var g2t={type:"rect",tag:"path",nested:!1,attr:p2t,bound:m2t,draw:MX(Mce),pick:FX(Mce),isect:ike};function y2t(e,t){e("transform",lke(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function v2t(e,t){var n,r;return hm(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function fke(e,t,n){var r,i,s,o;return t.stroke&&qx(e,t,n)?(r=t.x||0,i=t.y||0,s=t.x2!=null?t.x2:r,o=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(s,o),!0):!1}function b2t(e,t,n){Td(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&fke(e,r,i)&&(Hx(e,r),e.stroke())}})}function w2t(e,t,n,r){return e.isPointInStroke?fke(e,t,1)&&e.isPointInStroke(n,r):!1}var x2t={type:"rule",tag:"line",nested:!1,attr:y2t,bound:v2t,draw:b2t,pick:GM(w2t),isect:ske},_2t=jX("shape",ISt),E2t=jX("symbol",RSt,NX);const Fce=uTe();var su={height:bh,measureWidth:qX,estimateWidth:hN,width:hN,canvas:hke};hke(!0);function hke(e){su.width=e&&j0?qX:hN}function hN(e,t){return pke(ng(e,t),bh(e))}function pke(e,t){return~~(.8*e.length*t)}function qX(e,t){return bh(e)<=0||!(t=ng(e,t))?0:mke(t,XM(e))}function mke(e,t){const n=`(${t}) ${e}`;let r=Fce.get(n);return r===void 0&&(j0.font=t,r=j0.measureText(e).width,Fce.set(n,r)),r}function bh(e){return e.fontSize!=null?+e.fontSize||0:11}function tg(e){return e.lineHeight!=null?e.lineHeight:bh(e)+2}function C2t(e){return Xe(e)?e.length>1?e:e[0]:e}function FA(e){return C2t(e.lineBreak&&e.text&&!Xe(e.text)?e.text.split(e.lineBreak):e.text)}function VX(e){const t=FA(e);return(Xe(t)?t.length-1:0)*tg(e)}function ng(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?T2t(e,n):n}function S2t(e){if(su.width===qX){const t=XM(e);return n=>mke(n,t)}else if(su.width===hN){const t=bh(e);return n=>pke(n,t)}else return t=>su.width(e,t)}function T2t(e,t){var n=+e.limit,r=S2t(e);if(r(t)<n)return t;var i=e.ellipsis||"",s=e.dir==="rtl",o=0,a=t.length,l;if(n-=r(i),s){for(;o<a;)l=o+a>>>1,r(t.slice(l))>n?o=l+1:a=l;return i+t.slice(o)}else{for(;o<a;)l=1+(o+a>>>1),r(t.slice(0,l))<n?o=l:a=l-1;return t.slice(0,o)+i}}function LA(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function XM(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+bh(e)+"px "+LA(e,t)}function WX(e){var t=e.baseline,n=bh(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*tg(e):t==="line-bottom"?.29*n-.5*tg(e):0)}const A2t={left:"start",center:"middle",right:"end"},KS=new qi;function QM(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-qy,t+=r*Math.cos(i),n+=r*Math.sin(i)),KS.x1=t,KS.y1=n,KS}function k2t(e,t){var n=t.dx||0,r=(t.dy||0)+WX(t),i=QM(t),s=i.x1,o=i.y1,a=t.angle||0,l;e("text-anchor",A2t[t.align]||"start"),a?(l=bv(s,o)+" "+LX(a),(n||r)&&(l+=" "+bv(n,r))):l=bv(s+n,o+r),e("transform",l)}function GX(e,t,n){var r=su.height(t),i=t.align,s=QM(t),o=s.x1,a=s.y1,l=t.dx||0,u=(t.dy||0)+WX(t)-Math.round(.8*r),c=FA(t),d;if(Xe(c)?(r+=tg(t)*(c.length-1),d=c.reduce((f,h)=>Math.max(f,su.width(t,h)),0)):d=su.width(t,c),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=o,u+=a,l+d,u+r),t.angle&&!n)e.rotate(t.angle*eg,o,a);else if(n===2)return e.rotatedPoints(t.angle*eg,o,a);return e}function I2t(e,t,n){Td(t,r=>{var i=r.opacity==null?1:r.opacity,s,o,a,l,u,c,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=XM(r),e.textAlign=r.align||"left",s=QM(r),o=s.x1,a=s.y1,r.angle&&(e.save(),e.translate(o,a),e.rotate(r.angle*eg),o=a=0),o+=r.dx||0,a+=(r.dy||0)+WX(r),c=FA(r),Hx(e,r),Xe(c))for(u=tg(r),l=0;l<c.length;++l)d=ng(r,c[l]),r.fill&&dN(e,r,i)&&e.fillText(d,o,a),r.stroke&&qx(e,r,i)&&e.strokeText(d,o,a),a+=u;else d=ng(r,c),r.fill&&dN(e,r,i)&&e.fillText(d,o,a),r.stroke&&qx(e,r,i)&&e.strokeText(d,o,a);r.angle&&e.restore()}})}function R2t(e,t,n,r,i,s){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=QM(t),a=o.x1,l=o.y1,u=GX(KS,t,1),c=-t.angle*eg,d=Math.cos(c),f=Math.sin(c),h=d*i-f*s+(a-d*a+f*l),p=f*i+d*s+(l-f*a-d*l);return u.contains(h,p)}function D2t(e,t){const n=GX(KS,e,2);return kw(t,n[0],n[1],n[2],n[3])||kw(t,n[0],n[1],n[4],n[5])||kw(t,n[4],n[5],n[6],n[7])||kw(t,n[2],n[3],n[6],n[7])}var P2t={type:"text",tag:"text",nested:!1,attr:k2t,bound:GX,draw:I2t,pick:GM(R2t),isect:D2t},O2t=BX("trail",DSt,VSt),vu={arc:USt,area:WSt,group:s2t,image:u2t,line:c2t,path:h2t,rect:g2t,rule:x2t,shape:_2t,symbol:E2t,text:P2t,trail:O2t};function DU(e,t,n){var r=vu[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new qi),e,n)}var Lce={mark:null};function gke(e,t,n){var r=vu[e.marktype],i=r.bound,s=e.items,o=s&&s.length,a,l,u,c;if(r.nested)return o?u=s[0]:(Lce.mark=e,u=Lce),c=DU(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new qi,o)for(a=0,l=s.length;a<l;++a)t.union(DU(s[a],i,n));return e.bounds=t}const N2t=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function yke(e,t){return JSON.stringify(e,N2t,t)}function vke(e){const t=typeof e=="string"?JSON.parse(e):e;return bke(t)}function bke(e){var t=e.marktype,n=e.items,r,i,s;if(n)for(i=0,s=n.length;i<s;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&bke(n[i]);return t&&gke(e),e}class wke{constructor(t){arguments.length?this.root=vke(t):(this.root=jce({marktype:"group",name:"root",role:"frame"}),this.root.items=[new VM(this.root)])}toJSON(t){return yke(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=jce(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function jce(e,t){const n={bounds:new qi,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function _0(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function YX(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Is(e,t,n,r){var i=e.childNodes[t],s;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(s=i||null,i=_0(e.ownerDocument,n,r),e.insertBefore(i,s)),i}function ju(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function xke(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function JM(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function $2t(e,t,n,r){var i=e&&e.mark,s,o;if(i&&(s=vu[i.marktype]).tip){for(o=JM(t,n),o[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=s.tip(i.items,o)}return e}let KX=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||xM(),this._tooltip=n||M2t}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const s=new MouseEvent(t.type,t),o=_0(null,"a");for(const a in i)o.setAttribute(a,i[a]);o.dispatchEvent(s)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=$2t(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,s=t.bounds,o=s.width(),a=s.height();let l=s.x1+i[0]+r.left,u=s.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:o,height:a,left:l,top:u,right:l+o,bottom:u+a}}};function M2t(e,t,n,r){e.element().setAttribute("title",r||"")}class jA{constructor(t){this._el=null,this._bgcolor=null,this._loader=new rke(t)}initialize(t,n,r,i,s){return this._el=t,this.resize(n,r,i,s)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const s=r._call;r._ready=r._loader.ready().then(o=>{o&&s(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const F2t="keydown",L2t="keypress",j2t="keyup",_ke="dragenter",e3="dragleave",Eke="dragover",PU="pointerdown",B2t="pointerup",pN="pointermove",t3="pointerout",Cke="pointerover",OU="mousedown",z2t="mouseup",Ske="mousemove",mN="mouseout",Tke="mouseover",gN="click",U2t="dblclick",H2t="wheel",Ake="mousewheel",yN="touchstart",vN="touchmove",bN="touchend",q2t=[F2t,L2t,j2t,_ke,e3,Eke,PU,B2t,pN,t3,Cke,OU,z2t,Ske,mN,Tke,gN,U2t,H2t,Ake,yN,vN,bN],NU=pN,XS=mN,$U=gN;class BA extends KX{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=q2t,this.pointermove=zce([pN,Ske],[Cke,Tke],[t3,mN]),this.dragover=zce([Eke],[_ke],[e3]),this.pointerout=Uce([t3,mN]),this.dragleave=Uce([e3])}initialize(t,n,r){return this._canvas=t&&YX(t,"canvas"),[gN,OU,PU,pN,t3,e3].forEach(i=>Bce(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(Ake,t)}pointerdown(t){this._down=this._active,this.fire(PU,t)}mousedown(t){this._down=this._active,this.fire(OU,t)}click(t){this._down===this._active&&(this.fire(gN,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(yN,t,!0)}touchmove(t){this.fire(vN,t,!0)}touchend(t){this.fire(bN,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,s=this._handlers[t];if(n.vegaType=t,t===$U&&i&&i.href?this.handleHref(n,i,i.href):(t===NU||t===XS)&&this.handleTooltip(n,i,t!==XS),s)for(let o=0,a=s.length;o<a;++o)s[o].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(Bce(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&i.splice(s,1),this}pickEvent(t){const n=JM(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,s){const o=this.context();return vu[t.marktype].pick.call(this,o,t,n,r,i,s)}}const V2t=e=>e===yN||e===vN||e===bN?[yN,vN,bN]:[e];function Bce(e,t){V2t(t).forEach(n=>W2t(e,n))}function W2t(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function yS(e,t,n){t.forEach(r=>e.fire(r,n))}function zce(e,t,n){return function(r){const i=this._active,s=this.pickEvent(r);s===i?yS(this,e,r):((!i||!i.exit)&&yS(this,n,r),this._active=s,yS(this,t,r),yS(this,e,r))}}function Uce(e){return function(t){yS(this,e,t),this._active=null}}function G2t(){return typeof window<"u"&&window.devicePixelRatio||1}function Y2t(e,t,n,r,i,s){const o=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=o?G2t():i;e.width=t*l,e.height=n*l;for(const u in s)a[u]=s[u];return o&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class wN extends jA{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new qi,this._tempb=new qi}initialize(t,n,r,i,s,o){return this._options=o||{},this._canvas=this._options.externalContext?null:L0(1,1,this._options.type),t&&this._canvas&&(ju(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,s)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)Y2t(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||Ye("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,s=this._width,o=this._height,a=this._dirty,l=K2t(i,s,o);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):X2t(r,l.intersect(a),i);return this.clear(-i[0],-i[1],s,o),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const s=vu[n.marktype];n.clip&&GSt(t,n),s.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const s=this._options,o=this.context();s.type!=="pdf"&&!s.externalContext&&o.clearRect(t,n,r,i),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(t,n,r,i))}}const K2t=(e,t,n)=>new qi().set(0,0,t,n).translate(-e[0],-e[1]);function X2t(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class kke extends KX{constructor(t,n){super(t,n);const r=this;r._hrefHandler=Dj(r,(i,s)=>{s&&s.href&&r.handleHref(i,s,s.href)}),r._tooltipHandler=Dj(r,(i,s)=>{r.handleTooltip(i,s,i.type!==XS)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener($U,this._hrefHandler),i.removeEventListener(NU,this._tooltipHandler),i.removeEventListener(XS,this._tooltipHandler)),this._svg=i=t&&YX(t,"svg"),i&&(i.addEventListener($U,this._hrefHandler),i.addEventListener(NU,this._tooltipHandler),i.addEventListener(XS,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const o={type:t,handler:n,listener:Dj(this,n)};(i[r]||(i[r]=[])).push(o),this._svg&&this._svg.addEventListener(r,o.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&(this._svg&&this._svg.removeEventListener(r,i[s].listener),i.splice(s,1)),this}}const Dj=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},Ike="aria-hidden",XX="aria-label",QX="role",JX="aria-roledescription",Rke="graphics-object",ZX="graphics-symbol",Dke=(e,t,n)=>({[QX]:e,[JX]:t,[XX]:n||void 0}),Q2t=Cd(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Hce={axis:{desc:"axis",caption:eTt},legend:{desc:"legend",caption:tTt},"title-text":{desc:"title",caption:e=>`Title text '${Vce(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Vce(e)}'`}},qce={ariaRole:QX,ariaRoleDescription:JX,description:XX};function Pke(e,t){const n=t.aria===!1;if(e(Ike,n||void 0),n||t.description==null)for(const r in qce)e(qce[r],void 0);else{const r=t.mark.marktype;e(XX,t.description),e(QX,t.ariaRole||(r==="group"?Rke:ZX)),e(JX,t.ariaRoleDescription||`${r} mark`)}}function Oke(e){return e.aria===!1?{[Ike]:!0}:Q2t[e.role]?null:Hce[e.role]?Z2t(e,Hce[e.role]):J2t(e)}function J2t(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return Dke(n?Rke:ZX,`${t} mark container`,e.description)}function Z2t(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return Dke(t.role||ZX,t.desc,n.description||r(n))}catch{return null}}function Vce(e){return Rt(e.text).join(" ")}function eTt(e){const t=e.datum,n=e.orient,r=t.title?Nke(e):null,i=e.context,s=i.scales[t.scale].value,o=i.dataflow.locale(),a=s.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${zx(a)?"discrete":a} scale with ${YAe(o,s,e)}`}function tTt(e){const t=e.datum,n=t.title?Nke(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,s=Object.keys(i),o=e.context,a=o.scales[i[s[0]]].value,l=o.dataflow.locale();return rTt(r)+(n?` titled '${n}'`:"")+` for ${nTt(s)} with ${YAe(l,a,e)}`}function Nke(e){try{return Rt(Un(e.items).items[0].text).join(" ")}catch{return null}}function nTt(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Un(e)}function rTt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const $ke=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),iTt=e=>$ke(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function eQ(){let e="",t="",n="";const r=[],i=()=>t=n="",s=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},o=(l,u)=>(u!=null&&(t+=` ${l}="${iTt(u)}"`),a),a={open(l){s(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];for(const f of c)for(const h in f)o(h,f[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:o,text:l=>(n+=$ke(l),a),toString:()=>e};return a}const Mke=e=>Fke(eQ(),e)+"";function Fke(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):Fke(e,r)}return e.close()}const xN={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},_N={blend:"mix-blend-mode"},Lke={fill:"none","stroke-miterlimit":10},mC=0,Wce="http://www.w3.org/2000/xmlns/",ks=sT.xmlns;class tQ extends jA{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,s){return this._defs={},this._clearDefs(),t&&(this._svg=Is(t,0,"svg",ks),this._svg.setAttributeNS(Wce,"xmlns",ks),this._svg.setAttributeNS(Wce,"xmlns:xlink",sT["xmlns:xlink"]),this._svg.setAttribute("version",sT.version),this._svg.setAttribute("class","marks"),ju(t,1),this._root=Is(this._svg,mC,"g",ks),E0(this._root,Lke),ju(this._svg,mC+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,s)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(E0(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=Is(t,mC,"rect",ks),E0(r,{width:this._width,height:this._height,fill:n}));const i=Mke(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),ju(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,s,o,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==s&&(s=i.marktype,o=vu[s]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,Gce(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){o.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(o,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=o.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,Gce(r,n)):this._update(o,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const s=this._svg,o=n.marktype,a=vu[o],l=n.interactive===!1?"none":null,u=a.tag==="g",c=Yce(n,t,r,"g",s);if(o!=="group"&&i!=null&&!i.includes(o))return ju(c,0),n._svg;c.setAttribute("class",xke(n));const d=Oke(n);for(const m in d)Aa(c,m,d[m]);u||Aa(c,"pointer-events",l),Aa(c,"clip-path",n.clip?PX(this,n,n.group):null);let f=null,h=0;const p=m=>{const g=this.isDirty(m),y=Yce(m,c,f,a.tag,s);g&&(this._update(a,y,m),u&&aTt(this,y,m,i)),f=y,++h};return a.nested?n.items.length&&p(n.items[0]):Td(n,p),ju(c,h),c}_update(t,n,r){bp=n,ea=n.__values__,Pke(QS,r),t.attr(QS,r,this);const i=uTt[t.type];i&&i.call(this,t,n,r),bp&&this.style(bp,r)}style(t,n){if(n!=null){for(const r in xN){let i=r==="font"?LA(n):n[r];if(i===ea[r])continue;const s=xN[r];i==null?t.removeAttribute(s):(kX(i)&&(i=XAe(i,this._defs.gradient,jke())),t.setAttribute(s,i+"")),ea[r]=i}for(const r in _N)n3(t,_N[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const s in n.gradient)r||(n.el=r=Is(t,mC+1,"defs",ks)),i=sTt(r,n.gradient[s],i);for(const s in n.clipping)r||(n.el=r=Is(t,mC+1,"defs",ks)),i=oTt(r,n.clipping[s],i);r&&(i===0?(t.removeChild(r),n.el=null):ju(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function Gce(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function sTt(e,t,n){let r,i,s;if(t.gradient==="radial"){let o=Is(e,n++,"pattern",ks);E0(o,{id:cN+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=Is(o,0,"rect",ks),E0(o,{width:1,height:1,fill:`url(${jke()}#${t.id})`}),e=Is(e,n++,"radialGradient",ks),E0(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Is(e,n++,"linearGradient",ks),E0(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)s=Is(e,r,"stop",ks),s.setAttribute("offset",t.stops[r].offset),s.setAttribute("stop-color",t.stops[r].color);return ju(e,r),n}function oTt(e,t,n){let r;return e=Is(e,n,"clipPath",ks),e.setAttribute("id",t.id),t.path?(r=Is(e,0,"path",ks),r.setAttribute("d",t.path)):(r=Is(e,0,"rect",ks),E0(r,{x:0,y:0,width:t.width,height:t.height})),ju(e,1),n+1}function aTt(e,t,n,r){t=t.lastChild.previousSibling;let i,s=0;Td(n,o=>{i=e.mark(t,o,i,r),++s}),ju(t,1+s)}function Yce(e,t,n,r,i){let s=e._svg,o;if(!s&&(o=t.ownerDocument,s=_0(o,r,ks),e._svg=s,e.mark&&(s.__data__=e,s.__values__={fill:"default"},r==="g"))){const a=_0(o,"path",ks);s.appendChild(a),a.__data__=e;const l=_0(o,"g",ks);s.appendChild(l),l.__data__=e;const u=_0(o,"path",ks);s.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(s.ownerSVGElement!==i||lTt(s,n))&&t.insertBefore(s,n?n.nextSibling:t.firstChild),s}function lTt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let bp=null,ea=null;const uTt={group(e,t,n){const r=bp=t.childNodes[2];ea=r.__values__,e.foreground(QS,n,this),ea=t.__values__,bp=t.childNodes[1],e.content(QS,n,this);const i=bp=t.childNodes[0];e.background(QS,n,this);const s=n.mark.interactive===!1?"none":null;if(s!==ea.events&&(Aa(r,"pointer-events",s),Aa(i,"pointer-events",s),ea.events=s),n.strokeForeground&&n.stroke){const o=n.fill;Aa(r,"display",null),this.style(i,n),Aa(i,"stroke",null),o&&(n.fill=null),ea=r.__values__,this.style(r,n),o&&(n.fill=o),bp=null}else Aa(r,"display","none")},image(e,t,n){n.smooth===!1?(n3(t,"image-rendering","optimizeSpeed"),n3(t,"image-rendering","pixelated")):n3(t,"image-rendering",null)},text(e,t,n){const r=FA(n);let i,s,o,a;Xe(r)?(s=r.map(l=>ng(n,l)),i=s.join(`
`),i!==ea.text&&(ju(t,0),o=t.ownerDocument,a=tg(n),s.forEach((l,u)=>{const c=_0(o,"tspan",ks);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),ea.text=i)):(s=ng(n,r),s!==ea.text&&(t.textContent=s,ea.text=s)),Aa(t,"font-family",LA(n)),Aa(t,"font-size",bh(n)+"px"),Aa(t,"font-style",n.fontStyle),Aa(t,"font-variant",n.fontVariant),Aa(t,"font-weight",n.fontWeight)}};function QS(e,t,n){t!==ea[e]&&(n?cTt(bp,e,t,n):Aa(bp,e,t),ea[e]=t)}function n3(e,t,n){n!==ea[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),ea[t]=n)}function E0(e,t){for(const n in t)Aa(e,n,t[n])}function Aa(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function cTt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function jke(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class Bke extends jA{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=eQ();n.open("svg",An({},sT,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",Lke,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=vu[n.marktype],i=r.tag,s=[Pke,r.attr];t.open("g",{class:xke(n),"clip-path":n.clip?PX(this,n,n.group):null},Oke(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const o=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,s,i!=="g"?i:null)),i==="text"){const u=FA(a);if(Xe(u)){const c={x:0,dy:tg(a)};for(let d=0;d<u.length;++d)t.open("tspan",d?c:null).text(ng(a,u[d])).close()}else t.text(ng(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,d=a.stroke;u&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),Td(a,f=>this.mark(t,f)),t.close(),u&&d?(c&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&o(n.items[0]):Td(n,o),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const s={},o=(a,l,u,c)=>{s[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(o,n,this)):r(o,n,this),i&&dTt(s,n,t,i,this._defs),s}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const s in n){const o=n[s],a=o.stops;o.gradient==="radial"?(t.open("pattern",{id:cN+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):t.open("linearGradient",{id:s,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const s in r){const o=r[s];t.open("clipPath",{id:s}),o.path?t.open("path",{d:o.path}).close():t.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),t.close()}t.close()}}}function dTt(e,t,n,r,i){let s;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(s=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=LA(t),e["font-size"]=bh(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in xN){let a=t[o];const l=xN[o];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(kX(a)&&(a=XAe(a,i.gradient,"")),e[l]=a)}for(const o in _N){const a=t[o];a!=null&&(s=s||[],s.push(`${_N[o]}: ${a};`))}return s&&(e.style=s.join(" ")),e}const Uc={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function fTt(e){Uc.svgMarkTypes=e.svgMarkTypes??["text"],Uc.svgOnTop=e.svgOnTop??!0,Uc.debug=e.debug??!1}class MU extends jA{constructor(t){super(t),this._svgRenderer=new tQ(t),this._canvasRenderer=new wN(t)}initialize(t,n,r,i,s){this._root_el=Is(t,0,"div");const o=Is(this._root_el,0,"div"),a=Is(this._root_el,1,"div");return this._root_el.style.position="relative",Uc.debug||(o.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=Uc.svgOnTop?a:o,this._canvasEl=Uc.svgOnTop?o:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,s),this._svgRenderer.initialize(this._svgEl,n,r,i,s),super.initialize(t,n,r,i,s)}dirty(t){return Uc.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(s=>!Uc.svgMarkTypes.includes(s));this._svgRenderer.render(t,Uc.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return Uc.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class zke extends BA{constructor(t,n){super(t,n)}initialize(t,n,r){const i=Is(Is(t,0,"div"),Uc.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const Uke="canvas",Hke="hybrid",qke="png",Vke="svg",Wke="none",C0={Canvas:Uke,PNG:qke,SVG:Vke,Hybrid:Hke,None:Wke},Gv={};Gv[Uke]=Gv[qke]={renderer:wN,headless:wN,handler:BA};Gv[Vke]={renderer:tQ,headless:Bke,handler:kke};Gv[Hke]={renderer:MU,headless:MU,handler:zke};Gv[Wke]={};function ZM(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Gv[e]=t,this):Gv[e]}function nQ(e,t,n){const r=[],i=new qi().union(t),s=e.marktype;return s?Gke(e,i,n,r):s==="group"?Yke(e,i,n,r):Ye("Intersect scene must be mark node or group item.")}function Gke(e,t,n,r){if(hTt(e,t,n)){const i=e.items,s=e.marktype,o=i.length;let a=0;if(s==="group")for(;a<o;++a)Yke(i[a],t,n,r);else for(const l=vu[s].isect;a<o;++a){const u=i[a];Kke(u,t,l)&&r.push(u)}}return r}function hTt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function Yke(e,t,n,r){n&&n(e.mark)&&Kke(e,t,vu.group.isect)&&r.push(e);const i=e.items,s=i&&i.length;if(s){const o=e.x||0,a=e.y||0;t.translate(-o,-a);for(let l=0;l<s;++l)Gke(i[l],t,n,r);t.translate(o,a)}return r}function Kke(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const Pj=new qi;function Xke(e){const t=e.clip;if(Rn(t))t($A(Pj.clear()));else if(t)Pj.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(Pj)}const pTt=1e-9;function rQ(e,t,n){return e===t?!0:n==="path"?Qke(e,t):e instanceof Date&&t instanceof Date?+e==+t:yr(e)&&yr(t)?Math.abs(e-t)<=pTt:!e||!t||!Dt(e)&&!Dt(t)?e==t:mTt(e,t)}function Qke(e,t){return rQ(Wv(e),Wv(t))}function mTt(e,t){var n=Object.keys(e),r=Object.keys(t),i,s;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!rQ(e[i],t[i],i))return!1;return typeof e==typeof t}function gTt(){nke(),BCt()}const Vx="top",Jc="left",id="right",rg="bottom",yTt="top-left",vTt="top-right",bTt="bottom-left",wTt="bottom-right",iQ="start",FU="middle",Ra="end",xTt="x",_Tt="y",e6="group",sQ="axis",oQ="title",ETt="frame",CTt="scope",aQ="legend",Jke="row-header",Zke="row-footer",eIe="row-title",tIe="column-header",nIe="column-footer",rIe="column-title",STt="padding",TTt="symbol",iIe="fit",sIe="fit-x",oIe="fit-y",ATt="pad",lQ="none",uR="all",LU="each",uQ="flush",S0="column",T0="row";function aIe(e){Ge.call(this,null,e)}Ct(aIe,Ge,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,s=vu[i],o=s.bound;let a=r.bounds,l;if(s.nested)r.items.length&&n.dirty(r.items[0]),a=cR(r,o),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===e6||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(cR(u,o))),r.role){case sQ:case aQ:case oQ:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(cR(u,o))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(cR(u,o))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return Xke(r),t.modifies("bounds")}});function cR(e,t,n){return t(e.bounds.clear(),e,n)}const Kce=":vega_identifier:";function cQ(e){Ge.call(this,0,e)}cQ.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Ct(cQ,Ge,{transform(e,t){const n=kTt(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,s=>s[r]=s[r]||++i),n.set(this.value=i),t}});function kTt(e){return e._signals[Kce]||(e._signals[Kce]=e.add(0))}function lIe(e){Ge.call(this,null,e)}Ct(lIe,Ge,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,ITt(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===e6?VM:qM;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function ITt(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function uIe(e){Ge.call(this,null,e)}const Xce={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!cIe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},cIe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Qce=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,s;n<r;i=s,++n)if(cIe(i,s=e[n].bounds,t))return!0},RTt=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},DTt=(e,t,n)=>{var r=e.range(),i=new qi;return t===Vx||t===rg?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),s=>i.encloses(s.bounds)},Jce=e=>(e.forEach(t=>t.opacity=1),e),Zce=(e,t)=>e.reflow(t.modified()).modifies("opacity");Ct(uIe,Ge,{transform(e,t){const n=Xce[e.method]||Xce.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,s,o;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(Jce(i),t=Zce(t,e)),t;if(i=i.filter(RTt),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),s=Jce(i),t=Zce(t,e),s.length>=3&&Qce(s,r)){do s=n(s,r);while(s.length>=3&&Qce(s,r));s.length<3&&!Un(i).opacity&&(s.length>1&&(Un(s).opacity=0),Un(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=DTt(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{o(l)||(l.opacity=0)}));const a=s[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function dIe(e){Ge.call(this,null,e)}Ct(dIe,Ge,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Jo=new qi;function Iw(e,t,n){return e[t]===n?0:(e[t]=n,1)}function PTt(e){var t=e.items[0].orient;return t===Jc||t===id}function OTt(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function NTt(e,t,n,r){var i=t.items[0],s=i.datum,o=i.translate!=null?i.translate:.5,a=i.orient,l=OTt(s),u=i.range,c=i.offset,d=i.position,f=i.minExtent,h=i.maxExtent,p=s.title&&i.items[l[2]].items[0],m=i.titlePadding,g=i.bounds,y=p&&VX(p),v=0,w=0,E,C;switch(Jo.clear().union(g),g.clear(),(E=l[0])>-1&&g.union(i.items[E].bounds),(E=l[1])>-1&&g.union(i.items[E].bounds),a){case Vx:v=d||0,w=-c,C=Math.max(f,Math.min(h,-g.y1)),g.add(0,-C).add(u,0),p&&dR(e,p,C,m,y,0,-1,g);break;case Jc:v=-c,w=d||0,C=Math.max(f,Math.min(h,-g.x1)),g.add(-C,0).add(0,u),p&&dR(e,p,C,m,y,1,-1,g);break;case id:v=n+c,w=d||0,C=Math.max(f,Math.min(h,g.x2)),g.add(0,0).add(C,u),p&&dR(e,p,C,m,y,1,1,g);break;case rg:v=d||0,w=r+c,C=Math.max(f,Math.min(h,g.y2)),g.add(0,0).add(u,C),p&&dR(e,p,C,m,0,0,1,g);break;default:v=i.x,w=i.y}return hm(g.translate(v,w),i),Iw(i,"x",v+o)|Iw(i,"y",w+o)&&(i.bounds=Jo,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function dR(e,t,n,r,i,s,o,a){const l=t.bounds;if(t.auto){const u=o*(n+i+r);let c=0,d=0;e.dirty(t),s?c=(t.x||0)-(t.x=u):d=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-d)),e.dirty(t)}a.union(l)}const ede=(e,t)=>Math.floor(Math.min(e,t)),tde=(e,t)=>Math.ceil(Math.max(e,t));function $Tt(e){var t=e.items,n=t.length,r=0,i,s;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],s=i.items,i.marktype===e6)switch(i.role){case sQ:case aQ:case oQ:break;case Jke:o.rowheaders.push(...s);break;case Zke:o.rowfooters.push(...s);break;case tIe:o.colheaders.push(...s);break;case nIe:o.colfooters.push(...s);break;case eIe:o.rowtitle=s[0];break;case rIe:o.coltitle=s[0];break;default:o.marks.push(...s)}return o}function MTt(e){return new qi().set(0,0,e.width||0,e.height||0)}function FTt(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function yi(e,t,n){const r=Dt(e)?e[t]:e;return r??(n!==void 0?n:0)}function nde(e){return e<0?Math.ceil(-e):0}function fIe(e,t,n){var r=!n.nodirty,i=n.bounds===uQ?MTt:FTt,s=Jo.set(0,0,0,0),o=yi(n.align,S0),a=yi(n.align,T0),l=yi(n.padding,S0),u=yi(n.padding,T0),c=n.columns||t.length,d=c<=0?1:Math.ceil(t.length/c),f=t.length,h=Array(f),p=Array(c),m=0,g=Array(f),y=Array(d),v=0,w=Array(f),E=Array(f),C=Array(f),S,T,A,I,D,O,M,$,L,z,B;for(T=0;T<c;++T)p[T]=0;for(T=0;T<d;++T)y[T]=0;for(T=0;T<f;++T)O=t[T],D=C[T]=i(O),O.x=O.x||0,w[T]=0,O.y=O.y||0,E[T]=0,A=T%c,I=~~(T/c),m=Math.max(m,M=Math.ceil(D.x2)),v=Math.max(v,$=Math.ceil(D.y2)),p[A]=Math.max(p[A],M),y[I]=Math.max(y[I],$),h[T]=l+nde(D.x1),g[T]=u+nde(D.y1),r&&e.dirty(t[T]);for(T=0;T<f;++T)T%c===0&&(h[T]=0),T<c&&(g[T]=0);if(o===LU)for(A=1;A<c;++A){for(B=0,T=A;T<f;T+=c)B<h[T]&&(B=h[T]);for(T=A;T<f;T+=c)h[T]=B+p[A-1]}else if(o===uR){for(B=0,T=0;T<f;++T)T%c&&B<h[T]&&(B=h[T]);for(T=0;T<f;++T)T%c&&(h[T]=B+m)}else for(o=!1,A=1;A<c;++A)for(T=A;T<f;T+=c)h[T]+=p[A-1];if(a===LU)for(I=1;I<d;++I){for(B=0,T=I*c,S=T+c;T<S;++T)B<g[T]&&(B=g[T]);for(T=I*c;T<S;++T)g[T]=B+y[I-1]}else if(a===uR){for(B=0,T=c;T<f;++T)B<g[T]&&(B=g[T]);for(T=c;T<f;++T)g[T]=B+v}else for(a=!1,I=1;I<d;++I)for(T=I*c,S=T+c;T<S;++T)g[T]+=y[I-1];for(L=0,T=0;T<f;++T)L=h[T]+(T%c?L:0),w[T]+=L-t[T].x;for(A=0;A<c;++A)for(z=0,T=A;T<f;T+=c)z+=g[T],E[T]+=z-t[T].y;if(o&&yi(n.center,S0)&&d>1)for(T=0;T<f;++T)D=o===uR?m:p[T%c],L=D-C[T].x2-t[T].x-w[T],L>0&&(w[T]+=L/2);if(a&&yi(n.center,T0)&&c!==1)for(T=0;T<f;++T)D=a===uR?v:y[~~(T/c)],z=D-C[T].y2-t[T].y-E[T],z>0&&(E[T]+=z/2);for(T=0;T<f;++T)s.union(C[T].translate(w[T],E[T]));switch(L=yi(n.anchor,xTt),z=yi(n.anchor,_Tt),yi(n.anchor,S0)){case Ra:L-=s.width();break;case FU:L-=s.width()/2}switch(yi(n.anchor,T0)){case Ra:z-=s.height();break;case FU:z-=s.height()/2}for(L=Math.round(L),z=Math.round(z),s.clear(),T=0;T<f;++T)t[T].mark.bounds.clear();for(T=0;T<f;++T)O=t[T],O.x+=w[T]+=L,O.y+=E[T]+=z,s.union(O.mark.bounds.union(O.bounds.translate(w[T],E[T]))),r&&e.dirty(O);return s}function LTt(e,t,n){var r=$Tt(t),i=r.marks,s=n.bounds===uQ?jTt:BTt,o=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,d,f,h,p,m,g;const y=fIe(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(m=yi(n.headerBand,T0,null),c=fR(e,r.rowheaders,i,a,l,-yi(o,"rowHeader"),ede,0,s,"x1",0,a,1,m)),r.colheaders&&(m=yi(n.headerBand,S0,null),d=fR(e,r.colheaders,i,a,a,-yi(o,"columnHeader"),ede,1,s,"y1",0,1,a,m)),r.rowfooters&&(m=yi(n.footerBand,T0,null),f=fR(e,r.rowfooters,i,a,l,yi(o,"rowFooter"),tde,0,s,"x2",a-1,a,1,m)),r.colfooters&&(m=yi(n.footerBand,S0,null),h=fR(e,r.colfooters,i,a,a,yi(o,"columnFooter"),tde,1,s,"y2",u-a,1,a,m)),r.rowtitle&&(p=yi(n.titleAnchor,T0),g=yi(o,"rowTitle"),g=p===Ra?f+g:c-g,m=yi(n.titleBand,T0,.5),rde(e,r.rowtitle,g,0,y,m)),r.coltitle&&(p=yi(n.titleAnchor,S0),g=yi(o,"columnTitle"),g=p===Ra?h+g:d-g,m=yi(n.titleBand,S0,.5),rde(e,r.coltitle,g,1,y,m))}function jTt(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function BTt(e,t){return e.bounds[t]}function fR(e,t,n,r,i,s,o,a,l,u,c,d,f,h){var p=n.length,m=0,g=0,y,v,w,E,C,S,T,A,I;if(!p)return m;for(y=c;y<p;y+=d)n[y]&&(m=o(m,l(n[y],u)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=s,v=0,E=t.length;v<E;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,E=t.length;v<E;++v,y+=d){for(S=t[v],C=S.mark.bounds,w=y;w>=0&&(T=n[w])==null;w-=f);a?(A=h==null?T.x:Math.round(T.bounds.x1+h*T.bounds.width()),I=m):(A=m,I=h==null?T.y:Math.round(T.bounds.y1+h*T.bounds.height())),C.union(S.bounds.translate(A-(S.x||0),I-(S.y||0))),S.x=A,S.y=I,e.dirty(S),g=o(g,C[u])}return g}function rde(e,t,n,r,i,s){if(t){e.dirty(t);var o=n,a=n;r?o=Math.round(i.x1+s*i.width()):a=Math.round(i.y1+s*i.height()),t.bounds.translate(o-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=a,e.dirty(t)}}function zTt(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function UTt(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function HTt(e,t,n,r,i,s,o){const a=zTt(n,t),l=UTt(e,a("offset",0)),u=a("anchor",iQ),c=u===Ra?1:u===FU?.5:0,d={align:LU,bounds:a("bounds",uQ),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case Jc:d.anchor={x:Math.floor(r.x1)-l,column:Ra,y:c*(o||r.height()+2*r.y1),row:u};break;case id:d.anchor={x:Math.ceil(r.x2)+l,y:c*(o||r.height()+2*r.y1),row:u};break;case Vx:d.anchor={y:Math.floor(i.y1)-l,row:Ra,x:c*(s||i.width()+2*i.x1),column:u};break;case rg:d.anchor={y:Math.ceil(i.y2)+l,x:c*(s||i.width()+2*i.x1),column:u};break;case yTt:d.anchor={x:l,y:l};break;case vTt:d.anchor={x:s-l,y:l,column:Ra};break;case bTt:d.anchor={x:l,y:o-l,row:Ra};break;case wTt:d.anchor={x:s-l,y:o-l,column:Ra,row:Ra};break}return d}function qTt(e,t){var n=t.items[0],r=n.datum,i=n.orient,s=n.bounds,o=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(s):n._bounds=s.clone(),s.clear(),WTt(e,n,n.items[0].items[0]),s=VTt(n,s),l=2*n.padding,u=2*n.padding,s.empty()||(l=Math.ceil(s.width()+l),u=Math.ceil(s.height()+u)),r.type===TTt&&GTt(n.items[0].items[0].items[0].items),i!==lQ&&(n.x=o=0,n.y=a=0),n.width=l,n.height=u,hm(s.set(o,a,o+l,a+u),n),n.mark.bounds.clear().union(s),n}function VTt(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function WTt(e,t,n){var r=t.padding,i=r-n.x,s=r-n.y;if(!t.datum.title)(i||s)&&gC(e,n,i,s);else{var o=t.items[1].items[0],a=o.anchor,l=t.titlePadding||0,u=r-o.x,c=r-o.y;switch(o.orient){case Jc:i+=Math.ceil(o.bounds.width())+l;break;case id:case rg:break;default:s+=o.bounds.height()+l}switch((i||s)&&gC(e,n,i,s),o.orient){case Jc:c+=U1(t,n,o,a,1,1);break;case id:u+=U1(t,n,o,Ra,0,0)+l,c+=U1(t,n,o,a,1,1);break;case rg:u+=U1(t,n,o,a,0,0),c+=U1(t,n,o,Ra,-1,0,1)+l;break;default:u+=U1(t,n,o,a,0,0)}(u||c)&&gC(e,o,u,c),(u=Math.round(o.bounds.x1-r))<0&&(gC(e,n,-u,0),gC(e,o,-u,0))}}function U1(e,t,n,r,i,s,o){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(s||!l)&&!o?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,d=l&&s?c:0,f=l&&s?0:c,h=i<=0?0:VX(n);return Math.round(r===iQ?d:r===Ra?f-h:.5*(c-h))}function gC(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function GTt(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function YTt(e,t,n,r,i){var s=t.items[0],o=s.frame,a=s.orient,l=s.anchor,u=s.offset,c=s.padding,d=s.items[0].items[0],f=s.items[1]&&s.items[1].items[0],h=a===Jc||a===id?r:n,p=0,m=0,g=0,y=0,v=0,w;if(o!==e6?a===Jc?(p=i.y2,h=i.y1):a===id?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===Jc&&(p=r,h=0),w=l===iQ?p:l===Ra?h:(p+h)/2,f&&f.text){switch(a){case Vx:case rg:v=d.bounds.height()+c;break;case Jc:y=d.bounds.width()+c;break;case id:y=-d.bounds.width()-c;break}Jo.clear().union(f.bounds),Jo.translate(y-(f.x||0),v-(f.y||0)),Iw(f,"x",y)|Iw(f,"y",v)&&(e.dirty(f),f.bounds.clear().union(Jo),f.mark.bounds.clear().union(Jo),e.dirty(f)),Jo.clear().union(f.bounds)}else Jo.clear();switch(Jo.union(d.bounds),a){case Vx:m=w,g=i.y1-Jo.height()-u;break;case Jc:m=i.x1-Jo.width()-u,g=w;break;case id:m=i.x2+Jo.width()+u,g=w;break;case rg:m=w,g=i.y2+u;break;default:m=s.x,g=s.y}return Iw(s,"x",m)|Iw(s,"y",g)&&(Jo.translate(m,g),e.dirty(s),s.bounds.clear().union(Jo),t.bounds.clear().union(Jo),e.dirty(s)),s.bounds}function hIe(e){Ge.call(this,null,e)}Ct(hIe,Ge,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&LTt(n,r,e.layout),XTt(n,r,e)}),KTt(e.mark.group)?t.reflow():t}});function KTt(e){return e&&e.mark.role!=="legend-entry"}function XTt(e,t,n){var r=t.items,i=Math.max(0,t.width||0),s=Math.max(0,t.height||0),o=new qi().set(0,0,i,s),a=o.clone(),l=o.clone(),u=[],c,d,f,h,p,m;for(p=0,m=r.length;p<m;++p)switch(d=r[p],d.role){case sQ:h=PTt(d)?a:l,h.union(NTt(e,d,i,s));break;case oQ:c=d;break;case aQ:u.push(qTt(e,d));break;case ETt:case CTt:case Jke:case Zke:case eIe:case tIe:case nIe:case rIe:a.union(d.bounds),l.union(d.bounds);break;default:o.union(d.bounds)}if(u.length){const g={};u.forEach(y=>{f=y.orient||id,f!==lQ&&(g[f]||(g[f]=[])).push(y)});for(const y in g){const v=g[y];fIe(e,v,HTt(v,y,n.legends,a,l,i,s))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===iIe||n.autosize.type===sIe||n.autosize.type===oIe))switch(y.orient){case Jc:case id:o.add(v.x1,0).add(v.x2,0);break;case Vx:case rg:o.add(0,v.y1).add(0,v.y2)}else o.union(v)})}o.union(a).union(l),c&&o.union(YTt(e,c,i,s,o)),t.clip&&o.set(0,0,t.width||0,t.height||0),QTt(e,t,o,n)}function QTt(e,t,n,r){const i=r.autosize||{},s=i.type;if(e._autosize<1||!s)return;let o=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===STt){const p=e.padding();o-=p.left+p.right,a-=p.top+p.bottom}s===lQ?(u=0,d=0,l=o,c=a):s===iIe?(l=Math.max(0,o-u-f),c=Math.max(0,a-d-h)):s===sIe?(l=Math.max(0,o-u-f),a=c+d+h):s===oIe?(o=l+u+f,c=Math.max(0,a-d-h)):s===ATt&&(o=l+u+f,a=c+d+h),e._resizeView(o,a,l,c,[u,d],i.resize)}const JTt=Object.freeze(Object.defineProperty({__proto__:null,bound:aIe,identifier:cQ,mark:lIe,overlap:uIe,render:dIe,viewlayout:hIe},Symbol.toStringTag,{value:"Module"}));function pIe(e){Ge.call(this,null,e)}Ct(pIe,Ge,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.scale,o=e.count==null?e.values?e.values.length:10:e.count,a=TX(s,o,e.minstep),l=e.format||HAe(n,s,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?UAe(s,e.values,a):AX(s,a);return i&&(r.rem=i),i=u.map((c,d)=>Rr({index:d/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(Rr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function mIe(e){Ge.call(this,null,e)}function ZTt(){return Rr({})}function eAt(e){const t=V_().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Ct(mIe,Ge,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||ZTt,s=e.key||nn,o=this.value;return Xe(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(s))&&Ye("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=eAt(s)),t.visit(t.ADD,a=>{const l=s(a);let u=o.get(l);u?u.exit?(o.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),o.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=s(a),u=o.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=s(a),u=o.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}});function gIe(e){Ge.call(this,null,e)}Ct(gIe,Ge,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,s=t.encode;if(Xe(s))if(n.changed()||s.every(d=>i[d]))s=s[0],n.encode=null;else return t.StopPropagation;var o=s==="enter",a=i.update||Jm,l=i.enter||Jm,u=i.exit||Jm,c=(s&&!o?i[s]:a)||Jm;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),c!==Jm&&c!==a&&(t.visit(t.ADD,d=>{c(d,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==Jm&&(t.visit(t.REM,d=>{u(d,e)}),n.modifies(u.output)),o||c!==Jm){const d=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(d,f=>{const h=l(f,e)||r;(c(f,e)||h)&&n.mod.push(f)}),n.mod.length&&n.modifies(l.output)):t.visit(d,f=>{(c(f,e)||r)&&n.mod.push(f)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function yIe(e){Ge.call(this,[],e)}Ct(yIe,Ge,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.type||YP,o=e.scale,a=+e.limit,l=TX(o,e.count==null?5:e.count,e.minstep),u=!!e.values||s===YP,c=e.format||GAe(n,o,l,s,e.formatSpecifier,e.formatType,u),d=e.values||WAe(o,l),f,h,p,m,g;return i&&(r.rem=i),s===YP?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),g=!0):i=d,Rn(p=e.size)?(!e.values&&o(i[0])===0&&(i=i.slice(1)),m=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=pa(m=p||8),i=i.map((y,v)=>Rr({index:v,label:c(y,v,i),value:y,offset:m,size:p(y,e)})),g&&(g=d[i.length],i.push(Rr({index:i.length,label:`${d.length-i.length} entries`,value:g,offset:m,size:p(g,e)})))):s===ACt?(f=o.domain(),h=EX(o,f[0],Un(f)),d.length<3&&!e.values&&f[0]!==Un(f)&&(d=[f[0],Un(f)]),i=d.map((y,v)=>Rr({index:v,label:c(y,v,d),value:y,perc:h(y)}))):(p=d.length-1,h=LCt(o),i=d.map((y,v)=>Rr({index:v,label:c(y,v,d),value:y,perc:v?h(y):0,perc2:v===p?1:h(d[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const tAt=e=>e.source.x,nAt=e=>e.source.y,rAt=e=>e.target.x,iAt=e=>e.target.y;function dQ(e){Ge.call(this,{},e)}dQ.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Ct(dQ,Ge,{transform(e,t){var n=e.sourceX||tAt,r=e.sourceY||nAt,i=e.targetX||rAt,s=e.targetY||iAt,o=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=ide.get(l+"-"+a)||ide.get(l);return u||Ye("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[o]=u(n(c),r(c),i(c),s(c))}),t.reflow(e.modified()).modifies(o)}});const vIe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,sAt=(e,t,n,r)=>vIe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),bIe=(e,t,n,r)=>{var i=n-e,s=r-t,o=Math.hypot(i,s)/2,a=180*Math.atan2(s,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+a+" 0 1 "+n+","+r},oAt=(e,t,n,r)=>bIe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),wIe=(e,t,n,r)=>{const i=n-e,s=r-t,o=.2*(i+s),a=.2*(s-i);return"M"+e+","+t+"C"+(e+o)+","+(t+a)+" "+(n+a)+","+(r-o)+" "+n+","+r},aAt=(e,t,n,r)=>wIe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),lAt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,uAt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,cAt=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*s+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*o+","+t*a+"L"+r*o+","+r*a},dAt=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},fAt=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},hAt=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*s+"C"+l*i+","+l*s+" "+l*o+","+l*a+" "+r*o+","+r*a},ide=V_({line:vIe,"line-radial":sAt,arc:bIe,"arc-radial":oAt,curve:wIe,"curve-radial":aAt,"orthogonal-horizontal":lAt,"orthogonal-vertical":uAt,"orthogonal-radial":cAt,"diagonal-horizontal":dAt,"diagonal-vertical":fAt,"diagonal-radial":hAt});function fQ(e){Ge.call(this,null,e)}fQ.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Ct(fQ,Ge,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],s=e.field||z_,o=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(s),c=u.length,d=o,f=(a-o)/M_e(u),h=Ma(c),p,m,g;for(e.sort&&h.sort((y,v)=>u[y]-u[v]),p=0;p<c;++p)g=u[h[p]],m=l[h[p]],m[r]=d,m[i]=d+=g*f;return this.value=u,t.reflow(e.modified()).modifies(n)}});const pAt=5;function mAt(e){const t=e.type;return!e.bins&&(t===jx||t===kA||t===IA)}function xIe(e){return _X(e)&&e!==Hf}const gAt=Cd(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function _Ie(e){Ge.call(this,null,e),this.modified(!0)}Ct(_Ie,Ge,{transform(e,t){var n=t.dataflow,r=this.value,i=yAt(e);(!r||i!==r.type)&&(this.value=r=dr(i)());for(i in e)if(!gAt[i]){if(i==="padding"&&xIe(r.type))continue;Rn(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return EAt(r,e,_At(r,e,bAt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function yAt(e){var t=e.type,n="",r;return t===Hf?Hf+"-"+jx:(vAt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Hf+"-":r===3?Q_+"-":""),(n+t||jx).toLowerCase())}function vAt(e){const t=e.type;return _X(t)&&t!==qv&&t!==Vv&&(e.scheme||e.range&&e.range.length&&e.range.every(It))}function bAt(e,t,n){const r=wAt(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,s=e.type,o=t.zero||t.zero===void 0&&mAt(e),a,l;if(!i)return 0;if((o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return xIe(s)&&t.padding&&i[0]!==Un(i)&&(i=xAt(s,i,t.range,t.padding,t.exponent,t.constant)),e.domain(EIe(s,i,n)),s===vX&&e.unknown(t.domainImplicit?Vz:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&TX(e,t.nice)||null),i.length}function wAt(e,t,n){return t?(e.domain(EIe(e.type,t,n)),t.length):-1}function xAt(e,t,n,r,i,s){var o=Math.abs(Un(n)-n[0]),a=o/(o-2*r),l=e===Xp?mM(t,null,a):e===IA?eT(t,null,a,.5):e===kA?eT(t,null,a,i||1):e===jM?gM(t,null,a,s||1):pM(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function EIe(e,t,n){if($Ae(e)){var r=Math.abs(t.reduce((i,s)=>i+(s<0?-1:s>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+vt(t))}return t}function _At(e,t,n){let r=t.bins;if(r&&!Xe(r)){const i=e.domain(),s=i[0],o=Un(i),a=r.step;let l=r.start==null?s:r.start,u=r.stop==null?o:r.stop;a||Ye("Scale bins parameter missing step property."),l<s&&(l=a*Math.ceil(s/a)),u>o&&(u=a*Math.floor(o/a)),r=Ma(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===bX&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function EAt(e,t,n){var r=e.type,i=t.round||!1,s=t.range;if(t.rangeStep!=null)s=CAt(r,t,n);else if(t.scheme&&(s=SAt(r,t,n),Rn(s))){if(e.interpolator)return e.interpolator(s);Ye(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&MAe(r))return e.interpolator(UM(jU(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(CX(t.interpolate,t.interpolateGamma)):Rn(e.round)?e.round(i):Rn(e.rangeRound)&&e.interpolate(i?hA:Eg),s&&e.range(jU(s,t.reverse))}function CAt(e,t,n){e!==IAe&&e!==EU&&Ye("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===EU?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*LM(n,i,r)]}function SAt(e,t,n){var r=t.schemeExtent,i,s;return Xe(t.scheme)?s=UM(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),s=SX(i),s||Ye(`Unrecognized scheme name: ${t.scheme}`)),n=e===zM?n+1:e===bX?n-1:e===Bx||e===BM?+t.schemeCount||pAt:n,MAe(e)?sde(s,r,t.reverse):Rn(s)?jAe(sde(s,r),n):e===vX?s:s.slice(0,n)}function sde(e,t,n){return Rn(e)&&(t||n)?LAe(e,jU(t||[0,1],n)):e}function jU(e,t){return t?e.slice().reverse():e}function CIe(e){Ge.call(this,null,e)}Ct(CIe,Ge,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Ob(e.sort)),this.modified(n),t}});const ode="zero",SIe="center",TIe="normalize",AIe=["y0","y1"];function hQ(e){Ge.call(this,null,e)}hQ.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:ode,values:[ode,SIe,TIe]},{name:"as",type:"string",array:!0,length:2,default:AIe}]};Ct(hQ,Ge,{transform(e,t){var n=e.as||AIe,r=n[0],i=n[1],s=Ob(e.sort),o=e.field||z_,a=e.offset===SIe?TAt:e.offset===TIe?AAt:kAt,l,u,c,d;for(l=IAt(t.source,e.groupby,s,o),u=0,c=l.length,d=l.max;u<c;++u)a(l[u],d,o,r,i);return t.reflow(e.modified()).modifies(n)}});function TAt(e,t,n,r,i){for(var s=(t-e.sum)/2,o=e.length,a=0,l;a<o;++a)l=e[a],l[r]=s,l[i]=s+=Math.abs(n(l))}function AAt(e,t,n,r,i){for(var s=1/e.sum,o=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=o,c[i]=o=s*(u+=Math.abs(n(c)))}function kAt(e,t,n,r,i){for(var s=0,o=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=o,c[i]=o+=u):(c[r]=s,c[i]=s+=u)}function IAt(e,t,n,r){var i=[],s=m=>m(c),o,a,l,u,c,d,f,h,p;if(t==null)i.push(e.slice());else for(o={},a=0,l=e.length;a<l;++a)c=e[a],d=t.map(s),f=o[d],f||(o[d]=f=[],i.push(f)),f.push(c);for(d=0,p=0,u=i.length;d<u;++d){for(f=i[d],a=0,h=0,l=f.length;a<l;++a)h+=Math.abs(r(f[a]));f.sum=h,h>p&&(p=h),n&&f.sort(n)}return i.max=p,i}const RAt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:pIe,datajoin:mIe,encode:gIe,legendentries:yIe,linkpath:dQ,pie:fQ,scale:_Ie,sortitems:CIe,stack:hQ},Symbol.toStringTag,{value:"Module"}));var DAt=Math.abs,BU=Math.cos,EN=Math.sin,PAt=1e-6,kIe=Math.PI,zU=kIe/2,ade=OAt(2);function lde(e){return e>1?zU:e<-1?-zU:Math.asin(e)}function OAt(e){return e>0?Math.sqrt(e):0}function NAt(e,t){var n=e*EN(t),r=30,i;do t-=i=(t+EN(t)-n)/(1+BU(t));while(DAt(i)>PAt&&--r>0);return t/2}function $At(e,t,n){function r(i,s){return[e*i*BU(s=NAt(n,s)),t*EN(s)]}return r.invert=function(i,s){return s=lde(s/t),[i/(e*BU(s)),lde((2*s+EN(2*s))/n)]},r}var MAt=$At(ade/zU,ade,kIe);function FAt(){return mh(MAt).scale(169.529)}const LAt=pCe(),UU=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function jAt(e,t){return function n(){const r=t();return r.type=e,r.path=pCe().projection(r),r.copy=r.copy||function(){const i=n();return UU.forEach(s=>{r[s]&&i[s](r[s]())}),i.path.pointRadius(r.path.pointRadius()),i},OAe(r)}}function pQ(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(CN[e]=jAt(e,t),this):CN[e]||null}function IIe(e){return e&&e.path||LAt}const CN={albers:gCe,albersusa:gpt,azimuthalequalarea:ypt,azimuthalequidistant:vpt,conicconformal:xpt,conicequalarea:HO,conicequidistant:Cpt,equalEarth:Tpt,equirectangular:_pt,gnomonic:Apt,identity:kpt,mercator:bpt,mollweide:FAt,naturalEarth1:Ipt,orthographic:Rpt,stereographic:Dpt,transversemercator:Ppt};for(const e in CN)pQ(e,CN[e]);function BAt(){}const Wh=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function RIe(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],d=[];return s(l,u,f=>{n(f,l,u),zAt(f)>0?c.push([f]):d.push(f)}),d.forEach(f=>{for(var h=0,p=c.length,m;h<p;++h)if(UAt((m=c[h])[0],f)!==-1){m.push(f);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function s(l,u,c){var d=[],f=[],h,p,m,g,y,v;for(h=p=-1,g=l[0]>=u,Wh[g<<1].forEach(w);++h<e-1;)m=g,g=l[h+1]>=u,Wh[m|g<<1].forEach(w);for(Wh[g<<0].forEach(w);++p<t-1;){for(h=-1,g=l[p*e+e]>=u,y=l[p*e]>=u,Wh[g<<1|y<<2].forEach(w);++h<e-1;)m=g,g=l[p*e+e+h+1]>=u,v=y,y=l[p*e+h+1]>=u,Wh[m|g<<1|y<<2|v<<3].forEach(w);Wh[g|y<<3].forEach(w)}for(h=-1,y=l[p*e]>=u,Wh[y<<2].forEach(w);++h<e-1;)v=y,y=l[p*e+h+1]>=u,Wh[y<<2|v<<3].forEach(w);Wh[y<<3].forEach(w);function w(E){var C=[E[0][0]+h,E[0][1]+p],S=[E[1][0]+h,E[1][1]+p],T=o(C),A=o(S),I,D;(I=f[T])?(D=d[A])?(delete f[I.end],delete d[D.start],I===D?(I.ring.push(S),c(I.ring)):d[I.start]=f[D.end]={start:I.start,end:D.end,ring:I.ring.concat(D.ring)}):(delete f[I.end],I.ring.push(S),f[I.end=A]=I):(I=d[A])?(D=f[T])?(delete d[I.start],delete f[D.end],I===D?(I.ring.push(S),c(I.ring)):d[D.start]=f[I.end]={start:D.start,end:I.end,ring:D.ring.concat(I.ring)}):(delete d[I.start],I.ring.unshift(C),d[I.start=T]=I):d[T]=f[A]={start:T,end:A,ring:[C,S]}}}function o(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(d=>{var f=d[0],h=d[1],p=f|0,m=h|0,g,y=u[m*e+p];f>0&&f<e&&p===f&&(g=u[m*e+p-1],d[0]=f+(c-g)/(y-g)-.5),h>0&&h<t&&m===h&&(g=u[(m-1)*e+p],d[1]=h+(c-g)/(y-g)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||Ye("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:BAt,r):n===a},r}function zAt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function UAt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=HAt(e,t[n]))return i;return 0}function HAt(e,t){for(var n=t[0],r=t[1],i=-1,s=0,o=e.length,a=o-1;s<o;a=s++){var l=e[s],u=l[0],c=l[1],d=e[a],f=d[0],h=d[1];if(qAt(l,d,t))return 0;c>r!=h>r&&n<(f-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function qAt(e,t,n){var r;return VAt(e,t,n)&&WAt(e[r=+(e[0]===t[0])],n[r],t[r])}function VAt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function WAt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function DIe(e,t,n){return function(r){var i=Ed(r),s=n?Math.min(i[0],0):i[0],o=i[1],a=o-s,l=t?K0(s,o,e):a/(e+1);return Ma(s+l,o,l)}}function mQ(e){Ge.call(this,null,e)}mQ.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Ct(mQ,Ge,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||Fo,s=RIe().smooth(e.smooth!==!1),o=e.thresholds||GAt(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),d=s.size([c.width,c.height])(c.values,Xe(o)?o:o(c.values));YAt(d,c,u,e),d.forEach(f=>{l.push(EM(u,Rr(a!=null?{[a]:f}:f)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function GAt(e,t,n){const r=DIe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>mv(t(i).values)))}function YAt(e,t,n,r){let i=r.scale||t.scale,s=r.translate||t.translate;if(Rn(i)&&(i=i(n,r)),Rn(s)&&(s=s(n,r)),(i===1||i==null)&&!s)return;const o=(yr(i)?i:i[0])||1,a=(yr(i)?i:i[1])||1,l=s&&s[0]||0,u=s&&s[1]||0;e.forEach(PIe(t,o,a,l,u))}function PIe(e,t,n,r,i){const s=e.x1||0,o=e.y1||0,a=t*n<0;function l(d){d.forEach(u)}function u(d){a&&d.reverse(),d.forEach(c)}function c(d){d[0]=(d[0]-s)*t+r,d[1]=(d[1]-o)*n+i}return function(d){return d.coordinates.forEach(l),d}}function ude(e,t,n){const r=e>=0?e:zK(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Oj(e){return Rn(e)?e:pa(+e)}function OIe(){var e=l=>l[0],t=l=>l[1],n=z_,r=[-1,-1],i=960,s=500,o=2;function a(l,u){const c=ude(r[0],l,e)>>o,d=ude(r[1],l,t)>>o,f=c?c+2:0,h=d?d+2:0,p=2*f+(i>>o),m=2*h+(s>>o),g=new Float32Array(p*m),y=new Float32Array(p*m);let v=g;l.forEach(E=>{const C=f+(+e(E)>>o),S=h+(+t(E)>>o);C>=0&&C<p&&S>=0&&S<m&&(g[C+S*p]+=+n(E))}),c>0&&d>0?(H1(p,m,g,y,c),q1(p,m,y,g,d),H1(p,m,g,y,c),q1(p,m,y,g,d),H1(p,m,g,y,c),q1(p,m,y,g,d)):c>0?(H1(p,m,g,y,c),H1(p,m,y,g,c),H1(p,m,g,y,c),v=y):d>0&&(q1(p,m,g,y,d),q1(p,m,y,g,d),q1(p,m,g,y,d),v=y);const w=u?Math.pow(2,-2*o):1/M_e(v);for(let E=0,C=p*m;E<C;++E)v[E]*=w;return{values:v,scale:1<<o,width:p,height:m,x1:f,y1:h,x2:f+(i>>o),y2:h+(s>>o)}}return a.x=function(l){return arguments.length?(e=Oj(l),a):e},a.y=function(l){return arguments.length?(t=Oj(l),a):t},a.weight=function(l){return arguments.length?(n=Oj(l),a):n},a.size=function(l){if(!arguments.length)return[i,s];var u=+l[0],c=+l[1];return u>=0&&c>=0||Ye("invalid size"),i=u,s=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||Ye("invalid cell size"),o=Math.floor(Math.log(l)/Math.LN2),a):1<<o},a.bandwidth=function(l){return arguments.length?(l=Rt(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&Ye("invalid bandwidth"),r=l,a):r},a}function H1(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<t;++o)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+o*e]),a>=i&&(a>=s&&(l-=n[a-s+o*e]),r[a-i+o*e]=l/Math.min(a+1,e-1+s-a,s))}function q1(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<e;++o)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[o+a*e]),a>=i&&(a>=s&&(l-=n[o+(a-s)*e]),r[o+(a-i)*e]=l/Math.min(a+1,t-1+s-a,s))}function gQ(e){Ge.call(this,null,e)}gQ.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const KAt=["x","y","weight","size","cellSize","bandwidth"];function NIe(e,t){return KAt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Ct(gQ,Ge,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=XAt(r,e.groupby),s=(e.groupby||[]).map(Hi),o=NIe(OIe(),e),a=e.as||"grid",l=[];function u(c,d){for(let f=0;f<s.length;++f)c[s[f]]=d[f];return c}return l=i.map(c=>Rr(u({[a]:o(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function XAt(e,t){var n=[],r=c=>c(a),i,s,o,a,l,u;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function yQ(e){Ge.call(this,null,e)}yQ.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Ct(yQ,Ge,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=RIe().smooth(e.smooth!==!1),i=e.values,s=e.thresholds||DIe(e.count||10,e.nice,!!i),o=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=NIe(OIe(),e)(i,!0),l=PIe(a,a.scale||1,a.scale||1,0,0),o=[a.width,a.height],i=a.values),s=Xe(s)?s:s(i),i=r.size(o)(i,s),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Rr),n}});const HU="Feature",vQ="FeatureCollection",QAt="MultiPoint";function bQ(e){Ge.call(this,null,e)}bQ.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Ct(bQ,Ge,{transform(e,t){var n=this._features,r=this._points,i=e.fields,s=i&&i[0],o=i&&i[1],a=e.geojson||!i&&Fo,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(aa(a))||s&&t.modified(aa(s))||o&&t.modified(aa(o)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),s&&o&&(t.visit(l,c=>{var d=s(c),f=o(c);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&r.push([d,f])}),n=n.concat({type:HU,geometry:{type:QAt,coordinates:r}})),this.value={type:vQ,features:n}}});function wQ(e){Ge.call(this,null,e)}wQ.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Ct(wQ,Ge,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Fo,s=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=IIe(e.projection),n.materialize().reflow()):o=i===Fo||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=JAt(r,e.pointRadius);return n.visit(o,l=>l[s]=r(i(l))),r.pointRadius(a),n.modifies(s)}});function JAt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function xQ(e){Ge.call(this,null,e)}xQ.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Ct(xQ,Ge,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],s=e.as||["x","y"],o=s[0],a=s[1],l;function u(c){const d=n([r(c),i(c)]);d?(c[o]=d[0],c[a]=d[1]):(c[o]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(s)}});function _Q(e){Ge.call(this,null,e)}_Q.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Ct(_Q,Ge,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",s=n.ADD;return(!r||e.modified())&&(this.value=r=ZAt(IIe(e.projection),e.field||pu("datum"),e.pointRadius),n.materialize().reflow(),s=n.SOURCE),n.visit(s,o=>o[i]=r),n.modifies(i)}});function ZAt(e,t,n){const r=n==null?i=>e(t(i)):i=>{var s=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(s),o};return r.context=i=>(e.context(i),r),r}function EQ(e){Ge.call(this,[],e),this.generator=Kht()}EQ.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Ct(EQ,Ge,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const s in e)Rn(r[s])&&r[s](e[s]);return i=r(),n.length?t.mod.push(FTe(n[0],i)):t.add.push(Rr(i)),n[0]=i,t}});function CQ(e){Ge.call(this,null,e)}CQ.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Ct(CQ,Ge,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||Fo,s=tkt(e.opacity,e),o=ekt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?mv(n.map(u=>mv(i(u).values))):0};return n.forEach(u=>{const c=i(u),d=An({},u,l);r||(d.$max=mv(c.values||[])),u[a]=nkt(c,d,o.dep?o:pa(o(d)),s.dep?s:pa(s(d)))}),t.reflow(!0).modifies(a)}});function ekt(e,t){let n;return Rn(e)?(n=r=>Jf(e(r,t)),n.dep=$Ie(e)):n=pa(Jf(e||"#888")),n}function tkt(e,t){let n;return Rn(e)?(n=r=>e(r,t),n.dep=$Ie(e)):e?n=pa(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function $Ie(e){if(!Rn(e))return!1;const t=Cd(aa(e));return t.$x||t.$y||t.$value||t.$max}function nkt(e,t,n,r){const i=e.width,s=e.height,o=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||s,c=e.values,d=c?g=>c[g]:y0,f=L0(l-o,u-a),h=f.getContext("2d"),p=h.getImageData(0,0,l-o,u-a),m=p.data;for(let g=a,y=0;g<u;++g){t.$y=g-a;for(let v=o,w=g*i;v<l;++v,y+=4){t.$x=v-o,t.$value=d(v+w);const E=n(t);m[y+0]=E.r,m[y+1]=E.g,m[y+2]=E.b,m[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),f}function MIe(e){Ge.call(this,null,e),this.modified(!0)}Ct(MIe,Ge,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=ikt(e.type),UU.forEach(r=>{e[r]!=null&&cde(n,r,e[r])})):UU.forEach(r=>{e.modified(r)&&cde(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&rkt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function rkt(e,t){const n=skt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function ikt(e){const t=pQ((e||"mercator").toLowerCase());return t||Ye("Unrecognized projection type: "+e),t()}function cde(e,t,n){Rn(e[t])&&e[t](n)}function skt(e){return e=Rt(e),e.length===1?e[0]:{type:vQ,features:e.reduce((t,n)=>t.concat(okt(n)),[])}}function okt(e){return e.type===vQ?e.features:Rt(e).filter(t=>t!=null).map(t=>t.type===HU?t:{type:HU,geometry:t})}const akt=Object.freeze(Object.defineProperty({__proto__:null,contour:yQ,geojson:bQ,geopath:wQ,geopoint:xQ,geoshape:_Q,graticule:EQ,heatmap:CQ,isocontour:mQ,kde2d:gQ,projection:MIe},Symbol.toStringTag,{value:"Module"})),dde={center:Uft,collide:aht,nbody:vht,link:uht,x:bht,y:wht},vS="forces",qU=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],lkt=["static","iterations"],FIe=["x","y","vx","vy"];function SQ(e){Ge.call(this,null,e)}SQ.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:FIe}]};Ct(SQ,Ge,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(qU),s=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&LIe(n,e,0,t)):(this.value=n=ckt(t.source,e),n.on("tick",ukt(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(lkt)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/s)),e.static)for(n.stop();--s>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==vS||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,s=r.length,o;i<s;++i)if(r[i].name==="links"&&(o=r[i].op.source)){n.pulse(o,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(FIe)}});function ukt(e,t){return()=>e.touch(t).run()}function ckt(e,t){const n=yht(e),r=n.stop,i=n.restart;let s=!1;return n.stopped=()=>s,n.restart=()=>(s=!1,i()),n.stop=()=>(s=!0,r()),LIe(n,t,!0).on("end",()=>s=!0)}function LIe(e,t,n,r){var i=Rt(t.forces),s,o,a,l;for(s=0,o=qU.length;s<o;++s)a=qU[s],a!==vS&&t.modified(a)&&e[a](t[a]);for(s=0,o=i.length;s<o;++s)l=vS+s,a=n||t.modified(vS,s)?fkt(i[s]):r&&dkt(i[s],r)?e.force(l):null,a&&e.force(l,a);for(o=e.numForces||0;s<o;++s)e.force(vS+s,null);return e.numForces=i.length,e}function dkt(e,t){var n,r;for(n in e)if(Rn(r=e[n])&&t.modified(aa(r)))return 1;return 0}function fkt(e){var t,n;Ft(dde,e.force)||Ye("Unrecognized force: "+e.force),t=dde[e.force]();for(n in e)Rn(t[n])&&hkt(t[n],e[n],e);return t}function hkt(e,t,n){e(Rn(t)?r=>t(r,n):t)}const pkt=Object.freeze(Object.defineProperty({__proto__:null,force:SQ},Symbol.toStringTag,{value:"Module"}));function VU(e,t,n){const r={};return e.each(i=>{const s=i.data;n(s)&&(r[t(s)]=i)}),e.lookup=r,e}function TQ(e){Ge.call(this,null,e)}TQ.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const mkt=e=>e.values;Ct(TQ,Ge,{transform(e,t){t.source||Ye("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),s=this.value;return(!s||r||t.changed())&&(s&&s.each(o=>{o.children&&K_(o.data)&&i.rem.push(o.data)}),this.value=s=xY({values:Rt(e.keys).reduce((o,a)=>(o.key(a),o),gkt()).entries(i.source)},mkt),n&&s.each(o=>{o.children&&(o=Rr(o.data),i.add.push(o),i.source.push(o))}),VU(s,nn,nn)),i.source.root=s,i}});function gkt(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,s){if(s>=e.length)return i;const o=i.length,a=e[s++],l={},u={};let c=-1,d,f,h;for(;++c<o;)d=a(f=i[c])+"",(h=l[d])?h.push(f):l[d]=[f];for(d in l)u[d]=n(l[d],s);return u}function r(i,s){if(++s>e.length)return i;const o=[];for(const a in i)o.push({key:a,values:r(i[a],s)});return o}return t}function pm(e){Ge.call(this,null,e)}const ykt=(e,t)=>e.parent===t.parent?1:2;Ct(pm,Ge,{transform(e,t){(!t.source||!t.source.root)&&Ye(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,s=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Ob(e.sort,o=>o.data)),vkt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?ykt:z_);try{this.value=n(i)}catch(o){Ye(o)}return i.each(o=>bkt(o,r,s)),t.reflow(e.modified()).modifies(s).modifies("leaf")}});function vkt(e,t,n){for(let r,i=0,s=t.length;i<s;++i)r=t[i],r in n&&e[r](n[r])}function bkt(e,t,n){const r=e.data,i=t.length-1;for(let s=0;s<i;++s)r[n[s]]=e[t[s]];r[n[i]]=e.children?e.children.length:0}const WU=["x","y","r","depth","children"];function AQ(e){pm.call(this,e)}AQ.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:WU.length,default:WU}]};Ct(AQ,pm,{layout:ymt,params:["radius","size","padding"],fields:WU});const GU=["x0","y0","x1","y1","depth","children"];function kQ(e){pm.call(this,e)}kQ.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:GU.length,default:GU}]};Ct(kQ,pm,{layout:vmt,params:["size","round","padding"],fields:GU});function IQ(e){Ge.call(this,null,e)}IQ.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Ct(IQ,Ge,{transform(e,t){t.source||Ye("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),s=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),s&&(n=i.source.length?VU(cle().id(e.key).parentId(e.parentKey)(i.source),e.key,Il):VU(cle()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const fde={tidy:kmt,cluster:Bpt},YU=["x","y","depth","children"];function RQ(e){pm.call(this,e)}RQ.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:YU.length,default:YU}]};Ct(RQ,pm,{layout(e){const t=e||"tidy";if(Ft(fde,t))return fde[t]();Ye("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:YU});function DQ(e){Ge.call(this,[],e)}DQ.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Ct(DQ,Ge,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),s={};return r||Ye("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,o=>s[nn(o)]=1),r.each(o=>{const a=o.data,l=o.parent&&o.parent.data;l&&s[nn(a)]&&s[nn(l)]&&i.add.push(Rr({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>s[nn(o)]=1),n.forEach(o=>{(s[nn(o.source)]||s[nn(o.target)])&&i.mod.push(o)})),i}});const hde={binary:Rmt,dice:yA,slice:U4,slicedice:Dmt,squarify:NCe,resquarify:Pmt},KU=["x0","y0","x1","y1","depth","children"];function PQ(e){pm.call(this,e)}PQ.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:KU.length,default:KU}]};Ct(PQ,pm,{layout(){const e=Imt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Ft(hde,t)?e.tile(hde[t]):Ye("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:KU});const wkt=Object.freeze(Object.defineProperty({__proto__:null,nest:TQ,pack:AQ,partition:kQ,stratify:IQ,tree:RQ,treelinks:DQ,treemap:PQ},Symbol.toStringTag,{value:"Module"})),Nj=4278190080;function xkt(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function _kt(e,t,n,r,i){const s=e.width,o=e.height,a=r||i,l=L0(s,o).getContext("2d"),u=L0(s,o).getContext("2d"),c=a&&L0(s,o).getContext("2d");n.forEach(A=>r3(l,A,!1)),r3(u,t,!1),a&&r3(c,t,!0);const d=$j(l,s,o),f=$j(u,s,o),h=a&&$j(c,s,o),p=e.bitmap(),m=a&&e.bitmap();let g,y,v,w,E,C,S,T;for(y=0;y<o;++y)for(g=0;g<s;++g)E=y*s+g,C=d[E]&Nj,T=f[E]&Nj,S=a&&h[E]&Nj,(C||S||T)&&(v=e(g),w=e(y),!i&&(C||T)&&p.set(v,w),a&&(C||S)&&m.set(v,w));return[p,m]}function $j(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function r3(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(s=>r3(e,s.items,n))}):vu[r].draw(e,{items:n?t.map(Ekt):t})}function Ekt(e){const t=EM(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Gh=5,Sa=31,oT=32,a0=new Uint32Array(oT+1),Gc=new Uint32Array(oT+1);Gc[0]=0;a0[0]=~Gc[0];for(let e=1;e<=oT;++e)Gc[e]=Gc[e-1]<<1|1,a0[e]=~Gc[e];function Ckt(e,t){const n=new Uint32Array(~~((e*t+oT)/oT));function r(s,o){n[s]|=o}function i(s,o){n[s]&=o}return{array:n,get:(s,o)=>{const a=o*e+s;return n[a>>>Gh]&1<<(a&Sa)},set:(s,o)=>{const a=o*e+s;r(a>>>Gh,1<<(a&Sa))},clear:(s,o)=>{const a=o*e+s;i(a>>>Gh,~(1<<(a&Sa)))},getRange:(s,o,a,l)=>{let u=l,c,d,f,h;for(;u>=o;--u)if(c=u*e+s,d=u*e+a,f=c>>>Gh,h=d>>>Gh,f===h){if(n[f]&a0[c&Sa]&Gc[(d&Sa)+1])return!0}else{if(n[f]&a0[c&Sa]||n[h]&Gc[(d&Sa)+1])return!0;for(let p=f+1;p<h;++p)if(n[p])return!0}return!1},setRange:(s,o,a,l)=>{let u,c,d,f,h;for(;o<=l;++o)if(u=o*e+s,c=o*e+a,d=u>>>Gh,f=c>>>Gh,d===f)r(d,a0[u&Sa]&Gc[(c&Sa)+1]);else for(r(d,a0[u&Sa]),r(f,Gc[(c&Sa)+1]),h=d+1;h<f;++h)r(h,4294967295)},clearRange:(s,o,a,l)=>{let u,c,d,f,h;for(;o<=l;++o)if(u=o*e+s,c=o*e+a,d=u>>>Gh,f=c>>>Gh,d===f)i(d,Gc[u&Sa]|a0[(c&Sa)+1]);else for(i(d,Gc[u&Sa]),i(f,a0[(c&Sa)+1]),h=d+1;h<f;++h)i(h,0)},outOfBounds:(s,o,a,l)=>s<0||o<0||l>=t||a>=e}}function Skt(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),s=~~((t+2*n+r)/r),o=a=>~~((a+n)/r);return o.invert=a=>a*r-n,o.bitmap=()=>Ckt(i,s),o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function Tkt(e,t,n,r){const i=e.width,s=e.height;return function(o){const a=o.datum.datum.items[r].items,l=a.length,u=o.datum.fontSize,c=su.width(o.datum,o.datum.text);let d=0,f,h,p,m,g,y,v;for(let w=0;w<l;++w)f=a[w].x,p=a[w].y,h=a[w].x2===void 0?f:a[w].x2,m=a[w].y2===void 0?p:a[w].y2,g=(f+h)/2,y=(p+m)/2,v=Math.abs(h-f+m-p),v>=d&&(d=v,o.x=g,o.y=y);return g=c/2,y=u/2,f=o.x-g,h=o.x+g,p=o.y-y,m=o.y+y,o.align="center",f<0&&h<=i?o.align="left":0<=f&&i<h&&(o.align="right"),o.baseline="middle",p<0&&m<=s?o.baseline="top":0<=p&&s<m&&(o.baseline="bottom"),!0}}function SN(e,t,n,r,i,s){let o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>s}function A0(e,t,n,r,i,s,o,a){const l=i*s/(r*2),u=e(t-l),c=e(t+l),d=e(n-(s=s/2)),f=e(n+s);return o.outOfBounds(u,d,c,f)||o.getRange(u,d,c,f)||a&&a.getRange(u,d,c,f)}function Akt(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1];function l(u,c,d,f,h){const p=e.invert(u),m=e.invert(c);let g=d,y=s,v;if(!SN(p,m,f,h,i,s)&&!A0(e,p,m,h,f,g,o,a)&&!A0(e,p,m,h,f,h,o,null)){for(;y-g>=1;)v=(g+y)/2,A0(e,p,m,h,f,v,o,a)?y=v:g=v;if(g>d)return[p,m,g,!0]}}return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=su.width(u.datum,u.datum.text);let p=n?f:0,m=!1,g=!1,y=0,v,w,E,C,S,T,A,I,D,O,M,$,L,z,B,W,V;for(let X=0;X<d;++X){for(v=c[X].x,E=c[X].y,w=c[X].x2===void 0?v:c[X].x2,C=c[X].y2===void 0?E:c[X].y2,v>w&&(V=v,v=w,w=V),E>C&&(V=E,E=C,C=V),D=e(v),M=e(w),O=~~((D+M)/2),$=e(E),z=e(C),L=~~(($+z)/2),A=O;A>=D;--A)for(I=L;I>=$;--I)W=l(A,I,p,h,f),W&&([u.x,u.y,p,m]=W);for(A=O;A<=M;++A)for(I=L;I<=z;++I)W=l(A,I,p,h,f),W&&([u.x,u.y,p,m]=W);!m&&!n&&(B=Math.abs(w-v+C-E),S=(v+w)/2,T=(E+C)/2,B>=y&&!SN(S,T,h,f,i,s)&&!A0(e,S,T,f,h,f,o,null)&&(y=B,u.x=S,u.y=T,g=!0))}return m||g?(S=h/2,T=f/2,o.setRange(e(u.x-S),e(u.y-T),e(u.x+S),e(u.y+T)),u.align="center",u.baseline="middle",!0):!1}}const kkt=[-1,-1,1,1],Ikt=[-1,1,-1,1];function Rkt(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=su.width(u.datum,u.datum.text),p=[];let m=n?f:0,g=!1,y=!1,v=0,w,E,C,S,T,A,I,D,O,M,$,L;for(let z=0;z<d;++z){for(w=c[z].x,C=c[z].y,E=c[z].x2===void 0?w:c[z].x2,S=c[z].y2===void 0?C:c[z].y2,p.push([e((w+E)/2),e((C+S)/2)]);p.length;)if([I,D]=p.pop(),!(o.get(I,D)||a.get(I,D)||l.get(I,D))){l.set(I,D);for(let B=0;B<4;++B)T=I+kkt[B],A=D+Ikt[B],l.outOfBounds(T,A,T,A)||p.push([T,A]);if(T=e.invert(I),A=e.invert(D),O=m,M=s,!SN(T,A,h,f,i,s)&&!A0(e,T,A,f,h,O,o,a)&&!A0(e,T,A,f,h,f,o,null)){for(;M-O>=1;)$=(O+M)/2,A0(e,T,A,f,h,$,o,a)?M=$:O=$;O>m&&(u.x=T,u.y=A,m=O,g=!0)}}!g&&!n&&(L=Math.abs(E-w+S-C),T=(w+E)/2,A=(C+S)/2,L>=v&&!SN(T,A,h,f,i,s)&&!A0(e,T,A,f,h,f,o,null)&&(v=L,u.x=T,u.y=A,y=!0))}return g||y?(T=h/2,A=f/2,o.setRange(e(u.x-T),e(u.y-A),e(u.x+T),e(u.y+A)),u.align="center",u.baseline="middle",!0):!1}}const Dkt=["right","center","left"],Pkt=["bottom","middle","top"];function Okt(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,d=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>s)return!1;let f=u.textWidth??0,h,p,m,g,y,v,w,E,C,S,T,A,I,D,O;for(let M=0;M<l;++M){if(h=(n[M]&3)-1,p=(n[M]>>>2&3)-1,m=h===0&&p===0||r[M]<0,g=h&&p?Math.SQRT1_2:1,y=r[M]<0?-1:1,v=c[1+h]+r[M]*h*g,T=c[4+p]+y*d*p/2+r[M]*p*g,E=T-d/2,C=T+d/2,A=e(v),D=e(E),O=e(C),!f)if(pde(A,A,D,O,o,a,v,v,E,C,c,m))f=su.width(u.datum,u.datum.text);else continue;if(S=v+y*f*h/2,v=S-f/2,w=S+f/2,A=e(v),I=e(w),pde(A,I,D,O,o,a,v,w,E,C,c,m))return u.x=h?h*y<0?w:v:S,u.y=p?p*y<0?C:E:T,u.align=Dkt[h*y+1],u.baseline=Pkt[p*y+1],o.setRange(A,D,I,O),!0}return!1}}function pde(e,t,n,r,i,s,o,a,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&s||i).getRange(e,n,t,r))}const Mj=0,Fj=4,Lj=8,jj=0,Bj=1,zj=2,Nkt={"top-left":Mj+jj,top:Mj+Bj,"top-right":Mj+zj,left:Fj+jj,middle:Fj+Bj,right:Fj+zj,"bottom-left":Lj+jj,bottom:Lj+Bj,"bottom-right":Lj+zj},$kt={naive:Tkt,"reduced-search":Akt,floodfill:Rkt};function Mkt(e,t,n,r,i,s,o,a,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),f=Fkt(r,d),h=Lkt(i,d),p=jkt(e[0].datum),m=p==="group"&&e[0].datum.items[l].marktype,g=m==="area",y=Bkt(p,m,a,l),v=u===null||u===1/0,w=g&&c==="naive";let E=-1,C=-1;const S=e.map(D=>{const O=v?su.width(D,D.text):void 0;return E=Math.max(E,O),C=Math.max(C,D.fontSize),{datum:D,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(D),textWidth:O}});u=u===null||u===1/0?Math.max(E,C)+Math.max(...r):u;const T=Skt(t[0],t[1],u);let A;if(!w){n&&S.sort((M,$)=>n(M.datum,$.datum));let D=!1;for(let M=0;M<h.length&&!D;++M)D=h[M]===5||f[M]<0;const O=(p&&o||g)&&e.map(M=>M.datum);A=s.length||O?_kt(T,O||[],s,D,g):xkt(T,o&&S)}const I=g?$kt[c](T,A,o,l):Okt(T,A,h,f);return S.forEach(D=>D.opacity=+I(D)),S}function Fkt(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function Lkt(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=Nkt[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function jkt(e){return e&&e.mark&&e.mark.marktype}function Bkt(e,t,n,r){const i=s=>[s.x,s.x,s.x,s.y,s.y,s.y];return e?e==="line"||e==="area"?s=>i(s.datum):t==="line"?s=>{const o=s.datum.items[r].items;return i(o.length?o[n==="start"?0:o.length-1]:{x:NaN,y:NaN})}:s=>{const o=s.datum.bounds;return[o.x1,(o.x1+o.x2)/2,o.x2,o.y1,(o.y1+o.y2)/2,o.y2]}:i}const XU=["x","y","opacity","align","baseline"],jIe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function OQ(e){Ge.call(this,null,e)}OQ.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:jIe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:XU.length,default:XU}]};Ct(OQ,Ge,{transform(e,t){function n(s){const o=e[s];return Rn(o)&&t.modified(o.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&Ye("Size parameter should be specified as a [width, height] array.");const i=e.as||XU;return Mkt(t.materialize(t.SOURCE).source||[],e.size,e.sort,Rt(e.offset==null?1:e.offset),Rt(e.anchor||jIe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(s=>{const o=s.datum;o[i[0]]=s.x,o[i[1]]=s.y,o[i[2]]=s.opacity,o[i[3]]=s.align,o[i[4]]=s.baseline}),t.reflow(r).modifies(i)}});const zkt=Object.freeze(Object.defineProperty({__proto__:null,label:OQ},Symbol.toStringTag,{value:"Module"}));function BIe(e,t){var n=[],r=function(c){return c(a)},i,s,o,a,l,u;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function NQ(e){Ge.call(this,null,e)}NQ.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Ct(NQ,Ge,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=BIe(r,e.groupby),s=(e.groupby||[]).map(Hi),o=s.length,a=e.as||[Hi(e.x),Hi(e.y)],l=[];i.forEach(u=>{tAe(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const d={};for(let f=0;f<o;++f)d[s[f]]=u.dims[f];d[a[0]]=c[0],d[a[1]]=c[1],l.push(Rr(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const QU={constant:qK,linear:VK,log:QTe,exp:JTe,pow:ZTe,quad:WK,poly:eAe},Ukt=(e,t)=>e==="poly"?t:e==="quad"?2:1;function $Q(e){Ge.call(this,null,e)}$Q.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(QU)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Ct($Q,Ge,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=BIe(r,e.groupby),s=(e.groupby||[]).map(Hi),o=e.method||"linear",a=e.order==null?3:e.order,l=Ukt(o,a),u=e.as||[Hi(e.x),Hi(e.y)],c=QU[o],d=[];let f=e.extent;Ft(QU,o)||Ye("Invalid regression method: "+o),f!=null&&o==="log"&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(h,e.x,e.y,a);if(e.params){d.push(Rr({keys:h.dims,coef:m.coef,rSquared:m.rSquared}));return}const g=f||Ed(h,e.x),y=v=>{const w={};for(let E=0;E<s.length;++E)w[s[E]]=h.dims[E];w[u[0]]=v[0],w[u[1]]=v[1],d.push(Rr(w))};o==="linear"||o==="constant"?g.forEach(v=>y([v,m.predict(v)])):MM(m.predict,g,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const Hkt=Object.freeze(Object.defineProperty({__proto__:null,loess:NQ,regression:$Q},Symbol.toStringTag,{value:"Module"}));function MQ(e){Ge.call(this,null,e)}MQ.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const qkt=[-1e5,-1e5,1e5,1e5];Ct(MQ,Ge,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:qkt;const s=this.value=uY.from(r,e.x,e.y).voronoi(i);for(let o=0,a=r.length;o<a;++o){const l=s.cellPolygon(o);r[o][n]=l&&!Wkt(l)?Vkt(l):null}return t.reflow(e.modified()).modifies(n)}});function Vkt(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function Wkt(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const Gkt=Object.freeze(Object.defineProperty({__proto__:null,voronoi:MQ},Symbol.toStringTag,{value:"Module"}));var Uj=Math.PI/180,bS=64,i3=2048;function Ykt(){var e=[256,256],t,n,r,i,s,o,a,l=zIe,u=[],c=Math.random,d={};d.layout=function(){for(var p=f(L0()),m=eIt((e[0]>>5)*e[1]),g=null,y=u.length,v=-1,w=[],E=u.map(S=>({text:t(S),font:n(S),style:i(S),weight:s(S),rotate:o(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,T)=>T.size-S.size);++v<y;){var C=E[v];C.x=e[0]*(c()+.5)>>1,C.y=e[1]*(c()+.5)>>1,Kkt(p,C,E,v),C.hasText&&h(m,C,g)&&(w.push(C),g?Qkt(g,C):g=[{x:C.x+C.x0,y:C.y+C.y0},{x:C.x+C.x1,y:C.y+C.y1}],C.x-=e[0]>>1,C.y-=e[1]>>1)}return w};function f(p){p.width=p.height=1;var m=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(bS<<5)/m,p.height=i3/m;var g=p.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:m}}function h(p,m,g){for(var y=m.x,v=m.y,w=Math.hypot(e[0],e[1]),E=l(e),C=c()<.5?1:-1,S=-C,T,A,I;(T=E(S+=C))&&(A=~~T[0],I=~~T[1],!(Math.min(Math.abs(A),Math.abs(I))>=w));)if(m.x=y+A,m.y=v+I,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!g||!Xkt(m,p,e[0]))&&(!g||Jkt(m,g))){for(var D=m.sprite,O=m.width>>5,M=e[0]>>5,$=m.x-(O<<4),L=$&127,z=32-L,B=m.y1-m.y0,W=(m.y+m.y0)*M+($>>5),V,X=0;X<B;X++){V=0;for(var U=0;U<=O;U++)p[W+U]|=V<<z|(U<O?(V=D[X*O+U])>>>L:0);W+=M}return m.sprite=null,!0}return!1}return d.words=function(p){return arguments.length?(u=p,d):u},d.size=function(p){return arguments.length?(e=[+p[0],+p[1]],d):e},d.font=function(p){return arguments.length?(n=cy(p),d):n},d.fontStyle=function(p){return arguments.length?(i=cy(p),d):i},d.fontWeight=function(p){return arguments.length?(s=cy(p),d):s},d.rotate=function(p){return arguments.length?(o=cy(p),d):o},d.text=function(p){return arguments.length?(t=cy(p),d):t},d.spiral=function(p){return arguments.length?(l=tIt[p]||p,d):l},d.fontSize=function(p){return arguments.length?(r=cy(p),d):r},d.padding=function(p){return arguments.length?(a=cy(p),d):a},d.random=function(p){return arguments.length?(c=p,d):c},d}function Kkt(e,t,n,r){if(!t.sprite){var i=e.context,s=e.ratio;i.clearRect(0,0,(bS<<5)/s,i3/s);var o=0,a=0,l=0,u=n.length,c,d,f,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,c=i.measureText(t.text+"m").width*s,f=t.size<<1,t.rotate){var m=Math.sin(t.rotate*Uj),g=Math.cos(t.rotate*Uj),y=c*g,v=c*m,w=f*g,E=f*m;c=Math.max(Math.abs(y+E),Math.abs(y-E))+31>>5<<5,f=~~Math.max(Math.abs(v+w),Math.abs(v-w))}else c=c+31>>5<<5;if(f>l&&(l=f),o+c>=bS<<5&&(o=0,a+=l,l=0),a+f>=i3)break;i.translate((o+(c>>1))/s,(a+(f>>1))/s),t.rotate&&i.rotate(t.rotate*Uj),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=f,t.xoff=o,t.yoff=a,t.x1=c>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=c}for(var C=i.getImageData(0,0,(bS<<5)/s,i3/s).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,d=c>>5,f=t.y1-t.y0,h=0;h<f*d;h++)S[h]=0;if(o=t.xoff,o==null)return;a=t.yoff;var T=0,A=-1;for(p=0;p<f;p++){for(h=0;h<c;h++){var I=d*p+(h>>5),D=C[(a+p)*(bS<<5)+(o+h)<<2]?1<<31-h%32:0;S[I]|=D,T|=D}T?A=p:(t.y0++,f--,p--,a++)}t.y1=t.y0+A,t.sprite=S.slice(0,(t.y1-t.y0)*d)}}}function Xkt(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,s=e.x-(i<<4),o=s&127,a=32-o,l=e.y1-e.y0,u=(e.y+e.y0)*n+(s>>5),c,d=0;d<l;d++){c=0;for(var f=0;f<=i;f++)if((c<<a|(f<i?(c=r[d*i+f])>>>o:0))&t[u+f])return!0;u+=n}return!1}function Qkt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function Jkt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function zIe(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Zkt(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(s){var o=s<0?-1:1;switch(Math.sqrt(1+4*o*s)-o&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function eIt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function cy(e){return typeof e=="function"?e:function(){return e}}var tIt={archimedean:zIe,rectangular:Zkt};const UIe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],nIt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function FQ(e){Ge.call(this,Ykt(),e)}FQ.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:UIe}]};Ct(FQ,Ge,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&Ye("Wordcloud size dimensions must be non-zero.");function n(p){const m=e[p];return Rn(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||nIt.some(n)))return;const i=t.materialize(t.SOURCE).source,s=this.value,o=e.as||UIe;let a=e.fontSize||14,l;if(Rn(a)?l=e.fontSizeRange:a=pa(a),l){const p=a,m=dr("sqrt")().domain(Ed(i,p)).range(l);a=g=>m(p(g))}i.forEach(p=>{p[o[0]]=NaN,p[o[1]]=NaN,p[o[3]]=0});const u=s.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(yu).layout(),c=s.size(),d=c[0]>>1,f=c[1]>>1,h=u.length;for(let p=0,m,g;p<h;++p)m=u[p],g=m.datum,g[o[0]]=m.x+d,g[o[1]]=m.y+f,g[o[2]]=m.font,g[o[3]]=m.size,g[o[4]]=m.style,g[o[5]]=m.weight,g[o[6]]=m.rotate;return t.reflow(r).modifies(o)}});const rIt=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:FQ},Symbol.toStringTag,{value:"Module"})),iIt=e=>new Uint8Array(e),sIt=e=>new Uint16Array(e),JS=e=>new Uint32Array(e);function oIt(){let e=8,t=[],n=JS(0),r=hR(0,e),i=hR(0,e);return{data:()=>t,seen:()=>n=aIt(n,t.length),add(s){for(let o=0,a=t.length,l=s.length,u;o<l;++o)u=s[o],u._index=a++,t.push(u)},remove(s,o){const a=t.length,l=Array(a-s),u=t;let c,d,f;for(d=0;!o[d]&&d<a;++d)l[d]=t[d],u[d]=d;for(f=d;d<a;++d)c=t[d],o[d]?u[d]=-1:(u[d]=f,r[f]=r[d],i[f]=i[d],l[f]=c,c._index=f++),r[d]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:s=>i[s]=r[s],all:()=>e<257?255:e<65537?65535:4294967295,set(s,o){r[s]|=o},clear(s,o){r[s]&=~o},resize(s,o){const a=r.length;(s>a||o>e)&&(e=Math.max(o,e),r=hR(s,e,r),i=hR(s,e))}}}function aIt(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function hR(e,t,n){const r=(t<257?iIt:t<65537?sIt:JS)(e);return n&&r.set(n),r}function mde(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,s){const o=this,a=o.bisect(o.range,i.value),l=i.index,u=a[0],c=a[1],d=l.length;let f;for(f=0;f<u;++f)s[l[f]]|=r;for(f=c;f<d;++f)s[l[f]]|=r;return o}}}function gde(){let e=JS(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,d=l.length,f=JS(d);let h=Array(d),p,m,g;for(g=0;g<d;++g)h[g]=a(l[g]),f[g]=g;if(h=lIt(h,f),c)p=t,m=e,t=Array(c+d),e=JS(c+d),uIt(u,p,m,c,h,f,d,t,e);else{if(u>0)for(g=0;g<d;++g)f[g]+=u;t=h,e=f}return n=c+d,{index:f,value:h}}function i(a,l){const u=n;let c,d,f;for(d=0;!l[e[d]]&&d<u;++d);for(f=d;d<u;++d)l[c=e[d]]||(e[f]=c,t[f]=t[d],++f);n=u-a}function s(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function o(a,l){let u;return l?u=l.length:(l=t,u=n),[Slt(l,a[0],0,u),Y0(l,a[1],0,u)]}return{insert:r,remove:i,bisect:o,reindex:s,index:()=>e,size:()=>n}}function lIt(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],s=e[r];return i<s?-1:i>s?1:0}),Ilt(e,t)}function uIt(e,t,n,r,i,s,o,a,l){let u=0,c=0,d;for(d=0;u<r&&c<o;++d)t[u]<i[c]?(a[d]=t[u],l[d]=n[u++]):(a[d]=i[c],l[d]=s[c++]+e);for(;u<r;++u,++d)a[d]=t[u],l[d]=n[u];for(;c<o;++c,++d)a[d]=i[c],l[d]=s[c]+e}function LQ(e){Ge.call(this,oIt(),e),this._indices=null,this._dims=null}LQ.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Ct(LQ,Ge,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},s=this._dims=[],o=r.length;let a=0,l,u;for(;a<o;++a)l=n[a].fname,u=i[l]||(i[l]=gde()),s.push(mde(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,s=this._indices,o=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),d=n.rem=n.add,f=n.mod,h=i.length,p={};let m,g,y,v,w,E,C,S,T;if(u.set(l),t.rem.length&&(w=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(E={},v=t.mod,C=0,S=v.length;C<S;++C)E[v[C]._index]=1;for(C=0;C<h;++C)T=r[C],(!o[C]||e.modified("fields",C)||t.modified(T.fields))&&(y=T.fname,(m=p[y])||(s[y]=g=gde(),p[y]=m=g.insert(T,t.source,0)),o[C]=mde(g,C,i[C]).onAdd(m,l));for(C=0,S=a.data().length;C<S;++C)w[C]||(u[C]!==l[C]?d.push(C):E[C]&&l[C]!==c&&f.push(C));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,s=this._dims,o=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,d=s.length;let f=i.size(),h,p,m;i.resize(c,d),i.add(r);const g=i.curr(),y=i.prev(),v=i.all();for(h=0;h<d;++h)p=a[h].fname,m=l[p]||(l[p]=o[p].insert(a[h],r,f)),s[h].onAdd(m,g);for(;f<c;++f)y[f]=v,g[f]!==v&&u.push(f)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),s=r.all(),o=e.mod;let a,l,u;for(a=0,l=o.length;a<l;++a)u=o[a]._index,i[u]!==s&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,s=i.curr(),o=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let d,f,h,p;for(d=0,f=c.length;d<f;++d)h=c[d]._index,l[h]=1,o[h]=p=s[h],s[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(f,l);return this.reindex(t,f,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const s=i.remove(t,n);for(const o in r)r[o].reindex(s)})},update(e,t,n){const r=this._dims,i=e.query,s=t.stamp,o=r.length;let a=0,l,u;for(n.filters=0,u=0;u<o;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<o;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],s,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,s=i.seen(),o=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],f=c[1],h=u[0],p=u[1],m=e.one;let g,y,v;if(d<h)for(g=d,y=Math.min(h,f);g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;else if(d>h)for(g=h,y=Math.min(d,p);g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;if(f>p)for(g=Math.max(d,p),y=f;g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;else if(f<p)for(g=Math.max(h,f),y=p;g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,s=i.curr(),o=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],d=a[0],f=a[1],h=e.one;let p,m,g;if(u<d)for(p=u,m=Math.min(d,c);p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(u>d)for(p=d,m=Math.min(u,f);p<m;++p)g=o[p],s[g]^=h,r.push(g);if(c>f)for(p=Math.max(u,f),m=c;p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(c<f)for(p=Math.max(d,c),m=f;p<m;++p)g=o[p],s[g]^=h,r.push(g);e.range=t.slice()}});function jQ(e){Ge.call(this,null,e)}jQ.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Ct(jQ,Ge,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const s=t.fork(t.ALL),o=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:o[c];return s.filter(s.MOD,u),i&i-1?(s.filter(s.ADD,c=>{const d=a[c]&n;return!d&&d^l[c]&n?o[c]:null}),s.filter(s.REM,c=>{const d=a[c]&n;return d&&!(d^(d^l[c]&n))?o[c]:null})):(s.filter(s.ADD,u),s.filter(s.REM,c=>(a[c]&n)===i?o[c]:null)),s.filter(s.SOURCE,c=>u(c._index))}});const cIt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:LQ,resolvefilter:jQ},Symbol.toStringTag,{value:"Module"})),dIt="RawCode",rc="Literal",fIt="Property",hIt="Identifier",pIt="ArrayExpression",mIt="BinaryExpression",HIe="CallExpression",gIt="ConditionalExpression",yIt="LogicalExpression",vIt="MemberExpression",bIt="ObjectExpression",wIt="UnaryExpression";function zd(e){this.type=e}zd.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=xIt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function xIt(e){switch(e.type){case pIt:return e.elements;case mIt:case yIt:return[e.left,e.right];case HIe:return[e.callee].concat(e.arguments);case gIt:return[e.test,e.consequent,e.alternate];case vIt:return[e.object,e.property];case bIt:return e.properties;case fIt:return[e.key,e.value];case wIt:return[e.argument];case hIt:case rc:case dIt:default:return[]}}var wh,Yt,Ze,ua,Ur,t6=1,zA=2,Yv=3,Dg=4,n6=5,Mb=6,gl=7,UA=8,_It=9;wh={};wh[t6]="Boolean";wh[zA]="<end>";wh[Yv]="Identifier";wh[Dg]="Keyword";wh[n6]="Null";wh[Mb]="Numeric";wh[gl]="Punctuator";wh[UA]="String";wh[_It]="RegularExpression";var EIt="ArrayExpression",CIt="BinaryExpression",SIt="CallExpression",TIt="ConditionalExpression",qIe="Identifier",AIt="Literal",kIt="LogicalExpression",IIt="MemberExpression",RIt="ObjectExpression",DIt="Property",PIt="UnaryExpression",to="Unexpected token %0",OIt="Unexpected number",NIt="Unexpected string",$It="Unexpected identifier",MIt="Unexpected reserved word",FIt="Unexpected end of input",JU="Invalid regular expression",Hj="Invalid regular expression: missing /",VIe="Octal literals are not allowed in strict mode.",LIt="Duplicate data property in object literal not allowed in strict mode",Oo="ILLEGAL",aT="Disabled.",jIt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),BIt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function r6(e,t){if(!e)throw new Error("ASSERT: "+t)}function ip(e){return e>=48&&e<=57}function BQ(e){return"0123456789abcdefABCDEF".includes(e)}function ZS(e){return"01234567".includes(e)}function zIt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function lT(e){return e===10||e===13||e===8232||e===8233}function HA(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&jIt.test(String.fromCharCode(e))}function TN(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&BIt.test(String.fromCharCode(e))}const UIt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function WIe(){for(;Ze<ua;){const e=Yt.charCodeAt(Ze);if(zIt(e)||lT(e))++Ze;else break}}function ZU(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Ze<ua&&BQ(Yt[Ze])?(r=Yt[Ze++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):_r({},to,Oo);return String.fromCharCode(i)}function HIt(){var e,t,n,r;for(e=Yt[Ze],t=0,e==="}"&&_r({},to,Oo);Ze<ua&&(e=Yt[Ze++],!!BQ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&_r({},to,Oo),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function GIe(){var e,t;for(e=Yt.charCodeAt(Ze++),t=String.fromCharCode(e),e===92&&(Yt.charCodeAt(Ze)!==117&&_r({},to,Oo),++Ze,e=ZU("u"),(!e||e==="\\"||!HA(e.charCodeAt(0)))&&_r({},to,Oo),t=e);Ze<ua&&(e=Yt.charCodeAt(Ze),!!TN(e));)++Ze,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Yt.charCodeAt(Ze)!==117&&_r({},to,Oo),++Ze,e=ZU("u"),(!e||e==="\\"||!TN(e.charCodeAt(0)))&&_r({},to,Oo),t+=e);return t}function qIt(){var e,t;for(e=Ze++;Ze<ua;){if(t=Yt.charCodeAt(Ze),t===92)return Ze=e,GIe();if(TN(t))++Ze;else break}return Yt.slice(e,Ze)}function VIt(){var e,t,n;return e=Ze,t=Yt.charCodeAt(Ze)===92?GIe():qIt(),t.length===1?n=Yv:UIt.hasOwnProperty(t)?n=Dg:t==="null"?n=n6:t==="true"||t==="false"?n=t6:n=Yv,{type:n,value:t,start:e,end:Ze}}function qj(){var e=Ze,t=Yt.charCodeAt(Ze),n,r=Yt[Ze],i,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ze,{type:gl,value:String.fromCharCode(t),start:e,end:Ze};default:if(n=Yt.charCodeAt(Ze+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ze+=2,{type:gl,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Ze};case 33:case 61:return Ze+=2,Yt.charCodeAt(Ze)===61&&++Ze,{type:gl,value:Yt.slice(e,Ze),start:e,end:Ze}}}if(o=Yt.substr(Ze,4),o===">>>=")return Ze+=4,{type:gl,value:o,start:e,end:Ze};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return Ze+=3,{type:gl,value:s,start:e,end:Ze};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Ze+=2,{type:gl,value:i,start:e,end:Ze};if(i==="//"&&_r({},to,Oo),"<>=!+-*%&|^/".includes(r))return++Ze,{type:gl,value:r,start:e,end:Ze};_r({},to,Oo)}function WIt(e){let t="";for(;Ze<ua&&BQ(Yt[Ze]);)t+=Yt[Ze++];return t.length===0&&_r({},to,Oo),HA(Yt.charCodeAt(Ze))&&_r({},to,Oo),{type:Mb,value:parseInt("0x"+t,16),start:e,end:Ze}}function GIt(e){let t="0"+Yt[Ze++];for(;Ze<ua&&ZS(Yt[Ze]);)t+=Yt[Ze++];return(HA(Yt.charCodeAt(Ze))||ip(Yt.charCodeAt(Ze)))&&_r({},to,Oo),{type:Mb,value:parseInt(t,8),octal:!0,start:e,end:Ze}}function yde(){var e,t,n;if(n=Yt[Ze],r6(ip(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Ze,e="",n!=="."){if(e=Yt[Ze++],n=Yt[Ze],e==="0"){if(n==="x"||n==="X")return++Ze,WIt(t);if(ZS(n))return GIt(t);n&&ip(n.charCodeAt(0))&&_r({},to,Oo)}for(;ip(Yt.charCodeAt(Ze));)e+=Yt[Ze++];n=Yt[Ze]}if(n==="."){for(e+=Yt[Ze++];ip(Yt.charCodeAt(Ze));)e+=Yt[Ze++];n=Yt[Ze]}if(n==="e"||n==="E")if(e+=Yt[Ze++],n=Yt[Ze],(n==="+"||n==="-")&&(e+=Yt[Ze++]),ip(Yt.charCodeAt(Ze)))for(;ip(Yt.charCodeAt(Ze));)e+=Yt[Ze++];else _r({},to,Oo);return HA(Yt.charCodeAt(Ze))&&_r({},to,Oo),{type:Mb,value:parseFloat(e),start:t,end:Ze}}function YIt(){var e="",t,n,r,i,s=!1;for(t=Yt[Ze],r6(t==="'"||t==='"',"String literal must starts with a quote"),n=Ze,++Ze;Ze<ua;)if(r=Yt[Ze++],r===t){t="";break}else if(r==="\\")if(r=Yt[Ze++],!r||!lT(r.charCodeAt(0)))switch(r){case"u":case"x":Yt[Ze]==="{"?(++Ze,e+=HIt()):e+=ZU(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:ZS(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),Ze<ua&&ZS(Yt[Ze])&&(s=!0,i=i*8+"01234567".indexOf(Yt[Ze++]),"0123".includes(r)&&Ze<ua&&ZS(Yt[Ze])&&(i=i*8+"01234567".indexOf(Yt[Ze++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Yt[Ze]===`
`&&++Ze;else{if(lT(r.charCodeAt(0)))break;e+=r}return t!==""&&_r({},to,Oo),{type:UA,value:e,octal:s,start:n,end:Ze}}function KIt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";_r({},JU)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{_r({},JU)}try{return new RegExp(e,t)}catch{return null}}function XIt(){var e,t,n,r,i;for(e=Yt[Ze],r6(e==="/","Regular expression literal must start with a slash"),t=Yt[Ze++],n=!1,r=!1;Ze<ua;)if(e=Yt[Ze++],t+=e,e==="\\")e=Yt[Ze++],lT(e.charCodeAt(0))&&_r({},Hj),t+=e;else if(lT(e.charCodeAt(0)))_r({},Hj);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||_r({},Hj),i=t.substr(1,t.length-2),{value:i,literal:t}}function QIt(){var e,t,n;for(t="",n="";Ze<ua&&(e=Yt[Ze],!!TN(e.charCodeAt(0)));)++Ze,e==="\\"&&Ze<ua?_r({},to,Oo):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&_r({},JU,n),{value:n,literal:t}}function JIt(){var e,t,n,r;return Ur=null,WIe(),e=Ze,t=XIt(),n=QIt(),r=KIt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ze}}function ZIt(e){return e.type===Yv||e.type===Dg||e.type===t6||e.type===n6}function YIe(){if(WIe(),Ze>=ua)return{type:zA,start:Ze,end:Ze};const e=Yt.charCodeAt(Ze);return HA(e)?VIt():e===40||e===41||e===59?qj():e===39||e===34?YIt():e===46?ip(Yt.charCodeAt(Ze+1))?yde():qj():ip(e)?yde():qj()}function wl(){const e=Ur;return Ze=e.end,Ur=YIe(),Ze=e.end,e}function KIe(){const e=Ze;Ur=YIe(),Ze=e}function eRt(e){const t=new zd(EIt);return t.elements=e,t}function vde(e,t,n){const r=new zd(e==="||"||e==="&&"?kIt:CIt);return r.operator=e,r.left=t,r.right=n,r}function tRt(e,t){const n=new zd(SIt);return n.callee=e,n.arguments=t,n}function nRt(e,t,n){const r=new zd(TIt);return r.test=e,r.consequent=t,r.alternate=n,r}function zQ(e){const t=new zd(qIe);return t.name=e,t}function wS(e){const t=new zd(AIt);return t.value=e.value,t.raw=Yt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function bde(e,t,n){const r=new zd(IIt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function rRt(e){const t=new zd(RIt);return t.properties=e,t}function wde(e,t,n){const r=new zd(DIt);return r.key=t,r.value=n,r.kind=e,r}function iRt(e,t){const n=new zd(PIt);return n.operator=e,n.argument=t,n.prefix=!0,n}function _r(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,o)=>(r6(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=Ze,n.description=i,n}function i6(e){e.type===zA&&_r(e,FIt),e.type===Mb&&_r(e,OIt),e.type===UA&&_r(e,NIt),e.type===Yv&&_r(e,$It),e.type===Dg&&_r(e,MIt),_r(e,to,e.value)}function ca(e){const t=wl();(t.type!==gl||t.value!==e)&&i6(t)}function di(e){return Ur.type===gl&&Ur.value===e}function Vj(e){return Ur.type===Dg&&Ur.value===e}function sRt(){const e=[];for(Ze=Ur.start,ca("[");!di("]");)di(",")?(wl(),e.push(null)):(e.push(Kv()),di("]")||ca(","));return wl(),eRt(e)}function xde(){Ze=Ur.start;const e=wl();return e.type===UA||e.type===Mb?(e.octal&&_r(e,VIe),wS(e)):zQ(e.value)}function oRt(){var e,t,n,r;if(Ze=Ur.start,e=Ur,e.type===Yv)return n=xde(),ca(":"),r=Kv(),wde("init",n,r);if(e.type===zA||e.type===gl)i6(e);else return t=xde(),ca(":"),r=Kv(),wde("init",t,r)}function aRt(){var e=[],t,n,r,i={},s=String;for(Ze=Ur.start,ca("{");!di("}");)t=oRt(),t.key.type===qIe?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?_r({},LIt):i[r]=!0,e.push(t),di("}")||ca(",");return ca("}"),rRt(e)}function lRt(){ca("(");const e=UQ();return ca(")"),e}const uRt={if:1};function cRt(){var e,t,n;if(di("("))return lRt();if(di("["))return sRt();if(di("{"))return aRt();if(e=Ur.type,Ze=Ur.start,e===Yv||uRt[Ur.value])n=zQ(wl().value);else if(e===UA||e===Mb)Ur.octal&&_r(Ur,VIe),n=wS(wl());else{if(e===Dg)throw new Error(aT);e===t6?(t=wl(),t.value=t.value==="true",n=wS(t)):e===n6?(t=wl(),t.value=null,n=wS(t)):di("/")||di("/=")?(n=wS(JIt()),KIe()):i6(wl())}return n}function dRt(){const e=[];if(ca("("),!di(")"))for(;Ze<ua&&(e.push(Kv()),!di(")"));)ca(",");return ca(")"),e}function fRt(){Ze=Ur.start;const e=wl();return ZIt(e)||i6(e),zQ(e.value)}function hRt(){return ca("."),fRt()}function pRt(){ca("[");const e=UQ();return ca("]"),e}function mRt(){var e,t,n;for(e=cRt();;)if(di("."))n=hRt(),e=bde(".",e,n);else if(di("("))t=dRt(),e=tRt(e,t);else if(di("["))n=pRt(),e=bde("[",e,n);else break;return e}function _de(){const e=mRt();if(Ur.type===gl&&(di("++")||di("--")))throw new Error(aT);return e}function s3(){var e,t;if(Ur.type!==gl&&Ur.type!==Dg)t=_de();else{if(di("++")||di("--"))throw new Error(aT);if(di("+")||di("-")||di("~")||di("!"))e=wl(),t=s3(),t=iRt(e.value,t);else{if(Vj("delete")||Vj("void")||Vj("typeof"))throw new Error(aT);t=_de()}}return t}function Ede(e){let t=0;if(e.type!==gl&&e.type!==Dg)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function gRt(){var e,t,n,r,i,s,o,a,l,u;if(e=Ur,l=s3(),r=Ur,i=Ede(r),i===0)return l;for(r.prec=i,wl(),t=[e,Ur],o=s3(),s=[l,r,o];(i=Ede(Ur))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,l=s.pop(),t.pop(),n=vde(a,l,o),s.push(n);r=wl(),r.prec=i,s.push(r),t.push(Ur),n=s3(),s.push(n)}for(u=s.length-1,n=s[u],t.pop();u>1;)t.pop(),n=vde(s[u-1].value,s[u-2],n),u-=2;return n}function Kv(){var e,t,n;return e=gRt(),di("?")&&(wl(),t=Kv(),ca(":"),n=Kv(),e=nRt(e,t,n)),e}function UQ(){const e=Kv();if(di(","))throw new Error(aT);return e}function XIe(e){Yt=e,Ze=0,ua=Yt.length,Ur=null,KIe();const t=UQ();if(Ur.type!==zA)throw new Error("Unexpect token after expression.");return t}var HQ={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function qQ(e){function t(o,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+o+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(o,a,l){return u=>t(o,u,a,l)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&Ye("Missing arguments to clamp function."),o.length>3&&Ye("Too many arguments to clamp function.");const a=o.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:s,test:n("test",s),if:function(o){o.length<3&&Ye("Missing arguments to if function."),o.length>3&&Ye("Too many arguments to if function.");const a=o.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function yRt(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function VQ(e){e=e||{};const t=e.allowed?Cd(e.allowed):{},n=e.forbidden?Cd(e.forbidden):{},r=e.constants||HQ,i=(e.functions||qQ)(d),s=e.globalvar,o=e.fieldvar,a=Rn(s)?s:p=>`${s}["${p}"]`;let l={},u={},c=0;function d(p){if(It(p))return p;const m=f[p.type];return m==null&&Ye("Unsupported type: "+p.type),m(p)}const f={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return c>0?m:Ft(n,m)?Ye("Illegal identifier: "+m):Ft(r,m)?r[m]:Ft(t,m)?m:(l[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,g=d(p.object);m&&(c+=1);const y=d(p.property);return g===o&&(u[yRt(y)]=1),m&&(c-=1),g+(m?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Ye("Illegal callee type: "+p.callee.type);const m=p.callee.name,g=p.arguments,y=Ft(i,m)&&i[m];return y||Ye("Unrecognized function: "+m),Rn(y)?y(g):y+"("+g.map(d).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(d).join(",")+"]",BinaryExpression:p=>"("+d(p.left)+" "+p.operator+" "+d(p.right)+")",UnaryExpression:p=>"("+p.operator+d(p.argument)+")",ConditionalExpression:p=>"("+d(p.test)+"?"+d(p.consequent)+":"+d(p.alternate)+")",LogicalExpression:p=>"("+d(p.left)+p.operator+d(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(d).join(",")+"}",Property:p=>{c+=1;const m=d(p.key);return c-=1,m+":"+d(p.value)}};function h(p){const m={code:d(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},m}return h.functions=i,h.constants=r,h}const Cde=Symbol("vega_selection_getter");function QIe(e){return(!e.getter||!e.getter[Cde])&&(e.getter=pu(e.field),e.getter[Cde]=!0),e.getter}const WQ="intersect",Sde="union",vRt="vlMulti",bRt="vlPoint",Tde="or",wRt="and",_f="_vgsid_",uT=pu(_f),xRt="E",_Rt="R",ERt="R-E",CRt="R-LE",SRt="R-RE",TRt="E-LT",ARt="E-LTE",kRt="E-GT",IRt="E-GTE",RRt="E-VALID",DRt="E-ONE",AN="index:unit";function Ade(e,t){for(var n=t.fields,r=t.values,i=n.length,s=0,o,a;s<i;++s)if(a=n[s],o=QIe(a)(e),Rp(o)&&(o=Po(o)),Rp(r[s])&&(r[s]=Po(r[s])),Xe(r[s])&&Rp(r[s][0])&&(r[s]=r[s].map(Po)),a.type===xRt){if(Xe(r[s])?!r[s].includes(o):o!==r[s])return!1}else if(a.type===_Rt){if(!sv(o,r[s]))return!1}else if(a.type===SRt){if(!sv(o,r[s],!0,!1))return!1}else if(a.type===ERt){if(!sv(o,r[s],!1,!1))return!1}else if(a.type===CRt){if(!sv(o,r[s],!1,!0))return!1}else if(a.type===TRt){if(o>=r[s])return!1}else if(a.type===ARt){if(o>r[s])return!1}else if(a.type===kRt){if(o<=r[s])return!1}else if(a.type===IRt){if(o<r[s])return!1}else if(a.type===RRt){if(o===null||isNaN(o))return!1}else if(a.type===DRt&&r[s].indexOf(o)===-1)return!1;return!0}function JIe(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],s=r?r[AN]&&r[AN].value:void 0,o=n===WQ,a=i.length,l=0,u,c,d,f,h;l<a;++l)if(u=i[l],s&&o){if(c=c||{},d=c[f=u.unit]||0,d===-1)continue;if(h=Ade(t,u),c[f]=h?-1:++d,h&&s.size===1)return!0;if(!h&&d===s.get(f).count)return!1}else if(h=Ade(t,u),o^h)return h;return a&&o}const ZIe=M_(uT),PRt=ZIe.left,ORt=ZIe.right;function eRe(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],s=r?r[AN]&&r[AN].value:void 0,o=n===WQ,a=uT(t),l=PRt(i,a);if(l===i.length||uT(i[l])!==a)return!1;if(s&&o){if(s.size===1)return!0;if(ORt(i,a)-l<s.size)return!1}return!0}function tRe(e,t){return e.map(n=>An(t.fields?{values:t.fields.map(r=>QIe(r)(n.datum))}:{[_f]:uT(n.datum)},t))}function nRe(e,t,n,r){for(var i=this.context.data[e],s=i?i.values.value:[],o={},a={},l={},u,c,d,f,h,p,m,g,y,v,w=s.length,E=0,C,S;E<w;++E)if(u=s[E],f=u.unit,c=u.fields,d=u.values,c&&d){for(C=0,S=c.length;C<S;++C)h=c[C],m=o[h.field]||(o[h.field]={}),g=m[f]||(m[f]=[]),l[h.field]=y=h.type.charAt(0),v=Wj[`${y}_union`],m[f]=v(g,Rt(d[C]));n&&(g=a[f]||(a[f]=[]),g.push(Rt(d).reduce((T,A,I)=>(T[c[I].field]=A,T),{})))}else h=_f,p=uT(u),m=o[h]||(o[h]={}),g=m[f]||(m[f]=[]),g.push(p),n&&(g=a[f]||(a[f]=[]),g.push({[_f]:p}));if(t=t||Sde,o[_f]?o[_f]=Wj[`${_f}_${t}`](...Object.values(o[_f])):Object.keys(o).forEach(T=>{o[T]=Object.keys(o[T]).map(A=>o[T][A]).reduce((A,I)=>A===void 0?I:Wj[`${l[T]}_${t}`](A,I))}),s=Object.keys(a),n&&s.length){const T=r?bRt:vRt;o[T]=t===Sde?{[Tde]:s.reduce((A,I)=>(A.push(...a[I]),A),[])}:{[wRt]:s.map(A=>({[Tde]:a[A]}))}}return o}var Wj={[`${_f}_union`]:Llt,[`${_f}_intersect`]:Mlt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Po(t[0]),r=Po(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Po(t[0]),r=Po(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const NRt=":",$Rt="@";function Z_(e,t,n,r){t[0].type!==rc&&Ye("First argument to selection functions must be a string literal.");const i=t[0].value,s=t.length>=2&&Un(t).value,o="unit",a=$Rt+o,l=NRt+i;s===WQ&&!Ft(r,a)&&(r[a]=n.getData(i).indataRef(n,o)),Ft(r,l)||(r[l]=n.getData(i).tuplesRef())}function rRe(e){const t=this.context.data[e];return t?t.values.value:[]}function MRt(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function FRt(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Il).insert(t)),1}function LRt(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const qA=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},jRt=qA("format"),iRe=qA("timeFormat"),BRt=qA("utcFormat"),zRt=qA("timeParse"),URt=qA("utcParse"),pR=new Date(2e3,0,1);function s6(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(pR.setYear(2e3),pR.setMonth(e),pR.setDate(t),iRe.call(this,pR,n))}function HRt(e){return s6.call(this,e,1,"%B")}function qRt(e){return s6.call(this,e,1,"%b")}function VRt(e){return s6.call(this,0,2+e,"%A")}function WRt(e){return s6.call(this,0,2+e,"%a")}const GRt=":",YRt="@",eH="%",sRe="$";function GQ(e,t,n,r){t[0].type!==rc&&Ye("First argument to data functions must be a string literal.");const i=t[0].value,s=GRt+i;if(!Ft(s,r))try{r[s]=n.getData(i).tuplesRef()}catch{}}function KRt(e,t,n,r){t[0].type!==rc&&Ye("First argument to indata must be a string literal."),t[1].type!==rc&&Ye("Second argument to indata must be a string literal.");const i=t[0].value,s=t[1].value,o=YRt+s;Ft(o,r)||(r[o]=n.getData(i).indataRef(n,s))}function Ba(e,t,n,r){if(t[0].type===rc)kde(n,r,t[0].value);else for(e in n.scales)kde(n,r,e)}function kde(e,t,n){const r=eH+n;if(!Ft(t,r))try{t[r]=e.scaleRef(n)}catch{}}function xh(e,t){if(It(e)){const n=t.scales[e];return n&&CU(n.value)?n.value:void 0}else if(Rn(e))return CU(e)?e:void 0}function XRt(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Ba,n._range=Ba,n._scale=Ba;const r=i=>"_["+(i.type===rc?vt(eH+i.value):vt(eH)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function YQ(e,t){return function(n,r,i){if(n){const s=xh(n,(i||this).context);return s&&s.path[e](r)}else return t(r)}}const QRt=YQ("area",UEe),JRt=YQ("bounds",GEe),ZRt=YQ("centroid",QEe);function eDt(e,t){const n=xh(e,(t||this).context);return n&&n.scale()}function tDt(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function KQ(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function nDt(){return KQ(this.context.dataflow,"warn",arguments)}function rDt(){return KQ(this.context.dataflow,"info",arguments)}function iDt(){return KQ(this.context.dataflow,"debug",arguments)}function Gj(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function tH(e){const t=Jf(e),n=Gj(t.r),r=Gj(t.g),i=Gj(t.b);return .2126*n+.7152*r+.0722*i}function sDt(e,t){const n=tH(e),r=tH(t),i=Math.max(n,r),s=Math.min(n,r);return(i+.05)/(s+.05)}function oDt(){const e=[].slice.call(arguments);return e.unshift({}),An(...e)}function oRe(e,t){return e===t||e!==e&&t!==t?!0:Xe(e)?Xe(t)&&e.length===t.length?aDt(e,t):!1:Dt(e)&&Dt(t)?aRe(e,t):!1}function aDt(e,t){for(let n=0,r=e.length;n<r;++n)if(!oRe(e[n],t[n]))return!1;return!0}function aRe(e,t){for(const n in e)if(!oRe(e[n],t[n]))return!1;return!0}function Ide(e){return t=>aRe(e,t)}function lDt(e,t,n,r,i,s){const o=this.context.dataflow,a=this.context.data[e],l=a.input,u=o.stamp();let c=a.changes,d,f;if(o._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=o.changeset(),c.stamp=u,o.runAfter(()=>{a.modified=!0,o.pulse(l,c).run()},!0,1)),n&&(d=n===!0?Il:Xe(n)||K_(n)?n:Ide(n),c.remove(d)),t&&c.insert(t),r&&(d=Ide(r),l.value.some(d)?c.remove(d):c.insert(r)),i)for(f in s)c.modify(i,f,s[f]);return 1}function uDt(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function cDt(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Rde={};function dDt(e,t){const n=Rde[t]||(Rde[t]=pu(t));return Xe(e)?e.map(n):n(e)}function o6(e){return Xe(e)||ArrayBuffer.isView(e)?e:null}function XQ(e){return o6(e)||(It(e)?e:null)}function fDt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o6(e).join(...n)}function hDt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XQ(e).indexOf(...n)}function pDt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XQ(e).lastIndexOf(...n)}function mDt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XQ(e).slice(...n)}function gDt(e,t,n){return Rn(n)&&Ye("Function argument passed to replace."),!It(t)&&!xA(t)&&Ye("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function yDt(e){return o6(e).slice().reverse()}function vDt(e){return o6(e).slice().sort(q_)}function bDt(e,t,n){return LM(e||0,t||0,n||0)}function wDt(e,t){const n=xh(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function xDt(e,t){const n=xh(e,(t||this).context);return n?n.copy():void 0}function _Dt(e,t){const n=xh(e,(t||this).context);return n?n.domain():[]}function EDt(e,t,n){const r=xh(e,(n||this).context);return r?Xe(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function CDt(e,t){const n=xh(e,(t||this).context);return n&&n.range?n.range():[]}function SDt(e,t,n){const r=xh(e,(n||this).context);return r?r(t):void 0}function TDt(e,t,n,r,i){e=xh(e,(i||this).context);const s=IX(t,n);let o=e.domain(),a=o[0],l=Un(o),u=Fo;return l-a?u=EX(e,a,l):e=(e.interpolator?dr("sequential")().interpolator(e.interpolator()):dr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(o=e.ticks(+r||15),a!==o[0]&&o.unshift(a),l!==Un(o)&&o.push(l)),o.forEach(c=>s.stop(u(c),e(c))),s}function ADt(e,t,n){const r=xh(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function kDt(e){let t=null;return function(n){return n?Ux(n,t=t||Wv(e)):e}}const lRe=e=>e.data;function uRe(e,t){const n=rRe.call(t,e);return n.root&&n.root.lookup||{}}function IDt(e,t,n){const r=uRe(e,this),i=r[t],s=r[n];return i&&s?i.path(s).map(lRe):void 0}function RDt(e,t){const n=uRe(e,this)[t];return n?n.ancestors().map(lRe):void 0}const cRe=()=>typeof window<"u"&&window||null;function DDt(){const e=cRe();return e?e.screen:{}}function PDt(){const e=cRe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function ODt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function dRe(e,t,n){if(!e)return[];const[r,i]=e,s=new qi().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return nQ(o,s,NDt(t))}function NDt(e){let t=null;if(e){const n=Rt(e.marktype),r=Rt(e.markname);t=i=>(!n.length||n.some(s=>i.marktype===s))&&(!r.length||r.some(s=>i.name===s))}return t}function $Dt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Rt(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function MDt(e){return Rt(e).reduce((t,n,r)=>{let[i,s]=n;return t+=r==0?`M ${i},${s} `:r===e.length-1?" Z":`L ${i},${s} `},"")}function FDt(e,t,n){const{x:r,y:i,mark:s}=n,o=new qi().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<o.x1&&(o.x1=l),l>o.x2&&(o.x2=l),u<o.y1&&(o.y1=u),u>o.y2&&(o.y2=u);return o.translate(r,i),dRe([[o.x1,o.y1],[o.x2,o.y2]],e,s).filter(l=>LDt(l.x,l.y,t))}function LDt(e,t,n){let r=0;for(let i=0,s=n.length-1;i<n.length;s=i++){const[o,a]=n[s],[l,u]=n[i];u>t!=a>t&&e<(o-l)*(t-u)/(a-u)+l&&r++}return r&1}const cT={random(){return yu()},cumulativeNormal:EA,cumulativeLogNormal:IM,cumulativeUniform:OM,densityNormal:TM,densityLogNormal:kM,densityUniform:PM,quantileNormal:CA,quantileLogNormal:RM,quantileUniform:NM,sampleNormal:_A,sampleLogNormal:AM,sampleUniform:DM,isArray:Xe,isBoolean:fm,isDate:Rp,isDefined(e){return e!==void 0},isNumber:yr,isObject:Dt,isRegExp:xA,isString:It,isTuple:K_,isValid(e){return e!=null&&e===e},toBoolean:yM,toDate(e){return vM(e)},toNumber:Po,toString:bM,indexof:hDt,join:fDt,lastindexof:pDt,replace:gDt,reverse:yDt,sort:vDt,slice:mDt,flush:mK,lerp:yK,merge:oDt,pad:vK,peek:Un,pluck:dDt,span:W_,inrange:sv,truncate:bK,rgb:Jf,lab:$v,hcl:j2,hsl:L2,luminance:tH,contrast:sDt,sequence:Ma,format:jRt,utcFormat:BRt,utcParse:URt,utcOffset:IK,utcSequence:DK,timeFormat:iRe,timeParse:zRt,timeOffset:kK,timeSequence:RK,timeUnitSpecifier:_K,monthFormat:HRt,monthAbbrevFormat:qRt,dayFormat:VRt,dayAbbrevFormat:WRt,quarter:cK,utcquarter:dK,week:SK,utcweek:AK,dayofyear:CK,utcdayofyear:TK,warn:nDt,info:rDt,debug:iDt,extent(e){return Ed(e)},inScope:tDt,intersect:dRe,clampRange:fK,pinchDistance:uDt,pinchAngle:cDt,screen:DDt,containerSize:ODt,windowSize:PDt,bandspace:bDt,setdata:FRt,pathShape:kDt,panLinear:oK,panLog:aK,panPow:lK,panSymlog:uK,zoomLinear:pM,zoomLog:mM,zoomPow:eT,zoomSymlog:gM,encode:LRt,modify:lDt,lassoAppend:$Dt,lassoPath:MDt,intersectLasso:FDt},jDt=["view","item","group","xy","x","y"],BDt="event.vega.",fRe="this.",QQ={},hRe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${vt(sRe+e)}]`,functions:zDt,constants:HQ,visitors:QQ},nH=VQ(hRe);function zDt(e){const t=qQ(e);jDt.forEach(n=>t[n]=BDt+n);for(const n in cT)t[n]=fRe+n;return An(t,XRt(e,cT,QQ)),t}function gs(e,t,n){return arguments.length===1?cT[e]:(cT[e]=t,n&&(QQ[e]=n),nH&&(nH.functions[e]=fRe+e),this)}gs("bandwidth",wDt,Ba);gs("copy",xDt,Ba);gs("domain",_Dt,Ba);gs("range",CDt,Ba);gs("invert",EDt,Ba);gs("scale",SDt,Ba);gs("gradient",TDt,Ba);gs("geoArea",QRt,Ba);gs("geoBounds",JRt,Ba);gs("geoCentroid",ZRt,Ba);gs("geoShape",ADt,Ba);gs("geoScale",eDt,Ba);gs("indata",MRt,KRt);gs("data",rRe,GQ);gs("treePath",IDt,GQ);gs("treeAncestors",RDt,GQ);gs("vlSelectionTest",JIe,Z_);gs("vlSelectionIdTest",eRe,Z_);gs("vlSelectionResolve",nRe,Z_);gs("vlSelectionTuples",tRe);function rh(e,t){const n={};let r;try{e=It(e)?e:vt(e)+"",r=XIe(e)}catch{Ye("Expression parse error: "+e)}r.visit(s=>{if(s.type!==HIe)return;const o=s.callee.name,a=hRe.visitors[o];a&&a(o,s.arguments,t,n)});const i=nH(r);return i.globals.forEach(s=>{const o=sRe+s;!Ft(n,o)&&t.getSignal(s)&&(n[o]=t.signalRef(s))}),{$expr:An({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function UDt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const HDt=Cd(["rule"]),Dde=Cd(["group","image","rect"]);function qDt(e,t){let n="";return HDt[t]||(e.x2&&(e.x?(Dde[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Dde[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function JQ(e){return(e+"").toLowerCase()}function VDt(e){return JQ(e)==="operator"}function WDt(e){return JQ(e)==="collect"}function yC(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function GDt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var YDt={operator:(e,t)=>yC(e,["_"],t.code),parameter:(e,t)=>yC(e,["datum","_"],t.code),event:(e,t)=>yC(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return yC(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const s in r){const o="o["+vt(s)+"]";i+=`$=${r[s].code};if(${o}!==$)${o}=$,m=1;`}return i+=qDt(r,n),i+="return m;",yC(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(vt).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(s,o)=>{const a=t[o];let l,u;return s.path?(l=`a${s.path}`,u=`b${s.path}`):((n=n||{})["f"+o]=s,l=`this.f${o}(a)`,u=`this.f${o}(b)`),GDt(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function KDt(e){const t=this;VDt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function XDt(e){const t=this;if(e.params){const n=t.get(e.id);n||Ye("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function QDt(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=Xe(i)?i.map(s=>Pde(s,n,t)):Pde(i,n,t)}return t}function Pde(e,t,n){if(!e||!Dt(e))return e;for(let r=0,i=Ode.length,s;r<i;++r)if(s=Ode[r],Ft(e,s.key))return s.parse(e,t,n);return e}var Ode=[{key:"$ref",parse:JDt},{key:"$key",parse:ePt},{key:"$expr",parse:ZDt},{key:"$field",parse:tPt},{key:"$encode",parse:rPt},{key:"$compare",parse:nPt},{key:"$context",parse:iPt},{key:"$subflow",parse:sPt},{key:"$tupleid",parse:oPt}];function JDt(e,t){return t.get(e.$ref)||Ye("Operator not defined: "+e.$ref)}function ZDt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=$l(t.parameterExpression(e.$expr),e.$fields))}function ePt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=gK(e.$key,e.$flat,t.expr.codegen))}function tPt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=pu(e.$field,e.$name,t.expr.codegen))}function nPt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Rt(e.$compare).map(i=>i&&i.$tupleid?nn:i);return t.fn[n]||(t.fn[n]=hK(r,e.$order,t.expr.codegen))}function rPt(e,t){const n=e.$encode,r={};for(const i in n){const s=n[i];r[i]=$l(t.encodeExpression(s.$expr),s.$fields),r[i].output=s.$output}return r}function iPt(e,t){return t}function sPt(e,t){const n=e.$subflow;return function(r,i,s){const o=t.fork().parse(n),a=o.get(n.operators[0].id),l=o.signals.parent;return l&&l.set(s),a.detachSubflow=()=>t.detach(o),a}}function oPt(){return nn}function aPt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(s=>t.get(s)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(s=>t.get(s)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&Ye("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function lPt(e){var t=this,n=Dt(n=e.source)?n.$ref:n,r=t.get(n),i=null,s=e.update,o=void 0;r||Ye("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),s&&s.$expr&&(s.$params&&(o=t.parseParameters(s.$params)),s=t.handlerExpression(s.$expr)),t.update(e,r,i,s,o)}const uPt={skip:!0};function cPt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(s=>{const o=t.signals[s];e.signals(s,o)&&(r[s]=o.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(s=>{const o=t.data[s];e.data(s,o)&&(i[s]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(s=>s.getState(e))),n}function dPt(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(s=>{n.update(t.signals[s],i[s],uPt)}),Object.keys(r||{}).forEach(s=>{n.pulse(t.data[s].input,n.changeset().remove(Il).insert(r[s]))}),(e.subcontext||[]).forEach((s,o)=>{const a=t.subcontext[o];a&&a.setState(s)})}function pRe(e,t,n,r){return new mRe(e,t,n,r)}function mRe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||YDt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Nde(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}mRe.prototype=Nde.prototype={fork(){const e=new Nde(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),WDt(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let s=n.get(e.parent.$ref);s?(r.connect(s,[t]),t.targets().add(s)):(n.unresolved=n.unresolved||[]).push(()=>{s=n.get(e.parent.$ref),r.connect(s,[t]),t.targets().add(s)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const s in e.data){const o=n.data[s]||(n.data[s]={});e.data[s].forEach(a=>o[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[JQ(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:UDt,parseOperator:KDt,parseOperatorParameters:XDt,parseParameters:QDt,parseStream:aPt,parseUpdate:lPt,getState:cPt,setState:dPt};function fPt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),gRe(t,e.description()))}function gRe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function hPt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const Yj="default";function pPt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:Yj,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,s=i?It(i)?i:i.user:Yj,o=r.item&&r.item.cursor||null;return i&&s===i.user&&o==i.item?i:{user:s,item:o}}),e.add(null,function(n){let r=n.cursor,i=this.value;return It(r)||(i=r.item,r=r.user),rH(e,r&&r!==Yj?r:i||r),i},{cursor:t})}function rH(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function kN(e,t){var n=e._runtime.data;return Ft(n,t)||Ye("Unrecognized data set: "+t),n[t]}function mPt(e,t){return arguments.length<2?kN(this,e).values.value:a6.call(this,e,Nb().remove(Il).insert(t))}function a6(e,t){LTe(t)||Ye("Second argument to changes must be a changeset.");const n=kN(this,e);return n.modified=!0,this.pulse(n.input,t)}function gPt(e,t){return a6.call(this,e,Nb().insert(t))}function yPt(e,t){return a6.call(this,e,Nb().remove(t))}function yRe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function vRe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function l6(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function vPt(e){var t=l6(e),n=yRe(e),r=vRe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(s){e.error(s)}})}function bPt(e,t,n){var r=e._renderer,i=r&&r.canvas(),s,o,a;return i&&(a=l6(e),o=t.changedTouches?t.changedTouches[0]:t,s=JM(o,i),s[0]-=a[0],s[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=wPt(e,n,s),t}function wPt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(o){var a=r,l;if(o){for(l=t;l;l=l.mark.group)if(l.mark.name===o){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function s(o){if(!o)return n;It(o)&&(o=i(o));const a=n.slice();for(;o;)a[0]-=o.x||0,a[1]-=o.y||0,o=o.mark&&o.mark.group;return a}return{view:pa(e),item:pa(t||{}),group:i,xy:s,x:o=>s(o)[0],y:o=>s(o)[1]}}const $de="view",xPt="timer",_Pt="window",EPt={trap:!1};function CPt(e){const t=An({defaults:{}},e),n=(r,i)=>{i.forEach(s=>{Xe(r[s])&&(r[s]=Cd(r[s]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function bRe(e,t,n,r){e._eventListeners.push({type:n,sources:Rt(t),handler:r})}function SPt(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function mR(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Dt(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function TPt(e,t,n){var r=this,i=new SM(n),s=function(u,c){r.runAsync(null,()=>{e===$de&&SPt(r,t)&&u.preventDefault(),i.receive(bPt(r,u,c))})},o;if(e===xPt)mR(r,"timer",t)&&r.timer(s,t);else if(e===$de)mR(r,"view",t)&&r.addEventListener(t,s,EPt);else if(e===_Pt?mR(r,"window",t)&&typeof window<"u"&&(o=[window]):typeof document<"u"&&mR(r,"selector",t)&&(o=Array.from(document.querySelectorAll(e))),!o)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=o.length;a<l;++a)o[a].addEventListener(t,s);bRe(r,o,t,s)}return i}function Mde(e){return e.item}function Fde(e){return e.item.mark.source}function Lde(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function APt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",Mde),Fde,Lde(e)),this.on(this.events("view","pointerout",Mde),Fde,Lde(t)),this}function kPt(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,s,o,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(o=r[i],s=o.sources.length;--s>=0;)o.sources[s].removeEventListener(o.type,o.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function ou(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const IPt="vega-bind",RPt="vega-bind-name",DPt="vega-bind-radio";function PPt(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:o=>{o!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,o)})}},r.debounce&&(i.update=pK(r.debounce,i.update))),(r.input==null&&r.element?OPt:$Pt)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function OPt(e,t,n,r){const i=n.event||"input",s=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,s),bRe(r,t,i,s),e.set=o=>{t.value=o,t.dispatchEvent(NPt(i))}}function NPt(e){return typeof Event<"u"?new Event(e):{type:e}}function $Pt(e,t,n,r){const i=r.signal(n.signal),s=ou("div",{class:IPt}),o=n.input==="radio"?s:s.appendChild(ou("label"));o.appendChild(ou("span",{class:RPt},n.name||n.signal)),t.appendChild(s);let a=MPt;switch(n.input){case"checkbox":a=FPt;break;case"select":a=LPt;break;case"radio":a=jPt;break;case"range":a=BPt;break}a(e,o,n,i)}function MPt(e,t,n,r){const i=ou("input");for(const s in n)s!=="signal"&&s!=="element"&&i.setAttribute(s==="input"?"type":s,n[s]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=s=>i.value=s}function FPt(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const s=ou("input",i);t.appendChild(s),s.addEventListener("change",()=>e.update(s.checked)),e.elements=[s],e.set=o=>s.checked=!!o||null}function LPt(e,t,n,r){const i=ou("select",{name:n.signal}),s=n.labels||[];n.options.forEach((o,a)=>{const l={value:o};IN(o,r)&&(l.selected=!0),i.appendChild(ou("option",l,(s[a]||o)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=o=>{for(let a=0,l=n.options.length;a<l;++a)if(IN(n.options[a],o)){i.selectedIndex=a;return}}}function jPt(e,t,n,r){const i=ou("span",{class:DPt}),s=n.labels||[];t.appendChild(i),e.elements=n.options.map((o,a)=>{const l={type:"radio",name:n.signal,value:o};IN(o,r)&&(l.checked=!0);const u=ou("input",l);u.addEventListener("change",()=>e.update(o));const c=ou("label",{},(s[a]||o)+"");return c.prepend(u),i.appendChild(c),u}),e.set=o=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)IN(a[u].value,o)&&(a[u].checked=!0)}}function BPt(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,s=n.min||Math.min(0,i,+r)||0,o=n.step||K0(s,i,100),a=ou("input",{type:"range",name:n.signal,min:s,max:i,step:o});a.value=r;const l=ou("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function IN(e,t){return e===t||e+""==t+""}function wRe(e,t,n,r,i,s){return t=t||new r(e.loader()),t.initialize(n,yRe(e),vRe(e),l6(e),i,s).background(e.background())}function ZQ(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function zPt(e,t,n,r){const i=new r(e.loader(),ZQ(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,l6(e),e);return t&&t.handlers().forEach(s=>{i.on(s.type,s.handler)}),i}function UPt(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,s=ZM(r);e=n._el=e?Kj(n,e,!0):null,fPt(n),s||n.error("Unrecognized renderer type: "+r);const o=s.handler||BA,a=e?s.renderer:s.headless;return n._renderer=a?wRe(n,n._renderer,e,a):null,n._handler=zPt(n,n._handler,e,o),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=Kj(n,t,!0):e.appendChild(ou("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=Kj(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{PPt(n,l.element||t,l)})),n}function Kj(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const vC=e=>+e||0,HPt=e=>({top:e,bottom:e,left:e,right:e});function jde(e){return Dt(e)?{top:vC(e.top),bottom:vC(e.bottom),left:vC(e.left),right:vC(e.right)}:HPt(vC(e))}async function eJ(e,t,n,r){const i=ZM(t),s=i&&i.headless;return s||Ye("Unrecognized renderer type: "+t),await e.runAsync(),wRe(e,null,null,s,n,r).renderAsync(e._scenegraph.root)}async function qPt(e,t){e!==C0.Canvas&&e!==C0.SVG&&e!==C0.PNG&&Ye("Unrecognized image type: "+e);const n=await eJ(this,e,t);return e===C0.SVG?VPt(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function VPt(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function WPt(e,t){return(await eJ(this,C0.Canvas,e,t)).canvas()}async function GPt(e){return(await eJ(this,C0.SVG,e)).svg()}function YPt(e,t,n){return pRe(e,Lx,cT,n).parse(t)}function KPt(e){var t=this._runtime.scales;return Ft(t,e)||Ye("Unrecognized scale or projection: "+e),t[e].value}var xRe="width",_Re="height",tJ="padding",Bde={skip:!0};function ERe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===tJ?r.left+r.right:0)}function CRe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===tJ?r.top+r.bottom:0)}function XPt(e){var t=e._signals,n=t[xRe],r=t[_Re],i=t[tJ];function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=ERe(e,a.size),s()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=CRe(e,a.size),s()},{size:r});const o=e.add(null,s,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function QPt(e,t,n,r,i,s){this.runAfter(o=>{let a=0;o._autosize=0,o.width()!==n&&(a=1,o.signal(xRe,n,Bde),o._resizeWidth.skip(!0)),o.height()!==r&&(a=1,o.signal(_Re,r,Bde),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),(o._origin[0]!==i[0]||o._origin[1]!==i[1])&&(o._resize=1,o._origin=i),a&&o.run("enter"),s&&o.runAfter(l=>l.resize())},!1,1)}function JPt(e){return this._runtime.getState(e||{data:ZPt,signals:e3t,recurse:!0})}function ZPt(e,t){return t.modified&&Xe(t.input.value)&&!e.startsWith("_:vega:_")}function e3t(e,t){return!(e==="parent"||t instanceof Lx.proxy)}function t3t(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function n3t(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(adt(n,t))}function r3t(e,t,n,r){const i=e.element();i&&i.setAttribute("title",i3t(r))}function i3t(e){return e==null?"":Xe(e)?SRe(e):Dt(e)&&!Rp(e)?s3t(e):e+""}function s3t(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(Xe(n)?SRe(n):TRe(n))}).join(`
`)}function SRe(e){return"["+e.map(TRe).join(", ")+"]"}function TRe(e){return Xe(e)?"[]":Dt(e)&&!Rp(e)?"{}":e}function o3t(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function ARe(e,t){const n=this;if(t=t||{},ex.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const s=An({},e.locale,t.locale);n.locale(kTe(s.number,s.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||C0.Canvas,n._scenegraph=new wke;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||r3t,n._redraw=!0,n._handler=new BA().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=CPt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=YPt(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(s=>({state:null,param:An({},s)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=ERe(n,n._width),n._viewHeight=CRe(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,XPt(n),hPt(n),pPt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function gR(e,t){return Ft(e._signals,t)?e._signals[t]:Ye("Unrecognized signal name: "+vt(t))}function kRe(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function zde(e,t,n,r){let i=kRe(n,r);return i||(i=ZQ(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function Ude(e,t,n){const r=kRe(t,n);return r&&t._targets.remove(r),e}Ct(ARe,ex,{async evaluate(e,t,n){if(await ex.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,vPt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&WP(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&gRe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=gR(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",jde(e)):jde(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(ZM(e)||Ye("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(ex.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(gR(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:QPt,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=ZQ(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,s;--r>=0;)if(s=n[r].type,i=n[r].handler,e===s&&(t===i||t===i.raw)){this._handler.off(s,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return zde(this,e,gR(this,e),t)},removeSignalListener(e,t){return Ude(this,gR(this,e),t)},addDataListener(e,t){return zde(this,e,kN(this,e).values,t)},removeDataListener(e,t){return Ude(this,kN(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=rH(this,null);this._globalCursor=!!e,t&&rH(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:n3t,events:TPt,finalize:kPt,hover:APt,data:mPt,change:a6,insert:gPt,remove:yPt,scale:KPt,initialize:UPt,toImageURL:qPt,toCanvas:WPt,toSVG:GPt,getState:JPt,setState:t3t,_watchPixelRatio:o3t});function IRe(e){const t=this.context.data[e];return t?t.values.value:[]}function a3t(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function l3t(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Il).insert(t)),1}function u3t(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const VA=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},c3t=VA("format"),RRe=VA("timeFormat"),d3t=VA("utcFormat"),f3t=VA("timeParse"),h3t=VA("utcParse"),yR=new Date(2e3,0,1);function u6(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(yR.setYear(2e3),yR.setMonth(e),yR.setDate(t),RRe.call(this,yR,n))}function p3t(e){return u6.call(this,e,1,"%B")}function m3t(e){return u6.call(this,e,1,"%b")}function g3t(e){return u6.call(this,0,2+e,"%A")}function y3t(e){return u6.call(this,0,2+e,"%a")}const v3t=":",b3t="@",iH="%",w3t="$";function nJ(e,t,n,r){t[0].type!==rc&&Ye("First argument to data functions must be a string literal.");const i=t[0].value,s=v3t+i;if(!Ft(s,r))try{r[s]=n.getData(i).tuplesRef()}catch{}}function x3t(e,t,n,r){t[0].type!==rc&&Ye("First argument to indata must be a string literal."),t[1].type!==rc&&Ye("Second argument to indata must be a string literal.");const i=t[0].value,s=t[1].value,o=b3t+s;Ft(o,r)||(r[o]=n.getData(i).indataRef(n,s))}function za(e,t,n,r){if(t[0].type===rc)Hde(n,r,t[0].value);else for(e in n.scales)Hde(n,r,e)}function Hde(e,t,n){const r=iH+n;if(!Ft(t,r))try{t[r]=e.scaleRef(n)}catch{}}function _h(e,t){if(It(e)){const n=t.scales[e];return n&&CU(n.value)?n.value:void 0}}function _3t(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=za,n._range=za,n._scale=za;const r=i=>"_["+(i.type===rc?vt(iH+i.value):vt(iH)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function rJ(e,t){return function(n,r,i){if(n){const s=_h(n,(i||this).context);return s&&s.path[e](r)}else return t(r)}}const E3t=rJ("area",UEe),C3t=rJ("bounds",GEe),S3t=rJ("centroid",QEe);function T3t(e,t){const n=_h(e,(t||this).context);return n&&n.scale()}function A3t(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function iJ(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function k3t(){return iJ(this.context.dataflow,"warn",arguments)}function I3t(){return iJ(this.context.dataflow,"info",arguments)}function R3t(){return iJ(this.context.dataflow,"debug",arguments)}function Xj(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function sH(e){const t=Jf(e),n=Xj(t.r),r=Xj(t.g),i=Xj(t.b);return .2126*n+.7152*r+.0722*i}function D3t(e,t){const n=sH(e),r=sH(t),i=Math.max(n,r),s=Math.min(n,r);return(i+.05)/(s+.05)}function P3t(){const e=[].slice.call(arguments);return e.unshift({}),An(...e)}function DRe(e,t){return e===t||e!==e&&t!==t?!0:Xe(e)?Xe(t)&&e.length===t.length?O3t(e,t):!1:Dt(e)&&Dt(t)?PRe(e,t):!1}function O3t(e,t){for(let n=0,r=e.length;n<r;++n)if(!DRe(e[n],t[n]))return!1;return!0}function PRe(e,t){for(const n in e)if(!DRe(e[n],t[n]))return!1;return!0}function qde(e){return t=>PRe(e,t)}function N3t(e,t,n,r,i,s){const o=this.context.dataflow,a=this.context.data[e],l=a.input,u=o.stamp();let c=a.changes,d,f;if(o._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=o.changeset(),c.stamp=u,o.runAfter(()=>{a.modified=!0,o.pulse(l,c).run()},!0,1)),n&&(d=n===!0?Il:Xe(n)||K_(n)?n:qde(n),c.remove(d)),t&&c.insert(t),r&&(d=qde(r),l.value.some(d)?c.remove(d):c.insert(r)),i)for(f in s)c.modify(i,f,s[f]);return 1}function $3t(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function M3t(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Vde={};function F3t(e,t){const n=Vde[t]||(Vde[t]=pu(t));return Xe(e)?e.map(n):n(e)}function c6(e){return Xe(e)||ArrayBuffer.isView(e)?e:null}function sJ(e){return c6(e)||(It(e)?e:null)}function L3t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return c6(e).join(...n)}function j3t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sJ(e).indexOf(...n)}function B3t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sJ(e).lastIndexOf(...n)}function z3t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sJ(e).slice(...n)}function U3t(e,t,n){return Rn(n)&&Ye("Function argument passed to replace."),!It(t)&&!xA(t)&&Ye("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function H3t(e){return c6(e).slice().reverse()}function q3t(e){return c6(e).slice().sort(q_)}function V3t(e,t,n){return LM(e||0,t||0,n||0)}function W3t(e,t){const n=_h(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function G3t(e,t){const n=_h(e,(t||this).context);return n?n.copy():void 0}function Y3t(e,t){const n=_h(e,(t||this).context);return n?n.domain():[]}function K3t(e,t,n){const r=_h(e,(n||this).context);return r?Xe(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function X3t(e,t){const n=_h(e,(t||this).context);return n&&n.range?n.range():[]}function Q3t(e,t,n){const r=_h(e,(n||this).context);return r?r(t):void 0}function J3t(e,t,n,r,i){let s=typeof e=="string"?_h(e,(i||this).context):e;const o=IX(t,n);let a=s.domain(),l=a[0],u=Un(a),c=Fo;return u-l?c=EX(s,l,u):s=(s.interpolator?dr("sequential")().interpolator(s.interpolator()):dr("linear")().interpolate(s.interpolate()).range(s.range())).domain([l=0,u=1]),s.ticks&&(a=s.ticks(+r||15),l!==a[0]&&a.unshift(l),u!==Un(a)&&a.push(u)),a.forEach(d=>o.stop(c(d),s(d))),o}function Z3t(e,t,n){const r=_h(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function eOt(e){let t=null;return function(n){return n?Ux(n,t=t||Wv(e)):e}}const ORe=e=>e.data;function NRe(e,t){const n=IRe.call(t,e);return n.root&&n.root.lookup||{}}function tOt(e,t,n){const r=NRe(e,this),i=r[t],s=r[n];return i&&s?i.path(s).map(ORe):void 0}function nOt(e,t){const n=NRe(e,this)[t];return n?n.ancestors().map(ORe):void 0}const $Re=()=>typeof window<"u"&&window||null;function rOt(){const e=$Re();return e?e.screen:{}}function iOt(){const e=$Re();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function sOt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function MRe(e,t,n){if(!e)return[];const[r,i]=e,s=new qi().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return nQ(o,s,oOt(t))}function oOt(e){let t=null;if(e){const n=Rt(e.marktype),r=Rt(e.markname);t=i=>(!n.length||n.some(s=>i.marktype===s))&&(!r.length||r.some(s=>i.name===s))}return t}function aOt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Rt(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function lOt(e){return Rt(e).reduce((t,n,r)=>{let[i,s]=n;return t+=r==0?`M ${i},${s} `:r===e.length-1?" Z":`L ${i},${s} `},"")}function uOt(e,t,n){const{x:r,y:i,mark:s}=n,o=new qi().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<o.x1&&(o.x1=l),l>o.x2&&(o.x2=l),u<o.y1&&(o.y1=u),u>o.y2&&(o.y2=u);return o.translate(r,i),MRe([[o.x1,o.y1],[o.x2,o.y2]],e,s).filter(l=>cOt(l.x,l.y,t))}function cOt(e,t,n){let r=0;for(let i=0,s=n.length-1;i<n.length;s=i++){const[o,a]=n[s],[l,u]=n[i];u>t!=a>t&&e<(o-l)*(t-u)/(a-u)+l&&r++}return r&1}const RN={random(){return yu()},cumulativeNormal:EA,cumulativeLogNormal:IM,cumulativeUniform:OM,densityNormal:TM,densityLogNormal:kM,densityUniform:PM,quantileNormal:CA,quantileLogNormal:RM,quantileUniform:NM,sampleNormal:_A,sampleLogNormal:AM,sampleUniform:DM,isArray:Xe,isBoolean:fm,isDate:Rp,isDefined(e){return e!==void 0},isNumber:yr,isObject:Dt,isRegExp:xA,isString:It,isTuple:K_,isValid(e){return e!=null&&e===e},toBoolean:yM,toDate(e){return vM(e)},toNumber:Po,toString:bM,indexof:j3t,join:L3t,lastindexof:B3t,replace:U3t,reverse:H3t,sort:q3t,slice:z3t,flush:mK,lerp:yK,merge:P3t,pad:vK,peek:Un,pluck:F3t,span:W_,inrange:sv,truncate:bK,rgb:Jf,lab:$v,hcl:j2,hsl:L2,luminance:sH,contrast:D3t,sequence:Ma,format:c3t,utcFormat:d3t,utcParse:h3t,utcOffset:IK,utcSequence:DK,timeFormat:RRe,timeParse:f3t,timeOffset:kK,timeSequence:RK,timeUnitSpecifier:_K,monthFormat:p3t,monthAbbrevFormat:m3t,dayFormat:g3t,dayAbbrevFormat:y3t,quarter:cK,utcquarter:dK,week:SK,utcweek:AK,dayofyear:CK,utcdayofyear:TK,warn:k3t,info:I3t,debug:R3t,extent(e){return Ed(e)},inScope:A3t,intersect:MRe,clampRange:fK,pinchDistance:$3t,pinchAngle:M3t,screen:rOt,containerSize:sOt,windowSize:iOt,bandspace:V3t,setdata:l3t,pathShape:eOt,panLinear:oK,panLog:aK,panPow:lK,panSymlog:uK,zoomLinear:pM,zoomLog:mM,zoomPow:eT,zoomSymlog:gM,encode:u3t,modify:N3t,lassoAppend:aOt,lassoPath:lOt,intersectLasso:uOt},dOt=["view","item","group","xy","x","y"],fOt="event.vega.",FRe="this.",oJ={},hOt={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${vt(w3t+e)}]`,functions:pOt,constants:HQ,visitors:oJ},Wde=VQ(hOt);function pOt(e){const t=qQ(e);dOt.forEach(n=>t[n]=fOt+n);for(const n in RN)t[n]=FRe+n;return An(t,_3t(e,RN,oJ)),t}function as(e,t,n){return arguments.length===1?RN[e]:(RN[e]=t,n&&(oJ[e]=n),Wde&&(Wde.functions[e]=FRe+e),this)}as("bandwidth",W3t,za);as("copy",G3t,za);as("domain",Y3t,za);as("range",X3t,za);as("invert",K3t,za);as("scale",Q3t,za);as("gradient",J3t,za);as("geoArea",E3t,za);as("geoBounds",C3t,za);as("geoCentroid",S3t,za);as("geoShape",Z3t,za);as("geoScale",T3t,za);as("indata",a3t,x3t);as("data",IRe,nJ);as("treePath",tOt,nJ);as("treeAncestors",nOt,nJ);as("vlSelectionTest",JIe,Z_);as("vlSelectionIdTest",eRe,Z_);as("vlSelectionResolve",nRe,Z_);as("vlSelectionTuples",tRe);const mOt="view",DN="[",PN="]",LRe="{",jRe="}",gOt=":",BRe=",",yOt="@",vOt=">",bOt=/[[\]{}]/,wOt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let zRe,URe;function Pg(e,t,n){return zRe=t||mOt,URe=n||wOt,HRe(e.trim()).map(oH)}function xOt(e){return URe[e]}function e2(e,t,n,r,i){const s=e.length;let o=0,a;for(;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function HRe(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=e2(e,i,BRe,DN+LRe,PN+jRe),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function oH(e){return e[0]==="["?_Ot(e):EOt(e)}function _Ot(e){const t=e.length;let n=1,r;if(n=e2(e,n,PN,DN,PN),n===t)throw"Empty between selector: "+e;if(r=HRe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==vOt)throw"Expected '>' after between selector: "+e;r=r.map(oH);const i=oH(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function EOt(e){const t={source:zRe},n=[];let r=[0,0],i=0,s=0,o=e.length,a=0,l,u;if(e[o-1]===jRe){if(a=e.lastIndexOf(LRe),a>=0){try{r=COt(e.substring(a+1,o-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),o=e.length}else throw"Unmatched right brace: "+e;a=0}if(!o)throw e;if(e[0]===yOt&&(i=++a),l=e2(e,a,gOt),l<o&&(n.push(e.substring(s,l).trim()),s=a=++l),a=e2(e,a,DN),a===o)n.push(e.substring(s,o).trim());else if(n.push(e.substring(s,a).trim()),u=[],s=++a,s===o)throw"Unmatched left bracket: "+e;for(;a<o;){if(a=e2(e,a,PN),a===o)throw"Unmatched left bracket: "+e;if(u.push(e.substring(s,a).trim()),a<o-1&&e[++a]!==DN)throw"Expected left bracket: "+e;s=++a}if(!(o=n.length)||bOt.test(n[o-1]))throw"Invalid event selector: "+e;return o>1?(t.type=n[1],i?t.markname=n[0].slice(1):xOt(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function COt(e){const t=e.split(BRe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function SOt(e){return Dt(e)?e:{type:e||"pad"}}const bC=e=>+e||0,TOt=e=>({top:e,bottom:e,left:e,right:e});function AOt(e){return Dt(e)?e.signal?e:{top:bC(e.top),bottom:bC(e.bottom),left:bC(e.left),right:bC(e.right)}:TOt(bC(e))}const no=e=>Dt(e)&&!Xe(e)?An({},e):{value:e};function Gde(e,t,n,r){return n!=null?(Dt(n)&&!Xe(n)||Xe(n)&&n.length&&Dt(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Lo(e,t,n){for(const r in t)Gde(e,r,t[r]);for(const r in n)Gde(e,r,n[r],"update")}function eE(e,t,n){for(const r in t)n&&Ft(n,r)||(e[r]=An(e[r]||{},t[r]));return e}function bw(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const aJ="mark",lJ="frame",uJ="scope",kOt="axis",IOt="axis-domain",ROt="axis-grid",DOt="axis-label",POt="axis-tick",OOt="axis-title",NOt="legend",$Ot="legend-band",MOt="legend-entry",FOt="legend-gradient",qRe="legend-label",LOt="legend-symbol",jOt="legend-title",BOt="title",zOt="title-text",UOt="title-subtitle";function HOt(e,t,n,r,i){const s={},o={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!bw(l,e)&&Qj(s,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===lJ?i.group:n===aJ?An({},i.mark,i[t]):null;for(l in c)u=bw(l,e)||(l==="fill"||l==="stroke")&&(bw("fill",e)||bw("stroke",e)),u||Qj(s,l,c[l]);Rt(r).forEach(d=>{const f=i.style&&i.style[d];for(const h in f)bw(h,e)||Qj(s,h,f[h])}),e=An({},e);for(l in s)c=s[l],c.signal?(a=a||{})[l]=c:o[l]=c;return e.enter=An(o,e.enter),a&&(e.update=An(a,e.update)),e}function Qj(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const VRe=e=>It(e)?vt(e):e.signal?`(${e.signal})`:WRe(e);function d6(e){if(e.gradient!=null)return VOt(e);let t=e.signal?`(${e.signal})`:e.color?qOt(e.color):e.field!=null?WRe(e.field):e.value!==void 0?vt(e.value):void 0;return e.scale!=null&&(t=WOt(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${o3(e.exponent)})`),e.mult!=null&&(t+=`*${o3(e.mult)}`),e.offset!=null&&(t+=`+${o3(e.offset)}`),e.round&&(t=`round(${t})`),t}const vR=(e,t,n,r)=>`(${e}(${[t,n,r].map(d6).join(",")})+'')`;function qOt(e){return e.c?vR("hcl",e.h,e.c,e.l):e.h||e.s?vR("hsl",e.h,e.s,e.l):e.l||e.a?vR("lab",e.l,e.a,e.b):e.r||e.g||e.b?vR("rgb",e.r,e.g,e.b):null}function VOt(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:vt(n));for(;t.length&&Un(t)==null;)t.pop();return t.unshift(VRe(e.gradient)),`gradient(${t.join(",")})`}function o3(e){return Dt(e)?"("+d6(e)+")":e}function WRe(e){return GRe(Dt(e)?e:{datum:e})}function GRe(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Ye("Invalid field reference: "+vt(e));return e.signal||(r=It(r)?vh(r).map(vt).join("]["):GRe(r)),t+"["+r+"]"}function WOt(e,t){const n=VRe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+o3(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function GOt(e){let t="";return e.forEach(n=>{const r=d6(n);t+=n.test?`(${n.test})?${r}:`:r}),Un(t)===":"&&(t+="null"),t}function YRe(e,t,n,r,i,s){const o={};s=s||{},s.encoders={$encode:o},e=HOt(e,t,n,r,i.config);for(const a in e)o[a]=YOt(e[a],t,s,i);return s}function YOt(e,t,n,r){const i={},s={};for(const o in e)e[o]!=null&&(i[o]=XOt(KOt(e[o]),r,n,s));return{$expr:{marktype:t,channels:i},$fields:Object.keys(s),$output:Object.keys(e)}}function KOt(e){return Xe(e)?GOt(e):d6(e)}function XOt(e,t,n,r){const i=rh(e,t);return i.$fields.forEach(s=>r[s]=1),An(n,i.$params),i.$expr}const QOt="outer",JOt=["value","update","init","react","bind"];function Yde(e,t){Ye(e+' for "outer" push: '+vt(t))}function KRe(e,t){const n=e.name;if(e.push===QOt)t.signals[n]||Yde("No prior signal definition",n),JOt.forEach(r=>{e[r]!==void 0&&Yde("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function aH(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function f6(e,t,n,r){return new aH(e,t,n,r)}function ON(e,t){return f6("operator",e,t)}function tn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function dT(e,t){return t?{$field:e,$name:t}:{$field:e}}const lH=dT("key");function Kde(e,t){return{$compare:e,$order:t}}function ZOt(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const eNt="ascending",tNt="descending";function nNt(e){return Dt(e)?(e.order===tNt?"-":"+")+h6(e.op,e.field):""}function h6(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const cJ="scope",uH="view";function Os(e){return e&&e.signal}function rNt(e){return e&&e.expr}function a3(e){if(Os(e))return!0;if(Dt(e)){for(const t in e)if(a3(e[t]))return!0}return!1}function Hc(e,t){return e??t}function wv(e){return e&&e.signal||e}const Xde="timer";function fT(e,t){return(e.merge?sNt:e.stream?oNt:e.type?aNt:Ye("Invalid stream specification: "+vt(e)))(e,t)}function iNt(e){return e===cJ?uH:e||uH}function sNt(e,t){const n=e.merge.map(i=>fT(i,t)),r=dJ({merge:n},e,t);return t.addStream(r).id}function oNt(e,t){const n=fT(e.stream,t),r=dJ({stream:n},e,t);return t.addStream(r).id}function aNt(e,t){let n;e.type===Xde?(n=t.event(Xde,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(iNt(e.source),e.type);const r=dJ({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function dJ(e,t,n){let r=t.between;return r&&(r.length!==2&&Ye('Stream "between" parameter must have 2 entries: '+vt(t)),e.between=[fT(r[0],n),fT(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(lNt(t.marktype,t.markname,t.markrole)),t.source===cJ&&r.push("inScope(event.item)"),r.length&&(e.filter=rh("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function lNt(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const uNt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function cNt(e,t,n){const r=e.encode,i={target:n};let s=e.events,o=e.update,a=[];s||Ye("Signal update missing events specification."),It(s)&&(s=Pg(s,t.isSubscope()?cJ:uH)),s=Rt(s).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[fNt(a)]),s.length&&a.push(s.length>1?{merge:s}:s[0]),r!=null&&(o&&Ye("Signal encode and update are mutually exclusive."),o="encode(item(),"+vt(r)+")"),i.update=It(o)?rh(o,t):o.expr!=null?rh(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:uNt,$params:{$value:t.signalRef(o.signal)}}:Ye("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(An(dNt(l,t),i)))}function dNt(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):fT(e,t)}}function fNt(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function hNt(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?Ye("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=rh(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>cNt(i,t,n.id))}const Qr=e=>(t,n,r)=>f6(e,n,t||void 0,r),XRe=Qr("aggregate"),pNt=Qr("axisticks"),QRe=Qr("bound"),Ud=Qr("collect"),Qde=Qr("compare"),mNt=Qr("datajoin"),JRe=Qr("encode"),gNt=Qr("expression"),yNt=Qr("facet"),vNt=Qr("field"),bNt=Qr("key"),wNt=Qr("legendentries"),xNt=Qr("load"),_Nt=Qr("mark"),ENt=Qr("multiextent"),CNt=Qr("multivalues"),SNt=Qr("overlap"),TNt=Qr("params"),ZRe=Qr("prefacet"),ANt=Qr("projection"),kNt=Qr("proxy"),INt=Qr("relay"),eDe=Qr("render"),RNt=Qr("scale"),Fb=Qr("sieve"),DNt=Qr("sortitems"),tDe=Qr("viewlayout"),PNt=Qr("values");let ONt=0;const nDe={min:"min",max:"max",count:"sum"};function NNt(e,t){const n=e.type||"linear";NAe(n)||Ye("Unrecognized scale type: "+vt(n)),t.addScale(e.name,{type:n,domain:void 0})}function $Nt(e,t){const n=t.getScale(e.name).params;let r;n.domain=rDe(e.domain,e,t),e.range!=null&&(n.range=sDe(e,t,n)),e.interpolate!=null&&VNt(e.interpolate,n),e.nice!=null&&(n.nice=qNt(e.nice,t)),e.bins!=null&&(n.bins=HNt(e.bins,t));for(r in e)Ft(n,r)||r==="name"||(n[r]=Vu(e[r],t))}function Vu(e,t){return Dt(e)?e.signal?t.signalRef(e.signal):Ye("Unsupported object: "+vt(e)):e}function l3(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Vu(n,t))}function p6(e){Ye("Can not find data set: "+vt(e))}function rDe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&Ye("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(Xe(e)?MNt:e.fields?LNt:FNt)(e,t,n)}function MNt(e,t,n){return e.map(r=>Vu(r,n))}function FNt(e,t,n){const r=n.getData(e.data);return r||p6(e.data),zx(t.type)?r.valuesRef(n,e.field,iDe(e.sort,!1)):FAe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function LNt(e,t,n){const r=e.data,i=e.fields.reduce((s,o)=>(o=It(o)?{data:r,field:o}:Xe(o)||o.signal?jNt(o,n):o,s.push(o),s),[]);return(zx(t.type)?BNt:FAe(t.type)?zNt:UNt)(e,n,i)}function jNt(e,t){const n="_:vega:_"+ONt++,r=Ud({});if(Xe(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+vt(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Fb({})]),{data:n,field:"data"}}function BNt(e,t,n){const r=iDe(e.sort,!0);let i,s;const o=n.map(u=>{const c=t.getData(u.data);return c||p6(u.data),c.countsRef(t,u.field,r)}),a={groupby:lH,pulse:o};r&&(i=r.op||"count",s=r.field?h6(i,r.field):"count",a.ops=[nDe[i]],a.fields=[t.fieldRef(s)],a.as=[s]),i=t.add(XRe(a));const l=t.add(Ud({pulse:tn(i)}));return s=t.add(PNt({field:lH,sort:t.sortRef(r),pulse:tn(l)})),tn(s)}function iDe(e,t){return e&&(!e.field&&!e.op?Dt(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?Ye("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!nDe[e.op]&&Ye("Multiple domain scales can not be sorted using "+e.op)),e}function zNt(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||p6(i.data),s.domainRef(t,i.field)});return tn(t.add(CNt({values:r})))}function UNt(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||p6(i.data),s.extentRef(t,i.field)});return tn(t.add(ENt({extents:r})))}function HNt(e,t){return e.signal||Xe(e)?l3(e,t):t.objectProperty(e)}function qNt(e,t){return e.signal?t.signalRef(e.signal):Dt(e)?{interval:Vu(e.interval),step:Vu(e.step)}:Vu(e)}function VNt(e,t){t.interpolate=Vu(e.type||e),e.gamma!=null&&(t.interpolateGamma=Vu(e.gamma))}function sDe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(It(i)){if(r&&Ft(r,i))return e=An({},e,{range:r[i]}),sDe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=zx(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Ye("Unrecognized scale range value: "+vt(i))}else if(i.scheme){n.scheme=Xe(i.scheme)?l3(i.scheme,t):Vu(i.scheme,t),i.extent&&(n.schemeExtent=l3(i.extent,t)),i.count&&(n.schemeCount=Vu(i.count,t));return}else if(i.step){n.rangeStep=Vu(i.step,t);return}else{if(zx(e.type)&&!Xe(i))return rDe(i,e,t);Xe(i)||Ye("Unsupported range type: "+vt(i))}return i.map(s=>(Xe(s)?l3:Vu)(s,t))}function WNt(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=cH(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=cH(n[i],i,t));t.addProjection(e.name,r)}function cH(e,t,n){return Xe(e)?e.map(r=>cH(r,t,n)):Dt(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:Ye("Unsupported parameter object: "+vt(e)):e}const Hd="top",tE="left",nE="right",ig="bottom",oDe="center",GNt="vertical",YNt="start",KNt="middle",XNt="end",dH="index",fJ="label",QNt="offset",Wx="perc",JNt="perc2",Ku="value",WA="guide-label",hJ="guide-title",ZNt="group-title",e$t="group-subtitle",Jde="symbol",u3="gradient",fH="discrete",hH="size",t$t="shape",n$t="fill",r$t="stroke",i$t="strokeWidth",s$t="strokeDash",o$t="opacity",pJ=[hH,t$t,n$t,r$t,i$t,s$t,o$t],GA={name:1,style:1,interactive:1},ur={value:0},Xu={value:1},m6="group",aDe="rect",mJ="rule",a$t="symbol",Lb="text";function hT(e){return e.type=m6,e.interactive=e.interactive||!1,e}function Ml(e,t){const n=(r,i)=>Hc(e[r],Hc(t[r],i));return n.isVertical=r=>GNt===Hc(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Hc(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Hc(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Hc(e.columns,Hc(t.columns,+n.isVertical(!0))),n}function lDe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function l$t(e,t,n){const r=t.config.style[n];return r&&r[e]}function g6(e,t,n){return`item.anchor === '${YNt}' ? ${e} : item.anchor === '${XNt}' ? ${t} : ${n}`}const gJ=g6(vt(tE),vt(nE),vt(oDe));function u$t(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Dt(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function uDe(e,t){return t?e?Dt(e)?Object.assign({},e,{offset:uDe(e.offset,t)}):{value:e,offset:t}:t:e}function bu(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=eE(e.encode,t,GA)):e.interactive=!1,e}function c$t(e,t,n,r){const i=Ml(e,n),s=i.isVertical(),o=i.gradientThickness(),a=i.gradientLength();let l,u,c,d,f;s?(u=[0,1],c=[0,0],d=o,f=a):(u=[0,0],c=[1,0],d=a,f=o);const h={enter:l={opacity:ur,x:ur,y:ur,width:no(d),height:no(f)},update:An({},l,{opacity:Xu,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:ur}};return Lo(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),bu({type:aDe,role:FOt,encode:h},r)}function d$t(e,t,n,r,i){const s=Ml(e,n),o=s.isVertical(),a=s.gradientThickness(),l=s.gradientLength();let u,c,d,f,h="";o?(u="y",d="y2",c="x",f="width",h="1-"):(u="x",d="x2",c="y",f="height");const p={opacity:ur,fill:{scale:t,field:Ku}};p[u]={signal:h+"datum."+Wx,mult:l},p[c]=ur,p[d]={signal:h+"datum."+JNt,mult:l},p[f]=no(a);const m={enter:p,update:An({},p,{opacity:Xu}),exit:{opacity:ur}};return Lo(m,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),bu({type:aDe,role:$Ot,key:Ku,from:i,encode:m},r)}const f$t=`datum.${Wx}<=0?"${tE}":datum.${Wx}>=1?"${nE}":"${oDe}"`,h$t=`datum.${Wx}<=0?"${ig}":datum.${Wx}>=1?"${Hd}":"${KNt}"`;function Zde(e,t,n,r){const i=Ml(e,t),s=i.isVertical(),o=no(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,d,f,h="";const p={enter:u={opacity:ur},update:c={opacity:Xu,text:{field:fJ}},exit:{opacity:ur}};return Lo(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Hc(e.labelLimit,t.gradientLabelLimit)}),s?(u.align={value:"left"},u.baseline=c.baseline={signal:h$t},d="y",f="x",h="1-"):(u.align=c.align={signal:f$t},u.baseline={value:"top"},d="x",f="y"),u[d]=c[d]={signal:h+"datum."+Wx,mult:a},u[f]=c[f]=o,o.offset=Hc(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+dH}:void 0,bu({type:Lb,role:qRe,style:WA,key:Ku,from:r,encode:p,overlap:l},n)}function p$t(e,t,n,r,i){const s=Ml(e,t),o=n.entries,a=!!(o&&o.interactive),l=o?o.name:void 0,u=s("clipHeight"),c=s("symbolOffset"),d={data:"value"},f=`(${i}) ? datum.${QNt} : datum.${hH}`,h=u?no(u):{field:hH},p=`datum.${dH}`,m=`max(1, ${i})`;let g,y,v,w,E;h.mult=.5,g={enter:y={opacity:ur,x:{signal:f,mult:.5,offset:c},y:h},update:v={opacity:Xu,x:y.x,y:y.y},exit:{opacity:ur}};let C=null,S=null;e.fill||(C=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),Lo(g,{fill:s("symbolFillColor",C),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",S),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),pJ.forEach(D=>{e[D]&&(v[D]=y[D]={scale:e[D],field:Ku})});const T=bu({type:a$t,role:LOt,key:Ku,from:d,clip:u?!0:void 0,encode:g},n.symbols),A=no(c);A.offset=s("labelOffset"),g={enter:y={opacity:ur,x:{signal:f,offset:A},y:h},update:v={opacity:Xu,text:{field:fJ},x:y.x,y:y.y},exit:{opacity:ur}},Lo(g,{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});const I=bu({type:Lb,role:qRe,style:WA,key:Ku,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!u},width:ur,height:u?no(u):ur,opacity:ur},exit:{opacity:ur},update:v={opacity:Xu,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(w=`ceil(item.mark.items.length / ${m})`,v.row.signal=`${p}%${w}`,v.column.signal=`floor(${p} / ${w})`,E={field:["row",p]}):(v.row.signal=`floor(${p} / ${m})`,v.column.signal=`${p} % ${m}`,E={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:dH}},hT({role:uJ,from:r,encode:eE(g,o,GA),marks:[T,I],name:l,interactive:a,sort:E})}function m$t(e,t){const n=Ml(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const yJ='item.orient === "left"',vJ='item.orient === "right"',y6=`(${yJ} || ${vJ})`,g$t=`datum.vgrad && ${y6}`,y$t=g6('"top"','"bottom"','"middle"'),v$t=g6('"right"','"left"','"center"'),b$t=`datum.vgrad && ${vJ} ? (${v$t}) : (${y6} && !(datum.vgrad && ${yJ})) ? "left" : ${gJ}`,w$t=`item._anchor || (${y6} ? "middle" : "start")`,x$t=`${g$t} ? (${yJ} ? -90 : 90) : 0`,_$t=`${y6} ? (datum.vgrad ? (${vJ} ? "bottom" : "top") : ${y$t}) : "top"`;function E$t(e,t,n,r){const i=Ml(e,t),s={enter:{opacity:ur},update:{opacity:Xu,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:ur}};return Lo(s,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:w$t},angle:{signal:x$t},align:{signal:b$t},baseline:{signal:_$t},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),bu({type:Lb,role:jOt,style:hJ,from:r,encode:s},n)}function C$t(e,t){let n;return Dt(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+efe(e.path)+")":e.sphere&&(n="geoShape("+efe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function efe(e){return Dt(e)&&e.signal?e.signal:vt(e)}function cDe(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===m6?uJ:t||aJ}function S$t(e){return{marktype:e.type,name:e.name||void 0,role:e.role||cDe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function T$t(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function bJ(e,t){const n=zTe(e.type);n||Ye("Unrecognized transform type: "+vt(e.type));const r=f6(n.type.toLowerCase(),null,dDe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function dDe(e,t,n){const r={},i=e.params.length;for(let s=0;s<i;++s){const o=e.params[s];r[o.name]=A$t(o,t,n)}return r}function A$t(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return k$t(e,t,n);if(i===void 0){e.required&&Ye("Missing required "+vt(t.type)+" parameter: "+vt(e.name));return}else{if(r==="param")return I$t(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Os(i)?i.map(s=>tfe(e,s,n)):tfe(e,i,n)}function tfe(e,t,n){const r=e.type;if(Os(t))return rfe(r)?Ye("Expression references can not be signals."):Jj(r)?n.fieldRef(t):ife(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||Jj(r);return i&&R$t(t)?n.exprRef(t.expr,t.as):i&&D$t(t)?dT(t.field,t.as):rfe(r)?rh(t,n):P$t(r)?tn(n.getData(t).values):Jj(r)?dT(t):ife(r)?n.compareRef(t):t}}function k$t(e,t,n){return It(t.from)||Ye('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function I$t(e,t,n){const r=t[e.name];return e.array?(Xe(r)||Ye("Expected an array of sub-parameters. Instead: "+vt(r)),r.map(i=>nfe(e,i,n))):nfe(e,r,n)}function nfe(e,t,n){const r=e.params.length;let i;for(let o=0;o<r;++o){i=e.params[o];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||Ye("Unsupported parameter: "+vt(t));const s=An(dDe(i,t,n),i.key);return tn(n.add(TNt(s)))}const R$t=e=>e&&e.expr,D$t=e=>e&&e.field,P$t=e=>e==="data",rfe=e=>e==="expr",Jj=e=>e==="field",ife=e=>e==="compare";function O$t(e,t,n){let r,i,s,o,a;return e?(r=e.facet)&&(t||Ye("Only group marks can be faceted."),r.field!=null?o=a=c3(r,n):(e.data?a=tn(n.getData(e.data).aggregate):(s=bJ(An({type:"aggregate",groupby:Rt(r.groupby)},r.aggregate),n),s.params.key=n.keyRef(r.groupby),s.params.pulse=c3(r,n),o=a=tn(n.add(s))),i=n.keyRef(r.groupby,!0))):o=tn(n.add(Ud(null,[{}]))),o||(o=c3(e,n)),{key:i,pulse:o,parent:a}}function c3(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:tn(t.getData(e.data).output)}function Xv(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Xv.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let s=t[0],o=null,a=1;for(s&&s.type==="load"&&(s=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=tn(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(o=t[a]);return new Xv(e,s,i,r,o)};function fDe(e){return It(e)?e:null}function sfe(e,t,n){const r=h6(n.op,n.field);let i;if(t.ops){for(let s=0,o=t.as.length;s<o;++s)if(t.as[s]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function wC(e,t,n,r,i,s,o){const a=t[n]||(t[n]={}),l=nNt(s);let u=fDe(i),c,d;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const f=s?{field:lH,pulse:t.countsRef(e,i,s)}:{field:e.fieldRef(i),pulse:tn(t.output)};l&&(f.sort=e.sortRef(s)),d=e.add(f6(r,void 0,f)),o&&(t.index[i]=d),c=tn(d),u!=null&&(a[u]=c)}return c}Xv.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),s=fDe(t);let o,a,l;return s!=null&&(e=r.scope,o=i[s]),o?n&&n.field&&sfe(e,o.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:tn(r.output)},n&&n.field&&sfe(e,l,n),a=e.add(XRe(l)),o=e.add(Ud({pulse:tn(a)})),o={agg:a,ref:tn(o)},s!=null&&(i[s]=o)),o.ref},tuplesRef(){return tn(this.values)},extentRef(e,t){return wC(e,this,"extent","extent",t,!1)},domainRef(e,t){return wC(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return wC(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return wC(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return wC(e,this,"indata","tupleindex",t,!0,!0)}};function N$t(e,t,n){const r=e.from.facet,i=r.name,s=c3(r,t);let o;r.name||Ye("Facet must have a name: "+vt(r)),r.data||Ye("Facet must reference a data set: "+vt(r)),r.field?o=t.add(ZRe({field:t.fieldRef(r.field),pulse:s})):r.groupby?o=t.add(yNt({key:t.keyRef(r.groupby),group:tn(t.proxy(n.parent)),pulse:s})):Ye("Facet must specify groupby or field: "+vt(r));const a=t.fork(),l=a.add(Ud()),u=a.add(Fb({pulse:tn(l)}));a.addData(i,new Xv(a,l,l,u)),a.addSignal("parent",null),o.params.subflow={$subflow:a.parse(e).toRuntime()}}function $$t(e,t,n){const r=t.add(ZRe({pulse:n.pulse})),i=t.fork();i.add(Fb()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function hDe(e,t,n){const r=e.remove,i=e.insert,s=e.toggle,o=e.modify,a=e.values,l=t.add(ON()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,s,o,a].map(d=>d??"null").join(",")+"),0)",c=rh(u,t);l.update=c.$expr,l.params=c.$params}function v6(e,t){const n=cDe(e),r=e.type===m6,i=e.from&&e.from.facet,s=e.overlap;let o=e.layout||n===uJ||n===lJ,a,l,u,c,d,f,h;const p=n===aJ||o||i,m=O$t(e.from,r,t);l=t.add(mNt({key:m.key||(e.key?dT(e.key):void 0),pulse:m.pulse,clean:!r}));const g=tn(l);l=u=t.add(Ud({pulse:g})),l=t.add(_Nt({markdef:S$t(e),interactive:T$t(e.interactive,t),clip:C$t(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:tn(l)}));const y=tn(l);l=c=t.add(JRe(YRe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const T=bJ(S,t),A=T.metadata;(A.generates||A.changes)&&Ye("Mark transforms should not generate new data."),A.nomod||(c.params.mod=!0),T.params.pulse=tn(l),t.add(l=T)}),e.sort&&(l=t.add(DNt({sort:t.compareRef(e.sort),pulse:tn(l)})));const v=tn(l);(i||o)&&(o=t.add(tDe({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),f=tn(o));const w=t.add(QRe({mark:y,pulse:f||v}));h=tn(w),r&&(p&&(a=t.operators,a.pop(),o&&a.pop()),t.pushState(v,f||h,g),i?N$t(e,t,m):p?$$t(e,t,m):t.parse(e),t.popState(),p&&(o&&a.push(o),a.push(w))),s&&(h=M$t(s,h,t));const E=t.add(eDe({pulse:h})),C=t.add(Fb({pulse:tn(E)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new Xv(t,u,E,C)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&Ye("Marks only support modify triggers."),hDe(S,t,d)}))}function M$t(e,t,n){const r=e.method,i=e.bound,s=e.separation,o={separation:Os(s)?n.signalRef(s.signal):s,method:Os(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;o.boundTolerance=Os(a)?n.signalRef(a.signal):+a,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return tn(n.add(SNt(o)))}function F$t(e,t){const n=t.config.legend,r=e.encode||{},i=Ml(e,n),s=r.legend||{},o=s.name||void 0,a=s.interactive,l=s.style,u={};let c=0,d,f,h;pJ.forEach(w=>e[w]?(u[w]=e[w],c=c||e[w]):0),c||Ye("Missing valid scale for legend.");const p=L$t(e,t.scaleType(c)),m={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},g=tn(t.add(Ud(null,[m]))),y={enter:{x:{value:0},y:{value:0}}},v=tn(t.add(wNt(f={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===u3?(h=[c$t(e,c,n,r.gradient),Zde(e,n,r.labels,v)],f.count=f.count||t.signalRef(`max(2,2*floor((${wv(i.gradientLength())})/100))`)):p===fH?h=[d$t(e,c,n,r.gradient,v),Zde(e,n,r.labels,v)]:(d=m$t(e,n),h=[p$t(e,n,r,v,wv(d.columns))],f.size=z$t(e,t,h[0].marks)),h=[hT({role:MOt,from:g,encode:y,marks:h,layout:d,interactive:a})],m.title&&h.push(E$t(e,n,r.title,g)),v6(hT({role:NOt,from:g,encode:eE(B$t(i,e,n),s,GA),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:o,interactive:a,style:l}),t)}function L$t(e,t){let n=e.type||Jde;return!e.type&&j$t(e)===1&&(e.fill||e.stroke)&&(n=_X(t)?u3:SU(t)?fH:Jde),n!==u3?n:SU(t)?fH:u3}function j$t(e){return pJ.reduce((t,n)=>t+(e[n]?1:0),0)}function B$t(e,t,n){const r={enter:{},update:{}};return Lo(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function z$t(e,t,n){const r=wv(ofe("size",e,n)),i=wv(ofe("strokeWidth",e,n)),s=wv(U$t(n[1].encode,t,WA));return rh(`max(ceil(sqrt(${r})+${i}),${s})`,t)}function ofe(e,t,n){return t[e]?`scale("${t[e]}",datum)`:lDe(e,n[0].encode)}function U$t(e,t,n){return lDe("fontSize",e)||l$t("fontSize",t,n)}const H$t=`item.orient==="${tE}"?-90:item.orient==="${nE}"?90:0`;function q$t(e,t){e=It(e)?{text:e}:e;const n=Ml(e,t.config.title),r=e.encode||{},i=r.group||{},s=i.name||void 0,o=i.interactive,a=i.style,l=[],u={},c=tn(t.add(Ud(null,[u])));return l.push(G$t(e,n,V$t(e),c)),e.subtitle&&l.push(Y$t(e,n,r.subtitle,c)),v6(hT({role:BOt,from:c,encode:W$t(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:s,interactive:o,style:a}),t)}function V$t(e){const t=e.encode;return t&&t.title||An({name:e.name,interactive:e.interactive,style:e.style},t)}function W$t(e,t){const n={enter:{},update:{}};return Lo(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:gJ},angle:{signal:H$t},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),eE(n,t,GA)}function G$t(e,t,n,r){const i={value:0},s=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Lo(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),bu({type:Lb,role:zOt,style:ZNt,from:r,encode:o},n)}function Y$t(e,t,n,r){const i={value:0},s=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Lo(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),bu({type:Lb,role:UOt,style:e$t,from:r,encode:o},n)}function K$t(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(bJ(r,t))}),e.on&&e.on.forEach(r=>{hDe(r,t,e.name)}),t.addDataPipeline(e.name,X$t(e,t,n))}function X$t(e,t,n){const r=[];let i=null,s=!1,o=!1,a,l,u,c,d;for(e.values?Os(e.values)||a3(e.format)?(r.push(afe(t,e)),r.push(i=dy())):r.push(i=dy({$ingest:e.values,$format:e.format})):e.url?a3(e.url)||a3(e.format)?(r.push(afe(t,e)),r.push(i=dy())):r.push(i=dy({$request:e.url,$format:e.format})):e.source&&(i=a=Rt(e.source).map(f=>tn(t.getData(f).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],d=c.metadata,!i&&!d.source&&r.push(i=dy()),r.push(c),d.generates&&(o=!0),d.modifies&&!o&&(s=!0),d.source?i=c:d.changes&&(i=null);return a&&(u=a.length-1,r[0]=INt({derive:s,pulse:u?a:a[0]}),(s||u)&&r.splice(1,0,dy())),i||r.push(dy()),r.push(Fb({})),r}function dy(e){const t=Ud({},e);return t.metadata={source:!0},t}function afe(e,t){return xNt({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const pDe=e=>e===ig||e===Hd,b6=(e,t,n)=>Os(e)?e4t(e.signal,t,n):e===tE||e===Hd?t:n,ro=(e,t,n)=>Os(e)?J$t(e.signal,t,n):pDe(e)?t:n,pd=(e,t,n)=>Os(e)?Z$t(e.signal,t,n):pDe(e)?n:t,mDe=(e,t,n)=>Os(e)?t4t(e.signal,t,n):e===Hd?{value:t}:{value:n},Q$t=(e,t,n)=>Os(e)?n4t(e.signal,t,n):e===nE?{value:t}:{value:n},J$t=(e,t,n)=>gDe(`${e} === '${Hd}' || ${e} === '${ig}'`,t,n),Z$t=(e,t,n)=>gDe(`${e} !== '${Hd}' && ${e} !== '${ig}'`,t,n),e4t=(e,t,n)=>wJ(`${e} === '${tE}' || ${e} === '${Hd}'`,t,n),t4t=(e,t,n)=>wJ(`${e} === '${Hd}'`,t,n),n4t=(e,t,n)=>wJ(`${e} === '${nE}'`,t,n),gDe=(e,t,n)=>(t=t!=null?no(t):t,n=n!=null?no(n):n,lfe(t)&&lfe(n)?(t=t?t.signal||vt(t.value):null,n=n?n.signal||vt(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[An({test:e},t)].concat(n||[])),lfe=e=>e==null||Object.keys(e).length===1,wJ=(e,t,n)=>({signal:`${e} ? (${Rw(t)}) : (${Rw(n)})`}),r4t=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${tE}' ? (${Rw(r)}) : `:"")+(n!=null?`${e} === '${ig}' ? (${Rw(n)}) : `:"")+(i!=null?`${e} === '${nE}' ? (${Rw(i)}) : `:"")+(t!=null?`${e} === '${Hd}' ? (${Rw(t)}) : `:"")+"(null)"}),Rw=e=>Os(e)?e.signal:e==null?null:vt(e),i4t=(e,t)=>t===0?0:Os(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},tx=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function V1(e,t,n,r){let i;if(t&&Ft(t,e))return t[e];if(Ft(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[hJ][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[WA][i]}return null}function ufe(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function s4t(e,t){var n=t.config,r=n.style,i=n.axis,s=t.scaleType(e.scale)==="band"&&n.axisBand,o=e.orient,a,l,u;if(Os(o)){const d=ufe([n.axisX,n.axisY]),f=ufe([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of d)a[u]=ro(o,V1(u,n.axisX,i,r),V1(u,n.axisY,i,r));l={};for(u of f)l[u]=r4t(o.signal,V1(u,n.axisTop,i,r),V1(u,n.axisBottom,i,r),V1(u,n.axisLeft,i,r),V1(u,n.axisRight,i,r))}else a=o===Hd||o===ig?n.axisX:n.axisY,l=n["axis"+o[0].toUpperCase()+o.slice(1)];return a||l||s?An({},i,a,l,s):i}function o4t(e,t,n,r){const i=Ml(e,t),s=e.orient;let o,a;const l={enter:o={opacity:ur},update:a={opacity:Xu},exit:{opacity:ur}};Lo(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=cfe(e,0),c=cfe(e,1);return o.x=a.x=ro(s,u,ur),o.x2=a.x2=ro(s,c),o.y=a.y=pd(s,u,ur),o.y2=a.y2=pd(s,c),bu({type:mJ,role:IOt,from:r,encode:l},n)}function cfe(e,t){return{scale:e.scale,range:t}}function a4t(e,t,n,r,i){const s=Ml(e,t),o=e.orient,a=e.gridScale,l=b6(o,1,-1),u=l4t(e.offset,l);let c,d,f;const h={enter:c={opacity:ur},update:f={opacity:Xu},exit:d={opacity:ur}};Lo(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});const p={scale:e.scale,field:Ku,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},m=ro(o,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},y=a?{scale:a,range:1,mult:l,offset:u}:An(m,{mult:l,offset:u});return c.x=f.x=ro(o,p,g),c.y=f.y=pd(o,p,g),c.x2=f.x2=pd(o,y),c.y2=f.y2=ro(o,y),d.x=ro(o,p),d.y=pd(o,p),bu({type:mJ,role:ROt,key:Ku,from:r,encode:h},n)}function l4t(e,t){if(t!==1)if(!Dt(e))e=Os(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=An({},e);for(;n.mult!=null;)if(Dt(n.mult))n=n.mult=An({},n.mult);else return n.mult=Os(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function u4t(e,t,n,r,i,s){const o=Ml(e,t),a=e.orient,l=b6(a,-1,1);let u,c,d;const f={enter:u={opacity:ur},update:d={opacity:Xu},exit:c={opacity:ur}};Lo(f,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const h=no(i);h.mult=l;const p={scale:e.scale,field:Ku,band:s.band,extra:s.extra,offset:s.offset,round:o("tickRound")};return d.y=u.y=ro(a,ur,p),d.y2=u.y2=ro(a,h),c.x=ro(a,p),d.x=u.x=pd(a,ur,p),d.x2=u.x2=pd(a,h),c.y=pd(a,p),bu({type:mJ,role:POt,key:Ku,from:r,encode:f},n)}function Zj(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function c4t(e,t,n,r,i,s){const o=Ml(e,t),a=e.orient,l=e.scale,u=b6(a,-1,1),c=wv(o("labelFlush")),d=wv(o("labelFlushOffset")),f=o("labelAlign"),h=o("labelBaseline");let p=c===0||!!c,m;const g=no(i);g.mult=u,g.offset=no(o("labelPadding")||0),g.offset.mult=u;const y={scale:l,field:Ku,band:.5,offset:uDe(s.offset,o("labelOffset"))},v=ro(a,p?Zj(l,c,'"left"','"right"','"center"'):{value:"center"},Q$t(a,"left","right")),w=ro(a,mDe(a,"bottom","top"),p?Zj(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),E=Zj(l,c,`-(${d})`,d,0);p=p&&d;const C={opacity:ur,x:ro(a,y,g),y:pd(a,y,g)},S={enter:C,update:m={opacity:Xu,text:{field:fJ},x:C.x,y:C.y,align:v,baseline:w},exit:{opacity:ur,x:C.x,y:C.y}};Lo(S,{dx:!f&&p?ro(a,E):null,dy:!h&&p?pd(a,E):null}),Lo(S,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:f,baseline:h});const T=o("labelBound");let A=o("labelOverlap");return A=A||T?{separation:o("labelSeparation"),method:A,order:"datum.index",bound:T?{scale:l,orient:a,tolerance:T}:null}:void 0,m.align!==v&&(m.align=tx(m.align,v)),m.baseline!==w&&(m.baseline=tx(m.baseline,w)),bu({type:Lb,role:DOt,style:WA,key:Ku,from:r,encode:S,overlap:A},n)}function d4t(e,t,n,r){const i=Ml(e,t),s=e.orient,o=b6(s,-1,1);let a,l;const u={enter:a={opacity:ur,anchor:no(i("titleAnchor",null)),align:{signal:gJ}},update:l=An({},a,{opacity:Xu,text:no(e.title)}),exit:{opacity:ur}},c={signal:`lerp(range("${e.scale}"), ${g6(0,1,.5)})`};return l.x=ro(s,c),l.y=pd(s,c),a.angle=ro(s,ur,i4t(o,90)),a.baseline=ro(s,mDe(s,ig,Hd),{value:ig}),l.angle=a.angle,l.baseline=a.baseline,Lo(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),f4t(i,s,u,n),u.update.align=tx(u.update.align,a.align),u.update.angle=tx(u.update.angle,a.angle),u.update.baseline=tx(u.update.baseline,a.baseline),bu({type:Lb,role:OOt,style:hJ,from:r,encode:u},n)}function f4t(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=tx(no(a),n.update[l]),!1):!bw(l,r),s=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===s?no(o):ro(t,no(o),no(s))}function h4t(e,t){const n=s4t(e,t),r=e.encode||{},i=r.axis||{},s=i.name||void 0,o=i.interactive,a=i.style,l=Ml(e,n),u=u$t(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=tn(t.add(Ud({},[c]))),f=tn(t.add(pNt({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(a4t(e,n,r.grid,f,u)),c.ticks&&(p=l("tickSize"),h.push(u4t(e,n,r.ticks,f,p,u))),c.labels&&(p=c.ticks?p:0,h.push(c4t(e,n,r.labels,f,p,u))),c.domain&&h.push(o4t(e,n,r.domain,d)),c.title&&h.push(d4t(e,n,r.title,d)),v6(hT({role:kOt,from:d,encode:eE(p4t(l,e),i,GA),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:s,interactive:o,style:a}),t)}function p4t(e,t){const n={enter:{},update:{}};return Lo(n,{orient:e("orient"),offset:e("offset")||0,position:Hc(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function yDe(e,t,n){const r=Rt(e.signals),i=Rt(e.scales);return n||r.forEach(s=>KRe(s,t)),Rt(e.projections).forEach(s=>WNt(s,t)),i.forEach(s=>NNt(s,t)),Rt(e.data).forEach(s=>K$t(s,t)),i.forEach(s=>$Nt(s,t)),(n||r).forEach(s=>hNt(s,t)),Rt(e.axes).forEach(s=>h4t(s,t)),Rt(e.marks).forEach(s=>v6(s,t)),Rt(e.legends).forEach(s=>F$t(s,t)),e.title&&q$t(e.title,t),t.parseLambdas(),t}const m4t=e=>eE({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function g4t(e,t){const n=t.config,r=tn(t.root=t.add(ON())),i=y4t(e,n);i.forEach(u=>KRe(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const s=t.add(Ud()),o=t.add(JRe(YRe(m4t(e.encode),m6,lJ,e.style,t,{pulse:tn(s)}))),a=t.add(tDe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:tn(o)}));t.operators.pop(),t.pushState(tn(o),tn(a),null),yDe(e,t,i),t.operators.push(a);let l=t.add(QRe({mark:r,pulse:tn(a)}));return l=t.add(eDe({pulse:tn(l)})),l=t.add(Fb({pulse:tn(l)})),t.addData("root",new Xv(t,s,s,l)),t}function xC(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function y4t(e,t){const n=o=>Hc(e[o],t[o]),r=[xC("background",n("background")),xC("autosize",SOt(n("autosize"))),xC("padding",AOt(n("padding"))),xC("width",n("width")||0),xC("height",n("height")||0)],i=r.reduce((o,a)=>(o[a.name]=a,o),{}),s={};return Rt(e.signals).forEach(o=>{Ft(i,o.name)?o=An(i[o.name],o):r.push(o),s[o.name]=o}),Rt(t.signals).forEach(o=>{!Ft(s,o.name)&&!Ft(i,o.name)&&r.push(o)}),r}function vDe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function dfe(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}vDe.prototype=dfe.prototype={parse(e){return yDe(e,this)},fork(){return new dfe(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof aH?tn(e):e;return this.add(kNt({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,s){let o,a;r&&(o=r.data||(r.data={}),a=o[i]||(o[i]=[]),a.push(s))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(tn(this.add(Fb({pulse:e})))),this._parent.push(t),this._lookup.push(n?tn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Un(this._parent)},encode(){return Un(this._encode)},lookup(){return Un(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(It(e))return dT(e,t);e.signal||Ye("Unsupported field reference: "+vt(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=tn(this.add(vNt(i)))}return r},compareRef(e){let t=!1;const n=s=>Os(s)?(t=!0,this.signalRef(s.signal)):rNt(s)?(t=!0,this.exprRef(s.expr)):s,r=Rt(e.field).map(n),i=Rt(e.order).map(n);return t?tn(this.add(Qde({fields:r,orders:i}))):Kde(r,i)},keyRef(e,t){let n=!1;const r=s=>Os(s)?(n=!0,tn(i[s.signal])):s,i=this.signals;return e=Rt(e).map(r),n?tn(this.add(bNt({fields:e,flat:t}))):ZOt(e,t)},sortRef(e){if(!e)return e;const t=h6(e.op,e.field),n=e.order||eNt;return n.signal?tn(this.add(Qde({fields:t,orders:this.signalRef(n.signal)}))):Kde(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Ft(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Ye("Duplicate signal name: "+vt(e));const n=t instanceof aH?t:this.add(ON(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Ye("Unrecognized signal name: "+vt(e)),this.signals[e]},signalRef(e){return this.signals[e]?tn(this.signals[e]):(Ft(this.lambdas,e)||(this.lambdas[e]=this.add(ON(null))),tn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=rh(r,this),s=this.lambdas[r];s.params=i.$params,s.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Dt(e)?e:this.signalRef(e.signal||xJ(e))},exprRef(e,t){const n={expr:rh(e,this)};return t&&(n.expr.$name=t),tn(this.add(gNt(n)))},addBinding(e,t){this.bindings||Ye("Nested signals do not support binding: "+vt(e)),this.bindings.push(An({signal:e},t))},addScaleProj(e,t){Ft(this.scales,e)&&Ye("Duplicate scale or projection name: "+vt(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,RNt(t))},addProjection(e,t){this.addScaleProj(e,ANt(t))},getScale(e){return this.scales[e]||Ye("Unrecognized scale name: "+vt(e)),this.scales[e]},scaleRef(e){return tn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Ft(this.data,e)&&Ye("Duplicate data set name: "+vt(e)),this.data[e]=t},getData(e){return this.data[e]||Ye("Undefined data set name: "+vt(e)),this.data[e]},addDataPipeline(e,t){return Ft(this.data,e)&&Ye("Duplicate data set name: "+vt(e)),this.addData(e,Xv.fromEntries(this,t))}};function xJ(e){return(Xe(e)?v4t:b4t)(e)}function v4t(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Dt(i)?i.signal||xJ(i):vt(i))}return n+"]"}function b4t(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+vt(r)+":"+(Dt(i)?i.signal||xJ(i):vt(i));return t+"}"}function w4t(){const e="sans-serif",r="#4c78a8",i="#000",s="#888",o="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:o},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:s,grid:!1,gridWidth:1,gridColor:o,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:s,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:o,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:s,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function x4t(e,t,n){return Dt(e)||Ye("Input Vega specification must be an object."),t=U_(w4t(),t,e.config),g4t(e,new vDe(t,n)).toRuntime()}var _4t="5.32.0";An(Lx,dCt,JTt,RAt,akt,pkt,zkt,wkt,Hkt,Gkt,rIt,cIt);const E4t=Object.freeze(Object.defineProperty({__proto__:null,Bounds:qi,CanvasHandler:BA,CanvasRenderer:wN,DATE:Dl,DAY:ia,DAYOFYEAR:nh,Dataflow:ex,Debug:nTe,Error:rK,EventStream:SM,Gradient:IX,GroupItem:VM,HOURS:mu,Handler:KX,HybridHandler:zke,HybridRenderer:MU,Info:tTe,Item:qM,MILLISECONDS:Sd,MINUTES:gu,MONTH:la,Marks:vu,MultiPulse:FK,None:eTe,Operator:ei,Parameters:CM,Pulse:F0,QUARTER:Rl,RenderType:C0,Renderer:jA,ResourceLoader:rke,SECONDS:nc,SVGHandler:kke,SVGRenderer:tQ,SVGStringRenderer:Bke,Scenegraph:wke,TIME_UNITS:wK,Transform:Ge,View:ARe,WEEK:Ds,Warn:iK,YEAR:$o,accessor:$l,accessorFields:aa,accessorName:Hi,array:Rt,ascending:q_,bandwidthNRD:zK,bin:qTe,bootstrapCI:VTe,boundClip:Xke,boundContext:$A,boundItem:DU,boundMark:gke,boundStroke:hm,changeset:Nb,clampRange:fK,codegenExpression:VQ,compare:hK,constant:pa,cumulativeLogNormal:IM,cumulativeNormal:EA,cumulativeUniform:OM,dayofyear:CK,debounce:pK,defaultLocale:PK,definition:zTe,densityLogNormal:kM,densityNormal:TM,densityUniform:PM,domChild:Is,domClear:ju,domCreate:_0,domFind:YX,dotbin:WTe,error:Ye,expressionFunction:as,extend:An,extent:Ed,extentIndex:aTe,falsy:Jm,fastmap:V_,field:pu,flush:mK,font:XM,fontFamily:LA,fontSize:bh,format:VP,formatLocale:aN,formats:$K,hasOwnProperty:Ft,id:wA,identity:Fo,inferType:RTe,inferTypes:DTe,ingest:Rr,inherits:Ct,inrange:sv,interpolate:CX,interpolateColors:UM,interpolateRange:LAe,intersect:nQ,intersectBoxLine:kw,intersectPath:OX,intersectPoint:NX,intersectRule:ske,isArray:Xe,isBoolean:fm,isDate:Rp,isFunction:Rn,isIterable:lTe,isNumber:yr,isObject:Dt,isRegExp:xA,isString:It,isTuple:K_,key:gK,lerp:yK,lineHeight:tg,loader:xM,locale:kTe,logger:sK,lruCache:uTe,markup:eQ,merge:cTe,mergeConfig:U_,multiLineOffset:VX,one:z_,pad:vK,panLinear:oK,panLog:aK,panPow:lK,panSymlog:uK,parse:x4t,parseExpression:XIe,parseSelector:Pg,path:F4,pathCurves:RX,pathEqual:Qke,pathParse:Wv,pathRectangle:ZAe,pathRender:Ux,pathSymbols:JAe,pathTrail:eke,peek:Un,point:JM,projection:pQ,quantileLogNormal:RM,quantileNormal:CA,quantileUniform:NM,quantiles:jK,quantizeInterpolator:jAe,quarter:cK,quartiles:BK,get random(){return yu},randomInteger:mEt,randomKDE:HK,randomLCG:pEt,randomLogNormal:YTe,randomMixture:KTe,randomNormal:UK,randomUniform:XTe,read:NTe,regressionConstant:qK,regressionExp:JTe,regressionLinear:VK,regressionLoess:tAe,regressionLog:QTe,regressionPoly:eAe,regressionPow:ZTe,regressionQuad:WK,renderModule:ZM,repeat:uS,resetDefaultLocale:d_t,resetSVGClipId:nke,resetSVGDefIds:gTt,responseType:OTe,runtimeContext:pRe,sampleCurve:MM,sampleLogNormal:AM,sampleNormal:_A,sampleUniform:DM,scale:dr,sceneEqual:rQ,sceneFromJSON:vke,scenePickVisit:fN,sceneToJSON:yke,sceneVisit:Td,sceneZOrder:$X,scheme:SX,serializeXML:Mke,setHybridRendererOptions:fTt,setRandom:fEt,span:W_,splitAccessPath:vh,stringValue:vt,textMetrics:su,timeBin:xTe,timeFloor:mTe,timeFormatLocale:tT,timeInterval:G_,timeOffset:kK,timeSequence:RK,timeUnitSpecifier:_K,timeUnits:xK,toBoolean:yM,toDate:vM,toNumber:Po,toSet:Cd,toString:bM,transform:UTe,transforms:Lx,truncate:bK,truthy:Il,tupleid:nn,typeParsers:xU,utcFloor:gTe,utcInterval:Y_,utcOffset:IK,utcSequence:DK,utcdayofyear:TK,utcquarter:dK,utcweek:AK,version:_4t,visitArray:s0,week:SK,writeConfig:H_,zero:y0,zoomLinear:pM,zoomLog:mM,zoomPow:eT,zoomSymlog:gM},Symbol.toStringTag,{value:"Module"}));function C4t(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var S4t={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},T4t={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},A4t={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const k4t=Array.prototype.slice,fy=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,k4t.call(t,1))},I4t=(e,t,n,r,i,s,o)=>new Date(e,t||0,n??1,r||0,i||0,s||0,o||0);var R4t={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:I4t,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return fy("join",arguments)},indexof:function(){return fy("indexOf",arguments)},lastindexof:function(){return fy("lastIndexOf",arguments)},slice:function(){return fy("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return fy("substring",arguments,String)},split:function(){return fy("split",arguments,String)},replace:function(){return fy("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const D4t=["view","item","group","xy","x","y"],pH=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&pH.add(setImmediate);const P4t={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:S4t[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),pH.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||R4t[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>T4t[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>A4t[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,pH.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function _C(e,t,n,r,i,s){const o=a=>P4t[a.type](o,a);return o.memberDepth=0,o.fn=Object.create(t),o.params=n,o.datum=r,o.event=i,o.item=s,D4t.forEach(a=>o.fn[a]=function(){return i.vega[a](...arguments)}),o(e)}var O4t={operator(e,t){const n=t.ast,r=e.functions;return i=>_C(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,s)=>_C(n,r,s,i)},event(e,t){const n=t.ast,r=e.functions;return i=>_C(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,s)=>{const o=s.item&&s.item.datum;return _C(n,r,i,o,s)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,s=n==="group"||n==="image"||n==="rect";return(o,a)=>{const l=o.datum;let u=0,c;for(const d in r)c=_C(r[d].ast,i,a,l,void 0,o),o[d]!==c&&(o[d]=c,u=1);return n!=="rule"&&C4t(o,r,s),u}}};const N4t="5.23.0",$4t={version:N4t};function _J(e){return pt(e,"or")}function EJ(e){return pt(e,"and")}function CJ(e){return pt(e,"not")}function d3(e,t){if(CJ(e))d3(e.not,t);else if(EJ(e))for(const n of e.and)d3(n,t);else if(_J(e))for(const n of e.or)d3(n,t);else t(e)}function nx(e,t){return CJ(e)?{not:nx(e.not,t)}:EJ(e)?{and:e.and.map(n=>nx(n,t))}:_J(e)?{or:e.or.map(n=>nx(n,t))}:t(e)}const xn=structuredClone;function bDe(e){throw new Error(e)}function Gx(e,t){const n={};for(const r of t)Ft(e,r)&&(n[r]=e[r]);return n}function Sl(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Xr(e)).join(",")})`};function Zn(e){if(yr(e))return e;const t=It(e)?e:Xr(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function mH(e){return e===!1||e===null}function Hn(e,t){return e.includes(t)}function Yx(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function SJ(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function wDe(e,...t){for(const n of t)M4t(e,n??{});return e}function M4t(e,t){for(const n of ft(t))H_(e,n,t[n],!0)}function Pf(e,t){const n=[],r={};let i;for(const s of e)i=t(s),!(i in r)&&(r[i]=1,n.push(s));return n}function F4t(e,t){const n=ft(e),r=ft(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function xDe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function TJ(e,t){for(const n of e)if(t.has(n))return!0;return!1}function gH(e){const t=new Set;for(const n of e){const i=vh(n).map((o,a)=>a===0?o:`[${o}]`),s=i.map((o,a)=>i.slice(0,a+1).join(""));for(const o of s)t.add(o)}return t}function AJ(e,t){return e===void 0||t===void 0?!0:TJ(gH(e),gH(t))}function Kr(e){return ft(e).length===0}const ft=Object.keys,Mo=Object.values,sg=Object.entries;function pT(e){return e===!0||e===!1}function bi(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function t2(e,t){return CJ(e)?`!(${t2(e.not,t)})`:EJ(e)?`(${e.and.map(n=>t2(n,t)).join(") && (")})`:_J(e)?`(${e.or.map(n=>t2(n,t)).join(") || (")})`:t(e)}function NN(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&NN(e[n],t)&&delete e[n],Kr(e)}function YA(e){return e.charAt(0).toUpperCase()+e.substr(1)}function kJ(e,t="datum"){const n=vh(e),r=[];for(let i=1;i<=n.length;i++){const s=`[${n.slice(0,i).map(vt).join("][")}]`;r.push(`${t}${s}`)}return r.join(" && ")}function _De(e,t="datum"){return`${t}[${vt(vh(e).join("."))}]`}function Br(e){return`datum['${e.replaceAll("'","\\'")}']`}function L4t(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ic(e){return`${vh(e).map(L4t).join("\\.")}`}function Qv(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function rE(e){return`${vh(e).join(".")}`}function Kx(e){return e?vh(e).length:0}function rs(...e){return e.find(t=>t!==void 0)}let EDe=42;function CDe(e){const t=++EDe;return e?String(e)+t:t}function j4t(){EDe=42}function SDe(e){return TDe(e)?e:`__${e}`}function TDe(e){return e.startsWith("__")}function mT(e){if(e!==void 0)return(e%360+360)%360}function w6(e){return yr(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const ffe=Object.getPrototypeOf(structuredClone({}));function eu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!eu(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;for(const s of e.entries())if(!eu(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==ffe.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==ffe.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!eu(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Xr(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,s;if(Array.isArray(r)){for(s="[",i=0;i<r.length;i++)i&&(s+=","),s+=n(r[i])||"null";return s+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const o=t.push(r)-1,a=Object.keys(r).sort();for(s="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(s&&(s+=","),s+=JSON.stringify(l)+":"+u)}return t.splice(o,1),`{${s}}`}(e)}function pt(e,t){return Dt(e)&&Ft(e,t)&&e[t]!==void 0}const Dp="row",Pp="column",x6="facet",xi="x",fo="y",qd="x2",Eh="y2",Og="xOffset",iE="yOffset",Vd="radius",mm="radius2",yc="theta",gm="theta2",Wd="latitude",Gd="longitude",Yd="latitude2",sc="longitude2",Ng="time",Pl="color",Ch="fill",Sh="stroke",Ol="shape",ym="size",jb="angle",vm="opacity",$g="fillOpacity",Mg="strokeOpacity",Fg="strokeWidth",Lg="strokeDash",KA="text",Xx="order",XA="detail",_6="key",Jv="tooltip",E6="href",C6="url",S6="description",B4t={x:1,y:1,x2:1,y2:1},ADe={theta:1,theta2:1,radius:1,radius2:1};function kDe(e){return Ft(ADe,e)}const IJ={longitude:1,longitude2:1,latitude:1,latitude2:1};function IDe(e){switch(e){case Wd:return"y";case Yd:return"y2";case Gd:return"x";case sc:return"x2"}}function RDe(e){return Ft(IJ,e)}const z4t=ft(IJ),RJ={...B4t,...ADe,...IJ,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function rx(e){return e===Pl||e===Ch||e===Sh}const DDe={row:1,column:1,facet:1},Wu=ft(DDe),DJ={...RJ,...DDe},U4t=ft(DJ),{order:vtn,detail:btn,tooltip:wtn,...H4t}=DJ,{row:xtn,column:_tn,facet:Etn,...q4t}=H4t;function V4t(e){return Ft(q4t,e)}function PDe(e){return Ft(DJ,e)}const W4t=[qd,Eh,Yd,sc,gm,mm];function ODe(e){return Bb(e)!==e}function Bb(e){switch(e){case qd:return xi;case Eh:return fo;case Yd:return Wd;case sc:return Gd;case gm:return yc;case mm:return Vd}return e}function og(e){if(kDe(e))switch(e){case yc:return"startAngle";case gm:return"endAngle";case Vd:return"outerRadius";case mm:return"innerRadius"}return e}function Th(e){switch(e){case xi:return qd;case fo:return Eh;case Wd:return Yd;case Gd:return sc;case yc:return gm;case Vd:return mm}}function Nl(e){switch(e){case xi:case qd:return"width";case fo:case Eh:return"height"}}function NDe(e){switch(e){case xi:return"xOffset";case fo:return"yOffset";case qd:return"x2Offset";case Eh:return"y2Offset";case yc:return"thetaOffset";case Vd:return"radiusOffset";case gm:return"theta2Offset";case mm:return"radius2Offset"}}function PJ(e){switch(e){case xi:return"xOffset";case fo:return"yOffset"}}function G4t(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Y4t=ft(RJ),{x:Ctn,y:Stn,x2:Ttn,y2:Atn,xOffset:ktn,yOffset:Itn,latitude:Rtn,longitude:Dtn,latitude2:Ptn,longitude2:Otn,theta:Ntn,theta2:$tn,radius:Mtn,radius2:Ftn,...OJ}=RJ,K4t=ft(OJ),NJ={x:1,y:1},bm=ft(NJ);function is(e){return Ft(NJ,e)}const $J={theta:1,radius:1},X4t=ft($J);function T6(e){return e==="width"?xi:fo}const $De={xOffset:1,yOffset:1};function QA(e){return Ft($De,e)}const Q4t={time:1};function e9(e){return e in Q4t}const{text:Ltn,tooltip:jtn,href:Btn,url:ztn,description:Utn,detail:Htn,key:qtn,order:Vtn,...MDe}=OJ,J4t=ft(MDe);function Z4t(e){return Ft(OJ,e)}function eMt(e){switch(e){case Pl:case Ch:case Sh:case ym:case Ol:case vm:case Fg:case Lg:return!0;case $g:case Mg:case jb:case Ng:return!1}}const FDe={...NJ,...$J,...$De,...MDe},MJ=ft(FDe);function Ah(e){return Ft(FDe,e)}function tMt(e,t){return rMt(e)[t]}const LDe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Wtn,...nMt}=LDe;function rMt(e){switch(e){case Pl:case Ch:case Sh:case S6:case XA:case _6:case Jv:case E6:case Xx:case vm:case $g:case Mg:case Fg:case x6:case Dp:case Pp:return LDe;case xi:case fo:case Og:case iE:case Wd:case Gd:case Ng:return nMt;case qd:case Eh:case Yd:case sc:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case ym:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Lg:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Ol:return{point:"always",geoshape:"always"};case KA:return{text:"always"};case jb:return{point:"always",square:"always",text:"always"};case C6:return{image:"always"};case yc:return{text:"always",arc:"always"};case Vd:return{text:"always",arc:"always"};case gm:case mm:return{arc:"always"}}}function t9(e){switch(e){case xi:case fo:case yc:case Vd:case Og:case iE:case ym:case jb:case Fg:case vm:case $g:case Mg:case Ng:case qd:case Eh:case gm:case mm:return;case x6:case Dp:case Pp:case Ol:case Lg:case KA:case Jv:case E6:case C6:case S6:return"discrete";case Pl:case Ch:case Sh:return"flexible";case Wd:case Gd:case Yd:case sc:case XA:case _6:case Xx:return}}const iMt={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},sMt={count:1,min:1,max:1};function Qp(e){return pt(e,"argmin")}function jg(e){return pt(e,"argmax")}function FJ(e){return It(e)&&Ft(iMt,e)}const oMt=new Set(["count","valid","missing","distinct"]);function A6(e){return It(e)&&oMt.has(e)}function aMt(e){return It(e)&&Hn(["min","max"],e)}const lMt=new Set(["count","sum","distinct","valid","missing"]),uMt=new Set(["mean","average","median","q1","q3","min","max"]);function jDe(e){return fm(e)&&(e=j6(e,void 0)),"bin"+ft(e).map(t=>k6(e[t])?bi(`_${t}_${sg(e[t])}`):bi(`_${t}_${e[t]}`)).join("")}function ai(e){return e===!0||zb(e)&&!e.binned}function So(e){return e==="binned"||zb(e)&&e.binned===!0}function zb(e){return Dt(e)}function k6(e){return pt(e,"param")}function hfe(e){switch(e){case Dp:case Pp:case ym:case Pl:case Ch:case Sh:case Fg:case vm:case $g:case Mg:case Ol:return 6;case Lg:return 4;default:return 10}}function JA(e){return pt(e,"expr")}function To(e,{level:t}={level:0}){const n=ft(e||{}),r={};for(const i of n)r[i]=t===0?Ql(e[i]):To(e[i],{level:t-1});return r}function BDe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:s,limit:o,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:h,subtitlePadding:p,...m}=e,g={...m,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...s!==void 0?{angle:s}:{},...o!==void 0?{limit:o}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},w=Gx(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:w,nonMarkTitleProperties:y,subtitle:v}}function l0(e){return It(e)||Xe(e)&&It(e[0])}function Xt(e){return pt(e,"signal")}function Ub(e){return pt(e,"step")}function cMt(e){return Xe(e)?!1:pt(e,"fields")&&!pt(e,"data")}function dMt(e){return Xe(e)?!1:pt(e,"fields")&&pt(e,"data")}function wp(e){return Xe(e)?!1:pt(e,"field")&&pt(e,"data")}const fMt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},hMt=ft(fMt),pMt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},yH=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function zDe(e){const t=Xe(e.condition)?e.condition.map(pfe):pfe(e.condition);return{...Ql(e),condition:t}}function Ql(e){if(JA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function pfe(e){if(JA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function fi(e){if(JA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Xt(e)?e:e!==void 0?{value:e}:void 0}function mMt(e){return Xt(e)?e.signal:vt(e)}function mfe(e){return Xt(e)?e.signal:vt(e.value)}function sd(e){return Xt(e)?e.signal:e==null?null:vt(e)}function gMt(e,t,n){for(const r of n){const i=ih(r,t.markDef,t.config);i!==void 0&&(e[r]=fi(i))}return e}function UDe(e){return[].concat(e.type,e.style??[])}function Yr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:s}=r;return i&&pt(t,i)?t[i]:t[e]!==void 0?t[e]:s&&(!i||i===e)?void 0:ih(e,t,n,r)}function ih(e,t,n,{vgChannel:r}={}){const i=vH(e,t,n.style);return rs(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function vH(e,t,n){return HDe(e,UDe(t),n)}function HDe(e,t,n){t=Rt(t);let r;for(const i of t){const s=n[i];pt(s,e)&&(r=s[e])}return r}function qDe(e,t){return Rt(e).reduce((n,r)=>(n.field.push(At(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function VDe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(eu(i,r))return;n.push(r)}),n}function WDe(e,t){return eu(e,t)||!t?e:e?[...Rt(e),...Rt(t)].join(", "):t}function GDe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((l0(n)||Xt(n))&&(l0(r)||Xt(r)))return{explicit:e.explicit,value:WDe(n,r)};if(l0(n)||Xt(n))return{explicit:e.explicit,value:n};if(l0(r)||Xt(r))return{explicit:e.explicit,value:r};if(!l0(n)&&!Xt(n)&&!l0(r)&&!Xt(r))return{explicit:e.explicit,value:VDe(n,r)};throw new Error("It should never reach here")}function LJ(e){return`Invalid specification ${Xr(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const yMt='Autosize "fit" only works for single views and layered views.';function gfe(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function yfe(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function vfe(e){return e?`Dropping "fit-${e}" because spec has discrete ${Nl(e)}.`:'Dropping "fit" because spec has discrete size.'}function jJ(e){return`Unknown field for ${e}. Cannot calculate view size.`}function bfe(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function vMt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function bMt(e){return`The "nearest" transform is not supported for ${e} marks.`}function YDe(e){return`Selection not supported for ${e} yet.`}function wMt(e){return`Cannot find a selection named "${e}".`}const xMt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",_Mt="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",EMt="Legend bindings are only supported for selections over an individual field or encoding channel.";function CMt(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function SMt(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const TMt="The same selection must be used to override scale domains in a layered view.",AMt='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function kMt(e){return`Unknown repeated value "${e}".`}function wfe(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const IMt="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",BJ="Animation involving facet, layer, or concat is currently unsupported.";function RMt(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${vt(e)}.`}function DMt(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${vt(t)} encoding found for selection ${vt(n.param)}. Using "field": ${vt(r)}.`}const PMt="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function OMt(e){return`Unrecognized parse "${e}".`}function xfe(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const NMt="Attempt to add the same child twice.";function $Mt(e){return`Ignoring an invalid transform: ${Xr(e)}.`}const MMt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function _fe(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function FMt(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Xr(t)} is overridden by a child projection ${Xr(n)}.`}const LMt="Arc marks uses theta channel rather than angle, replacing angle with theta.";function jMt(e){return`${e}Offset dropped because ${e} is continuous`}function BMt(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Xr(n)}}.`}function KDe(e){return`Invalid field type "${e}".`}function zMt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function UMt(e){return`Invalid aggregation operator "${e}".`}function XDe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function HMt(e){return`Position range does not support relative band size for ${e}.`}function bH(e,t){return`Dropping ${Xr(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const qMt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function I6(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function VMt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function WMt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function GMt(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function YMt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function n9(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function KMt(e){return`The ${e} for range marks cannot be an expression`}function XMt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function QMt(e,t){return`Specified orient "${e}" overridden with "${t}".`}function JMt(e){return`Cannot use the scale property "${e}" with non-color channel.`}function ZMt(e){return`Cannot use the relative band size with ${e} scale.`}function e6t(e){return`Using unaggregated domain with raw field has no effect (${Xr(e)}).`}function t6t(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function n6t(e){return`Unaggregated domain is currently unsupported for log scale (${Xr(e)}).`}function r6t(e){return`Cannot apply size to non-oriented mark "${e}".`}function i6t(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function s6t(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function QDe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function JDe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function o6t(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Xr(n)} and ${Xr(r)}). Using ${Xr(n)}.`}function a6t(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Xr(n)} and ${Xr(r)}). Using the union of the two domains.`}function l6t(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function u6t(e){return`Dropping sort property ${Xr(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const Efe="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",c6t="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",d6t="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",f6t="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function h6t(e){return`Cannot stack "${e}" if there is already "${e}2".`}function p6t(e){return`Stack is applied to a non-linear scale (${e}).`}function m6t(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function $N(e,t){return`Invalid ${e}: ${Xr(t)}.`}function g6t(e){return`Dropping day from datetime ${Xr(e)} as day cannot be combined with other units.`}function y6t(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function v6t(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function b6t(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function Cfe(e){return`1D error band does not support ${e}.`}function ZDe(e){return`Channel ${e} is required for "binned" bin.`}function w6t(e){return`Channel ${e} should not be used with "binned" bin.`}function x6t(e){return`Domain for ${e} is required for threshold scale.`}const ePe=sK(iK);let Zv=ePe;function _6t(e){return Zv=e,Zv}function E6t(){return Zv=ePe,Zv}function zJ(...e){Zv.error(...e)}function yt(...e){Zv.warn(...e)}function C6t(...e){Zv.debug(...e)}function Hb(e){if(e&&Dt(e)){for(const t of HJ)if(pt(e,t))return!0}return!1}const tPe=["january","february","march","april","may","june","july","august","september","october","november","december"],S6t=tPe.map(e=>e.substr(0,3)),nPe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],T6t=nPe.map(e=>e.substr(0,3));function A6t(e){if(w6(e)&&(e=+e),yr(e))return e>4&&yt($N("quarter",e)),e-1;throw new Error($N("quarter",e))}function k6t(e){if(w6(e)&&(e=+e),yr(e))return e-1;{const t=e.toLowerCase(),n=tPe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=S6t.indexOf(r);if(i!==-1)return i;throw new Error($N("month",e))}}function I6t(e){if(w6(e)&&(e=+e),yr(e))return e%7;{const t=e.toLowerCase(),n=nPe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=T6t.indexOf(r);if(i!==-1)return i;throw new Error($N("day",e))}}function UJ(e,t){const n=[];if(t&&e.day!==void 0&&ft(e).length>1&&(yt(g6t(e)),e=xn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?k6t(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?A6t(e.quarter):e.quarter;n.push(yr(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?I6t(e.day):e.day;n.push(yr(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function eb(e){const n=UJ(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function R6t(e){const n=UJ(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function D6t(e){const t=UJ(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const rPe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},HJ=ft(rPe);function P6t(e){return Ft(rPe,e)}function qb(e){return Dt(e)?e.binned:iPe(e)}function iPe(e){return e&&e.startsWith("binned")}function qJ(e){return e.startsWith("utc")}function O6t(e){return e.substring(3)}const N6t={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function R6(e){return HJ.filter(t=>oPe(e,t))}function sPe(e){const t=R6(e);return t[t.length-1]}function oPe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function $6t(e,t,{end:n}={end:!1}){const r=kJ(t),i=qJ(e)?"utc":"";function s(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let o;const a={};for(const l of HJ)oPe(e,l)&&(a[l]=s(l),o=l);return n&&(a[o]+="+1"),R6t(a)}function aPe(e){if(!e)return;const t=R6(e);return`timeUnitSpecifier(${Xr(t)}, ${Xr(N6t)})`}function M6t(e,t,n){if(!e)return;const r=aPe(e);return`${n||qJ(e)?"utc":"time"}Format(${t}, ${r})`}function so(e){if(!e)return;let t;return It(e)?iPe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Dt(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),qJ(t.unit)&&(t.utc=!0,t.unit=O6t(t.unit)),t}function F6t(e){const{utc:t,...n}=so(e);return n.unit?(t?"utc":"")+ft(n).map(r=>bi(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+ft(n).map(r=>bi(`_${r}_${n[r]}`)).join("")}function lPe(e,t=n=>n){const n=so(e),r=sPe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:s,part:o}=uPe(r,n.step),a={...i,[o]:+i[o]+s};return`${t(eb(a))} - ${t(eb(i))}`}}const L6t={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function j6t(e){return Ft(L6t,e)}function uPe(e,t=1){if(j6t(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function B6t(e){return pt(e,"param")}function VJ(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function WJ(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function GJ(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function YJ(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function KJ(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function XJ(e){if(e!=null&&e.field){if(Xe(e.range)&&e.range.length===2)return!0;if(Xt(e.range))return!0}return!1}function QJ(e){return!!(e!=null&&e.field)&&(Xe(e.oneOf)||Xe(e.in))}function z6t(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function cPe(e){return QJ(e)||VJ(e)||XJ(e)||WJ(e)||YJ(e)||GJ(e)||KJ(e)}function pf(e,t){return B6(e,{timeUnit:t,wrapTime:!0})}function U6t(e,t){return e.map(n=>pf(n,t))}function dPe(e,t=!0){const{field:n}=e,r=so(e.timeUnit),{unit:i,binned:s}=r||{},o=At(e,{expr:"datum"}),a=i?`time(${s?o:$6t(i,n)})`:o;if(VJ(e))return`${a}===${pf(e.equal,i)}`;if(WJ(e)){const l=e.lt;return`${a}<${pf(l,i)}`}else if(YJ(e)){const l=e.gt;return`${a}>${pf(l,i)}`}else if(GJ(e)){const l=e.lte;return`${a}<=${pf(l,i)}`}else if(KJ(e)){const l=e.gte;return`${a}>=${pf(l,i)}`}else{if(QJ(e))return`indexof([${U6t(e.oneOf,i).join(",")}], ${a}) !== -1`;if(z6t(e))return D6(a,e.valid);if(XJ(e)){const{range:l}=To(e),u=Xt(l)?{signal:`${l.signal}[0]`}:l[0],c=Xt(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+pf(u,i)+", "+pf(c,i)+"])";const d=[];return u!==null&&d.push(`${a} >= ${pf(u,i)}`),c!==null&&d.push(`${a} <= ${pf(c,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Xr(e)}`)}function D6(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function H6t(e){return cPe(e)&&e.timeUnit?{...e,timeUnit:so(e.timeUnit)}:e}const ZA={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function q6t(e){return e==="quantitative"||e==="temporal"}function fPe(e){return e==="ordinal"||e==="nominal"}const tb=ZA.quantitative,JJ=ZA.ordinal,Qx=ZA.temporal,ZJ=ZA.nominal,sE=ZA.geojson;function V6t(e){if(e)switch(e=e.toLowerCase(),e){case"q":case tb:return"quantitative";case"t":case Qx:return"temporal";case"o":case JJ:return"ordinal";case"n":case ZJ:return"nominal";case sE:return"geojson"}}const Ao={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},wH={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function W6t(e,t){const n=wH[e],r=wH[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const G6t={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Sfe(e){return G6t[e]}const hPe=new Set(["linear","log","pow","sqrt","symlog"]),pPe=new Set([...hPe,"time","utc"]);function mPe(e){return hPe.has(e)}const gPe=new Set(["quantile","quantize","threshold"]),Y6t=new Set([...pPe,...gPe,"sequential","identity"]),K6t=new Set(["ordinal","bin-ordinal","point","band"]);function oo(e){return K6t.has(e)}function Ad(e){return Y6t.has(e)}function Of(e){return pPe.has(e)}function Jx(e){return gPe.has(e)}const X6t={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function Q6t(e){return!It(e)&&pt(e,"name")}function yPe(e){return pt(e,"param")}function J6t(e){return pt(e,"unionWith")}function Z6t(e){return Dt(e)&&"field"in e}const e5t={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Gtn,domain:Ytn,range:Ktn,rangeMax:Xtn,rangeMin:Qtn,scheme:Jtn,...t5t}=e5t,n5t=ft(t5t);function xH(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Of(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Of(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Of(e);case"nice":return Of(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Ad(e)&&!Hn(["log","time","utc","threshold","quantile"],e)}}function vPe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return rx(e)?void 0:JMt(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function r5t(e,t){return Hn([JJ,ZJ],t)?e===void 0||oo(e):t===Qx?Hn([Ao.TIME,Ao.UTC,void 0],e):t===tb?mPe(e)||Jx(e)||e===void 0:!0}function i5t(e,t,n=!1){if(!Ah(e))return!1;switch(e){case xi:case fo:case Og:case iE:case yc:case Vd:return Of(t)||t==="band"?!0:t==="point"?!n:!1;case Ng:return Hn(["linear","band"],t);case ym:case Fg:case vm:case $g:case Mg:case jb:return Of(t)||Jx(t)||Hn(["band","point","ordinal"],t);case Pl:case Ch:case Sh:return t!=="band";case Lg:case Ol:return t==="ordinal"||Jx(t)}}function s5t(e){return Dt(e)&&"value"in e}const Qa={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},bPe=Qa.arc,P6=Qa.area,O6=Qa.bar,o5t=Qa.image,N6=Qa.line,$6=Qa.point,a5t=Qa.rect,MN=Qa.rule,wPe=Qa.text,eZ=Qa.tick,l5t=Qa.trail,tZ=Qa.circle,nZ=Qa.square,xPe=Qa.geoshape;function Bg(e){return["line","area","trail"].includes(e)}function gT(e){return["rect","bar","image","arc","tick"].includes(e)}const u5t=new Set(ft(Qa));function sh(e){return pt(e,"type")}const c5t=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],d5t=["fill","fillOpacity"],f5t=[...c5t,...d5t],h5t={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},Tfe=ft(h5t),r9=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],p5t={area:["line","point"],bar:r9,rect:r9,line:["point"],tick:["bandSize","thickness",...r9]},m5t={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},g5t={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},_Pe=ft(g5t);function nb(e){return pt(e,"band")}const y5t={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},v5t=5,rZ={binSpacing:0,continuousBandSize:v5t,minBandSize:.25,timeUnitBandPosition:.5},b5t={...rZ,binSpacing:1},w5t={...rZ,thickness:1};function x5t(e){return sh(e)?e.type:e}function EPe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function iZ({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var a,l;if(!r||!Ad(r)||i)return"always-valid";const s=EPe(Yr("invalid",e,t),{isPath:Bg(e.type)});return((l=(a=t.scale)==null?void 0:a.invalid)==null?void 0:l[n])!==void 0?"show":s}function _5t(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function CPe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,s=`peek(${r})`,o=t.domainHasZero();return o==="definitely"?{scale:e,value:0}:o==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:s})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:s})`}}function SPe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:s}){var c;const o=n==null?void 0:n.get("type"),a=Id(t),l=A6(a==null?void 0:a.aggregate),u=iZ({scaleChannel:e,markDef:i,config:s,scaleType:o,isCountAggregate:l});if(a&&u==="show"){const d=((c=s.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:D6(At(a,{expr:"datum"}),!1),...E5t(d,n,r)}}}function E5t(e,t,n){if(s5t(e)){const{value:r}=e;return Xt(r)?{signal:r.signal}:{value:r}}return CPe({scale:t,scaleName:n,mode:"zeroOrMin"})}function sZ(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:s,config:o}=e,a=Bb(t),l=oZ(e),u=SPe({scaleChannel:a,channelDef:n,scale:i,scaleName:s,markDef:r,config:o});return u!==void 0?[u,l]:l}function C5t(e){const{datum:t}=e;return Hb(t)?eb(t):`${Xr(t)}`}function xv(e,t,n,r){const i={};if(t&&(i.scale=t),kh(e)){const{datum:s}=e;Hb(s)?i.signal=eb(s):Xt(s)?i.signal=s.signal:JA(s)?i.signal=s.expr:i.value=s}else i.field=At(e,n);if(r){const{offset:s,band:o}=r;s&&(i.offset=s),o&&(i.band=o)}return i}function FN({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:s="end",bandPosition:o=.5}){const a=!Xt(o)&&0<o&&o<1?"datum":void 0,l=At(t,{expr:a,suffix:i}),u=n!==void 0?At(n,{expr:a}):At(t,{suffix:s,expr:a}),c={};if(o===0||o===1){c.scale=e;const d=o===0?l:u;c.field=d}else{const d=Xt(o)?`(1-${o.signal}) * ${l} + ${o.signal} * ${u}`:`${1-o} * ${l} + ${o} * ${u}`;c.signal=`scale("${e}", ${d})`}return r&&(c.offset=r),c}function S5t({scaleName:e,fieldDef:t}){const n=At(t,{expr:"datum"}),r=At(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function oZ({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Sn(t)){const d=o==null?void 0:o.get("type");if(Wa(t)){c??(c=ag({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:f,timeUnit:h,type:p}=t;if(ai(f)||c&&h&&p===Qx)return a!=null&&a.impute?xv(t,s,{binSuffix:"mid"},{offset:l}):c&&!oo(d)?FN({scaleName:s,fieldOrDatumDef:t,bandPosition:c,offset:l}):xv(t,s,ik(t,e)?{binSuffix:"range"}:{},{offset:l});if(So(f)){if(wt(n))return FN({scaleName:s,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});yt(ZDe(e===xi?qd:Eh))}}return xv(t,s,oo(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?c??t.bandPosition??.5:void 0})}else if(kd(t)){const d=t.value,f=l?{offset:l}:{};return{...n2(e,d),...f}}}return Rn(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function n2(e,t){return Hn(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Hn(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:fi(t)}function rb(e){return e&&e!=="number"&&e!=="time"}function TPe(e,t,n){return`${e}(${t}${n?`, ${Xr(n)}`:""})`}const T5t="  ";function aZ({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s}){var l,u;if(rb(n))return od({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:s});const o=APe(e,r,i),a=Zx(e);if(t===void 0&&n===void 0&&s.customFormatTypes){if(a==="quantitative"){if(i&&s.normalizedNumberFormatType)return od({fieldOrDatumDef:e,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:r,config:s});if(s.numberFormatType)return od({fieldOrDatumDef:e,format:s.numberFormat,formatType:s.numberFormatType,expr:r,config:s})}if(a==="temporal"&&s.timeFormatType&&wt(e)&&e.timeUnit===void 0)return od({fieldOrDatumDef:e,format:s.timeFormat,formatType:s.timeFormatType,expr:r,config:s})}if(t_(e)){const c=k5t({field:o,timeUnit:wt(e)?(l=so(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:Vb(e)&&((u=e.scale)==null?void 0:u.type)===Ao.UTC});return c?{signal:c}:void 0}if(t=_H({type:a,specifiedFormat:t,config:s,normalizeStack:i}),wt(e)&&ai(e.bin)){const c=At(e,{expr:r,binSuffix:"end"});return{signal:ek(o,c,t,n,s)}}else return t||Zx(e)==="quantitative"?{signal:`${RPe(o,t)}`}:{signal:`isValid(${o}) ? ${o} : ""+${o}`}}function APe(e,t,n){return wt(e)?n?`${At(e,{expr:t,suffix:"end"})}-${At(e,{expr:t,suffix:"start"})}`:At(e,{expr:t}):C5t(e)}function od({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s,field:o}){if(o??(o=APe(e,r,i)),o!=="datum.value"&&wt(e)&&ai(e.bin)){const a=At(e,{expr:r,binSuffix:"end"});return{signal:ek(o,a,t,n,s)}}return{signal:TPe(n,o,t)}}function kPe(e,t,n,r,i,s){var o;if(!(It(r)&&rb(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Zx(e)==="quantitative"&&(i.normalizedNumberFormatType&&e_(e)&&e.stack==="normalize"||i.numberFormatType))){if(e_(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return _H({type:"quantitative",config:i,normalizeStack:!0});if(t_(e)){const a=wt(e)?(o=so(e.timeUnit))==null?void 0:o.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:A5t({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:s})}return _H({type:t,specifiedFormat:n,config:i})}}function IPe(e,t,n){var r;if(e&&(Xt(e)||e==="number"||e==="time"))return e;if(t_(t)&&n!=="time"&&n!=="utc")return wt(t)&&((r=so(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function _H({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(It(t))return t;if(e===tb)return r?n.normalizedNumberFormat:n.numberFormat}function A5t({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:aPe(t)}:r?void 0:n.timeFormat)}function RPe(e,t){return`format(${e}, "${t||""}")`}function Afe(e,t,n,r){return rb(n)?TPe(n,e,t):RPe(e,(It(t)?t:void 0)??r.numberFormat)}function ek(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return ek(e,t,i.numberFormat,i.numberFormatType,i);const s=Afe(e,n,r,i),o=Afe(t,n,r,i);return`${D6(e,!1)} ? "null" : ${s} + "${T5t}" + ${o}`}function k5t({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:s}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=It(n)?n:i,`${s?"utc":"time"}Format(${e}, '${n}')`):M6t(t,e,s)}const M6="min",I5t={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function kfe(e){return Ft(I5t,e)}function R5t(e){return pt(e,"encoding")}function Op(e){return e&&(e.op==="count"||pt(e,"field"))}function DPe(e){return e&&Xe(e)}function tk(e){return pt(e,"row")||pt(e,"column")}function lZ(e){return pt(e,"header")}function F6(e){return pt(e,"facet")}function D5t(e){return pt(e,"param")}function P5t(e){return!It(e)&&pt(e,"repeat")}function Ife(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function uZ(e){return pt(e,"sort")}function ag({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Sn(e)&&e.bandPosition!==void 0)return e.bandPosition;if(wt(e)){const{timeUnit:i,bin:s}=e;if(i&&!t)return ih("timeUnitBandPosition",n,r);if(ai(s))return .5}}function PPe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:s,useVlSizeChannel:o}){var u,c,d;const a=Nl(e),l=Yr(o?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(wt(t)){const{timeUnit:f,bin:h}=t;if(f&&!n)return{band:ih("timeUnitBandSize",r,i)};if(ai(h)&&!oo(s))return{band:1}}if(gT(r.type))return s?oo(s)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(d=i[r.type])==null?void 0:d.discreteBandSize}function OPe(e,t,n,r){return ai(e.bin)||e.timeUnit&&Wa(e)&&e.type==="temporal"?ag({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function NPe(e){return pt(e,"sort")&&!pt(e,"field")}function nk(e){return pt(e,"condition")}function L6(e){const t=e==null?void 0:e.condition;return!!t&&!Xe(t)&&wt(t)}function rk(e){const t=e==null?void 0:e.condition;return!!t&&!Xe(t)&&Sn(t)}function O5t(e){const t=e==null?void 0:e.condition;return!!t&&(Xe(t)||kd(t))}function wt(e){return pt(e,"field")||(e==null?void 0:e.aggregate)==="count"}function Zx(e){return e==null?void 0:e.type}function kh(e){return pt(e,"datum")}function k0(e){return Wa(e)&&!jN(e)||LN(e)}function Rfe(e){return Wa(e)&&e.type==="quantitative"&&!e.bin||LN(e)}function LN(e){return kh(e)&&yr(e.datum)}function Sn(e){return wt(e)||kh(e)}function Wa(e){return e&&(pt(e,"field")||e.aggregate==="count")&&pt(e,"type")}function kd(e){return pt(e,"value")}function Vb(e){return pt(e,"scale")||pt(e,"sort")}function e_(e){return pt(e,"axis")||pt(e,"stack")||pt(e,"impute")}function $Pe(e){return pt(e,"legend")}function MPe(e){return pt(e,"format")||pt(e,"formatType")}function N5t(e){return Sl(e,["legend","axis","header","scale"])}function $5t(e){return pt(e,"op")}function At(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,s="";if(F5t(e))n=SDe("count");else{let o;if(!t.nofn)if($5t(e))o=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;ai(a)?(o=jDe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?jg(l)?(s=`["${n}"]`,n=`argmax_${l.argmax}`):Qp(l)?(s=`["${n}"]`,n=`argmin_${l.argmin}`):o=String(l):u&&!qb(u)&&(o=F6t(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}o&&(n=n?`${o}_${n}`:o)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?rE(n):t.expr?_De(n,t.expr)+s:ic(n)+s}function jN(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return wt(e)&&!!e.bin;case"temporal":return!1}throw new Error(KDe(e.type))}function M5t(e){var t;return Vb(e)&&Jx((t=e.scale)==null?void 0:t.type)}function F5t(e){return e.aggregate==="count"}function L5t(e,t){var o;const{field:n,bin:r,timeUnit:i,aggregate:s}=e;if(s==="count")return t.countTitle;if(ai(r))return`${n} (binned)`;if(i&&!qb(i)){const a=(o=so(i))==null?void 0:o.unit;if(a)return`${n} (${R6(a).join("-")})`}else if(s)return jg(s)?`${n} for max ${s.argmax}`:Qp(s)?`${n} for min ${s.argmin}`:`${YA(s)} of ${n}`;return n}function j5t(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(jg(t))return`${i} for argmax(${t.argmax})`;if(Qp(t))return`${i} for argmin(${t.argmin})`;const s=r&&!qb(r)?so(r):void 0,o=t||(s==null?void 0:s.unit)||(s==null?void 0:s.maxbins)&&"timeunit"||ai(n)&&"bin";return o?`${o.toUpperCase()}(${i})`:i}const FPe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return j5t(e);default:return L5t(e,t)}};let LPe=FPe;function jPe(e){LPe=e}function B5t(){jPe(FPe)}function ix(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=cZ(e))==null?void 0:a.title;if(!wt(e))return i??e.title;const s=e,o=r?dZ(s,t):void 0;return n?rs(i,s.title,o):i??s.title??o}function cZ(e){if(e_(e)&&e.axis)return e.axis;if($Pe(e)&&e.legend)return e.legend;if(lZ(e)&&e.header)return e.header}function dZ(e,t){return LPe(e,t)}function BN(e){if(MPe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=cZ(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function z5t(e,t){var s;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(uZ(e)&&Xe(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!jg(n)&&!Qp(n))return"quantitative";if(Vb(e)&&((s=e.scale)!=null&&s.type))switch(wH[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Id(e){if(wt(e))return e;if(L6(e))return e.condition}function Ps(e){if(Sn(e))return e;if(rk(e))return e.condition}function BPe(e,t,n,r={}){if(It(e)||yr(e)||fm(e)){const i=It(e)?"string":yr(e)?"number":"boolean";return yt(BMt(t,i,e)),{value:e}}return Sn(e)?zN(e,t,n,r):rk(e)?{...e,condition:zN(e.condition,t,n,r)}:e}function zN(e,t,n,r){if(MPe(e)){const{format:i,formatType:s,...o}=e;if(rb(s)&&!n.customFormatTypes)return yt(_fe(t)),zN(o,t,n,r)}else{const i=e_(e)?"axis":$Pe(e)?"legend":lZ(e)?"header":null;if(i&&e[i]){const{format:s,formatType:o,...a}=e[i];if(rb(o)&&!n.customFormatTypes)return yt(_fe(t)),zN({...e,[i]:a},t,n,r)}}return wt(e)?fZ(e,t,r):U5t(e)}function U5t(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=yr(n)?"quantitative":It(n)?"nominal":Hb(n)?"temporal":void 0,{...e,type:t}}function fZ(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:s,field:o}=e,a={...e};if(!n&&r&&!FJ(r)&&!jg(r)&&!Qp(r)&&(yt(UMt(r)),delete a.aggregate),i&&(a.timeUnit=so(i)),o&&(a.field=`${o}`),ai(s)&&(a.bin=j6(s,t)),So(s)&&!is(t)&&yt(w6t(t)),Wa(a)){const{type:l}=a,u=V6t(l);l!==u&&(a.type=u),l!=="quantitative"&&A6(r)&&(yt(zMt(l,r)),a.type="quantitative")}else if(!ODe(t)){const l=z5t(a,t);a.type=l}if(Wa(a)){const{compatible:l,warning:u}=H5t(a,t)||{};l===!1&&yt(u)}if(uZ(a)&&It(a.sort)){const{sort:l}=a;if(kfe(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&kfe(u))return{...a,sort:{encoding:u,order:"descending"}}}if(lZ(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function j6(e,t){return fm(e)?{maxbins:hfe(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:hfe(t)}:e}const W1={compatible:!0};function H5t(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Dp:case Pp:case x6:return jN(e)?W1:{compatible:!1,warning:WMt(t)};case xi:case fo:case Og:case iE:case Pl:case Ch:case Sh:case KA:case XA:case _6:case Jv:case E6:case C6:case jb:case yc:case Vd:case S6:return W1;case Gd:case sc:case Wd:case Yd:return n!==tb?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:W1;case vm:case $g:case Mg:case Fg:case ym:case gm:case mm:case qd:case Eh:case Ng:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:W1;case Ol:case Lg:return!jN(e)&&!M5t(e)?{compatible:!1,warning:GMt(t)}:W1;case Xx:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:W1}}function t_(e){const{formatType:t}=BN(e);return t==="time"||!t&&q5t(e)}function q5t(e){return e&&(e.type==="temporal"||wt(e)&&!!e.timeUnit)}function B6(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const s=t&&((l=so(t))==null?void 0:l.unit);let o=s||n==="temporal",a;return JA(e)?a=e.expr:Xt(e)?a=e.signal:Hb(e)?(o=!0,a=eb(e)):(It(e)||yr(e))&&o&&(a=`datetime(${Xr(e)})`,P6t(s)&&(yr(e)&&e<1e4||It(e)&&isNaN(Date.parse(e)))&&(a=eb({[s]:e}))),a?r&&o?`time(${a})`:a:i?void 0:Xr(e)}function zPe(e,t){const{type:n}=e;return t.map(r=>{const i=wt(e)&&!qb(e.timeUnit)?e.timeUnit:void 0,s=B6(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:r})}function ik(e,t){return ai(e.bin)?Ah(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const Dfe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function sk(e){return e==null?void 0:e.condition}const UPe=["domain","grid","labels","ticks","title"],V5t={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},HPe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},W5t={...HPe,style:1,labelExpr:1,encoding:1};function Pfe(e){return Ft(W5t,e)}const G5t={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},qPe=ft(G5t);function wm(e){return pt(e,"mark")}class z6{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return wm(t)?x5t(t.mark)===this.name:!1}}function _v(e,t){const n=e&&e[t];return n?Xe(n)?Yx(n,r=>!!r.field):wt(n)||L6(n):!1}function VPe(e,t){const n=e&&e[t];return n?Xe(n)?Yx(n,r=>!!r.field):wt(n)||kh(n)||rk(n):!1}function WPe(e,t){if(is(t)){const n=e[t];if((wt(n)||kh(n))&&(fPe(n.type)||wt(n)&&n.timeUnit)){const r=PJ(t);return VPe(e,r)}}return!1}function GPe(e){return Yx(U4t,t=>{if(_v(e,t)){const n=e[t];if(Xe(n))return Yx(n,r=>!!r.aggregate);{const r=Id(n);return r&&!!r.aggregate}}return!1})}function YPe(e,t){const n=[],r=[],i=[],s=[],o={};return hZ(e,(a,l)=>{if(wt(a)){const{field:u,aggregate:c,bin:d,timeUnit:f,...h}=a;if(c||f||d){const p=cZ(a),m=p==null?void 0:p.title;let g=At(a,{forAs:!0});const y={...m?[]:{title:ix(a,t,{allowDisabling:!0})},...h,field:g};if(c){let v;if(jg(c)?(v="argmax",g=At({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${g}.${u}`):Qp(c)?(v="argmin",g=At({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${g}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const w={op:v,as:g};u&&(w.field=u),s.push(w)}}else if(n.push(g),Wa(a)&&ai(d)){if(r.push({bin:d,field:u,as:g}),n.push(At(a,{binSuffix:"end"})),ik(a,l)&&n.push(At(a,{binSuffix:"range"})),is(l)){const v={field:`${g}_end`};o[`${l}2`]=v}y.bin="binned",ODe(l)||(y.type=tb)}else if(f&&!qb(f)){i.push({timeUnit:f,field:u,as:g});const v=Wa(a)&&a.type!==Qx&&"time";v&&(l===KA||l===Jv?y.formatType=v:Z4t(l)?y.legend={formatType:v,...y.legend}:is(l)&&(y.axis={formatType:v,...y.axis}))}o[l]=y}else n.push(u),o[l]=e[l]}else o[l]=e[l]}),{bins:r,timeUnits:i,aggregate:s,groupby:n,encoding:o}}function Y5t(e,t,n){const r=tMt(t,n);if(r){if(r==="binned"){const i=e[t===qd?xi:fo];return!!(wt(i)&&wt(e[t])&&So(i.bin))}}else return!1;return!0}function K5t(e,t,n,r){const i={};for(const s of ft(e))PDe(s)||yt(VMt(s));for(let s of Y4t){if(!e[s])continue;const o=e[s];if(QA(s)){const a=G4t(s),l=i[a];if(wt(l)&&q6t(l.type)&&wt(o)&&!l.timeUnit){yt(jMt(a));continue}}if(s==="angle"&&t==="arc"&&!e.theta&&(yt(LMt),s=yc),!Y5t(e,s,t)){yt(I6(s,t));continue}if(s===ym&&t==="line"){const a=Id(e[s]);if(a!=null&&a.aggregate){yt(qMt);continue}}if(s===Pl&&(n?"fill"in e:"stroke"in e)){yt(XDe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(s===XA||s===Xx&&!Xe(o)&&!kd(o)||s===Jv&&Xe(o)){if(o){if(s===Xx){const a=e[s];if(NPe(a)){i[s]=a;continue}}i[s]=Rt(o).reduce((a,l)=>(wt(l)?a.push(fZ(l,s)):yt(bH(l,s)),a),[])}}else{if(s===Jv&&o===null)i[s]=null;else if(!wt(o)&&!kh(o)&&!kd(o)&&!nk(o)&&!Xt(o)){yt(bH(o,s));continue}i[s]=BPe(o,s,r)}}return i}function U6(e,t){const n={};for(const r of ft(e)){const i=BPe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function X5t(e){const t=[];for(const n of ft(e))if(_v(e,n)){const r=e[n],i=Rt(r);for(const s of i)wt(s)?t.push(s):L6(s)&&t.push(s.condition)}return t}function hZ(e,t,n){if(e)for(const r of ft(e)){const i=e[r];if(Xe(i))for(const s of i)t.call(n,s,r);else t.call(n,i,r)}}function Q5t(e,t,n,r){return e?ft(e).reduce((i,s)=>{const o=e[s];return Xe(o)?o.reduce((a,l)=>t.call(r,a,l,s),i):t.call(r,i,o,s)},n):n}function KPe(e,t){return ft(t).reduce((n,r)=>{switch(r){case xi:case fo:case E6:case S6:case C6:case qd:case Eh:case Og:case iE:case yc:case gm:case Vd:case mm:case Ng:case Wd:case Gd:case Yd:case sc:case KA:case Ol:case jb:case Jv:return n;case Xx:if(e==="line"||e==="trail")return n;case XA:case _6:{const i=t[r];if(Xe(i)||wt(i))for(const s of Rt(i))s.aggregate||n.push(At(s,{}));return n}case ym:if(e==="trail")return n;case Pl:case Ch:case Sh:case vm:case $g:case Mg:case Lg:case Fg:{const i=Id(t[r]);return i&&!i.aggregate&&n.push(At(i,{})),n}}},[])}function J5t(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Xe(t)){for(const s of t)s.aggregate?(r||(r=[]),r.push(s)):(i||(i=[]),i.push(s));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Xe(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function EH(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:o,titlePrefix:a})=>{const l=r?` of ${pZ(t)}`:"";return{field:o+t.field,type:t.type,title:Xt(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),s=X5t(n).map(N5t);return{tooltip:[...i,...Pf(s,Zn)]}}function pZ(e){const{title:t,field:n}=e;return rs(t,n)}function mZ(e,t,n,r,i){const{scale:s,axis:o}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:d={}})=>{const f=pZ(n);return XPe(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...f!==void 0?{title:f}:{},...s!==void 0?{scale:s}:{},...o!==void 0?{axis:o}:{}},...It(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...d}})}}function XPe(e,t,n,r){const{clip:i,color:s,opacity:o}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...s?{color:s}:{},...o?{opacity:o}:{},...sh(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...fm(e[t])?{}:e[t]}}]:[]}function QPe(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",s=r[i],o=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:bR(s,n),continuousAxisChannelDef2:bR(o,n),continuousAxisChannelDefError:bR(a,n),continuousAxisChannelDefError2:bR(l,n),continuousAxis:i}}function bR(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&yt(b6t(n,t)),r}else return e}function JPe(e,t){const{mark:n,encoding:r}=e,{x:i,y:s}=r;if(sh(n)&&n.orient)return n.orient;if(k0(i)){if(k0(s)){const o=wt(i)&&i.aggregate,a=wt(s)&&s.aggregate;if(!o&&a===t)return"vertical";if(!a&&o===t)return"horizontal";if(o===t&&a===t)throw new Error("Both x and y cannot have aggregate");return t_(s)&&!t_(i)?"horizontal":"vertical"}return"horizontal"}else{if(k0(s))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const UN="boxplot",Z5t=["box","median","outliers","rule","ticks"],eFt=new z6(UN,e3e);function ZPe(e){return yr(e)?"tukey":e}function e3e(e,{config:t}){e={...e,encoding:U6(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:s,...o}=e,a=sh(n)?n:{type:n};i&&yt(YDe("boxplot"));const l=a.extent??t.boxplot.extent,u=Yr("size",a,t),c=a.invalid,d=ZPe(l),{bins:f,timeUnits:h,transform:p,continuousAxisChannelDef:m,continuousAxis:g,groupby:y,aggregate:v,encodingWithoutContinuousAxis:w,ticksOrient:E,boxOrient:C,customTooltipWithoutAggregatedField:S}=tFt(e,l,t),T=rE(m.field),{color:A,size:I,...D}=w,O=be=>mZ(a,g,m,be,t.boxplot),M=O(D),$=O(w),L=(Dt(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",z=O({...D,...I?{size:I}:{},color:{condition:{test:`${Br(`lower_box_${m.field}`)} >= ${Br(`upper_box_${m.field}`)}`,...A||{value:L}}}}),B=EH([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,w),W={type:"tick",color:"black",opacity:1,orient:E,invalid:c,aria:!1},V=d==="min-max"?B:EH([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,w),X=[...M({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:V}),...M({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:V}),...M({partName:"ticks",mark:W,positionPrefix:"lower_whisker",extraEncoding:V}),...M({partName:"ticks",mark:W,positionPrefix:"upper_whisker",extraEncoding:V})],U=[...d!=="tukey"?X:[],...$({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:C,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:B}),...z({partName:"median",mark:{type:"tick",invalid:c,...Dt(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:E,aria:!1},positionPrefix:"mid_box",extraEncoding:B})];if(d==="min-max")return{...o,transform:(o.transform??[]).concat(p),layer:U};const F=Br(`lower_box_${m.field}`),G=Br(`upper_box_${m.field}`),q=`(${G} - ${F})`,Y=`${F} - ${l} * ${q}`,J=`${G} + ${l} * ${q}`,te=Br(m.field),ue={joinaggregate:t3e(m.field),groupby:y},se={transform:[{filter:`(${Y} <= ${te}) && (${te} <= ${J})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${T}`},{op:"max",field:m.field,as:`upper_whisker_${T}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${T}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${T}`},...v],groupby:y}],layer:X},{tooltip:ne,...fe}=D,{scale:ee,axis:ie}=m,he=pZ(m),ye=Sl(ie,["title"]),Ce=XPe(a,"outliers",t.boxplot,{transform:[{filter:`(${te} < ${Y}) || (${te} > ${J})`}],mark:"point",encoding:{[g]:{field:m.field,type:m.type,...he!==void 0?{title:he}:{},...ee!==void 0?{scale:ee}:{},...Kr(ye)?{}:{axis:ye}},...fe,...A?{color:A}:{},...S?{tooltip:S}:{}}})[0];let Re;const De=[...f,...h,ue];return Ce?Re={transform:De,layer:[Ce,se]}:(Re=se,Re.transform.unshift(...De)),{...o,layer:[Re,{transform:p,layer:U}]}}function t3e(e){const t=rE(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function tFt(e,t,n){const r=JPe(e,UN),{continuousAxisChannelDef:i,continuousAxis:s}=QPe(e,r,UN),o=i.field,a=rE(o),l=ZPe(t),u=[...t3e(o),{op:"median",field:o,as:`mid_box_${a}`},{op:"min",field:o,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:o,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${Br(`upper_box_${a}`)} - ${Br(`lower_box_${a}`)}`,as:`iqr_${a}`},{calculate:`min(${Br(`upper_box_${a}`)} + ${Br(`iqr_${a}`)} * ${t}, ${Br(`max_${a}`)})`,as:`upper_whisker_${a}`},{calculate:`max(${Br(`lower_box_${a}`)} - ${Br(`iqr_${a}`)} * ${t}, ${Br(`min_${a}`)})`,as:`lower_whisker_${a}`}],{[s]:d,...f}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=J5t(f),{bins:m,timeUnits:g,aggregate:y,groupby:v,encoding:w}=YPe(p,n),E=r==="vertical"?"horizontal":"vertical",C=r,S=[...m,...g,{aggregate:[...y,...u],groupby:v},...c];return{bins:m,timeUnits:g,transform:S,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:w,ticksOrient:E,boxOrient:C,customTooltipWithoutAggregatedField:h}}const gZ="errorbar",nFt=["ticks","rule"],rFt=new z6(gZ,n3e);function n3e(e,{config:t}){e={...e,encoding:U6(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,ticksOrient:o,markDef:a,outerSpec:l,tooltipEncoding:u}=r3e(e,gZ,t);delete s.size;const c=mZ(a,i,r,s,t.errorbar),d=a.thickness,f=a.size,h={type:"tick",orient:o,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function iFt(e,t){const{encoding:n}=e;if(sFt(n))return{orient:JPe(e,t),inputType:"raw"};const r=oFt(n),i=aFt(n),s=n.x,o=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Sn(a)&&Sn(l))throw new Error(`${t} cannot have both x2 and y2`);if(Sn(a)){if(k0(s))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Sn(l)){if(k0(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Sn(l)&&!Sn(a))throw new Error(`${t} cannot have xError2 without xError`);if(Sn(c)&&!Sn(u))throw new Error(`${t} cannot have yError2 without yError`);if(Sn(a)&&Sn(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Sn(a)){if(k0(s))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Sn(u)){if(k0(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function sFt(e){return(Sn(e.x)||Sn(e.y))&&!Sn(e.x2)&&!Sn(e.y2)&&!Sn(e.xError)&&!Sn(e.xError2)&&!Sn(e.yError)&&!Sn(e.yError2)}function oFt(e){return Sn(e.x2)||Sn(e.y2)}function aFt(e){return Sn(e.xError)||Sn(e.xError2)||Sn(e.yError)||Sn(e.yError2)}function r3e(e,t,n){const{mark:r,encoding:i,params:s,projection:o,...a}=e,l=sh(r)?r:{type:r};s&&yt(YDe(t));const{orient:u,inputType:c}=iFt(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:m}=QPe(e,u,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:w}=lFt(l,d,f,h,p,c,t,n),{[m]:E,[m==="x"?"x2":"y2"]:C,[m==="x"?"xError":"yError"]:S,[m==="x"?"xError2":"yError2"]:T,...A}=i,{bins:I,timeUnits:D,aggregate:O,groupby:M,encoding:$}=YPe(A,n),L=[...O,...g],z=c!=="raw"?[]:M,B=EH(v,d,$,w);return{transform:[...a.transform??[],...I,...D,...L.length===0?[]:[{aggregate:L,groupby:z}],...y],groupby:z,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:$,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:B}}function lFt(e,t,n,r,i,s,o,a){let l=[],u=[];const c=t.field;let d,f=!1;if(s==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&yt(v6t(h,p,o)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`${Br(`center_${c}`)} + ${Br(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${Br(`center_${c}`)} - ${Br(`extent_${c}`)}`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:YA(h)},{fieldPrefix:"upper_",titlePrefix:Ofe(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:Ofe(h,p,"-")}],f=!0;else{let m,g,y;p==="ci"?(m="mean",g="ci0",y="ci1"):(m="median",g="q1",y="q3"),l=[{op:g,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:ix({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:ix({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:ix({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&yt(y6t(e.center,e.extent)),s==="aggregated-upper-lower"?(d=[],u=[{calculate:Br(n.field),as:`upper_${c}`},{calculate:Br(c),as:`lower_${c}`}]):s==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${Br(c)} + ${Br(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${Br(c)} + ${Br(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${Br(c)} - ${Br(r.field)}`,as:`lower_${c}`}));for(const h of u)d.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Qv(Qv(h.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:f}}function Ofe(e,t,n){return`${YA(e)} ${n} ${t}`}const yZ="errorband",uFt=["band","borders"],cFt=new z6(yZ,i3e);function i3e(e,{config:t}){e={...e,encoding:U6(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,markDef:o,outerSpec:a,tooltipEncoding:l}=r3e(e,yZ,t),u=o,c=mZ(u,i,r,s,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let f={type:d?"area":"rect"},h={type:d?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(f={...f,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?yt(Cfe("interpolate")):u.tension&&yt(Cfe("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const s3e={};function vZ(e,t,n){const r=new z6(e,t);s3e[e]={normalizer:r,parts:n}}function dFt(){return ft(s3e)}vZ(UN,e3e,Z5t);vZ(gZ,n3e,nFt);vZ(yZ,i3e,uFt);const fFt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],o3e={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},a3e={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},hFt=ft(o3e),pFt=ft(a3e),mFt={header:1,headerRow:1,headerColumn:1,headerFacet:1},l3e=ft(mFt),u3e=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],gFt={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},yFt={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Rd="_vgsid_",vFt={point:{on:"click",fields:[Rd],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function bZ(e){return e==="legend"||!!(e!=null&&e.legend)}function i9(e){return bZ(e)&&Dt(e)}function wZ(e){return!!(e!=null&&e.select)}function c3e(e){const t=[];for(const n of e||[]){if(wZ(n))continue;const{expr:r,bind:i,...s}=n;if(i&&r){const o={...s,bind:i,init:r};t.push(o)}else{const o={...s,...r?{update:r}:{},...i?{bind:i}:{}};t.push(o)}}return t}function bFt(e){return H6(e)||_Z(e)||xZ(e)}function xZ(e){return pt(e,"concat")}function H6(e){return pt(e,"vconcat")}function _Z(e){return pt(e,"hconcat")}function d3e({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function oh(e){return pt(e,"step")}function Nfe(e){return pt(e,"view")||pt(e,"width")||pt(e,"height")}const $fe=20,wFt={align:1,bounds:1,center:1,columns:1,spacing:1},xFt=ft(wFt);function _Ft(e,t,n){const r=n[t],i={},{spacing:s,columns:o}=r;s!==void 0&&(i.spacing=s),o!==void 0&&(F6(e)&&!tk(e.facet)||xZ(e))&&(i.columns=o),H6(e)&&(i.columns=1);for(const a of xFt)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=yr(l)?l:{row:l.row??s,column:l.column??s}}else i[a]=e[a];return i}function CH(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function SH(e,t){const n=HN(e,t);return oh(n)?n.step:f3e}function HN(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return rs(n,{step:e.step})}const f3e=20,EFt={continuousWidth:200,continuousHeight:200,step:f3e},CFt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:EFt,mark:m5t,arc:{},area:{},bar:b5t,circle:{},geoshape:{},image:{},line:{},point:{},rect:rZ,rule:{color:"black"},square:{},text:{color:"black"},tick:w5t,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:X6t,projection:{},legend:gFt,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:vFt,style:{},title:{},facet:{spacing:$fe},concat:{spacing:$fe},normalizedNumberFormat:".0%"},Yh=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Mfe={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Ffe={blue:Yh[0],orange:Yh[1],red:Yh[2],teal:Yh[3],green:Yh[4],yellow:Yh[5],purple:Yh[6],pink:Yh[7],brown:Yh[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function SFt(e={}){return{signals:[{name:"color",value:Dt(e)?{...Ffe,...e}:Ffe}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function TFt(e){return{signals:[{name:"fontSize",value:Dt(e)?{...Mfe,...e}:Mfe}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function AFt(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function h3e(e){const t=ft(e||{}),n={};for(const r of t){const i=e[r];n[r]=sk(i)?zDe(i):Ql(i)}return n}function kFt(e){const t=ft(e),n={};for(const r of t)n[r]=h3e(e[r]);return n}const IFt=[..._Pe,...qPe,...l3e,"background","padding","legend","lineBreak","scale","style","title","view"];function p3e(e={}){const{color:t,font:n,fontSize:r,selection:i,...s}=e,o=U_({},xn(CFt),n?AFt(n):{},t?SFt(t):{},r?TFt(r):{},s||{});i&&H_(o,"selection",i,!0);const a=Sl(o,IFt);for(const l of["background","lineBreak","padding"])o[l]&&(a[l]=Ql(o[l]));for(const l of _Pe)o[l]&&(a[l]=To(o[l]));for(const l of qPe)o[l]&&(a[l]=h3e(o[l]));for(const l of l3e)o[l]&&(a[l]=To(o[l]));if(o.legend&&(a.legend=To(o.legend)),o.scale){const{invalid:l,...u}=o.scale,c=To(l,{level:1});a.scale={...To(u),...ft(c).length>0?{invalid:c}:{}}}return o.style&&(a.style=kFt(o.style)),o.title&&(a.title=To(o.title)),o.view&&(a.view=To(o.view)),a}const RFt=new Set(["view",...u5t]),DFt=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],PFt={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...p5t};function OFt(e){e=xn(e);for(const t of DFt)delete e[t];if(e.axis)for(const t in e.axis)sk(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of fFt)delete e.legend[t];if(e.mark){for(const t of Tfe)delete e.mark[t];e.mark.tooltip&&Dt(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(c3e(e.params)),delete e.params);for(const t of RFt){for(const r of Tfe)delete e[t][r];const n=PFt[t];if(n)for(const r of n)delete e[t][r];$Ft(e,t)}for(const t of dFt())delete e[t];NFt(e);for(const t in e)Dt(e[t])&&Kr(e[t])&&delete e[t];return Kr(e)?void 0:e}function NFt(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=BDe(e.title);Kr(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Kr(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Kr(r)?delete e.title:e.title=r}function $Ft(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const s={...i,...e.style[n??t]};Kr(s)||(e.style[n??t]=s),delete e[t]}function q6(e){return pt(e,"layer")}function MFt(e){return pt(e,"repeat")}function FFt(e){return!Xe(e.repeat)&&pt(e.repeat,"layer")}class EZ{map(t,n){return F6(t)?this.mapFacet(t,n):MFt(t)?this.mapRepeat(t,n):_Z(t)?this.mapHConcat(t,n):H6(t)?this.mapVConcat(t,n):xZ(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(q6(t))return this.mapLayer(t,n);if(wm(t))return this.mapUnit(t,n);throw new Error(LJ(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(s=>this.map(s,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const LFt={zero:1,center:1,normalize:1};function jFt(e){return Ft(LFt,e)}const BFt=new Set([bPe,O6,P6,MN,$6,tZ,nZ,N6,wPe,eZ]),zFt=new Set([O6,P6,bPe]);function G1(e){return wt(e)&&Zx(e)==="quantitative"&&!e.bin}function Lfe(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",s=t==="x"&&["bar","area"].includes(r),o=e[t],a=e[i];if(wt(o)&&wt(a))if(G1(o)&&G1(a)){if(o.stack)return t;if(a.stack)return i;const l=wt(o)&&!!o.aggregate,u=wt(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(s){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(G1(o))return t;if(G1(a))return i}else{if(G1(o))return s&&n==="vertical"?void 0:t;if(G1(a))return s&&n==="horizontal"?void 0:i}}function UFt(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function m3e(e,t){var m,g;const n=sh(e)?e:{type:e},r=n.type;if(!BFt.has(r))return null;const i=Lfe(t,"x",n)||Lfe(t,"theta",n);if(!i)return null;const s=t[i],o=wt(s)?At(s,{}):void 0,a=UFt(i),l=[],u=new Set;if(t[a]){const y=t[a],v=wt(y)?At(y,{}):void 0;v&&v!==o&&(l.push(a),u.add(v))}const c=a==="x"?"xOffset":"yOffset",d=t[c],f=wt(d)?At(d,{}):void 0;f&&f!==o&&(l.push(c),u.add(f));const h=K4t.reduce((y,v)=>{if(v!=="tooltip"&&_v(t,v)){const w=t[v];for(const E of Rt(w)){const C=Id(E);if(C.aggregate)continue;const S=At(C,{});(!S||!u.has(S))&&y.push({channel:v,fieldDef:C})}}return y},[]);let p;return s.stack!==void 0?fm(s.stack)?p=s.stack?"zero":null:p=s.stack:zFt.has(r)&&(p="zero"),!p||!jFt(p)||GPe(t)&&h.length===0?null:((m=s==null?void 0:s.scale)!=null&&m.type&&((g=s==null?void 0:s.scale)==null?void 0:g.type)!==Ao.LINEAR&&s!=null&&s.stack&&yt(p6t(s.scale.type)),Sn(t[Th(i)])?(s.stack!==void 0&&yt(h6t(i)),null):(wt(s)&&s.aggregate&&!lMt.has(s.aggregate)&&yt(m6t(s.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:s.impute===null?!1:Bg(r),stackBy:h,offset:p}))}function g3e(e,t,n){const r=To(e),i=Yr("orient",r,n);if(r.orient=WFt(r.type,t,i),i!==void 0&&i!==r.orient&&yt(QMt(r.orient,i)),r.type==="bar"&&r.orient){const l=Yr("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:y5t[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const s=Yr("opacity",r,n),o=Yr("fillOpacity",r,n);return s===void 0&&o===void 0&&(r.opacity=qFt(r.type,t)),Yr("cursor",r,n)===void 0&&(r.cursor=HFt(r,t,n)),r}function HFt(e,t,n){return t.href||e.href||Yr("href",e,n)?"pointer":e.cursor}function qFt(e,t){if(Hn([$6,eZ,tZ,nZ],e)&&!GPe(t))return .7}function VFt(e,t,{graticule:n}){if(n)return!1;const r=ih("filled",e,t),i=e.type;return rs(r,i!==$6&&i!==N6&&i!==MN)}function WFt(e,t,n){switch(e){case $6:case tZ:case nZ:case wPe:case a5t:case o5t:return}const{x:r,y:i,x2:s,y2:o}=t;switch(e){case O6:if(wt(r)&&(So(r.bin)||wt(i)&&i.aggregate&&!r.aggregate))return"vertical";if(wt(i)&&(So(i.bin)||wt(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||s){if(n)return n;if(!s)return(wt(r)&&r.type===tb&&!ai(r.bin)||LN(r))&&wt(i)&&So(i.bin)?"horizontal":"vertical";if(!o)return(wt(i)&&i.type===tb&&!ai(i.bin)||LN(i))&&wt(r)&&So(r.bin)?"vertical":"horizontal"}case MN:if(s&&!(wt(r)&&So(r.bin))&&o&&!(wt(i)&&So(i.bin)))return;case P6:if(o)return wt(i)&&So(i.bin)?"horizontal":"vertical";if(s)return wt(r)&&So(r.bin)?"vertical":"horizontal";if(e===MN){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case N6:case eZ:{const a=Rfe(r),l=Rfe(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=Wa(r)&&r.type===Qx,c=Wa(i)&&i.type===Qx;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function GFt(e){const{point:t,line:n,...r}=e;return ft(r).length>1?r:r.type}function YFt(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Sl(e[t],["point","line"])});return e}function s9(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Dt(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Dt(t.point)?t.point:{}:void 0}function jfe(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class KFt{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(wm(t)){const{mark:r,encoding:i}=t,s=sh(r)?r:{type:r};switch(s.type){case"line":case"rule":case"trail":return!!s9(s,n[s.type],i);case"area":return!!s9(s,n[s.type],i)||!!jfe(s,n[s.type])}}return!1}run(t,n,r){const{config:i}=n,{params:s,projection:o,mark:a,name:l,encoding:u,...c}=t,d=U6(u,i),f=sh(a)?a:{type:a},h=s9(f,i[f.type],d),p=f.type==="area"&&jfe(f,i[f.type]),m=[{name:l,...s?{params:s}:{},mark:GFt({...f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{},...f}),encoding:Sl(d,["shape"])}],g=m3e(g3e(f,d,i),d);let y=d;if(g){const{fieldChannel:v,offset:w}=g;y={...d,[v]:{...d[v],...w?{stack:w}:{}}}}return y=Sl(y,["y2","x2"]),p&&m.push({...o?{projection:o}:{},mark:{type:"line",...Gx(f,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&m.push({...o?{projection:o}:{},mark:{type:"point",opacity:1,filled:!0,...Gx(f,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:m},{...n,config:YFt(i)})}}function XFt(e,t){return t?tk(e)?v3e(e,t):y3e(e,t):e}function o9(e,t){return t?v3e(e,t):e}function TH(e,t,n){const r=t[e];if(P5t(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};yt(kMt(r.repeat));return}return t}function y3e(e,t){if(e=TH("field",e,t),e!==void 0){if(e===null)return null;if(uZ(e)&&Op(e.sort)){const n=TH("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function Bfe(e,t){if(wt(e))return y3e(e,t);{const n=TH("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function zfe(e,t){if(Sn(e)){const n=Bfe(e,t);if(n)return n;if(nk(e))return{condition:e.condition}}else{if(rk(e)){const n=Bfe(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function v3e(e,t){const n={};for(const r in e)if(pt(e,r)){const i=e[r];if(Xe(i))n[r]=i.map(s=>zfe(s,t)).filter(s=>s);else{const s=zfe(i,t);s!==void 0&&(n[r]=s)}}return n}class QFt{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(wm(t)){const{encoding:n,mark:r}=t;if(r==="line"||sh(r)&&r.type==="line")for(const i of W4t){const s=Bb(i),o=n[s];if(n[i]&&(wt(o)&&!So(o.bin)||kh(o)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:s}=t;return yt(XMt(!!i.x2,!!i.y2)),r({...t,mark:Dt(s)?{...s,type:"rule"}:"rule"},n)}}class JFt extends EZ{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[eFt,rFt,cFt,new KFt,new QFt]}map(t,n){if(wm(t)){const r=_v(t.encoding,Dp),i=_v(t.encoding,Pp),s=_v(t.encoding,x6);if(r||i||s)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,s=o9(t.encoding,n.repeater),o={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...s?{encoding:s}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(o,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(o,n.config))return l.run(o,n,a);return o}mapRepeat(t,n){return FFt(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...s}=t,{row:o,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return o||a?this.mapRepeat({...t,repeat:{...o?{row:o}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...s,layer:l.map(d=>{const f={...u,layer:d},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${bi(d)}`,p=this.mapLayerOrUnit(i,{...n,repeater:f,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:s,...o}=t;!Xe(r)&&t.columns&&(t=Sl(t,["columns"]),yt(wfe("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!Xe(r)&&r.row||[l?l.row:null],d=!Xe(r)&&r.column||[l?l.column:null],f=Xe(r)&&r||[l?l.repeat:null];for(const p of f)for(const m of c)for(const g of d){const y={repeat:p,row:m,column:g,layer:l.layer},v=(i.name?`${i.name}_`:"")+u+"child__"+(Xe(r)?`${bi(p)}`:(r.row?`row_${bi(m)}`:"")+(r.column?`column_${bi(g)}`:"")),w=this.map(i,{...n,repeater:y,repeaterPrefix:v});w.name=v,a.push(Sl(w,["data"]))}const h=Xe(r)?t.columns:r.column?r.column.length:1;return{data:i.data??s,align:"all",...o,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return tk(r)&&t.columns&&(t=Sl(t,["columns"]),yt(wfe("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:s,parentProjection:o,config:a}=n,l=Hfe({parentProjection:o,projection:i}),u=Ufe({parentEncoding:s,encoding:o9(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:s,...o}=t.encoding,{mark:a,width:l,projection:u,height:c,view:d,params:f,encoding:h,...p}=t,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:s},n),y=o9(o,n.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...l?{width:l}:{},...c?{height:c}:{},...d?{view:d}:{},...u?{projection:u}:{},mark:a,encoding:y,...f?{params:f}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:s}=t;if(r||i){s&&yt(YMt([...r?[Dp]:[],...i?[Pp]:[]]));const o={},a={};for(const l of[Dp,Pp]){const u=t[l];if(u){const{align:c,center:d,spacing:f,columns:h,...p}=u;o[l]=p;for(const m of["align","center","spacing"])u[m]!==void 0&&(a[m]??(a[m]={}),a[m][l]=u[m])}}return{facetMapping:o,layout:a}}else{const{align:o,center:a,spacing:l,columns:u,...c}=s;return{facetMapping:XFt(c,n.repeater),layout:{...o?{align:o}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:s,projection:o,...a}=t,l={...i,parentEncoding:Ufe({parentEncoding:n,encoding:s,layer:!0}),parentProjection:Hfe({parentProjection:r,projection:o})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function Ufe({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...ft(e),...ft(t)]);for(const s of i){const o=t[s],a=e[s];if(Sn(o)){const l={...a,...o};r[s]=l}else rk(o)?r[s]={...o,condition:{...a,...o.condition}}:o||o===null?r[s]=o:(n||kd(a)||Xt(a)||Sn(a)||Xe(a))&&(r[s]=a)}}else r=t;return!r||Kr(r)?void 0:r}function Hfe(e){const{parentProjection:t,projection:n}=e;return t&&n&&yt(FMt({parentProjection:t,projection:n})),n??t}function CZ(e){return pt(e,"filter")}function ZFt(e){return pt(e,"stop")}function b3e(e){return pt(e,"lookup")}function eLt(e){return pt(e,"data")}function tLt(e){return pt(e,"param")}function nLt(e){return pt(e,"pivot")}function rLt(e){return pt(e,"density")}function iLt(e){return pt(e,"quantile")}function sLt(e){return pt(e,"regression")}function oLt(e){return pt(e,"loess")}function aLt(e){return pt(e,"sample")}function lLt(e){return pt(e,"window")}function uLt(e){return pt(e,"joinaggregate")}function cLt(e){return pt(e,"flatten")}function dLt(e){return pt(e,"calculate")}function w3e(e){return pt(e,"bin")}function fLt(e){return pt(e,"impute")}function hLt(e){return pt(e,"timeUnit")}function pLt(e){return pt(e,"aggregate")}function mLt(e){return pt(e,"stack")}function gLt(e){return pt(e,"fold")}function yLt(e){return pt(e,"extent")&&!pt(e,"density")&&!pt(e,"regression")}function vLt(e){return e.map(t=>CZ(t)?{filter:nx(t.filter,H6t)}:t)}class bLt extends EZ{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=qfe(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=qfe(t,n),t.encoding){const r={};for(const[i,s]of sg(t.encoding))r[i]=x3e(s,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:sg(r).map(([s,o])=>{const{init:a,bind:l,empty:u,...c}=o;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[s]=u!=="none";for(const d of Mo(n.selectionPredicates[s]??{}))d.empty=u!=="none";return{name:s,value:a,select:c,bind:l}})}:t}}function qfe(e,t){const{transform:n,...r}=e;if(n){const i=n.map(s=>{if(CZ(s))return{filter:AH(s,t)};if(w3e(s)&&zb(s.bin))return{...s,bin:_3e(s.bin)};if(b3e(s)){const{selection:o,...a}=s.from;return o?{...s,from:{param:o,...a}}:s}return s});return{...r,transform:i}}return e}function x3e(e,t){var r,i;const n=xn(e);if(wt(n)&&zb(n.bin)&&(n.bin=_3e(n.bin)),Vb(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:s,...o}=n.scale.domain;n.scale.domain={...o,...s?{param:s}:{}}}if(nk(n))if(Xe(n.condition))n.condition=n.condition.map(s=>{const{selection:o,param:a,test:l,...u}=s;return a?s:{...u,test:AH(s,t)}});else{const{selection:s,param:o,test:a,...l}=x3e(n.condition,t);n.condition=o?n.condition:{...l,test:AH(n.condition,t)}}return n}function _3e(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function AH(e,t){const n=r=>nx(r,i=>{var s;const o=t.emptySelections[i]??!0,a={param:i,empty:o};return(s=t.selectionPredicates)[i]??(s[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):nx(e.test||e.filter,r=>r.selection?n(r.selection):r)}class kH extends EZ{map(t,n){const r=n.selections??[];if(t.params&&!wm(t)){const i=[];for(const s of t.params)wZ(s)?r.push(s):i.push(s);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),s=[];for(const o of r)if(!o.views||!o.views.length)s.push(o);else for(const a of o.views)(It(a)&&(a===t.name||i.includes(a))||Xe(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&s.push(o);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=kH.prototype[e];kH.prototype[e]=function(n,r){return t.call(this,n,wLt(n,r))}}function wLt(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function E3e(e,t){t===void 0&&(t=p3e(e.config));const n=CLt(e,t),{width:r,height:i}=e,s=SLt(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...s?{autosize:s}:{}}}const xLt=new JFt,_Lt=new bLt,ELt=new kH;function CLt(e,t={}){const n={config:t};return ELt.map(xLt.map(_Lt.map(e,n),n),n)}function Vfe(e){return It(e)?{type:e}:e??{}}function SLt(e,t,n){let{width:r,height:i}=t;const s=wm(e)||q6(e),o={};s?r=="container"&&i=="container"?(o.type="fit",o.contains="padding"):r=="container"?(o.type="fit-x",o.contains="padding"):i=="container"&&(o.type="fit-y",o.contains="padding"):(r=="container"&&(yt(gfe("width")),r=void 0),i=="container"&&(yt(gfe("height")),i=void 0));const a={type:"pad",...o,...n?Vfe(n.autosize):{},...Vfe(e.autosize)};if(a.type==="fit"&&!s&&(yt(yMt),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&yt(yfe("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&yt(yfe("height")),!eu(a,{type:"pad"}))return a}function TLt(e){return["fit","fit-x","fit-y"].includes(e)}function ALt(e){return e?`fit-${T6(e)}`:"fit"}const kLt=["background","padding"];function Wfe(e,t){const n={};for(const r of kLt)e&&e[r]!==void 0&&(n[r]=Ql(e[r]));return t&&(n.params=e.params),n}class xm{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new xm(xn(this.explicit),xn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return rs(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of ft(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function wf(e){return{explicit:!0,value:e}}function Vl(e){return{explicit:!1,value:e}}function C3e(e){return(t,n,r,i)=>{const s=e(t.value,n.value);return s>0?t:s<0?n:V6(t,n,r,i)}}function V6(e,t,n,r){return e.explicit&&t.explicit&&yt(o6t(n,r,e.value,t.value)),e}function lg(e,t,n,r,i=V6){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:eu(e.value,t.value)?e:i(e,t,n,r)}class ILt extends xm{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function n_(e){return pt(e,"url")}function yT(e){return pt(e,"values")}function S3e(e){return pt(e,"name")&&!n_(e)&&!yT(e)&&!B0(e)}function B0(e){return e&&(T3e(e)||A3e(e)||SZ(e))}function T3e(e){return pt(e,"sequence")}function A3e(e){return pt(e,"sphere")}function SZ(e){return pt(e,"graticule")}var Ri;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(Ri||(Ri={}));function k3e({invalid:e,isPath:t}){switch(EPe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function RLt(e){const{marks:t,scales:n}=k3e(e);return t===n?Ri.Main:n==="include-invalid-values"?Ri.PreFilterInvalid:Ri.PostFilterInvalid}class qr{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){yt(NMt);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Tl extends qr{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${CDe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function a9(e){return e.as!==void 0}function Gfe(e){return`${e}_end`}class qf extends qr{clone(){return new qf(null,xn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{const{field:a,timeUnit:l}=s;if(l){let u;if(qb(l)){if(ki(n)){const{mark:c,markDef:d,config:f}=n,h=ag({fieldDef:s,markDef:d,config:f});(gT(c)||h)&&(u={timeUnit:so(l),field:a})}}else u={as:At(s,{forAs:!0}),field:a,timeUnit:l};if(ki(n)){const{mark:c,markDef:d,config:f}=n,h=ag({fieldDef:s,markDef:d,config:f});gT(c)&&is(o)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[Zn(u)]=u)}return i},{});return Kr(r)?null:new qf(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},s=so(r),o={...i,timeUnit:s};return new qf(t,{[Zn(o)]:o})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of sg(this.timeUnits)){const s=a9(i)?i.as:`${i.field}_end`;t.has(s)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Mo(this.timeUnits).map(t=>a9(t)?t.as:Gfe(t.field)))}dependentFields(){return new Set(Mo(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Zn(this.timeUnits)}`}assemble(){const t=[];for(const n of Mo(this.timeUnits)){const{rectBandPosition:r}=n,i=so(n.timeUnit);if(a9(n)){const{field:s,as:o}=n,{unit:a,utc:l,...u}=i,c=[o,`${o}_end`];t.push({field:ic(s),type:"timeunit",...a?{units:R6(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...Yfe(c,r,i))}else if(n){const{field:s}=n,o=s.replaceAll("\\.","."),a=I3e({timeUnit:i,field:o}),l=Gfe(o);t.push({type:"formula",expr:a,as:l}),t.push(...Yfe([o,l],r,i))}}return t}}const W6="offsetted_rect_start",G6="offsetted_rect_end";function I3e({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,s=sPe(r),{part:o,step:a}=uPe(s,e.step);return`${i?"utcOffset":"timeOffset"}('${o}', ${Br(t)}, ${n?-a:a})`}function Yfe([e,t],n,r){if(n!==void 0&&n!==.5){const i=Br(e),s=Br(t);return[{type:"formula",expr:Kfe([I3e({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${W6}`},{type:"formula",expr:Kfe([i,s],n+.5),as:`${e}_${G6}`}]}return[]}function Kfe([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const ok="_tuple_fields";class DLt{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const PLt={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new DLt),s={},o={},a=new Set,l=(p,m)=>{const g=m==="visual"?p.channel:p.field;let y=bi(`${r}_${g}`);for(let v=1;a.has(y);v++)y=bi(`${r}_${g}_${v}`);return a.add(y),{[m]:y}},u=t.type,c=e.config.selection[u],d=n.value!==void 0?Rt(n.value):null;let{fields:f,encodings:h}=Dt(n.select)?n.select:{};if(!f&&!h&&d){for(const p of d)if(Dt(p))for(const m of ft(p))V4t(m)?(h||(h=[])).push(m):u==="interval"?(yt(AMt),h=c.encodings):(f??(f=[])).push(m)}!f&&!h&&(h=c.encodings,"fields"in c&&(f=c.fields));for(const p of h??[]){const m=e.fieldDef(p);if(m){let g=m.field;if(m.aggregate){yt(vMt(p,m.aggregate));continue}else if(!g){yt(bfe(p));continue}if(m.timeUnit&&!qb(m.timeUnit)){g=e.vgField(p);const y={timeUnit:m.timeUnit,as:g,field:m.field};o[Zn(y)]=y}if(!s[g]){const y=u==="interval"&&Ah(p)&&Ad(e.getScaleComponent(p).get("type"))?"R":m.bin?"R-RE":"E",v={field:g,channel:p,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(s[g]=v),i.hasField[g]=s[g],i.hasSelectionId=i.hasSelectionId||g===Rd,RDe(p)?(v.geoChannel=p,v.channel=IDe(p),i.hasChannel[v.channel]=s[g]):i.hasChannel[p]=s[g]}}else yt(bfe(p))}for(const p of f??[]){if(i.hasField[p])continue;const m={type:"E",field:p,index:i.items.length};m.signals={...l(m,"data")},i.items.push(m),i.hasField[p]=m,i.hasSelectionId=i.hasSelectionId||p===Rd}d&&(t.init=d.map(p=>i.items.map(m=>Dt(p)?p[m.geoChannel||m.channel]!==void 0?p[m.geoChannel||m.channel]:p[m.field]:p))),Kr(o)||(i.timeUnit=new qf(null,o))},signals:(e,t,n)=>{const r=t.name+ok;return n.filter(s=>s.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(O3e)})}},R3e="_curr",f3="anim_value",ww="anim_clock",IH="eased_anim_clock",D3e="min_extent",P3e="max_range_extent",l9="last_tick_at",u9="is_playing",OLt=1/60*1e3,NLt=(e,t)=>[{name:IH,update:ww},{name:`${e}_domain`,init:`domain('${t}')`},{name:D3e,init:`extent(${e}_domain)[0]`},{name:P3e,init:`extent(range('${t}'))[1]`},{name:f3,update:`invert('${t}', ${IH})`}],$Lt={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(Vf(t)&&(n=n.concat([{name:ww,init:"0",on:[{events:{type:"timer",throttle:OLt},update:`${u9} ? (${ww} + (now() - ${l9}) > ${P3e} ? 0 : ${ww} + (now() - ${l9})) : ${ww}`}]},{name:l9,init:"now()",on:[{events:[{signal:ww},{signal:u9}],update:"now()"}]},{name:u9,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+ok,s=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=Mo(e.component.selection??{}).reduce((c,d)=>d.type==="interval"?c.concat(d.name+sx):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${Ev(e)}, `;if(t.project.hasSelectionId)u+=`${Rd}: ${o}[${vt(Rd)}]`;else if(Vf(t))u+=`fields: ${i}, values: [${f3} ? ${f3} : ${D3e}]`;else{const c=s.items.map(d=>{const f=e.fieldDef(d.channel);return f!=null&&f.bin?`[${o}[${vt(e.vgField(d.channel,{}))}], ${o}[${vt(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${o}[${vt(d.field)}]`}).join(", ");u+=`fields: ${i}, values: [${c}]`}if(Vf(t))return n.concat(NLt(t.name,e.scaleName(Ng)),[{name:r+Zp,on:[{events:[{signal:IH},{signal:f3}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+Zp,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function O3e(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=ic(i.field),i}function ib(e,t=!0,n=Fo){if(Xe(e)){const r=e.map(i=>ib(i,t,n));return t?`[${r.join(", ")}]`:r}else if(Hb(e))return n(t?eb(e):D6t(e));return t?n(Xr(e)):e}function MLt(e,t){for(const n of Mo(e.component.selection??{})){const r=n.name;let i=`${r}${Zp}, ${n.resolve==="global"?"true":`{unit: ${Ev(e)}}`}`;for(const s of K6)s.defined(n)&&(s.signals&&(t=s.signals(e,n,t)),s.modifyExpr&&(i=s.modifyExpr(e,n,i)));t.push({name:r+u8t,on:[{events:{signal:n.name+Zp},update:`modify(${vt(n.name+sb)}, ${i})`}]})}return TZ(t)}function FLt(e,t){if(e.component.selection&&ft(e.component.selection).length){const n=vt(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Pg("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return TZ(t)}function LLt(e,t){let n=!1;for(const r of Mo(e.component.selection??{})){const i=r.name,s=vt(i+sb);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${X3e}(${s}, ${vt(a)}${l}`})}n=!0;for(const a of K6)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),TZ(t)}function jLt(e,t){const n=[],r=[],i=Ev(e,{escape:!1});for(const s of Mo(e.component.selection??{})){const o={name:s.name+sb};if(s.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:Rd}}]),s.init){const l=s.project.items.map(O3e);o.values=s.project.hasSelectionId?s.init.map(u=>({unit:i,[Rd]:ib(u,!1)[0]})):s.init.map(u=>({unit:i,fields:l,values:ib(u,!1)}))}if([...n,...t].filter(l=>l.name===s.name+sb).length||n.push(o),Vf(s)&&t.length){const l=e.lookupDataSource(e.getDataName(Ri.Main)),u=t.find(d=>d.name===l),c=u.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(f=>f!==c);const d={name:u.name+R3e,source:u.name,transform:[c]};r.push(d)}}}return n.concat(t,r)}function N3e(e,t){for(const n of Mo(e.component.selection??{}))for(const r of K6)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function BLt(e,t){for(const n of e.children)ki(n)&&(t=N3e(n,t));return t}function zLt(e,t,n,r){const i=aOe(e,t.param,t);return{signal:Ad(n.get("type"))&&Xe(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function TZ(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const Np={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Ah(i))continue;const s=e.getScaleComponent(i),o=s?s.get("type"):void 0;if(o=="sequential"&&yt(_Mt),!s||!Ad(o)){yt(xMt);continue}s.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(o=>n.filter(a=>a.name===o.signals.data).length===0);if(!e.parent||DH(e)||r.length===0)return n;const i=n.find(o=>o.name===t.name);let s=i.update;if(s.includes(X3e))i.update=`{${r.map(o=>`${vt(ic(o.field))}: ${o.signals.data}`).join(", ")}}`;else{for(const o of r){const a=`${vt(ic(o.field))}: ${o.signals.data}`;s.includes(a)||(s=`${s.substring(0,s.length-1)}, ${a}}`)}i.update=s}return n.concat(r.map(o=>({name:o.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!DH(e))for(const r of t.scales){const i=n.find(s=>s.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function RH(e,t){return`domain(${vt(e.scaleName(t))})`}function DH(e){return e.parent&&cE(e.parent)&&(!e.parent.parent||DH(e.parent.parent))}const sx="_brush",$3e="_scale_trigger",EC="geo_interval_init_tick",M3e="_init",ULt="_center",HLt={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Dt(n.select)?n.select:{}};i.fields=[Rd],i.encodings||(i.encodings=n.value?ft(n.value):[Gd,Wd]),n.select={type:"interval",...i}}if(t.translate&&!Np.defined(t)){const i=`!event.item || event.item.mark.name !== ${vt(t.name+sx)}`;for(const s of t.events){if(!s.between){yt(`${s} is not an ordered event stream for interval selections.`);continue}const o=Rt((r=s.between[0]).filter??(r.filter=[]));o.includes(i)||o.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+Zp,s=Mo(t.project.hasChannel).filter(a=>a.channel===xi||a.channel===fo),o=t.init?t.init[0]:null;if(n.push(...s.reduce((a,l)=>a.concat(qLt(e,t,l,o&&o[l.index])),[])),e.hasProjection){const a=vt(e.projectionName()),l=e.projectionName()+ULt,{x:u,y:c}=t.project.hasChannel,d=u&&u.signals.visual,f=c&&c.signals.visual,h=u?o&&o[u.index]:`${l}[0]`,p=c?o&&o[c.index]:`${l}[1]`,m=C=>e.getSizeSignalRef(C).signal,g=`[[${d?d+"[0]":"0"}, ${f?f+"[0]":"0"}],[${d?d+"[1]":m("width")}, ${f?f+"[1]":m("height")}]]`;o&&(n.unshift({name:r+M3e,init:`[scale(${a}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(S=>S.name===l)||n.unshift({name:l,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const y=`intersect(${g}, {markname: ${vt(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${Ev(e)}}`,w=`vlSelectionTuples(${y}, ${v})`,E=s.map(C=>C.signals.visual);return n.concat({name:i,on:[{events:[...E.length?[{signal:E.join(" || ")}]:[],...o?[{signal:EC}]:[]],update:w}]})}else{if(!Np.defined(t)){const u=r+$3e,c=s.map(d=>{const f=d.channel,{data:h,visual:p}=d.signals,m=vt(e.scaleName(f)),g=e.getScaleComponent(f).get("type"),y=Ad(g)?"+":"";return`(!isArray(${h}) || (${y}invert(${m}, ${p})[0] === ${y}${h}[0] && ${y}invert(${m}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:s.map(d=>({scale:e.scaleName(d.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=s.map(u=>u.signals.data),l=`unit: ${Ev(e)}, fields: ${r+ok}, values`;return n.concat({name:i,...o?{init:`{${l}: ${ib(o)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(ki(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===EC).length||n.unshift({name:EC,value:null,on:[{events:"timer{1}",update:`${EC} === null ? {} : ${EC}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:s}=t.project.hasChannel,o=i==null?void 0:i.signals.visual,a=s==null?void 0:s.signals.visual,l=`data(${vt(t.name+sb)})`;if(Np.defined(t)||!i&&!s)return n;const u={x:i!==void 0?{signal:`${o}[0]`}:{value:0},y:s!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${o}[1]`}:{field:{group:"width"}},y2:s!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of ft(u))u[g]=[{test:`${l}.length && ${l}[0].unit === ${Ev(e)}`,...u[g]},{value:0}];const{fill:c,fillOpacity:d,cursor:f,...h}=t.mark,p=ft(h).reduce((g,y)=>(g[y]=[{test:[i!==void 0&&`${o}[0] !== ${o}[1]`,s!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],g),{}),m=f??(t.translate?"move":null);return[{name:`${r+sx}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:d}},update:u}},...n,{name:r+sx,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function qLt(e,t,n,r){const i=!e.hasProjection,s=n.channel,o=n.signals.visual,a=vt(i?e.scaleName(s):e.projectionName()),l=f=>`scale(${a}, ${f})`,u=e.getSizeSignalRef(s===xi?"width":"height").signal,c=`${s}(unit)`,d=t.events.reduce((f,h)=>[...f,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${o}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const f=n.signals.data,h=Np.defined(t),p=e.getScaleComponent(s),m=p?p.get("type"):void 0,g=r?{init:ib(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+$3e},update:Ad(m)?`[${l(`${f}[0]`)}, ${l(`${f}[1]`)}]`:"[0, 0]"}),h?[{name:f,on:[]}]:[{name:o,...g,on:d},{name:f,...r?{init:ib(r)}:{},on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${a}, ${o})`}]}]}else{const f=s===xi?0:1,h=t.name+M3e,p=r?{init:`[${h}[0][${f}], ${h}[1][${f}]]`}:{value:[]};return[{name:o,...p,on:d}]}}function oE({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const s=nk(t)&&t.condition;let o=[];s&&(o=Rt(s).map(u=>{const c=i(u);if(D5t(u)){const{param:d,empty:f}=u;return{test:oOe(e,{param:d,empty:f}),...c}}else return{test:GN(e,u.test),...c}})),r!==void 0&&o.push(r);const a=i(t);return a!==void 0&&o.push(a),o.length>1||o.length===1&&o[0].test?{[n]:o}:o.length===1?{[n]:o[0]}:{}}function AZ(e,t="text"){const n=e.encoding[t];return oE({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>Y6(r,e.config),invalidValueRef:void 0})}function Y6(e,t,n="datum"){if(e){if(kd(e))return fi(e.value);if(Sn(e)){const{format:r,formatType:i}=BN(e);return aZ({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function F3e(e,t={}){const{encoding:n,markDef:r,config:i,stack:s}=e,o=n.tooltip;if(Xe(o))return{tooltip:Xfe({tooltip:o},s,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return oE({model:e,channelDef:o,vgChannel:"tooltip",mainRefFn:u=>{const c=Y6(u,i,a);if(c)return c;if(u===null)return;let d=Yr("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),It(d))return{value:d};if(Dt(d))return Xt(d)?d:d.content==="encoding"?Xfe(n,s,i,t):{signal:a}},invalidValueRef:void 0})}}function L3e(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},s=new Set,o=r?"datum.datum":"datum",a=[];function l(c,d){const f=Bb(d),h=Wa(c)?c:{...c,type:e[f].type},p=h.title||dZ(h,i),m=Rt(p).join(", ").replaceAll(/"/g,'\\"');let g;if(is(d)){const y=d==="x"?"x2":"y2",v=Id(e[y]);if(So(h.bin)&&v){const w=At(h,{expr:o}),E=At(v,{expr:o}),{format:C,formatType:S}=BN(h);g=ek(w,E,C,S,i),s.add(y)}}if((is(d)||d===yc||d===Vd)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:y,formatType:v}=BN(h);g=aZ({fieldOrDatumDef:h,format:y,formatType:v,expr:o,config:i,normalizeStack:!0}).signal}g??(g=Y6(h,i,o).signal),a.push({channel:d,key:m,value:g})}hZ(e,(c,d)=>{wt(c)?l(c,d):L6(c)&&l(c.condition,d)});const u={};for(const{channel:c,key:d,value:f}of a)!s.has(c)&&!u[d]&&(u[d]=f);return u}function Xfe(e,t,n,{reactiveGeom:r}={}){const i=L3e(e,t,n,{reactiveGeom:r}),s=sg(i).map(([o,a])=>`"${o}": ${a}`);return s.length>0?{signal:`{${s.join(", ")}}`}:void 0}function VLt(e){const{markDef:t,config:n}=e,r=Yr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...WLt(e),...GLt(e)}}function WLt(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Yr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Ft(pMt,t)?{}:{ariaRoleDescription:{value:t}}}function GLt(e){const{encoding:t,markDef:n,config:r,stack:i}=e,s=t.description;if(s)return oE({model:e,channelDef:s,vgChannel:"description",mainRefFn:l=>Y6(l,e.config),invalidValueRef:void 0});const o=Yr("description",n,r);if(o!=null)return{description:fi(o)};if(r.aria===!1)return{};const a=L3e(t,i,r);if(!Kr(a))return{description:{signal:sg(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Io(e,t,n={}){const{markDef:r,encoding:i,config:s}=t,{vgChannel:o}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=Yr(e,r,s,{vgChannel:o,ignoreVgConfig:!nk(u)})),l!==void 0&&(a=fi(l)));const c={markDef:r,config:s,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=SPe({...c,scaleChannel:e,channelDef:u});return oE({model:t,channelDef:u,vgChannel:o??e,invalidValueRef:d,mainRefFn:h=>oZ({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function j3e(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:s}=n,o=t.filled??Yr("filled",n,i),a=Hn(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,l=Yr(o===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[o===!0&&"color"]??a,u=Yr(o===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[o===!1&&"color"],c=o?"fill":"stroke",d={...l?{fill:fi(l)}:{},...u?{stroke:fi(u)}:{}};return n.color&&(o?n.fill:n.stroke)&&yt(XDe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...Io("color",e,{vgChannel:c,defaultValue:o?l:u}),...Io("fill",e,{defaultValue:r.fill?l:void 0}),...Io("stroke",e,{defaultValue:r.stroke?u:void 0})}}function YLt(e){const{encoding:t,mark:n}=e,r=t.order;return!Bg(n)&&kd(r)?oE({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>fi(i.value),invalidValueRef:void 0}):{}}function r_({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const s=`${e}Offset`,o=t[s],a=n[s];if((s==="xOffset"||s==="yOffset")&&a)return{offsetType:"encoding",offset:oZ({channel:s,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(s),scale:r.getScaleComponent(s),stack:null,defaultRef:fi(o),bandPosition:i})};const l=t[s];return l?{offsetType:"visual",offset:l}:{}}function La(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:s,config:o,stack:a}=t,l=i[e],u=i[Th(e)],c=t.scaleName(e),d=t.getScaleComponent(e),{offset:f,offsetType:h}=r_({channel:e,markDef:s,encoding:i,model:t,bandPosition:.5}),p=kZ({model:t,defaultPos:n,channel:e,scaleName:c,scale:d}),m=!l&&is(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:KLt({channel:e,channelDef:l,channel2Def:u,markDef:s,config:o,scaleName:c,scale:d,stack:a,offset:f,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function KLt(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:s,markDef:o}=e;if(Sn(n)&&i&&t===i.fieldChannel){if(wt(n)){let a=n.bandPosition;if(a===void 0&&o.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return FN({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:s})}return xv(n,r,{suffix:"end"},{offset:s})}return sZ(e)}function kZ({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:s,config:o}=e;return()=>{const a=Bb(n),l=og(n),u=Yr(n,s,o,{vgChannel:l});if(u!==void 0)return n2(n,u);switch(t){case"zeroOrMin":return Qfe({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:o});case"zeroOrMax":return Qfe({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:o});case"mid":return{...e[Nl(n)],mult:.5}}}}function Qfe({mainChannel:e,config:t,...n}){const r=CPe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:s,heightSignal:o}=i.zeroOrMax;return{signal:`min(${s},${o})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const XLt={left:"x",center:"xc",right:"x2"},QLt={top:"y",middle:"yc",bottom:"y2"};function B3e(e,t,n,r="middle"){if(e==="radius"||e==="theta")return og(e);const i=e==="x"?"align":"baseline",s=Yr(i,t,n);let o;return Xt(s)?(yt(KMt(i)),o=void 0):o=s,e==="x"?XLt[o||(r==="top"?"left":"center")]:QLt[o||r]}function qN(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?z3e(e,t,{defaultPos:n,defaultPos2:r}):La(e,t,{defaultPos:n})}function z3e(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:s}=t,o=Th(e),a=Nl(e),l=JLt(t,r,o),u=l[a]?B3e(e,i,s):og(e);return{...La(e,t,{defaultPos:n,vgChannel:u}),...l}}function JLt(e,t,n){const{encoding:r,mark:i,markDef:s,stack:o,config:a}=e,l=Bb(n),u=Nl(n),c=og(n),d=r[l],f=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in s?r_({channel:n,markDef:s,encoding:r,model:e}):r_({channel:l,markDef:s,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=Nl(n),y=e.markDef[g];return y!=null?{[g]:{value:y}}:{[c]:{field:e.getName(n)}}}const m=ZLt({channel:n,channelDef:d,channel2Def:r[n],markDef:s,config:a,scaleName:f,scale:h,stack:o,offset:p,defaultRef:void 0});return m!==void 0?{[c]:m}:wR(n,s)||wR(n,{[n]:vH(n,s,a.style),[u]:vH(u,s,a.style)})||wR(n,a[i])||wR(n,a.mark)||{[c]:kZ({model:e,defaultPos:t,channel:n,scaleName:f,scale:h})()}}function ZLt({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:l,defaultRef:u}){return Sn(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?xv(t,s,{suffix:"start"},{offset:l}):sZ({channel:e,channelDef:n,scaleName:s,scale:o,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function wR(e,t){const n=Nl(e),r=og(e);if(t[r]!==void 0)return{[r]:n2(e,t[r])};if(t[e]!==void 0)return{[r]:n2(e,t[e])};if(t[n]){const i=t[n];if(nb(i))yt(HMt(n));else return{[n]:n2(e,i)}}}function Jp(e,t){const{config:n,encoding:r,markDef:i}=e,s=i.type,o=Th(t),a=Nl(t),l=r[t],u=r[o],c=e.getScaleComponent(t),d=c?c.get("type"):void 0,f=i.orient,h=r[a]??r.size??Yr("size",i,n,{vgChannel:a}),p=NDe(t),m=s==="bar"&&(t==="x"?f==="vertical":f==="horizontal")||s==="tick"&&(t==="y"?f==="vertical":f==="horizontal");return wt(l)&&(ai(l.bin)||So(l.bin)||l.timeUnit&&!u)&&!(h&&!nb(h))&&!r[p]&&!oo(d)?n8t({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Sn(l)&&oo(d)||m)&&!u?t8t(l,t,e):z3e(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function e8t(e,t,n,r,i,s,o){if(nb(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=ih("minBandSize",{type:o},r);return{signal:c?`max(${sd(c)}, ${u})`:u}}else i.band!==1&&(yt(ZMt(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Xt(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(Ub(l)&&yr(l.step))return{value:l.step-2}}if(!s){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:d}=r.scale,f=rs(l,o==="tick"?d:o==="bar"?u:c);if(Xt(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(yr(f))return{signal:`${1-f} * ${e}`}}return{value:SH(r.view,e)-2}}function t8t(e,t,n){var I,D;const{markDef:r,encoding:i,config:s,stack:o}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=Nl(t),d=Th(t),f=NDe(t),h=n.scaleName(f),p=n.getScaleComponent(PJ(t)),m=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=Io("size",n,{vgChannel:c,defaultRef:fi(r.size)}):yt(r6t(r.type)));const y=!!g,v=PPe({channel:t,fieldDef:e,markDef:r,config:s,scaleType:(I=u||p)==null?void 0:I.get("type"),useVlSizeChannel:m});g=g||{[c]:e8t(c,h||l,p||u,s,v,!!e,r.type)};const w=((D=u||p)==null?void 0:D.get("type"))==="band"&&nb(v)&&!y?"top":"middle",E=B3e(t,r,s,w),C=E==="xc"||E==="yc",{offset:S,offsetType:T}=r_({channel:t,markDef:r,encoding:i,model:n,bandPosition:C?.5:0}),A=sZ({channel:t,channelDef:e,markDef:r,config:s,scaleName:l,scale:u,stack:o,offset:S,defaultRef:kZ({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:C?T==="encoding"?0:.5:Xt(v)?{signal:`(1-${v})/2`}:nb(v)?(1-v.band)/2:0});if(c)return{[E]:A,...g};{const O=og(d),M=g[c],$=S?{...M,offset:S}:M;return{[E]:A,[O]:Xe(A)?[A[0],{...A[1],offset:$}]:{...A,offset:$}}}}function Jfe(e,t,n,r,i,s,o){if(kDe(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(Xt(n)||Xt(i)||Xt(r)||s){const u=sd(n),c=sd(i),d=sd(r),f=sd(s),p=s?`(${o} < ${f} ? ${a?"":"-"}0.5 * (${f} - (${o})) : ${l})`:l,m=d?`${d} + `:"",g=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:m+g+y}}else return i=i||0,r+(n?-i-l:+i+l)}function n8t({fieldDef:e,fieldDef2:t,channel:n,model:r}){var D;const{config:i,markDef:s,encoding:o}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),d=PPe({channel:n,fieldDef:e,markDef:s,config:i,scaleType:u}),f=(D=r.component.axes[n])==null?void 0:D[0],h=(f==null?void 0:f.get("translate"))??.5,p=is(n)?Yr("binSpacing",s,i)??0:0,m=Th(n),g=og(n),y=og(m),v=ih("minBandSize",s,i),{offset:w}=r_({channel:n,markDef:s,encoding:o,model:r,bandPosition:0}),{offset:E}=r_({channel:m,markDef:s,encoding:o,model:r,bandPosition:0}),C=S5t({fieldDef:e,scaleName:l}),S=Jfe(n,p,c,h,w,v,C),T=Jfe(m,p,c,h,E??w,v,C),A=Xt(d)?{signal:`(1-${d.signal})/2`}:nb(d)?(1-d.band)/2:.5,I=ag({fieldDef:e,fieldDef2:t,markDef:s,config:i});if(ai(e.bin)||e.timeUnit){const O=e.timeUnit&&I!==.5;return{[y]:Zfe({fieldDef:e,scaleName:l,bandPosition:A,offset:T,useRectOffsetField:O}),[g]:Zfe({fieldDef:e,scaleName:l,bandPosition:Xt(A)?{signal:`1-${A.signal}`}:1-A,offset:S,useRectOffsetField:O})}}else if(So(e.bin)){const O=xv(e,l,{},{offset:T});if(wt(t))return{[y]:O,[g]:xv(t,l,{},{offset:S})};if(zb(e.bin)&&e.bin.step)return{[y]:O,[g]:{signal:`scale("${l}", ${At(e,{expr:"datum"})} + ${e.bin.step})`,offset:S}}}yt(ZDe(m))}function Zfe({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return FN({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:W6,endSuffix:G6}:{}})}const r8t=new Set(["aria","width","height"]);function vc(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?j3e(e):{};return{...i8t(e.markDef,t),...ehe("fill",n),...ehe("stroke",r),...Io("opacity",e),...Io("fillOpacity",e),...Io("strokeOpacity",e),...Io("strokeWidth",e),...Io("strokeDash",e),...YLt(e),...F3e(e),...AZ(e,"href"),...VLt(e)}}function ehe(e,t){return t?{[e]:t}:{}}function i8t(e,t){return hMt.reduce((n,r)=>(!r8t.has(r)&&pt(e,r)&&t[r]!=="ignore"&&(n[r]=fi(e[r])),n),{})}function IZ(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,s)=>{var u;let o;if(!Ah(s)||!(o=e.getScaleType(s)))return;const a=A6(i.aggregate),l=iZ({scaleChannel:s,markDef:n,config:t,scaleType:o,isCountAggregate:a});if(_5t(l)){const c=e.vgField(s,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(s=>D6(s,!0)).join(" && ")}}}function the(e,t){if(t!==void 0)return{[e]:fi(t)}}const c9="voronoi",U3e={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(c9)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,s=e.mark;if(Bg(s))return yt(bMt(s)),n;const o={name:e.getName(c9),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...F3e(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const d=u.name??"";d===e.component.mark[0].name?a=c:d.includes(c9)&&(l=!0)}),l||n.splice(a+1,0,o),n}},H3e={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!bZ(e.bind),parse:(e,t,n)=>Q3e(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,s=t.bind,o=t.init&&t.init[0],a=U3e.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=bi(`${r}_${l.field}`);n.filter(f=>f.name===c).length||n.unshift({name:c,...o?{init:ib(o[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${vt(l.field)}] : null`}]:[],bind:s[l.field]??s[l.channel]??s})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(u=>u.name===r+Zp),o=r+ok,a=i.items.map(u=>bi(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(s.update=`${l} ? {fields: ${o}, values: [${a.join(", ")}]} : null`),delete s.value,delete s.on,n}},VN="_toggle",q3e={defined:e=>e.type==="point"&&!Vf(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+VN,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Zp,r=t.name+VN;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Ev(e)}}, `)+`${r} ? ${n} : null`}},s8t={defined:e=>e.clear!==void 0&&e.clear!==!1&&!Vf(e),parse:(e,t)=>{t.clear&&(t.clear=It(t.clear)?Pg(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(H3e.defined(t))for(const r of t.project.items){const i=n.findIndex(s=>s.name===bi(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,s){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:s})}if(t.type==="interval")for(const i of t.project.items){const s=n.findIndex(o=>o.name===i.signals.visual);if(r(s,"[0, 0]"),s===-1){const o=n.findIndex(a=>a.name===i.signals.data);r(o,"null")}}else{let i=n.findIndex(s=>s.name===t.name+Zp);r(i,"null"),q3e.defined(t)&&(i=n.findIndex(s=>s.name===t.name+VN),r(i,"false"))}return n}},V3e={defined:e=>{const t=e.resolve==="global"&&e.bind&&bZ(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Rd;return t&&!n&&yt(EMt),t&&n},parse:(e,t,n)=>{const r=xn(n);if(r.select=It(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},Q3e(t,r),Dt(n.select)&&(n.select.on||n.select.clear)){const o='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=Rt(a.filter??[]),a.filter.includes(o)||a.filter.push(o)}const i=i9(t.bind)?t.bind.legend:"click",s=It(i)?Pg(i,"view"):Rt(i);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=i9(t.bind)&&t.bind.legend,s=o=>a=>{const l=xn(a);return l.markname=o,l};for(const o of t.project.items){if(!o.hasLegend)continue;const a=`${bi(o.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(s(`${a}_symbols`)).concat(i.merge.map(s(`${a}_labels`))).concat(i.merge.map(s(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(f=>f.name===r+Zp),o=r+ok,a=i.items.filter(f=>f.hasLegend).map(f=>bi(`${r}_${bi(f.field)}_legend`)),u=`${a.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${o}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?s.on.push({events:a.map(f=>({signal:f})),update:u}):a.length>0&&(s.update=u,delete s.value,delete s.on);const c=n.find(f=>f.name===r+VN),d=i9(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:d}):c.on[0].events=d),n}};function o8t(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const s of Mo(e.component.selection??{})){const o=s.project.hasField[r]??s.project.hasChannel[t];if(o&&V3e.defined(s)){const a=n.get("selections")??[];a.push(s.name),n.set("selections",a,!1),o.hasLegend=!0}}}const W3e="_translate_anchor",G3e="_translate_delta",a8t={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Np.defined(t),s=r+W3e,{x:o,y:a}=t.project.hasChannel;let l=Pg(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+sx,u))),n.push({name:s,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(o!==void 0?`, extent_x: ${i?RH(e,xi):`slice(${o.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?RH(e,fo):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+G3e,value:{},on:[{events:l,update:`{x: ${s}.x - x(unit), y: ${s}.y - y(unit)}`}]}),o!==void 0&&nhe(e,t,o,"width",n),a!==void 0&&nhe(e,t,a,"height",n),n}};function nhe(e,t,n,r,i){const s=t.name,o=s+W3e,a=s+G3e,l=n.channel,u=Np.defined(t),c=i.find(C=>C.name===n.signals[u?"data":"visual"]),d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(l),h=f&&f.get("type"),p=f&&f.get("reverse"),m=u?l===xi?p?"":"-":p?"-":"":"",g=`${o}.extent_${l}`,y=`${m}${a}.${l} / ${u?`${d}`:`span(${g})`}`,v=!u||!f?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",w=u?h==="pow"?`, ${f.get("exponent")??1}`:h==="symlog"?`, ${f.get("constant")??1}`:"":"",E=`${v}(${g}, ${y}${w})`;c.on.push({events:{signal:a},update:u?E:`clampRange(${E}, 0, ${d})`})}const Y3e="_zoom_anchor",K3e="_zoom_delta",l8t={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Np.defined(t),s=r+K3e,{x:o,y:a}=t.project.hasChannel,l=vt(e.scaleName(xi)),u=vt(e.scaleName(fo));let c=Pg(t.zoom,"scope");return i||(c=c.map(d=>(d.markname=r+sx,d))),n.push({name:r+Y3e,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:s,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),o!==void 0&&rhe(e,t,o,"width",n),a!==void 0&&rhe(e,t,a,"height",n),n}};function rhe(e,t,n,r,i){const s=t.name,o=n.channel,a=Np.defined(t),l=i.find(v=>v.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(o),d=c&&c.get("type"),f=a?RH(e,o):l.name,h=s+K3e,p=`${s}${Y3e}.${o}`,m=!a||!c?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",g=a?d==="pow"?`, ${c.get("exponent")??1}`:d==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${m}(${f}, ${p}, ${h}${g})`;l.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${u})`})}const sb="_store",Zp="_tuple",u8t="_modify",X3e="vlSelectionResolve",K6=[$Lt,HLt,PLt,q3e,H3e,Np,V3e,s8t,a8t,l8t,U3e];function c8t(e){let t=e.parent;for(;t&&!au(t);)t=t.parent;return t}function Ev(e,{escape:t}={escape:!0}){let n=t?vt(e.name):e.name;const r=c8t(e);if(r){const{facet:i}=r;for(const s of Wu)i[s]&&(n+=` + '__facet_${s}_' + (facet[${vt(r.vgField(s))}])`)}return n}function RZ(e){return Mo(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function Q3e(e,t){(It(t.select)||!t.select.on)&&delete e.events,(It(t.select)||!t.select.clear)&&delete e.clear,(It(t.select)||!t.select.toggle)&&delete e.toggle}function Vf(e){var t;return(t=e.events)==null?void 0:t.find(n=>"type"in n&&n.type==="timer")}const d8t="RawCode",f8t="Literal",h8t="Property",p8t="Identifier",m8t="ArrayExpression",g8t="BinaryExpression",y8t="CallExpression",v8t="ConditionalExpression",b8t="LogicalExpression",w8t="MemberExpression",x8t="ObjectExpression",_8t="UnaryExpression";function Kd(e){this.type=e}Kd.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=E8t(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function E8t(e){switch(e.type){case m8t:return e.elements;case g8t:case b8t:return[e.left,e.right];case y8t:return[e.callee].concat(e.arguments);case v8t:return[e.test,e.consequent,e.alternate];case w8t:return[e.object,e.property];case x8t:return e.properties;case h8t:return[e.key,e.value];case _8t:return[e.argument];case p8t:case f8t:case d8t:default:return[]}}var Ih,Kt,et,da,Hr,X6=1,ak=2,ob=3,zg=4,Q6=5,Wb=6,yl=7,lk=8,C8t=9;Ih={};Ih[X6]="Boolean";Ih[ak]="<end>";Ih[ob]="Identifier";Ih[zg]="Keyword";Ih[Q6]="Null";Ih[Wb]="Numeric";Ih[yl]="Punctuator";Ih[lk]="String";Ih[C8t]="RegularExpression";var S8t="ArrayExpression",T8t="BinaryExpression",A8t="CallExpression",k8t="ConditionalExpression",J3e="Identifier",I8t="Literal",R8t="LogicalExpression",D8t="MemberExpression",P8t="ObjectExpression",O8t="Property",N8t="UnaryExpression",io="Unexpected token %0",$8t="Unexpected number",M8t="Unexpected string",F8t="Unexpected identifier",L8t="Unexpected reserved word",j8t="Unexpected end of input",PH="Invalid regular expression",d9="Invalid regular expression: missing /",Z3e="Octal literals are not allowed in strict mode.",B8t="Duplicate data property in object literal not allowed in strict mode",No="ILLEGAL",vT="Disabled.",z8t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),U8t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function J6(e,t){if(!e)throw new Error("ASSERT: "+t)}function sp(e){return e>=48&&e<=57}function DZ(e){return"0123456789abcdefABCDEF".includes(e)}function r2(e){return"01234567".includes(e)}function H8t(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function bT(e){return e===10||e===13||e===8232||e===8233}function uk(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&z8t.test(String.fromCharCode(e))}function WN(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&U8t.test(String.fromCharCode(e))}const q8t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function eOe(){for(;et<da;){const e=Kt.charCodeAt(et);if(H8t(e)||bT(e))++et;else break}}function OH(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)et<da&&DZ(Kt[et])?(r=Kt[et++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Er({},io,No);return String.fromCharCode(i)}function V8t(){var e,t,n,r;for(e=Kt[et],t=0,e==="}"&&Er({},io,No);et<da&&(e=Kt[et++],!!DZ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Er({},io,No),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function tOe(){var e,t;for(e=Kt.charCodeAt(et++),t=String.fromCharCode(e),e===92&&(Kt.charCodeAt(et)!==117&&Er({},io,No),++et,e=OH("u"),(!e||e==="\\"||!uk(e.charCodeAt(0)))&&Er({},io,No),t=e);et<da&&(e=Kt.charCodeAt(et),!!WN(e));)++et,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Kt.charCodeAt(et)!==117&&Er({},io,No),++et,e=OH("u"),(!e||e==="\\"||!WN(e.charCodeAt(0)))&&Er({},io,No),t+=e);return t}function W8t(){var e,t;for(e=et++;et<da;){if(t=Kt.charCodeAt(et),t===92)return et=e,tOe();if(WN(t))++et;else break}return Kt.slice(e,et)}function G8t(){var e,t,n;return e=et,t=Kt.charCodeAt(et)===92?tOe():W8t(),t.length===1?n=ob:q8t.hasOwnProperty(t)?n=zg:t==="null"?n=Q6:t==="true"||t==="false"?n=X6:n=ob,{type:n,value:t,start:e,end:et}}function f9(){var e=et,t=Kt.charCodeAt(et),n,r=Kt[et],i,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++et,{type:yl,value:String.fromCharCode(t),start:e,end:et};default:if(n=Kt.charCodeAt(et+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return et+=2,{type:yl,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:et};case 33:case 61:return et+=2,Kt.charCodeAt(et)===61&&++et,{type:yl,value:Kt.slice(e,et),start:e,end:et}}}if(o=Kt.substr(et,4),o===">>>=")return et+=4,{type:yl,value:o,start:e,end:et};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return et+=3,{type:yl,value:s,start:e,end:et};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return et+=2,{type:yl,value:i,start:e,end:et};if(i==="//"&&Er({},io,No),"<>=!+-*%&|^/".includes(r))return++et,{type:yl,value:r,start:e,end:et};Er({},io,No)}function Y8t(e){let t="";for(;et<da&&DZ(Kt[et]);)t+=Kt[et++];return t.length===0&&Er({},io,No),uk(Kt.charCodeAt(et))&&Er({},io,No),{type:Wb,value:parseInt("0x"+t,16),start:e,end:et}}function K8t(e){let t="0"+Kt[et++];for(;et<da&&r2(Kt[et]);)t+=Kt[et++];return(uk(Kt.charCodeAt(et))||sp(Kt.charCodeAt(et)))&&Er({},io,No),{type:Wb,value:parseInt(t,8),octal:!0,start:e,end:et}}function ihe(){var e,t,n;if(n=Kt[et],J6(sp(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=et,e="",n!=="."){if(e=Kt[et++],n=Kt[et],e==="0"){if(n==="x"||n==="X")return++et,Y8t(t);if(r2(n))return K8t(t);n&&sp(n.charCodeAt(0))&&Er({},io,No)}for(;sp(Kt.charCodeAt(et));)e+=Kt[et++];n=Kt[et]}if(n==="."){for(e+=Kt[et++];sp(Kt.charCodeAt(et));)e+=Kt[et++];n=Kt[et]}if(n==="e"||n==="E")if(e+=Kt[et++],n=Kt[et],(n==="+"||n==="-")&&(e+=Kt[et++]),sp(Kt.charCodeAt(et)))for(;sp(Kt.charCodeAt(et));)e+=Kt[et++];else Er({},io,No);return uk(Kt.charCodeAt(et))&&Er({},io,No),{type:Wb,value:parseFloat(e),start:t,end:et}}function X8t(){var e="",t,n,r,i,s=!1;for(t=Kt[et],J6(t==="'"||t==='"',"String literal must starts with a quote"),n=et,++et;et<da;)if(r=Kt[et++],r===t){t="";break}else if(r==="\\")if(r=Kt[et++],!r||!bT(r.charCodeAt(0)))switch(r){case"u":case"x":Kt[et]==="{"?(++et,e+=V8t()):e+=OH(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:r2(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),et<da&&r2(Kt[et])&&(s=!0,i=i*8+"01234567".indexOf(Kt[et++]),"0123".includes(r)&&et<da&&r2(Kt[et])&&(i=i*8+"01234567".indexOf(Kt[et++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Kt[et]===`
`&&++et;else{if(bT(r.charCodeAt(0)))break;e+=r}return t!==""&&Er({},io,No),{type:lk,value:e,octal:s,start:n,end:et}}function Q8t(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Er({},PH)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Er({},PH)}try{return new RegExp(e,t)}catch{return null}}function J8t(){var e,t,n,r,i;for(e=Kt[et],J6(e==="/","Regular expression literal must start with a slash"),t=Kt[et++],n=!1,r=!1;et<da;)if(e=Kt[et++],t+=e,e==="\\")e=Kt[et++],bT(e.charCodeAt(0))&&Er({},d9),t+=e;else if(bT(e.charCodeAt(0)))Er({},d9);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Er({},d9),i=t.substr(1,t.length-2),{value:i,literal:t}}function Z8t(){var e,t,n;for(t="",n="";et<da&&(e=Kt[et],!!WN(e.charCodeAt(0)));)++et,e==="\\"&&et<da?Er({},io,No):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Er({},PH,n),{value:n,literal:t}}function ejt(){var e,t,n,r;return Hr=null,eOe(),e=et,t=J8t(),n=Z8t(),r=Q8t(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:et}}function tjt(e){return e.type===ob||e.type===zg||e.type===X6||e.type===Q6}function nOe(){if(eOe(),et>=da)return{type:ak,start:et,end:et};const e=Kt.charCodeAt(et);return uk(e)?G8t():e===40||e===41||e===59?f9():e===39||e===34?X8t():e===46?sp(Kt.charCodeAt(et+1))?ihe():f9():sp(e)?ihe():f9()}function xl(){const e=Hr;return et=e.end,Hr=nOe(),et=e.end,e}function rOe(){const e=et;Hr=nOe(),et=e}function njt(e){const t=new Kd(S8t);return t.elements=e,t}function she(e,t,n){const r=new Kd(e==="||"||e==="&&"?R8t:T8t);return r.operator=e,r.left=t,r.right=n,r}function rjt(e,t){const n=new Kd(A8t);return n.callee=e,n.arguments=t,n}function ijt(e,t,n){const r=new Kd(k8t);return r.test=e,r.consequent=t,r.alternate=n,r}function PZ(e){const t=new Kd(J3e);return t.name=e,t}function xS(e){const t=new Kd(I8t);return t.value=e.value,t.raw=Kt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function ohe(e,t,n){const r=new Kd(D8t);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function sjt(e){const t=new Kd(P8t);return t.properties=e,t}function ahe(e,t,n){const r=new Kd(O8t);return r.key=t,r.value=n,r.kind=e,r}function ojt(e,t){const n=new Kd(N8t);return n.operator=e,n.argument=t,n.prefix=!0,n}function Er(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,o)=>(J6(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=et,n.description=i,n}function Z6(e){e.type===ak&&Er(e,j8t),e.type===Wb&&Er(e,$8t),e.type===lk&&Er(e,M8t),e.type===ob&&Er(e,F8t),e.type===zg&&Er(e,L8t),Er(e,io,e.value)}function fa(e){const t=xl();(t.type!==yl||t.value!==e)&&Z6(t)}function hi(e){return Hr.type===yl&&Hr.value===e}function h9(e){return Hr.type===zg&&Hr.value===e}function ajt(){const e=[];for(et=Hr.start,fa("[");!hi("]");)hi(",")?(xl(),e.push(null)):(e.push(ab()),hi("]")||fa(","));return xl(),njt(e)}function lhe(){et=Hr.start;const e=xl();return e.type===lk||e.type===Wb?(e.octal&&Er(e,Z3e),xS(e)):PZ(e.value)}function ljt(){var e,t,n,r;if(et=Hr.start,e=Hr,e.type===ob)return n=lhe(),fa(":"),r=ab(),ahe("init",n,r);if(e.type===ak||e.type===yl)Z6(e);else return t=lhe(),fa(":"),r=ab(),ahe("init",t,r)}function ujt(){var e=[],t,n,r,i={},s=String;for(et=Hr.start,fa("{");!hi("}");)t=ljt(),t.key.type===J3e?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Er({},B8t):i[r]=!0,e.push(t),hi("}")||fa(",");return fa("}"),sjt(e)}function cjt(){fa("(");const e=OZ();return fa(")"),e}const djt={if:1};function fjt(){var e,t,n;if(hi("("))return cjt();if(hi("["))return ajt();if(hi("{"))return ujt();if(e=Hr.type,et=Hr.start,e===ob||djt[Hr.value])n=PZ(xl().value);else if(e===lk||e===Wb)Hr.octal&&Er(Hr,Z3e),n=xS(xl());else{if(e===zg)throw new Error(vT);e===X6?(t=xl(),t.value=t.value==="true",n=xS(t)):e===Q6?(t=xl(),t.value=null,n=xS(t)):hi("/")||hi("/=")?(n=xS(ejt()),rOe()):Z6(xl())}return n}function hjt(){const e=[];if(fa("("),!hi(")"))for(;et<da&&(e.push(ab()),!hi(")"));)fa(",");return fa(")"),e}function pjt(){et=Hr.start;const e=xl();return tjt(e)||Z6(e),PZ(e.value)}function mjt(){return fa("."),pjt()}function gjt(){fa("[");const e=OZ();return fa("]"),e}function yjt(){var e,t,n;for(e=fjt();;)if(hi("."))n=mjt(),e=ohe(".",e,n);else if(hi("("))t=hjt(),e=rjt(e,t);else if(hi("["))n=gjt(),e=ohe("[",e,n);else break;return e}function uhe(){const e=yjt();if(Hr.type===yl&&(hi("++")||hi("--")))throw new Error(vT);return e}function h3(){var e,t;if(Hr.type!==yl&&Hr.type!==zg)t=uhe();else{if(hi("++")||hi("--"))throw new Error(vT);if(hi("+")||hi("-")||hi("~")||hi("!"))e=xl(),t=h3(),t=ojt(e.value,t);else{if(h9("delete")||h9("void")||h9("typeof"))throw new Error(vT);t=uhe()}}return t}function che(e){let t=0;if(e.type!==yl&&e.type!==zg)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function vjt(){var e,t,n,r,i,s,o,a,l,u;if(e=Hr,l=h3(),r=Hr,i=che(r),i===0)return l;for(r.prec=i,xl(),t=[e,Hr],o=h3(),s=[l,r,o];(i=che(Hr))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,l=s.pop(),t.pop(),n=she(a,l,o),s.push(n);r=xl(),r.prec=i,s.push(r),t.push(Hr),n=h3(),s.push(n)}for(u=s.length-1,n=s[u],t.pop();u>1;)t.pop(),n=she(s[u-1].value,s[u-2],n),u-=2;return n}function ab(){var e,t,n;return e=vjt(),hi("?")&&(xl(),t=ab(),fa(":"),n=ab(),e=ijt(e,t,n)),e}function OZ(){const e=ab();if(hi(","))throw new Error(vT);return e}function bjt(e){Kt=e,et=0,da=Kt.length,Hr=null,rOe();const t=OZ();if(Hr.type!==ak)throw new Error("Unexpect token after expression.");return t}function NH(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...NH(e.object)),t.push(...NH(e.property))),t)}function iOe(e){return e.object.type==="MemberExpression"?iOe(e.object):e.object.name==="datum"}function sOe(e){const t=bjt(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&iOe(r)&&n.add(NH(r).slice(1).join("."))}),n}class aE extends qr{clone(){return new aE(null,this.model,xn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=GN(this.model,this.filter,this),this._dependentFields=sOe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function wjt(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const s of t){const o=bi(s.name),a=s.select,l=It(a)?a:a.type,u=Dt(a)?xn(a):{type:l},c=r[l];for(const h in c)h==="fields"||h==="encodings"||(h==="mark"&&(u.mark={...c.mark,...u.mark}),(u[h]===void 0||u[h]===!0)&&(u[h]=xn(c[h]??u[h])));const d=n[o]={...u,name:o,type:l,init:s.value,bind:s.bind,events:It(u.on)?Pg(u.on,"scope"):Rt(xn(u.on))};if(Vf(d)&&(i++,i>1)){delete n[o];continue}const f=xn(s);for(const h of K6)h.defined(d)&&h.parse&&h.parse(e,d,f)}return i>1&&yt(IMt),n}function oOe(e,t,n,r="datum"){const i=It(t)?t:t.param,s=bi(i),o=vt(s+sb);let a;try{a=e.getSelectionComponent(s,i)}catch{return`!!${s}`}if(a.project.timeUnit){const f=n??e.component.data.raw,h=a.project.timeUnit.clone();f.parent?h.insertAsParentOf(f):f.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${vt(a.resolve)})`,c=`${l}${o}, ${r}${u}`,d=`length(data(${o}))`;return t.empty===!1?`${d} && ${c}`:`!${d} || ${c}`}function aOe(e,t,n){const r=bi(t),i=n.encoding;let s=n.field,o;try{o=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!s)s=o.project.items[0].field,o.project.items.length>1&&yt(RMt(s));else if(i&&!s){const a=o.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(s=o.project.items[0].field,yt(DMt(a,i,n,s))):s=a[0].field}return`${o.name}[${vt(ic(s))}]`}function xjt(e,t){for(const[n,r]of sg(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Tl(new aE(t,e,{param:n}),i,Ri.Lookup,e.component.data.outputNodeRefCounts)}}function GN(e,t,n){return t2(t,r=>It(r)?r:B6t(r)?oOe(e,r,n):dPe(r))}function _jt(e,t){if(e)return Xe(e)&&!l0(e)?e.map(n=>dZ(n,t)).join(", "):e}function p9(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function _S(e,t,n,r={header:!1}){var d,f;const{disable:i,orient:s,scale:o,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const h in c){const p=h,m=V5t[p],g=c[p];if(m&&m!==t&&m!=="both")delete c[p];else if(sk(g)){const{condition:y,...v}=g,w=Rt(y),E=Dfe[p];if(E){const{vgProp:C,part:S}=E,T=[...w.map(A=>{const{test:I,...D}=A;return{test:GN(null,I),...D}}),v];p9(c,S,C,T),delete c[p]}else if(E===null){const C={signal:w.map(S=>{const{test:T,...A}=S;return`${GN(null,T)} ? ${mfe(A)} : `}).join("")+mfe(v)};c[p]=C}}else if(Xt(g)){const y=Dfe[p];if(y){const{vgProp:v,part:w}=y;p9(c,w,v,g),delete c[p]}}Hn(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},Kr(c.encode)&&delete c.encode}return{scale:o,orient:s,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:rs(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(f=(d=c.encode)==null?void 0:d.labels)!=null&&f.update&&Xt(c.encode.labels.update.text)&&(p=Qv(a,"datum.label",c.encode.labels.update.text.signal)),p9(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of UPe)e.hasAxisPart(p)||delete c.encode[p];Kr(c.encode)&&delete c.encode}const h=_jt(l,n);return{scale:o,orient:s,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:rs(u,0)}}}}function lOe(e){const{axes:t}=e.component,n=[];for(const r of bm)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const s=r==="x"?"height":"width",o=e.getSizeSignalRef(s).signal;s!==o&&n.push({name:s,update:o})}}return n}function Ejt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>_S(i,"grid",t)),...r.map(i=>_S(i,"grid",t)),...n.map(i=>_S(i,"main",t)),...r.map(i=>_S(i,"main",t))].filter(i=>i)}function dhe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const s=n==="x"?"bottom":"left",o=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...ft(o),...ft(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${s}" ? ${sd(o[c])} : ${sd(a[c])}`};return u}return t[i]})])}function Cjt(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:mPe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],s=e==="x"?"axisX":"axisY",o=Xt(n)?"axisOrient":`axis${YA(n)}`,a=[...i,...i.map(u=>s+u.substr(4))],l=["axis",o,s];return{vlOnlyAxisConfig:dhe(a,r,e,n),vgAxisConfig:dhe(l,r,e,n),axisConfigStyle:Sjt([...l,...a],r)}}function Sjt(e,t){var r;const n=[{}];for(const i of e){let s=(r=t[i])==null?void 0:r.style;if(s){s=Rt(s);for(const o of s)n.push(t.style[o])}}return Object.assign.apply(null,n)}function $H(e,t,n,r={}){var s;const i=HDe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((s=r[o])==null?void 0:s[e])!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const fhe={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??Tjt(n,e),gridScale:({model:e,channel:t})=>Ajt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||cOe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||uOe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??Ijt(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??Rjt(t.type,n,wt(t)&&!!t.timeUnit,wt(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const s=e==="x"?"width":e==="y"?"height":void 0,o=s?t.getSizeSignalRef(s):void 0;return n.tickCount??Pjt({fieldOrDatumDef:r,scaleType:i,size:o,values:n.values})},tickMinStep:Ojt,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=dOe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),s=n==="x"?"x2":"y2",o=t.fieldDef(s);return VDe(i?[Ife(i)]:[],wt(o)?[Ife(o)]:[])},values:({axis:e,fieldOrDatumDef:t})=>Njt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??$jt(n,t)};function Tjt(e,t){return!oo(e)&&wt(t)&&!ai(t==null?void 0:t.bin)&&!So(t==null?void 0:t.bin)}function Ajt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function kjt(e,t,n,r,i){const s=t==null?void 0:t.labelAngle;if(s!==void 0)return Xt(s)?s:mT(s);{const{configValue:o}=$H("labelAngle",r,t==null?void 0:t.style,i);return o!==void 0?mT(o):n===xi&&Hn([ZJ,JJ],e.type)&&!(wt(e)&&e.timeUnit)?270:void 0}}function MH(e){return`(((${e.signal} % 360) + 360) % 360)`}function uOe(e,t,n,r){if(e!==void 0)if(n==="x"){if(Xt(e)){const i=MH(e),s=Xt(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${s} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Xt(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Xt(e)){const i=MH(e),s=Xt(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${s} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Xt(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function cOe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,s=r?"bottom":"left";if(Xt(e)){const o=MH(e),a=Xt(t)?`(${t.signal} === "${s}")`:t===s;return{signal:`(${i?`(${o} + 90)`:o} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${o} && ${o} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Xt(t)){const o=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${o} "${s}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===s)?"left":"right"}function Ijt(e,t){if(t==="x"&&Hn(["quantitative","temporal"],e))return!0}function Rjt(e,t,n,r){if(n&&!Dt(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function Djt(e){return e==="x"?"bottom":"left"}function Pjt({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!oo(t)&&t!=="log"){if(wt(e)){if(ai(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Hn(["month","hours","day","quarter"],(i=so(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function Ojt({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(wt(t)){const{timeUnit:n}=t;if(n){const r=lPe(n);if(r)return{signal:r}}}}function dOe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),s=r?r.title:void 0,o=i?i.title:void 0;if(s&&o)return WDe(s,o);if(s)return s;if(o)return o;if(s!==void 0)return s;if(o!==void 0)return o}function Njt(e,t){const n=e.values;if(Xe(n))return zPe(t,n);if(Xt(n))return n}function $jt(e,t){return e==="rect"&&jN(t)?1:0}class i_ extends qr{clone(){return new i_(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=sOe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(Vb(r)&&DPe(r.sort)){const{field:s,timeUnit:o}=r,a=r.sort,l=a.map((u,c)=>`${dPe({field:s,timeUnit:o,equal:u})} ? ${c} : `).join("")+a.length;t=new i_(t,{calculate:l,as:s_(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Zn(this.transform)}`}}function s_(e,t,n){return At(e,{prefix:t,suffix:"sort_index",...n})}function e5(e,t){return Hn(["top","bottom"],t)?"column":Hn(["left","right"],t)||e==="row"?"row":"column"}function o_(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return rs((t||{})[e],i[e],n.header[e])}function t5(e,t,n,r){const i={};for(const s of e){const o=o_(s,t||{},n,r);o!==void 0&&(i[s]=o)}return i}const NZ=["row","column"],$Z=["header","footer"];function Mjt(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:s,titleAngle:o,titleOrient:a}=t5(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=e5(t,a),u=mT(o);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...hOe(u,l),...fOe(l,u,s),...pOe(r,i,t,hFt,o3e)}}}function fOe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=cOe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function hOe(e,t){const n=uOe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function Fjt(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of $Z)if(n[i])for(const s of n[i]){const o=jjt(e,t,i,n,s);o!=null&&r.push(o)}return r}function Ljt(e,t){const{sort:n}=e;return Op(n)?{field:At(n,{expr:"datum"}),order:n.order??"ascending"}:Xe(n)?{field:s_(e,t,{expr:"datum"}),order:"ascending"}:{field:At(e,{expr:"datum"}),order:n??"ascending"}}function FH(e,t,n){const{format:r,formatType:i,labelAngle:s,labelAnchor:o,labelOrient:a,labelExpr:l}=t5(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=aZ({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=e5(t,a);return{text:{signal:l?Qv(Qv(l,"datum.label",u),"datum.value",At(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...hOe(s,c),...fOe(c,s,o),...pOe(n,e,t,pFt,a3e)}}function jjt(e,t,n,r,i){if(i){let s=null;const{facetFieldDef:o}=r,a=e.config?e.config:void 0;if(o&&i.labels){const{labelOrient:d}=t5(["labelOrient"],o.header,a,t);(t==="row"&&!Hn(["top","bottom"],d)||t==="column"&&!Hn(["left","right"],d))&&(s=FH(o,t,a))}const l=au(e)&&!tk(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(s||c){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:Ljt(o,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...s?{title:s}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const Bjt={column:{start:0,end:1},row:{start:1,end:0}};function zjt(e,t){return Bjt[t][e]}function Ujt(e,t){const n={};for(const r of Wu){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:s,titleOrient:o}=t5(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=e5(r,o),l=zjt(s,a);l!==void 0&&(n[a]=l)}}return Kr(n)?void 0:n}function pOe(e,t,n,r,i){const s={};for(const o of r){if(!i[o])continue;const a=o_(o,t==null?void 0:t.header,e,n);a!==void 0&&(s[i[o]]=a)}return s}function MZ(e){return[...xR(e,"width"),...xR(e,"height"),...xR(e,"childWidth"),...xR(e,"childHeight")]}function xR(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const s=e.getScaleComponent(n);if(s){const o=s.get("type"),a=s.get("range");if(oo(o)&&Ub(a)){const l=e.scaleName(n);return au(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[hhe(l,a)]:[hhe(l,a),{name:i,update:mOe(l,s,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const s=i.endsWith("width"),o=s?"containerSize()[0]":"containerSize()[1]",a=CH(e.config.view,s?"width":"height"),l=`isFinite(${o}) ? ${o} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function hhe(e,t){const n=`${e}_step`;return Xt(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function mOe(e,t,n){const r=t.get("type"),i=t.get("padding"),s=rs(t.get("paddingOuter"),i);let o=t.get("paddingInner");return o=r==="band"?o!==void 0?o:i:1,`bandspace(${n}, ${sd(o)}, ${sd(s)}) * ${e}_step`}function gOe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function yOe(e,t){return ft(e).reduce((n,r)=>({...n,...oE({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>fi(i.value),invalidValueRef:void 0})}),{})}function vOe(e,t){if(au(t))return e==="theta"?"independent":"shared";if(cE(t))return"shared";if(HZ(t))return is(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function FZ(e,t){const n=e.scale[t],r=is(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&yt(l6t(t)),"independent"):e[r][t]||"shared"}const Hjt={...yFt,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},bOe=ft(Hjt);class qjt extends xm{}const phe={symbols:Vjt,gradient:Wjt,labels:Gjt,entries:Yjt};function Vjt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:s}){if(s!=="symbol")return;const{markDef:o,encoding:a,config:l,mark:u}=n,c=o.filled&&u!=="trail";let d={...gMt({},n,f5t),...j3e(n,{filled:c})};const f=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,m=f===void 0?wOe(a.opacity)??o.opacity:void 0;if(d.fill){if(r==="fill"||c&&r===Pl)delete d.fill;else if(pt(d.fill,"field"))h?delete d.fill:(d.fill=fi(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=fi(m??1));else if(Xe(d.fill)){const g=LH(a.fill??a.color)??o.fill??(c&&o.color);g&&(d.fill=fi(g))}}if(d.stroke){if(r==="stroke"||!c&&r===Pl)delete d.stroke;else if(pt(d.stroke,"field")||p)delete d.stroke;else if(Xe(d.stroke)){const g=rs(LH(a.stroke||a.color),o.stroke,c?o.color:void 0);g&&(d.stroke={value:g})}}if(r!==vm){const g=wt(t)&&_Oe(n,i,t);g?d.opacity=[{test:g,...fi(m??1)},fi(l.legend.unselectedOpacity)]:m&&(d.opacity=fi(m))}return d={...d,...e},Kr(d)?void 0:d}function Wjt(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:s,encoding:o}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?wOe(o.opacity)||s.opacity:void 0;return u&&(a.opacity=fi(u)),a={...a,...e},Kr(a)?void 0:a}function Gjt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const s=n.legend(r)||{},o=n.config,a=wt(t)?_Oe(n,i,t):void 0,l=a?[{test:a,value:1},{value:o.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=s;let d;rb(c)?d=od({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:o}):u===void 0&&c===void 0&&o.customFormatTypes&&(t.type==="quantitative"&&o.numberFormatType?d=od({fieldOrDatumDef:t,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}):t.type==="temporal"&&o.timeFormatType&&wt(t)&&t.timeUnit===void 0&&(d=od({fieldOrDatumDef:t,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})));const f={...l?{opacity:l}:{},...d?{text:d}:{},...e};return Kr(f)?void 0:f}function Yjt(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function wOe(e){return xOe(e,(t,n)=>Math.max(t,n.value))}function LH(e){return xOe(e,(t,n)=>rs(t,n.value))}function xOe(e,t){if(O5t(e))return Rt(e.condition).reduce(t,e.value);if(kd(e))return e.value}function _Oe(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=vt(n.field);return r.map(s=>`(!length(data(${vt(bi(s)+sb)})) || (${s}[${i}] && indexof(${s}[${i}], datum.value) >= 0))`).join(" || ")}const mhe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return kPe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return IPe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??t9t(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??n9t(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??Xjt(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>ix(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(rx(n)&&Of(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>Kjt(t,e)};function Kjt(e,t){const n=e.values;if(Xe(n))return zPe(t,n);if(Xt(n))return n}function Xjt(e,t,n,r){if(t!=="shape"){const i=LH(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function Qjt(e){const{legend:t}=e;return rs(t.type,Jjt(e))}function Jjt({channel:e,timeUnit:t,scaleType:n}){if(rx(e)){if(Hn(["quarter","month","day"],t))return"symbol";if(Of(n))return"gradient"}return"symbol"}function Zjt({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??e9t(n,t)}function e9t(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function t9t({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:s,gradientHorizontalMinLength:o,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(Of(i))return n==="horizontal"?r==="top"||r==="bottom"?ghe(t,"width",o,s):o:ghe(t,"height",l,a)}function ghe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function n9t(e){if(Hn(["quantile","threshold","log","symlog"],e))return"greedy"}function EOe(e){const t=ki(e)?r9t(e):a9t(e);return e.component.legends=t,t}function r9t(e){const{encoding:t}=e,n={};for(const r of[Pl,...u3e]){const i=Ps(t[r]);!i||!e.getScaleComponent(r)||r===Ol&&wt(i)&&i.type===sE||(n[r]=o9t(e,r))}return n}function i9t(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function s9t(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function o9t(e,t){var E;let n=e.legend(t);const{markDef:r,encoding:i,config:s}=e,o=s.legend,a=new qjt({},i9t(e,t));o8t(e,t,a);const l=n!==void 0?!n:o.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=Ps(i[t]),d=wt(c)?(E=so(c.timeUnit))==null?void 0:E.unit:void 0,f=n.orient||s.legend.orient||"right",h=Qjt({legend:n,channel:t,timeUnit:d,scaleType:u}),p=Zjt({legend:n,legendType:h,orient:f,legendConfig:o}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:o,config:s,scaleType:u,orient:f,legendType:h,direction:p};for(const C of bOe){if(h==="gradient"&&C.startsWith("symbol")||h==="symbol"&&C.startsWith("gradient"))continue;const S=C in mhe?mhe[C](m):n[C];if(S!==void 0){const T=s9t(S,C,n,e.fieldDef(t));(T||s.legend[C]===void 0)&&a.set(C,S,T)}}const g=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},w={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const C of["labels","legend","title","symbols","gradient","entries"]){const S=yOe(g[C]??{},e),T=C in phe?phe[C](S,w):S;T!==void 0&&!Kr(T)&&(v[C]={...y!=null&&y.length&&wt(c)?{name:`${bi(c.field)}_legend_${C}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:T})}return Kr(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function a9t(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){EOe(r);for(const i of ft(r.component.legends))n.legend[i]=FZ(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=COe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of ft(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function COe(e,t){var s,o,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of bOe){const c=lg(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(d,f)=>{switch(u){case"symbolType":return l9t(d,f);case"title":return GDe(d,f);case"type":return i=!0,Vl("symbol")}return V6(d,f,u,"legend")});e.setWithExplicit(u,c)}return i&&((o=(s=e.implicit)==null?void 0:s.encode)!=null&&o.gradient&&NN(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&NN(e.explicit,["encode","gradient"])),e}function l9t(e,t){return t.value==="circle"?t:e}function u9t(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function SOe(e){const t=e.component.legends,n={};for(const i of ft(t)){const s=e.getScaleComponent(i),o=Xr(s.get("domains"));if(n[o])for(const a of n[o])COe(a,t[i])||n[o].push(t[i]);else n[o]=[t[i].clone()]}return Mo(n).flat().map(i=>c9t(i,e.config)).filter(i=>i!==void 0)}function c9t(e,t){var o,a,l;const{disable:n,labelExpr:r,selections:i,...s}=e.combine();if(!n){if(t.aria===!1&&s.aria==null&&(s.aria=!1),(o=s.encode)!=null&&o.symbols){const u=s.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!s.stroke&&(u.stroke={value:"transparent"});for(const c of u3e)s[c]&&delete u[c]}if(s.title||delete s.title,r!==void 0){let u=r;(l=(a=s.encode)==null?void 0:a.labels)!=null&&l.update&&Xt(s.encode.labels.update.text)&&(u=Qv(r,"datum.label",s.encode.labels.update.text.signal)),u9t(s,"labels","text",{signal:u})}return s}}function d9t(e){return cE(e)||HZ(e)?f9t(e):TOe(e)}function f9t(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),TOe(e))}function TOe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(o=>o.signal).join(", ")}]`},s=t.data.reduce((o,a)=>{const l=Xt(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return Hn(o,l)||o.push(l),o},[]);if(s.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:s.length>1?`[${s.join(", ")}]`:s[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const h9t=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class AOe extends xm{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function kOe(e){e.component.projection=ki(e)?p9t(e):y9t(e)}function p9t(e){if(e.hasProjection){const t=To(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?m9t(e):void 0,s=new AOe(e.projectionName(!0),{...To(e.config.projection),...t},r,i);return s.get("type")||s.set("type","equalEarth",!1),s}}function m9t(e){const t=[],{encoding:n}=e;for(const r of[[Gd,Wd],[sc,Yd]])(Ps(n[r[0]])||Ps(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Ol)&&e.typedFieldDef(Ol).type===sE&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Ri.Main)),t}function g9t(e,t){const n=SJ(h9t,i=>!!(!Ft(e.explicit,i)&&!Ft(t.explicit,i)||Ft(e.explicit,i)&&Ft(t.explicit,i)&&eu(e.get(i),t.get(i))));if(eu(e.size,t.size)){if(n)return e;if(eu(e.explicit,{}))return t;if(eu(t.explicit,{}))return e}return null}function y9t(e){if(e.children.length===0)return;let t;for(const r of e.children)kOe(r);const n=SJ(e.children,r=>{const i=r.component.projection;if(i)if(t){const s=g9t(t,i);return s&&(t=s),!!s}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new AOe(r,t.specifiedProjection,t.size,xn(t.data));for(const s of e.children){const o=s.component.projection;o&&(o.isFit&&i.data.push(...s.component.projection.data),s.renameProjection(o.get("name"),r),o.merged=!0)}return i}}function v9t(e,t,n,r){if(ik(t,n)){const i=ki(e)?e.axis(n)??e.legend(n)??{}:{},s=At(t,{expr:"datum"}),o=At(t,{expr:"datum",binSuffix:"end"});return{formulaAs:At(t,{binSuffix:"range",forAs:!0}),formula:ek(s,o,i.format,i.formatType,r)}}return{}}function IOe(e,t){return`${jDe(e)}_${t}`}function b9t(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function LZ(e,t,n){const r=j6(n,void 0)??{},i=IOe(r,t);return e.getName(`${i}_bins`)}function w9t(e){return"as"in e}function yhe(e,t,n){let r,i;w9t(e)?r=It(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[At(e,{forAs:!0}),At(e,{binSuffix:"end",forAs:!0})];const s={...j6(t,void 0)},o=IOe(s,e.field),{signal:a,extentSignal:l}=b9t(n,o);if(k6(s.extent)){const c=s.extent;i=aOe(n,c.param,c),delete s.extent}const u={bin:s,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:o,binComponent:u}}class Wf extends qr{clone(){return new Wf(null,xn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{if(Wa(s)&&ai(s.bin)){const{key:a,binComponent:l}=yhe(s,s.bin,n);i[a]={...l,...i[a],...v9t(n,s,o,n.config)}}return i},{});return Kr(r)?null:new Wf(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:s}=yhe(n,n.bin,r);return new Wf(t,{[i]:s})}merge(t,n){for(const r of ft(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Pf([...this.bins[r].as,...t.bins[r].as],Zn)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Mo(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Mo(this.bins).map(t=>t.field))}hash(){return`Bin ${Zn(this.bins)}`}assemble(){return Mo(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:s,...o}=t.bin,a={type:"bin",field:ic(t.field),as:r,signal:t.signal,...k6(s)?{extent:null}:{extent:s},...t.span?{span:{signal:`span(${t.span})`}}:{},...o};!s&&t.extentSignal&&(n.push({type:"extent",field:ic(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:At({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function x9t(e,t,n,r){var s;const i=ki(r)?r.encoding[Th(t)]:void 0;if(Wa(n)&&ki(r)&&OPe(n,i,r.markDef,r.config)){e.add(At(n,{})),e.add(At(n,{suffix:"end"}));const{mark:o,markDef:a,config:l}=r,u=ag({fieldDef:n,markDef:a,config:l});gT(o)&&u!==.5&&is(t)&&(e.add(At(n,{suffix:W6})),e.add(At(n,{suffix:G6}))),n.bin&&ik(n,t)&&e.add(At(n,{binSuffix:"range"}))}else if(RDe(t)){const o=IDe(t);e.add(r.getName(o))}else e.add(At(n));return Vb(n)&&Z6t((s=n.scale)==null?void 0:s.range)&&e.add(n.scale.range.field),e}function _9t(e,t){for(const n of ft(t)){const r=t[n];for(const i of ft(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class md extends qr{clone(){return new md(null,new Set(this.dimensions),xn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(o=>{o.aggregate&&(r=!0)});const i={},s=new Set;return!r||(n.forEachFieldDef((o,a)=>{const{aggregate:l,field:u}=o;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([At(o,{forAs:!0})]);else{if(Qp(l)||jg(l)){const c=Qp(l)?"argmin":"argmax",d=l[c];i[d]??(i[d]={}),i[d][c]=new Set([At({op:c,field:d},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([At(o,{forAs:!0})]);Ah(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([At({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([At({field:u,aggregate:"max"},{forAs:!0})]))}else x9t(s,a,o,n)}),s.size+ft(i).length===0)?null:new md(t,s,i)}static makeFromTransform(t,n){var r;const i=new Set,s={};for(const o of n.aggregate){const{op:a,field:l,as:u}=o;a&&(a==="count"?(s["*"]??(s["*"]={}),s["*"].count=new Set([u||At(o,{forAs:!0})])):(s[l]??(s[l]={}),(r=s[l])[a]??(r[a]=new Set),s[l][a].add(u||At(o,{forAs:!0}))))}for(const o of n.groupby??[])i.add(o);return i.size+ft(s).length===0?null:new md(t,i,s)}merge(t){return xDe(this.dimensions,t.dimensions)?(_9t(this.measures,t.measures),!0):(C6t("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ft(this.measures)])}producedFields(){const t=new Set;for(const n of ft(this.measures))for(const r of ft(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Zn({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const s of ft(this.measures))for(const o of ft(this.measures[s]))for(const a of this.measures[s][o])r.push(a),t.push(o),n.push(s==="*"?null:ic(s));return{type:"aggregate",groupby:[...this.dimensions].map(ic),ops:t,fields:n,as:r}}}class lE extends qr{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const s of Wu){const o=n.facet[s];if(o){const{bin:a,sort:l}=o;this[s]={name:n.getName(`${s}_domain`),fields:[At(o),...ai(a)?[At(o,{binSuffix:"end"})]:[]],...Op(l)?{sortField:l}:Xe(l)?{sortIndexField:s_(o,s)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Wu)this[n]&&(t+=` ${n.charAt(0)}:${Zn(this[n])}`);return t}get fields(){var n;const t=[];for(const r of Wu)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Wu)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of bm){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),s=r.get("range");if(oo(i)&&Ub(s)){const o=n5(this.childModel,n),a=UZ(o);a?t[n]=a:yt(jJ(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],s=[],o=[],a=[];i&&r&&r[i]&&(n?(s.push(`distinct_${r[i]}`),o.push("max")):(s.push(r[i]),o.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=M6,field:d}=l;s.push(d),o.push(c),a.push(At(l,{forAs:!0}))}else u&&(s.push(u),o.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...s.length?{fields:s,ops:o,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],s={};for(const u of NZ){for(const c of $Z){const d=(r[u]&&r[u][c])??[];for(const f of d)if(((l=f.axes)==null?void 0:l.length)>0){s[u]=!0;break}}if(s[u]){const c=`length(data("${this.facet.name}"))`,d=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:d}]})}}const{row:o,column:a}=s;return(o||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:s,facet:o}=this;if(i&&s&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[Pp,Dp])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(o){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function vhe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function E9t(e,t){const n=kJ(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=vhe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=vhe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return yt(OMt(t)),null}function C9t(e){const t={};return d3(e.filter,n=>{if(cPe(n)){let r=null;VJ(n)?r=Ql(n.equal):GJ(n)?r=Ql(n.lte):WJ(n)?r=Ql(n.lt):YJ(n)?r=Ql(n.gt):KJ(n)?r=Ql(n.gte):XJ(n)?r=n.range[0]:QJ(n)&&(r=(n.oneOf??n.in)[0]),r&&(Hb(r)?t[n.field]="date":yr(r)?t[n.field]="number":It(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function S9t(e){const t={};function n(r){t_(r)?t[r.field]="date":r.type==="quantitative"&&aMt(r.aggregate)?t[r.field]="number":Kx(r.field)>1?r.field in t||(t[r.field]="flatten"):Vb(r)&&Op(r.sort)&&Kx(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((ki(e)||au(e))&&e.forEachFieldDef((r,i)=>{if(Wa(r))n(r);else{const s=Bb(i),o=e.fieldDef(s);n({...r,type:o.type})}}),ki(e)){const{mark:r,markDef:i,encoding:s}=e;if(Bg(r)&&!e.encoding.order){const o=i.orient==="horizontal"?"y":"x",a=s[o];wt(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function T9t(e){const t={};if(ki(e)&&e.component.selection)for(const n of ft(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Kx(i.field)>1&&(t[i.field]="flatten")}return t}class oa extends qr{clone(){return new oa(null,xn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${Zn(this._parse)}`}static makeExplicit(t,n,r){var o;let i={};const s=n.data;return!B0(s)&&((o=s==null?void 0:s.format)!=null&&o.parse)&&(i=s.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of ft(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:yt(xfe(a,r[a],l.value)))}for(const a of ft(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:yt(xfe(a,n[a],l)))}const s=new xm(n,r);i.copyAll(s);const o={};for(const a of ft(s.combine())){const l=s.get(a);l!==null&&(o[a]=l)}return ft(o).length===0||i.parseNothing?null:new oa(t,o)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of ft(this._parse)){const r=this._parse[n];Kx(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(ft(this._parse))}dependentFields(){return new Set(ft(this._parse))}assembleTransforms(t=!1){return ft(this._parse).filter(n=>t?Kx(n)>1:!0).map(n=>{const r=E9t(n,this._parse[n]);return r?{type:"formula",expr:r,as:rE(n)}:null}).filter(n=>n!==null)}}class ug extends qr{clone(){return new ug(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Rd])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Rd}}}class ck extends qr{clone(){return new ck(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Zn(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class dk extends qr{clone(){return new dk(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Zn(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class lb extends qr{constructor(t){super(null),t??(t={name:"source"});let n;if(B0(t)||(n=t.format?{...Sl(t.format,["parse"])}:{}),yT(t))this._data={values:t.values};else if(n_(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Hn(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else A3e(t)?this._data={values:[{type:"Sphere"}]}:(S3e(t)||B0(t))&&(this._data={});this._generator=B0(t),t.name&&(this._name=t.name),n&&!Kr(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var bhe=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},A9t=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ES;function jZ(e){return e instanceof lb||e instanceof ck||e instanceof dk}class BZ{constructor(){ES.set(this,void 0),bhe(this,ES,!1,"f")}setModified(){bhe(this,ES,!0,"f")}get modifiedFlag(){return A9t(this,ES,"f")}}ES=new WeakMap;class Gb extends BZ{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,s)=>s[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class zZ extends BZ{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class k9t extends zZ{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of ft(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class I9t extends zZ{constructor(t){super(),this.requiresSelectionId=t&&RZ(t)}run(t){t instanceof ug&&(this.requiresSelectionId&&(jZ(t.parent)||t.parent instanceof md||t.parent instanceof oa)||(this.setModified(),t.remove()))}}class R9t extends BZ{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof qf&&(r=t.producedFields(),TJ(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class D9t extends zZ{constructor(){super()}run(t){t instanceof Tl&&!t.isRequired()&&(this.setModified(),t.remove())}}class P9t extends Gb{run(t){if(!jZ(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof oa)if(t instanceof oa)this.setModified(),t.merge(n);else{if(AJ(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class O9t extends Gb{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof oa);if(t.numChildren()>1&&r.length>=1){const i={},s=new Set;for(const o of r){const a=o.parse;for(const l of ft(a))l in i?i[l]!==a[l]&&s.add(l):i[l]=a[l]}for(const o of s)delete i[o];if(!Kr(i)){this.setModified();const o=new oa(t,i);for(const a of n){if(a instanceof oa)for(const l of ft(i))delete a.parse[l];t.removeChild(a),a.parent=o,a instanceof oa&&ft(a.parse).length===0&&a.remove()}}}}}class N9t extends Gb{run(t){t instanceof Tl||t.numChildren()>0||t instanceof lE||t instanceof lb||(this.setModified(),t.remove())}}class $9t extends Gb{run(t){const n=t.children.filter(i=>i instanceof qf),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class M9t extends Gb{run(t){const n=t.children.filter(i=>i instanceof md),r={};for(const i of n){const s=Zn(i.groupBy);s in r||(r[s]=[]),r[s].push(i)}for(const i of ft(r)){const s=r[i];if(s.length>1){const o=s.pop();for(const a of s)o.merge(a)&&(t.removeChild(a),a.parent=o,a.remove(),this.setModified())}}}}class F9t extends Gb{constructor(t){super(),this.model=t}run(t){const n=!(jZ(t)||t instanceof aE||t instanceof oa||t instanceof ug),r=[],i=[];for(const s of t.children)s instanceof Wf&&(n&&!AJ(t.producedFields(),s.dependentFields())?r.push(s):i.push(s));if(r.length>0){const s=r.pop();for(const o of r)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Wf?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){const s=i.pop();for(const o of i)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class L9t extends Gb{run(t){const n=[...t.children];if(!Yx(n,o=>o instanceof Tl)||t.numChildren()<=1)return;const i=[];let s;for(const o of n)if(o instanceof Tl){let a=o;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof Tl)a=l;else break}i.push(...a.children),s?(t.removeChild(o),o.parent=s.parent,s.parent.removeChild(s),s.parent=a,this.setModified()):s=a}else i.push(o);if(i.length){this.setModified();for(const o of i)o.parent.removeChild(o),o.parent=s}}}class Yb extends qr{clone(){return new Yb(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Pf(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??At(t)}hash(){return`JoinAggregateTransform ${Zn(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const s of this.transform.joinaggregate)n.push(s.op),r.push(this.getDefaultName(s)),t.push(s.field===void 0?null:s.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class a_ extends qr{clone(){return new a_(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:s}=n,{marks:o,scales:a}=r;if(o==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,d)=>{const f=Ah(d)&&n.getScaleComponent(d);if(f){const h=f.get("type"),{aggregate:p}=c,m=iZ({scaleChannel:d,markDef:s,config:i,scaleType:h,isCountAggregate:A6(p)});m!=="show"&&m!=="always-valid"&&(u[c.field]=c)}return u},{});return ft(l).length?new a_(t,l):null}dependentFields(){return new Set(ft(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Zn(this.filter)}`}assemble(){const t=ft(this.filter).reduce((n,r)=>{const i=this.filter[r],s=At(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${s}) || (${jH(s)}))`):i.type==="quantitative"&&n.push(jH(s))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function jH(e){return`isValid(${e}) && isFinite(+${e})`}function j9t(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=At(r);return i&&t.push(i),t},[])}function B9t(e){return Xe(e)&&e.every(t=>It(t))&&e.length>1}class $p extends qr{clone(){return new $p(null,xn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:s,offset:o="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const d of n.sort)a.push(d.field),l.push(rs(d.order,"ascending"));const u={field:a,order:l};let c;return B9t(s)?c=s:It(s)?c=[s,`${s}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new $p(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:o,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:s,fieldChannel:o,offset:a,impute:l}=r,u=s.map(h=>{const p=i[h];return Id(p)}).filter(h=>!!h),c=j9t(n),d=n.encoding.order;let f;if(Xe(d)||wt(d))f=qDe(d);else{const h=NPe(d)?d.sort:o==="y"?"descending":"ascending";f=c.reduce((p,m)=>(p.field.includes(m)||(p.field.push(m),p.order.push(h)),p),{field:[],order:[]})}return new $p(t,{dimensionFieldDefs:u,stackField:n.vgField(o),facetby:[],stackby:c,sort:f,offset:a,impute:l,as:[n.vgField(o,{suffix:"start",forAs:!0}),n.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Zn(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[At(i,{binSuffix:"mid"})]:[At(i,{}),At(i,{binSuffix:"end"})]:[At(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:s,sort:o,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:d=.5,bin:f}=c;if(f){const h=At(c,{expr:"datum"}),p=At(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${jH(h)} ? ${d}*${h}+${1-d}*${p} : ${h}`,as:At(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...s,...n],key:At(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:o,as:u,offset:a}),t}}class uE extends qr{clone(){return new uE(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Pf(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??At(t)}hash(){return`WindowTransform ${Zn(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const s=this.transform.frame,o=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&n.every(d=>FJ(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...o!==void 0?{groupby:o}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)a.push(d.field),l.push(d.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...o!==void 0?{groupby:o}:{},...s!==void 0?{frame:s}:{}}}}function z9t(e){function t(n){if(!(n instanceof lE)){const r=n.clone();if(r instanceof Tl){const i=zH+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof md||r instanceof $p||r instanceof uE||r instanceof Yb)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function BH(e){if(e instanceof lE)if(e.numChildren()===1&&!(e.children[0]instanceof Tl)){const t=e.children[0];(t instanceof md||t instanceof $p||t instanceof uE||t instanceof Yb)&&t.addDimensions(e.fields),t.swapWithParent(),BH(e)}else{const t=e.model.component.data.main;ROe(t);const n=z9t(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(BH)}function ROe(e){if(e instanceof Tl&&e.type===Ri.Main&&e.numChildren()===1){const t=e.children[0];t instanceof lE||(t.swapWithParent(),ROe(e))}}const zH="scale_",_R=5;function UH(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!UH(t.children))return!1}return!0}function Oc(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function whe(e,t,n){let r=e.sources,i=!1;return i=Oc(new D9t,r)||i,i=Oc(new I9t(t),r)||i,r=r.filter(s=>s.numChildren()>0),i=Oc(new N9t,r)||i,r=r.filter(s=>s.numChildren()>0),n||(i=Oc(new P9t,r)||i,i=Oc(new F9t(t),r)||i,i=Oc(new R9t,r)||i,i=Oc(new O9t,r)||i,i=Oc(new M9t,r)||i,i=Oc(new $9t,r)||i,i=Oc(new k9t,r)||i,i=Oc(new L9t,r)||i),e.sources=r,i}function U9t(e,t){UH(e.sources);let n=0,r=0;for(let i=0;i<_R&&whe(e,t,!0);i++)n++;e.sources.map(BH);for(let i=0;i<_R&&whe(e,t,!1);i++)r++;UH(e.sources),Math.max(n,r)===_R&&yt(`Maximum optimization runs(${_R}) reached.`)}class Xs{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Xs(()=>t(n))}}function DOe(e){ki(e)?H9t(e):q9t(e)}function H9t(e){const t=e.component.scales;for(const n of ft(t)){const r=W9t(e,n);if(t[n].setWithExplicit("domains",r),Y9t(e,n),e.component.data.isFaceted){let s=e;for(;!au(s)&&s.parent;)s=s.parent;if(s.component.resolve.scale[n]==="shared")for(const a of r.value)wp(a)&&(a.data=zH+a.data.replace(zH,""))}}}function q9t(e){for(const n of e.children)DOe(n);const t=e.component.scales;for(const n of ft(t)){let r,i=null;for(const s of e.children){const o=s.component.scales[n];if(o){r===void 0?r=o.getWithExplicit("domains"):r=lg(r,o.getWithExplicit("domains"),"domains","scale",HH);const a=o.get("selectionExtent");i&&a&&i.param!==a.param&&yt(TMt),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function V9t(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:s}=xhe(t,n);if(!i){yt(s);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=xhe(t,n);if(i)return"unaggregated"}return e}function W9t(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=V9t(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Ps(r.x2)?Ps(r.x)?lg(e0(n,i,e,"x"),e0(n,i,e,"x2"),"domain","scale",HH):e0(n,i,e,"x2"):t==="y"&&Ps(r.y2)?Ps(r.y)?lg(e0(n,i,e,"y"),e0(n,i,e,"y2"),"domain","scale",HH):e0(n,i,e,"y2"):e0(n,i,e,t)}function G9t(e,t,n){return e.map(r=>({signal:`{data: ${B6(r,{timeUnit:n,type:t})}}`}))}function m9(e,t,n){var i;const r=(i=so(n))==null?void 0:i.unit;return t==="temporal"||r?G9t(e,t,r):[e]}function e0(e,t,n,r){const{encoding:i,markDef:s,mark:o,config:a,stack:l}=n,u=Ps(i[r]),{type:c}=u,d=u.timeUnit,f=RLt({invalid:ih("invalid",s,a),isPath:Bg(o)});if(J6t(t)){const m=e0(e,void 0,n,r),g=m9(t.unionWith,c,d);return wf([...g,...m.value])}else{if(Xt(t))return wf([t]);if(t&&t!=="unaggregated"&&!yPe(t))return wf(m9(t,c,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Vl([[0,1]]);const m=n.requestDataName(f);return Vl([{data:m,field:n.vgField(r,{suffix:"start"})},{data:m,field:n.vgField(r,{suffix:"end"})}])}const h=Ah(r)&&wt(u)?K9t(n,r,e):void 0;if(kh(u)){const m=m9([u.datum],c,d);return Vl(m)}const p=u;if(t==="unaggregated"){const{field:m}=u;return Vl([{data:n.requestDataName(f),field:At({field:m,aggregate:"min"})},{data:n.requestDataName(f),field:At({field:m,aggregate:"max"})}])}else if(ai(p.bin)){if(oo(e))return Vl(e==="bin-ordinal"?[]:[{data:pT(h)?n.requestDataName(f):n.requestDataName(Ri.Raw),field:n.vgField(r,ik(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!Dt(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:m}=p;if(ai(m)){const g=LZ(n,p.field,m);return Vl([new Xs(()=>{const y=n.getSignalName(g);return`[${y}.start, ${y}.stop]`})])}else return Vl([{data:n.requestDataName(f),field:n.vgField(r,{})}])}}else if(p.timeUnit&&Hn(["time","utc"],e)){const m=i[Th(r)];if(OPe(p,m,s,a)){const g=n.requestDataName(f),y=ag({fieldDef:p,fieldDef2:m,markDef:s,config:a}),v=gT(o)&&y!==.5&&is(r);return Vl([{data:g,field:n.vgField(r,v?{suffix:W6}:{})},{data:g,field:n.vgField(r,{suffix:v?G6:"end"})}])}}return Vl(h?[{data:pT(h)?n.requestDataName(f):n.requestDataName(Ri.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(f),field:n.vgField(r)}])}function g9(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":M6),...r?{field:ic(r)}:{},...i?{order:i}:{}}}function Y9t(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,s=yPe(r)?r:void 0,o=zb(i)&&k6(i.extent)?i.extent:void 0;(s||o)&&n.set("selectionExtent",s??o,!0)}function K9t(e,t,n){if(!oo(n))return;const r=e.fieldDef(t),i=r.sort;if(DPe(i))return{op:"min",field:s_(r,t),order:"ascending"};const{stack:s}=e,o=s?new Set([...s.groupbyFields,...s.stackBy.map(a=>a.fieldDef.field)]):void 0;if(Op(i)){const a=s&&!o.has(i.field);return g9(i,a)}else if(R5t(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:d}=u,f=s&&!o.has(d);if(Qp(c)||jg(c))return g9({field:At(u),order:l},f);if(FJ(c)||!c)return g9({op:c,field:d,order:l},f)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Hn(["ascending",void 0],i))return!0}}function xhe(e,t){const{aggregate:n,type:r}=e;return n?It(n)&&!uMt.has(n)?{valid:!1,reason:t6t(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:n6t(e)}:{valid:!0}:{valid:!1,reason:e6t(e)}}function HH(e,t,n,r){return e.explicit&&t.explicit&&yt(a6t(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function X9t(e){const t=Pf(e.map(o=>{if(wp(o)){const{sort:a,...l}=o;return l}return o}),Zn),n=Pf(e.map(o=>{if(wp(o)){const a=o.sort;return a!==void 0&&!pT(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(o=>o!==void 0),Zn);if(t.length===0)return;if(t.length===1){const o=e[0];if(wp(o)&&n.length>0){let a=n[0];if(n.length>1){yt(Efe);const l=n.filter(u=>Dt(u)&&"op"in u&&u.op!=="min");n.every(u=>Dt(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(Dt(a)&&"field"in a){const l=a.field;o.field===l&&(a=a.order?{order:a.order}:!0)}return{...o,sort:a}}return o}const r=Pf(n.map(o=>pT(o)||!("op"in o)||It(o.op)&&Ft(sMt,o.op)?o:(yt(u6t(o)),!0)),Zn);let i;r.length===1?i=r[0]:r.length>1&&(yt(Efe),i=!0);const s=Pf(e.map(o=>wp(o)?o.data:null),o=>o);return s.length===1&&s[0]!==null?{data:s[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function UZ(e){if(wp(e)&&It(e.field))return e.field;if(cMt(e)){let t;for(const n of e.fields)if(wp(n)&&It(n.field)){if(!t)t=n.field;else if(t!==n.field)return yt(c6t),t}return yt(d6t),t}else if(dMt(e)){yt(f6t);const t=e.fields[0];return It(t)?t:void 0}}function n5(e,t){const r=e.component.scales[t].get("domains").map(i=>(wp(i)&&(i.data=e.lookupDataSource(i.data)),i));return X9t(r)}function POe(e){return cE(e)||HZ(e)?e.children.reduce((t,n)=>t.concat(POe(n)),_he(e)):_he(e)}function _he(e){return ft(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:s,type:o,selectionExtent:a,domains:l,range:u,reverse:c,...d}=i,f=Q9t(i.range,s,n,e),h=n5(e,n),p=a?zLt(e,a,r,h):null;return t.push({name:s,type:o,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:f,...c!==void 0?{reverse:c}:{},...d}),t},[])}function Q9t(e,t,n,r){if(is(n)){if(Ub(e))return{step:{signal:`${t}_step`}}}else if(Dt(e)&&wp(e))return{...e,data:r.lookupDataSource(e.data)};return e}class OOe extends xm{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(Hn([Ao.LOG,Ao.TIME,Ao.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&Hn([Ao.LINEAR,Ao.SQRT,Ao.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,s=!1,o=!1;for(const a of r){if(Xe(a)){const l=a[0],u=a[a.length-1];if(yr(l)&&yr(u))if(l<=0&&u>=0){i=!0;continue}else{s=!0;continue}}o=!0}if(i)return"definitely";if(s&&!o)return"definitely-not"}return"maybe"}}const J9t=["range","scheme"];function Z9t(e){const t=e.component.scales;for(const n of MJ){const r=t[n];if(!r)continue;const i=eBt(n,e);r.setWithExplicit("range",i)}}function Ehe(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,s=Nl(t),o=e.getName(s);if(Dt(r)&&r.binned&&r.step!==void 0)return new Xs(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(o)} / (${l})`});if(ai(r)){const a=LZ(e,i,r);return new Xs(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(o)} / (${u})`})}}}function eBt(e,t){const n=t.specifiedScales[e],{size:r}=t,s=t.getScaleComponent(e).get("type");for(const d of J9t)if(n[d]!==void 0){const f=xH(s,d),h=vPe(e,d);if(!f)yt(QDe(s,d,e));else if(h)yt(h);else switch(d){case"range":{const p=n.range;if(Xe(p)){if(is(e))return wf(p.map(m=>{if(m==="width"||m==="height"){const g=t.getName(m),y=t.getSignalName.bind(t);return Xs.fromName(y,g)}return m}))}else if(Dt(p))return wf({data:t.requestDataName(Ri.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return wf(p)}case"scheme":return wf(tBt(n[d]))}}const o=e===xi||e==="xOffset"?"width":"height",a=r[o];if(oh(a)){if(is(e))if(oo(s)){const d=$Oe(a,t,e);if(d)return wf({step:d})}else yt(JDe(o));else if(QA(e)){const d=e===Og?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const p=MOe(a,s);if(p)return wf(p)}}}const{rangeMin:l,rangeMax:u}=n,c=nBt(e,t);return(l!==void 0||u!==void 0)&&xH(s,"rangeMin")&&Xe(c)&&c.length===2?wf([l??c[0],u??c[1]]):Vl(c)}function tBt(e){return Q6t(e)?{scheme:e.name,...Sl(e,["name"])}:{scheme:e}}function NOe(e,t,n,{center:r}={}){const i=Nl(e),s=t.getName(i),o=t.getSignalName.bind(t);return e===fo&&Ad(n)?r?[Xs.fromName(a=>`${o(a)}/2`,s),Xs.fromName(a=>`-${o(a)}/2`,s)]:[Xs.fromName(o,s),0]:r?[Xs.fromName(a=>`-${o(a)}/2`,s),Xs.fromName(a=>`${o(a)}/2`,s)]:[0,Xs.fromName(o,s)]}function nBt(e,t){const{size:n,config:r,mark:i,encoding:s}=t,{type:o}=Ps(s[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case xi:case fo:{if(Hn(["point","band"],l)){const d=FOe(e,n,r.view);if(oh(d))return{step:$Oe(d,t,e)}}return NOe(e,t,l)}case Og:case iE:return rBt(e,t,l);case ym:{const d=oBt(i,r),f=aBt(i,n,t,r);return Jx(l)?sBt(d,f,iBt(l,r,u,e)):[d,f]}case yc:return[0,Math.PI*2];case jb:return[0,360];case Vd:return[0,new Xs(()=>{const d=t.getSignalName(au(t.parent)?"child_width":"width"),f=t.getSignalName(au(t.parent)?"child_height":"height");return`min(${d},${f})/2`})];case Ng:return{step:1e3/r.scale.framesPerSecond};case Fg:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Lg:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Ol:return"symbol";case Pl:case Ch:case Sh:return l==="ordinal"?o==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case vm:case $g:case Mg:return[r.scale.minOpacity,r.scale.maxOpacity]}}function $Oe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),s=PJ(n),o=r[s];if(d3e({step:e,offsetIsDiscrete:Sn(o)&&fPe(o.type)})==="offset"&&VPe(r,s)){const l=t.getScaleComponent(s);let c=`domain('${t.scaleName(s)}').length`;if(l.get("type")==="band"){const f=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${f}, ${h})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${mMt(d)})`}}else return e.step}function MOe(e,t){if(d3e({step:e,offsetIsDiscrete:oo(t)})==="offset")return{step:e.step}}function rBt(e,t,n){const r=e===Og?"x":"y",i=t.getScaleComponent(r);if(!i)return NOe(r,t,n,{center:!0});const s=i.get("type"),o=t.scaleName(r),{markDef:a,config:l}=t;if(s==="band"){const u=FOe(r,t.size,t.config.view);if(oh(u)){const c=MOe(u,n);if(c)return c}return[0,{signal:`bandwidth('${o}')`}]}else{const u=t.encoding[r];if(wt(u)&&u.timeUnit){const c=lPe(u.timeUnit,p=>`scale('${o}', ${p})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,f=ag({fieldDef:u,markDef:a,config:l})-.5,h=f!==0?` + ${f}`:"";if(d){const p=Xt(d)?`${d.signal}/2`+h:`${d/2+f}`,m=Xt(d)?`(1 - ${d.signal}/2)`+h:`${1-d/2+f}`;return[{signal:`${p} * (${c})`},{signal:`${m} * (${c})`}]}return[0,{signal:c}]}return bDe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function FOe(e,t,n){const r=e===xi?"width":"height",i=t[r];return i||HN(n,r)}function iBt(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Xe(n)?n.length+1:(yt(x6t(r)),3)}}function sBt(e,t,n){const r=()=>{const i=sd(t),s=sd(e),o=`(${i} - ${s}) / (${n} - 1)`;return`sequence(${s}, ${i} + ${o}, ${o})`};return Xt(t)?new Xs(r):{signal:r()}}function oBt(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(I6("size",e))}const Che=.95;function aBt(e,t,n,r){const i={x:Ehe(n,"x"),y:Ehe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const s=She(t,i,r.view);return yr(s)?s-1:new Xs(()=>`${s.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const s=She(t,i,r.view);return yr(s)?Math.pow(Che*s,2):new Xs(()=>`pow(${Che} * ${s.signal}, 2)`)}}throw new Error(I6("size",e))}function She(e,t,n){const r=oh(e.width)?e.width.step:SH(n,"width"),i=oh(e.height)?e.height.step:SH(n,"height");return t.x||t.y?new Xs(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function LOe(e,t){ki(e)?lBt(e,t):BOe(e,t)}function lBt(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:s,specifiedScales:o}=e;for(const a of ft(n)){const l=o[a],u=n[a],c=e.getScaleComponent(a),d=Ps(i[a]),f=l[t],h=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=xH(h,t),y=vPe(a,t);if(f!==void 0&&(g?y&&yt(y):yt(QDe(h,t,a))),g&&y===void 0)if(f!==void 0){const v=d.timeUnit,w=d.type;switch(t){case"domainMax":case"domainMin":Hb(l[t])||w==="temporal"||v?u.set(t,{signal:B6(l[t],{type:w,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=pt(The,t)?The[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:h,scalePadding:p,scalePaddingInner:m,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:s,config:r,hasNestedOffsetScale:WPe(i,a),hasSecondaryRangeChannel:!!i[Th(a)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const The={bins:({model:e,fieldOrDatumDef:t})=>wt(t)?uBt(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>cBt(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:s})=>dBt(e,t,n,r,i,s),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>fBt(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:s})=>hBt(e,t,n.type,r,i.scale,s),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:s})=>pBt(e,t,n,r,i.scale,s),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=wt(e)?e.sort:void 0;return mBt(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:s,hasSecondaryRangeChannel:o})=>gBt(e,t,n,r,i,s.scale,o)};function jOe(e){ki(e)?Z9t(e):BOe(e,"range")}function BOe(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?jOe(r):LOe(r,t);for(const r of ft(n)){let i;for(const s of e.children){const o=s.component.scales[r];if(o){const a=o.getWithExplicit(t);i=lg(i,a,t,"scale",C3e((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function uBt(e,t){const n=t.bin;if(ai(n)){const r=LZ(e,t.field,n);return new Xs(()=>e.getSignalName(r))}else if(So(n)&&zb(n)&&n.step!==void 0)return{step:n.step}}function cBt(e,t){if(Hn([Pl,Ch,Sh],e)&&t!=="nominal")return"hcl"}function dBt(e,t,n,r,i,s){var o;if(!((o=Id(s))!=null&&o.bin||Xe(n)||i!=null||r!=null||Hn([Ao.TIME,Ao.UTC],e)))return is(t)?!0:void 0}function fBt(e,t,n,r,i,s){if(is(e)){if(Of(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:o,orient:a}=i;if(o==="bar"&&!(wt(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return s.continuousBandSize}if(t===Ao.POINT)return n.pointPadding}}function hBt(e,t,n,r,i,s=!1){if(e===void 0){if(is(t)){const{bandPaddingInner:o,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return s?c:rs(o,n==="bar"?a:n==="tick"?u:l)}else if(QA(t)&&r===Ao.BAND)return i.offsetBandPaddingInner}}function pBt(e,t,n,r,i,s=!1){if(e===void 0){if(is(t)){const{bandPaddingOuter:o,bandWithNestedOffsetPaddingOuter:a}=i;if(s)return a;if(n===Ao.BAND)return rs(o,Xt(r)?{signal:`${r.signal}/2`}:r/2)}else if(QA(t)){if(n===Ao.POINT)return .5;if(n===Ao.BAND)return i.offsetBandPaddingOuter}}}function mBt(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Ad(e)&&t==="descending"?Xt(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Ad(e)&&t==="descending")return!0}function gBt(e,t,n,r,i,s,o){if(!!n&&n!=="unaggregated"&&Ad(i)){if(Xe(n)){const l=n[0],u=n[n.length-1];if(yr(l)&&l<=0&&yr(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Jx(i))return!0;if(!(wt(t)&&t.bin)&&Hn([...bm,...X4t],e)){const{orient:l,type:u}=r;return Hn(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:Hn(["bar","area"],u)&&!o?!0:s==null?void 0:s.zero}return!1}function yBt(e,t,n,r,i=!1){const s=vBt(t,n,r,i),{type:o}=e;return Ah(t)?o!==void 0?i5t(t,o)?wt(n)&&!r5t(o,n.type)?(yt(s6t(o,s)),s):o:(yt(i6t(t,o,s)),s):s:null}function vBt(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(rx(e)||t9(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&yt(n9(e,"ordinal")),"ordinal";if(e9(e))return"band";if(is(e)||QA(e)){if(Hn(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in $J)return"band";const s=n[Nl(e)];return nb(s)||e_(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return rx(e)?"time":t9(e)==="discrete"?(yt(n9(e,"temporal")),"ordinal"):wt(t)&&t.timeUnit&&so(t.timeUnit).utc?"utc":e9(e)?"band":"time";case"quantitative":return rx(e)?wt(t)&&ai(t.bin)?"bin-ordinal":"linear":t9(e)==="discrete"?(yt(n9(e,"quantitative")),"ordinal"):e9(e)?"band":"linear";case"geojson":return}throw new Error(KDe(t.type))}function bBt(e,{ignoreRange:t}={}){zOe(e),DOe(e);for(const n of n5t)LOe(e,n);t||jOe(e)}function zOe(e){ki(e)?e.component.scales=wBt(e):e.component.scales=_Bt(e)}function wBt(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const s of MJ){const o=Ps(t[s]);if(o&&n===xPe&&s===Ol&&o.type===sE)continue;let a=o&&o.scale;if(o&&a!==null&&a!==!1){a??(a={});const l=WPe(t,s),u=yBt(a,s,o,r,l);i[s]=new OOe(e.scaleName(`${s}`,!0),{value:u,explicit:a.type===u})}}return i}const xBt=C3e((e,t)=>Sfe(e)-Sfe(t));function _Bt(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const s of e.children){zOe(s);for(const o of ft(s.component.scales))if((t=i.scale)[o]??(t[o]=vOe(o,e)),i.scale[o]==="shared"){const a=r[o],l=s.component.scales[o].getWithExplicit("type");a?W6t(a.value,l.value)?r[o]=lg(a,l,"type","scale",xBt):(i.scale[o]="independent",delete r[o]):r[o]=l}}for(const s of ft(r)){const o=e.scaleName(s,!0),a=r[s];n[s]=new OOe(o,a);for(const l of e.children){const u=l.component.scales[s];u&&(l.renameScale(u.get("name"),o),u.merged=!0)}}return n}class y9{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function ki(e){return(e==null?void 0:e.type)==="unit"}function au(e){return(e==null?void 0:e.type)==="facet"}function HZ(e){return(e==null?void 0:e.type)==="concat"}function cE(e){return(e==null?void 0:e.type)==="layer"}class qZ{constructor(t,n,r,i,s,o,a){this.type=n,this.parent=r,this.config=s,this.parent=r,this.config=s,this.view=To(a),this.name=t.name??i,this.title=l0(t.title)?{text:t.title}:t.title?To(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new y9,this.projectionNameMap=r?r.projectionNameMap:new y9,this.signalNameMap=r?r.signalNameMap:new y9,this.data=t.data,this.description=t.description,this.transforms=vLt(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:_Ft(t,n,s),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:F6(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new xm,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...o?xn(o):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){bBt(this)}parseProjection(){kOe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){EOe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const s of ft(r)){const o=r[s];o!==void 0&&(i[s]=fi(o))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=fi(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:Kr(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,s=Ujt(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...s?{titleBand:s}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Wu)t[r].title&&n.push(Mjt(this,r));for(const r of NZ)n=n.concat(Fjt(this,r));return n}assembleAxes(){return Ejt(this.component.axes,this.config)}assembleLegends(){return SOe(this)}assembleProjections(){return d9t(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...BDe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return Hn(["unit","layer"],this.type)?Hn(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Kr(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||au(this.parent)?POe(this):[];i.length>0&&(n.scales=i);const s=this.assembleAxes();s.length>0&&(n.axes=s);const o=this.assembleLegends();return o.length>0&&(n.legends=o),n}getName(t){return bi((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Ri[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(au(this.parent)){const n=gOe(t),r=T6(n),i=this.component.scales[r];if(i&&!i.merged){const s=i.get("type"),o=i.get("range");if(oo(s)&&Ub(o)){const a=i.get("name"),l=n5(this,r),u=UZ(l);if(u){const c=At({aggregate:"distinct",field:u},{expr:"datum"});return{signal:mOe(a,i,c)}}else return yt(jJ(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(PDe(t)&&Ah(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(wMt(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class UOe extends qZ{vgField(t,n={}){const r=this.fieldDef(t);if(r)return At(r,n)}reduceFieldDef(t,n){return Q5t(this.getMapping(),(r,i,s)=>{const o=Id(i);return o?t(r,o,s):r},n)}forEachFieldDef(t,n){hZ(this.getMapping(),(r,i)=>{const s=Id(r);s&&t(s,i)},n)}}class r5 extends qr{clone(){return new r5(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=xn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Zn(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class i5 extends qr{clone(){return new i5(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=xn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Zn(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class s5 extends qr{clone(){return new s5(this.parent,xn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=xn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((s,o)=>i[o]??s)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Zn(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class o5 extends qr{clone(){return new o5(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=xn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Zn(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class ox extends qr{clone(){return new ox(null,xn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[Gd,Wd],[sc,Yd]]){const s=i.map(o=>{const a=Ps(n.encoding[o]);return wt(a)?a.field:kh(a)?{expr:`${a.datum}`}:kd(a)?{expr:`${a.value}`}:void 0});(s[0]||s[1])&&(t=new ox(t,s,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Ol)){const i=n.typedFieldDef(Ol);i.type===sE&&(t=new ox(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(It);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Zn(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class wT extends qr{clone(){return new wT(null,this.projection,xn(this.fields),xn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[Gd,Wd],[sc,Yd]]){const i=r.map(o=>{const a=Ps(n.encoding[o]);return wt(a)?a.field:kh(a)?{expr:`${a.datum}`}:kd(a)?{expr:`${a.value}`}:void 0}),s=r[0]===sc?"2":"";(i[0]||i[1])&&(t=new wT(t,n.projectionName(),i,[n.getName(`x${s}`),n.getName(`y${s}`)]))}return t}dependentFields(){return new Set(this.fields.filter(It))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Zn(this.fields)} ${Zn(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Cv extends qr{clone(){return new Cv(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Cv(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,s=r.y;if(wt(i)&&wt(s)){const o=i.impute?i:s.impute?s:void 0;if(o===void 0)return;const a=i.impute?s:s.impute?i:void 0,{method:l,value:u,frame:c,keyvals:d}=o.impute,f=KPe(n.mark,r);return new Cv(t,{impute:o.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...d!==void 0?{keyvals:d}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${Zn(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:s,value:o,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:ZFt(r)?this.processSequence(r):r}:{},method:"value",...s?{groupby:s}:{},value:!i||i==="value"?o:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...s?{groupby:s}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class a5 extends qr{clone(){return new a5(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=xn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Zn(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class xT extends qr{clone(){return new xT(null,xn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const s=n.component.data.sources,{from:o}=r;let a=null;if(eLt(o)){let l=VOe(o.data,s);l||(l=new lb(o.data),s.push(l));const u=n.getName(`lookup_${i}`);a=new Tl(l,u,Ri.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(tLt(o)){const l=o.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(bi(l),l)}catch{throw new Error(CMt(l))}if(a=u.materialized,!a)throw new Error(SMt(l))}return new xT(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Rt(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Zn({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Rt(this.transform.as)}:{}};else{let n=this.transform.as;It(n)||(yt(MMt),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class l5 extends qr{clone(){return new l5(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=xn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Zn(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class u5 extends qr{clone(){return new u5(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=xn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Zn(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class c5 extends qr{clone(){return new c5(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Pf((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Zn(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:s}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...s!==void 0?{op:s}:{},...r!==void 0?{groupby:r}:{}}}}class d5 extends qr{clone(){return new d5(null,xn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Zn(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function HOe(e){let t=0;function n(r,i){if(r instanceof lb&&!r.isGenerator&&!n_(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof oa&&(r.parent instanceof lb&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof lE){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof ck||r instanceof dk||r instanceof a_||r instanceof aE||r instanceof i_||r instanceof wT||r instanceof md||r instanceof xT||r instanceof uE||r instanceof Yb||r instanceof o5||r instanceof s5||r instanceof r5||r instanceof a5||r instanceof l5||r instanceof u5||r instanceof ug||r instanceof d5||r instanceof c5||r instanceof i5)&&i.transform.push(r.assemble()),(r instanceof Wf||r instanceof qf||r instanceof Cv||r instanceof $p||r instanceof ox)&&i.transform.push(...r.assemble()),r instanceof Tl&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Tl?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Tl&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let s=i.name;!i.source||i.transform.length>0?e.push(i):s=i.source;for(const o of r.children)n(o,{name:null,source:s,transform:[]});break}}}return n}function EBt(e){const t=[],n=HOe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function CBt(e,t){const n=[],r=HOe(n);let i=0;for(const o of e.sources){o.hasName()||(o.dataName=`source_${i++}`);const a=o.assemble();r(o,a)}for(const o of n)o.transform.length===0&&delete o.transform;let s=0;for(const[o,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(s++,0,n.splice(o,1)[0]);for(const o of n)for(const a of o.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const o of n)o.name in t&&(o.values=t[o.name]);return n}function SBt(e){return e==="top"||e==="left"||Xt(e)?"header":"footer"}function TBt(e){for(const t of Wu)ABt(e,t);Ahe(e,"x"),Ahe(e,"y")}function ABt(e,t){var o;const{facet:n,config:r,child:i,component:s}=e;if(e.channelHasField(t)){const a=n[t],l=o_("title",null,r,t);let u=ix(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=Xe(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=o_("labelOrient",a.header,r,t),d=a.header!==null?rs((o=a.header)==null?void 0:o.labels,r.header.labels,!0):!1,f=Hn(["bottom","right"],c)?"footer":"header";s.layoutHeaders[t]={title:a.header!==null?u:null,facetFieldDef:a,[f]:t==="facet"?[]:[qOe(e,t,d)]}}}function qOe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Ahe(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=FZ(i,t),i.axis[t]==="shared"){const s=t==="x"?"column":"row",o=r[s];for(const a of n.component.axes[t]){const l=SBt(a.get("orient"));o[l]??(o[l]=[qOe(e,s,!1)]);const u=_S(a,"main",e.config,{header:!0});u&&o[l][0].axes.push(u),a.mainExtracted=!0}}}}function kBt(e){VZ(e),YN(e,"width"),YN(e,"height")}function IBt(e){VZ(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";YN(e,t),YN(e,n)}function VZ(e){for(const t of e.children)t.parseLayoutSize()}function YN(e,t){const n=gOe(t),r=T6(n),i=e.component.resolve,s=e.component.layoutSize;let o;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??vOe(r,e);if(u==="independent"&&l.value==="step"){o=void 0;break}if(o){if(u==="independent"&&o.value!==l.value){o=void 0;break}o=lg(o,l,n,"")}else o=l}if(o){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);s.setWithExplicit(t,o)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function RBt(e){const{size:t,component:n}=e;for(const r of bm){const i=Nl(r);if(t[i]){const s=t[i];n.layoutSize.set(i,oh(s)?"step":s,!0)}else{const s=DBt(e,i);n.layoutSize.set(i,s,!1)}}}function DBt(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const s=i.get("type"),o=i.get("range");if(oo(s)){const a=HN(r.view,t);return Ub(o)||oh(a)?"step":a}else return CH(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return CH(r.view,t);{const s=HN(r.view,t);return oh(s)?s.step:s}}}function qH(e,t,n){return At(t,{suffix:`by_${At(e)}`,...n})}class i2 extends UOe{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=XZ(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!tk(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=ft(t),r={};for(const i of n){if(![Dp,Pp].includes(i)){yt(I6(i,"facet"));break}const s=t[i];if(s.field===void 0){yt(bH(s,i));break}r[i]=this.initFacetFieldDef(s,i)}return r}initFacetFieldDef(t,n){const r=fZ(t,n);return r.header?r.header=To(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return pt(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=f5(this),this.child.parseData()}parseLayoutSize(){VZ(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>Vf(t))&&zJ(BJ)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),TBt(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Wu)for(const r of $Z){const i=this.component.layoutHeaders[n],s=i[r],{facetFieldDef:o}=i;if(o){const a=o_("titleOrient",o.header,this.config,n);if(["right","bottom"].includes(a)){const l=e5(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(s!=null&&s[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof i2))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof i2?{...this.channelHasField("column")?{encode:{update:{columns:{field:At(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof i2){if(this.child.channelHasField("column")){const i=At(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of bm){const s=this.child.component.scales[i];if(s&&!s.merged){const o=s.get("type"),a=s.get("range");if(oo(o)&&Ub(a)){const l=n5(this.child,i),u=UZ(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):yt(jJ(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:s,ops:o,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of Wu){const d=this.facet[c];if(d){l.push(At(d));const{bin:f,sort:h}=d;if(ai(f)&&l.push(At(d,{binSuffix:"end"})),Op(h)){const{field:p,op:m=M6}=h,g=qH(d,h);r&&i?(s.push(g),o.push("max"),a.push(g)):(s.push(p),o.push(m),a.push(g))}else if(Xe(h)){const p=s_(d,c);s.push(p),o.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||s.length>0?{aggregate:{...u?{cross:u}:{},...s.length?{fields:s,ops:o,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Op(r.sort)?[qH(r,r.sort,{expr:"datum"})]:Xe(r.sort)?[s_(r,t,{expr:"datum"})]:[At(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Op(i)?i.order:!Xe(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return FH(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const s of NZ)if(t[s]){const o=o_("labelOrient",(i=t[s])==null?void 0:i.header,n,s);if(r[s].includes(o))return FH(t[s],s,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=EBt(n),i=t.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...o?{style:o}:{},from:{facet:this.assembleFacet()},sort:{field:Wu.map(l=>this.facetSortFields(l)).flat(),order:Wu.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(FLt(this,[]))}]}getMapping(){return this.facet}}function PBt(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const s of[n,r])if(Op(s.sort)){const{field:o,op:a=M6}=s.sort;e=i=new Yb(e,{joinaggregate:[{op:a,field:o,as:qH(s,s.sort,{forAs:!0})}],groupby:[At(s)]})}return i}return null}function VOe(e,t){var n,r,i,s;for(const o of t){const a=o.data;if(e.name&&o.hasName()&&e.name!==o.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=a.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const d=(s=a.format)==null?void 0:s.mesh;if(!((l||d)&&l!==d)){if(yT(e)&&yT(a)){if(eu(e.values,a.values))return o}else if(n_(e)&&n_(a)){if(e.url===a.url)return o}else if(S3e(e)&&e.name===o.dataName)return o}}return null}function OBt(e,t){if(e.data||!e.parent){if(e.data===null){const r=new lb({values:[]});return t.push(r),r}const n=VOe(e.data,t);if(n)return B0(e.data)||(n.data.format=wDe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new lb(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function NBt(e,t,n){let r=0;for(const i of t.transforms){let s,o;if(dLt(i))o=e=new i_(e,i),s="derived";else if(CZ(i)){const a=C9t(i);o=e=oa.makeWithAncestors(e,{},a,n)??e,e=new aE(e,t,i.filter)}else if(w3e(i))o=e=Wf.makeFromTransform(e,i,t),s="number";else if(hLt(i))s="date",n.getWithExplicit(i.field).value===void 0&&(e=new oa(e,{[i.field]:s}),n.set(i.field,s,!1)),o=e=qf.makeFromTransform(e,i);else if(pLt(i))o=e=md.makeFromTransform(e,i),s="number",RZ(t)&&(e=new ug(e));else if(b3e(i))o=e=xT.make(e,t,i,r++),s="derived";else if(lLt(i))o=e=new uE(e,i),s="number";else if(uLt(i))o=e=new Yb(e,i),s="number";else if(mLt(i))o=e=$p.makeFromTransform(e,i),s="derived";else if(gLt(i))o=e=new o5(e,i),s="derived";else if(yLt(i))o=e=new i5(e,i),s="derived";else if(cLt(i))o=e=new s5(e,i),s="derived";else if(nLt(i))o=e=new c5(e,i),s="derived";else if(aLt(i))e=new d5(e,i);else if(fLt(i))o=e=Cv.makeFromTransform(e,i),s="derived";else if(rLt(i))o=e=new r5(e,i),s="derived";else if(iLt(i))o=e=new l5(e,i),s="derived";else if(sLt(i))o=e=new u5(e,i),s="derived";else if(oLt(i))o=e=new a5(e,i),s="derived";else{yt($Mt(i));continue}if(o&&s!==void 0)for(const a of o.producedFields()??[])n.set(a,s,!1)}return e}function f5(e){var g;let t=OBt(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,o=!(i&&(B0(i)||n_(i)||yT(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new ILt;B0(i)?(T3e(i)?t=new dk(t,i.sequence):SZ(i)&&(t=new ck(t,i.graticule)),o.parseNothing=!0):((g=i==null?void 0:i.format)==null?void 0:g.parse)===null&&(o.parseNothing=!0),t=oa.makeExplicit(t,e,o)??t,t=new ug(t);const a=e.parent&&cE(e.parent);(ki(e)||au(e))&&a&&(t=Wf.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=NBt(t,e,o));const l=T9t(e),u=S9t(e);t=oa.makeWithAncestors(t,{},{...l,...u},o)??t,ki(e)&&(t=ox.parseAll(t,e),t=wT.parseAll(t,e)),(ki(e)||au(e))&&(a||(t=Wf.makeFromEncoding(t,e)??t),t=qf.makeFromEncoding(t,e)??t,t=i_.parseAllForSortIndex(t,e));const c=t=ER(Ri.Raw,e,t);if(ki(e)){const y=md.makeFromEncoding(t,e);y&&(t=y,RZ(e)&&(t=new ug(t))),t=Cv.makeFromEncoding(t,e)??t,t=$p.makeFromEncoding(t,e)??t}let d,f;if(ki(e)){const{markDef:y,mark:v,config:w}=e,E=Yr("invalid",y,w),{marks:C,scales:S}=f=k3e({invalid:E,isPath:Bg(v)});C!==S&&S==="include-invalid-values"&&(d=t=ER(Ri.PreFilterInvalid,e,t)),C==="exclude-invalid-values"&&(t=a_.make(t,e,f)??t)}const h=t=ER(Ri.Main,e,t);let p;if(ki(e)&&f){const{marks:y,scales:v}=f;y==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=a_.make(t,e,f)??t,p=t=ER(Ri.PostFilterInvalid,e,t))}ki(e)&&xjt(e,h);let m=null;if(au(e)){const y=e.getName("facet");t=PBt(t,e.facet)??t,m=new lE(t,e,y,h.getSource()),n[y]=m}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:m,ancestorParse:o,preFilterInvalid:d,postFilterInvalid:p}}function ER(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,s=t.getDataName(e),o=new Tl(n,s,e,i);return r[s]=o,o}class $Bt extends qZ{constructor(t,n,r,i){var s,o,a,l;super(t,"concat",n,r,i,t.resolve),(((o=(s=t.resolve)==null?void 0:s.axis)==null?void 0:o.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&yt(PMt),this.children=this.getChildren(t).map((u,c)=>XZ(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=f5(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ft(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Vf(t))&&zJ(BJ)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return H6(t)?t.vconcat:_Z(t)?t.hconcat:t.concat}parseLayoutSize(){IBt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=MZ(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function MBt(e){return e===!1||e===null}const FBt={disable:1,gridScale:1,scale:1,...HPe,labelExpr:1,encode:1},WOe=ft(FBt);class WZ extends xm{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new WZ(xn(this.explicit),xn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!MBt(this.get(t))}hasOrientSignalRef(){return Xt(this.explicit.orient)}}function LBt(e,t,n){const{encoding:r,config:i}=e,s=Ps(r[t])??Ps(r[Th(t)]),o=e.axis(t)||{},{format:a,formatType:l}=o;if(rb(l))return{text:od({fieldOrDatumDef:s,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(Zx(s)==="quantitative"){if(e_(s)&&s.stack==="normalize"&&i.normalizedNumberFormatType)return{text:od({fieldOrDatumDef:s,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:od({fieldOrDatumDef:s,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Zx(s)==="temporal"&&i.timeFormatType&&wt(s)&&!s.timeUnit)return{text:od({fieldOrDatumDef:s,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function jBt(e){return bm.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[WBt(n,e)]),t),{})}const BBt={bottom:"top",top:"bottom",left:"right",right:"left"};function zBt(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const s of ft(i.component.axes))n.axis[s]=FZ(e.component.resolve,s),n.axis[s]==="shared"&&(t[s]=UBt(t[s],i.component.axes[s]),t[s]||(n.axis[s]="independent",delete t[s]))}for(const i of bm){for(const s of e.children)if(s.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(s.component.axes[i]);for(const o of s.component.axes[i]){const{value:a,explicit:l}=o.getWithExplicit("orient");if(!Xt(a)){if(r[a]>0&&!l){const u=BBt[a];r[a]>r[u]&&o.set("orient",u,!1)}r[a]++}}}delete s.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[s,o]of(t[i]||[]).entries())s>0&&o.get("grid")&&!o.explicit.grid&&(o.implicit.grid=!1)}}function UBt(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],s=t[r];if(!!i!=!!s)return;if(i&&s){const o=i.getWithExplicit("orient"),a=s.getWithExplicit("orient");if(o.explicit&&a.explicit&&o.value!==a.value)return;e[r]=HBt(i,s)}}}else return t.map(n=>n.clone());return e}function HBt(e,t){for(const n of WOe){const r=lg(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,s)=>{switch(n){case"title":return GDe(i,s);case"gridScale":return{explicit:i.explicit,value:rs(i.value,s.value)}}return V6(i,s,n,"axis")});e.setWithExplicit(n,r)}return e}function qBt(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Xt(n.labelAngle)?n.labelAngle:mT(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===dOe(r,i))return!0}return e===n[t]}const VBt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function WBt(e,t){var y,v;let n=t.axis(e);const r=new WZ,i=Ps(t.encoding[e]),{mark:s,config:o}=t,a=(n==null?void 0:n.orient)||((y=o[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=o.axis)==null?void 0:v.orient)||Djt(e),l=t.getScaleComponent(e).get("type"),u=Cjt(e,l,a,t.config),c=n!==void 0?!n:$H("disable",o.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const d=kjt(i,n,e,o.style,u),f=IPe(n.formatType,i,l),h=kPe(i,i.type,n.format,n.formatType,o,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:h,formatType:f,mark:s,config:o};for(const w of WOe){const E=w in fhe?fhe[w](p):Pfe(w)?n[w]:void 0,C=E!==void 0,S=qBt(E,w,n,t,e);if(C&&S)r.set(w,E,S);else{const{configValue:T=void 0,configFrom:A=void 0}=Pfe(w)&&w!=="values"?$H(w,o.style,n.style,u):{},I=T!==void 0;C&&!I?r.set(w,E,S):(A!=="vgAxisConfig"||VBt.has(w)&&I||sk(T)||Xt(T))&&r.set(w,T,!1)}}const m=n.encoding??{},g=UPe.reduce((w,E)=>{if(!r.hasAxisPart(E))return w;const C=yOe(m[E]??{},t),S=E==="labels"?LBt(t,e,C):C;return S!==void 0&&!Kr(S)&&(w[E]={update:S}),w},{});return Kr(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function GBt({encoding:e,size:t}){for(const n of bm){const r=Nl(n);oh(t[r])&&k0(e[n])&&(delete t[r],yt(JDe(r)))}return t}const YBt={vgMark:"arc",encodeEntry:e=>({...vc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...La("x",e,{defaultPos:"mid"}),...La("y",e,{defaultPos:"mid"}),...Jp(e,"radius"),...Jp(e,"theta")})},KBt={vgMark:"area",encodeEntry:e=>({...vc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...qN("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...qN("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...IZ(e)})},XBt={vgMark:"rect",encodeEntry:e=>({...vc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Jp(e,"x"),...Jp(e,"y")})},QBt={vgMark:"shape",encodeEntry:e=>({...vc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&wt(n)&&n.type===sE?{field:At(n,{expr:"datum"})}:{}}]}},JBt={vgMark:"image",encodeEntry:e=>({...vc(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Jp(e,"x"),...Jp(e,"y"),...AZ(e,"url")})},ZBt={vgMark:"line",encodeEntry:e=>({...vc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...La("x",e,{defaultPos:"mid"}),...La("y",e,{defaultPos:"mid"}),...Io("size",e,{vgChannel:"strokeWidth"}),...IZ(e)})},e7t={vgMark:"trail",encodeEntry:e=>({...vc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...La("x",e,{defaultPos:"mid"}),...La("y",e,{defaultPos:"mid"}),...Io("size",e),...IZ(e)})};function GZ(e,t){const{config:n}=e;return{...vc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...La("x",e,{defaultPos:"mid"}),...La("y",e,{defaultPos:"mid"}),...Io("size",e),...Io("angle",e),...t7t(e,n,t)}}function t7t(e,t,n){return n?{shape:{value:n}}:Io("shape",e)}const n7t={vgMark:"symbol",encodeEntry:e=>GZ(e)},r7t={vgMark:"symbol",encodeEntry:e=>GZ(e,"circle")},i7t={vgMark:"symbol",encodeEntry:e=>GZ(e,"square")},s7t={vgMark:"rect",encodeEntry:e=>({...vc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Jp(e,"x"),...Jp(e,"y")})},o7t={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...vc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...qN("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...qN("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Io("size",e,{vgChannel:"strokeWidth"})}}},a7t={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...vc(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...La("x",e,{defaultPos:"mid"}),...La("y",e,{defaultPos:"mid"}),...AZ(e),...Io("size",e,{vgChannel:"fontSize"}),...Io("angle",e),...the("align",l7t(e.markDef,n,t)),...the("baseline",u7t(e.markDef,n,t)),...La("radius",e,{defaultPos:null}),...La("theta",e,{defaultPos:null})}}};function l7t(e,t,n){if(Yr("align",e,n)===void 0)return"center"}function u7t(e,t,n){if(Yr("baseline",e,n)===void 0)return"middle"}const c7t={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",s=r==="horizontal"?"y":"x",o=r==="horizontal"?"height":"width";return{...vc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Jp(e,i),...La(s,e,{defaultPos:"mid",vgChannel:s==="y"?"yc":"xc"}),[o]:fi(Yr("thickness",n,t))}}},CR={arc:YBt,area:KBt,bar:XBt,circle:r7t,geoshape:QBt,image:JBt,line:ZBt,point:n7t,rect:s7t,rule:o7t,square:i7t,text:a7t,tick:c7t,trail:e7t};function d7t(e){if(Hn([N6,P6,l5t],e.mark)){const t=KPe(e.mark,e.encoding);if(t.length>0)return f7t(e,t)}else if(e.mark===O6){const t=yH.some(n=>Yr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return h7t(e)}return YZ(e)}const khe="faceted_path_";function f7t(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:khe+e.requestDataName(Ri.Main),data:e.requestDataName(Ri.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:YZ(e,{fromPrefix:khe})}]}const Ihe="stack_group_";function h7t(e){var u;const[t]=YZ(e,{fromPrefix:Ihe}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,d)=>{const f=[r({prefix:"min",suffix:"start",expr:d}),r({prefix:"max",suffix:"start",expr:d}),r({prefix:"min",suffix:"end",expr:d}),r({prefix:"max",suffix:"end",expr:d})];return`${c}(${f.map(h=>`scale('${n}',${h})`).join(",")})`};let s,o;e.stack.fieldChannel==="x"?(s={...Gx(t.encode.update,["y","yc","y2","height",...yH]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},o={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Sl(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(s={...Gx(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},o={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Sl(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of yH){const d=ih(c,e.markDef,e.config);t.encode.update[c]?(s[c]=t.encode.update[c],delete t.encode.update[c]):d&&(s[c]=fi(d)),d&&(t.encode.update[c]={value:0})}const a=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const d=e.fieldDef(c),f=At(d);f&&a.push(f),(d!=null&&d.bin||d!=null&&d.timeUnit)&&a.push(At(d,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,d)=>{if(t.encode.update[d])return{...c,[d]:t.encode.update[d]};{const f=ih(d,e.markDef,e.config);return f!==void 0?{...c,[d]:fi(f)}:c}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Ri.Main),name:Ihe+e.requestDataName(Ri.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:o},marks:[t]}]}]}function p7t(e){const{encoding:t,stack:n,mark:r,markDef:i,config:s}=e,o=t.order;if(!(!Xe(o)&&kd(o)&&mH(o.value)||!o&&mH(Yr("order",i,s)))){if((Xe(o)||wt(o))&&!n)return qDe(o,{expr:"datum"});if(Bg(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(wt(l))return{field:a}}}}function YZ(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:s}=e,o=rs(r.clip,m7t(e),g7t(e)),a=UDe(r),l=i.key,u=p7t(e),c=y7t(e),d=Yr("aria",r,s),f=CR[n].postEncodingTransform?CR[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:CR[n].vgMark,...o?{clip:o}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(Ri.Main)},encode:{update:CR[n].encodeEntry(e)},...f?{transform:f}:{}}]}function m7t(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function g7t(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function y7t(e){if(!e.component.selection)return null;const t=ft(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=ft(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class GOe extends UOe{constructor(t,n,r,i={},s){super(t,"unit",n,r,s,void 0,Nfe(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=u=>{var c,d,f;return(c=u.from)!=null&&c.data&&(u.from.data=this.lookupDataSource(u.from.data),"time"in this.encoding&&(u.from.data=u.from.data+R3e)),(f=(d=u.from)==null?void 0:d.facet)!=null&&f.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u};const o=sh(t.mark)?{...t.mark}:{type:t.mark},a=o.type;o.filled===void 0&&(o.filled=VFt(o,s,{graticule:t.data&&SZ(t.data)}));const l=this.encoding=K5t(t.encoding||{},a,o.filled,s);this.markDef=g3e(o,l,s),this.size=GBt({encoding:l,size:Nfe(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=m3e(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>wZ(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===xPe,r=t&&z4t.some(i=>Sn(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return MJ.reduce((r,i)=>{const s=Ps(n[i]);return s&&(r[i]=this.initScale(s.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=To(t);return Xe(n)&&(i.domain=n.map(Ql)),Xe(r)&&(i.range=r.map(Ql)),i}initAxes(t){return bm.reduce((n,r)=>{const i=t[r];if(Sn(i)||r===xi&&Sn(t.x2)||r===fo&&Sn(t.y2)){const s=Sn(i)?i.axis:void 0;n[r]=s&&this.initAxis({...s})}return n},{})}initAxis(t){const n=ft(t),r={};for(const i of n){const s=t[i];r[i]=sk(s)?zDe(s):Ql(s)}return r}initLegends(t){return J4t.reduce((n,r)=>{const i=Ps(t[r]);if(i&&eMt(r)){const s=i.legend;n[r]=s&&To(s)}return n},{})}parseData(){this.component.data=f5(this)}parseLayoutSize(){RBt(this)}parseSelections(){this.component.selection=wjt(this,this.selection)}parseMarkGroup(){this.component.mark=d7t(this)}parseAxesAndHeaders(){this.component.axes=jBt(this)}assembleSelectionTopLevelSignals(t){return LLt(this,t)}assembleSignals(){return[...lOe(this),...MLt(this,[])]}assembleSelectionData(t){return jLt(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return MZ(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!cE(this.parent))&&(t=N3e(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return _v(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Id(n)}typedFieldDef(t){const n=this.fieldDef(t);return Wa(n)?n:null}}class KZ extends qZ{constructor(t,n,r,i,s){super(t,"layer",n,r,s,t.resolve,t.view);const o={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(q6(a))return new KZ(a,this,this.getName(`layer_${l}`),o,s);if(wm(a))return new GOe(a,this,this.getName(`layer_${l}`),o,s);throw new Error(LJ(a))})}parseData(){this.component.data=f5(this);for(const t of this.children)t.parseData()}parseLayoutSize(){kBt(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ft(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Vf(t))&&zJ(BJ)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){zBt(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),lOe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),MZ(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Rt(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return BLt(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),SOe(this))}}function XZ(e,t,n,r,i){if(F6(e))return new i2(e,t,n,i);if(q6(e))return new KZ(e,t,n,r,i);if(wm(e))return new GOe(e,t,n,r,i);if(bFt(e))return new $Bt(e,t,n,i);throw new Error(LJ(e))}function v7t(e,t={}){t.logger&&_6t(t.logger),t.fieldTitle&&jPe(t.fieldTitle);try{const n=p3e(U_(t.config,e.config)),r=E3e(e,n),i=XZ(r,null,"",void 0,n);return i.parse(),U9t(i.component.data,i),{spec:w7t(i,b7t(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&E6t(),t.fieldTitle&&B5t()}}function b7t(e,t,n,r){const i=r.component.layoutSize.get("width"),s=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):It(t)&&(t={type:t}),i&&s&&TLt(t.type)){if(i==="step"&&s==="step")yt(vfe()),t.type="pad";else if(i==="step"||s==="step"){const o=i==="step"?"width":"height";yt(vfe(T6(o)));const a=o==="width"?"height":"width";t.type=ALt(a)}}return{...ft(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...Wfe(n,!1),...Wfe(e,!0)}}function w7t(e,t,n={},r){const i=e.config?OFt(e.config):void 0,s=CBt(e.component.data,n),o=e.assembleSelectionData(s),a=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(p=>(p.name==="width"||p.name==="height")&&p.value!==void 0?(t[p.name]=+p.value,!1):!0);const{params:f,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...h,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:o,...a.length>0?{projections:a}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...c3e(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const x7t=$4t.version,_7t=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Kx,accessPathWithDatum:kJ,accessWithDatumToUnescapedPath:Br,compile:v7t,contains:Hn,deepEqual:eu,deleteNestedProperty:NN,duplicate:xn,entries:sg,every:SJ,fieldIntersection:AJ,flatAccessWithDatum:_De,getFirstDefined:rs,hasIntersection:TJ,hasProperty:pt,hash:Zn,internalField:SDe,isBoolean:pT,isEmpty:Kr,isEqual:F4t,isInternalField:TDe,isNullOrFalse:mH,isNumeric:w6,keys:ft,logicalExpr:t2,mergeDeep:wDe,never:bDe,normalize:E3e,normalizeAngle:mT,omit:Sl,pick:Gx,prefixGenerator:gH,removePathFromField:rE,replaceAll:Qv,replacePathInField:ic,resetIdCounter:j4t,setEqual:xDe,some:Yx,stringify:Xr,titleCase:YA,unique:Pf,uniqueId:CDe,vals:Mo,varName:bi,version:x7t},Symbol.toStringTag,{value:"Module"}));function YOe(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var E7t="2.15.0",C7t={version:E7t};const Y1="#fff",Rhe="#888",S7t={background:"#333",view:{stroke:Rhe},title:{color:Y1,subtitleColor:Y1},style:{"guide-label":{fill:Y1},"guide-title":{fill:Y1}},axis:{domainColor:Y1,gridColor:Rhe,tickColor:Y1}},hy="#4572a7",T7t={background:"#fff",arc:{fill:hy},area:{fill:hy},line:{stroke:hy,strokeWidth:2},path:{stroke:hy},rect:{fill:hy},shape:{stroke:hy},symbol:{fill:hy,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},py="#30a2da",v9="#cbcbcb",A7t="#999",k7t="#333",Dhe="#f0f0f0",Phe="#333",I7t={arc:{fill:py},area:{fill:py},axis:{domainColor:v9,grid:!0,gridColor:v9,gridWidth:1,labelColor:A7t,labelFontSize:10,titleColor:k7t,tickColor:v9,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:Dhe,group:{fill:Dhe},legend:{labelColor:Phe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Phe,titleFontSize:14,titlePadding:10},line:{stroke:py,strokeWidth:2},path:{stroke:py,strokeWidth:.5},rect:{fill:py},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:py},bar:{binSpacing:2,fill:py,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},my="#000",R7t={group:{fill:"#e5e5e5"},arc:{fill:my},area:{fill:my},line:{stroke:my},path:{stroke:my},rect:{fill:my},shape:{stroke:my},symbol:{fill:my,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},D7t=22,P7t="normal",Ohe="Benton Gothic, sans-serif",Nhe=11.5,O7t="normal",gy="#82c6df",b9="Benton Gothic Bold, sans-serif",$he="normal",Mhe=13,CC={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},N7t={background:"#ffffff",title:{anchor:"start",color:"#000000",font:b9,fontSize:D7t,fontWeight:P7t},arc:{fill:gy},area:{fill:gy},line:{stroke:gy,strokeWidth:2},path:{stroke:gy},rect:{fill:gy},shape:{stroke:gy},symbol:{fill:gy,size:30},axis:{labelFont:Ohe,labelFontSize:Nhe,labelFontWeight:O7t,titleFont:b9,titleFontSize:Mhe,titleFontWeight:$he},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Ohe,labelFontSize:Nhe,symbolType:"square",titleFont:b9,titleFontSize:Mhe,titleFontWeight:$he},range:{category:CC["category-6"],diverging:CC["fireandice-6"],heatmap:CC["fire-7"],ordinal:CC["fire-7"],ramp:CC["fire-7"]}},yy="#ab5787",SR="#979797",$7t={background:"#f9f9f9",arc:{fill:yy},area:{fill:yy},line:{stroke:yy},path:{stroke:yy},rect:{fill:yy},shape:{stroke:yy},symbol:{fill:yy,size:30},axis:{domainColor:SR,domainWidth:.5,gridWidth:.2,labelColor:SR,tickColor:SR,tickWidth:.2,titleColor:SR},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},vy="#3e5c69",M7t={background:"#fff",arc:{fill:vy},area:{fill:vy},line:{stroke:vy},path:{stroke:vy},rect:{fill:vy},shape:{stroke:vy},symbol:{fill:vy},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Ou="#1696d2",Fhe="#000000",F7t="#FFFFFF",TR="Lato",w9="Lato",L7t="Lato",j7t="#DEDDDD",B7t=18,SC={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},z7t={background:F7t,title:{anchor:"start",fontSize:B7t,font:TR},axisX:{domain:!0,domainColor:Fhe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:w9,labelAngle:0,tickColor:Fhe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:TR},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:j7t,gridWidth:1,labelFontSize:12,labelFont:w9,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:TR,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:w9,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:TR,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:SC["six-groups-cat-1"],diverging:SC["diverging-colors"],heatmap:SC["diverging-colors"],ordinal:SC["six-groups-seq"],ramp:SC["shades-blue"]},area:{fill:Ou},rect:{fill:Ou},line:{color:Ou,stroke:Ou,strokeWidth:5},trail:{color:Ou,stroke:Ou,strokeWidth:0,size:1},path:{stroke:Ou,strokeWidth:.5},point:{filled:!0},text:{font:L7t,color:Ou,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Ou,stroke:null}},arc:{fill:Ou},shape:{stroke:Ou},symbol:{fill:Ou,size:30}},by="#3366CC",Lhe="#ccc",AR="Arial, sans-serif",U7t={arc:{fill:by},area:{fill:by},path:{stroke:by},rect:{fill:by},shape:{stroke:by},symbol:{stroke:by},circle:{fill:by},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:AR,fontSize:12},"guide-title":{font:AR,fontSize:12},"group-title":{font:AR,fontSize:12}},title:{font:AR,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Lhe,tickColor:Lhe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},QZ=e=>e*(1/3+1),jhe=QZ(9),Bhe=QZ(10),zhe=QZ(12),TC="Segoe UI",Uhe="wf_standard-font, helvetica, arial, sans-serif",Hhe="#252423",AC="#605E5C",qhe="transparent",H7t="#C8C6C4",Fc="#118DFF",q7t="#12239E",V7t="#E66C37",W7t="#6B007B",G7t="#E044A7",Y7t="#744EC2",K7t="#D9B300",X7t="#D64550",KOe=Fc,XOe="#DEEFFF",Vhe=[XOe,KOe],Q7t=[XOe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",KOe],J7t={view:{stroke:qhe},background:qhe,font:TC,header:{titleFont:Uhe,titleFontSize:zhe,titleColor:Hhe,labelFont:TC,labelFontSize:Bhe,labelColor:AC},axis:{ticks:!1,grid:!1,domain:!1,labelColor:AC,labelFontSize:jhe,titleFont:Uhe,titleColor:Hhe,titleFontSize:zhe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:H7t,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Fc},line:{stroke:Fc,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:TC,fontSize:jhe,fill:AC},arc:{fill:Fc},area:{fill:Fc,line:!0,opacity:.6},path:{stroke:Fc},rect:{fill:Fc},point:{fill:Fc,filled:!0,size:75},shape:{stroke:Fc},symbol:{fill:Fc,strokeWidth:1.5,size:50},legend:{titleFont:TC,titleFontWeight:"bold",titleColor:AC,labelFont:TC,labelFontSize:Bhe,labelColor:AC,symbolType:"circle",symbolSize:75},range:{category:[Fc,q7t,V7t,W7t,G7t,Y7t,K7t,X7t],diverging:Vhe,heatmap:Vhe,ordinal:Q7t}},x9='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Z7t='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',_9=400,kR={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},ezt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],tzt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function h5({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=kR.gridBg[e],i=kR.textPrimary[e],s=kR.textSecondary[e],o=n==="dark"?ezt:tzt,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:x9,fontWeight:600},axis:{labelColor:s,labelFontSize:12,labelFont:Z7t,labelFontWeight:_9,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:kR.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:x9,fill:s,fontWeight:_9},"guide-title":{font:x9,fill:s,fontWeight:_9}},range:{category:o,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const nzt=h5({theme:"white",background:"#ffffff"}),rzt=h5({theme:"g10",background:"#f4f4f4"}),izt=h5({theme:"g90",background:"#262626"}),szt=h5({theme:"g100",background:"#161616"}),ozt=C7t.version,azt=Object.freeze(Object.defineProperty({__proto__:null,carbong10:rzt,carbong100:szt,carbong90:izt,carbonwhite:nzt,dark:S7t,excel:T7t,fivethirtyeight:I7t,ggplot2:R7t,googlecharts:U7t,latimes:N7t,powerbi:J7t,quartz:$7t,urbaninstitute:z7t,version:ozt,vox:M7t},Symbol.toStringTag,{value:"Module"}));function lzt(e,t,n,r){if(Xe(e))return`[${e.map(i=>t(It(i)?i:Whe(i,n))).join(", ")}]`;if(Dt(e)){let i="";const{title:s,image:o,...a}=e;s&&(i+=`<h2>${t(s)}</h2>`),o&&(i+=`<img src="${new URL(t(o),r||location.href).href}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const u of l){let c=a[u];c!==void 0&&(Dt(c)&&(c=Whe(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function uzt(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function Whe(e,t){return JSON.stringify(e,uzt(t))}var czt=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const QOe="vg-tooltip-element",dzt={offsetX:10,offsetY:10,id:QOe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:fzt,maxDepth:2,formatTooltip:lzt,baseURL:""};function fzt(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function hzt(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return czt.toString().replace(QOe,e)}function pzt(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let s=e.clientY+r;return s+t.height>window.innerHeight&&(s=+e.clientY-r-t.height),{x:i,y:s}}class mzt{constructor(t){this.options={...dzt,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=hzt(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:o}=pzt(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${o}px`,this.el.style.left=`${s}px`}}var E9={};function gzt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C9,Ghe;function yzt(){return Ghe||(Ghe=1,C9=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),C9}var vzt=Sr;Sr.Node=ub;Sr.create=Sr;function Sr(e){var t=this;if(t instanceof Sr||(t=new Sr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}Sr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Sr.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Sr.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Sr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)wzt(this,arguments[e]);return this.length};Sr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)xzt(this,arguments[e]);return this.length};Sr.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Sr.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Sr.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};Sr.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};Sr.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Sr.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Sr.prototype.map=function(e,t){t=t||this;for(var n=new Sr,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};Sr.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Sr,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};Sr.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};Sr.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};Sr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Sr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Sr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Sr;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};Sr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Sr;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};Sr.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var s=[],r=0;i&&r<t;r++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=bzt(this,i,n[r]);return s};Sr.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function bzt(e,t,n){var r=t===e.head?new ub(n,null,t,e):new ub(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function wzt(e,t){e.tail=new ub(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function xzt(e,t){e.head=new ub(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ub(e,t,n,r){if(!(this instanceof ub))return new ub(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{yzt()(Sr)}catch{}const _zt=vzt,Gy=Symbol("max"),op=Symbol("length"),K1=Symbol("lengthCalculator"),s2=Symbol("allowStale"),av=Symbol("maxAge"),tp=Symbol("dispose"),Yhe=Symbol("noDisposeOnSet"),Ws=Symbol("lruList"),jc=Symbol("cache"),JOe=Symbol("updateAgeOnGet"),S9=()=>1;class Ezt{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Gy]=t.max||1/0;const n=t.length||S9;if(this[K1]=typeof n!="function"?S9:n,this[s2]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[av]=t.maxAge||0,this[tp]=t.dispose,this[Yhe]=t.noDisposeOnSet||!1,this[JOe]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Gy]=t||1/0,kC(this)}get max(){return this[Gy]}set allowStale(t){this[s2]=!!t}get allowStale(){return this[s2]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[av]=t,kC(this)}get maxAge(){return this[av]}set lengthCalculator(t){typeof t!="function"&&(t=S9),t!==this[K1]&&(this[K1]=t,this[op]=0,this[Ws].forEach(n=>{n.length=this[K1](n.value,n.key),this[op]+=n.length})),kC(this)}get lengthCalculator(){return this[K1]}get length(){return this[op]}get itemCount(){return this[Ws].length}rforEach(t,n){n=n||this;for(let r=this[Ws].tail;r!==null;){const i=r.prev;Khe(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[Ws].head;r!==null;){const i=r.next;Khe(this,t,r,n),r=i}}keys(){return this[Ws].toArray().map(t=>t.key)}values(){return this[Ws].toArray().map(t=>t.value)}reset(){this[tp]&&this[Ws]&&this[Ws].length&&this[Ws].forEach(t=>this[tp](t.key,t.value)),this[jc]=new Map,this[Ws]=new _zt,this[op]=0}dump(){return this[Ws].map(t=>KN(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Ws]}set(t,n,r){if(r=r||this[av],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,s=this[K1](n,t);if(this[jc].has(t)){if(s>this[Gy])return ax(this,this[jc].get(t)),!1;const l=this[jc].get(t).value;return this[tp]&&(this[Yhe]||this[tp](t,l.value)),l.now=i,l.maxAge=r,l.value=n,this[op]+=s-l.length,l.length=s,this.get(t),kC(this),!0}const o=new Czt(t,n,s,i,r);return o.length>this[Gy]?(this[tp]&&this[tp](t,n),!1):(this[op]+=o.length,this[Ws].unshift(o),this[jc].set(t,this[Ws].head),kC(this),!0)}has(t){if(!this[jc].has(t))return!1;const n=this[jc].get(t).value;return!KN(this,n)}get(t){return T9(this,t,!0)}peek(t){return T9(this,t,!1)}pop(){const t=this[Ws].tail;return t?(ax(this,t),t.value):null}del(t){ax(this,this[jc].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[jc].forEach((t,n)=>T9(this,n,!1))}}const T9=(e,t,n)=>{const r=e[jc].get(t);if(r){const i=r.value;if(KN(e,i)){if(ax(e,r),!e[s2])return}else n&&(e[JOe]&&(r.value.now=Date.now()),e[Ws].unshiftNode(r));return i.value}},KN=(e,t)=>{if(!t||!t.maxAge&&!e[av])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[av]&&n>e[av]},kC=e=>{if(e[op]>e[Gy])for(let t=e[Ws].tail;e[op]>e[Gy]&&t!==null;){const n=t.prev;ax(e,t),t=n}},ax=(e,t)=>{if(t){const n=t.value;e[tp]&&e[tp](n.key,n.value),e[op]-=n.length,e[jc].delete(n.key),e[Ws].removeNode(t)}};class Czt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=s||0}}const Khe=(e,t,n,r)=>{let i=n.value;KN(e,i)&&(ax(e,n),e[s2]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var Szt=Ezt;const Tzt=Object.freeze({loose:!0}),Azt=Object.freeze({}),kzt=e=>e?typeof e!="object"?Tzt:e:Azt;var JZ=kzt,VH={exports:{}};const ZOe=256,Izt=Number.MAX_SAFE_INTEGER||9007199254740991,Rzt=16,Dzt=ZOe-6;var ZZ={MAX_LENGTH:ZOe,MAX_SAFE_COMPONENT_LENGTH:Rzt,MAX_SAFE_BUILD_LENGTH:Dzt,MAX_SAFE_INTEGER:Izt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Pzt=typeof process=="object"&&E9&&E9.NODE_DEBUG&&/\bsemver\b/i.test(E9.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var p5=Pzt;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=ZZ,s=p5;t=e.exports={};const o=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[d,r]],h=m=>{for(const[g,y]of f)m=m.split(`${g}*`).join(`${g}{0,${y}}`).split(`${g}+`).join(`${g}{1,${y}}`);return m},p=(m,g,y)=>{const v=h(g),w=c++;s(m,w,g),u[m]=w,l[w]=g,o[w]=new RegExp(g,y?"g":void 0),a[w]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("COERCERTLFULL",l[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(VH,VH.exports);var eee=VH.exports;const Xhe=/^[0-9]+$/,Ozt=(e,t)=>{const n=Xhe.test(e),r=Xhe.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1};var Nzt={compareIdentifiers:Ozt};const IR=p5,{MAX_LENGTH:Qhe,MAX_SAFE_INTEGER:RR}=ZZ,{safeRe:Jhe,t:Zhe}=eee,$zt=JZ,{compareIdentifiers:X1}=Nzt;let Mzt=class mf{constructor(t,n){if(n=$zt(n),t instanceof mf){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Qhe)throw new TypeError(`version is longer than ${Qhe} characters`);IR("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?Jhe[Zhe.LOOSE]:Jhe[Zhe.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>RR||this.major<0)throw new TypeError("Invalid major version");if(this.minor>RR||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>RR||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<RR)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(IR("SemVer.compare",this.version,this.options,t),!(t instanceof mf)){if(typeof t=="string"&&t===this.version)return 0;t=new mf(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof mf||(t=new mf(t,this.options)),X1(this.major,t.major)||X1(this.minor,t.minor)||X1(this.patch,t.patch)}comparePre(t){if(t instanceof mf||(t=new mf(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(IR("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return X1(r,i)}while(++n)}compareBuild(t){t instanceof mf||(t=new mf(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(IR("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return X1(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),X1(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var tee=Mzt;const epe=tee,Fzt=(e,t,n)=>new epe(e,n).compare(new epe(t,n));var dE=Fzt;const Lzt=dE,jzt=(e,t,n)=>Lzt(e,t,n)===0;var Bzt=jzt;const zzt=dE,Uzt=(e,t,n)=>zzt(e,t,n)!==0;var Hzt=Uzt;const qzt=dE,Vzt=(e,t,n)=>qzt(e,t,n)>0;var Wzt=Vzt;const Gzt=dE,Yzt=(e,t,n)=>Gzt(e,t,n)>=0;var Kzt=Yzt;const Xzt=dE,Qzt=(e,t,n)=>Xzt(e,t,n)<0;var Jzt=Qzt;const Zzt=dE,eUt=(e,t,n)=>Zzt(e,t,n)<=0;var tUt=eUt;const nUt=Bzt,rUt=Hzt,iUt=Wzt,sUt=Kzt,oUt=Jzt,aUt=tUt,lUt=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return nUt(e,n,r);case"!=":return rUt(e,n,r);case">":return iUt(e,n,r);case">=":return sUt(e,n,r);case"<":return oUt(e,n,r);case"<=":return aUt(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var uUt=lUt,A9,tpe;function cUt(){if(tpe)return A9;tpe=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=c.match(d);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}A9=t;const n=JZ,{safeRe:r,t:i}=eee,s=uUt,o=p5,a=tee,l=eNe();return A9}var k9,npe;function eNe(){if(npe)return k9;npe=1;class e{constructor(L,z){if(z=r(z),L instanceof e)return L.loose===!!z.loose&&L.includePrerelease===!!z.includePrerelease?L:new e(L.raw,z);if(L instanceof i)return this.raw=L.value,this.set=[[L]],this.format(),this;if(this.options=z,this.loose=!!z.loose,this.includePrerelease=!!z.includePrerelease,this.raw=L.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(B=>this.parseRange(B.trim())).filter(B=>B.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const B=this.set[0];if(this.set=this.set.filter(W=>!p(W[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(const W of this.set)if(W.length===1&&m(W[0])){this.set=[W];break}}}this.format()}format(){return this.range=this.set.map(L=>L.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(L){const B=((this.options.includePrerelease&&f)|(this.options.loose&&h))+":"+L,W=n.get(B);if(W)return W;const V=this.options.loose,X=V?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];L=L.replace(X,O(this.options.includePrerelease)),s("hyphen replace",L),L=L.replace(a[l.COMPARATORTRIM],u),s("comparator trim",L),L=L.replace(a[l.TILDETRIM],c),s("tilde trim",L),L=L.replace(a[l.CARETTRIM],d),s("caret trim",L);let U=L.split(" ").map(Y=>y(Y,this.options)).join(" ").split(/\s+/).map(Y=>D(Y,this.options));V&&(U=U.filter(Y=>(s("loose invalid filter",Y,this.options),!!Y.match(a[l.COMPARATORLOOSE])))),s("range list",U);const F=new Map,G=U.map(Y=>new i(Y,this.options));for(const Y of G){if(p(Y))return[Y];F.set(Y.value,Y)}F.size>1&&F.has("")&&F.delete("");const q=[...F.values()];return n.set(B,q),q}intersects(L,z){if(!(L instanceof e))throw new TypeError("a Range is required");return this.set.some(B=>g(B,z)&&L.set.some(W=>g(W,z)&&B.every(V=>W.every(X=>V.intersects(X,z)))))}test(L){if(!L)return!1;if(typeof L=="string")try{L=new o(L,this.options)}catch{return!1}for(let z=0;z<this.set.length;z++)if(M(this.set[z],L,this.options))return!0;return!1}}k9=e;const t=Szt,n=new t({max:1e3}),r=JZ,i=cUt(),s=p5,o=tee,{safeRe:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:d}=eee,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:h}=ZZ,p=$=>$.value==="<0.0.0-0",m=$=>$.value==="",g=($,L)=>{let z=!0;const B=$.slice();let W=B.pop();for(;z&&B.length;)z=B.every(V=>W.intersects(V,L)),W=B.pop();return z},y=($,L)=>(s("comp",$,L),$=C($,L),s("caret",$),$=w($,L),s("tildes",$),$=T($,L),s("xrange",$),$=I($,L),s("stars",$),$),v=$=>!$||$.toLowerCase()==="x"||$==="*",w=($,L)=>$.trim().split(/\s+/).map(z=>E(z,L)).join(" "),E=($,L)=>{const z=L.loose?a[l.TILDELOOSE]:a[l.TILDE];return $.replace(z,(B,W,V,X,U)=>{s("tilde",$,B,W,V,X,U);let F;return v(W)?F="":v(V)?F=`>=${W}.0.0 <${+W+1}.0.0-0`:v(X)?F=`>=${W}.${V}.0 <${W}.${+V+1}.0-0`:U?(s("replaceTilde pr",U),F=`>=${W}.${V}.${X}-${U} <${W}.${+V+1}.0-0`):F=`>=${W}.${V}.${X} <${W}.${+V+1}.0-0`,s("tilde return",F),F})},C=($,L)=>$.trim().split(/\s+/).map(z=>S(z,L)).join(" "),S=($,L)=>{s("caret",$,L);const z=L.loose?a[l.CARETLOOSE]:a[l.CARET],B=L.includePrerelease?"-0":"";return $.replace(z,(W,V,X,U,F)=>{s("caret",$,W,V,X,U,F);let G;return v(V)?G="":v(X)?G=`>=${V}.0.0${B} <${+V+1}.0.0-0`:v(U)?V==="0"?G=`>=${V}.${X}.0${B} <${V}.${+X+1}.0-0`:G=`>=${V}.${X}.0${B} <${+V+1}.0.0-0`:F?(s("replaceCaret pr",F),V==="0"?X==="0"?G=`>=${V}.${X}.${U}-${F} <${V}.${X}.${+U+1}-0`:G=`>=${V}.${X}.${U}-${F} <${V}.${+X+1}.0-0`:G=`>=${V}.${X}.${U}-${F} <${+V+1}.0.0-0`):(s("no pr"),V==="0"?X==="0"?G=`>=${V}.${X}.${U}${B} <${V}.${X}.${+U+1}-0`:G=`>=${V}.${X}.${U}${B} <${V}.${+X+1}.0-0`:G=`>=${V}.${X}.${U} <${+V+1}.0.0-0`),s("caret return",G),G})},T=($,L)=>(s("replaceXRanges",$,L),$.split(/\s+/).map(z=>A(z,L)).join(" ")),A=($,L)=>{$=$.trim();const z=L.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return $.replace(z,(B,W,V,X,U,F)=>{s("xRange",$,B,W,V,X,U,F);const G=v(V),q=G||v(X),Y=q||v(U),J=Y;return W==="="&&J&&(W=""),F=L.includePrerelease?"-0":"",G?W===">"||W==="<"?B="<0.0.0-0":B="*":W&&J?(q&&(X=0),U=0,W===">"?(W=">=",q?(V=+V+1,X=0,U=0):(X=+X+1,U=0)):W==="<="&&(W="<",q?V=+V+1:X=+X+1),W==="<"&&(F="-0"),B=`${W+V}.${X}.${U}${F}`):q?B=`>=${V}.0.0${F} <${+V+1}.0.0-0`:Y&&(B=`>=${V}.${X}.0${F} <${V}.${+X+1}.0-0`),s("xRange return",B),B})},I=($,L)=>(s("replaceStars",$,L),$.trim().replace(a[l.STAR],"")),D=($,L)=>(s("replaceGTE0",$,L),$.trim().replace(a[L.includePrerelease?l.GTE0PRE:l.GTE0],"")),O=$=>(L,z,B,W,V,X,U,F,G,q,Y,J,te)=>(v(B)?z="":v(W)?z=`>=${B}.0.0${$?"-0":""}`:v(V)?z=`>=${B}.${W}.0${$?"-0":""}`:X?z=`>=${z}`:z=`>=${z}${$?"-0":""}`,v(G)?F="":v(q)?F=`<${+G+1}.0.0-0`:v(Y)?F=`<${G}.${+q+1}.0-0`:J?F=`<=${G}.${q}.${Y}-${J}`:$?F=`<${G}.${q}.${+Y+1}-0`:F=`<=${F}`,`${z} ${F}`.trim()),M=($,L,z)=>{for(let B=0;B<$.length;B++)if(!$[B].test(L))return!1;if(L.prerelease.length&&!z.includePrerelease){for(let B=0;B<$.length;B++)if(s($[B].semver),$[B].semver!==i.ANY&&$[B].semver.prerelease.length>0){const W=$[B].semver;if(W.major===L.major&&W.minor===L.minor&&W.patch===L.patch)return!0}return!1}return!0};return k9}const dUt=eNe(),fUt=(e,t,n)=>{try{t=new dUt(t,n)}catch{return!1}return t.test(e)};var hUt=fUt,tNe=gzt(hUt);function pUt(e,t,n){const r=e.open(t),i=250,{origin:s}=new URL(t);let o=40;function a(u){u.source===r&&(o=0,e.removeEventListener("message",a,!1))}e.addEventListener("message",a,!1);function l(){o<=0||(r.postMessage(n,s),setTimeout(l,i),o-=1)}setTimeout(l,i)}var mUt=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function nNe(e,...t){for(const n of t)gUt(e,n);return e}function gUt(e,t){for(const n of Object.keys(t))H_(e,n,t[n],!0)}const zc=E4t;let _T=_7t;const DR=typeof window<"u"?window:void 0;var Ege;_T===void 0&&((Ege=DR==null?void 0:DR.vl)!=null&&Ege.compile)&&(_T=DR.vl);const yUt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},vUt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},CS={vega:"Vega","vega-lite":"Vega-Lite"},XN={vega:zc.version,"vega-lite":_T?_T.version:"not available"},bUt={vega:e=>e,"vega-lite":(e,t)=>_T.compile(e,{config:t}).spec},wUt=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,xUt="chart-wrapper";function _Ut(e){return typeof e=="function"}function rpe(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${n}</body></html>`,o=window.open("");o.document.write(i+e+s),o.document.title=`${CS[r]} JSON Source`}function EUt(e,t){if(e.$schema){const n=YOe(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${CS[n.library]}, but mode argument sets ${CS[t]??t}.`);const r=n.library;return tNe(XN[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${CS[r]} ${n.version}, but the current version of ${CS[r]} is v${XN[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function rNe(e){return!!(e&&"load"in e)}function ipe(e){return rNe(e)?e:zc.loader(e)}function CUt(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return It(t.defaultStyle)&&(t.defaultStyle=!1),t}async function SUt(e,t,n={}){let r,i;It(t)?(i=ipe(n.loader),r=JSON.parse(await i.load(t))):r=t;const s=CUt(r),o=s.loader;(!i||o)&&(i=ipe(n.loader??o));const a=await spe(s,i),l=await spe(n,i),u={...nNe(l,a),config:U_(l.config??{},a.config??{})};return await AUt(e,r,u,i)}async function spe(e,t){const n=It(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=It(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function TUt(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function AUt(e,t,n={},r){const i=n.theme?U_(azt[n.theme],n.config??{}):n.config,s=fm(n.actions)?n.actions:nNe({},yUt,n.actions??{}),o={...vUt,...n.i18n},a=n.renderer??"canvas",l=n.logLevel??zc.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const C="vega-embed-style",{root:S,rootContainer:T}=TUt(c);if(!S.getElementById(C)){const A=document.createElement("style");A.id=C,A.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?mUt.toString():n.defaultStyle,T.appendChild(A)}}const d=EUt(t,n.mode);let f=bUt[d](t,i);if(d==="vega-lite"&&f.$schema){const C=YOe(f.$schema);tNe(XN.vega,`^${C.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${C.version}, but current version is v${XN.vega}.`)}c.classList.add("vega-embed"),s&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(s){const C=document.createElement("div");C.classList.add(xUt),c.appendChild(C),h=C}const p=n.patch;if(p&&(f=p instanceof Function?p(f):dM(f,p,!0,!1).newDocument),n.formatLocale&&zc.formatLocale(n.formatLocale),n.timeFormatLocale&&zc.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const C in n.expressionFunctions){const S=n.expressionFunctions[C];"fn"in S?zc.expressionFunction(C,S.fn,S.visitor):S instanceof Function&&zc.expressionFunction(C,S)}const{ast:m}=n,g=zc.parse(f,d==="vega-lite"?{}:i,{ast:m}),y=new(n.viewClass||zc.View)(g,{loader:r,logLevel:l,renderer:a,...m?{expr:zc.expressionInterpreter??n.expr??O4t}:{}});if(y.addSignalListener("autosize",(C,S)=>{const{type:T}=S;T=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):T=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):T=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:C,tooltip:S}=n,T=C&&!rNe(C)?C==null?void 0:C.baseURL:void 0,A=_Ut(S)?S:new mzt({baseURL:T,...S===!0?{}:S}).call;y.tooltip(A)}let{hover:v}=n;if(v===void 0&&(v=d==="vega"),v){const{hoverSet:C,updateSet:S}=typeof v=="boolean"?{}:v;y.hover(C,S)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let w;if(s!==!1){let C=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const T=document.createElement("details");T.title=o.CLICK_TO_VIEW_ACTIONS,c.append(T),C=T;const A=document.createElement("summary");A.innerHTML=wUt,T.append(A),w=I=>{T.contains(I.target)||T.removeAttribute("open")},document.addEventListener("click",w)}const S=document.createElement("div");if(C.append(S),S.classList.add("vega-actions"),s===!0||s.export!==!1){for(const T of["svg","png"])if(s===!0||s.export===!0||s.export[T]){const A=o[`${T.toUpperCase()}_ACTION`],I=document.createElement("a"),D=Dt(n.scaleFactor)?n.scaleFactor[T]:n.scaleFactor;I.text=A,I.href="#",I.target="_blank",I.download=`${u}.${T}`,I.addEventListener("mousedown",async function(O){O.preventDefault();const M=await y.toImageURL(T,D);this.href=M}),S.append(I)}}if(s===!0||s.source!==!1){const T=document.createElement("a");T.text=o.SOURCE_ACTION,T.href="#",T.addEventListener("click",function(A){rpe(xj(t),n.sourceHeader??"",n.sourceFooter??"",d),A.preventDefault()}),S.append(T)}if(d==="vega-lite"&&(s===!0||s.compiled!==!1)){const T=document.createElement("a");T.text=o.COMPILED_ACTION,T.href="#",T.addEventListener("click",function(A){rpe(xj(f),n.sourceHeader??"",n.sourceFooter??"","vega"),A.preventDefault()}),S.append(T)}if(s===!0||s.editor!==!1){const T=n.editorUrl??"https://vega.github.io/editor/",A=document.createElement("a");A.text=o.EDITOR_ACTION,A.href="#",A.addEventListener("click",function(I){pUt(window,T,{config:i,mode:d,renderer:a,spec:xj(t)}),I.preventDefault()}),S.append(A)}}function E(){w&&document.removeEventListener("click",w),y.finalize()}return{view:y,spec:t,vgSpec:f,finalize:E,embedOptions:n}}function kUt(e){return!!e&&{}.toString.call(e)==="[object Function]"}function IUt(e,t,n){n&&(kUt(n)?n(e.data(t)):e.change(t,zc.changeset().remove(()=>!0).insert(n)))}function RUt(e,t){Object.keys(t).forEach(n=>{IUt(e,n,t[n])})}function iNe(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const sNe=()=>{};function I9(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function DUt(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=iNe([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!lS(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function ope(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function R9(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function SS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class oNe extends Ir.PureComponent{constructor(){super(...arguments),SS(this,"containerRef",Ir.createRef()),SS(this,"resultPromise",void 0),SS(this,"handleError",t=>{const{onError:n=sNe}=this.props;n(t,this.containerRef.current),console.warn(t)}),SS(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=iNe([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=DUt(R9(this.props),R9(t)),{signalListeners:i}=this.props,{signalListeners:s}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const o=!aU(i,s);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),o&&(s&&ope(a,s),i&&I9(a,i)),a.run()})}else aU(i,s)||this.modifyView(o=>{s&&ope(o,s),i&&I9(o,i),o.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:s,...o}=this.props;if(this.containerRef.current){const a=R9(this.props);this.resultPromise=SUt(this.containerRef.current,a,o).then(l=>{if(l){const{view:u}=l;I9(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return Ir.createElement("div",{ref:this.containerRef,className:t,style:n})}}SS(oNe,"propTypes",{className:z3.string,onError:z3.func});function WH(){return WH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WH.apply(this,arguments)}function GH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const PUt={};class nee extends Ir.PureComponent{constructor(){super(...arguments),GH(this,"vegaEmbed",Ir.createRef()),GH(this,"handleNewView",t=>{this.update();const{onNewView:n=sNe}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){aU(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{RUt(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return Ir.createElement(oNe,WH({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}GH(nee,"defaultProps",{data:PUt});function YH(){return YH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YH.apply(this,arguments)}function ape(e){return Ir.createElement(nee,YH({},e,{mode:"vega-lite"}))}const OUt=nee;function NUt({currentConfig:e,provState:t}){const n=Ms(),[r,i]=R.useState(null),[s,o]=R.useState(!0),a=Pb(),{updateResponseBlockValidation:l,setReactiveAnswers:u}=ps(),[c,d]=R.useState(),{actions:f,trrack:h}=R.useMemo(()=>{const v=Sb.create(),w=v.register("signal",(C,S)=>(C.event=S,C)),E=cA({registry:v,initialState:{event:{}}});return{actions:{signalAction:w},trrack:E}},[]),p=R.useCallback(({status:v,provenanceGraph:w,answers:E})=>{n(l({location:"stimulus",identifier:a,status:v,values:E,provenanceGraph:w})),n(u(E))},[n,l,a,u]),m=R.useCallback((v,w)=>{h.apply(v,f.signalAction({key:v,value:w}))},[f,h]),g=R.useCallback((v,w)=>{const{responseId:E,response:C}=w;p({status:!0,provenanceGraph:h.graph.backend,answers:{[E]:C}})},[p,h.graph.backend]),y=R.useMemo(()=>{var w;const v=(w=r==null?void 0:r.config)==null?void 0:w.signals;return v?v.reduce((E,C)=>(C.name==="revisitAnswer"?E[C.name]=g:E[C.name]=m,E),{}):{}},[g,m,r]);return R.useEffect(()=>{async function v(){o(!0);let w;"path"in e?w=await Xwt(e.path):w=e.config,w!==void 0&&i(w),o(!1)}e&&v()},[e]),R.useEffect(()=>{c&&t&&t.event&&t.event.key&&c.signal(t.event.key,t.event.value).run()},[c,t]),s?_.jsx("div",{children:"Loading..."}):"path"in e&&!r?_.jsx(Kp,{path:e.path}):r?_.jsx(OUt,{spec:structuredClone(r),signalListeners:y,onNewView:v=>d(v),actions:e.withActions}):_.jsx("div",{children:"Failed to load vega config"})}function Lt(e,t,n){return(t=MUt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Ut(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MUt(e){var t=$Ut(e,"string");return typeof t=="symbol"?t:String(t)}function FUt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LUt(e,t,n){return t&&lpe(e.prototype,t),n&&lpe(e,n),e}function jUt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function upe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?upe(Object(n),!0).forEach(function(r){jUt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):upe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var dpe={addCSS:!0,thumbWidth:15,watch:!0};function BUt(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function zUt(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}var fk=function(e){return e!=null?e.constructor:null},ree=function(e,t){return!!(e&&t&&e instanceof t)},aNe=function(e){return e==null},lNe=function(e){return fk(e)===Object},UUt=function(e){return fk(e)===Number&&!Number.isNaN(e)},uNe=function(e){return fk(e)===String},HUt=function(e){return fk(e)===Boolean},qUt=function(e){return fk(e)===Function},cNe=function(e){return Array.isArray(e)},dNe=function(e){return ree(e,NodeList)},VUt=function(e){return ree(e,Element)},WUt=function(e){return ree(e,Event)},GUt=function(e){return aNe(e)||(uNe(e)||cNe(e)||dNe(e))&&!e.length||lNe(e)&&!Object.keys(e).length},Yo={nullOrUndefined:aNe,object:lNe,number:UUt,string:uNe,boolean:HUt,function:qUt,array:cNe,nodeList:dNe,element:VUt,event:WUt,empty:GUt};function YUt(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function KUt(e,t){if(1>t){var n=YUt(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var XUt=function(){function e(t,n){FUt(this,e),Yo.element(t)?this.element=t:Yo.string(t)&&(this.element=document.querySelector(t)),Yo.element(this.element)&&Yo.empty(this.element.rangeTouch)&&(this.config=cpe({},dpe,{},n),this.init())}return LUt(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var n=this,r=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(i){n.element[r](i,function(s){return n.set(s)},!1)})}},{key:"get",value:function(t){if(!e.enabled||!Yo.event(t))return null;var n,r=t.target,i=t.changedTouches[0],s=parseFloat(r.getAttribute("min"))||0,o=parseFloat(r.getAttribute("max"))||100,a=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),s+KUt(n/100*(o-s),a)}},{key:"set",value:function(t){e.enabled&&Yo.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),zUt(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=null;if(Yo.empty(t)||Yo.string(t)?r=Array.from(document.querySelectorAll(Yo.string(t)?t:'input[type="range"]')):Yo.element(t)?r=[t]:Yo.nodeList(t)?r=Array.from(t):Yo.array(t)&&(r=t.filter(Yo.element)),Yo.empty(r))return null;var i=cpe({},dpe,{},n);if(Yo.string(t)&&i.watch){var s=new MutationObserver(function(o){Array.from(o).forEach(function(a){Array.from(a.addedNodes).forEach(function(l){Yo.element(l)&&BUt(l,t)&&new e(l,i)})})});s.observe(document.body,{childList:!0,subtree:!0})}return r.map(function(o){return new e(o,n)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const hk=e=>e!=null?e.constructor:null,em=(e,t)=>!!(e&&t&&e instanceof t),iee=e=>e==null,fNe=e=>hk(e)===Object,QUt=e=>hk(e)===Number&&!Number.isNaN(e),m5=e=>hk(e)===String,JUt=e=>hk(e)===Boolean,hNe=e=>typeof e=="function",pNe=e=>Array.isArray(e),ZUt=e=>em(e,WeakMap),mNe=e=>em(e,NodeList),eHt=e=>hk(e)===Text,tHt=e=>em(e,Event),nHt=e=>em(e,KeyboardEvent),rHt=e=>em(e,window.TextTrackCue)||em(e,window.VTTCue),iHt=e=>em(e,TextTrack)||!iee(e)&&m5(e.kind),sHt=e=>em(e,Promise)&&hNe(e.then),oHt=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",gNe=e=>iee(e)||(m5(e)||pNe(e)||mNe(e))&&!e.length||fNe(e)&&!Object.keys(e).length,aHt=e=>{if(em(e,window.URL))return!0;if(!m5(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!gNe(new URL(t).hostname)}catch{return!1}};var me={nullOrUndefined:iee,object:fNe,number:QUt,string:m5,boolean:JUt,function:hNe,array:pNe,weakMap:ZUt,nodeList:mNe,element:oHt,textNode:eHt,event:tHt,keyboardEvent:nHt,cue:rHt,track:iHt,promise:sHt,url:aHt,empty:gNe};const KH=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find(r=>e.style[r]!==void 0);return!!me.string(n)&&t[n]})();function yNe(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}},t)}const lHt=!!window.document.documentMode,uHt=/Edge/g.test(navigator.userAgent),cHt="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),dHt=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,fHt=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,hHt=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var Ks={isIE:lHt,isEdge:uHt,isWebKit:cHt,isIPhone:dHt,isIPadOS:fHt,isIos:hHt};function pHt(e){return JSON.parse(JSON.stringify(e))}function vNe(e,t){return t.split(".").reduce((n,r)=>n&&n[r],e)}function Ki(e={},...t){if(!t.length)return e;const n=t.shift();return me.object(n)?(Object.keys(n).forEach(r=>{me.object(n[r])?(Object.keys(e).includes(r)||Object.assign(e,{[r]:{}}),Ki(e[r],n[r])):Object.assign(e,{[r]:n[r]})}),Ki(e,...t)):e}function bNe(e,t){const n=e.length?e:[e];Array.from(n).reverse().forEach((r,i)=>{const s=i>0?t.cloneNode(!0):t,o=r.parentNode,a=r.nextSibling;s.appendChild(r),a?o.insertBefore(s,a):o.appendChild(s)})}function XH(e,t){me.element(e)&&!me.empty(t)&&Object.entries(t).filter(([,n])=>!me.nullOrUndefined(n)).forEach(([n,r])=>e.setAttribute(n,r))}function vn(e,t,n){const r=document.createElement(e);return me.object(t)&&XH(r,t),me.string(n)&&(r.innerText=n),r}function mHt(e,t){me.element(e)&&me.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function fpe(e,t,n,r){me.element(t)&&t.appendChild(vn(e,n,r))}function xp(e){me.nodeList(e)||me.array(e)?Array.from(e).forEach(xp):me.element(e)&&me.element(e.parentNode)&&e.parentNode.removeChild(e)}function p3(e){if(!me.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function QN(e,t){return me.element(t)&&me.element(t.parentNode)&&me.element(e)?(t.parentNode.replaceChild(e,t),e):null}function vf(e,t){if(!me.string(e)||me.empty(e))return{};const n={},r=Ki({},t);return e.split(",").forEach(i=>{const s=i.trim(),o=s.replace(".",""),a=s.replace(/[[\]]/g,"").split("="),[l]=a,u=a.length>1?a[1].replace(/["']/g,""):"";switch(s.charAt(0)){case".":me.string(r.class)?n.class=`${r.class} ${o}`:n.class=o;break;case"#":n.id=s.replace("#","");break;case"[":n[l]=u}}),Ki(r,n)}function wy(e,t){if(!me.element(e))return;let n=t;me.boolean(n)||(n=!e.hidden),e.hidden=n}function Mr(e,t,n){if(me.nodeList(e))return Array.from(e).map(r=>Mr(r,t,n));if(me.element(e)){let r="toggle";return n!==void 0&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function JN(e,t){return me.element(e)&&e.classList.contains(t)}function lv(e,t){const{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function gHt(e,t){const{prototype:n}=Element;return(n.closest||function(){let r=this;do{if(lv.matches(r,t))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}).call(e,t)}function ET(e){return this.elements.container.querySelectorAll(e)}function As(e){return this.elements.container.querySelector(e)}function D9(e=null,t=!1){me.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const hpe={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Qi={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const n=Qi[e]||t!=="html5";return{api:n,ui:n&&Qi.rangeInput}},pip:!(Ks.isIPhone||!me.function(vn("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||vn("video").disablePictureInPicture)),airplay:me.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(me.empty(e))return!1;const[t]=e.split("/");let n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(hpe).includes(n)&&(n+=`; codecs="${hpe[e]}"`);try{return!!(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:KH!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},yHt=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function CT(e,t,n,r=!1,i=!0,s=!1){if(!e||!("addEventListener"in e)||me.empty(t)||!me.function(n))return;const o=t.split(" ");let a=s;yHt&&(a={passive:i,capture:s}),o.forEach(l=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:e,type:l,callback:n,options:a}),e[r?"addEventListener":"removeEventListener"](l,n,a)})}function pr(e,t="",n,r=!0,i=!1){CT.call(this,e,t,n,!0,r,i)}function g5(e,t="",n,r=!0,i=!1){CT.call(this,e,t,n,!1,r,i)}function see(e,t="",n,r=!0,i=!1){const s=(...o)=>{g5(e,t,s,r,i),n.apply(this,o)};CT.call(this,e,t,s,!0,r,i)}function bn(e,t="",n=!1,r={}){if(!me.element(e)||me.empty(t))return;const i=new CustomEvent(t,{bubbles:n,detail:{...r,plyr:this}});e.dispatchEvent(i)}function vHt(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{const{element:t,type:n,callback:r,options:i}=e;t.removeEventListener(n,r,i)}),this.eventListeners=[])}function bHt(){return new Promise(e=>this.ready?setTimeout(e,0):pr.call(this,this.elements.container,"ready",e)).then(()=>{})}function If(e){me.promise(e)&&e.then(null,()=>{})}function QH(e){return me.array(e)?e.filter((t,n)=>e.indexOf(t)===n):e}function wNe(e,t){return me.array(e)&&e.length?e.reduce((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n):null}function xNe(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const ppe=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,n])=>({...e,[t/n]:[t,n]}),{});function _Ne(e){return me.array(e)||me.string(e)&&e.includes(":")?(me.array(e)?e:e.split(":")).map(Number).every(me.number):!1}function ZN(e){if(!me.array(e)||!e.every(me.number))return null;const[t,n]=e,r=(s,o)=>o===0?s:r(o,s%o),i=r(t,n);return[t/i,n/i]}function oee(e){const t=r=>_Ne(r)?r.split(":").map(Number):null;let n=t(e);if(n===null&&(n=t(this.config.ratio)),n===null&&!me.empty(this.embed)&&me.array(this.embed.ratio)&&({ratio:n}=this.embed),n===null&&this.isHTML5){const{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return ZN(n)}function l_(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,n=oee.call(this,e);if(!me.array(n))return{};const[r,i]=ZN(n),s=100/r*i;if(xNe(`aspect-ratio: ${r}/${i}`)?t.style.aspectRatio=`${r}/${i}`:t.style.paddingBottom=`${s}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const o=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(o-s)/(o/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${a}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:s,ratio:n}}function ENe(e,t,n=.05){const r=e/t,i=wNe(Object.keys(ppe),r);return Math.abs(i-r)<=n?ppe[i]:[e,t]}function wHt(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const I0={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{const t=e.getAttribute("type");return!!me.empty(t)||Qi.mime.call(this,t)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:I0.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,me.empty(this.config.ratio)||l_.call(e),Object.defineProperty(e.media,"quality",{get(){const t=I0.getSources.call(e).find(n=>n.getAttribute("src")===e.source);return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&me.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const n=I0.getSources.call(e).find(l=>Number(l.getAttribute("size"))===t);if(!n)return;const{currentTime:r,paused:i,preload:s,readyState:o,playbackRate:a}=e.media;e.media.src=n.getAttribute("src"),(s!=="none"||o)&&(e.once("loadedmetadata",()=>{e.speed=a,e.currentTime=r,i||If(e.play())}),e.media.load())}bn.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(xp(I0.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function xHt(e){return`${e}-${Math.floor(1e4*Math.random())}`}function JH(e,...t){return me.empty(e)?e:e.toString().replace(/{(\d+)}/g,(n,r)=>t[r].toString())}function _Ht(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const o2=(e="",t="",n="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),CNe=(e="")=>e.toString().replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());function EHt(e=""){let t=e.toString();return t=o2(t,"-"," "),t=o2(t,"_"," "),t=CNe(t),o2(t," ","")}function CHt(e=""){let t=e.toString();return t=EHt(t),t.charAt(0).toLowerCase()+t.slice(1)}function SHt(e){const t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}function THt(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const mpe={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Gs={get(e="",t={}){if(me.empty(e)||me.empty(t))return"";let n=vNe(t.i18n,e);if(me.empty(n))return Object.keys(mpe).includes(e)?mpe[e]:"";const r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach(([i,s])=>{n=o2(n,i,s)}),n}};class ST{constructor(t){Lt(this,"get",n=>{if(!ST.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(me.empty(r))return null;const i=JSON.parse(r);return me.string(n)&&n.length?i[n]:i}),Lt(this,"set",n=>{if(!ST.supported||!this.enabled||!me.object(n))return;let r=this.get();me.empty(r)&&(r={}),Ki(r,n);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}}),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function pk(e,t="text"){return new Promise((n,r)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",()=>{if(t==="text")try{n(JSON.parse(i.responseText))}catch{n(i.responseText)}else n(i.response)}),i.addEventListener("error",()=>{throw new Error(i.status)}),i.open("GET",e,!0),i.responseType=t,i.send()}catch(i){r(i)}})}function SNe(e,t){if(!me.string(e))return;const n="cache",r=me.string(t);let i=!1;const s=()=>document.getElementById(t)!==null,o=(a,l)=>{a.innerHTML=l,r&&s()||document.body.insertAdjacentElement("afterbegin",a)};if(!r||!s()){const a=ST.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),r&&l.setAttribute("id",t),a){const u=window.localStorage.getItem(`${n}-${t}`);if(i=u!==null,i){const c=JSON.parse(u);o(l,c.content)}}pk(e).then(u=>{if(!me.empty(u)){if(a)try{window.localStorage.setItem(`${n}-${t}`,JSON.stringify({content:u}))}catch{}o(l,u)}}).catch(()=>{})}}const TNe=e=>Math.trunc(e/60/60%60,10),AHt=e=>Math.trunc(e/60%60,10),kHt=e=>Math.trunc(e%60,10);function y5(e=0,t=!1,n=!1){if(!me.number(e))return y5(void 0,t,n);const r=a=>`0${a}`.slice(-2);let i=TNe(e);const s=AHt(e),o=kHt(e);return i=t||i>0?`${i}:`:"",`${n&&e>0?"-":""}${i}${r(s)}:${r(o)}`}const $t={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||Ks.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=As.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:ET.call(this,this.config.selectors.buttons.play),pause:As.call(this,this.config.selectors.buttons.pause),restart:As.call(this,this.config.selectors.buttons.restart),rewind:As.call(this,this.config.selectors.buttons.rewind),fastForward:As.call(this,this.config.selectors.buttons.fastForward),mute:As.call(this,this.config.selectors.buttons.mute),pip:As.call(this,this.config.selectors.buttons.pip),airplay:As.call(this,this.config.selectors.buttons.airplay),settings:As.call(this,this.config.selectors.buttons.settings),captions:As.call(this,this.config.selectors.buttons.captions),fullscreen:As.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=As.call(this,this.config.selectors.progress),this.elements.inputs={seek:As.call(this,this.config.selectors.inputs.seek),volume:As.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:As.call(this,this.config.selectors.display.buffer),currentTime:As.call(this,this.config.selectors.display.currentTime),duration:As.call(this,this.config.selectors.display.duration)},me.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const n="http://www.w3.org/2000/svg",r=$t.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,s=document.createElementNS(n,"svg");XH(s,Ki(t,{"aria-hidden":"true",focusable:"false"}));const o=document.createElementNS(n,"use"),a=`${i}-${e}`;return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",a),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),s.appendChild(o),s},createLabel(e,t={}){const n=Gs.get(e,this.config);return vn("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(e){if(me.empty(e))return null;const t=vn("span",{class:this.config.classNames.menu.value});return t.appendChild(vn("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const n=Ki({},t);let r=CHt(e);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(o=>{Object.keys(n).includes(o)&&(i[o]=n[o],delete n[o])}),i.element!=="button"||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some(o=>o===this.config.classNames.control)||Ki(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:me.empty(i.label)&&(i.label=r),me.empty(i.icon)&&(i.icon=e)}const s=vn(i.element);return i.toggle?(s.appendChild($t.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),s.appendChild($t.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),s.appendChild($t.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),s.appendChild($t.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(s.appendChild($t.createIcon.call(this,i.icon)),s.appendChild($t.createLabel.call(this,i.label))),Ki(n,vf(this.config.selectors.buttons[r],n)),XH(s,n),r==="play"?(me.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(s)):this.elements.buttons[r]=s,s},createRange(e,t){const n=vn("input",Ki(vf(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Gs.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,$t.updateRangeFill.call(this,n),XUt.setup(n),n},createProgress(e,t){const n=vn("progress",Ki(vf(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){n.appendChild(vn("span",null,"0"));const r={played:"played",buffer:"buffered"}[e],i=r?Gs.get(r,this.config):"";n.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=n,n},createTime(e,t){const n=vf(this.config.selectors.display[e],t),r=vn("div",Ki(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Gs.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts(e,t){pr.call(this,e,"keydown keyup",n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),n.type==="keydown"))return;const r=lv(e,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))$t.showMenuPanel.call(this,t,!0);else{let i;n.key!==" "&&(n.key==="ArrowDown"||r&&n.key==="ArrowRight"?(i=e.nextElementSibling,me.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,me.element(i)||(i=e.parentNode.lastElementChild)),D9.call(this,i,!0))}},!1),pr.call(this,e,"keyup",n=>{n.key==="Return"&&$t.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:t,type:n,title:r,badge:i=null,checked:s=!1}){const o=vf(this.config.selectors.inputs[n]),a=vn("button",Ki(o,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${o.class?o.class:""}`.trim(),"aria-checked":s,value:e})),l=vn("span");l.innerHTML=r,me.element(i)&&l.appendChild(i),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>a.getAttribute("aria-checked")==="true",set(u){u&&Array.from(a.parentNode.children).filter(c=>lv(c,'[role="menuitemradio"]')).forEach(c=>c.setAttribute("aria-checked","false")),a.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(a,"click keyup",u=>{if(!me.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),a.checked=!0,n){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}$t.showMenuPanel.call(this,"home",me.keyboardEvent(u))}},n,!1),$t.bindMenuItemShortcuts.call(this,a,n),t.appendChild(a)},formatTime(e=0,t=!1){return me.number(e)?y5(e,TNe(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,n=!1){me.element(e)&&me.number(t)&&(e.innerText=$t.formatTime(t,n))},updateVolume(){this.supported.ui&&(me.element(this.elements.inputs.volume)&&$t.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),me.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){me.element(e)&&(e.value=t,$t.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!me.event(e))return;let t=0;const n=(r,i)=>{const s=me.number(i)?i:0,o=me.element(r)?r:this.elements.display.buffer;if(me.element(o)){o.value=s;const a=o.getElementsByTagName("span")[0];me.element(a)&&(a.childNodes[0].nodeValue=s)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=_Ht(this.currentTime,this.duration),e.type==="timeupdate"&&$t.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":n(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=me.event(e)?e.target:e;if(me.element(t)&&t.getAttribute("type")==="range"){if(lv(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const n=$t.formatTime(this.currentTime),r=$t.formatTime(this.duration),i=Gs.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(lv(t,this.config.selectors.inputs.volume)){const n=100*t.value;t.setAttribute("aria-valuenow",n),t.setAttribute("aria-valuetext",`${n.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(Ks.isWebKit||Ks.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,n;if(!this.config.tooltips.seek||!me.element(this.elements.inputs.seek)||!me.element(this.elements.display.seekTooltip)||this.duration===0)return;const r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,s=c=>Mr(r,i,c);if(this.touch)return void s(!1);let o=0;const a=this.elements.progress.getBoundingClientRect();if(me.event(e))o=100/a.width*(e.pageX-a.left);else{if(!JN(r,i))return;o=parseFloat(r.style.left,10)}o<0?o=0:o>100&&(o=100);const l=this.duration/100*o;r.innerText=$t.formatTime(l);const u=(t=this.config.markers)===null||t===void 0||(n=t.points)===null||n===void 0?void 0:n.find(({time:c})=>c===Math.round(l));u&&r.insertAdjacentHTML("afterbegin",`${u.label}<br>`),r.style.left=`${o}%`,me.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&s(e.type==="mouseenter")},timeUpdate(e){const t=!me.element(this.elements.display.duration)&&this.config.invertTime;$t.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||$t.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return wy(this.elements.display.currentTime,!0),void wy(this.elements.progress,!0);me.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=me.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&$t.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&$t.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&$t.setMarkers.call(this),$t.updateSeekTooltip.call(this)},toggleMenuButton(e,t){wy(this.elements.settings.buttons[e],!t)},updateSetting(e,t,n){const r=this.elements.settings.panels[e];let i=null,s=t;if(e==="captions")i=this.currentTrack;else{if(i=me.empty(n)?this[e]:n,me.empty(i)&&(i=this.config[e].default),!me.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(me.element(s)||(s=r&&r.querySelector('[role="menu"]')),!me.element(s))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=$t.getLabel.call(this,e,i);const o=s&&s.querySelector(`[value="${i}"]`);me.element(o)&&(o.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?Gs.get("normal",this.config):`${t}&times;`;case"quality":if(me.number(t)){const n=Gs.get(`qualityLabel.${t}`,this.config);return n.length?n:`${t}p`}return CNe(t);case"captions":return xr.getLabel.call(this);default:return null}},setQualityMenu(e){if(!me.element(this.elements.settings.panels.quality))return;const t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');me.array(e)&&(this.options.quality=QH(e).filter(s=>this.config.quality.options.includes(s)));const r=!me.empty(this.options.quality)&&this.options.quality.length>1;if($t.toggleMenuButton.call(this,t,r),p3(n),$t.checkMenu.call(this),!r)return;const i=s=>{const o=Gs.get(`qualityBadge.${s}`,this.config);return o.length?$t.createBadge.call(this,o):null};this.options.quality.sort((s,o)=>{const a=this.config.quality.options;return a.indexOf(s)>a.indexOf(o)?1:-1}).forEach(s=>{$t.createMenuItem.call(this,{value:s,list:n,type:t,title:$t.getLabel.call(this,"quality",s),badge:i(s)})}),$t.updateSetting.call(this,t,n)},setCaptionsMenu(){if(!me.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=xr.getTracks.call(this),r=!!n.length;if($t.toggleMenuButton.call(this,e,r),p3(t),$t.checkMenu.call(this),!r)return;const i=n.map((s,o)=>({value:o,checked:this.captions.toggled&&this.currentTrack===o,title:xr.getLabel.call(this,s),badge:s.language&&$t.createBadge.call(this,s.language.toUpperCase()),list:t,type:"language"}));i.unshift({value:-1,checked:!this.captions.toggled,title:Gs.get("disabled",this.config),list:t,type:"language"}),i.forEach($t.createMenuItem.bind(this)),$t.updateSetting.call(this,e,t)},setSpeedMenu(){if(!me.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(r=>r>=this.minimumSpeed&&r<=this.maximumSpeed);const n=!me.empty(this.options.speed)&&this.options.speed.length>1;$t.toggleMenuButton.call(this,e,n),p3(t),$t.checkMenu.call(this),n&&(this.options.speed.forEach(r=>{$t.createMenuItem.call(this,{value:r,list:t,type:e,title:$t.getLabel.call(this,"speed",r)})}),$t.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!me.empty(e)&&Object.values(e).some(n=>!n.hidden);wy(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let n=e;me.element(n)||(n=Object.values(this.elements.settings.panels).find(i=>!i.hidden));const r=n.querySelector('[role^="menuitem"]');D9.call(this,r,t)},toggleMenu(e){const{popup:t}=this.elements.settings,n=this.elements.buttons.settings;if(!me.element(t)||!me.element(n))return;const{hidden:r}=t;let i=r;if(me.boolean(e))i=e;else if(me.keyboardEvent(e)&&e.key==="Escape")i=!1;else if(me.event(e)){const s=me.function(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(s);if(o||!o&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),wy(t,!i),Mr(this.elements.container,this.config.classNames.menu.open,i),i&&me.keyboardEvent(e)?$t.focusFirstMenuItem.call(this,null,!0):i||r||D9.call(this,n,me.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const n=t.scrollWidth,r=t.scrollHeight;return xp(t),{width:n,height:r}},showMenuPanel(e="",t=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!me.element(n))return;const r=n.parentNode,i=Array.from(r.children).find(s=>!s.hidden);if(Qi.transitions&&!Qi.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;const s=$t.getMenuSize.call(this,n),o=a=>{a.target===r&&["width","height"].includes(a.propertyName)&&(r.style.width="",r.style.height="",g5.call(this,r,KH,o))};pr.call(this,r,KH,o),r.style.width=`${s.width}px`,r.style.height=`${s.height}px`}wy(i,!0),wy(n,!1),$t.focusFirstMenuItem.call(this,n,t)},setDownloadUrl(){const e=this.elements.buttons.download;me.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:n,createProgress:r,createRange:i,createTime:s,setQualityMenu:o,setSpeedMenu:a,showMenuPanel:l}=$t;this.elements.controls=null,me.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const u=vn("div",vf(this.config.selectors.controls.wrapper));this.elements.controls=u;const c={class:"plyr__controls__item"};return QH(me.array(this.config.controls)?this.config.controls:[]).forEach(d=>{if(d==="restart"&&u.appendChild(n.call(this,"restart",c)),d==="rewind"&&u.appendChild(n.call(this,"rewind",c)),d==="play"&&u.appendChild(n.call(this,"play",c)),d==="fast-forward"&&u.appendChild(n.call(this,"fast-forward",c)),d==="progress"){const f=vn("div",{class:`${c.class} plyr__progress__container`}),h=vn("div",vf(this.config.selectors.progress));if(h.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),h.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const p=vn("span",{class:this.config.classNames.tooltip},"00:00");h.appendChild(p),this.elements.display.seekTooltip=p}this.elements.progress=h,f.appendChild(this.elements.progress),u.appendChild(f)}if(d==="current-time"&&u.appendChild(s.call(this,"currentTime",c)),d==="duration"&&u.appendChild(s.call(this,"duration",c)),d==="mute"||d==="volume"){let{volume:f}=this.elements;if(me.element(f)&&u.contains(f)||(f=vn("div",Ki({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=f,u.appendChild(f)),d==="mute"&&f.appendChild(n.call(this,"mute")),d==="volume"&&!Ks.isIos&&!Ks.isIPadOS){const h={max:1,step:.05,value:this.config.volume};f.appendChild(i.call(this,"volume",Ki(h,{id:`plyr-volume-${e.id}`})))}}if(d==="captions"&&u.appendChild(n.call(this,"captions",c)),d==="settings"&&!me.empty(this.config.settings)){const f=vn("div",Ki({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));f.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const h=vn("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),p=vn("div"),m=vn("div",{id:`plyr-settings-${e.id}-home`}),g=vn("div",{role:"menu"});m.appendChild(g),p.appendChild(m),this.elements.settings.panels.home=m,this.config.settings.forEach(y=>{const v=vn("button",Ki(vf(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,v,y),pr.call(this,v,"click",()=>{l.call(this,y,!1)});const w=vn("span",null,Gs.get(y,this.config)),E=vn("span",{class:this.config.classNames.menu.value});E.innerHTML=e[y],w.appendChild(E),v.appendChild(w),g.appendChild(v);const C=vn("div",{id:`plyr-settings-${e.id}-${y}`,hidden:""}),S=vn("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});S.appendChild(vn("span",{"aria-hidden":!0},Gs.get(y,this.config))),S.appendChild(vn("span",{class:this.config.classNames.hidden},Gs.get("menuBack",this.config))),pr.call(this,C,"keydown",T=>{T.key==="ArrowLeft"&&(T.preventDefault(),T.stopPropagation(),l.call(this,"home",!0))},!1),pr.call(this,S,"click",()=>{l.call(this,"home",!1)}),C.appendChild(S),C.appendChild(vn("div",{role:"menu"})),p.appendChild(C),this.elements.settings.buttons[y]=v,this.elements.settings.panels[y]=C}),h.appendChild(p),f.appendChild(h),u.appendChild(f),this.elements.settings.popup=h,this.elements.settings.menu=f}if(d==="pip"&&Qi.pip&&u.appendChild(n.call(this,"pip",c)),d==="airplay"&&Qi.airplay&&u.appendChild(n.call(this,"airplay",c)),d==="download"){const f=Ki({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(f.download="");const{download:h}=this.config.urls;!me.url(h)&&this.isEmbed&&Ki(f,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(n.call(this,"download",f))}d==="fullscreen"&&u.appendChild(n.call(this,"fullscreen",c))}),this.isHTML5&&o.call(this,I0.getQualityOptions.call(this)),a.call(this),u},inject(){if(this.config.loadSprite){const i=$t.getIconUrl.call(this);i.cors&&SNe(i.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n=!0;me.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),me.element(this.config.controls)||me.string(this.config.controls)?e=this.config.controls:(e=$t.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:xr.getLabel.call(this)}),n=!1);let r;if(n&&me.string(this.config.controls)&&(e=(i=>{let s=i;return Object.entries(t).forEach(([o,a])=>{s=o2(s,`{${o}}`,a)}),s})(e)),me.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),me.element(r)||(r=this.elements.container),r[me.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),me.element(this.elements.controls)||$t.findElements.call(this),!me.empty(this.elements.buttons)){const i=s=>{const o=this.config.classNames.controlPressed;s.setAttribute("aria-pressed","false"),Object.defineProperty(s,"pressed",{configurable:!0,enumerable:!0,get:()=>JN(s,o),set(a=!1){Mr(s,o,a),s.setAttribute("aria-pressed",a?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(s=>{me.array(s)||me.nodeList(s)?Array.from(s).filter(Boolean).forEach(i):i(s)})}if(Ks.isEdge&&yNe(r),this.config.tooltips.controls){const{classNames:i,selectors:s}=this.config,o=`${s.controls.wrapper} ${s.labels} .${i.hidden}`,a=ET.call(this,o);Array.from(a).forEach(l=>{Mr(l,this.config.classNames.hidden,!1),Mr(l,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const n=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter(({time:l})=>l>0&&l<this.duration);if(n==null||!n.length)return;const r=document.createDocumentFragment(),i=document.createDocumentFragment();let s=null;const o=`${this.config.classNames.tooltip}--visible`,a=l=>Mr(s,o,l);n.forEach(l=>{const u=vn("span",{class:this.config.classNames.marker},""),c=l.time/this.duration*100+"%";s&&(u.addEventListener("mouseenter",()=>{l.label||(s.style.left=c,s.innerHTML=l.label,a(!0))}),u.addEventListener("mouseleave",()=>{a(!1)})),u.addEventListener("click",()=>{this.currentTime=l.time}),u.style.left=c,i.appendChild(u)}),r.appendChild(i),this.config.tooltips.seek||(s=vn("span",{class:this.config.classNames.tooltip},""),r.appendChild(s)),this.elements.markers={points:i,tip:s},this.elements.progress.appendChild(r)}};function ANe(e,t=!0){let n=e;if(t){const r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch{return null}}function kNe(e){const t=new URLSearchParams;return me.object(e)&&Object.entries(e).forEach(([n,r])=>{t.set(n,r)}),t}const xr={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Qi.textTracks)return void(me.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&$t.setCaptionsMenu.call(this));if(me.element(this.elements.captions)||(this.elements.captions=vn("div",vf(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),mHt(this.elements.captions,this.elements.wrapper)),Ks.isIE&&window.URL){const r=this.media.querySelectorAll("track");Array.from(r).forEach(i=>{const s=i.getAttribute("src"),o=ANe(s);o!==null&&o.hostname!==window.location.href.hostname&&["http:","https:"].includes(o.protocol)&&pk(s,"blob").then(a=>{i.setAttribute("src",window.URL.createObjectURL(a))}).catch(()=>{xp(i)})})}const e=QH((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(r=>r.split("-")[0]));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let n=this.storage.get("captions");if(me.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:t,languages:e}),this.isHTML5){const r=this.config.captions.update?"addtrack removetrack":"removetrack";pr.call(this,this.media.textTracks,r,xr.update.bind(this))}setTimeout(xr.update.bind(this),0)},update(){const e=xr.getTracks.call(this,!0),{active:t,language:n,meta:r,currentTrackNode:i}=this.captions,s=!!e.find(o=>o.language===n);this.isHTML5&&this.isVideo&&e.filter(o=>!r.get(o)).forEach(o=>{this.debug.log("Track added",o),r.set(o,{default:o.mode==="showing"}),o.mode==="showing"&&(o.mode="hidden"),pr.call(this,o,"cuechange",()=>xr.updateCues.call(this))}),(s&&this.language!==n||!e.includes(i))&&(xr.setLanguage.call(this,n),xr.toggle.call(this,t&&s)),this.elements&&Mr(this.elements.container,this.config.classNames.captions.enabled,!me.empty(e)),me.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&$t.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=me.nullOrUndefined(e)?!n:e;if(i!==n){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){const s=xr.getTracks.call(this),o=xr.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=o.language,void xr.set.call(this,s.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),Mr(this.elements.container,r,i),this.captions.toggled=i,$t.updateSetting.call(this,"captions"),bn.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout(()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){const n=xr.getTracks.call(this);if(e!==-1)if(me.number(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const r=n[e],{language:i}=r||{};this.captions.currentTrackNode=r,$t.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),bn.call(this,this.media,"languagechange")}xr.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&xr.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else xr.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!me.string(e))return void this.debug.warn("Invalid language argument",e);const n=e.toLowerCase();this.captions.language=n;const r=xr.getTracks.call(this),i=xr.findTrack.call(this,[n]);xr.set.call(this,r.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(t=>!this.isHTML5||e||this.captions.meta.has(t)).filter(t=>["captions","subtitles"].includes(t.kind))},findTrack(e,t=!1){const n=xr.getTracks.call(this),r=o=>Number((this.captions.meta.get(o)||{}).default),i=Array.from(n).sort((o,a)=>r(a)-r(o));let s;return e.every(o=>(s=i.find(a=>a.language===o),!s)),s||(t?i[0]:void 0)},getCurrentTrack(){return xr.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!me.track(t)&&Qi.textTracks&&this.captions.toggled&&(t=xr.getCurrentTrack.call(this)),me.track(t)?me.empty(t.label)?me.empty(t.language)?Gs.get("enabled",this.config):e.language.toUpperCase():t.label:Gs.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!me.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!me.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const r=xr.getCurrentTrack.call(this);t=Array.from((r||{}).activeCues||[]).map(i=>i.getCueAsHTML()).map(THt)}const n=t.map(r=>r.trim()).join(`
`);if(n!==this.elements.captions.innerHTML){p3(this.elements.captions);const r=vn("span",vf(this.config.selectors.caption));r.innerHTML=n,this.elements.captions.appendChild(r),bn.call(this,this.media,"cuechange")}}},INe={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},P9={active:"picture-in-picture",inactive:"inline"},v0={html5:"html5",youtube:"youtube",vimeo:"vimeo"},O9={audio:"audio",video:"video"};function IHt(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?v0.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?v0.vimeo:null}const N9=()=>{};class RHt{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):N9}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):N9}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):N9}}class Bc{constructor(t){Lt(this,"onChange",()=>{if(!this.supported)return;const n=this.player.elements.buttons.fullscreen;me.element(n)&&(n.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;bn.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)}),Lt(this,"toggleFallback",(n=!1)=>{if(n?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=n?"hidden":"",Mr(this.target,this.player.config.classNames.fullscreen.fallback,n),Ks.isIos){let r=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const s=me.string(r.content)&&r.content.includes(i);n?(this.cleanupViewport=!s,s||(r.content+=`,${i}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter(o=>o.trim()!==i).join(","))}this.onChange()}),Lt(this,"trapFocus",n=>{if(Ks.isIos||Ks.isIPadOS||!this.active||n.key!=="Tab")return;const r=document.activeElement,i=ET.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,o=i[i.length-1];r!==o||n.shiftKey?r===s&&n.shiftKey&&(o.focus(),n.preventDefault()):(s.focus(),n.preventDefault())}),Lt(this,"update",()=>{if(this.supported){let n;n=this.forceFallback?"Fallback (forced)":Bc.nativeSupported?"Native":"Fallback",this.player.debug.log(`${n} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");Mr(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),Lt(this,"enter",()=>{this.supported&&(Ks.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Bc.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?me.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),Lt(this,"exit",()=>{if(this.supported)if(Ks.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),If(this.player.play());else if(!Bc.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!me.empty(this.prefix)){const n=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${n}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),Lt(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=t,this.prefix=Bc.prefix,this.property=Bc.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&gHt(this.player.elements.container,t.config.fullscreen.container),pr.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),pr.call(this.player,this.player.elements.container,"dblclick",n=>{me.element(this.player.elements.controls)&&this.player.elements.controls.contains(n.target)||this.player.listeners.proxy(n,this.toggle,"fullscreen")}),pr.call(this,this.player.elements.container,"keydown",n=>this.trapFocus(n)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Bc.nativeSupported&&!this.forceFallback}static get prefix(){if(me.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(n=>!(!me.function(document[`${n}ExitFullscreen`])&&!me.function(document[`${n}CancelFullScreen`]))&&(t=n,!0)),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Bc.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Bc.nativeSupported||!Ks.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Bc.nativeSupported||this.forceFallback)return JN(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return Ks.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function m3(e,t=1){return new Promise((n,r)=>{const i=new Image,s=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:s,onerror:s,src:e})})}const Wr={addStyleHook(){Mr(this.elements.container,this.config.selectors.container.replace(".",""),!0),Mr(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Wr.toggleNativeControls.call(this,!0);me.element(this.elements.controls)||($t.inject.call(this),this.listeners.controls()),Wr.toggleNativeControls.call(this),this.isHTML5&&xr.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,$t.updateVolume.call(this),$t.timeUpdate.call(this),$t.durationUpdate.call(this),Wr.checkPlaying.call(this),Mr(this.elements.container,this.config.classNames.pip.supported,Qi.pip&&this.isHTML5&&this.isVideo),Mr(this.elements.container,this.config.classNames.airplay.supported,Qi.airplay&&this.isHTML5),Mr(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{bn.call(this,this.media,"ready")},0),Wr.setTitle.call(this),this.poster&&Wr.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&$t.durationUpdate.call(this),this.config.mediaMetadata&&$t.setMediaMetadata.call(this)},setTitle(){let e=Gs.get("play",this.config);if(me.string(this.config.title)&&!me.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(t=>{t.setAttribute("aria-label",e)}),this.isEmbed){const t=As.call(this,"iframe");if(!me.element(t))return;const n=me.empty(this.config.title)?"video":this.config.title,r=Gs.get("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster(e){Mr(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),bHt.call(this).then(()=>m3(e)).catch(n=>{throw e===this.poster&&Wr.togglePoster.call(this,!1),n}).then(()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Wr.togglePoster.call(this,!0),e)))},checkPlaying(e){Mr(this.elements.container,this.config.classNames.playing,this.playing),Mr(this.elements.container,this.config.classNames.paused,this.paused),Mr(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",Gs.get(this.playing?"pause":"play",this.config))}),me.event(e)&&e.type==="timeupdate"||Wr.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{Mr(this.elements.container,this.config.classNames.loading,this.loading),Wr.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!me.empty(e)&&me.string(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),me.empty(this.media.style)&&this.media.removeAttribute("style")}};class DHt{constructor(t){Lt(this,"firstTouch",()=>{const{player:n}=this,{elements:r}=n;n.touch=!0,Mr(r.container,n.config.classNames.isTouch,!0)}),Lt(this,"global",(n=!0)=>{const{player:r}=this;r.config.keyboard.global&&CT.call(r,window,"keydown keyup",this.handleKey,n,!1),CT.call(r,document.body,"click",this.toggleMenu,n),see.call(r,document.body,"touchstart",this.firstTouch)}),Lt(this,"container",()=>{const{player:n}=this,{config:r,elements:i,timers:s}=n;!r.keyboard.global&&r.keyboard.focused&&pr.call(n,i.container,"keydown keyup",this.handleKey,!1),pr.call(n,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",l=>{const{controls:u}=i;u&&l.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let c=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(Wr.toggleControls.call(n,!0),c=n.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout(()=>Wr.toggleControls.call(n,!1),c)});const o=()=>{if(!n.isVimeo||n.config.vimeo.premium)return;const l=i.wrapper,{active:u}=n.fullscreen,[c,d]=oee.call(n),f=xNe(`aspect-ratio: ${c} / ${d}`);if(!u)return void(f?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[h,p]=wHt(),m=h/p>c/d;f?(l.style.width=m?"auto":"100%",l.style.height=m?"100%":"auto"):(l.style.maxWidth=m?p/d*c+"px":null,l.style.margin=m?"0 auto":null)},a=()=>{clearTimeout(s.resized),s.resized=setTimeout(o,50)};pr.call(n,i.container,"enterfullscreen exitfullscreen",l=>{const{target:u}=n.fullscreen;u===i.container&&(!n.isEmbed&&me.empty(n.config.ratio)||(o(),(l.type==="enterfullscreen"?pr:g5).call(n,window,"resize",a)))})}),Lt(this,"media",()=>{const{player:n}=this,{elements:r}=n;if(pr.call(n,n.media,"timeupdate seeking seeked",s=>$t.timeUpdate.call(n,s)),pr.call(n,n.media,"durationchange loadeddata loadedmetadata",s=>$t.durationUpdate.call(n,s)),pr.call(n,n.media,"ended",()=>{n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())}),pr.call(n,n.media,"progress playing seeking seeked",s=>$t.updateProgress.call(n,s)),pr.call(n,n.media,"volumechange",s=>$t.updateVolume.call(n,s)),pr.call(n,n.media,"playing play pause ended emptied timeupdate",s=>Wr.checkPlaying.call(n,s)),pr.call(n,n.media,"waiting canplay seeked playing",s=>Wr.checkLoading.call(n,s)),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){const s=As.call(n,`.${n.config.classNames.video}`);if(!me.element(s))return;pr.call(n,r.container,"click",o=>{([r.container,s].includes(o.target)||s.contains(o.target))&&(n.touch&&n.config.hideControls||(n.ended?(this.proxy(o,n.restart,"restart"),this.proxy(o,()=>{If(n.play())},"play")):this.proxy(o,()=>{If(n.togglePlay())},"play")))})}n.supported.ui&&n.config.disableContextMenu&&pr.call(n,r.wrapper,"contextmenu",s=>{s.preventDefault()},!1),pr.call(n,n.media,"volumechange",()=>{n.storage.set({volume:n.volume,muted:n.muted})}),pr.call(n,n.media,"ratechange",()=>{$t.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),pr.call(n,n.media,"qualitychange",s=>{$t.updateSetting.call(n,"quality",null,s.detail.quality)}),pr.call(n,n.media,"ready qualitychange",()=>{$t.setDownloadUrl.call(n)});const i=n.config.events.concat(["keyup","keydown"]).join(" ");pr.call(n,n.media,i,s=>{let{detail:o={}}=s;s.type==="error"&&(o=n.media.error),bn.call(n,r.container,s.type,!0,o)})}),Lt(this,"proxy",(n,r,i)=>{const{player:s}=this,o=s.config.listeners[i];let a=!0;me.function(o)&&(a=o.call(s,n)),a!==!1&&me.function(r)&&r.call(s,n)}),Lt(this,"bind",(n,r,i,s,o=!0)=>{const{player:a}=this,l=a.config.listeners[s],u=me.function(l);pr.call(a,n,r,c=>this.proxy(c,i,s),o&&!u)}),Lt(this,"controls",()=>{const{player:n}=this,{elements:r}=n,i=Ks.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach(s=>{this.bind(s,"click",()=>{If(n.togglePlay())},"play")}),this.bind(r.buttons.restart,"click",n.restart,"restart"),this.bind(r.buttons.rewind,"click",()=>{n.lastSeekTime=Date.now(),n.rewind()},"rewind"),this.bind(r.buttons.fastForward,"click",()=>{n.lastSeekTime=Date.now(),n.forward()},"fastForward"),this.bind(r.buttons.mute,"click",()=>{n.muted=!n.muted},"mute"),this.bind(r.buttons.captions,"click",()=>n.toggleCaptions()),this.bind(r.buttons.download,"click",()=>{bn.call(n,n.media,"download")},"download"),this.bind(r.buttons.fullscreen,"click",()=>{n.fullscreen.toggle()},"fullscreen"),this.bind(r.buttons.pip,"click",()=>{n.pip="toggle"},"pip"),this.bind(r.buttons.airplay,"click",n.airplay,"airplay"),this.bind(r.buttons.settings,"click",s=>{s.stopPropagation(),s.preventDefault(),$t.toggleMenu.call(n,s)},null,!1),this.bind(r.buttons.settings,"keyup",s=>{[" ","Enter"].includes(s.key)&&(s.key!=="Enter"?(s.preventDefault(),s.stopPropagation(),$t.toggleMenu.call(n,s)):$t.focusFirstMenuItem.call(n,null,!0))},null,!1),this.bind(r.settings.menu,"keydown",s=>{s.key==="Escape"&&$t.toggleMenu.call(n,s)}),this.bind(r.inputs.seek,"mousedown mousemove",s=>{const o=r.progress.getBoundingClientRect(),a=100/o.width*(s.pageX-o.left);s.currentTarget.setAttribute("seek-value",a)}),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",s=>{const o=s.currentTarget,a="play-on-seeked";if(me.keyboardEvent(s)&&!["ArrowLeft","ArrowRight"].includes(s.key))return;n.lastSeekTime=Date.now();const l=o.hasAttribute(a),u=["mouseup","touchend","keyup"].includes(s.type);l&&u?(o.removeAttribute(a),If(n.play())):!u&&n.playing&&(o.setAttribute(a,""),n.pause())}),Ks.isIos){const s=ET.call(n,'input[type="range"]');Array.from(s).forEach(o=>this.bind(o,i,a=>yNe(a.target)))}this.bind(r.inputs.seek,i,s=>{const o=s.currentTarget;let a=o.getAttribute("seek-value");me.empty(a)&&(a=o.value),o.removeAttribute("seek-value"),n.currentTime=a/o.max*n.duration},"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",s=>$t.updateSeekTooltip.call(n,s)),this.bind(r.progress,"mousemove touchmove",s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.startMove(s)}),this.bind(r.progress,"mouseleave touchend click",()=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.endMove(!1,!0)}),this.bind(r.progress,"mousedown touchstart",s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.startScrubbing(s)}),this.bind(r.progress,"mouseup touchend",s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.endScrubbing(s)}),Ks.isWebKit&&Array.from(ET.call(n,'input[type="range"]')).forEach(s=>{this.bind(s,"input",o=>$t.updateRangeFill.call(n,o.target))}),n.config.toggleInvert&&!me.element(r.display.duration)&&this.bind(r.display.currentTime,"click",()=>{n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,$t.timeUpdate.call(n))}),this.bind(r.inputs.volume,i,s=>{n.volume=s.target.value},"volume"),this.bind(r.controls,"mouseenter mouseleave",s=>{r.controls.hover=!n.touch&&s.type==="mouseenter"}),r.fullscreen&&Array.from(r.fullscreen.children).filter(s=>!s.contains(r.container)).forEach(s=>{this.bind(s,"mouseenter mouseleave",o=>{r.controls&&(r.controls.hover=!n.touch&&o.type==="mouseenter")})}),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",s=>{r.controls.pressed=["mousedown","touchstart"].includes(s.type)}),this.bind(r.controls,"focusin",()=>{const{config:s,timers:o}=n;Mr(r.controls,s.classNames.noTransition,!0),Wr.toggleControls.call(n,!0),setTimeout(()=>{Mr(r.controls,s.classNames.noTransition,!1)},0);const a=this.touch?3e3:4e3;clearTimeout(o.controls),o.controls=setTimeout(()=>Wr.toggleControls.call(n,!1),a)}),this.bind(r.inputs.volume,"wheel",s=>{const o=s.webkitDirectionInvertedFromDevice,[a,l]=[s.deltaX,-s.deltaY].map(d=>o?-d:d),u=Math.sign(Math.abs(a)>Math.abs(l)?a:l);n.increaseVolume(u/50);const{volume:c}=n.media;(u===1&&c<1||u===-1&&c>0)&&s.preventDefault()},"volume",!1)}),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:n}=this,{elements:r}=n,{key:i,type:s,altKey:o,ctrlKey:a,metaKey:l,shiftKey:u}=t,c=s==="keydown",d=c&&i===this.lastKey;if(!(o||a||l||u)&&i){if(c){const h=document.activeElement;if(me.element(h)){const{editable:p}=n.config.selectors,{seek:m}=r.inputs;if(h!==m&&lv(h,p)||t.key===" "&&lv(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(f=parseInt(i,10),n.currentTime=n.duration/10*f);break;case" ":case"k":d||If(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}i==="Escape"&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null;var f}}toggleMenu(t){$t.toggleMenu.call(this.player,t)}}function PHt(e,t){return e(t={exports:{}},t.exports),t.exports}var OHt=PHt(function(e,t){e.exports=function(){var n=function(){},r={},i={},s={};function o(f,h){f=f.push?f:[f];var p,m,g,y=[],v=f.length,w=v;for(p=function(E,C){C.length&&y.push(E),--w||h(y)};v--;)m=f[v],(g=i[m])?p(m,g):(s[m]=s[m]||[]).push(p)}function a(f,h){if(f){var p=s[f];if(i[f]=h,p)for(;p.length;)p[0](f,h),p.splice(0,1)}}function l(f,h){f.call&&(f={success:f}),h.length?(f.error||n)(h):(f.success||n)(f)}function u(f,h,p,m){var g,y,v=document,w=p.async,E=(p.numRetries||0)+1,C=p.before||n,S=f.replace(/[\?|#].*$/,""),T=f.replace(/^(css|img)!/,"");m=m||0,/(^css!|\.css$)/.test(S)?((y=v.createElement("link")).rel="stylesheet",y.href=T,(g="hideFocus"in y)&&y.relList&&(g=0,y.rel="preload",y.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(S)?(y=v.createElement("img")).src=T:((y=v.createElement("script")).src=f,y.async=w===void 0||w),y.onload=y.onerror=y.onbeforeload=function(A){var I=A.type[0];if(g)try{y.sheet.cssText.length||(I="e")}catch(D){D.code!=18&&(I="e")}if(I=="e"){if((m+=1)<E)return u(f,h,p,m)}else if(y.rel=="preload"&&y.as=="style")return y.rel="stylesheet";h(f,I,A.defaultPrevented)},C(f,y)!==!1&&v.head.appendChild(y)}function c(f,h,p){var m,g,y=(f=f.push?f:[f]).length,v=y,w=[];for(m=function(E,C,S){if(C=="e"&&w.push(E),C=="b"){if(!S)return;w.push(E)}--y||h(w)},g=0;g<v;g++)u(f[g],m,p)}function d(f,h,p){var m,g;if(h&&h.trim&&(m=h),g=(m?p:h)||{},m){if(m in r)throw"LoadJS";r[m]=!0}function y(v,w){c(f,function(E){l(g,E),v&&l({success:v,error:w},E),a(m,E)},g)}if(g.returnPromise)return new Promise(y);y()}return d.ready=function(f,h){return o(f,function(p){l(h,p)}),d},d.done=function(f){a(f,[])},d.reset=function(){r={},i={},s={}},d.isDefined=function(f){return f in r},d}()});function aee(e){return new Promise((t,n)=>{OHt(e,{success:t,error:n})})}function NHt(e){return me.empty(e)?null:me.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function $Ht(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function IC(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,bn.call(this,this.media,e?"play":"pause"))}const ZH={setup(){const e=this;Mr(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,l_.call(e),me.object(window.Vimeo)?ZH.ready.call(e):aee(e.config.urls.vimeo.sdk).then(()=>{ZH.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){const e=this,t=e.config.vimeo,{premium:n,referrerPolicy:r,...i}=t;let s=e.media.getAttribute("src"),o="";me.empty(s)?(s=e.media.getAttribute(e.config.attributes.embed.id),o=e.media.getAttribute(e.config.attributes.embed.hash)):o=$Ht(s);const a=o?{h:o}:{};n&&Object.assign(i,{controls:!1,sidedock:!1});const l=kNe({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...i}),u=NHt(s),c=vn("iframe"),d=JH(e.config.urls.vimeo.iframe,u,l);if(c.setAttribute("src",d),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),me.empty(r)||c.setAttribute("referrerPolicy",r),n||!t.customControls)c.setAttribute("data-poster",e.poster),e.media=QN(c,e.media);else{const v=vn("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});v.appendChild(c),e.media=QN(v,e.media)}t.customControls||pk(JH(e.config.urls.vimeo.api,d)).then(v=>{!me.empty(v)&&v.thumbnail_url&&Wr.setPoster.call(e,v.thumbnail_url).catch(()=>{})}),e.embed=new window.Vimeo.Player(c,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(IC.call(e,!0),e.embed.play()),e.media.pause=()=>(IC.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:f}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>f,set(v){const{embed:w,media:E,paused:C,volume:S}=e,T=C&&!w.hasPlayed;E.seeking=!0,bn.call(e,E,"seeking"),Promise.resolve(T&&w.setVolume(0)).then(()=>w.setCurrentTime(v)).then(()=>T&&w.pause()).then(()=>T&&w.setVolume(S)).catch(()=>{})}});let h=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>h,set(v){e.embed.setPlaybackRate(v).then(()=>{h=v,bn.call(e,e.media,"ratechange")}).catch(()=>{e.options.speed=[1]})}});let{volume:p}=e.config;Object.defineProperty(e.media,"volume",{get:()=>p,set(v){e.embed.setVolume(v).then(()=>{p=v,bn.call(e,e.media,"volumechange")})}});let{muted:m}=e.config;Object.defineProperty(e.media,"muted",{get:()=>m,set(v){const w=!!me.boolean(v)&&v;e.embed.setMuted(!!w||e.config.muted).then(()=>{m=w,bn.call(e,e.media,"volumechange")})}});let g,{loop:y}=e.config;Object.defineProperty(e.media,"loop",{get:()=>y,set(v){const w=me.boolean(v)?v:e.config.loop.active;e.embed.setLoop(w).then(()=>{y=w})}}),e.embed.getVideoUrl().then(v=>{g=v,$t.setDownloadUrl.call(e)}).catch(v=>{this.debug.warn(v)}),Object.defineProperty(e.media,"currentSrc",{get:()=>g}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(v=>{const[w,E]=v;e.embed.ratio=ENe(w,E),l_.call(this)}),e.embed.setAutopause(e.config.autopause).then(v=>{e.config.autopause=v}),e.embed.getVideoTitle().then(v=>{e.config.title=v,Wr.setTitle.call(this)}),e.embed.getCurrentTime().then(v=>{f=v,bn.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(v=>{e.media.duration=v,bn.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(v=>{e.media.textTracks=v,xr.setup.call(e)}),e.embed.on("cuechange",({cues:v=[]})=>{const w=v.map(E=>SHt(E.text));xr.updateCues.call(e,w)}),e.embed.on("loaded",()=>{e.embed.getPaused().then(v=>{IC.call(e,!v),v||bn.call(e,e.media,"playing")}),me.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("bufferstart",()=>{bn.call(e,e.media,"waiting")}),e.embed.on("bufferend",()=>{bn.call(e,e.media,"playing")}),e.embed.on("play",()=>{IC.call(e,!0),bn.call(e,e.media,"playing")}),e.embed.on("pause",()=>{IC.call(e,!1)}),e.embed.on("timeupdate",v=>{e.media.seeking=!1,f=v.seconds,bn.call(e,e.media,"timeupdate")}),e.embed.on("progress",v=>{e.media.buffered=v.percent,bn.call(e,e.media,"progress"),parseInt(v.percent,10)===1&&bn.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(w=>{w!==e.media.duration&&(e.media.duration=w,bn.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",()=>{e.media.seeking=!1,bn.call(e,e.media,"seeked")}),e.embed.on("ended",()=>{e.media.paused=!0,bn.call(e,e.media,"ended")}),e.embed.on("error",v=>{e.media.error=v,bn.call(e,e.media,"error")}),t.customControls&&setTimeout(()=>Wr.build.call(e),0)}};function MHt(e){return me.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function RC(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,bn.call(this,this.media,e?"play":"pause"))}function FHt(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const g3={setup(){if(Mr(this.elements.wrapper,this.config.classNames.embed,!0),me.object(window.YT)&&me.function(window.YT.Player))g3.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{me.function(e)&&e(),g3.ready.call(this)},aee(this.config.urls.youtube.sdk).catch(t=>{this.debug.warn("YouTube API failed to load",t)})}},getTitle(e){pk(JH(this.config.urls.youtube.api,e)).then(t=>{if(me.object(t)){const{title:n,height:r,width:i}=t;this.config.title=n,Wr.setTitle.call(this),this.embed.ratio=ENe(i,r)}l_.call(this)}).catch(()=>{l_.call(this)})},ready(){const e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(!me.empty(n)&&n.startsWith("youtube-"))return;let r=e.media.getAttribute("src");me.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));const i=MHt(r),s=vn("div",{id:xHt(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=QN(s,e.media),t.customControls){const o=a=>`https://i.ytimg.com/vi/${i}/${a}default.jpg`;m3(o("maxres"),121).catch(()=>m3(o("sd"),121)).catch(()=>m3(o("hq"))).then(a=>Wr.setPoster.call(e,a.src)).then(a=>{a.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e.embed=new window.YT.Player(e.media,{videoId:i,host:FHt(t),playerVars:Ki({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(o){if(!e.media.error){const a=o.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[a]||"An unknown error occurred";e.media.error={code:a,message:l},bn.call(e,e.media,"error")}},onPlaybackRateChange(o){const a=o.target;e.media.playbackRate=a.getPlaybackRate(),bn.call(e,e.media,"ratechange")},onReady(o){if(me.function(e.media.play))return;const a=o.target;g3.getTitle.call(e,i),e.media.play=()=>{RC.call(e,!0),a.playVideo()},e.media.pause=()=>{RC.call(e,!1),a.pauseVideo()},e.media.stop=()=>{a.stopVideo()},e.media.duration=a.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(d){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,bn.call(e,e.media,"seeking"),a.seekTo(d)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(d){a.setPlaybackRate(d)}});let{volume:l}=e.config;Object.defineProperty(e.media,"volume",{get:()=>l,set(d){l=d,a.setVolume(100*l),bn.call(e,e.media,"volumechange")}});let{muted:u}=e.config;Object.defineProperty(e.media,"muted",{get:()=>u,set(d){const f=me.boolean(d)?d:u;u=f,a[f?"mute":"unMute"](),a.setVolume(100*l),bn.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const c=a.getAvailablePlaybackRates();e.options.speed=c.filter(d=>e.config.speed.options.includes(d)),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),bn.call(e,e.media,"timeupdate"),bn.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(()=>{e.media.buffered=a.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&bn.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),bn.call(e,e.media,"canplaythrough"))},200),t.customControls&&setTimeout(()=>Wr.build.call(e),50)},onStateChange(o){const a=o.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(o.data)&&(e.media.seeking=!1,bn.call(e,e.media,"seeked")),o.data){case-1:bn.call(e,e.media,"timeupdate"),e.media.buffered=a.getVideoLoadedFraction(),bn.call(e,e.media,"progress");break;case 0:RC.call(e,!1),e.media.loop?(a.stopVideo(),a.playVideo()):bn.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(RC.call(e,!0),bn.call(e,e.media,"playing"),e.timers.playing=setInterval(()=>{bn.call(e,e.media,"timeupdate")},50),e.media.duration!==a.getDuration()&&(e.media.duration=a.getDuration(),bn.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),RC.call(e,!1);break;case 3:bn.call(e,e.media,"waiting")}bn.call(e,e.elements.container,"statechange",!1,{code:o.data})}}})}},RNe={setup(){this.media?(Mr(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),Mr(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&Mr(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=vn("div",{class:this.config.classNames.video}),bNe(this.media,this.elements.wrapper),this.elements.poster=vn("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?I0.setup.call(this):this.isYouTube?g3.setup.call(this):this.isVimeo&&ZH.setup.call(this)):this.debug.warn("No media element found!")}};class LHt{constructor(t){Lt(this,"load",()=>{this.enabled&&(me.object(window.google)&&me.object(window.google.ima)?this.ready():aee(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),Lt(this,"ready",()=>{var n;this.enabled||((n=this).manager&&n.manager.destroy(),n.elements.displayContainer&&n.elements.displayContainer.destroy(),n.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),Lt(this,"setupIMA",()=>{this.elements.container=vn("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,n=>this.onAdsManagerLoaded(n),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,n=>this.onAdError(n),!1),this.requestAds()}),Lt(this,"requestAds",()=>{const{container:n}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=n.offsetWidth,r.linearAdSlotHeight=n.offsetHeight,r.nonLinearAdSlotWidth=n.offsetWidth,r.nonLinearAdSlotHeight=n.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}}),Lt(this,"pollCountdown",(n=!1)=>{if(!n)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const r=y5(Math.max(this.manager.getRemainingTime(),0)),i=`${Gs.get("advertisement",this.player.config)} - ${r}`;this.elements.container.setAttribute("data-badge-text",i)},100)}),Lt(this,"onAdsManagerLoaded",n=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=n.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i=>this.onAdError(i)),Object.keys(google.ima.AdEvent.Type).forEach(i=>{this.manager.addEventListener(google.ima.AdEvent.Type[i],s=>this.onAdEvent(s))}),this.trigger("loaded")}),Lt(this,"addCuePoints",()=>{me.empty(this.cuePoints)||this.cuePoints.forEach(n=>{if(n!==0&&n!==-1&&n<this.player.duration){const r=this.player.elements.progress;if(me.element(r)){const i=100/this.player.duration*n,s=vn("span",{class:this.player.config.classNames.cues});s.style.left=`${i.toString()}%`,r.appendChild(s)}}})}),Lt(this,"onAdEvent",n=>{const{container:r}=this.player.elements,i=n.getAd(),s=n.getAdData();switch((o=>{bn.call(this.player,this.player.media,`ads${o.replace(/_/g,"").toLowerCase()}`)})(n.type),n.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=r.offsetWidth,i.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}}),Lt(this,"onAdError",n=>{this.cancel(),this.player.debug.warn("Ads error",n)}),Lt(this,"listeners",()=>{const{container:n}=this.player.elements;let r;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{r=this.player.currentTime}),this.player.on("seeked",()=>{const i=this.player.currentTime;me.empty(this.cuePoints)||this.cuePoints.forEach((s,o)=>{r<s&&s<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(o,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)})}),Lt(this,"play",()=>{const{container:n}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}}).catch(()=>{})}),Lt(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,If(this.player.media.play())}),Lt(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),Lt(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),Lt(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(n=>{this.on("loaded",n),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),Lt(this,"trigger",(n,...r)=>{const i=this.events[n];me.array(i)&&i.forEach(s=>{me.function(s)&&s.apply(this,r)})}),Lt(this,"on",(n,r)=>(me.array(this.events[n])||(this.events[n]=[]),this.events[n].push(r),this)),Lt(this,"startSafetyTimer",(n,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},n)}),Lt(this,"clearSafetyTimer",n=>{me.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${n}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((n,r)=>{this.on("loaded",n),this.on("error",r)}),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!me.empty(t.publisherId)||me.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return me.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${kNe({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function DNe(e=0,t=0,n=255){return Math.min(Math.max(e,t),n)}const jHt=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(n=>{const r={};n.split(/\r\n|\n|\r/).forEach(i=>{if(me.number(r.startTime)){if(!me.empty(i.trim())&&me.empty(r.text)){const s=i.trim().split("#xywh=");[r.text]=s,s[1]&&([r.x,r.y,r.w,r.h]=s[1].split(","))}}else{const s=i.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(r.startTime=60*Number(s[1]||0)*60+60*Number(s[2])+Number(s[3])+ +`0.${s[4]}`,r.endTime=60*Number(s[6]||0)*60+60*Number(s[7])+Number(s[8])+ +`0.${s[9]}`)}}),r.text&&t.push(r)}),t},gpe=(e,t)=>{const n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n};class eq{constructor(t){Lt(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),Lt(this,"getThumbnails",()=>new Promise(n=>{const{src:r}=this.player.config.previewThumbnails;if(me.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort((s,o)=>s.height-o.height),this.player.debug.log("Preview thumbnails",this.thumbnails),n()};if(me.function(r))r(s=>{this.thumbnails=s,i()});else{const s=(me.string(r)?[r]:r).map(o=>this.getThumbnail(o));Promise.all(s).then(i)}})),Lt(this,"getThumbnail",n=>new Promise(r=>{pk(n).then(i=>{const s={frames:jHt(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const o=new Image;o.onload=()=>{s.height=o.naturalHeight,s.width=o.naturalWidth,this.thumbnails.push(s),r()},o.src=s.urlPrefix+s.frames[0].text})})),Lt(this,"startMove",n=>{if(this.loaded&&me.event(n)&&["touchmove","mousemove"].includes(n.type)&&this.player.media.duration){if(n.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,i;const s=this.player.elements.progress.getBoundingClientRect(),o=100/s.width*(n.pageX-s.left);this.seekTime=this.player.media.duration*(o/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=n.pageX,this.elements.thumb.time.innerText=y5(this.seekTime);const a=(r=this.player.config.markers)===null||r===void 0||(i=r.points)===null||i===void 0?void 0:i.find(({time:l})=>l===Math.round(this.seekTime));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}}),Lt(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),Lt(this,"startScrubbing",n=>{(me.nullOrUndefined(n.button)||n.button===!1||n.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),Lt(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):see.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),Lt(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),Lt(this,"render",()=>{this.elements.thumb.container=vn("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=vn("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const n=vn("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=vn("span",{},"00:00"),n.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(n),me.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=vn("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),Lt(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),Lt(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const n=this.thumbnails[0].frames.findIndex(s=>this.seekTime>=s.startTime&&this.seekTime<=s.endTime),r=n>=0;let i=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach((s,o)=>{this.loadedImages.includes(s.frames[n].text)&&(i=o)}),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(i)))}),Lt(this,"loadImage",(n=0)=>{const r=this.showingThumb,i=this.thumbnails[n],{urlPrefix:s}=i,o=i.frames[r],a=i.frames[r].text,l=s+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,o,n,r,a,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=l,u.dataset.index=r,u.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),u.onload=()=>this.showImage(u,o,n,r,a,!0),this.loadingImage=u,this.removeOldImages(u)}}),Lt(this,"showImage",(n,r,i,s,o,a=!0)=>{this.player.debug.log(`Showing thumb: ${o}. num: ${s}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(n,r),a&&(this.currentImageContainer.appendChild(n),this.currentImageElement=n,this.loadedImages.includes(o)||this.loadedImages.push(o)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,n,r,o))}),Lt(this,"removeOldImages",n=>{Array.from(this.currentImageContainer.children).forEach(r=>{if(r.tagName.toLowerCase()!=="img")return;const i=this.usingSprites?500:1e3;if(r.dataset.index!==n.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:s}=this;setTimeout(()=>{s.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)},i)}})}),Lt(this,"preloadNearby",(n,r=!0)=>new Promise(i=>{setTimeout(()=>{const s=this.thumbnails[0].frames[n].text;if(this.showingThumbFilename===s){let o;o=r?this.thumbnails[0].frames.slice(n):this.thumbnails[0].frames.slice(0,n).reverse();let a=!1;o.forEach(l=>{const u=l.text;if(u!==s&&!this.loadedImages.includes(u)){a=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:c}=this.thumbnails[0],d=c+u,f=new Image;f.src=d,f.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),i()}}}),a||i()}},300)})),Lt(this,"getHigherQuality",(n,r,i,s)=>{if(n<this.thumbnails.length-1){let o=r.naturalHeight;this.usingSprites&&(o=i.h),o<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(n+1))},300)}}),Lt(this,"toggleThumbContainer",(n=!1,r=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,n),!n&&r&&(this.showingThumb=null,this.showingThumbFilename=null)}),Lt(this,"toggleScrubbingContainer",(n=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,n),n||(this.showingThumb=null,this.showingThumbFilename=null)}),Lt(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),Lt(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:n}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(n.clientHeight>20&&n.clientWidth<20){const r=Math.floor(n.clientHeight*this.thumbAspectRatio);n.style.width=`${r}px`}else if(n.clientHeight<20&&n.clientWidth>20){const r=Math.floor(n.clientWidth/this.thumbAspectRatio);n.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);n.style.height=`${this.thumbContainerHeight}px`,n.style.width=`${r}px`}this.setThumbContainerPos()}),Lt(this,"setThumbContainerPos",()=>{const n=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=r.left-n.left+10,o=r.right-n.left-i.clientWidth-10,a=this.mousePosX-n.left-i.clientWidth/2,l=DNe(a,s,o);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")}),Lt(this,"setScrubbingContainerSize",()=>{const{width:n,height:r}=gpe(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${n}px`,this.elements.scrubbing.container.style.height=`${r}px`}),Lt(this,"setImageSizeAndOffset",(n,r)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/r.h;n.style.height=n.naturalHeight*i+"px",n.style.width=n.naturalWidth*i+"px",n.style.left=`-${r.x*i}px`,n.style.top=`-${r.y*i}px`}),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=gpe(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const tq={insertElements(e,t){me.string(t)?fpe(e,this.media,{src:t}):me.array(t)&&t.forEach(n=>{fpe(e,this.media,n)})},change(e){vNe(e,"sources.length")?(I0.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],xp(this.media),this.media=null,me.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:n}=e,[{provider:r=v0.html5,src:i}]=t,s=r==="html5"?n:"div",o=r==="html5"?{}:{src:i};Object.assign(this,{provider:r,type:n,supported:Qi.check(n,r,this.config.playsinline),media:vn(s,o)}),this.elements.container.appendChild(this.media),me.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),me.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Wr.addStyleHook.call(this),this.isHTML5&&tq.insertElements.call(this,"source",t),this.config.title=e.title,RNe.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&tq.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Wr.build.call(this),this.isHTML5&&this.media.load(),me.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new eq(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};let PNe=class nq{constructor(t,n){if(Lt(this,"play",()=>me.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>If(this.media.play())),this.media.play()):null),Lt(this,"pause",()=>this.playing&&me.function(this.media.pause)?this.media.pause():null),Lt(this,"togglePlay",a=>(me.boolean(a)?a:!this.playing)?this.play():this.pause()),Lt(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):me.function(this.media.stop)&&this.media.stop()}),Lt(this,"restart",()=>{this.currentTime=0}),Lt(this,"rewind",a=>{this.currentTime-=me.number(a)?a:this.config.seekTime}),Lt(this,"forward",a=>{this.currentTime+=me.number(a)?a:this.config.seekTime}),Lt(this,"increaseVolume",a=>{const l=this.media.muted?0:this.volume;this.volume=l+(me.number(a)?a:0)}),Lt(this,"decreaseVolume",a=>{this.increaseVolume(-a)}),Lt(this,"airplay",()=>{Qi.airplay&&this.media.webkitShowPlaybackTargetPicker()}),Lt(this,"toggleControls",a=>{if(this.supported.ui&&!this.isAudio){const l=JN(this.elements.container,this.config.classNames.hideControls),u=a===void 0?void 0:!a,c=Mr(this.elements.container,this.config.classNames.hideControls,u);if(c&&me.array(this.config.controls)&&this.config.controls.includes("settings")&&!me.empty(this.config.settings)&&$t.toggleMenu.call(this,!1),c!==l){const d=c?"controlshidden":"controlsshown";bn.call(this,this.media,d)}return!c}return!1}),Lt(this,"on",(a,l)=>{pr.call(this,this.elements.container,a,l)}),Lt(this,"once",(a,l)=>{see.call(this,this.elements.container,a,l)}),Lt(this,"off",(a,l)=>{g5(this.elements.container,a,l)}),Lt(this,"destroy",(a,l=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(xp(this.elements.buttons.play),xp(this.elements.captions),xp(this.elements.controls),xp(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),me.function(a)&&a()):(vHt.call(this),I0.cancelRequests.call(this),QN(this.elements.original,this.elements.container),bn.call(this,this.elements.original,"destroyed",!0),me.function(a)&&a.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Wr.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&me.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))}),Lt(this,"supports",a=>Qi.mime.call(this,a)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Qi.touch,this.media=t,me.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||me.nodeList(this.media)||me.array(this.media))&&(this.media=this.media[0]),this.config=Ki({},INe,nq.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new RHt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Qi),me.nullOrUndefined(this.media)||!me.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!Qi.check().api)return void this.debug.error("Setup failed: no support");const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const i=this.media.tagName.toLowerCase();let s=null,o=null;switch(i){case"div":if(s=this.media.querySelector("iframe"),me.element(s)){if(o=ANe(s.getAttribute("src")),this.provider=IHt(o.toString()),this.elements.container=this.media,this.media=s,this.elements.container.className="",o.search.length){const a=["1","true"];a.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(me.empty(this.provider)||!Object.values(v0).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=O9.video;break;case"video":case"audio":this.type=i,this.provider=v0.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Qi.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new DHt(this),this.storage=new ST(this),this.media.plyr=this,me.element(this.elements.container)||(this.elements.container=vn("div"),bNe(this.media,this.elements.container)),Wr.migrateStyles.call(this),Wr.addStyleHook.call(this),RNe.setup.call(this),this.config.debug&&pr.call(this,this.elements.container,this.config.events.join(" "),a=>{this.debug.log(`event: ${a.type}`)}),this.fullscreen=new Bc(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Wr.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new LHt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>If(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new eq(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===v0.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===v0.youtube}get isVimeo(){return this.provider===v0.vimeo}get isVideo(){return this.type===O9.video}get isAudio(){return this.type===O9.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const n=me.number(t)&&t>0;this.media.currentTime=n?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return me.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),n=(this.media||{}).duration,r=me.number(n)&&n!==1/0?n:0;return t||r}set volume(t){let n=t;me.string(n)&&(n=Number(n)),me.number(n)||(n=this.storage.get("volume")),me.number(n)||({volume:n}=this.config),n>1&&(n=1),n<0&&(n=0),this.config.volume=n,this.media.volume=n,!me.empty(t)&&this.muted&&n>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let n=t;me.boolean(n)||(n=this.storage.get("muted")),me.boolean(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let n=null;me.number(t)&&(n=t),me.number(n)||(n=this.storage.get("speed")),me.number(n)||(n=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:i}=this;n=DNe(n,r,i),this.config.speed.selected=n,setTimeout(()=>{this.media&&(this.media.playbackRate=n)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const n=this.config.quality,r=this.options.quality;if(!r.length)return;let i=[!me.empty(t)&&Number(t),this.storage.get("quality"),n.selected,n.default].find(me.number),s=!0;if(!r.includes(i)){const o=wNe(r,i);this.debug.warn(`Unsupported quality option: ${i}, using ${o} instead`),i=o,s=!1}n.selected=i,this.media.quality=i,s&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(t){const n=me.boolean(t)?t:this.config.loop.active;this.config.loop.active=n,this.media.loop=n}get loop(){return!!this.media.loop}set source(t){tq.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return me.url(t)?t:this.source}set download(t){me.url(t)&&(this.config.urls.download=t,$t.setDownloadUrl.call(this))}set poster(t){this.isVideo?Wr.setPoster.call(this,t,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=ZN(oee.call(this));return me.array(t)?t.join(":"):t}set ratio(t){this.isVideo?me.string(t)&&_Ne(t)?(this.config.ratio=ZN(t),l_.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=me.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){xr.toggle.call(this,t,!1)}set currentTrack(t){xr.set.call(this,t,!1),xr.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:n}=this.captions;return t?n:-1}set language(t){xr.setLanguage.call(this,t,!1)}get language(){return(xr.getCurrentTrack.call(this)||{}).language}set pip(t){if(!Qi.pip)return;const n=me.boolean(t)?t:!this.pip;me.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?P9.active:P9.inactive),me.function(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}get pip(){return Qi.pip?me.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===P9.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new eq(this))}static supported(t,n){return Qi.check(t,n)}static loadSprite(t,n){return SNe(t,n)}static setup(t,n={}){let r=null;return me.string(t)?r=Array.from(document.querySelectorAll(t)):me.nodeList(t)?r=Array.from(t):me.array(t)&&(r=t.filter(me.element)),me.empty(r)?null:r.map(i=>new nq(i,n))}};PNe.defaults=pHt(INe);function BHt(e,t,n=[]){const[r,i]=R.useState(null),s=R.useRef(null),{instantiate:o,destroy:a,getAPI:l,params:u}=t;R.useEffect(()=>{const d=o(s.current,u);return i(d),()=>{a&&a(d,u)}},n);const c=R.useMemo(()=>l(r,u),[r]);return R.useImperativeHandle(e,c,[c]),s}const zHt={},UHt=(e,t)=>{const n=new PNe(".plyr-react",t.options||{});return t.source&&(n.source=t.source),n},HHt=e=>{e&&e.destroy()},qHt=()=>{},VHt=e=>e?()=>({plyr:e}):()=>new Proxy({plyr:{source:null}},{get:(t,n)=>n==="plyr"?t[n]:qHt});function ONe(e,t,n=null){return BHt(e,{instantiate:UHt,getAPI:VHt,destroy:HHt,params:t},n||[t.options,t.source])}const $9=R.forwardRef((e,t)=>{const{source:n,options:r=null,...i}=e,s=ONe(t,{source:n,options:r});return _.jsx("video",{ref:s,className:"plyr-react plyr",...i})});(zHt&&"production")!=="production"&&($9.displayName="Plyr",$9.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},$9.propTypes={options:z3.object,source:z3.any});const WHt=R.forwardRef((e,t)=>{const{source:n,options:r=null,endedCallback:i,errorCallback:s}=e,o=ONe(t,{options:r,source:n});return R.useEffect(()=>{const{current:a}=t;a.plyr.source!==null&&(a.plyr.on("ended",i),a.plyr.on("error",s))}),_.jsx("video",{ref:o,className:"plyr-react plyr"})});function GHt({currentConfig:e}){const t=R.useMemo(()=>e.path.startsWith("http")?e.path:`${hs}${e.path}`,[e.path]),[n,r]=R.useState(!0),[i,s]=R.useState(!1);R.useEffect(()=>{async function m(){if(t.startsWith("http"))s(!0);else{const g=await cM(t);s(!!g)}r(!1)}m()},[t]);const o=R.useMemo(()=>t.includes("youtube")?[{src:t,provider:"youtube"}]:t.includes("vimeo")?[{src:t,provider:"vimeo"}]:[{src:t,type:"video/mp4"}],[t]),a=R.useMemo(()=>({controls:[e.forceCompletion!==!1?"play-large":"play","current-time",...e.withTimeline?["progress"]:[],"volume","fullscreen"]}),[e.forceCompletion,e.withTimeline]),l=Bd(),u=Xa(),c=Ms(),{updateResponseBlockValidation:d}=ps();R.useEffect(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!1,values:{}}))},[l,e.forceCompletion,u,c,d]);const f=R.useCallback(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!0,values:{}}))},[l,e.forceCompletion,u,c,d]),h=R.useCallback(()=>{s(!1)},[]),p=R.useRef(null);return n||i?_.jsx(Se,{children:_.jsx(WHt,{ref:p,source:{type:"video",sources:o},options:a,endedCallback:f,errorCallback:h})}):_.jsx(Kp,{path:e.path})}function YHt(){const e=xu(),t=Xa(),n=Bd(),r=e.components[n],{storageEngine:i}=Wi(),s=rr(O=>O.answers),o=R.useRef(null),[a,l]=R.useState(null),{setIsRecording:u}=ps(),c=rr(O=>O.analysisProvState.stimulus),d=Ig(),f=kg(),h=rr(O=>O.sequence),[p]=ch(),m=rr(O=>O.participantId),g=R.useMemo(()=>p.get("participantId"),[p]);Y2e();const y=Ms(),{setAlertModal:v}=ps();R.useEffect(()=>{(i==null?void 0:i.getEngine())!=="supabase"&&y(v({show:!0,message:"There was an issue connecting to the supabase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[v,i,y]),R.useEffect(()=>{!e||!e.uiConfig.recordAudio||!i||f&&f.endTime>0||d||(o.current&&a&&i.saveAudio(o.current,a),o.current&&(o.current.stream.getTracks().forEach(O=>{var M;O.stop(),(M=o.current)==null||M.stream.removeTrack(O)}),o.current.stream.getAudioTracks().forEach(O=>{var M;O.stop(),(M=o.current)==null||M.stream.removeTrack(O)}),o.current.stop(),o.current=null),r&&r.recordAudio!==void 0&&!r.recordAudio||n==="end"?(l(null),y(u(!1))):navigator.mediaDevices.getUserMedia({audio:!0}).then(O=>{const M=new MediaRecorder(O);o.current=M,o.current.start(),y(u(!0)),l(`${n}_${t}`)}))},[n,t]);const[w,E]=R.useState([]),C=R.useRef([]);R.useEffect(()=>{async function O(){var L;const $=((L=N2e(h,t))==null?void 0:L.map(z=>z.currentBlock.id).filter(z=>z!==void 0))||[];E($)}async function M(){const $=C.current;JSON.stringify($)!==JSON.stringify(w)&&w.length>0&&i&&await i.addParticipantTags(w),C.current=w}O().then(M)},[t,i,h]);const S=Pb(),T=R.useMemo(()=>{var M,$;const O=n&&n!=="end"&&!n.startsWith("__")&&Yu(r,e);if(typeof O=="object"){const L=(M=s[S])==null?void 0:M.parameters,z=($=s[S])==null?void 0:$.correctAnswer;return{...O,parameters:L||O.parameters||{},correctAnswer:z||O.correctAnswer||void 0}}return O},[s,n,S,r,e]);if(JY(T==null?void 0:T.stylesheetPath),n==="end")return _.jsx(fxt,{});if(n==="__dynamicLoading")return null;if(n==="__trainingFailed")return _.jsx(hxt,{});if(n==="__timedOut")return _.jsx(pxt,{});if(n==="Notfound")return _.jsx(Kp,{email:e.uiConfig.contactEmail});if(g&&m!==g)return _.jsx(xd,{style:{height:"80vh"},children:_.jsx(Od,{})});const A=(T==null?void 0:T.instruction)||"",I=T.instructionLocation??e.uiConfig.instructionLocation??"sidebar",D=I==="sidebar";return _.jsxs(_.Fragment,{children:[I==="aboveStimulus"&&_.jsx(Bp,{text:A}),_.jsx(rN,{status:f,config:T,location:"aboveStimulus"},`${t}-above-response-block`),_.jsx(Se,{id:n,className:T.type,style:{width:"100%",display:"flex",flexGrow:T.type==="website"?1:void 0,flexDirection:"column",...T.style},children:_.jsxs(R.Suspense,{fallback:_.jsx("div",{children:"Loading..."}),children:[T.type==="markdown"&&_.jsx(ext,{currentConfig:T}),T.type==="website"&&_.jsx(Kwt,{currentConfig:T,provState:c,answers:s}),T.type==="image"&&_.jsx(Qwt,{currentConfig:T}),T.type==="react-component"&&_.jsx(Zwt,{currentConfig:T,provState:c,answers:s}),T.type==="vega"&&_.jsx(NUt,{currentConfig:T,provState:c}),T.type==="video"&&_.jsx(GHt,{currentConfig:T})]},`${t}-stimulus`)}),(I==="belowStimulus"||I===void 0&&!D)&&_.jsx(Bp,{text:A}),_.jsx(rN,{status:f,config:T,location:"belowStimulus"},`${t}-below-response-block`)]})}function NNe(e){const[t]=ch();return _.jsx(VW,{...e,to:{pathname:e.to,search:t.toString()}})}var M9,ype;function KHt(){if(ype)return M9;ype=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=typeof Rs=="object"&&Rs&&Rs.Object===Object&&Rs,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(C,S,T){var A,I,D,O,M,$,L=0,z=!1,B=!1,W=!0;if(typeof C!="function")throw new TypeError(e);S=E(S)||0,y(T)&&(z=!!T.leading,B="maxWait"in T,D=B?h(E(T.maxWait)||0,S):D,W="trailing"in T?!!T.trailing:W);function V(ue){var se=A,ne=I;return A=I=void 0,L=ue,O=C.apply(ne,se),O}function X(ue){return L=ue,M=setTimeout(G,S),z?V(ue):O}function U(ue){var se=ue-$,ne=ue-L,fe=S-se;return B?p(fe,D-ne):fe}function F(ue){var se=ue-$,ne=ue-L;return $===void 0||se>=S||se<0||B&&ne>=D}function G(){var ue=m();if(F(ue))return q(ue);M=setTimeout(G,U(ue))}function q(ue){return M=void 0,W&&A?V(ue):(A=I=void 0,O)}function Y(){M!==void 0&&clearTimeout(M),L=0,A=$=I=M=void 0}function J(){return M===void 0?O:q(m())}function te(){var ue=m(),se=F(ue);if(A=arguments,I=this,$=ue,se){if(M===void 0)return X($);if(B)return M=setTimeout(G,S),V($)}return M===void 0&&(M=setTimeout(G,S)),O}return te.cancel=Y,te.flush=J,te}function y(C){var S=typeof C;return!!C&&(S=="object"||S=="function")}function v(C){return!!C&&typeof C=="object"}function w(C){return typeof C=="symbol"||v(C)&&f.call(C)==n}function E(C){if(typeof C=="number")return C;if(w(C))return t;if(y(C)){var S=typeof C.valueOf=="function"?C.valueOf():C;C=y(S)?S+"":S}if(typeof C!="string")return C===0?C:+C;C=C.replace(r,"");var T=s.test(C);return T||o.test(C)?a(C.slice(2),T?2:8):i.test(C)?t:+C}return M9=g,M9}var XHt=KHt();const ff=ao(XHt);function $Ne(e,t,n,r){let i=0;for(let s=0;s<e.components.length;s+=1){const o=e.components[s];if(typeof o=="string"){if(r===e.orderPath&&o===t&&s>=n)break;i+=1}else if(o.order==="dynamic"?i+=1:i+=$Ne(o,t,n,r),r.includes(o.orderPath))break}return i}function MNe(e,t){let n=0;return t.components.forEach(r=>{var i;if(typeof r=="string"&&((i=e.interruptions)!=null&&i.flatMap(s=>s.components).includes(r)))n+=1;else if(typeof r!="string"){const s=e.components.find(o=>typeof o!="string"&&o.orderPath===r.orderPath);n+=MNe(s,r)}}),n}function QHt(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(s=>typeof s=="string"?s===r:typeof r!="string"&&s.orderPath===r.orderPath);i!==-1&&(n.push(e[i]),e.splice(i,1)),i===-1&&typeof r=="string"&&n.push(r)}),e&&n.push(...e),n}function JHt({step:e,disabled:t,fullSequence:n,startIndex:r,interruption:i,participantView:s,studyConfig:o,subSequence:a,analysisNavigation:l,parentBlock:u,parentActive:c,answers:d}){const f=gh(),h=Ya(),p=Xa(),m=o.components[e]&&Yu(o.components[e],o),g=a&&a.components.slice(r).includes(e)?$Ne(n,e,r,a.orderPath):-1,{trialId:y,funcIndex:v,analysisTab:w}=ha(),[E]=ch(),C=R.useMemo(()=>E.get("participantId"),[E]),S=w?[]:Ib(),T=y===e,A=c&&u&&v?r===Cl(v):!1,I=s?p===g||A:p===`reviewer-${e}`,D=l?T:I,O=y?`./../${e}`:`./${e}`,M=u.order==="dynamic"?`/${f}/${Zr(S.indexOf(u.id))}/${Zr(r)}`:"",$=s?u.order==="dynamic"?M:`/${f}/${Zr(g)}`:`/${f}/reviewer-${e}`,L=l?()=>h(O):()=>h(`${$}${C?`?participantId=${C}`:""}`),z=e.includes(".co.")?".co.":e.includes(".components.")?".components.":!1,B=e.includes("$")&&z&&e.includes(z)?e.split(z).at(-1):e,W=u.order==="dynamic"?Object.entries(d).find(([ne,fe])=>ne===`${u.id}_${S.indexOf(u.id)}_${B}_${r}`):Object.entries(d).find(([ne,fe])=>ne===`${B}_${r}`||ne===`${e}_${r}`),V=W?W[1]:null,X=V&&V.correctAnswer.length>0&&Object.keys(V.answer).length>0&&V.correctAnswer,U=X&&V&&Object.values(X).every(ne=>V.answer[ne.id]===ne.answer),F=V&&X?U?_.jsx(T2,{size:16,style:{marginRight:4,marginBottom:-3},color:"green"}):_.jsx(Av,{size:16,style:{marginRight:4,marginBottom:-3},color:"red"}):null,G=6,q=m&&JSON.stringify(m.response,null,2),[Y,J]=R.useState(G),te=V&&V.correctAnswer.length>0?JSON.stringify(V.correctAnswer,null,2):m&&m.correctAnswer?JSON.stringify(m.correctAnswer,null,2):void 0,[ue,se]=R.useState(G);return _.jsxs(fv,{withinPortal:!0,position:"left",withArrow:!0,arrowSize:10,shadow:"md",offset:0,children:[_.jsx(fv.Target,{children:_.jsx(Q$,{active:D,style:{lineHeight:"32px",height:"32px"},label:_.jsxs(Se,{children:[i&&_.jsx(zt,{label:"Interruption",position:"right",withArrow:!0,children:_.jsx(qVe,{size:16,style:{marginRight:4,marginBottom:-2},color:"orange"})}),e!==B&&_.jsx(zt,{label:"Package import",position:"right",withArrow:!0,children:_.jsx(wWe,{size:16,style:{marginRight:4,marginBottom:-2},color:"blue"})}),(m==null?void 0:m.responseOrder)==="random"&&_.jsx(zt,{label:"Random responses",position:"right",withArrow:!0,children:_.jsx(sWe,{size:16,opacity:.8,style:{marginRight:4,marginTop:-4,verticalAlign:"middle"},color:"black"})}),F,_.jsx(tt,{size:"sm",span:D,fw:D?"700":void 0,display:"inline",style:{textWrap:"nowrap"},children:B})]}),onClick:L,disabled:t&&u.order!=="dynamic"})}),m&&_.jsx(fv.Dropdown,{children:_.jsxs(Se,{mah:700,maw:500,style:{overflow:"auto"},children:[_.jsxs(Se,{children:[_.jsx(tt,{fw:900,display:"inline-block",mr:2,children:"Name:"})," ",_.jsx(tt,{fw:400,component:"span",children:B})]}),m.description&&_.jsxs(Se,{children:[_.jsx(tt,{fw:900,display:"inline-block",mr:2,children:"Description:"})," ",_.jsx(tt,{fw:400,component:"span",children:m.description})]}),("parameters"in m||V)&&_.jsxs(Se,{children:[_.jsx(tt,{fw:900,display:"inline-block",mr:2,children:"Parameters:"})," ",_.jsx(Cf,{block:!0,children:V&&JSON.stringify(Object.keys(V).length>0?V.parameters:"parameters"in m?m.parameters:{},null,2)})]}),V&&Object.keys(V.answer).length>0&&_.jsxs(Se,{children:[_.jsxs(tt,{fw:900,display:"inline-block",mr:2,children:[F,"Participant Answer:"]})," ",_.jsx(Cf,{block:!0,children:JSON.stringify(V.answer,null,2)})]}),te&&_.jsxs(Se,{children:[_.jsx(tt,{fw:900,display:"inline-block",mr:2,children:"Correct Answer:"})," ",_.jsxs(Cf,{block:!0,children:[_.jsx(tt,{size:"xs",lineClamp:ue,children:te}),te.split(`
`).length>G&&_.jsx(Nt,{justify:"flex-end",children:(ue===void 0||te.split(`
`).length>ue)&&_.jsx(qt,{variant:"light",size:"xs",onClick:()=>{se(ne=>ne===G?void 0:G)},children:ue!==void 0?"Show more":"Show less"})})]})]}),_.jsxs(Se,{children:[_.jsx(tt,{fw:900,display:"inline-block",mr:2,children:"Response:"})," ",_.jsxs(Cf,{block:!0,children:[_.jsx(tt,{size:"xs",lineClamp:Y,children:q}),q.split(`
`).length>G&&_.jsx(Nt,{justify:"flex-end",children:(Y===void 0||q.split(`
`).length>Y)&&_.jsx(qt,{variant:"light",size:"xs",onClick:()=>{J(ne=>ne===G?void 0:G)},children:Y!==void 0?"Show more":"Show less"})})]})]}),m.meta&&_.jsxs(Se,{children:[_.jsx(tt,{fw:"900",component:"span",children:"Task Meta: "}),_.jsx(Cf,{block:!0,children:JSON.stringify(m.meta,null,2)})]})]})})]})}function e$({configSequence:e,fullSequence:t,participantSequence:n,participantView:r,studyConfig:i,analysisNavigation:s}){var T;let o=structuredClone(e.components);n&&r&&(o=QHt(structuredClone(e.components),structuredClone(n.components)));const{analysisTab:a}=ha();let l={};a||(l=rr(A=>A.answers)),r||(o=[...((T=e.interruptions)==null?void 0:T.flatMap(A=>A.components))||[],...o||[]]);const u=R.useMemo(()=>n?_d(n).length-MNe(e,n):0,[e,n]),c=R.useMemo(()=>_d(e),[e]),[d,f]=R.useState(u>0),[h]=ch(),p=R.useMemo(()=>h.get("participantId"),[h]),m=Xa(),g=a?[]:Ib(),y=typeof m=="number"&&e.order==="dynamic"&&g[m]===e.id,v=e.id&&g.indexOf(e.id)||-1,w=gh(),E=Ya(),C=()=>E(`/${w}/${Zr(v)}/${Zr(0)}${p?`?participantId=${p}`:""}`),S=[...o,...Object.entries(l).filter(([A,I])=>A.startsWith(`${e.id}_${v}_`)).map(([A,I])=>I.componentName)];return _.jsx(Q$,{active:y,label:_.jsxs(Se,{style:{opacity:u>0?1:.5},children:[_.jsx(tt,{size:"sm",display:"inline",fw:y?900:700,children:e.id?e.id:e.order}),e.order==="random"||e.order==="latinSquare"?_.jsx(zt,{label:e.order,position:"right",withArrow:!0,children:_.jsx(FVe,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}})}):null,r&&_.jsx(nu,{ml:5,variant:"light",children:e.order==="dynamic"?`${Object.keys(l).filter(A=>A.startsWith(`${e.id}_`)).length} / ?`:`${u}/${c.length}`}),r&&e.interruptions&&_.jsx(nu,{ml:5,color:"orange",variant:"light",children:(n==null?void 0:n.components.filter(A=>{var I;return typeof A=="string"&&((I=e.interruptions)==null?void 0:I.flatMap(D=>D.components).includes(A))}).length)||0})]}),opened:d,onClick:()=>e.order==="dynamic"&&!s&&r?C():f(!d),childrenOffset:32,style:{lineHeight:"32px",height:"32px"},children:d?_.jsx(Se,{style:{borderLeft:"1px solid #e9ecef"},children:S.map((A,I)=>{if(typeof A=="string")return _.jsx(JHt,{step:A,disabled:r&&(n==null?void 0:n.components[I])!==A,fullSequence:t,startIndex:I,interruption:e.interruptions&&e.interruptions.findIndex(O=>O.components.includes(A))>-1||!1,participantView:r,studyConfig:i,subSequence:n,analysisNavigation:s,parentBlock:e,parentActive:y,answers:l},I);const D=n==null?void 0:n.components.find(O=>typeof O!="string"&&O.orderPath===A.orderPath);return _.jsx(e$,{configSequence:A,participantSequence:D,fullSequence:t,participantView:r,studyConfig:i,analysisNavigation:s},I)})}):null},e.id)}function FNe(e,t){e==null||e.clearCurrentParticipantId().then(()=>{window.location.href=t}).catch(n=>{console.error(n)})}function vpe({text:e}){return _.jsx(zt,{label:e,multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:_.jsx(XW,{size:16,style:{marginBottom:-3,marginLeft:4}})})}function ZHt(){const e=rr(h=>h.sequence),{toggleStudyBrowser:t}=ps(),n=xu(),r=Ms(),i=gh(),s=UW(`/${i}`),{storageEngine:o}=Wi(),a=Ig(),l=R.useMemo(()=>{let h=structuredClone(n.sequence);return h=YY(h,"root"),h.components.push("end"),h},[n.sequence]),[u,c]=R.useState("participant"),d=R.useMemo(()=>u==="allTrials"||a,[u,a]),f=rr(h=>h.modes);return _.jsxs(Gr.Aside,{className:"studyBrowser",p:"0",children:[_.jsxs(Gr.Section,{p:"sm",pb:0,children:[_.jsxs(Nt,{direction:"row",justify:"space-between",children:[_.jsx(tt,{size:"md",fw:700,pt:3,children:"Study Browser"}),_.jsx(zt,{label:"Go to the sequence of the next participant in the experiment. Sequences can be different between participants due to randomization, etc.",w:280,multiline:!0,disabled:d,children:_.jsx(qt,{variant:"light",leftSection:_.jsx(QW,{size:14}),onClick:()=>FNe(o,s),size:"xs",disabled:d,children:"Next Participant"})}),a?_.jsx(zt,{label:"The study browser cannot be closed in replay mode",withinPortal:!0,children:_.jsx(Kf,{onClick:()=>r(t()),mt:1,disabled:a})}):_.jsx(Kf,{onClick:()=>r(t()),mt:1,disabled:a})]}),_.jsxs(Nt,{direction:"row",justify:"space-between",mt:"xs",opacity:.7,children:[_.jsxs(tt,{size:"sm",children:["Study Status:"," ",f!=null&&f.dataCollectionEnabled?"Collecting Data":"Data Collection Disabled"]}),_.jsxs(Nt,{gap:"sm",children:[f!=null&&f.analyticsInterfacePubliclyAccessible?_.jsx(zt,{label:"Analytics interface publicly accessible",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:_.jsx(Jbe,{size:16,color:"green"})}):_.jsx(zt,{label:"Analytics interface not publicly accessible",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:_.jsx(Qbe,{size:16,color:"red"})}),(o==null?void 0:o.getEngine())==="localStorage"?_.jsx(zt,{label:"Local storage enabled",withinPortal:!0,position:"bottom",children:_.jsx(Gbe,{size:16,color:"green"})}):_.jsx(zt,{label:"Firebase enabled",withinPortal:!0,position:"bottom",children:_.jsx(Xbe,{size:16,color:"green"})})]})]})]}),_.jsx(Gr.Section,{grow:!0,component:Fp,p:"xs",pt:8,children:_.jsxs(mr,{value:u,onChange:c,children:[_.jsx(Se,{style:{position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:_.jsxs(mr.List,{grow:!0,children:[_.jsxs(mr.Tab,{value:"participant",children:["Participant View",_.jsx(vpe,{text:"The Participants View shows items just as a participants would see them, considering randomization, omissions, etc. You can navigate between multiple participants using the next participant button."})]}),_.jsxs(mr.Tab,{value:"allTrials",disabled:a,children:["All Trials View",_.jsx(vpe,{text:"The All Trials View shows all items in the order defined in the config."})]})]})}),_.jsx(mr.Panel,{value:"participant",children:_.jsx(e$,{configSequence:l,participantSequence:e,fullSequence:e,participantView:!0,studyConfig:n})}),_.jsx(mr.Panel,{value:"allTrials",children:_.jsx(e$,{configSequence:l,participantSequence:e,fullSequence:e,participantView:!1,studyConfig:n})})]})})]})}function eqt({studyNavigatorEnabled:e,dataCollectionEnabled:t}){const n=rr(I=>I.config),r=rr(I=>I.answers),i=Ib(),s=Ms(),{toggleShowHelpText:o,toggleStudyBrowser:a,incrementHelpCounter:l}=ps(),{storageEngine:u}=Wi(),c=Bd(),d=R.useMemo(()=>Yu(n.components[c]||{},n),[c,n]),f=Xa(),h=R.useMemo(()=>{const I=Object.values(r).filter(O=>O.endTime>-1).length,D=i.map((O,M)=>n.components[O]?1:typeof f=="number"&&f<=M&&O!=="end"?55:Object.entries(r).filter(([$,L])=>$.includes(`${O}_`)).length).reduce((O,M)=>O+M,0);return I/D*100},[r,f,i,n.components]),[p,m]=R.useState(!1),g=n==null?void 0:n.uiConfig.logoPath,y=R.useMemo(()=>d.withProgressBar??n.uiConfig.withProgressBar,[d,n]),v=R.useMemo(()=>d.showTitle??n.uiConfig.showTitle??!0,[d,n]),w=gh(),E=UW(`/${w}`),C=R.useRef(null),[S,T]=R.useState(!1),A=rr(I=>I.isRecording);return R.useEffect(()=>{const I=C.current;I&&T(I.scrollWidth>I.offsetWidth)},[n]),_.jsx(Gr.Header,{className:"header",p:"md",children:_.jsxs(Rf,{mt:-7,align:"center",children:[_.jsx(Rf.Col,{span:4,children:_.jsxs(Nt,{align:"center",children:[_.jsx(yg,{w:40,src:`${hs}${g}`,alt:"Study Logo",className:"logoImage"}),_.jsx(Gu,{w:"md"}),v?_.jsx(Ii,{ref:C,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:S?n==null?void 0:n.studyMetadata.title:void 0,className:"studyTitle",children:n==null?void 0:n.studyMetadata.title}):null]})}),_.jsx(Rf.Col,{span:4,children:y&&_.jsx(vb,{radius:"md",size:"lg",value:h,className:"progressBar"})}),_.jsx(Rf.Col,{span:4,children:_.jsxs(Pi,{wrap:"nowrap",justify:"right",children:[A?_.jsxs(Pi,{ml:"xl",gap:20,wrap:"nowrap",children:[_.jsx(tt,{color:"red",children:"Recording audio"}),_.jsx(Xxe,{})]}):null,!t&&_.jsx(zt,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:_.jsx(nu,{size:"lg",color:"orange",children:"Demo Mode"})}),(n==null?void 0:n.uiConfig.helpTextPath)!==void 0&&_.jsx(qt,{variant:"outline",onClick:()=>{s(o()),s(l({identifier:`${c}_${f}`}))},children:"Help"}),_.jsxs(mn,{shadow:"md",width:200,withinPortal:!0,opened:p,onChange:m,children:[_.jsx(mn.Target,{children:_.jsx(Jn,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:_.jsx(Ybe,{})})}),_.jsxs(mn.Dropdown,{children:[e&&_.jsx(mn.Item,{leftSection:_.jsx(t1e,{size:14}),onClick:()=>s(a()),children:"Study Browser"}),_.jsx(mn.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:_.jsx(gWe,{size:14}),children:"Contact"}),e&&_.jsx(mn.Item,{leftSection:_.jsx(QW,{size:14}),onClick:()=>FNe(u,E),children:"Next Participant"}),e&&_.jsx(mn.Item,{leftSection:_.jsx(Vbe,{size:14}),component:"a",href:`${hs}analysis/stats/${w}`,children:"Analyze & Manage"})]})]})]})})]})})}function tqt(){const e=xu(),t=Bd(),n=e.components[t],r=R.useMemo(()=>n?Yu(n,e):null,[n,e]),i=kg(),s=(r==null?void 0:r.withSidebar)??e.uiConfig.withSidebar,o=(r==null?void 0:r.instruction)||"",l=R.useMemo(()=>(r==null?void 0:r.instructionLocation)??e.uiConfig.instructionLocation??"sidebar",[r,e])==="sidebar";return s&&r?_.jsxs(Gr.Navbar,{className:"sidebar",bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:[l&&o!==""&&_.jsxs(Gr.Section,{bg:"gray.3",p:"md",children:[_.jsx(tt,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),_.jsx(Bp,{text:o})]}),_.jsx(Gr.Section,{p:"md",children:_.jsx(rN,{status:i,config:r,location:"sidebar"},`${t}-sidebar-response-block`)})]}):_.jsx(Gr.Navbar,{bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:_.jsx(rN,{status:i,config:r,location:"sidebar",style:{display:"hidden"}},`${t}-sidebar-response-block`)})}function nqt(){const e=rr(d=>d.showHelpText),t=rr(d=>d.config),n=Ms(),{toggleShowHelpText:r}=ps(),[i,s]=R.useState(""),[o,a]=R.useState(!0),l=Bd(),u=R.useMemo(()=>Yu(t.components[l]||{},t),[l,t]),c=R.useMemo(()=>u.helpTextPath??t.uiConfig.helpTextPath,[u.helpTextPath,t.uiConfig.helpTextPath]);return R.useEffect(()=>{async function d(){if(!c){a(!1);return}const f=await cM(`${hs}${c}`);f!==void 0&&s(f),a(!1)}d()},[c]),_.jsx(pi,{className:"helpModal",size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:o||i?_.jsx(Bp,{text:i}):_.jsx(Kp,{path:t.uiConfig.helpTextPath})})}function rqt(){const e=rr(o=>o.alertModal),{setAlertModal:t}=ps(),n=Ms(),[r,i]=R.useState(e.show),s=R.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return R.useEffect(()=>i(e.show),[e.show]),_.jsx(pi,{opened:r,centered:!0,size:"lg",withCloseButton:!1,onClose:s,children:_.jsxs($f,{color:"red",radius:"xs",title:"Alert",icon:_.jsx($Ve,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[_.jsx(tt,{my:"md",children:e.message}),_.jsx(Pi,{w:"100%",justify:"end",children:_.jsx(qt,{onClick:s,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}const PR=15,OR=3,bpe=["#4269d0","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e"];function iqt({xScale:e,height:t,currentNode:n,provenance:r,answer:i}){const s=R.useMemo(()=>{var a;const o=new Map;if(o.set("Root","#efb118"),i.provenanceGraph){let l=0;Object.entries(((a=i.provenanceGraph.stimulus)==null?void 0:a.nodes)||{}).forEach(u=>{const[,c]=u;o.has(c.label)||(o.set(c.label,bpe[l]),l=(l+1)%bpe.length)})}return o},[i]);return _.jsxs("g",{style:{cursor:"pointer"},children:[r?Object.entries(r.nodes||{}).map(o=>{const[a,l]=o;return _.jsx("g",{children:_.jsx("rect",{fill:s.get(l.label)||"#9498a0",opacity:l.id===n?1:.7,x:e(l.createdOn)-OR/2,y:t/2-PR/2,width:OR,height:PR})},a)}):null,n&&r&&r.nodes[n]&&_.jsx("rect",{fill:s.get(r.nodes[n].label)||"#9498a0",x:e(r.nodes[n].createdOn)-OR/2,y:t/2-PR/2,width:OR,height:PR}),_.jsx(_V,{position:{bottom:10,left:10},children:_.jsxs(Di,{width:200,position:"bottom",withArrow:!0,shadow:"md",children:[_.jsx(Di.Target,{children:_.jsx(qt,{children:"Show Legend"})}),_.jsx(Di.Dropdown,{children:_.jsx(fs,{children:Array.from(s.keys()).map(o=>_.jsxs(Pi,{children:[_.jsx(YV,{color:s.get(o)}),_.jsx("span",{children:o})]},o))})})]})})]})}const wpe={left:5};function sqt({xScale:e,answers:t,width:n,height:r,currentNode:i,trialName:s}){const o=R.useMemo(()=>Object.entries(t).filter(a=>s?s===a[0]:!0).map(a=>{const[l,u]=a;return Object.keys(u.provenanceGraph).map(d=>{const f=u.provenanceGraph[d];return f?_.jsx(iqt,{answer:t[s],height:r,currentNode:i,xScale:e,provenance:f},l+d):null})}),[i,r,t,s,e]);return _.jsxs("svg",{style:{width:n,height:r},children:[_.jsx("line",{stroke:"black",strokeWidth:1,x1:wpe.left,x2:n+wpe.left,y1:r/2,y2:r/2}),o]})}function LNe(e){const t=R.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return R.useLayoutEffect(()=>{t.current=e}),R.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function oqt({width:e,height:t,updateTimer:n,duration:r,isPlaying:i,xScale:s,startTime:o}){const a=R.useRef(0),l=R.useRef(Date.now()),[u,c]=R.useState(0);R.useEffect(()=>{o&&(a.current=0,n(o,0))},[o,n]);const d=LNe(()=>{if(a.current>=r)return;const h=Date.now();a.current=h-l.current,n(o+a.current,void 0),c(u+1)});R.useEffect(()=>{i&&a.current>=r&&(n(o,0),l.current=Date.now()-a.current,a.current=0)},[o,i,r,n]),R.useEffect(()=>{let h=null;return i&&a.current<r&&(l.current=Date.now()-a.current,h=setInterval(()=>{i&&d()},30)),()=>{h&&clearInterval(h)}},[r,d,i]);const f=R.useCallback(h=>{a.current=s.invert(h.clientX-10)-s.domain()[0],l.current=Date.now()-a.current,c(u+1),n(o+a.current,a.current/r)},[r,u,o,n,s]);return _.jsx("svg",{onClick:f,style:{width:e,height:t,position:"absolute",zIndex:1e4},children:_.jsx("line",{stroke:"#e15759",strokeWidth:3,y1:0,y2:t,x1:s(o+a.current),x2:s(o+a.current)})})}function rq(e){if(Number.isNaN(e))return;if(e<=0)return"0s";const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`,o=t<10?`0${t}`:`${t}`;return`${t>0?`${o}h`:""} ${n>0?`${s}m`:""} ${i}s`}function F9(e,t,n,r,i){const{saveAnalysisState:s}=ps(),o=Ms(),a=R.useMemo(()=>{const l=Sb.create(),u=cA({registry:l,initialState:{}});return n&&u.importObject(structuredClone(n)),u},[n]);R.useEffect(()=>{if(!n){r&&(i(null,e),o(s({prov:null,location:e})));return}if(!r||!n.nodes[r]){i(n.root,e),o(s({prov:a.getState(n.nodes[n.root]),location:e}));return}let l=n.nodes[r];for(;;)if(t<l.createdOn){if(v_e(l))break;{const u=l.parent;l=n.nodes[u]}}else if(l.children.length>0){const u=l.children[0];if(t>n.nodes[u].createdOn)l=n.nodes[u];else break}else break;l.id!==r&&(i(l.id,e),o(s({prov:a.getState(l),location:e})))},[r,t,n,o,s,e,i,a])}const L9={left:0,right:0};function aqt({setTimeString:e}){var Y,J,te,ue;const[t]=ch(),n=R.useMemo(()=>t.get("participantId")||void 0,[t]),{storageEngine:r}=Wi(),i=rr(se=>se.analysisIsPlaying),s=rr(se=>se.analysisHasAudio),{saveAnalysisState:o,setAnalysisHasAudio:a,setAnalysisIsPlaying:l}=ps(),u=Ms(),c=Bd(),d=Xa();R.useEffect(()=>{u(o({prov:void 0,location:"stimulus"}))},[d,o,u]);const[f,{width:h}]=RT(),[p,m]=R.useState(0),[g,y]=R.useState(null),[v,w]=R.useState({aboveStimulus:void 0,belowStimulus:void 0,sidebar:void 0,stimulus:void 0}),[E,C]=R.useState(null),[S,T]=R.useState(0),A=rr(se=>se.answers),[I,D]=R.useState(0),O=R.useRef(null),[M,$]=R.useState(!0),L=R.useRef(null),z=Pb(),B=LNe((se,ne)=>{var ee;const fe=(ee=A[z])==null?void 0:ee.provenanceGraph[ne];fe&&se&&(!E||fe.nodes[se].createdOn>E.time||I<E.time)&&C({name:se||"",time:fe.nodes[se].createdOn}),w({...v,[ne]:se})});F9("aboveStimulus",I,(Y=A[z])==null?void 0:Y.provenanceGraph.aboveStimulus,v.aboveStimulus,B),F9("belowStimulus",I,(J=A[z])==null?void 0:J.provenanceGraph.belowStimulus,v.belowStimulus,B),F9("sidebar",I,(te=A[z])==null?void 0:te.provenanceGraph.sidebar,v.sidebar,B),R.useEffect(()=>{u(l(!1))},[n,c,d,u,l]),R.useEffect(()=>{var se,ne,fe;if(z&&((se=A[z])!=null&&se.provenanceGraph)){const ee=Sb.create(),ie=cA({registry:ee,initialState:{}});(ne=A[z])!=null&&ne.provenanceGraph.stimulus&&(ie.importObject(structuredClone((fe=A[z])==null?void 0:fe.provenanceGraph.stimulus)),L.current=ie)}},[A,z,u]);const W=R.useCallback(se=>{var ne,fe;se&&(z&&L.current&&(u(o({prov:L.current.getState((fe=(ne=A[z])==null?void 0:ne.provenanceGraph.stimulus)==null?void 0:fe.nodes[se]),location:"stimulus"})),L.current.to(se)),B(se,"stimulus"),y(se))},[z,B,u,o,A]);R.useEffect(()=>{var fe,ee;if(!z||!L.current||!((fe=A[z])!=null&&fe.provenanceGraph))return;const se=(ee=A[z])==null?void 0:ee.provenanceGraph;if(!se.stimulus)return;if(!g||!se.stimulus.nodes[g]){W(se.stimulus.root);return}let ne=se.stimulus.nodes[g];for(;;)if(I<ne.createdOn){if(v_e(ne))break;{const ie=ne.parent;ne=se.stimulus.nodes[ie]}}else if(ne.children.length>0){const ie=ne.children[0];if(I>se.stimulus.nodes[ie].createdOn)ne=se.stimulus.nodes[ie];else break}else break;ne.id!==g&&W(ne.id)},[W,g,n,I,z,A]);const V=R.useMemo(()=>{var se;return((se=A[z])==null?void 0:se.startTime)||0},[A,z]);R.useEffect(()=>{S===0?e(""):I!==0&&e(`${rq(I-V)} / ${rq(S*1e3)}`)},[z,I,e,V,S]),R.useEffect(()=>{var se,ne;if(!s){const fe=((se=A[z])==null?void 0:se.endTime)-((ne=A[z])==null?void 0:ne.startTime);T(fe>-1?fe/1e3:0)}},[s,A,z]);const X=Ig(),U=R.useRef(null),F=R.useCallback(async se=>{if(U.current=se,se&&X&&z&&r)try{if(!n)throw new Error("Participant ID is required to load audio");const ne=await r.getAudio(z,n);await se.load(ne),$(!1),u(a(!0)),T(se.getDuration()),m(se.getWidth()),se.seekTo(0),se.on("redrawcomplete",()=>m(se.getWidth()))}catch(ne){throw u(a(!1)),new Error(ne)}else u(a(!1)),T(0)},[X,z,r,n,u,a]),G=tFe((se,ne)=>{const fe=S*1e3+V;if(se>fe){u(l(!1)),D(se);return}D(se),U.current&&ne!==void 0&&setTimeout(()=>{var ee;(ee=U.current)==null||ee.seekTo(ne)})},100);R.useEffect(()=>{U.current&&(i?U.current.play():U.current.pause())},[U,i,S,V,D]);const q=R.useMemo(()=>{var fe,ee,ie,he,ye;if(!((fe=A[z])!=null&&fe.startTime)||!((ee=A[z])!=null&&ee.endTime))return null;const se=S>0?((ie=A[z])==null?void 0:ie.startTime)+S*1e3:(he=A[z])==null?void 0:he.endTime;return G2([L9.left,h+L9.left+L9.right]).domain([(ye=A[z])==null?void 0:ye.startTime,se]).clamp(!0)},[A,z,S,h]);return R.useEffect(()=>{F(U.current)},[G,F,n,U]),_.jsx(Pi,{wrap:"nowrap",gap:10,mx:10,children:_.jsxs(fs,{ref:f,style:{width:"100%"},gap:0,children:[_.jsx(xd,{}),n!==void 0&&z?_.jsxs(Se,{ref:O,style:{overflow:"hidden",width:"100%",pointerEvents:"none"},display:s?"block":"none",id:"waveformDiv",children:[_.jsx(Wxe,{onMount:F,plugins:[],container:"#waveformDiv",height:50,waveColor:"#484848",progressColor:"#e15759",barHeight:0,cursorColor:"rgba(0, 0, 0, 0)",children:_.jsx(Gxe,{id:"waveform",height:50})}),M?_.jsx(Od,{}):null]}):null,q&&z&&((ue=A[z])!=null&&ue.provenanceGraph)?_.jsx(sqt,{xScale:q,trialName:z,currentNode:(E==null?void 0:E.name)||"",answers:A,width:p||h,height:25}):null,q?_.jsx(oqt,{duration:S*1e3,height:(s?50:0)+25,isPlaying:i,startTime:V,width:h,xScale:q,updateTimer:G}):null]})})}function lqt(e){return e?e.getAllParticipantIds():null}function uqt(){const[e]=ch(),t=R.useMemo(()=>e.get("participantId")||void 0,[e]),n=Bd(),r=Xa(),{funcIndex:i}=ha(),s=Ya(),o=xu(),{setAnalysisIsPlaying:a}=ps(),l=Ms(),u=rr(E=>E.analysisIsPlaying),c=rr(E=>E.answers),{storageEngine:d}=Wi(),{value:f}=ZY(lqt,[d]),[h,p]=R.useMemo(()=>{if(f&&t&&n){const E=f.findIndex(T=>T===t),C=E<f.length-1?f[E+1]:f[0],S=E>0?f[E-1]:f[f.length-1];return[[C,r],[S,r]]}return[["",0],["",0]]},[f,n,r,t]),[m,g]=R.useState(""),y=R.useMemo(()=>_d(o.sequence),[o.sequence]),v=R.useMemo(()=>r===0,[r]),w=R.useMemo(()=>r===y.length,[r,y.length]);return _.jsx(Gr.Footer,{zIndex:101,withBorder:!1,children:_.jsxs(Se,{style:{backgroundColor:"var(--mantine-color-blue-1)",height:"150px"},children:[_.jsx(aqt,{setTimeString:g}),_.jsx(xd,{children:_.jsxs(Pi,{gap:"xs",style:{height:"50px"},children:[_.jsx(tt,{size:"sm",ff:"monospace",children:m}),_.jsx(Jn,{variant:"filled",size:30,onClick:()=>l(a(!u)),children:u?_.jsx($We,{}):_.jsx(MWe,{})}),_.jsx(tt,{mx:"0",children:"Participant:"}),_.jsx(vg,{style:{width:"300px"},value:t||"",onChange:E=>{s(`./../${Zr(0)}?participantId=${E}`)},data:f||[]}),_.jsx(qt,{disabled:v,onClick:()=>{i?Cl(i)>0?s(`../${Zr(Cl(i)-1)}?participantId=${t}`,{relative:"path"}):s(`../../${Zr(+r-1)}?participantId=${t}`,{relative:"path"}):s(`../${Zr(+r-1)}?participantId=${t}`,{relative:"path"})},children:_.jsx(p7,{})}),_.jsx(qt,{disabled:w,onClick:()=>{if(i){const E=y[r],C=Object.keys(c).filter(S=>S.startsWith(`${E}_${r}_`));Cl(i)>=C.length?s(`../../${Zr(+r+1)}?participantId=${t}`,{relative:"path"}):s(`../${Zr(Cl(i)+1)}?participantId=${t}`,{relative:"path"})}else s(`../${Zr(+r+1)}?participantId=${t}`,{relative:"path"})},children:_.jsx(Mie,{})}),_.jsxs(qt,{px:"xs",disabled:p[0]===t,onClick:()=>s(`./../${Zr(i?0:p[1])}?participantId=${p[0]}`),children:[_.jsx(p7,{}),_.jsx(Fie,{})]}),_.jsxs(qt,{px:"xs",disabled:h[0]===t,onClick:()=>s(`./../${Zr(i?0:h[1])}?participantId=${h[0]}`),children:[_.jsx(Fie,{}),_.jsx(Mie,{})]})]})})]})})}function cqt(){const e=xu(),t=e.uiConfig.minWidthSize,n=e.uiConfig.minHeightSize,[r,i]=R.useState(!1),[s,o]=R.useState(!1),[a,l]=R.useState(60),[u,c]=R.useState(!1),d=R.useRef(null),{storageEngine:f}=Wi(),h=gh(),p=Ya();return R.useEffect(()=>{const m=()=>{if(t===void 0||n===void 0)return;const g=window.innerWidth<t,y=window.innerHeight<n,v=g||y,w=()=>{l(60),d.current&&(clearInterval(d.current),d.current=null),d.current=setInterval(()=>{l(E=>E<=1?(d.current&&(clearInterval(d.current),d.current=null),f&&!s&&(o(!0),c(!0),f.rejectCurrentParticipant("Screen resolution too small").catch(()=>{console.error("Failed to reject participant who failed training")})),0):E-1)},1e3)};s||(v?(i(!0),d.current===null&&w()):(i(!1),w()))};return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m),d.current&&clearInterval(d.current)}},[t,n,f,h,p,s]),r?_.jsx(pi,{opened:r,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:_.jsxs(fs,{align:"center",justify:"center",children:[_.jsx(jw,{size:64,color:"orange"}),_.jsx(Ii,{order:3,children:" Screen Resolution Warning "}),_.jsx(tt,{size:"md",ta:"center",children:u?_.jsxs(_.Fragment,{children:["Thank you for participating in this study. You have been timed out and will not be able to continue.",_.jsx("br",{}),"You may now close this page."]}):_.jsxs(_.Fragment,{children:["Your screen resolution is below the minimum requirement:",_.jsx("br",{}),t!==void 0&&` Width: ${t}px`,n!==void 0&&` Height: ${n}px`,_.jsx("br",{}),"Please resize your browser window to the minimum required size within"," ",a," ","seconds."]})})]})}):null}function dqt(){const e=R.useRef([]),t=Ms(),{toggleStudyBrowser:n}=ps(),r=xu(),i=Bd(),s=R.useMemo(()=>Yu(r.components[i]||{},r),[i,r]),o=R.useMemo(()=>s.windowEventDebounceTime??r.uiConfig.windowEventDebounceTime??100,[s,r]);JY(r==null?void 0:r.uiConfig.stylesheetPath);const a=rr(y=>y.showStudyBrowser),l=rr(y=>y.analysisHasAudio),u=rr(y=>y.modes);R.useEffect(()=>{const y=ff(O=>{e.current.push([Date.now(),"focus",O.target instanceof HTMLElement?O.target.tagName:""])},o,{maxWait:o}),v=ff(O=>{e.current.push([Date.now(),"input",O.data??""])},o,{maxWait:o}),w=ff(O=>{e.current.push([Date.now(),"keydown",O.key])},o,{maxWait:o}),E=ff(O=>{e.current.push([Date.now(),"keyup",O.key])},o,{maxWait:o}),C=ff(O=>{e.current.push([Date.now(),"mousedown",[O.clientX,O.clientY]])},o,{maxWait:o}),S=ff(O=>{e.current.push([Date.now(),"mouseup",[O.clientX,O.clientY]])},o,{maxWait:o}),T=ff(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},o,{maxWait:o}),A=ff(O=>{e.current.push([Date.now(),"mousemove",[O.clientX,O.clientY]])},o,{maxWait:o}),I=ff(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},o,{maxWait:o}),D=ff(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},o,{maxWait:o});return window.addEventListener("focus",y,!0),window.addEventListener("input",v),window.addEventListener("keydown",w),window.addEventListener("keyup",E),window.addEventListener("mousedown",C),window.addEventListener("mouseup",S),window.addEventListener("resize",T),window.addEventListener("mousemove",A),window.addEventListener("scroll",I),document.addEventListener("visibilitychange",D),()=>{window.removeEventListener("focus",y,!0),window.removeEventListener("input",v),window.removeEventListener("keydown",w),window.removeEventListener("keyup",E),window.removeEventListener("mousedown",C),window.removeEventListener("mouseup",S),window.removeEventListener("resize",T),window.removeEventListener("mousemove",A),window.removeEventListener("scroll",I),document.removeEventListener("visibilitychange",D)}},[]);const{studyNavigatorEnabled:c,dataCollectionEnabled:d}=R.useMemo(()=>u,[u]),f=R.useMemo(()=>s.withSidebar??r.uiConfig.withSidebar,[s,r]),h=R.useMemo(()=>(s==null?void 0:s.sidebarWidth)??r.uiConfig.sidebarWidth??300,[s,r]),p=R.useMemo(()=>s.showTitleBar??r.uiConfig.showTitleBar??!0,[s,r]),m=Ig(),g=R.useMemo(()=>m?!0:c&&a,[c,a,m]);return _.jsx(U2e.Provider,{value:e,children:_.jsxs(Gr,{padding:"md",header:{height:p?70:0},navbar:{width:h,breakpoint:"xs",collapsed:{desktop:!f,mobile:!f}},aside:{width:360,breakpoint:"xs",collapsed:{desktop:!g,mobile:!g}},footer:{height:(m?75:0)+(l?50:0)},children:[_.jsx(tqt,{}),_.jsx(ZHt,{}),p&&_.jsx(eqt,{studyNavigatorEnabled:c,dataCollectionEnabled:d}),_.jsx(cqt,{}),_.jsx(nqt,{}),_.jsx(rqt,{}),_.jsxs(Gr.Main,{className:"main",style:{display:"flex",flexDirection:"column"},children:[!p&&!a&&c&&_.jsx(qt,{variant:"transparent",leftSection:_.jsx(p7,{size:14}),onClick:()=>t(n()),size:"xs",style:{position:"fixed",top:"10px",right:"10px"},children:"Study Browser"}),_.jsx(qqe,{})]}),m&&_.jsx(uqt,{})]})})}function fqt(e,t=!1){return typeof e=="number"?xpe(e,t):xpe(e.length,t).map(r=>r.map(i=>e[i]))}function xpe(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function jNe(e,t,n){if(tc(e))return{id:e.id,orderPath:n,order:e.order,components:[],skip:[]};let r=e.components;e.order==="random"?r=e.components.sort(()=>.5-Math.random()):e.order==="latinSquare"&&t&&(r=t[n].pop().map(i=>i.startsWith("_componentBlock")?e.components[+i.slice(15)]:i)),r=r.slice(0,e.numSamples);for(let i=0;i<r.length;i+=1){const s=r[i];if(typeof s!="string"&&!Array.isArray(s)){const o=e.components.indexOf(s);r[i]=jNe(s,t,`${n}-${o}`)}}return e.interruptions&&e.interruptions.forEach(i=>{const s=[];if(i.spacing!=="random")for(let o=0;o<r.length;o+=1)(o===i.firstLocation||o>i.firstLocation&&o%i.spacing===0)&&s.push(...i.components),s.push(r[o]);if(i.spacing==="random"){const o=new Set;if(i.numInterruptions>r.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;o.size<i.numInterruptions;){const u=Math.floor(Math.random()*r.length-1)+1;o.add(u)}const a=Array.from(o).sort((u,c)=>u-c);let l=0;for(let u=0;u<r.length;u+=1)u===a[l]&&(s.push(...i.components),l+=1),s.push(r[u])}r=s}),{id:e.id,orderPath:n,order:e.order,components:r.flat(),skip:e.skip}}function hqt(e,t){const n=structuredClone(e);return jNe(n,t,"root")}function BNe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),!tc(e)&&e.components.forEach((s,o)=>{typeof s!="string"&&!tc(s)&&BNe(s,t,i,o)})}function pqt(e){const t=[];return BNe(e,t,"",0),t}function _pe(e,t){const n=t.split("-");let r={};n.forEach(o=>{if(o==="root")r=e.sequence;else{if(tc(r))return;r=r.components[+o]}});const i=r.components.map((o,a)=>typeof o=="string"?o:`_componentBlock${a}`);return fqt(i.sort(()=>.5-Math.random()),!0)}function Epe(e){const n=pqt(e.sequence).map(s=>({[s]:_pe(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=hqt(e.sequence,n);s.components.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=_pe(e,o))})}),i}var NR={exports:{}},j9={},Kh={},xy={},B9={},z9={},U9={},Cpe;function t$(){return Cpe||(Cpe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((w,E)=>`${w}${E}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((w,E)=>(E instanceof n&&(w[E.str]=(w[E.str]||0)+1),w),{})}}e._Code=r,e.nil=new r("");function i(y,...v){const w=[y[0]];let E=0;for(;E<v.length;)a(w,v[E]),w.push(y[++E]);return new r(w)}e._=i;const s=new r("+");function o(y,...v){const w=[h(y[0])];let E=0;for(;E<v.length;)w.push(s),a(w,v[E]),w.push(s,h(y[++E]));return l(w),new r(w)}e.str=o;function a(y,v){v instanceof r?y.push(...v._items):v instanceof n?y.push(v):y.push(d(v))}e.addCodeArg=a;function l(y){let v=1;for(;v<y.length-1;){if(y[v]===s){const w=u(y[v-1],y[v+1]);if(w!==void 0){y.splice(v-1,3,w);continue}y[v++]="+"}v++}}function u(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof n||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof n))return`"${y}${v.slice(1)}`}function c(y,v){return v.emptyStr()?y:y.emptyStr()?v:o`${y}${v}`}e.strConcat=c;function d(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function f(y){return new r(h(y))}e.stringify=f;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}e.getProperty=p;function m(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(y){return new r(y.toString())}e.regexpCode=g}(U9)),U9}var H9={},Spe;function Tpe(){return Spe||(Spe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=t$();class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class s extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(u),{prefix:h}=f,p=(d=c.key)!==null&&d!==void 0?d:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,f);const g=this._scope[h]||(this._scope[h]=[]),y=g.length;return g[y]=c.ref,f.setValue(c,{property:h,itemIndex:y}),f}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},c,d)}_reduceValues(u,c,d={},f){let h=t.nil;for(const p in u){const m=u[p];if(!m)continue;const g=d[p]=d[p]||new Map;m.forEach(y=>{if(g.has(y))return;g.set(y,r.Started);let v=c(y);if(v){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${w} ${y} = ${v};${this.opts._n}`}else if(v=f==null?void 0:f(y))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(y);g.set(y,r.Completed)})}return h}}e.ValueScope=a}(H9)),H9}var Ape;function Gn(){return Ape||(Ape=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=t$(),n=Tpe();var r=t$();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Tpe();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(Y,J){return this}}class o extends s{constructor(Y,J,te){super(),this.varKind=Y,this.name=J,this.rhs=te}render({es5:Y,_n:J}){const te=Y?n.varKinds.var:this.varKind,ue=this.rhs===void 0?"":` = ${this.rhs}`;return`${te} ${this.name}${ue};`+J}optimizeNames(Y,J){if(Y[this.name.str])return this.rhs&&(this.rhs=L(this.rhs,Y,J)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(Y,J,te){super(),this.lhs=Y,this.rhs=J,this.sideEffects=te}render({_n:Y}){return`${this.lhs} = ${this.rhs};`+Y}optimizeNames(Y,J){if(!(this.lhs instanceof t.Name&&!Y[this.lhs.str]&&!this.sideEffects))return this.rhs=L(this.rhs,Y,J),this}get names(){const Y=this.lhs instanceof t.Name?{}:{...this.lhs.names};return $(Y,this.rhs)}}class l extends a{constructor(Y,J,te,ue){super(Y,te,ue),this.op=J}render({_n:Y}){return`${this.lhs} ${this.op}= ${this.rhs};`+Y}}class u extends s{constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`${this.label}:`+Y}}class c extends s{constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`break${this.label?` ${this.label}`:""};`+Y}}class d extends s{constructor(Y){super(),this.error=Y}render({_n:Y}){return`throw ${this.error};`+Y}get names(){return this.error.names}}class f extends s{constructor(Y){super(),this.code=Y}render({_n:Y}){return`${this.code};`+Y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Y,J){return this.code=L(this.code,Y,J),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(Y=[]){super(),this.nodes=Y}render(Y){return this.nodes.reduce((J,te)=>J+te.render(Y),"")}optimizeNodes(){const{nodes:Y}=this;let J=Y.length;for(;J--;){const te=Y[J].optimizeNodes();Array.isArray(te)?Y.splice(J,1,...te):te?Y[J]=te:Y.splice(J,1)}return Y.length>0?this:void 0}optimizeNames(Y,J){const{nodes:te}=this;let ue=te.length;for(;ue--;){const se=te[ue];se.optimizeNames(Y,J)||(z(Y,se.names),te.splice(ue,1))}return te.length>0?this:void 0}get names(){return this.nodes.reduce((Y,J)=>M(Y,J.names),{})}}class p extends h{render(Y){return"{"+Y._n+super.render(Y)+"}"+Y._n}}class m extends h{}class g extends p{}g.kind="else";class y extends p{constructor(Y,J){super(J),this.condition=Y}render(Y){let J=`if(${this.condition})`+super.render(Y);return this.else&&(J+="else "+this.else.render(Y)),J}optimizeNodes(){super.optimizeNodes();const Y=this.condition;if(Y===!0)return this.nodes;let J=this.else;if(J){const te=J.optimizeNodes();J=this.else=Array.isArray(te)?new g(te):te}if(J)return Y===!1?J instanceof y?J:J.nodes:this.nodes.length?this:new y(B(Y),J instanceof y?[J]:J.nodes);if(!(Y===!1||!this.nodes.length))return this}optimizeNames(Y,J){var te;if(this.else=(te=this.else)===null||te===void 0?void 0:te.optimizeNames(Y,J),!!(super.optimizeNames(Y,J)||this.else))return this.condition=L(this.condition,Y,J),this}get names(){const Y=super.names;return $(Y,this.condition),this.else&&M(Y,this.else.names),Y}}y.kind="if";class v extends p{}v.kind="for";class w extends v{constructor(Y){super(),this.iteration=Y}render(Y){return`for(${this.iteration})`+super.render(Y)}optimizeNames(Y,J){if(super.optimizeNames(Y,J))return this.iteration=L(this.iteration,Y,J),this}get names(){return M(super.names,this.iteration.names)}}class E extends v{constructor(Y,J,te,ue){super(),this.varKind=Y,this.name=J,this.from=te,this.to=ue}render(Y){const J=Y.es5?n.varKinds.var:this.varKind,{name:te,from:ue,to:se}=this;return`for(${J} ${te}=${ue}; ${te}<${se}; ${te}++)`+super.render(Y)}get names(){const Y=$(super.names,this.from);return $(Y,this.to)}}class C extends v{constructor(Y,J,te,ue){super(),this.loop=Y,this.varKind=J,this.name=te,this.iterable=ue}render(Y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Y)}optimizeNames(Y,J){if(super.optimizeNames(Y,J))return this.iterable=L(this.iterable,Y,J),this}get names(){return M(super.names,this.iterable.names)}}class S extends p{constructor(Y,J,te){super(),this.name=Y,this.args=J,this.async=te}render(Y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(Y)}}S.kind="func";class T extends h{render(Y){return"return "+super.render(Y)}}T.kind="return";class A extends p{render(Y){let J="try"+super.render(Y);return this.catch&&(J+=this.catch.render(Y)),this.finally&&(J+=this.finally.render(Y)),J}optimizeNodes(){var Y,J;return super.optimizeNodes(),(Y=this.catch)===null||Y===void 0||Y.optimizeNodes(),(J=this.finally)===null||J===void 0||J.optimizeNodes(),this}optimizeNames(Y,J){var te,ue;return super.optimizeNames(Y,J),(te=this.catch)===null||te===void 0||te.optimizeNames(Y,J),(ue=this.finally)===null||ue===void 0||ue.optimizeNames(Y,J),this}get names(){const Y=super.names;return this.catch&&M(Y,this.catch.names),this.finally&&M(Y,this.finally.names),Y}}class I extends p{constructor(Y){super(),this.error=Y}render(Y){return`catch(${this.error})`+super.render(Y)}}I.kind="catch";class D extends p{render(Y){return"finally"+super.render(Y)}}D.kind="finally";class O{constructor(Y,J={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...J,_n:J.lines?`
`:""},this._extScope=Y,this._scope=new n.Scope({parent:Y}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(Y){return this._scope.name(Y)}scopeName(Y){return this._extScope.name(Y)}scopeValue(Y,J){const te=this._extScope.value(Y,J);return(this._values[te.prefix]||(this._values[te.prefix]=new Set)).add(te),te}getScopeValue(Y,J){return this._extScope.getValue(Y,J)}scopeRefs(Y){return this._extScope.scopeRefs(Y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Y,J,te,ue){const se=this._scope.toName(J);return te!==void 0&&ue&&(this._constants[se.str]=te),this._leafNode(new o(Y,se,te)),se}const(Y,J,te){return this._def(n.varKinds.const,Y,J,te)}let(Y,J,te){return this._def(n.varKinds.let,Y,J,te)}var(Y,J,te){return this._def(n.varKinds.var,Y,J,te)}assign(Y,J,te){return this._leafNode(new a(Y,J,te))}add(Y,J){return this._leafNode(new l(Y,e.operators.ADD,J))}code(Y){return typeof Y=="function"?Y():Y!==t.nil&&this._leafNode(new f(Y)),this}object(...Y){const J=["{"];for(const[te,ue]of Y)J.length>1&&J.push(","),J.push(te),(te!==ue||this.opts.es5)&&(J.push(":"),(0,t.addCodeArg)(J,ue));return J.push("}"),new t._Code(J)}if(Y,J,te){if(this._blockNode(new y(Y)),J&&te)this.code(J).else().code(te).endIf();else if(J)this.code(J).endIf();else if(te)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(Y){return this._elseNode(new y(Y))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(Y,J){return this._blockNode(Y),J&&this.code(J).endFor(),this}for(Y,J){return this._for(new w(Y),J)}forRange(Y,J,te,ue,se=this.opts.es5?n.varKinds.var:n.varKinds.let){const ne=this._scope.toName(Y);return this._for(new E(se,ne,J,te),()=>ue(ne))}forOf(Y,J,te,ue=n.varKinds.const){const se=this._scope.toName(Y);if(this.opts.es5){const ne=J instanceof t.Name?J:this.var("_arr",J);return this.forRange("_i",0,(0,t._)`${ne}.length`,fe=>{this.var(se,(0,t._)`${ne}[${fe}]`),te(se)})}return this._for(new C("of",ue,se,J),()=>te(se))}forIn(Y,J,te,ue=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(Y,(0,t._)`Object.keys(${J})`,te);const se=this._scope.toName(Y);return this._for(new C("in",ue,se,J),()=>te(se))}endFor(){return this._endBlockNode(v)}label(Y){return this._leafNode(new u(Y))}break(Y){return this._leafNode(new c(Y))}return(Y){const J=new T;if(this._blockNode(J),this.code(Y),J.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(Y,J,te){if(!J&&!te)throw new Error('CodeGen: "try" without "catch" and "finally"');const ue=new A;if(this._blockNode(ue),this.code(Y),J){const se=this.name("e");this._currNode=ue.catch=new I(se),J(se)}return te&&(this._currNode=ue.finally=new D,this.code(te)),this._endBlockNode(I,D)}throw(Y){return this._leafNode(new d(Y))}block(Y,J){return this._blockStarts.push(this._nodes.length),Y&&this.code(Y).endBlock(J),this}endBlock(Y){const J=this._blockStarts.pop();if(J===void 0)throw new Error("CodeGen: not in self-balancing block");const te=this._nodes.length-J;if(te<0||Y!==void 0&&te!==Y)throw new Error(`CodeGen: wrong number of nodes: ${te} vs ${Y} expected`);return this._nodes.length=J,this}func(Y,J=t.nil,te,ue){return this._blockNode(new S(Y,J,te)),ue&&this.code(ue).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(Y=1){for(;Y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Y){return this._currNode.nodes.push(Y),this}_blockNode(Y){this._currNode.nodes.push(Y),this._nodes.push(Y)}_endBlockNode(Y,J){const te=this._currNode;if(te instanceof Y||J&&te instanceof J)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${J?`${Y.kind}/${J.kind}`:Y.kind}"`)}_elseNode(Y){const J=this._currNode;if(!(J instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=J.else=Y,this}get _root(){return this._nodes[0]}get _currNode(){const Y=this._nodes;return Y[Y.length-1]}set _currNode(Y){const J=this._nodes;J[J.length-1]=Y}}e.CodeGen=O;function M(q,Y){for(const J in Y)q[J]=(q[J]||0)+(Y[J]||0);return q}function $(q,Y){return Y instanceof t._CodeOrName?M(q,Y.names):q}function L(q,Y,J){if(q instanceof t.Name)return te(q);if(!ue(q))return q;return new t._Code(q._items.reduce((se,ne)=>(ne instanceof t.Name&&(ne=te(ne)),ne instanceof t._Code?se.push(...ne._items):se.push(ne),se),[]));function te(se){const ne=J[se.str];return ne===void 0||Y[se.str]!==1?se:(delete Y[se.str],ne)}function ue(se){return se instanceof t._Code&&se._items.some(ne=>ne instanceof t.Name&&Y[ne.str]===1&&J[ne.str]!==void 0)}}function z(q,Y){for(const J in Y)q[J]=(q[J]||0)-(Y[J]||0)}function B(q){return typeof q=="boolean"||typeof q=="number"||q===null?!q:(0,t._)`!${G(q)}`}e.not=B;const W=F(e.operators.AND);function V(...q){return q.reduce(W)}e.and=V;const X=F(e.operators.OR);function U(...q){return q.reduce(X)}e.or=U;function F(q){return(Y,J)=>Y===t.nil?J:J===t.nil?Y:(0,t._)`${G(Y)} ${q} ${G(J)}`}function G(q){return q instanceof t.Name?q:(0,t._)`(${q})`}}(z9)),z9}var Mn={},kpe;function Tr(){if(kpe)return Mn;kpe=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.checkStrictMode=Mn.getErrorPath=Mn.Type=Mn.useFunc=Mn.setEvaluated=Mn.evaluatedPropsToName=Mn.mergeEvaluated=Mn.eachItem=Mn.unescapeJsonPointer=Mn.escapeJsonPointer=Mn.escapeFragment=Mn.unescapeFragment=Mn.schemaRefOrVal=Mn.schemaHasRulesButRef=Mn.schemaHasRules=Mn.checkUnknownRules=Mn.alwaysValidSchema=Mn.toHash=void 0;const e=Gn(),t=t$();function n(C){const S={};for(const T of C)S[T]=!0;return S}Mn.toHash=n;function r(C,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(i(C,S),!s(S,C.self.RULES.all))}Mn.alwaysValidSchema=r;function i(C,S=C.schema){const{opts:T,self:A}=C;if(!T.strictSchema||typeof S=="boolean")return;const I=A.RULES.keywords;for(const D in S)I[D]||E(C,`unknown keyword: "${D}"`)}Mn.checkUnknownRules=i;function s(C,S){if(typeof C=="boolean")return!C;for(const T in C)if(S[T])return!0;return!1}Mn.schemaHasRules=s;function o(C,S){if(typeof C=="boolean")return!C;for(const T in C)if(T!=="$ref"&&S.all[T])return!0;return!1}Mn.schemaHasRulesButRef=o;function a({topSchemaRef:C,schemaPath:S},T,A,I){if(!I){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${C}${S}${(0,e.getProperty)(A)}`}Mn.schemaRefOrVal=a;function l(C){return d(decodeURIComponent(C))}Mn.unescapeFragment=l;function u(C){return encodeURIComponent(c(C))}Mn.escapeFragment=u;function c(C){return typeof C=="number"?`${C}`:C.replace(/~/g,"~0").replace(/\//g,"~1")}Mn.escapeJsonPointer=c;function d(C){return C.replace(/~1/g,"/").replace(/~0/g,"~")}Mn.unescapeJsonPointer=d;function f(C,S){if(Array.isArray(C))for(const T of C)S(T);else S(C)}Mn.eachItem=f;function h({mergeNames:C,mergeToName:S,mergeValues:T,resultToName:A}){return(I,D,O,M)=>{const $=O===void 0?D:O instanceof e.Name?(D instanceof e.Name?C(I,D,O):S(I,D,O),O):D instanceof e.Name?(S(I,O,D),D):T(D,O);return M===e.Name&&!($ instanceof e.Name)?A(I,$):$}}Mn.mergeEvaluated={props:h({mergeNames:(C,S,T)=>C.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>{C.if((0,e._)`${S} === true`,()=>C.assign(T,!0),()=>C.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${S})`))}),mergeToName:(C,S,T)=>C.if((0,e._)`${T} !== true`,()=>{S===!0?C.assign(T,!0):(C.assign(T,(0,e._)`${T} || {}`),m(C,T,S))}),mergeValues:(C,S)=>C===!0?!0:{...C,...S},resultToName:p}),items:h({mergeNames:(C,S,T)=>C.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>C.assign(T,(0,e._)`${S} === true ? true : ${T} > ${S} ? ${T} : ${S}`)),mergeToName:(C,S,T)=>C.if((0,e._)`${T} !== true`,()=>C.assign(T,S===!0?!0:(0,e._)`${T} > ${S} ? ${T} : ${S}`)),mergeValues:(C,S)=>C===!0?!0:Math.max(C,S),resultToName:(C,S)=>C.var("items",S)})};function p(C,S){if(S===!0)return C.var("props",!0);const T=C.var("props",(0,e._)`{}`);return S!==void 0&&m(C,T,S),T}Mn.evaluatedPropsToName=p;function m(C,S,T){Object.keys(T).forEach(A=>C.assign((0,e._)`${S}${(0,e.getProperty)(A)}`,!0))}Mn.setEvaluated=m;const g={};function y(C,S){return C.scopeValue("func",{ref:S,code:g[S.code]||(g[S.code]=new t._Code(S.code))})}Mn.useFunc=y;var v;(function(C){C[C.Num=0]="Num",C[C.Str=1]="Str"})(v||(Mn.Type=v={}));function w(C,S,T){if(C instanceof e.Name){const A=S===v.Num;return T?A?(0,e._)`"[" + ${C} + "]"`:(0,e._)`"['" + ${C} + "']"`:A?(0,e._)`"/" + ${C}`:(0,e._)`"/" + ${C}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(C).toString():"/"+c(C)}Mn.getErrorPath=w;function E(C,S,T=C.opts.strictSchema){if(T){if(S=`strict mode: ${S}`,T===!0)throw new Error(S);C.self.logger.warn(S)}}return Mn.checkStrictMode=E,Mn}var $R={},Ipe;function Ug(){if(Ipe)return $R;Ipe=1,Object.defineProperty($R,"__esModule",{value:!0});const e=Gn(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return $R.default=t,$R}var Rpe;function v5(){return Rpe||(Rpe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Gn(),n=Tr(),r=Ug();e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,y=e.keywordError,v,w){const{it:E}=g,{gen:C,compositeRule:S,allErrors:T}=E,A=d(g,y,v);w??(S||T)?l(C,A):u(E,(0,t._)`[${A}]`)}e.reportError=i;function s(g,y=e.keywordError,v){const{it:w}=g,{gen:E,compositeRule:C,allErrors:S}=w,T=d(g,y,v);l(E,T),C||S||u(w,r.default.vErrors)}e.reportExtraError=s;function o(g,y){g.assign(r.default.errors,y),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${r.default.vErrors}.length`,y),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:g,keyword:y,schemaValue:v,data:w,errsCount:E,it:C}){if(E===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",E,r.default.errors,T=>{g.const(S,(0,t._)`${r.default.vErrors}[${T}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(r.default.instancePath,C.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${C.errSchemaPath}/${y}`),C.opts.verbose&&(g.assign((0,t._)`${S}.schema`,v),g.assign((0,t._)`${S}.data`,w))})}e.extendErrors=a;function l(g,y){const v=g.const("err",y);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),g.code((0,t._)`${r.default.errors}++`)}function u(g,y){const{gen:v,validateName:w,schemaEnv:E}=g;E.$async?v.throw((0,t._)`new ${g.ValidationError}(${y})`):(v.assign((0,t._)`${w}.errors`,y),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(g,y,v){const{createErrors:w}=g.it;return w===!1?(0,t._)`{}`:f(g,y,v)}function f(g,y,v={}){const{gen:w,it:E}=g,C=[h(E,v),p(g,v)];return m(g,y,C),w.object(...C)}function h({errorPath:g},{instancePath:y}){const v=y?(0,t.str)`${g}${(0,n.getErrorPath)(y,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:g,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:w}){let E=w?y:(0,t.str)`${y}/${g}`;return v&&(E=(0,t.str)`${E}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,E]}function m(g,{params:y,message:v},w){const{keyword:E,data:C,schemaValue:S,it:T}=g,{opts:A,propertyName:I,topSchemaRef:D,schemaPath:O}=T;w.push([c.keyword,E],[c.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),A.messages&&w.push([c.message,typeof v=="function"?v(g):v]),A.verbose&&w.push([c.schema,S],[c.parentSchema,(0,t._)`${D}${O}`],[r.default.data,C]),I&&w.push([c.propertyName,I])}}(B9)),B9}var Dpe;function mqt(){if(Dpe)return xy;Dpe=1,Object.defineProperty(xy,"__esModule",{value:!0}),xy.boolOrEmptySchema=xy.topBoolOrEmptySchema=void 0;const e=v5(),t=Gn(),n=Ug(),r={message:"boolean schema is false"};function i(a){const{gen:l,schema:u,validateName:c}=a;u===!1?o(a,!1):typeof u=="object"&&u.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${c}.errors`,null),l.return(!0))}xy.topBoolOrEmptySchema=i;function s(a,l){const{gen:u,schema:c}=a;c===!1?(u.var(l,!1),o(a)):u.var(l,!0)}xy.boolOrEmptySchema=s;function o(a,l){const{gen:u,data:c}=a,d={gen:u,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(d,r,void 0,l)}return xy}var wo={},_y={},Ppe;function zNe(){if(Ppe)return _y;Ppe=1,Object.defineProperty(_y,"__esModule",{value:!0}),_y.getRules=_y.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}_y.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return _y.getRules=r,_y}var Xh={},Ope;function UNe(){if(Ope)return Xh;Ope=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.shouldUseRule=Xh.shouldUseGroup=Xh.schemaHasRulesForType=void 0;function e({schema:r,self:i},s){const o=i.RULES.types[s];return o&&o!==!0&&t(r,o)}Xh.schemaHasRulesForType=e;function t(r,i){return i.rules.some(s=>n(r,s))}Xh.shouldUseGroup=t;function n(r,i){var s;return r[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(o=>r[o]!==void 0))}return Xh.shouldUseRule=n,Xh}var Npe;function n$(){if(Npe)return wo;Npe=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.reportTypeError=wo.checkDataTypes=wo.checkDataType=wo.coerceAndCheckDataType=wo.getJSONTypes=wo.getSchemaTypes=wo.DataType=void 0;const e=zNe(),t=UNe(),n=v5(),r=Gn(),i=Tr();var s;(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(s||(wo.DataType=s={}));function o(v){const w=a(v.type);if(w.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!w.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&w.push("null")}return w}wo.getSchemaTypes=o;function a(v){const w=Array.isArray(v)?v:v?[v]:[];if(w.every(e.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))}wo.getJSONTypes=a;function l(v,w){const{gen:E,data:C,opts:S}=v,T=c(w,S.coerceTypes),A=w.length>0&&!(T.length===0&&w.length===1&&(0,t.schemaHasRulesForType)(v,w[0]));if(A){const I=p(w,C,S.strictNumbers,s.Wrong);E.if(I,()=>{T.length?d(v,w,T):g(v)})}return A}wo.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function c(v,w){return w?v.filter(E=>u.has(E)||w==="array"&&E==="array"):[]}function d(v,w,E){const{gen:C,data:S,opts:T}=v,A=C.let("dataType",(0,r._)`typeof ${S}`),I=C.let("coerced",(0,r._)`undefined`);T.coerceTypes==="array"&&C.if((0,r._)`${A} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>C.assign(S,(0,r._)`${S}[0]`).assign(A,(0,r._)`typeof ${S}`).if(p(w,S,T.strictNumbers),()=>C.assign(I,S))),C.if((0,r._)`${I} !== undefined`);for(const O of E)(u.has(O)||O==="array"&&T.coerceTypes==="array")&&D(O);C.else(),g(v),C.endIf(),C.if((0,r._)`${I} !== undefined`,()=>{C.assign(S,I),f(v,I)});function D(O){switch(O){case"string":C.elseIf((0,r._)`${A} == "number" || ${A} == "boolean"`).assign(I,(0,r._)`"" + ${S}`).elseIf((0,r._)`${S} === null`).assign(I,(0,r._)`""`);return;case"number":C.elseIf((0,r._)`${A} == "boolean" || ${S} === null
              || (${A} == "string" && ${S} && ${S} == +${S})`).assign(I,(0,r._)`+${S}`);return;case"integer":C.elseIf((0,r._)`${A} === "boolean" || ${S} === null
              || (${A} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(I,(0,r._)`+${S}`);return;case"boolean":C.elseIf((0,r._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(I,!1).elseIf((0,r._)`${S} === "true" || ${S} === 1`).assign(I,!0);return;case"null":C.elseIf((0,r._)`${S} === "" || ${S} === 0 || ${S} === false`),C.assign(I,null);return;case"array":C.elseIf((0,r._)`${A} === "string" || ${A} === "number"
              || ${A} === "boolean" || ${S} === null`).assign(I,(0,r._)`[${S}]`)}}}function f({gen:v,parentData:w,parentDataProperty:E},C){v.if((0,r._)`${w} !== undefined`,()=>v.assign((0,r._)`${w}[${E}]`,C))}function h(v,w,E,C=s.Correct){const S=C===s.Correct?r.operators.EQ:r.operators.NEQ;let T;switch(v){case"null":return(0,r._)`${w} ${S} null`;case"array":T=(0,r._)`Array.isArray(${w})`;break;case"object":T=(0,r._)`${w} && typeof ${w} == "object" && !Array.isArray(${w})`;break;case"integer":T=A((0,r._)`!(${w} % 1) && !isNaN(${w})`);break;case"number":T=A();break;default:return(0,r._)`typeof ${w} ${S} ${v}`}return C===s.Correct?T:(0,r.not)(T);function A(I=r.nil){return(0,r.and)((0,r._)`typeof ${w} == "number"`,I,E?(0,r._)`isFinite(${w})`:r.nil)}}wo.checkDataType=h;function p(v,w,E,C){if(v.length===1)return h(v[0],w,E,C);let S;const T=(0,i.toHash)(v);if(T.array&&T.object){const A=(0,r._)`typeof ${w} != "object"`;S=T.null?A:(0,r._)`!${w} || ${A}`,delete T.null,delete T.array,delete T.object}else S=r.nil;T.number&&delete T.integer;for(const A in T)S=(0,r.and)(S,h(A,w,E,C));return S}wo.checkDataTypes=p;const m={message:({schema:v})=>`must be ${v}`,params:({schema:v,schemaValue:w})=>typeof v=="string"?(0,r._)`{type: ${v}}`:(0,r._)`{type: ${w}}`};function g(v){const w=y(v);(0,n.reportError)(w,m)}wo.reportTypeError=g;function y(v){const{gen:w,data:E,schema:C}=v,S=(0,i.schemaRefOrVal)(v,C,"type");return{gen:w,keyword:"type",data:E,schema:C.type,schemaCode:S,schemaValue:S,parentSchema:C,params:{},it:v}}return wo}var DC={},$pe;function gqt(){if($pe)return DC;$pe=1,Object.defineProperty(DC,"__esModule",{value:!0}),DC.assignDefaults=void 0;const e=Gn(),t=Tr();function n(i,s){const{properties:o,items:a}=i.schema;if(s==="object"&&o)for(const l in o)r(i,l,o[l].default);else s==="array"&&Array.isArray(a)&&a.forEach((l,u)=>r(i,u,l.default))}DC.assignDefaults=n;function r(i,s,o){const{gen:a,compositeRule:l,data:u,opts:c}=i;if(o===void 0)return;const d=(0,e._)`${u}${(0,e.getProperty)(s)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${d}`);return}let f=(0,e._)`${d} === undefined`;c.useDefaults==="empty"&&(f=(0,e._)`${f} || ${d} === null || ${d} === ""`),a.if(f,(0,e._)`${d} = ${(0,e.stringify)(o)}`)}return DC}var Nc={},jr={},Mpe;function Xd(){if(Mpe)return jr;Mpe=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.validateUnion=jr.validateArray=jr.usePattern=jr.callValidateCode=jr.schemaProperties=jr.allSchemaProperties=jr.noPropertyInData=jr.propertyInData=jr.isOwnProperty=jr.hasPropFunc=jr.reportMissingProp=jr.checkMissingProp=jr.checkReportMissingProp=void 0;const e=Gn(),t=Tr(),n=Ug(),r=Tr();function i(v,w){const{gen:E,data:C,it:S}=v;E.if(c(E,C,w,S.opts.ownProperties),()=>{v.setParams({missingProperty:(0,e._)`${w}`},!0),v.error()})}jr.checkReportMissingProp=i;function s({gen:v,data:w,it:{opts:E}},C,S){return(0,e.or)(...C.map(T=>(0,e.and)(c(v,w,T,E.ownProperties),(0,e._)`${S} = ${T}`)))}jr.checkMissingProp=s;function o(v,w){v.setParams({missingProperty:w},!0),v.error()}jr.reportMissingProp=o;function a(v){return v.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}jr.hasPropFunc=a;function l(v,w,E){return(0,e._)`${a(v)}.call(${w}, ${E})`}jr.isOwnProperty=l;function u(v,w,E,C){const S=(0,e._)`${w}${(0,e.getProperty)(E)} !== undefined`;return C?(0,e._)`${S} && ${l(v,w,E)}`:S}jr.propertyInData=u;function c(v,w,E,C){const S=(0,e._)`${w}${(0,e.getProperty)(E)} === undefined`;return C?(0,e.or)(S,(0,e.not)(l(v,w,E))):S}jr.noPropertyInData=c;function d(v){return v?Object.keys(v).filter(w=>w!=="__proto__"):[]}jr.allSchemaProperties=d;function f(v,w){return d(w).filter(E=>!(0,t.alwaysValidSchema)(v,w[E]))}jr.schemaProperties=f;function h({schemaCode:v,data:w,it:{gen:E,topSchemaRef:C,schemaPath:S,errorPath:T},it:A},I,D,O){const M=O?(0,e._)`${v}, ${w}, ${C}${S}`:w,$=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,T)],[n.default.parentData,A.parentData],[n.default.parentDataProperty,A.parentDataProperty],[n.default.rootData,n.default.rootData]];A.opts.dynamicRef&&$.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const L=(0,e._)`${M}, ${E.object(...$)}`;return D!==e.nil?(0,e._)`${I}.call(${D}, ${L})`:(0,e._)`${I}(${L})`}jr.callValidateCode=h;const p=(0,e._)`new RegExp`;function m({gen:v,it:{opts:w}},E){const C=w.unicodeRegExp?"u":"",{regExp:S}=w.code,T=S(E,C);return v.scopeValue("pattern",{key:T.toString(),ref:T,code:(0,e._)`${S.code==="new RegExp"?p:(0,r.useFunc)(v,S)}(${E}, ${C})`})}jr.usePattern=m;function g(v){const{gen:w,data:E,keyword:C,it:S}=v,T=w.name("valid");if(S.allErrors){const I=w.let("valid",!0);return A(()=>w.assign(I,!1)),I}return w.var(T,!0),A(()=>w.break()),T;function A(I){const D=w.const("len",(0,e._)`${E}.length`);w.forRange("i",0,D,O=>{v.subschema({keyword:C,dataProp:O,dataPropType:t.Type.Num},T),w.if((0,e.not)(T),I)})}}jr.validateArray=g;function y(v){const{gen:w,schema:E,keyword:C,it:S}=v;if(!Array.isArray(E))throw new Error("ajv implementation error");if(E.some(D=>(0,t.alwaysValidSchema)(S,D))&&!S.opts.unevaluated)return;const A=w.let("valid",!1),I=w.name("_valid");w.block(()=>E.forEach((D,O)=>{const M=v.subschema({keyword:C,schemaProp:O,compositeRule:!0},I);w.assign(A,(0,e._)`${A} || ${I}`),v.mergeValidEvaluated(M,I)||w.if((0,e.not)(A))})),v.result(A,()=>v.reset(),()=>v.error(!0))}return jr.validateUnion=y,jr}var Fpe;function yqt(){if(Fpe)return Nc;Fpe=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.validateKeywordUsage=Nc.validSchemaType=Nc.funcKeywordCode=Nc.macroKeywordCode=void 0;const e=Gn(),t=Ug(),n=Xd(),r=v5();function i(f,h){const{gen:p,keyword:m,schema:g,parentSchema:y,it:v}=f,w=h.macro.call(v.self,g,y,v),E=u(p,m,w);v.opts.validateSchema!==!1&&v.self.validateSchema(w,!0);const C=p.name("valid");f.subschema({schema:w,schemaPath:e.nil,errSchemaPath:`${v.errSchemaPath}/${m}`,topSchemaRef:E,compositeRule:!0},C),f.pass(C,()=>f.error(!0))}Nc.macroKeywordCode=i;function s(f,h){var p;const{gen:m,keyword:g,schema:y,parentSchema:v,$data:w,it:E}=f;l(E,h);const C=!w&&h.compile?h.compile.call(E.self,y,v,E):h.validate,S=u(m,g,C),T=m.let("valid");f.block$data(T,A),f.ok((p=h.valid)!==null&&p!==void 0?p:T);function A(){if(h.errors===!1)O(),h.modifying&&o(f),M(()=>f.error());else{const $=h.async?I():D();h.modifying&&o(f),M(()=>a(f,$))}}function I(){const $=m.let("ruleErrs",null);return m.try(()=>O((0,e._)`await `),L=>m.assign(T,!1).if((0,e._)`${L} instanceof ${E.ValidationError}`,()=>m.assign($,(0,e._)`${L}.errors`),()=>m.throw(L))),$}function D(){const $=(0,e._)`${S}.errors`;return m.assign($,null),O(e.nil),$}function O($=h.async?(0,e._)`await `:e.nil){const L=E.opts.passContext?t.default.this:t.default.self,z=!("compile"in h&&!w||h.schema===!1);m.assign(T,(0,e._)`${$}${(0,n.callValidateCode)(f,S,L,z)}`,h.modifying)}function M($){var L;m.if((0,e.not)((L=h.valid)!==null&&L!==void 0?L:T),$)}}Nc.funcKeywordCode=s;function o(f){const{gen:h,data:p,it:m}=f;h.if(m.parentData,()=>h.assign(p,(0,e._)`${m.parentData}[${m.parentDataProperty}]`))}function a(f,h){const{gen:p}=f;p.if((0,e._)`Array.isArray(${h})`,()=>{p.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(f)},()=>f.error())}function l({schemaEnv:f},h){if(h.async&&!f.$async)throw new Error("async keyword in sync schema")}function u(f,h,p){if(p===void 0)throw new Error(`keyword "${h}" failed to compile`);return f.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,e.stringify)(p)})}function c(f,h,p=!1){return!h.length||h.some(m=>m==="array"?Array.isArray(f):m==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==m||p&&typeof f>"u")}Nc.validSchemaType=c;function d({schema:f,opts:h,self:p,errSchemaPath:m},g,y){if(Array.isArray(g.keyword)?!g.keyword.includes(y):g.keyword!==y)throw new Error("ajv implementation error");const v=g.dependencies;if(v!=null&&v.some(w=>!Object.prototype.hasOwnProperty.call(f,w)))throw new Error(`parent schema must have dependencies of ${y}: ${v.join(",")}`);if(g.validateSchema&&!g.validateSchema(f[y])){const E=`keyword "${y}" value is invalid at path "${m}": `+p.errorsText(g.validateSchema.errors);if(h.validateSchema==="log")p.logger.error(E);else throw new Error(E)}}return Nc.validateKeywordUsage=d,Nc}var Qh={},Lpe;function vqt(){if(Lpe)return Qh;Lpe=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.extendSubschemaMode=Qh.extendSubschemaData=Qh.getSubschema=void 0;const e=Gn(),t=Tr();function n(s,{keyword:o,schemaProp:a,schema:l,schemaPath:u,errSchemaPath:c,topSchemaRef:d}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const f=s.schema[o];return a===void 0?{schema:f,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:f[a],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(u===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}Qh.getSubschema=n;function r(s,o,{dataProp:a,dataPropType:l,data:u,dataTypes:c,propertyName:d}){if(u!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=o;if(a!==void 0){const{errorPath:p,dataPathArr:m,opts:g}=o,y=f.let("data",(0,e._)`${o.data}${(0,e.getProperty)(a)}`,!0);h(y),s.errorPath=(0,e.str)`${p}${(0,t.getErrorPath)(a,l,g.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${a}`,s.dataPathArr=[...m,s.parentDataProperty]}if(u!==void 0){const p=u instanceof e.Name?u:f.let("data",u,!0);h(p),d!==void 0&&(s.propertyName=d)}c&&(s.dataTypes=c);function h(p){s.data=p,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,p]}}Qh.extendSubschemaData=r;function i(s,{jtdDiscriminator:o,jtdMetadata:a,compositeRule:l,createErrors:u,allErrors:c}){l!==void 0&&(s.compositeRule=l),u!==void 0&&(s.createErrors=u),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=o,s.jtdMetadata=a}return Qh.extendSubschemaMode=i,Qh}var Ta={},q9={exports:{}},jpe;function bqt(){if(jpe)return q9.exports;jpe=1;var e=q9.exports=function(r,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var o=typeof s=="function"?s:s.pre||function(){},a=s.post||function(){};t(i,o,a,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,s,o,a,l,u,c,d,f){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,a,l,u,c,d,f);for(var h in o){var p=o[h];if(Array.isArray(p)){if(h in e.arrayKeywords)for(var m=0;m<p.length;m++)t(r,i,s,p[m],a+"/"+h+"/"+m,l,a,h,o,m)}else if(h in e.propsKeywords){if(p&&typeof p=="object")for(var g in p)t(r,i,s,p[g],a+"/"+h+"/"+n(g),l,a,h,o,g)}else(h in e.keywords||r.allKeys&&!(h in e.skipKeywords))&&t(r,i,s,p,a+"/"+h,l,a,h,o)}s(o,a,l,u,c,d,f)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return q9.exports}var Bpe;function b5(){if(Bpe)return Ta;Bpe=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.getSchemaRefs=Ta.resolveUrl=Ta.normalizeId=Ta._getFullPath=Ta.getFullPath=Ta.inlineRef=void 0;const e=Tr(),t=QY(),n=bqt(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(m,g=!0){return typeof m=="boolean"?!0:g===!0?!o(m):g?a(m)<=g:!1}Ta.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(m){for(const g in m){if(s.has(g))return!0;const y=m[g];if(Array.isArray(y)&&y.some(o)||typeof y=="object"&&o(y))return!0}return!1}function a(m){let g=0;for(const y in m){if(y==="$ref")return 1/0;if(g++,!r.has(y)&&(typeof m[y]=="object"&&(0,e.eachItem)(m[y],v=>g+=a(v)),g===1/0))return 1/0}return g}function l(m,g="",y){y!==!1&&(g=d(g));const v=m.parse(g);return u(m,v)}Ta.getFullPath=l;function u(m,g){return m.serialize(g).split("#")[0]+"#"}Ta._getFullPath=u;const c=/#\/?$/;function d(m){return m?m.replace(c,""):""}Ta.normalizeId=d;function f(m,g,y){return y=d(y),m.resolve(g,y)}Ta.resolveUrl=f;const h=/^[a-z_][-a-z0-9._]*$/i;function p(m,g){if(typeof m=="boolean")return{};const{schemaId:y,uriResolver:v}=this.opts,w=d(m[y]||g),E={"":w},C=l(v,w,!1),S={},T=new Set;return n(m,{allKeys:!0},(D,O,M,$)=>{if($===void 0)return;const L=C+O;let z=E[$];typeof D[y]=="string"&&(z=B.call(this,D[y])),W.call(this,D.$anchor),W.call(this,D.$dynamicAnchor),E[O]=z;function B(V){const X=this.opts.uriResolver.resolve;if(V=d(z?X(z,V):V),T.has(V))throw I(V);T.add(V);let U=this.refs[V];return typeof U=="string"&&(U=this.refs[U]),typeof U=="object"?A(D,U.schema,V):V!==d(L)&&(V[0]==="#"?(A(D,S[V],V),S[V]=D):this.refs[V]=L),V}function W(V){if(typeof V=="string"){if(!h.test(V))throw new Error(`invalid anchor "${V}"`);B.call(this,`#${V}`)}}}),S;function A(D,O,M){if(O!==void 0&&!t(D,O))throw I(M)}function I(D){return new Error(`reference "${D}" resolves to more than one schema`)}}return Ta.getSchemaRefs=p,Ta}var zpe;function w5(){if(zpe)return Kh;zpe=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.getData=Kh.KeywordCxt=Kh.validateFunctionCode=void 0;const e=mqt(),t=n$(),n=UNe(),r=n$(),i=gqt(),s=yqt(),o=vqt(),a=Gn(),l=Ug(),u=b5(),c=Tr(),d=v5();function f(ee){if(C(ee)&&(T(ee),E(ee))){g(ee);return}h(ee,()=>(0,e.topBoolOrEmptySchema)(ee))}Kh.validateFunctionCode=f;function h({gen:ee,validateName:ie,schema:he,schemaEnv:ye,opts:Ce},Re){Ce.code.es5?ee.func(ie,(0,a._)`${l.default.data}, ${l.default.valCxt}`,ye.$async,()=>{ee.code((0,a._)`"use strict"; ${v(he,Ce)}`),m(ee,Ce),ee.code(Re)}):ee.func(ie,(0,a._)`${l.default.data}, ${p(Ce)}`,ye.$async,()=>ee.code(v(he,Ce)).code(Re))}function p(ee){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${ee.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function m(ee,ie){ee.if(l.default.valCxt,()=>{ee.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),ee.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),ee.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),ee.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),ie.dynamicRef&&ee.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{ee.var(l.default.instancePath,(0,a._)`""`),ee.var(l.default.parentData,(0,a._)`undefined`),ee.var(l.default.parentDataProperty,(0,a._)`undefined`),ee.var(l.default.rootData,l.default.data),ie.dynamicRef&&ee.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function g(ee){const{schema:ie,opts:he,gen:ye}=ee;h(ee,()=>{he.$comment&&ie.$comment&&$(ee),D(ee),ye.let(l.default.vErrors,null),ye.let(l.default.errors,0),he.unevaluated&&y(ee),A(ee),L(ee)})}function y(ee){const{gen:ie,validateName:he}=ee;ee.evaluated=ie.const("evaluated",(0,a._)`${he}.evaluated`),ie.if((0,a._)`${ee.evaluated}.dynamicProps`,()=>ie.assign((0,a._)`${ee.evaluated}.props`,(0,a._)`undefined`)),ie.if((0,a._)`${ee.evaluated}.dynamicItems`,()=>ie.assign((0,a._)`${ee.evaluated}.items`,(0,a._)`undefined`))}function v(ee,ie){const he=typeof ee=="object"&&ee[ie.schemaId];return he&&(ie.code.source||ie.code.process)?(0,a._)`/*# sourceURL=${he} */`:a.nil}function w(ee,ie){if(C(ee)&&(T(ee),E(ee))){S(ee,ie);return}(0,e.boolOrEmptySchema)(ee,ie)}function E({schema:ee,self:ie}){if(typeof ee=="boolean")return!ee;for(const he in ee)if(ie.RULES.all[he])return!0;return!1}function C(ee){return typeof ee.schema!="boolean"}function S(ee,ie){const{schema:he,gen:ye,opts:Ce}=ee;Ce.$comment&&he.$comment&&$(ee),O(ee),M(ee);const Re=ye.const("_errs",l.default.errors);A(ee,Re),ye.var(ie,(0,a._)`${Re} === ${l.default.errors}`)}function T(ee){(0,c.checkUnknownRules)(ee),I(ee)}function A(ee,ie){if(ee.opts.jtd)return B(ee,[],!1,ie);const he=(0,t.getSchemaTypes)(ee.schema),ye=(0,t.coerceAndCheckDataType)(ee,he);B(ee,he,!ye,ie)}function I(ee){const{schema:ie,errSchemaPath:he,opts:ye,self:Ce}=ee;ie.$ref&&ye.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(ie,Ce.RULES)&&Ce.logger.warn(`$ref: keywords ignored in schema at path "${he}"`)}function D(ee){const{schema:ie,opts:he}=ee;ie.default!==void 0&&he.useDefaults&&he.strictSchema&&(0,c.checkStrictMode)(ee,"default is ignored in the schema root")}function O(ee){const ie=ee.schema[ee.opts.schemaId];ie&&(ee.baseId=(0,u.resolveUrl)(ee.opts.uriResolver,ee.baseId,ie))}function M(ee){if(ee.schema.$async&&!ee.schemaEnv.$async)throw new Error("async schema in sync schema")}function $({gen:ee,schemaEnv:ie,schema:he,errSchemaPath:ye,opts:Ce}){const Re=he.$comment;if(Ce.$comment===!0)ee.code((0,a._)`${l.default.self}.logger.log(${Re})`);else if(typeof Ce.$comment=="function"){const De=(0,a.str)`${ye}/$comment`,be=ee.scopeValue("root",{ref:ie.root});ee.code((0,a._)`${l.default.self}.opts.$comment(${Re}, ${De}, ${be}.schema)`)}}function L(ee){const{gen:ie,schemaEnv:he,validateName:ye,ValidationError:Ce,opts:Re}=ee;he.$async?ie.if((0,a._)`${l.default.errors} === 0`,()=>ie.return(l.default.data),()=>ie.throw((0,a._)`new ${Ce}(${l.default.vErrors})`)):(ie.assign((0,a._)`${ye}.errors`,l.default.vErrors),Re.unevaluated&&z(ee),ie.return((0,a._)`${l.default.errors} === 0`))}function z({gen:ee,evaluated:ie,props:he,items:ye}){he instanceof a.Name&&ee.assign((0,a._)`${ie}.props`,he),ye instanceof a.Name&&ee.assign((0,a._)`${ie}.items`,ye)}function B(ee,ie,he,ye){const{gen:Ce,schema:Re,data:De,allErrors:be,opts:je,self:Qe}=ee,{RULES:it}=Qe;if(Re.$ref&&(je.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(Re,it))){Ce.block(()=>ue(ee,"$ref",it.all.$ref.definition));return}je.jtd||V(ee,ie),Ce.block(()=>{for(const Pe of it.rules)Ke(Pe);Ke(it.post)});function Ke(Pe){(0,n.shouldUseGroup)(Re,Pe)&&(Pe.type?(Ce.if((0,r.checkDataType)(Pe.type,De,je.strictNumbers)),W(ee,Pe),ie.length===1&&ie[0]===Pe.type&&he&&(Ce.else(),(0,r.reportTypeError)(ee)),Ce.endIf()):W(ee,Pe),be||Ce.if((0,a._)`${l.default.errors} === ${ye||0}`))}}function W(ee,ie){const{gen:he,schema:ye,opts:{useDefaults:Ce}}=ee;Ce&&(0,i.assignDefaults)(ee,ie.type),he.block(()=>{for(const Re of ie.rules)(0,n.shouldUseRule)(ye,Re)&&ue(ee,Re.keyword,Re.definition,ie.type)})}function V(ee,ie){ee.schemaEnv.meta||!ee.opts.strictTypes||(X(ee,ie),ee.opts.allowUnionTypes||U(ee,ie),F(ee,ee.dataTypes))}function X(ee,ie){if(ie.length){if(!ee.dataTypes.length){ee.dataTypes=ie;return}ie.forEach(he=>{q(ee.dataTypes,he)||J(ee,`type "${he}" not allowed by context "${ee.dataTypes.join(",")}"`)}),Y(ee,ie)}}function U(ee,ie){ie.length>1&&!(ie.length===2&&ie.includes("null"))&&J(ee,"use allowUnionTypes to allow union type keyword")}function F(ee,ie){const he=ee.self.RULES.all;for(const ye in he){const Ce=he[ye];if(typeof Ce=="object"&&(0,n.shouldUseRule)(ee.schema,Ce)){const{type:Re}=Ce.definition;Re.length&&!Re.some(De=>G(ie,De))&&J(ee,`missing type "${Re.join(",")}" for keyword "${ye}"`)}}}function G(ee,ie){return ee.includes(ie)||ie==="number"&&ee.includes("integer")}function q(ee,ie){return ee.includes(ie)||ie==="integer"&&ee.includes("number")}function Y(ee,ie){const he=[];for(const ye of ee.dataTypes)q(ie,ye)?he.push(ye):ie.includes("integer")&&ye==="number"&&he.push("integer");ee.dataTypes=he}function J(ee,ie){const he=ee.schemaEnv.baseId+ee.errSchemaPath;ie+=` at "${he}" (strictTypes)`,(0,c.checkStrictMode)(ee,ie,ee.opts.strictTypes)}class te{constructor(ie,he,ye){if((0,s.validateKeywordUsage)(ie,he,ye),this.gen=ie.gen,this.allErrors=ie.allErrors,this.keyword=ye,this.data=ie.data,this.schema=ie.schema[ye],this.$data=he.$data&&ie.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(ie,this.schema,ye,this.$data),this.schemaType=he.schemaType,this.parentSchema=ie.schema,this.params={},this.it=ie,this.def=he,this.$data)this.schemaCode=ie.gen.const("vSchema",fe(this.$data,ie));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,he.schemaType,he.allowUndefined))throw new Error(`${ye} value must be ${JSON.stringify(he.schemaType)}`);("code"in he?he.trackErrors:he.errors!==!1)&&(this.errsCount=ie.gen.const("_errs",l.default.errors))}result(ie,he,ye){this.failResult((0,a.not)(ie),he,ye)}failResult(ie,he,ye){this.gen.if(ie),ye?ye():this.error(),he?(this.gen.else(),he(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(ie,he){this.failResult((0,a.not)(ie),void 0,he)}fail(ie){if(ie===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(ie),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(ie){if(!this.$data)return this.fail(ie);const{schemaCode:he}=this;this.fail((0,a._)`${he} !== undefined && (${(0,a.or)(this.invalid$data(),ie)})`)}error(ie,he,ye){if(he){this.setParams(he),this._error(ie,ye),this.setParams({});return}this._error(ie,ye)}_error(ie,he){(ie?d.reportExtraError:d.reportError)(this,this.def.error,he)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(ie){this.allErrors||this.gen.if(ie)}setParams(ie,he){he?Object.assign(this.params,ie):this.params=ie}block$data(ie,he,ye=a.nil){this.gen.block(()=>{this.check$data(ie,ye),he()})}check$data(ie=a.nil,he=a.nil){if(!this.$data)return;const{gen:ye,schemaCode:Ce,schemaType:Re,def:De}=this;ye.if((0,a.or)((0,a._)`${Ce} === undefined`,he)),ie!==a.nil&&ye.assign(ie,!0),(Re.length||De.validateSchema)&&(ye.elseIf(this.invalid$data()),this.$dataError(),ie!==a.nil&&ye.assign(ie,!1)),ye.else()}invalid$data(){const{gen:ie,schemaCode:he,schemaType:ye,def:Ce,it:Re}=this;return(0,a.or)(De(),be());function De(){if(ye.length){if(!(he instanceof a.Name))throw new Error("ajv implementation error");const je=Array.isArray(ye)?ye:[ye];return(0,a._)`${(0,r.checkDataTypes)(je,he,Re.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function be(){if(Ce.validateSchema){const je=ie.scopeValue("validate$data",{ref:Ce.validateSchema});return(0,a._)`!${je}(${he})`}return a.nil}}subschema(ie,he){const ye=(0,o.getSubschema)(this.it,ie);(0,o.extendSubschemaData)(ye,this.it,ie),(0,o.extendSubschemaMode)(ye,ie);const Ce={...this.it,...ye,items:void 0,props:void 0};return w(Ce,he),Ce}mergeEvaluated(ie,he){const{it:ye,gen:Ce}=this;ye.opts.unevaluated&&(ye.props!==!0&&ie.props!==void 0&&(ye.props=c.mergeEvaluated.props(Ce,ie.props,ye.props,he)),ye.items!==!0&&ie.items!==void 0&&(ye.items=c.mergeEvaluated.items(Ce,ie.items,ye.items,he)))}mergeValidEvaluated(ie,he){const{it:ye,gen:Ce}=this;if(ye.opts.unevaluated&&(ye.props!==!0||ye.items!==!0))return Ce.if(he,()=>this.mergeEvaluated(ie,a.Name)),!0}}Kh.KeywordCxt=te;function ue(ee,ie,he,ye){const Ce=new te(ee,he,ie);"code"in he?he.code(Ce,ye):Ce.$data&&he.validate?(0,s.funcKeywordCode)(Ce,he):"macro"in he?(0,s.macroKeywordCode)(Ce,he):(he.compile||he.validate)&&(0,s.funcKeywordCode)(Ce,he)}const se=/^\/(?:[^~]|~0|~1)*$/,ne=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function fe(ee,{dataLevel:ie,dataNames:he,dataPathArr:ye}){let Ce,Re;if(ee==="")return l.default.rootData;if(ee[0]==="/"){if(!se.test(ee))throw new Error(`Invalid JSON-pointer: ${ee}`);Ce=ee,Re=l.default.rootData}else{const Qe=ne.exec(ee);if(!Qe)throw new Error(`Invalid JSON-pointer: ${ee}`);const it=+Qe[1];if(Ce=Qe[2],Ce==="#"){if(it>=ie)throw new Error(je("property/index",it));return ye[ie-it]}if(it>ie)throw new Error(je("data",it));if(Re=he[ie-it],!Ce)return Re}let De=Re;const be=Ce.split("/");for(const Qe of be)Qe&&(Re=(0,a._)`${Re}${(0,a.getProperty)((0,c.unescapeJsonPointer)(Qe))}`,De=(0,a._)`${De} && ${Re}`);return De;function je(Qe,it){return`Cannot access ${Qe} ${it} levels up, current level is ${ie}`}}return Kh.getData=fe,Kh}var MR={},Upe;function lee(){if(Upe)return MR;Upe=1,Object.defineProperty(MR,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return MR.default=e,MR}var FR={},Hpe;function x5(){if(Hpe)return FR;Hpe=1,Object.defineProperty(FR,"__esModule",{value:!0});const e=b5();class t extends Error{constructor(r,i,s,o){super(o||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return FR.default=t,FR}var Hl={},qpe;function uee(){if(qpe)return Hl;qpe=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.resolveSchema=Hl.getCompilingSchema=Hl.resolveRef=Hl.compileSchema=Hl.SchemaEnv=void 0;const e=Gn(),t=lee(),n=Ug(),r=b5(),i=Tr(),s=w5();class o{constructor(y){var v;this.refs={},this.dynamicAnchors={};let w;typeof y.schema=="object"&&(w=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(v=y.baseId)!==null&&v!==void 0?v:(0,r.normalizeId)(w==null?void 0:w[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=w==null?void 0:w.$async,this.refs={}}}Hl.SchemaEnv=o;function a(g){const y=c.call(this,g);if(y)return y;const v=(0,r.getFullPath)(this.opts.uriResolver,g.root.baseId),{es5:w,lines:E}=this.opts.code,{ownProperties:C}=this.opts,S=new e.CodeGen(this.scope,{es5:w,lines:E,ownProperties:C});let T;g.$async&&(T=S.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const A=S.scopeName("validate");g.validateName=A;const I={gen:S,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,e.stringify)(g.schema)}:{ref:g.schema}),validateName:A,ValidationError:T,schema:g.schema,schemaEnv:g,rootId:v,baseId:g.baseId||v,schemaPath:e.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(g),(0,s.validateFunctionCode)(I),S.optimize(this.opts.code.optimize);const O=S.toString();D=`${S.scopeRefs(n.default.scope)}return ${O}`,this.opts.code.process&&(D=this.opts.code.process(D,g));const $=new Function(`${n.default.self}`,`${n.default.scope}`,D)(this,this.scope.get());if(this.scope.value(A,{ref:$}),$.errors=null,$.schema=g.schema,$.schemaEnv=g,g.$async&&($.$async=!0),this.opts.code.source===!0&&($.source={validateName:A,validateCode:O,scopeValues:S._values}),this.opts.unevaluated){const{props:L,items:z}=I;$.evaluated={props:L instanceof e.Name?void 0:L,items:z instanceof e.Name?void 0:z,dynamicProps:L instanceof e.Name,dynamicItems:z instanceof e.Name},$.source&&($.source.evaluated=(0,e.stringify)($.evaluated))}return g.validate=$,g}catch(O){throw delete g.validate,delete g.validateName,D&&this.logger.error("Error compiling schema, function code:",D),O}finally{this._compilations.delete(g)}}Hl.compileSchema=a;function l(g,y,v){var w;v=(0,r.resolveUrl)(this.opts.uriResolver,y,v);const E=g.refs[v];if(E)return E;let C=f.call(this,g,v);if(C===void 0){const S=(w=g.localRefs)===null||w===void 0?void 0:w[v],{schemaId:T}=this.opts;S&&(C=new o({schema:S,schemaId:T,root:g,baseId:y}))}if(C!==void 0)return g.refs[v]=u.call(this,C)}Hl.resolveRef=l;function u(g){return(0,r.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:a.call(this,g)}function c(g){for(const y of this._compilations)if(d(y,g))return y}Hl.getCompilingSchema=c;function d(g,y){return g.schema===y.schema&&g.root===y.root&&g.baseId===y.baseId}function f(g,y){let v;for(;typeof(v=this.refs[y])=="string";)y=v;return v||this.schemas[y]||h.call(this,g,y)}function h(g,y){const v=this.opts.uriResolver.parse(y),w=(0,r._getFullPath)(this.opts.uriResolver,v);let E=(0,r.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&w===E)return m.call(this,v,g);const C=(0,r.normalizeId)(w),S=this.refs[C]||this.schemas[C];if(typeof S=="string"){const T=h.call(this,g,S);return typeof(T==null?void 0:T.schema)!="object"?void 0:m.call(this,v,T)}if(typeof(S==null?void 0:S.schema)=="object"){if(S.validate||a.call(this,S),C===(0,r.normalizeId)(y)){const{schema:T}=S,{schemaId:A}=this.opts,I=T[A];return I&&(E=(0,r.resolveUrl)(this.opts.uriResolver,E,I)),new o({schema:T,schemaId:A,root:g,baseId:E})}return m.call(this,v,S)}}Hl.resolveSchema=h;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(g,{baseId:y,schema:v,root:w}){var E;if(((E=g.fragment)===null||E===void 0?void 0:E[0])!=="/")return;for(const T of g.fragment.slice(1).split("/")){if(typeof v=="boolean")return;const A=v[(0,i.unescapeFragment)(T)];if(A===void 0)return;v=A;const I=typeof v=="object"&&v[this.opts.schemaId];!p.has(T)&&I&&(y=(0,r.resolveUrl)(this.opts.uriResolver,y,I))}let C;if(typeof v!="boolean"&&v.$ref&&!(0,i.schemaHasRulesButRef)(v,this.RULES)){const T=(0,r.resolveUrl)(this.opts.uriResolver,y,v.$ref);C=h.call(this,w,T)}const{schemaId:S}=this.opts;if(C=C||new o({schema:v,schemaId:S,root:w,baseId:y}),C.schema!==C.root.schema)return C}return Hl}const wqt="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",xqt="Meta-schema for $data reference (JSON AnySchema extension proposal)",_qt="object",Eqt=["$data"],Cqt={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Sqt=!1,Tqt={$id:wqt,description:xqt,type:_qt,required:Eqt,properties:Cqt,additionalProperties:Sqt};var LR={},PC={exports:{}},V9,Vpe;function Aqt(){return Vpe||(Vpe=1,V9={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),V9}var W9,Wpe;function kqt(){if(Wpe)return W9;Wpe=1;const{HEX:e}=Aqt(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function n(m){if(a(m,".")<3)return{host:m,isIPV4:!1};const g=m.match(t)||[],[y]=g;return y?{host:o(y,"."),isIPV4:!0}:{host:m,isIPV4:!1}}function r(m,g=!1){let y="",v=!0;for(const w of m){if(e[w]===void 0)return;w!=="0"&&v===!0&&(v=!1),v||(y+=w)}return g&&y.length===0&&(y="0"),y}function i(m){let g=0;const y={error:!1,address:"",zone:""},v=[],w=[];let E=!1,C=!1,S=!1;function T(){if(w.length){if(E===!1){const A=r(w);if(A!==void 0)v.push(A);else return y.error=!0,!1}w.length=0}return!0}for(let A=0;A<m.length;A++){const I=m[A];if(!(I==="["||I==="]"))if(I===":"){if(C===!0&&(S=!0),!T())break;if(g++,v.push(":"),g>7){y.error=!0;break}A-1>=0&&m[A-1]===":"&&(C=!0);continue}else if(I==="%"){if(!T())break;E=!0}else{w.push(I);continue}}return w.length&&(E?y.zone=w.join(""):S?v.push(w.join("")):v.push(r(w))),y.address=v.join(""),y}function s(m){if(a(m,":")<2)return{host:m,isIPV6:!1};const g=i(m);if(g.error)return{host:m,isIPV6:!1};{let y=g.address,v=g.address;return g.zone&&(y+="%"+g.zone,v+="%25"+g.zone),{host:y,escapedHost:v,isIPV6:!0}}}function o(m,g){let y="",v=!0;const w=m.length;for(let E=0;E<w;E++){const C=m[E];C==="0"&&v?(E+1<=w&&m[E+1]===g||E+1===w)&&(y+=C,v=!1):(C===g?v=!0:v=!1,y+=C)}return y}function a(m,g){let y=0;for(let v=0;v<m.length;v++)m[v]===g&&y++;return y}const l=/^\.\.?\//u,u=/^\/\.(?:\/|$)/u,c=/^\/\.\.(?:\/|$)/u,d=/^\/?(?:.|\n)*?(?=\/|$)/u;function f(m){const g=[];for(;m.length;)if(m.match(l))m=m.replace(l,"");else if(m.match(u))m=m.replace(u,"/");else if(m.match(c))m=m.replace(c,"/"),g.pop();else if(m==="."||m==="..")m="";else{const y=m.match(d);if(y){const v=y[0];m=m.slice(v.length),g.push(v)}else throw new Error("Unexpected dot segment condition")}return g.join("")}function h(m,g){const y=g!==!0?escape:unescape;return m.scheme!==void 0&&(m.scheme=y(m.scheme)),m.userinfo!==void 0&&(m.userinfo=y(m.userinfo)),m.host!==void 0&&(m.host=y(m.host)),m.path!==void 0&&(m.path=y(m.path)),m.query!==void 0&&(m.query=y(m.query)),m.fragment!==void 0&&(m.fragment=y(m.fragment)),m}function p(m){const g=[];if(m.userinfo!==void 0&&(g.push(m.userinfo),g.push("@")),m.host!==void 0){let y=unescape(m.host);const v=n(y);if(v.isIPV4)y=v.host;else{const w=s(v.host);w.isIPV6===!0?y=`[${w.escapedHost}]`:y=m.host}g.push(y)}return(typeof m.port=="number"||typeof m.port=="string")&&(g.push(":"),g.push(String(m.port))),g.length?g.join(""):void 0}return W9={recomposeAuthority:p,normalizeComponentEncoding:h,removeDotSegments:f,normalizeIPv4:n,normalizeIPv6:s,stringArrayToHexStripped:r},W9}var G9,Gpe;function Iqt(){if(Gpe)return G9;Gpe=1;const e=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(v){return typeof v.secure=="boolean"?v.secure:String(v.scheme).toLowerCase()==="wss"}function r(v){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v}function i(v){const w=String(v.scheme).toLowerCase()==="https";return(v.port===(w?443:80)||v.port==="")&&(v.port=void 0),v.path||(v.path="/"),v}function s(v){return v.secure=n(v),v.resourceName=(v.path||"/")+(v.query?"?"+v.query:""),v.path=void 0,v.query=void 0,v}function o(v){if((v.port===(n(v)?443:80)||v.port==="")&&(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName){const[w,E]=v.resourceName.split("?");v.path=w&&w!=="/"?w:void 0,v.query=E,v.resourceName=void 0}return v.fragment=void 0,v}function a(v,w){if(!v.path)return v.error="URN can not be parsed",v;const E=v.path.match(t);if(E){const C=w.scheme||v.scheme||"urn";v.nid=E[1].toLowerCase(),v.nss=E[2];const S=`${C}:${w.nid||v.nid}`,T=y[S];v.path=void 0,T&&(v=T.parse(v,w))}else v.error=v.error||"URN can not be parsed.";return v}function l(v,w){const E=w.scheme||v.scheme||"urn",C=v.nid.toLowerCase(),S=`${E}:${w.nid||C}`,T=y[S];T&&(v=T.serialize(v,w));const A=v,I=v.nss;return A.path=`${C||w.nid}:${I}`,w.skipEscape=!0,A}function u(v,w){const E=v;return E.uuid=E.nss,E.nss=void 0,!w.tolerant&&(!E.uuid||!e.test(E.uuid))&&(E.error=E.error||"UUID is not valid."),E}function c(v){const w=v;return w.nss=(v.uuid||"").toLowerCase(),w}const d={scheme:"http",domainHost:!0,parse:r,serialize:i},f={scheme:"https",domainHost:d.domainHost,parse:r,serialize:i},h={scheme:"ws",domainHost:!0,parse:s,serialize:o},p={scheme:"wss",domainHost:h.domainHost,parse:h.parse,serialize:h.serialize},y={http:d,https:f,ws:h,wss:p,urn:{scheme:"urn",parse:a,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:u,serialize:c,skipNormalize:!0}};return G9=y,G9}var Ype;function Rqt(){if(Ype)return PC.exports;Ype=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:n,recomposeAuthority:r,normalizeComponentEncoding:i}=kqt(),s=Iqt();function o(g,y){return typeof g=="string"?g=c(p(g,y),y):typeof g=="object"&&(g=p(c(g,y),y)),g}function a(g,y,v){const w=Object.assign({scheme:"null"},v),E=l(p(g,w),p(y,w),w,!0);return c(E,{...w,skipEscape:!0})}function l(g,y,v,w){const E={};return w||(g=p(c(g,v),v),y=p(c(y,v),v)),v=v||{},!v.tolerant&&y.scheme?(E.scheme=y.scheme,E.userinfo=y.userinfo,E.host=y.host,E.port=y.port,E.path=n(y.path||""),E.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(E.userinfo=y.userinfo,E.host=y.host,E.port=y.port,E.path=n(y.path||""),E.query=y.query):(y.path?(y.path.charAt(0)==="/"?E.path=n(y.path):((g.userinfo!==void 0||g.host!==void 0||g.port!==void 0)&&!g.path?E.path="/"+y.path:g.path?E.path=g.path.slice(0,g.path.lastIndexOf("/")+1)+y.path:E.path=y.path,E.path=n(E.path)),E.query=y.query):(E.path=g.path,y.query!==void 0?E.query=y.query:E.query=g.query),E.userinfo=g.userinfo,E.host=g.host,E.port=g.port),E.scheme=g.scheme),E.fragment=y.fragment,E}function u(g,y,v){return typeof g=="string"?(g=unescape(g),g=c(i(p(g,v),!0),{...v,skipEscape:!0})):typeof g=="object"&&(g=c(i(g,!0),{...v,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=c(i(p(y,v),!0),{...v,skipEscape:!0})):typeof y=="object"&&(y=c(i(y,!0),{...v,skipEscape:!0})),g.toLowerCase()===y.toLowerCase()}function c(g,y){const v={host:g.host,scheme:g.scheme,userinfo:g.userinfo,port:g.port,path:g.path,query:g.query,nid:g.nid,nss:g.nss,uuid:g.uuid,fragment:g.fragment,reference:g.reference,resourceName:g.resourceName,secure:g.secure,error:""},w=Object.assign({},y),E=[],C=s[(w.scheme||v.scheme||"").toLowerCase()];C&&C.serialize&&C.serialize(v,w),v.path!==void 0&&(w.skipEscape?v.path=unescape(v.path):(v.path=escape(v.path),v.scheme!==void 0&&(v.path=v.path.split("%3A").join(":")))),w.reference!=="suffix"&&v.scheme&&E.push(v.scheme,":");const S=r(v);if(S!==void 0&&(w.reference!=="suffix"&&E.push("//"),E.push(S),v.path&&v.path.charAt(0)!=="/"&&E.push("/")),v.path!==void 0){let T=v.path;!w.absolutePath&&(!C||!C.absolutePath)&&(T=n(T)),S===void 0&&(T=T.replace(/^\/\//u,"/%2F")),E.push(T)}return v.query!==void 0&&E.push("?",v.query),v.fragment!==void 0&&E.push("#",v.fragment),E.join("")}const d=Array.from({length:127},(g,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function f(g){let y=0;for(let v=0,w=g.length;v<w;++v)if(y=g.charCodeAt(v),y>126||d[y])return!0;return!1}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(g,y){const v=Object.assign({},y),w={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},E=g.indexOf("%")!==-1;let C=!1;v.reference==="suffix"&&(g=(v.scheme?v.scheme+":":"")+"//"+g);const S=g.match(h);if(S){if(w.scheme=S[1],w.userinfo=S[3],w.host=S[4],w.port=parseInt(S[5],10),w.path=S[6]||"",w.query=S[7],w.fragment=S[8],isNaN(w.port)&&(w.port=S[5]),w.host){const A=t(w.host);if(A.isIPV4===!1){const I=e(A.host);w.host=I.host.toLowerCase(),C=I.isIPV6}else w.host=A.host,C=!0}w.scheme===void 0&&w.userinfo===void 0&&w.host===void 0&&w.port===void 0&&!w.path&&w.query===void 0?w.reference="same-document":w.scheme===void 0?w.reference="relative":w.fragment===void 0?w.reference="absolute":w.reference="uri",v.reference&&v.reference!=="suffix"&&v.reference!==w.reference&&(w.error=w.error||"URI is not a "+v.reference+" reference.");const T=s[(v.scheme||w.scheme||"").toLowerCase()];if(!v.unicodeSupport&&(!T||!T.unicodeSupport)&&w.host&&(v.domainHost||T&&T.domainHost)&&C===!1&&f(w.host))try{w.host=URL.domainToASCII(w.host.toLowerCase())}catch(A){w.error=w.error||"Host's domain name can not be converted to ASCII: "+A}(!T||T&&!T.skipNormalize)&&(E&&w.scheme!==void 0&&(w.scheme=unescape(w.scheme)),E&&w.host!==void 0&&(w.host=unescape(w.host)),w.path&&w.path.length&&(w.path=escape(unescape(w.path))),w.fragment&&w.fragment.length&&(w.fragment=encodeURI(decodeURIComponent(w.fragment)))),T&&T.parse&&T.parse(w,v)}else w.error=w.error||"URI can not be parsed.";return w}const m={SCHEMES:s,normalize:o,resolve:a,resolveComponents:l,equal:u,serialize:c,parse:p};return PC.exports=m,PC.exports.default=m,PC.exports.fastUri=m,PC.exports}var Kpe;function Dqt(){if(Kpe)return LR;Kpe=1,Object.defineProperty(LR,"__esModule",{value:!0});const e=Rqt();return e.code='require("ajv/dist/runtime/uri").default',LR.default=e,LR}var Xpe;function Pqt(){return Xpe||(Xpe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=w5();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Gn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=lee(),i=x5(),s=zNe(),o=uee(),a=Gn(),l=b5(),u=n$(),c=Tr(),d=Tqt,f=Dqt(),h=(U,F)=>new RegExp(U,F);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function w(U){var F,G,q,Y,J,te,ue,se,ne,fe,ee,ie,he,ye,Ce,Re,De,be,je,Qe,it,Ke,Pe,ze,ot;const xe=U.strict,Te=(F=U.code)===null||F===void 0?void 0:F.optimize,nt=Te===!0||Te===void 0?1:Te||0,ht=(q=(G=U.code)===null||G===void 0?void 0:G.regExp)!==null&&q!==void 0?q:h,st=(Y=U.uriResolver)!==null&&Y!==void 0?Y:f.default;return{strictSchema:(te=(J=U.strictSchema)!==null&&J!==void 0?J:xe)!==null&&te!==void 0?te:!0,strictNumbers:(se=(ue=U.strictNumbers)!==null&&ue!==void 0?ue:xe)!==null&&se!==void 0?se:!0,strictTypes:(fe=(ne=U.strictTypes)!==null&&ne!==void 0?ne:xe)!==null&&fe!==void 0?fe:"log",strictTuples:(ie=(ee=U.strictTuples)!==null&&ee!==void 0?ee:xe)!==null&&ie!==void 0?ie:"log",strictRequired:(ye=(he=U.strictRequired)!==null&&he!==void 0?he:xe)!==null&&ye!==void 0?ye:!1,code:U.code?{...U.code,optimize:nt,regExp:ht}:{optimize:nt,regExp:ht},loopRequired:(Ce=U.loopRequired)!==null&&Ce!==void 0?Ce:v,loopEnum:(Re=U.loopEnum)!==null&&Re!==void 0?Re:v,meta:(De=U.meta)!==null&&De!==void 0?De:!0,messages:(be=U.messages)!==null&&be!==void 0?be:!0,inlineRefs:(je=U.inlineRefs)!==null&&je!==void 0?je:!0,schemaId:(Qe=U.schemaId)!==null&&Qe!==void 0?Qe:"$id",addUsedSchema:(it=U.addUsedSchema)!==null&&it!==void 0?it:!0,validateSchema:(Ke=U.validateSchema)!==null&&Ke!==void 0?Ke:!0,validateFormats:(Pe=U.validateFormats)!==null&&Pe!==void 0?Pe:!0,unicodeRegExp:(ze=U.unicodeRegExp)!==null&&ze!==void 0?ze:!0,int32range:(ot=U.int32range)!==null&&ot!==void 0?ot:!0,uriResolver:st}}class E{constructor(F={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,F=this.opts={...F,...w(F)};const{es5:G,lines:q}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:G,lines:q}),this.logger=M(F.logger);const Y=F.validateFormats;F.validateFormats=!1,this.RULES=(0,s.getRules)(),C.call(this,g,F,"NOT SUPPORTED"),C.call(this,y,F,"DEPRECATED","warn"),this._metaOpts=D.call(this),F.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),F.keywords&&I.call(this,F.keywords),typeof F.meta=="object"&&this.addMetaSchema(F.meta),T.call(this),F.validateFormats=Y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:F,meta:G,schemaId:q}=this.opts;let Y=d;q==="id"&&(Y={...d},Y.id=Y.$id,delete Y.$id),G&&F&&this.addMetaSchema(Y,Y[q],!1)}defaultMeta(){const{meta:F,schemaId:G}=this.opts;return this.opts.defaultMeta=typeof F=="object"?F[G]||F:void 0}validate(F,G){let q;if(typeof F=="string"){if(q=this.getSchema(F),!q)throw new Error(`no schema with key or ref "${F}"`)}else q=this.compile(F);const Y=q(G);return"$async"in q||(this.errors=q.errors),Y}compile(F,G){const q=this._addSchema(F,G);return q.validate||this._compileSchemaEnv(q)}compileAsync(F,G){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:q}=this.opts;return Y.call(this,F,G);async function Y(fe,ee){await J.call(this,fe.$schema);const ie=this._addSchema(fe,ee);return ie.validate||te.call(this,ie)}async function J(fe){fe&&!this.getSchema(fe)&&await Y.call(this,{$ref:fe},!0)}async function te(fe){try{return this._compileSchemaEnv(fe)}catch(ee){if(!(ee instanceof i.default))throw ee;return ue.call(this,ee),await se.call(this,ee.missingSchema),te.call(this,fe)}}function ue({missingSchema:fe,missingRef:ee}){if(this.refs[fe])throw new Error(`AnySchema ${fe} is loaded but ${ee} cannot be resolved`)}async function se(fe){const ee=await ne.call(this,fe);this.refs[fe]||await J.call(this,ee.$schema),this.refs[fe]||this.addSchema(ee,fe,G)}async function ne(fe){const ee=this._loading[fe];if(ee)return ee;try{return await(this._loading[fe]=q(fe))}finally{delete this._loading[fe]}}}addSchema(F,G,q,Y=this.opts.validateSchema){if(Array.isArray(F)){for(const te of F)this.addSchema(te,void 0,q,Y);return this}let J;if(typeof F=="object"){const{schemaId:te}=this.opts;if(J=F[te],J!==void 0&&typeof J!="string")throw new Error(`schema ${te} must be string`)}return G=(0,l.normalizeId)(G||J),this._checkUnique(G),this.schemas[G]=this._addSchema(F,q,G,Y,!0),this}addMetaSchema(F,G,q=this.opts.validateSchema){return this.addSchema(F,G,!0,q),this}validateSchema(F,G){if(typeof F=="boolean")return!0;let q;if(q=F.$schema,q!==void 0&&typeof q!="string")throw new Error("$schema must be a string");if(q=q||this.opts.defaultMeta||this.defaultMeta(),!q)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const Y=this.validate(q,F);if(!Y&&G){const J="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(J);else throw new Error(J)}return Y}getSchema(F){let G;for(;typeof(G=S.call(this,F))=="string";)F=G;if(G===void 0){const{schemaId:q}=this.opts,Y=new o.SchemaEnv({schema:{},schemaId:q});if(G=o.resolveSchema.call(this,Y,F),!G)return;this.refs[F]=G}return G.validate||this._compileSchemaEnv(G)}removeSchema(F){if(F instanceof RegExp)return this._removeAllSchemas(this.schemas,F),this._removeAllSchemas(this.refs,F),this;switch(typeof F){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const G=S.call(this,F);return typeof G=="object"&&this._cache.delete(G.schema),delete this.schemas[F],delete this.refs[F],this}case"object":{const G=F;this._cache.delete(G);let q=F[this.opts.schemaId];return q&&(q=(0,l.normalizeId)(q),delete this.schemas[q],delete this.refs[q]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(F){for(const G of F)this.addKeyword(G);return this}addKeyword(F,G){let q;if(typeof F=="string")q=F,typeof G=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),G.keyword=q);else if(typeof F=="object"&&G===void 0){if(G=F,q=G.keyword,Array.isArray(q)&&!q.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(L.call(this,q,G),!G)return(0,c.eachItem)(q,J=>z.call(this,J)),this;W.call(this,G);const Y={...G,type:(0,u.getJSONTypes)(G.type),schemaType:(0,u.getJSONTypes)(G.schemaType)};return(0,c.eachItem)(q,Y.type.length===0?J=>z.call(this,J,Y):J=>Y.type.forEach(te=>z.call(this,J,Y,te))),this}getKeyword(F){const G=this.RULES.all[F];return typeof G=="object"?G.definition:!!G}removeKeyword(F){const{RULES:G}=this;delete G.keywords[F],delete G.all[F];for(const q of G.rules){const Y=q.rules.findIndex(J=>J.keyword===F);Y>=0&&q.rules.splice(Y,1)}return this}addFormat(F,G){return typeof G=="string"&&(G=new RegExp(G)),this.formats[F]=G,this}errorsText(F=this.errors,{separator:G=", ",dataVar:q="data"}={}){return!F||F.length===0?"No errors":F.map(Y=>`${q}${Y.instancePath} ${Y.message}`).reduce((Y,J)=>Y+G+J)}$dataMetaSchema(F,G){const q=this.RULES.all;F=JSON.parse(JSON.stringify(F));for(const Y of G){const J=Y.split("/").slice(1);let te=F;for(const ue of J)te=te[ue];for(const ue in q){const se=q[ue];if(typeof se!="object")continue;const{$data:ne}=se.definition,fe=te[ue];ne&&fe&&(te[ue]=X(fe))}}return F}_removeAllSchemas(F,G){for(const q in F){const Y=F[q];(!G||G.test(q))&&(typeof Y=="string"?delete F[q]:Y&&!Y.meta&&(this._cache.delete(Y.schema),delete F[q]))}}_addSchema(F,G,q,Y=this.opts.validateSchema,J=this.opts.addUsedSchema){let te;const{schemaId:ue}=this.opts;if(typeof F=="object")te=F[ue];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof F!="boolean")throw new Error("schema must be object or boolean")}let se=this._cache.get(F);if(se!==void 0)return se;q=(0,l.normalizeId)(te||q);const ne=l.getSchemaRefs.call(this,F,q);return se=new o.SchemaEnv({schema:F,schemaId:ue,meta:G,baseId:q,localRefs:ne}),this._cache.set(se.schema,se),J&&!q.startsWith("#")&&(q&&this._checkUnique(q),this.refs[q]=se),Y&&this.validateSchema(F,!0),se}_checkUnique(F){if(this.schemas[F]||this.refs[F])throw new Error(`schema with key or id "${F}" already exists`)}_compileSchemaEnv(F){if(F.meta?this._compileMetaSchema(F):o.compileSchema.call(this,F),!F.validate)throw new Error("ajv implementation error");return F.validate}_compileMetaSchema(F){const G=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,F)}finally{this.opts=G}}}E.ValidationError=r.default,E.MissingRefError=i.default,e.default=E;function C(U,F,G,q="error"){for(const Y in U){const J=Y;J in F&&this.logger[q](`${G}: option ${Y}. ${U[J]}`)}}function S(U){return U=(0,l.normalizeId)(U),this.schemas[U]||this.refs[U]}function T(){const U=this.opts.schemas;if(U)if(Array.isArray(U))this.addSchema(U);else for(const F in U)this.addSchema(U[F],F)}function A(){for(const U in this.opts.formats){const F=this.opts.formats[U];F&&this.addFormat(U,F)}}function I(U){if(Array.isArray(U)){this.addVocabulary(U);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const F in U){const G=U[F];G.keyword||(G.keyword=F),this.addKeyword(G)}}function D(){const U={...this.opts};for(const F of p)delete U[F];return U}const O={log(){},warn(){},error(){}};function M(U){if(U===!1)return O;if(U===void 0)return console;if(U.log&&U.warn&&U.error)return U;throw new Error("logger must implement log, warn and error methods")}const $=/^[a-z_$][a-z0-9_$:-]*$/i;function L(U,F){const{RULES:G}=this;if((0,c.eachItem)(U,q=>{if(G.keywords[q])throw new Error(`Keyword ${q} is already defined`);if(!$.test(q))throw new Error(`Keyword ${q} has invalid name`)}),!!F&&F.$data&&!("code"in F||"validate"in F))throw new Error('$data keyword must have "code" or "validate" function')}function z(U,F,G){var q;const Y=F==null?void 0:F.post;if(G&&Y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:J}=this;let te=Y?J.post:J.rules.find(({type:se})=>se===G);if(te||(te={type:G,rules:[]},J.rules.push(te)),J.keywords[U]=!0,!F)return;const ue={keyword:U,definition:{...F,type:(0,u.getJSONTypes)(F.type),schemaType:(0,u.getJSONTypes)(F.schemaType)}};F.before?B.call(this,te,ue,F.before):te.rules.push(ue),J.all[U]=ue,(q=F.implements)===null||q===void 0||q.forEach(se=>this.addKeyword(se))}function B(U,F,G){const q=U.rules.findIndex(Y=>Y.keyword===G);q>=0?U.rules.splice(q,0,F):(U.rules.push(F),this.logger.warn(`rule ${G} is not defined`))}function W(U){let{metaSchema:F}=U;F!==void 0&&(U.$data&&this.opts.$data&&(F=X(F)),U.validateSchema=this.compile(F,!0))}const V={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function X(U){return{anyOf:[U,V]}}}(j9)),j9}var jR={},BR={},zR={},Qpe;function Oqt(){if(Qpe)return zR;Qpe=1,Object.defineProperty(zR,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return zR.default=e,zR}var Ym={},Jpe;function Nqt(){if(Jpe)return Ym;Jpe=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.callRef=Ym.getValidate=void 0;const e=x5(),t=Xd(),n=Gn(),r=Ug(),i=uee(),s=Tr(),o={keyword:"$ref",schemaType:"string",code(u){const{gen:c,schema:d,it:f}=u,{baseId:h,schemaEnv:p,validateName:m,opts:g,self:y}=f,{root:v}=p;if((d==="#"||d==="#/")&&h===v.baseId)return E();const w=i.resolveRef.call(y,v,h,d);if(w===void 0)throw new e.default(f.opts.uriResolver,h,d);if(w instanceof i.SchemaEnv)return C(w);return S(w);function E(){if(p===v)return l(u,m,p,p.$async);const T=c.scopeValue("root",{ref:v});return l(u,(0,n._)`${T}.validate`,v,v.$async)}function C(T){const A=a(u,T);l(u,A,T,T.$async)}function S(T){const A=c.scopeValue("schema",g.code.source===!0?{ref:T,code:(0,n.stringify)(T)}:{ref:T}),I=c.name("valid"),D=u.subschema({schema:T,dataTypes:[],schemaPath:n.nil,topSchemaRef:A,errSchemaPath:d},I);u.mergeEvaluated(D),u.ok(I)}}};function a(u,c){const{gen:d}=u;return c.validate?d.scopeValue("validate",{ref:c.validate}):(0,n._)`${d.scopeValue("wrapper",{ref:c})}.validate`}Ym.getValidate=a;function l(u,c,d,f){const{gen:h,it:p}=u,{allErrors:m,schemaEnv:g,opts:y}=p,v=y.passContext?r.default.this:n.nil;f?w():E();function w(){if(!g.$async)throw new Error("async schema referenced by sync schema");const T=h.let("valid");h.try(()=>{h.code((0,n._)`await ${(0,t.callValidateCode)(u,c,v)}`),S(c),m||h.assign(T,!0)},A=>{h.if((0,n._)`!(${A} instanceof ${p.ValidationError})`,()=>h.throw(A)),C(A),m||h.assign(T,!1)}),u.ok(T)}function E(){u.result((0,t.callValidateCode)(u,c,v),()=>S(c),()=>C(c))}function C(T){const A=(0,n._)`${T}.errors`;h.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${A} : ${r.default.vErrors}.concat(${A})`),h.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function S(T){var A;if(!p.opts.unevaluated)return;const I=(A=d==null?void 0:d.validate)===null||A===void 0?void 0:A.evaluated;if(p.props!==!0)if(I&&!I.dynamicProps)I.props!==void 0&&(p.props=s.mergeEvaluated.props(h,I.props,p.props));else{const D=h.var("props",(0,n._)`${T}.evaluated.props`);p.props=s.mergeEvaluated.props(h,D,p.props,n.Name)}if(p.items!==!0)if(I&&!I.dynamicItems)I.items!==void 0&&(p.items=s.mergeEvaluated.items(h,I.items,p.items));else{const D=h.var("items",(0,n._)`${T}.evaluated.items`);p.items=s.mergeEvaluated.items(h,D,p.items,n.Name)}}}return Ym.callRef=l,Ym.default=o,Ym}var Zpe;function $qt(){if(Zpe)return BR;Zpe=1,Object.defineProperty(BR,"__esModule",{value:!0});const e=Oqt(),t=Nqt(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return BR.default=n,BR}var UR={},HR={},eme;function Mqt(){if(eme)return HR;eme=1,Object.defineProperty(HR,"__esModule",{value:!0});const e=Gn(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:s,schemaCode:o})=>(0,e.str)`must be ${n[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,e._)`{comparison: ${n[s].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(s){const{keyword:o,data:a,schemaCode:l}=s;s.fail$data((0,e._)`${a} ${n[o].fail} ${l} || isNaN(${a})`)}};return HR.default=i,HR}var qR={},tme;function Fqt(){if(tme)return qR;tme=1,Object.defineProperty(qR,"__esModule",{value:!0});const e=Gn(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:s,schemaCode:o,it:a}=r,l=a.opts.multipleOfPrecision,u=i.let("res"),c=l?(0,e._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${l}`:(0,e._)`${u} !== parseInt(${u})`;r.fail$data((0,e._)`(${o} === 0 || (${u} = ${s}/${o}, ${c}))`)}};return qR.default=n,qR}var VR={},WR={},nme;function Lqt(){if(nme)return WR;nme=1,Object.defineProperty(WR,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,s;for(;i<n;)r++,s=t.charCodeAt(i++),s>=55296&&s<=56319&&i<n&&(s=t.charCodeAt(i),(s&64512)===56320&&i++);return r}return WR.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',WR}var rme;function jqt(){if(rme)return VR;rme=1,Object.defineProperty(VR,"__esModule",{value:!0});const e=Gn(),t=Tr(),n=Lqt(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const a=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${o} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:o,data:a,schemaCode:l,it:u}=s,c=o==="maxLength"?e.operators.GT:e.operators.LT,d=u.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(s.gen,n.default)}(${a})`;s.fail$data((0,e._)`${d} ${c} ${l}`)}};return VR.default=i,VR}var GR={},ime;function Bqt(){if(ime)return GR;ime=1,Object.defineProperty(GR,"__esModule",{value:!0});const e=Xd(),t=Gn(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:s,$data:o,schema:a,schemaCode:l,it:u}=i,c=u.opts.unicodeRegExp?"u":"",d=o?(0,t._)`(new RegExp(${l}, ${c}))`:(0,e.usePattern)(i,a);i.fail$data((0,t._)`!${d}.test(${s})`)}};return GR.default=r,GR}var YR={},sme;function zqt(){if(sme)return YR;sme=1,Object.defineProperty(YR,"__esModule",{value:!0});const e=Gn(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,a=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${s}).length ${a} ${o}`)}};return YR.default=n,YR}var KR={},ome;function Uqt(){if(ome)return KR;ome=1,Object.defineProperty(KR,"__esModule",{value:!0});const e=Xd(),t=Gn(),n=Tr(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,t.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,t._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:a,schemaCode:l,data:u,$data:c,it:d}=s,{opts:f}=d;if(!c&&a.length===0)return;const h=a.length>=f.loopRequired;if(d.allErrors?p():m(),f.strictRequired){const v=s.parentSchema.properties,{definedProperties:w}=s.it;for(const E of a)if((v==null?void 0:v[E])===void 0&&!w.has(E)){const C=d.schemaEnv.baseId+d.errSchemaPath,S=`required property "${E}" is not defined at "${C}" (strictRequired)`;(0,n.checkStrictMode)(d,S,d.opts.strictRequired)}}function p(){if(h||c)s.block$data(t.nil,g);else for(const v of a)(0,e.checkReportMissingProp)(s,v)}function m(){const v=o.let("missing");if(h||c){const w=o.let("valid",!0);s.block$data(w,()=>y(v,w)),s.ok(w)}else o.if((0,e.checkMissingProp)(s,a,v)),(0,e.reportMissingProp)(s,v),o.else()}function g(){o.forOf("prop",l,v=>{s.setParams({missingProperty:v}),o.if((0,e.noPropertyInData)(o,u,v,f.ownProperties),()=>s.error())})}function y(v,w){s.setParams({missingProperty:v}),o.forOf(v,l,()=>{o.assign(w,(0,e.propertyInData)(o,u,v,f.ownProperties)),o.if((0,t.not)(w),()=>{s.error(),o.break()})},t.nil)}}};return KR.default=i,KR}var XR={},ame;function Hqt(){if(ame)return XR;ame=1,Object.defineProperty(XR,"__esModule",{value:!0});const e=Gn(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,a=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${s}.length ${a} ${o}`)}};return XR.default=n,XR}var QR={},JR={},lme;function cee(){if(lme)return JR;lme=1,Object.defineProperty(JR,"__esModule",{value:!0});const e=QY();return e.code='require("ajv/dist/runtime/equal").default',JR.default=e,JR}var ume;function qqt(){if(ume)return QR;ume=1,Object.defineProperty(QR,"__esModule",{value:!0});const e=n$(),t=Gn(),n=Tr(),r=cee(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${o} are identical)`,params:({params:{i:o,j:a}})=>(0,t._)`{i: ${o}, j: ${a}}`},code(o){const{gen:a,data:l,$data:u,schema:c,parentSchema:d,schemaCode:f,it:h}=o;if(!u&&!c)return;const p=a.let("valid"),m=d.items?(0,e.getSchemaTypes)(d.items):[];o.block$data(p,g,(0,t._)`${f} === false`),o.ok(p);function g(){const E=a.let("i",(0,t._)`${l}.length`),C=a.let("j");o.setParams({i:E,j:C}),a.assign(p,!0),a.if((0,t._)`${E} > 1`,()=>(y()?v:w)(E,C))}function y(){return m.length>0&&!m.some(E=>E==="object"||E==="array")}function v(E,C){const S=a.name("item"),T=(0,e.checkDataTypes)(m,S,h.opts.strictNumbers,e.DataType.Wrong),A=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${E}--;`,()=>{a.let(S,(0,t._)`${l}[${E}]`),a.if(T,(0,t._)`continue`),m.length>1&&a.if((0,t._)`typeof ${S} == "string"`,(0,t._)`${S} += "_"`),a.if((0,t._)`typeof ${A}[${S}] == "number"`,()=>{a.assign(C,(0,t._)`${A}[${S}]`),o.error(),a.assign(p,!1).break()}).code((0,t._)`${A}[${S}] = ${E}`)})}function w(E,C){const S=(0,n.useFunc)(a,r.default),T=a.name("outer");a.label(T).for((0,t._)`;${E}--;`,()=>a.for((0,t._)`${C} = ${E}; ${C}--;`,()=>a.if((0,t._)`${S}(${l}[${E}], ${l}[${C}])`,()=>{o.error(),a.assign(p,!1).break(T)})))}}};return QR.default=s,QR}var ZR={},cme;function Vqt(){if(cme)return ZR;cme=1,Object.defineProperty(ZR,"__esModule",{value:!0});const e=Gn(),t=Tr(),n=cee(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:a,$data:l,schemaCode:u,schema:c}=s;l||c&&typeof c=="object"?s.fail$data((0,e._)`!${(0,t.useFunc)(o,n.default)}(${a}, ${u})`):s.fail((0,e._)`${c} !== ${a}`)}};return ZR.default=i,ZR}var eD={},dme;function Wqt(){if(dme)return eD;dme=1,Object.defineProperty(eD,"__esModule",{value:!0});const e=Gn(),t=Tr(),n=cee(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:a,$data:l,schema:u,schemaCode:c,it:d}=s;if(!l&&u.length===0)throw new Error("enum must have non-empty array");const f=u.length>=d.opts.loopEnum;let h;const p=()=>h??(h=(0,t.useFunc)(o,n.default));let m;if(f||l)m=o.let("valid"),s.block$data(m,g);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const v=o.const("vSchema",c);m=(0,e.or)(...u.map((w,E)=>y(v,E)))}s.pass(m);function g(){o.assign(m,!1),o.forOf("v",c,v=>o.if((0,e._)`${p()}(${a}, ${v})`,()=>o.assign(m,!0).break()))}function y(v,w){const E=u[w];return typeof E=="object"&&E!==null?(0,e._)`${p()}(${a}, ${v}[${w}])`:(0,e._)`${a} === ${E}`}}};return eD.default=i,eD}var fme;function Gqt(){if(fme)return UR;fme=1,Object.defineProperty(UR,"__esModule",{value:!0});const e=Mqt(),t=Fqt(),n=jqt(),r=Bqt(),i=zqt(),s=Uqt(),o=Hqt(),a=qqt(),l=Vqt(),u=Wqt(),c=[e.default,t.default,n.default,r.default,i.default,s.default,o.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,u.default];return UR.default=c,UR}var tD={},Q1={},hme;function HNe(){if(hme)return Q1;hme=1,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.validateAdditionalItems=void 0;const e=Gn(),t=Tr(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:a}=s,{items:l}=o;if(!Array.isArray(l)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,l)}};function i(s,o){const{gen:a,schema:l,data:u,keyword:c,it:d}=s;d.items=!0;const f=a.const("len",(0,e._)`${u}.length`);if(l===!1)s.setParams({len:o.length}),s.pass((0,e._)`${f} <= ${o.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(d,l)){const p=a.var("valid",(0,e._)`${f} <= ${o.length}`);a.if((0,e.not)(p),()=>h(p)),s.ok(p)}function h(p){a.forRange("i",o.length,f,m=>{s.subschema({keyword:c,dataProp:m,dataPropType:t.Type.Num},p),d.allErrors||a.if((0,e.not)(p),()=>a.break())})}}return Q1.validateAdditionalItems=i,Q1.default=r,Q1}var nD={},J1={},pme;function qNe(){if(pme)return J1;pme=1,Object.defineProperty(J1,"__esModule",{value:!0}),J1.validateTuple=void 0;const e=Gn(),t=Tr(),n=Xd(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:a}=s;if(Array.isArray(o))return i(s,"additionalItems",o);a.items=!0,!(0,t.alwaysValidSchema)(a,o)&&s.ok((0,n.validateArray)(s))}};function i(s,o,a=s.schema){const{gen:l,parentSchema:u,data:c,keyword:d,it:f}=s;m(u),f.opts.unevaluated&&a.length&&f.items!==!0&&(f.items=t.mergeEvaluated.items(l,a.length,f.items));const h=l.name("valid"),p=l.const("len",(0,e._)`${c}.length`);a.forEach((g,y)=>{(0,t.alwaysValidSchema)(f,g)||(l.if((0,e._)`${p} > ${y}`,()=>s.subschema({keyword:d,schemaProp:y,dataProp:y},h)),s.ok(h))});function m(g){const{opts:y,errSchemaPath:v}=f,w=a.length,E=w===g.minItems&&(w===g.maxItems||g[o]===!1);if(y.strictTuples&&!E){const C=`"${d}" is ${w}-tuple, but minItems or maxItems/${o} are not specified or different at path "${v}"`;(0,t.checkStrictMode)(f,C,y.strictTuples)}}}return J1.validateTuple=i,J1.default=r,J1}var mme;function Yqt(){if(mme)return nD;mme=1,Object.defineProperty(nD,"__esModule",{value:!0});const e=qNe(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return nD.default=t,nD}var rD={},gme;function Kqt(){if(gme)return rD;gme=1,Object.defineProperty(rD,"__esModule",{value:!0});const e=Gn(),t=Tr(),n=Xd(),r=HNe(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:a,parentSchema:l,it:u}=o,{prefixItems:c}=l;u.items=!0,!(0,t.alwaysValidSchema)(u,a)&&(c?(0,r.validateAdditionalItems)(o,c):o.ok((0,n.validateArray)(o)))}};return rD.default=s,rD}var iD={},yme;function Xqt(){if(yme)return iD;yme=1,Object.defineProperty(iD,"__esModule",{value:!0});const e=Gn(),t=Tr(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:o,parentSchema:a,data:l,it:u}=i;let c,d;const{minContains:f,maxContains:h}=a;u.opts.next?(c=f===void 0?1:f,d=h):c=1;const p=s.const("len",(0,e._)`${l}.length`);if(i.setParams({min:c,max:d}),d===void 0&&c===0){(0,t.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&c>d){(0,t.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(u,o)){let w=(0,e._)`${p} >= ${c}`;d!==void 0&&(w=(0,e._)`${w} && ${p} <= ${d}`),i.pass(w);return}u.items=!0;const m=s.name("valid");d===void 0&&c===1?y(m,()=>s.if(m,()=>s.break())):c===0?(s.let(m,!0),d!==void 0&&s.if((0,e._)`${l}.length > 0`,g)):(s.let(m,!1),g()),i.result(m,()=>i.reset());function g(){const w=s.name("_valid"),E=s.let("count",0);y(w,()=>s.if(w,()=>v(E)))}function y(w,E){s.forRange("i",0,p,C=>{i.subschema({keyword:"contains",dataProp:C,dataPropType:t.Type.Num,compositeRule:!0},w),E()})}function v(w){s.code((0,e._)`${w}++`),d===void 0?s.if((0,e._)`${w} >= ${c}`,()=>s.assign(m,!0).break()):(s.if((0,e._)`${w} > ${d}`,()=>s.assign(m,!1).break()),c===1?s.assign(m,!0):s.if((0,e._)`${w} >= ${c}`,()=>s.assign(m,!0)))}}};return iD.default=r,iD}var Y9={},vme;function Qqt(){return vme||(vme=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Gn(),n=Tr(),r=Xd();e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=s(l);o(l,u),a(l,c)}};function s({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?u:c;f[d]=l[d]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:d,it:f}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const p in u){const m=u[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,d,p,f.opts.ownProperties);l.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),f.allErrors?c.if(g,()=>{for(const y of m)(0,r.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(l,m,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:d,keyword:f,it:h}=l,p=c.name("valid");for(const m in u)(0,n.alwaysValidSchema)(h,u[m])||(c.if((0,r.propertyInData)(c,d,m,h.opts.ownProperties),()=>{const g=l.subschema({keyword:f,schemaProp:m},p);l.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),l.ok(p))}e.validateSchemaDeps=a,e.default=i}(Y9)),Y9}var sD={},bme;function Jqt(){if(bme)return sD;bme=1,Object.defineProperty(sD,"__esModule",{value:!0});const e=Gn(),t=Tr(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:o,data:a,it:l}=i;if((0,t.alwaysValidSchema)(l,o))return;const u=s.name("valid");s.forIn("key",a,c=>{i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),s.if((0,e.not)(u),()=>{i.error(!0),l.allErrors||s.break()})}),i.ok(u)}};return sD.default=r,sD}var oD={},wme;function VNe(){if(wme)return oD;wme=1,Object.defineProperty(oD,"__esModule",{value:!0});const e=Xd(),t=Gn(),n=Ug(),r=Tr(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:a,schema:l,parentSchema:u,data:c,errsCount:d,it:f}=o;if(!d)throw new Error("ajv implementation error");const{allErrors:h,opts:p}=f;if(f.props=!0,p.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(f,l))return;const m=(0,e.allSchemaProperties)(u.properties),g=(0,e.allSchemaProperties)(u.patternProperties);y(),o.ok((0,t._)`${d} === ${n.default.errors}`);function y(){a.forIn("key",c,S=>{!m.length&&!g.length?E(S):a.if(v(S),()=>E(S))})}function v(S){let T;if(m.length>8){const A=(0,r.schemaRefOrVal)(f,u.properties,"properties");T=(0,e.isOwnProperty)(a,A,S)}else m.length?T=(0,t.or)(...m.map(A=>(0,t._)`${S} === ${A}`)):T=t.nil;return g.length&&(T=(0,t.or)(T,...g.map(A=>(0,t._)`${(0,e.usePattern)(o,A)}.test(${S})`))),(0,t.not)(T)}function w(S){a.code((0,t._)`delete ${c}[${S}]`)}function E(S){if(p.removeAdditional==="all"||p.removeAdditional&&l===!1){w(S);return}if(l===!1){o.setParams({additionalProperty:S}),o.error(),h||a.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(f,l)){const T=a.name("valid");p.removeAdditional==="failing"?(C(S,T,!1),a.if((0,t.not)(T),()=>{o.reset(),w(S)})):(C(S,T),h||a.if((0,t.not)(T),()=>a.break()))}}function C(S,T,A){const I={keyword:"additionalProperties",dataProp:S,dataPropType:r.Type.Str};A===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(I,T)}}};return oD.default=s,oD}var aD={},xme;function Zqt(){if(xme)return aD;xme=1,Object.defineProperty(aD,"__esModule",{value:!0});const e=w5(),t=Xd(),n=Tr(),r=VNe(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:a,parentSchema:l,data:u,it:c}=s;c.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(c,r.default,"additionalProperties"));const d=(0,t.allSchemaProperties)(a);for(const g of d)c.definedProperties.add(g);c.opts.unevaluated&&d.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(o,(0,n.toHash)(d),c.props));const f=d.filter(g=>!(0,n.alwaysValidSchema)(c,a[g]));if(f.length===0)return;const h=o.name("valid");for(const g of f)p(g)?m(g):(o.if((0,t.propertyInData)(o,u,g,c.opts.ownProperties)),m(g),c.allErrors||o.else().var(h,!0),o.endIf()),s.it.definedProperties.add(g),s.ok(h);function p(g){return c.opts.useDefaults&&!c.compositeRule&&a[g].default!==void 0}function m(g){s.subschema({keyword:"properties",schemaProp:g,dataProp:g},h)}}};return aD.default=i,aD}var lD={},_me;function eVt(){if(_me)return lD;_me=1,Object.defineProperty(lD,"__esModule",{value:!0});const e=Xd(),t=Gn(),n=Tr(),r=Tr(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:a,data:l,parentSchema:u,it:c}=s,{opts:d}=c,f=(0,e.allSchemaProperties)(a),h=f.filter(E=>(0,n.alwaysValidSchema)(c,a[E]));if(f.length===0||h.length===f.length&&(!c.opts.unevaluated||c.props===!0))return;const p=d.strictSchema&&!d.allowMatchingProperties&&u.properties,m=o.name("valid");c.props!==!0&&!(c.props instanceof t.Name)&&(c.props=(0,r.evaluatedPropsToName)(o,c.props));const{props:g}=c;y();function y(){for(const E of f)p&&v(E),c.allErrors?w(E):(o.var(m,!0),w(E),o.if(m))}function v(E){for(const C in p)new RegExp(E).test(C)&&(0,n.checkStrictMode)(c,`property ${C} matches pattern ${E} (use allowMatchingProperties)`)}function w(E){o.forIn("key",l,C=>{o.if((0,t._)`${(0,e.usePattern)(s,E)}.test(${C})`,()=>{const S=h.includes(E);S||s.subschema({keyword:"patternProperties",schemaProp:E,dataProp:C,dataPropType:r.Type.Str},m),c.opts.unevaluated&&g!==!0?o.assign((0,t._)`${g}[${C}]`,!0):!S&&!c.allErrors&&o.if((0,t.not)(m),()=>o.break())})})}}};return lD.default=i,lD}var uD={},Eme;function tVt(){if(Eme)return uD;Eme=1,Object.defineProperty(uD,"__esModule",{value:!0});const e=Tr(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:s}=n;if((0,e.alwaysValidSchema)(s,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return uD.default=t,uD}var cD={},Cme;function nVt(){if(Cme)return cD;Cme=1,Object.defineProperty(cD,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Xd().validateUnion,error:{message:"must match a schema in anyOf"}};return cD.default=t,cD}var dD={},Sme;function rVt(){if(Sme)return dD;Sme=1,Object.defineProperty(dD,"__esModule",{value:!0});const e=Gn(),t=Tr(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:o,parentSchema:a,it:l}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(l.opts.discriminator&&a.discriminator)return;const u=o,c=s.let("valid",!1),d=s.let("passing",null),f=s.name("_valid");i.setParams({passing:d}),s.block(h),i.result(c,()=>i.reset(),()=>i.error(!0));function h(){u.forEach((p,m)=>{let g;(0,t.alwaysValidSchema)(l,p)?s.var(f,!0):g=i.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},f),m>0&&s.if((0,e._)`${f} && ${c}`).assign(c,!1).assign(d,(0,e._)`[${d}, ${m}]`).else(),s.if(f,()=>{s.assign(c,!0),s.assign(d,m),g&&i.mergeEvaluated(g,e.Name)})})}}};return dD.default=r,dD}var fD={},Tme;function iVt(){if(Tme)return fD;Tme=1,Object.defineProperty(fD,"__esModule",{value:!0});const e=Tr(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:s}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((a,l)=>{if((0,e.alwaysValidSchema)(s,a))return;const u=n.subschema({keyword:"allOf",schemaProp:l},o);n.ok(o),n.mergeEvaluated(u)})}};return fD.default=t,fD}var hD={},Ame;function sVt(){if(Ame)return hD;Ame=1,Object.defineProperty(hD,"__esModule",{value:!0});const e=Gn(),t=Tr(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:a,it:l}=s;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const u=i(l,"then"),c=i(l,"else");if(!u&&!c)return;const d=o.let("valid",!0),f=o.name("_valid");if(h(),s.reset(),u&&c){const m=o.let("ifClause");s.setParams({ifClause:m}),o.if(f,p("then",m),p("else",m))}else u?o.if(f,p("then")):o.if((0,e.not)(f),p("else"));s.pass(d,()=>s.error(!0));function h(){const m=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);s.mergeEvaluated(m)}function p(m,g){return()=>{const y=s.subschema({keyword:m},f);o.assign(d,f),s.mergeValidEvaluated(y,d),g?o.assign(g,(0,e._)`${m}`):s.setParams({ifClause:m})}}}};function i(s,o){const a=s.schema[o];return a!==void 0&&!(0,t.alwaysValidSchema)(s,a)}return hD.default=r,hD}var pD={},kme;function oVt(){if(kme)return pD;kme=1,Object.defineProperty(pD,"__esModule",{value:!0});const e=Tr(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return pD.default=t,pD}var Ime;function aVt(){if(Ime)return tD;Ime=1,Object.defineProperty(tD,"__esModule",{value:!0});const e=HNe(),t=Yqt(),n=qNe(),r=Kqt(),i=Xqt(),s=Qqt(),o=Jqt(),a=VNe(),l=Zqt(),u=eVt(),c=tVt(),d=nVt(),f=rVt(),h=iVt(),p=sVt(),m=oVt();function g(y=!1){const v=[c.default,d.default,f.default,h.default,p.default,m.default,o.default,a.default,s.default,l.default,u.default];return y?v.push(t.default,r.default):v.push(e.default,n.default),v.push(i.default),v}return tD.default=g,tD}var mD={},gD={},Rme;function lVt(){if(Rme)return gD;Rme=1,Object.defineProperty(gD,"__esModule",{value:!0});const e=Gn(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:s,data:o,$data:a,schema:l,schemaCode:u,it:c}=r,{opts:d,errSchemaPath:f,schemaEnv:h,self:p}=c;if(!d.validateFormats)return;a?m():g();function m(){const y=s.scopeValue("formats",{ref:p.formats,code:d.code.formats}),v=s.const("fDef",(0,e._)`${y}[${u}]`),w=s.let("fType"),E=s.let("format");s.if((0,e._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>s.assign(w,(0,e._)`${v}.type || "string"`).assign(E,(0,e._)`${v}.validate`),()=>s.assign(w,(0,e._)`"string"`).assign(E,v)),r.fail$data((0,e.or)(C(),S()));function C(){return d.strictSchema===!1?e.nil:(0,e._)`${u} && !${E}`}function S(){const T=h.$async?(0,e._)`(${v}.async ? await ${E}(${o}) : ${E}(${o}))`:(0,e._)`${E}(${o})`,A=(0,e._)`(typeof ${E} == "function" ? ${T} : ${E}.test(${o}))`;return(0,e._)`${E} && ${E} !== true && ${w} === ${i} && !${A}`}}function g(){const y=p.formats[l];if(!y){C();return}if(y===!0)return;const[v,w,E]=S(y);v===i&&r.pass(T());function C(){if(d.strictSchema===!1){p.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${l}" ignored in schema at path "${f}"`}}function S(A){const I=A instanceof RegExp?(0,e.regexpCode)(A):d.code.formats?(0,e._)`${d.code.formats}${(0,e.getProperty)(l)}`:void 0,D=s.scopeValue("formats",{key:l,ref:A,code:I});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,e._)`${D}.validate`]:["string",A,D]}function T(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!h.$async)throw new Error("async format in sync schema");return(0,e._)`await ${E}(${o})`}return typeof w=="function"?(0,e._)`${E}(${o})`:(0,e._)`${E}.test(${o})`}}}};return gD.default=n,gD}var Dme;function uVt(){if(Dme)return mD;Dme=1,Object.defineProperty(mD,"__esModule",{value:!0});const t=[lVt().default];return mD.default=t,mD}var Ey={},Pme;function cVt(){return Pme||(Pme=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.contentVocabulary=Ey.metadataVocabulary=void 0,Ey.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Ey.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Ey}var Ome;function dVt(){if(Ome)return jR;Ome=1,Object.defineProperty(jR,"__esModule",{value:!0});const e=$qt(),t=Gqt(),n=aVt(),r=uVt(),i=cVt(),s=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return jR.default=s,jR}var yD={},OC={},Nme;function fVt(){if(Nme)return OC;Nme=1,Object.defineProperty(OC,"__esModule",{value:!0}),OC.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(OC.DiscrError=e={})),OC}var $me;function hVt(){if($me)return yD;$me=1,Object.defineProperty(yD,"__esModule",{value:!0});const e=Gn(),t=fVt(),n=uee(),r=x5(),i=Tr(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:l}})=>a===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,e._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},code(a){const{gen:l,data:u,schema:c,parentSchema:d,it:f}=a,{oneOf:h}=d;if(!f.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=c.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const m=l.let("valid",!1),g=l.const("tag",(0,e._)`${u}${(0,e.getProperty)(p)}`);l.if((0,e._)`typeof ${g} == "string"`,()=>y(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:g,tagName:p})),a.ok(m);function y(){const E=w();l.if(!1);for(const C in E)l.elseIf((0,e._)`${g} === ${C}`),l.assign(m,v(E[C]));l.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:g,tagName:p}),l.endIf()}function v(E){const C=l.name("valid"),S=a.subschema({keyword:"oneOf",schemaProp:E},C);return a.mergeEvaluated(S,e.Name),C}function w(){var E;const C={},S=A(d);let T=!0;for(let O=0;O<h.length;O++){let M=h[O];if(M!=null&&M.$ref&&!(0,i.schemaHasRulesButRef)(M,f.self.RULES)){const L=M.$ref;if(M=n.resolveRef.call(f.self,f.schemaEnv.root,f.baseId,L),M instanceof n.SchemaEnv&&(M=M.schema),M===void 0)throw new r.default(f.opts.uriResolver,f.baseId,L)}const $=(E=M==null?void 0:M.properties)===null||E===void 0?void 0:E[p];if(typeof $!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);T=T&&(S||A(M)),I($,O)}if(!T)throw new Error(`discriminator: "${p}" must be required`);return C;function A({required:O}){return Array.isArray(O)&&O.includes(p)}function I(O,M){if(O.const)D(O.const,M);else if(O.enum)for(const $ of O.enum)D($,M);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function D(O,M){if(typeof O!="string"||O in C)throw new Error(`discriminator: "${p}" values must be unique strings`);C[O]=M}}}};return yD.default=o,yD}const pVt="http://json-schema.org/draft-07/schema#",mVt="http://json-schema.org/draft-07/schema#",gVt="Core schema meta-schema",yVt={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},vVt=["object","boolean"],bVt={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},wVt={$schema:pVt,$id:mVt,title:gVt,definitions:yVt,type:vVt,properties:bVt,default:!0};var Mme;function xVt(){return Mme||(Mme=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=Pqt(),r=dVt(),i=hVt(),s=wVt,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=w5();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=Gn();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=lee();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=x5();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})}(NR,NR.exports)),NR.exports}var _Vt=xVt();const dee=ao(_Vt),fee=Symbol.for("yaml.alias"),iq=Symbol.for("yaml.document"),z0=Symbol.for("yaml.map"),WNe=Symbol.for("yaml.pair"),ah=Symbol.for("yaml.scalar"),fE=Symbol.for("yaml.seq"),oc=Symbol.for("yaml.node.type"),Kb=e=>!!e&&typeof e=="object"&&e[oc]===fee,_5=e=>!!e&&typeof e=="object"&&e[oc]===iq,mk=e=>!!e&&typeof e=="object"&&e[oc]===z0,ss=e=>!!e&&typeof e=="object"&&e[oc]===WNe,li=e=>!!e&&typeof e=="object"&&e[oc]===ah,gk=e=>!!e&&typeof e=="object"&&e[oc]===fE;function Zi(e){if(e&&typeof e=="object")switch(e[oc]){case z0:case fE:return!0}return!1}function ns(e){if(e&&typeof e=="object")switch(e[oc]){case fee:case z0:case ah:case fE:return!0}return!1}const GNe=e=>(li(e)||Zi(e))&&!!e.anchor,Fy=Symbol("break visit"),EVt=Symbol("skip children"),a2=Symbol("remove node");function hE(e,t){const n=CVt(t);_5(e)?Dw(null,e.contents,n,Object.freeze([e]))===a2&&(e.contents=null):Dw(null,e,n,Object.freeze([]))}hE.BREAK=Fy;hE.SKIP=EVt;hE.REMOVE=a2;function Dw(e,t,n,r){const i=SVt(e,t,n,r);if(ns(i)||ss(i))return TVt(e,r,i),Dw(e,i,n,r);if(typeof i!="symbol"){if(Zi(t)){r=Object.freeze(r.concat(t));for(let s=0;s<t.items.length;++s){const o=Dw(s,t.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===Fy)return Fy;o===a2&&(t.items.splice(s,1),s-=1)}}}else if(ss(t)){r=Object.freeze(r.concat(t));const s=Dw("key",t.key,n,r);if(s===Fy)return Fy;s===a2&&(t.key=null);const o=Dw("value",t.value,n,r);if(o===Fy)return Fy;o===a2&&(t.value=null)}}return i}function CVt(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function SVt(e,t,n,r){var i,s,o,a,l;if(typeof n=="function")return n(e,t,r);if(mk(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(gk(t))return(s=n.Seq)==null?void 0:s.call(n,e,t,r);if(ss(t))return(o=n.Pair)==null?void 0:o.call(n,e,t,r);if(li(t))return(a=n.Scalar)==null?void 0:a.call(n,e,t,r);if(Kb(t))return(l=n.Alias)==null?void 0:l.call(n,e,t,r)}function TVt(e,t,n){const r=t[t.length-1];if(Zi(r))r.items[e]=n;else if(ss(r))e==="key"?r.key=n:r.value=n;else if(_5(r))r.contents=n;else{const i=Kb(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const AVt={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},kVt=e=>e.replace(/[!,[\]{}]/g,t=>AVt[t]);class ka{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ka.defaultYaml,t),this.tags=Object.assign({},ka.defaultTags,n)}clone(){const t=new ka(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new ka(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ka.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ka.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:ka.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ka.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const s=this.tags[r];if(s)try{return s+decodeURIComponent(i)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+kVt(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&ns(t.contents)){const s={};hE(t.contents,(o,a)=>{ns(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(const[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}}ka.defaultYaml={explicit:!1,version:"1.2"};ka.defaultTags={"!!":"tag:yaml.org,2002:"};function YNe(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function KNe(e){const t=new Set;return hE(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function XNe(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function IVt(e,t){const n=[],r=new Map;let i=null;return{onAnchor:s=>{n.push(s),i??(i=KNe(e));const o=XNe(t,i);return i.add(o),o},setAnchors:()=>{for(const s of n){const o=r.get(s);if(typeof o=="object"&&o.anchor&&(li(o.node)||Zi(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:r}}function Pw(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const o=r[i],a=Pw(e,r,String(i),o);a===void 0?delete r[i]:a!==o&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),o=Pw(e,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(const i of Array.from(r)){const s=Pw(e,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const o=Pw(e,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return e.call(t,n,r)}function Qu(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Qu(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!GNe(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class hee{constructor(t){Object.defineProperty(this,oc,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!_5(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=Qu(this,"",o);if(typeof i=="function")for(const{count:l,res:u}of o.anchors.values())i(u,l);return typeof s=="function"?Pw(s,{"":a},"",a):a}}class pee extends hee{constructor(t){super(fee),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,n){let r;n!=null&&n.aliasResolveCache?r=n.aliasResolveCache:(r=[],hE(t,{Node:(s,o)=>{(Kb(o)||GNe(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let i;for(const s of r){if(s===this)break;s.anchor===this.source&&(i=s)}return i}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(Qu(o,null,n),a=r.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=y3(i,o,r)),a.count*a.aliasCount>s)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(YNe(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(t.implicitKey)return`${i} `}return i}}function y3(e,t,n){if(Kb(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Zi(t)){let r=0;for(const i of t.items){const s=y3(e,i,n);s>r&&(r=s)}return r}else if(ss(t)){const r=y3(e,t.key,n),i=y3(e,t.value,n);return Math.max(r,i)}return 1}const QNe=e=>!e||typeof e!="function"&&typeof e!="object";class In extends hee{constructor(t){super(ah),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:Qu(this.value,t,n)}toString(){return String(this.value)}}In.BLOCK_FOLDED="BLOCK_FOLDED";In.BLOCK_LITERAL="BLOCK_LITERAL";In.PLAIN="PLAIN";In.QUOTE_DOUBLE="QUOTE_DOUBLE";In.QUOTE_SINGLE="QUOTE_SINGLE";const RVt="tag:yaml.org,2002:";function DVt(e,t,n){if(t){const r=n.filter(s=>s.tag===t),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function TT(e,t,n){var d,f,h;if(_5(e)&&(e=e.contents),ns(e))return e;if(ss(e)){const p=(f=(d=n.schema[z0]).createNode)==null?void 0:f.call(d,n.schema,null,n);return p.items.push(e),p}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=n;let l;if(r&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=i(e)),new pee(l.anchor);l={anchor:null,node:null},a.set(e,l)}t!=null&&t.startsWith("!!")&&(t=RVt+t.slice(2));let u=DVt(e,t,o.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const p=new In(e);return l&&(l.node=p),p}u=e instanceof Map?o[z0]:Symbol.iterator in Object(e)?o[fE]:o[z0]}s&&(s(u),delete n.onTagObj);const c=u!=null&&u.createNode?u.createNode(n.schema,e,n):typeof((h=u==null?void 0:u.nodeClass)==null?void 0:h.from)=="function"?u.nodeClass.from(n.schema,e,n):new In(e);return t?c.tag=t:u.default||(c.tag=u.tag),l&&(l.node=c),c}function r$(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const s=t[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return TT(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const TS=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class JNe extends hee{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>ns(r)||ss(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(TS(t))this.add(n);else{const[r,...i]=t,s=this.get(r,!0);if(Zi(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,r$(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Zi(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,s=this.get(r,!0);return i.length===0?!n&&li(s)?s.value:s:Zi(s)?s.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!ss(n))return!1;const r=n.value;return r==null||t&&li(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Zi(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(Zi(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,r$(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const PVt=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function _p(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const uv=(e,t,n)=>e.endsWith(`
`)?_p(n,t):n.includes(`
`)?`
`+_p(n,t):(e.endsWith(" ")?"":" ")+n,ZNe="flow",sq="block",v3="quoted";function E5(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return e;i<s&&(s=0);const l=Math.max(1+s,1+i-t.length);if(e.length<=l)return e;const u=[],c={};let d=i-t.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):d=i-r);let f,h,p=!1,m=-1,g=-1,y=-1;n===sq&&(m=Fme(e,m,t.length),m!==-1&&(d=m+l));for(let w;w=e[m+=1];){if(n===v3&&w==="\\"){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}y=m}if(w===`
`)n===sq&&(m=Fme(e,m,t.length)),d=m+t.length+l,f=void 0;else{if(w===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const E=e[m+1];E&&E!==" "&&E!==`
`&&E!=="	"&&(f=m)}if(m>=d)if(f)u.push(f),d=f+l,f=void 0;else if(n===v3){for(;h===" "||h==="	";)h=w,w=e[m+=1],p=!0;const E=m>y+1?m-2:g-1;if(c[E])return e;u.push(E),c[E]=!0,d=E+l,f=void 0}else p=!0}h=w}if(p&&a&&a(),u.length===0)return e;o&&o();let v=e.slice(0,u[0]);for(let w=0;w<u.length;++w){const E=u[w],C=u[w+1]||e.length;E===0?v=`
${t}${e.slice(0,C)}`:(n===v3&&c[E]&&(v+=`${e[E]}\\`),v+=`
${t}${e.slice(E+1,C)}`)}return v}function Fme(e,t,n){let r=t,i=t+1,s=e[i];for(;s===" "||s==="	";)if(t<i+n)s=e[++t];else{do s=e[++t];while(s&&s!==`
`);r=t,i=t+1,s=e[i]}return r}const C5=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),S5=e=>/^(%|---|\.\.\.)/m.test(e);function OVt(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(e[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function l2(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(S5(e)?"  ":"");let o="",a=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const c=n.substr(l+2,4);switch(c){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:c.substr(0,2)==="00"?o+="\\x"+c.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=s,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:E5(o,s,v3,C5(t,!1))}function oq(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return l2(e,t);const n=t.indent||(S5(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:E5(r,n,ZNe,C5(t,!1))}function Ow(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=l2;else{const i=e.includes('"'),s=e.includes("'");i&&!s?r=oq:s&&!i?r=l2:r=n?oq:l2}return r(e,t)}let aq;try{aq=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{aq=/\n+(?!\n|$)/g}function b3({comment:e,type:t,value:n},r,i,s){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Ow(n,r);const u=r.indent||(r.forceBlockIndent||S5(n)?"  ":""),c=o==="literal"?!0:o==="folded"||t===In.BLOCK_FOLDED?!1:t===In.BLOCK_LITERAL?!0:!OVt(n,l,u.length);if(!n)return c?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const C=n[f-1];if(C!==`
`&&C!=="	"&&C!==" ")break}let h=n.substring(f);const p=h.indexOf(`
`);p===-1?d="-":n===h||p!==h.length-1?(d="+",s&&s()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(aq,`$&${u}`));let m=!1,g,y=-1;for(g=0;g<n.length;++g){const C=n[g];if(C===" ")m=!0;else if(C===`
`)y=g;else break}let v=n.substring(0,y<g?y+1:g);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${u}`));let E=(m?u?"2":"1":"")+d;if(e&&(E+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!c){const C=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let S=!1;const T=C5(r,!0);o!=="folded"&&t!==In.BLOCK_FOLDED&&(T.onOverflow=()=>{S=!0});const A=E5(`${v}${C}${h}`,u,sq,T);if(!S)return`>${E}
${u}${A}`}return n=n.replace(/\n+/g,`$&${u}`),`|${E}
${u}${v}${n}${h}`}function NVt(e,t,n,r){const{type:i,value:s}=e,{actualString:o,implicitKey:a,indent:l,indentStep:u,inFlow:c}=t;if(a&&s.includes(`
`)||c&&/[[\]{},]/.test(s))return Ow(s,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||c||!s.includes(`
`)?Ow(s,t):b3(e,t,n,r);if(!a&&!c&&i!==In.PLAIN&&s.includes(`
`))return b3(e,t,n,r);if(S5(s)){if(l==="")return t.forceBlockIndent=!0,b3(e,t,n,r);if(a&&l===u)return Ow(s,t)}const d=s.replace(/\n+/g,`$&
${l}`);if(o){const f=m=>{var g;return m.default&&m.tag!=="tag:yaml.org,2002:str"&&((g=m.test)==null?void 0:g.test(d))},{compat:h,tags:p}=t.doc.schema;if(p.some(f)||h!=null&&h.some(f))return Ow(s,t)}return a?d:E5(d,l,ZNe,C5(t,!1))}function mee(e,t,n,r){const{implicitKey:i,inFlow:s}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==In.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=In.QUOTE_DOUBLE);const l=c=>{switch(c){case In.BLOCK_FOLDED:case In.BLOCK_LITERAL:return i||s?Ow(o.value,t):b3(o,t,n,r);case In.QUOTE_DOUBLE:return l2(o.value,t);case In.QUOTE_SINGLE:return oq(o.value,t);case In.PLAIN:return NVt(o,t,n,r);default:return null}};let u=l(a);if(u===null){const{defaultKeyType:c,defaultStringType:d}=t.options,f=i&&c||d;if(u=l(f),u===null)throw new Error(`Unsupported default string type ${f}`)}return u}function e$e(e,t){const n=Object.assign({blockQuote:!0,commentString:PVt,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function $Vt(e,t){var i;if(t.tag){const s=e.filter(o=>o.tag===t.tag);if(s.length>0)return s.find(o=>o.format===t.format)??s[0]}let n,r;if(li(t)){r=t.value;let s=e.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,r)});if(s.length>1){const o=s.filter(a=>a.test);o.length>0&&(s=o)}n=s.find(o=>o.format===t.format)??s.find(o=>!o.format)}else r=t,n=e.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${s} value`)}return n}function MVt(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(li(e)||Zi(e))&&e.anchor;s&&YNe(s)&&(n.add(s),i.push(`&${s}`));const o=e.tag??(t.default?null:t.tag);return o&&i.push(r.directives.tagString(o)),i.join(" ")}function u_(e,t,n,r){var l;if(ss(e))return e.toString(t,n,r);if(Kb(e)){if(t.doc.directives)return e.toString(t);if((l=t.resolvedAliases)!=null&&l.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const s=ns(e)?e:t.doc.createNode(e,{onTagObj:u=>i=u});i??(i=$Vt(t.doc.schema.tags,s));const o=MVt(s,i,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(s,t,n,r):li(s)?mee(s,t,n,r):s.toString(t,n,r);return o?li(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${t.indent}${a}`:a}function FVt({key:e,value:t},n,r,i){const{allNullValues:s,doc:o,indent:a,indentStep:l,options:{commentString:u,indentSeq:c,simpleKeys:d}}=n;let f=ns(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Zi(e)||!ns(e)&&typeof e=="object"){const T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let h=!d&&(!e||f&&t==null&&!n.inFlow||Zi(e)||(li(e)?e.type===In.BLOCK_FOLDED||e.type===In.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!s),indent:a+l});let p=!1,m=!1,g=u_(e,n,()=>p=!0,()=>m=!0);if(!h&&!n.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(s||t==null)return p&&r&&r(),g===""?"?":h?`? ${g}`:g}else if(s&&!d||t==null&&h)return g=`? ${g}`,f&&!p?g+=uv(g,n.indent,u(f)):m&&i&&i(),g;p&&(f=null),h?(f&&(g+=uv(g,n.indent,u(f))),g=`? ${g}
${a}:`):(g=`${g}:`,f&&(g+=uv(g,n.indent,u(f))));let y,v,w;ns(t)?(y=!!t.spaceBefore,v=t.commentBefore,w=t.comment):(y=!1,v=null,w=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!h&&!f&&li(t)&&(n.indentAtStart=g.length+1),m=!1,!c&&l.length>=2&&!n.inFlow&&!h&&gk(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let E=!1;const C=u_(t,n,()=>E=!0,()=>m=!0);let S=" ";if(f||y||v){if(S=y?`
`:"",v){const T=u(v);S+=`
${_p(T,n.indent)}`}C===""&&!n.inFlow?S===`
`&&(S=`

`):S+=`
${n.indent}`}else if(!h&&Zi(t)){const T=C[0],A=C.indexOf(`
`),I=A!==-1,D=n.inFlow??t.flow??t.items.length===0;if(I||!D){let O=!1;if(I&&(T==="&"||T==="!")){let M=C.indexOf(" ");T==="&"&&M!==-1&&M<A&&C[M+1]==="!"&&(M=C.indexOf(" ",M+1)),(M===-1||A<M)&&(O=!0)}O||(S=`
${n.indent}`)}}else(C===""||C[0]===`
`)&&(S="");return g+=S+C,n.inFlow?E&&r&&r():w&&!E?g+=uv(g,n.indent,u(w)):m&&i&&i(),g}function LVt(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const vD="<<",Mp={identify:e=>e===vD||typeof e=="symbol"&&e.description===vD,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new In(Symbol(vD)),{addToJSMap:t$e}),stringify:()=>vD},jVt=(e,t)=>(Mp.identify(t)||li(t)&&(!t.type||t.type===In.PLAIN)&&Mp.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(n=>n.tag===Mp.tag&&n.default));function t$e(e,t,n){if(n=e&&Kb(n)?n.resolve(e.doc):n,gk(n))for(const r of n.items)K9(e,t,r);else if(Array.isArray(n))for(const r of n)K9(e,t,r);else K9(e,t,n)}function K9(e,t,n){const r=e&&Kb(n)?n.resolve(e.doc):n;if(!mk(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[s,o]of i)t instanceof Map?t.has(s)||t.set(s,o):t instanceof Set?t.add(s):Object.prototype.hasOwnProperty.call(t,s)||Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function n$e(e,t,{key:n,value:r}){if(ns(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(jVt(e,n))t$e(e,t,r);else{const i=Qu(n,"",e);if(t instanceof Map)t.set(i,Qu(r,i,e));else if(t instanceof Set)t.add(i);else{const s=BVt(n,i,e),o=Qu(r,s,e);s in t?Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[s]=o}}return t}function BVt(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(ns(e)&&(n!=null&&n.doc)){const r=e$e(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),LVt(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function gee(e,t,n){const r=TT(e,void 0,n),i=TT(t,void 0,n);return new Ua(r,i)}class Ua{constructor(t,n=null){Object.defineProperty(this,oc,{value:WNe}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return ns(n)&&(n=n.clone(t)),ns(r)&&(r=r.clone(t)),new Ua(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return n$e(n,r,this)}toString(t,n,r){return t!=null&&t.doc?FVt(this,t,n,r):JSON.stringify(this)}}function r$e(e,t,n){return(t.inFlow??e.flow?UVt:zVt)(e,t,n)}function zVt({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:u}}=n,c=Object.assign({},n,{indent:s,type:null});let d=!1;const f=[];for(let p=0;p<t.length;++p){const m=t[p];let g=null;if(ns(m))!d&&m.spaceBefore&&f.push(""),i$(n,f,m.commentBefore,d),m.comment&&(g=m.comment);else if(ss(m)){const v=ns(m.key)?m.key:null;v&&(!d&&v.spaceBefore&&f.push(""),i$(n,f,v.commentBefore,d))}d=!1;let y=u_(m,c,()=>g=null,()=>d=!0);g&&(y+=uv(y,s,u(g))),d&&g&&(d=!1),f.push(r+y)}let h;if(f.length===0)h=i.start+i.end;else{h=f[0];for(let p=1;p<f.length;++p){const m=f[p];h+=m?`
${l}${m}`:`
`}}return e?(h+=`
`+_p(u(e),l),a&&a()):d&&o&&o(),h}function UVt({items:e},t,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=t;r+=s;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,c=0;const d=[];for(let p=0;p<e.length;++p){const m=e[p];let g=null;if(ns(m))m.spaceBefore&&d.push(""),i$(t,d,m.commentBefore,!1),m.comment&&(g=m.comment);else if(ss(m)){const v=ns(m.key)?m.key:null;v&&(v.spaceBefore&&d.push(""),i$(t,d,v.commentBefore,!1),v.comment&&(u=!0));const w=ns(m.value)?m.value:null;w?(w.comment&&(g=w.comment),w.commentBefore&&(u=!0)):m.value==null&&(v!=null&&v.comment)&&(g=v.comment)}g&&(u=!0);let y=u_(m,l,()=>g=null);p<e.length-1&&(y+=","),g&&(y+=uv(y,r,a(g))),!u&&(d.length>c||y.includes(`
`))&&(u=!0),d.push(y),c=d.length}const{start:f,end:h}=n;if(d.length===0)return f+h;if(!u){const p=d.reduce((m,g)=>m+g.length+2,2);u=t.options.lineWidth>0&&p>t.options.lineWidth}if(u){let p=f;for(const m of d)p+=m?`
${s}${i}${m}`:`
`;return`${p}
${i}${h}`}else return`${f}${o}${d.join(" ")}${o}${h}`}function i$({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const s=_p(t(r),e);n.push(s.trimStart())}}function cv(e,t){const n=li(t)?t.value:t;for(const r of e)if(ss(r)&&(r.key===t||r.key===n||li(r.key)&&r.key.value===n))return r}class zu extends JNe{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(z0,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:s}=r,o=new this(t),a=(l,u)=>{if(typeof s=="function")u=s.call(n,l,u);else if(Array.isArray(s)&&!s.includes(l))return;(u!==void 0||i)&&o.items.push(gee(l,u,r))};if(n instanceof Map)for(const[l,u]of n)a(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){var o;let r;ss(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Ua(t,t==null?void 0:t.value):r=new Ua(t.key,t.value);const i=cv(this.items,r.key),s=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);li(i.value)&&QNe(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const a=this.items.findIndex(l=>s(r,l)<0);a===-1?this.items.push(r):this.items.splice(a,0,r)}else this.items.push(r)}delete(t){const n=cv(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=cv(this.items,t),i=r==null?void 0:r.value;return(!n&&li(i)?i.value:i)??void 0}has(t){return!!cv(this.items,t)}set(t,n){this.add(new Ua(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const s of this.items)n$e(n,i,s);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!ss(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),r$e(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const pE={collection:"map",default:!0,nodeClass:zu,tag:"tag:yaml.org,2002:map",resolve(e,t){return mk(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>zu.from(e,t,n)};class cb extends JNe{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(fE,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=bD(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=bD(t);if(typeof r!="number")return;const i=this.items[r];return!n&&li(i)?i.value:i}has(t){const n=bD(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=bD(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];li(i)&&QNe(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(Qu(s,String(i++),n));return r}toString(t,n,r){return t?r$e(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,s=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof i=="function"){const l=n instanceof Set?a:String(o++);a=i.call(n,l,a)}s.items.push(TT(a,void 0,r))}}return s}}function bD(e){let t=li(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const mE={collection:"seq",default:!0,nodeClass:cb,tag:"tag:yaml.org,2002:seq",resolve(e,t){return gk(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>cb.from(e,t,n)},T5={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),mee(e,t,n,r)}},A5={identify:e=>e==null,createNode:()=>new In(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new In(null),stringify:({source:e},t)=>typeof e=="string"&&A5.test.test(e)?e:t.options.nullStr},yee={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new In(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&yee.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Qd({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=t-(s.length-o-1);for(;a-- >0;)s+="0"}return s}const i$e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Qd},s$e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Qd(e)}},o$e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new In(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Qd},k5=e=>typeof e=="bigint"||Number.isInteger(e),vee=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function a$e(e,t,n){const{value:r}=e;return k5(r)&&r>=0?n+r.toString(t):Qd(e)}const l$e={identify:e=>k5(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>vee(e,2,8,n),stringify:e=>a$e(e,8,"0o")},u$e={identify:k5,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>vee(e,0,10,n),stringify:Qd},c$e={identify:e=>k5(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>vee(e,2,16,n),stringify:e=>a$e(e,16,"0x")},HVt=[pE,mE,T5,A5,yee,l$e,u$e,c$e,i$e,s$e,o$e];function Lme(e){return typeof e=="bigint"||Number.isInteger(e)}const wD=({value:e})=>JSON.stringify(e),qVt=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:wD},{identify:e=>e==null,createNode:()=>new In(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:wD},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:wD},{identify:Lme,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Lme(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:wD}],VVt={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},WVt=[pE,mE].concat(qVt,VVt),bee={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,s){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=In.BLOCK_LITERAL),t!==In.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/l),c=new Array(u);for(let d=0,f=0;d<u;++d,f+=l)c[d]=a.substr(f,l);a=c.join(t===In.BLOCK_LITERAL?`
`:" ")}return mee({comment:e,type:t,value:a},r,i,s)}};function d$e(e,t){if(gk(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!ss(r)){if(mk(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new Ua(new In(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=i}e.items[n]=ss(r)?r:new Ua(r)}}else t("Expected a sequence for this tag");return e}function f$e(e,t,n){const{replacer:r}=n,i=new cb(e);i.tag="tag:yaml.org,2002:pairs";let s=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(s++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)a=u[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;i.items.push(gee(a,l,n))}return i}const wee={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:d$e,createNode:f$e};class lx extends cb{constructor(){super(),this.add=zu.prototype.add.bind(this),this.delete=zu.prototype.delete.bind(this),this.get=zu.prototype.get.bind(this),this.has=zu.prototype.has.bind(this),this.set=zu.prototype.set.bind(this),this.tag=lx.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let s,o;if(ss(i)?(s=Qu(i.key,"",n),o=Qu(i.value,s,n)):s=Qu(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}static from(t,n,r){const i=f$e(t,n,r),s=new this;return s.items=i.items,s}}lx.tag="tag:yaml.org,2002:omap";const xee={collection:"seq",identify:e=>e instanceof Map,nodeClass:lx,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=d$e(e,t),r=[];for(const{key:i}of n.items)li(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new lx,n)},createNode:(e,t,n)=>lx.from(e,t,n)};function h$e({value:e,source:t},n){return t&&(e?p$e:m$e).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const p$e={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new In(!0),stringify:h$e},m$e={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new In(!1),stringify:h$e},GVt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Qd},YVt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Qd(e)}},KVt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new In(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Qd},yk=e=>typeof e=="bigint"||Number.isInteger(e);function I5(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return i==="-"?BigInt(-1)*o:o}const s=parseInt(e,n);return i==="-"?-1*s:s}function _ee(e,t,n){const{value:r}=e;if(yk(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Qd(e)}const XVt={identify:yk,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>I5(e,2,2,n),stringify:e=>_ee(e,2,"0b")},QVt={identify:yk,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>I5(e,1,8,n),stringify:e=>_ee(e,8,"0")},JVt={identify:yk,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>I5(e,0,10,n),stringify:Qd},ZVt={identify:yk,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>I5(e,2,16,n),stringify:e=>_ee(e,16,"0x")};class ux extends zu{constructor(t){super(t),this.tag=ux.tag}add(t){let n;ss(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Ua(t.key,null):n=new Ua(t,null),cv(this.items,n.key)||this.items.push(n)}get(t,n){const r=cv(this.items,t);return!n&&ss(r)?li(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=cv(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ua(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,s=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),s.items.push(gee(o,null,r));return s}}ux.tag="tag:yaml.org,2002:set";const Eee={collection:"map",identify:e=>e instanceof Set,nodeClass:ux,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>ux.from(e,t,n),resolve(e,t){if(mk(e)){if(e.hasAllNullValues(!0))return Object.assign(new ux,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Cee(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=o=>t?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*s:s}function g$e(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return Qd(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),s=[t%i];return t<60?s.unshift(0):(t=(t-s[0])/i,s.unshift(t%i),t>=60&&(t=(t-s[0])/i,s.unshift(t))),r+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const y$e={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Cee(e,n),stringify:g$e},v$e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Cee(e,!1),stringify:g$e},R5={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(R5.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,s,o,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,i,s||0,o||0,a||0,l);const c=t[8];if(c&&c!=="Z"){let d=Cee(c,!1);Math.abs(d)<30&&(d*=60),u-=6e4*d}return new Date(u)},stringify:({value:e})=>(e==null?void 0:e.toISOString().replace(/(T00:00:00)?\.000Z$/,""))??""},jme=[pE,mE,T5,A5,p$e,m$e,XVt,QVt,JVt,ZVt,GVt,YVt,KVt,bee,Mp,xee,wee,Eee,y$e,v$e,R5],Bme=new Map([["core",HVt],["failsafe",[pE,mE,T5]],["json",WVt],["yaml11",jme],["yaml-1.1",jme]]),zme={binary:bee,bool:yee,float:o$e,floatExp:s$e,floatNaN:i$e,floatTime:v$e,int:u$e,intHex:c$e,intOct:l$e,intTime:y$e,map:pE,merge:Mp,null:A5,omap:xee,pairs:wee,seq:mE,set:Eee,timestamp:R5},eWt={"tag:yaml.org,2002:binary":bee,"tag:yaml.org,2002:merge":Mp,"tag:yaml.org,2002:omap":xee,"tag:yaml.org,2002:pairs":wee,"tag:yaml.org,2002:set":Eee,"tag:yaml.org,2002:timestamp":R5};function X9(e,t,n){const r=Bme.get(t);if(r&&!e)return n&&!r.includes(Mp)?r.concat(Mp):r.slice();let i=r;if(!i)if(Array.isArray(e))i=[];else{const s=Array.from(Bme.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${s} or define customTags array`)}if(Array.isArray(e))for(const s of e)i=i.concat(s);else typeof e=="function"&&(i=e(i.slice()));return n&&(i=i.concat(Mp)),i.reduce((s,o)=>{const a=typeof o=="string"?zme[o]:o;if(!a){const l=JSON.stringify(o),u=Object.keys(zme).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return s.includes(a)||s.push(a),s},[])}const tWt=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class See{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(t)?X9(t,"compat"):t?X9(null,t):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?eWt:{},this.tags=X9(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,z0,{value:pE}),Object.defineProperty(this,ah,{value:T5}),Object.defineProperty(this,fE,{value:mE}),this.sortMapEntries=typeof o=="function"?o:o===!0?tWt:null}clone(){const t=Object.create(See.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function nWt(e,t){var l;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const u=e.directives.toString(e);u?(n.push(u),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=e$e(e,t),{commentString:s}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const u=s(e.commentBefore);n.unshift(_p(u,""))}let o=!1,a=null;if(e.contents){if(ns(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const d=s(e.contents.commentBefore);n.push(_p(d,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const u=a?void 0:()=>o=!0;let c=u_(e.contents,i,()=>a=null,u);a&&(c+=uv(c,"",s(a))),(c[0]==="|"||c[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${c}`:n.push(c)}else n.push(u_(e.contents,i));if((l=e.directives)!=null&&l.docEnd)if(e.comment){const u=s(e.comment);u.includes(`
`)?(n.push("..."),n.push(_p(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=e.comment;u&&o&&(u=u.replace(/^\n+/,"")),u&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(_p(s(u),"")))}return n.join(`
`)+`
`}class D5{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,oc,{value:iq});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new ka({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(D5.prototype,{[oc]:{value:iq}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=ns(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Z1(this.contents)&&this.contents.add(t)}addIn(t,n){Z1(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=KNe(this);t.anchor=!n||r.has(n)?XNe(n||"a",r):n}return new pee(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const g=v=>typeof v=="number"||v instanceof String||v instanceof Number,y=n.filter(g).map(String);y.length>0&&(n=n.concat(y)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:u,tag:c}=r??{},{onAnchor:d,setAnchors:f,sourceObjects:h}=IVt(this,o||"a"),p={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:h},m=TT(t,c,p);return a&&Zi(m)&&(m.flow=!0),f(),m}createPair(t,n,r={}){const i=this.createNode(t,null,r),s=this.createNode(n,null,r);return new Ua(i,s)}delete(t){return Z1(this.contents)?this.contents.delete(t):!1}deleteIn(t){return TS(t)?this.contents==null?!1:(this.contents=null,!0):Z1(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Zi(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return TS(t)?!n&&li(this.contents)?this.contents.value:this.contents:Zi(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Zi(this.contents)?this.contents.has(t):!1}hasIn(t){return TS(t)?this.contents!==void 0:Zi(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=r$(this.schema,[t],n):Z1(this.contents)&&this.contents.set(t,n)}setIn(t,n){TS(t)?this.contents=n:this.contents==null?this.contents=r$(this.schema,Array.from(t),n):Z1(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ka({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new ka({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new See(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=Qu(this.contents,n??"",a);if(typeof s=="function")for(const{count:u,res:c}of a.anchors.values())s(c,u);return typeof o=="function"?Pw(o,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return nWt(this,t)}}function Z1(e){if(Zi(e))return!0;throw new Error("Expected a YAML collection as document contents")}class b$e extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class AS extends b$e{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class rWt extends b$e{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const Ume=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const a=Math.min(s-39,o.length-79);o=""+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,s))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-s)));const u=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};function c_(e,{flow:t,indicator:n,next:r,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let l=!1,u=a,c=a,d="",f="",h=!1,p=!1,m=null,g=null,y=null,v=null,w=null,E=null,C=null;for(const A of e)switch(p&&(A.type!=="space"&&A.type!=="newline"&&A.type!=="comma"&&s(A.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),m&&(u&&A.type!=="comment"&&A.type!=="newline"&&s(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),A.type){case"space":!t&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&A.source.includes("	")&&(m=A),c=!0;break;case"comment":{c||s(A,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const I=A.source.substring(1)||" ";d?d+=f+I:d=I,f="",u=!1;break}case"newline":u?d?d+=A.source:(!E||n!=="seq-item-ind")&&(l=!0):f+=A.source,u=!0,h=!0,(g||y)&&(v=A),c=!0;break;case"anchor":g&&s(A,"MULTIPLE_ANCHORS","A node can have at most one anchor"),A.source.endsWith(":")&&s(A.offset+A.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=A,C??(C=A.offset),u=!1,c=!1,p=!0;break;case"tag":{y&&s(A,"MULTIPLE_TAGS","A node can have at most one tag"),y=A,C??(C=A.offset),u=!1,c=!1,p=!0;break}case n:(g||y)&&s(A,"BAD_PROP_ORDER",`Anchors and tags must be after the ${A.source} indicator`),E&&s(A,"UNEXPECTED_TOKEN",`Unexpected ${A.source} in ${t??"collection"}`),E=A,u=n==="seq-item-ind"||n==="explicit-key-ind",c=!1;break;case"comma":if(t){w&&s(A,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),w=A,u=!1,c=!1;break}default:s(A,"UNEXPECTED_TOKEN",`Unexpected ${A.type} token`),u=!1,c=!1}const S=e[e.length-1],T=S?S.offset+S.source.length:i;return p&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(u&&m.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&s(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:w,found:E,spaceBefore:l,comment:d,hasNewline:h,anchor:g,tag:y,newlineAfterProp:v,end:T,start:C??T}}function AT(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(AT(t.key)||AT(t.value))return!0}return!1;default:return!0}}function lq(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&AT(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function w$e(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(s,o)=>s===o||li(s)&&li(o)&&s.value===o.value;return t.some(s=>i(s.key,n))}const Hme="All mapping items must start at the same column";function iWt({composeNode:e,composeEmptyNode:t},n,r,i,s){var c;const o=(s==null?void 0:s.nodeClass)??zu,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const d of r.items){const{start:f,key:h,sep:p,value:m}=d,g=c_(f,{indicator:"explicit-key-ind",next:h??(p==null?void 0:p[0]),offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0}),y=!g.found;if(y){if(h&&(h.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==r.indent&&i(l,"BAD_INDENT",Hme)),!g.anchor&&!g.tag&&!p){u=g.end,g.comment&&(a.comment?a.comment+=`
`+g.comment:a.comment=g.comment);continue}(g.newlineAfterProp||AT(h))&&i(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((c=g.found)==null?void 0:c.indent)!==r.indent&&i(l,"BAD_INDENT",Hme);n.atKey=!0;const v=g.end,w=h?e(n,h,g,i):t(n,v,f,null,g,i);n.schema.compat&&lq(r.indent,h,i),n.atKey=!1,w$e(n,a.items,w)&&i(v,"DUPLICATE_KEY","Map keys must be unique");const E=c_(p??[],{indicator:"map-value-ind",next:m,offset:w.range[2],onError:i,parentIndent:r.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=E.end,E.found){y&&((m==null?void 0:m.type)==="block-map"&&!E.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&g.start<E.found.offset-1024&&i(w.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const C=m?e(n,m,E,i):t(n,l,p,null,E,i);n.schema.compat&&lq(r.indent,m,i),l=C.range[2];const S=new Ua(w,C);n.options.keepSourceTokens&&(S.srcToken=d),a.items.push(S)}else{y&&i(w.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),E.comment&&(w.comment?w.comment+=`
`+E.comment:w.comment=E.comment);const C=new Ua(w);n.options.keepSourceTokens&&(C.srcToken=d),a.items.push(C)}}return u&&u<l&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,u??l],a}function sWt({composeNode:e,composeEmptyNode:t},n,r,i,s){const o=(s==null?void 0:s.nodeClass)??cb,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:c,value:d}of r.items){const f=c_(c,{indicator:"seq-item-ind",next:d,offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||d)d&&d.type==="block-seq"?i(f.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{u=f.end,f.comment&&(a.comment=f.comment);continue}const h=d?e(n,d,f,i):t(n,f.end,c,null,f,i);n.schema.compat&&lq(r.indent,d,i),l=h.range[2],a.items.push(h)}return a.range=[r.offset,l,u??l],a}function vk(e,t,n,r){let i="";if(e){let s=!1,o="";for(const a of e){const{source:l,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{n&&!s&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const c=l.substring(1)||" ";i?i+=o+c:i=c,o="";break}case"newline":i&&(o+=l),s=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=l.length}}return{comment:i,offset:t}}const Q9="Block collections are not allowed within flow collections",J9=e=>e&&(e.type==="block-map"||e.type==="block-seq");function oWt({composeNode:e,composeEmptyNode:t},n,r,i,s){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=(s==null?void 0:s.nodeClass)??(o?zu:cb),u=new l(n.schema);u.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=r.offset+r.start.source.length;for(let g=0;g<r.items.length;++g){const y=r.items[g],{start:v,key:w,sep:E,value:C}=y,S=c_(v,{flow:a,indicator:"explicit-key-ind",next:w??(E==null?void 0:E[0]),offset:d,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!E&&!C){g===0&&S.comma?i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):g<r.items.length-1&&i(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),S.comment&&(u.comment?u.comment+=`
`+S.comment:u.comment=S.comment),d=S.end;continue}!o&&n.options.strict&&AT(w)&&i(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)S.comma&&i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(S.comma||i(S.start,"MISSING_CHAR",`Missing , between ${a} items`),S.comment){let T="";e:for(const A of v)switch(A.type){case"comma":case"space":break;case"comment":T=A.source.substring(1);break e;default:break e}if(T){let A=u.items[u.items.length-1];ss(A)&&(A=A.value??A.key),A.comment?A.comment+=`
`+T:A.comment=T,S.comment=S.comment.substring(T.length+1)}}if(!o&&!E&&!S.found){const T=C?e(n,C,S,i):t(n,S.end,E,null,S,i);u.items.push(T),d=T.range[2],J9(C)&&i(T.range,"BLOCK_IN_FLOW",Q9)}else{n.atKey=!0;const T=S.end,A=w?e(n,w,S,i):t(n,T,v,null,S,i);J9(w)&&i(A.range,"BLOCK_IN_FLOW",Q9),n.atKey=!1;const I=c_(E??[],{flow:a,indicator:"map-value-ind",next:C,offset:A.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(I.found){if(!o&&!S.found&&n.options.strict){if(E)for(const M of E){if(M===I.found)break;if(M.type==="newline"){i(M,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<I.found.offset-1024&&i(I.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else C&&("source"in C&&C.source&&C.source[0]===":"?i(C,"MISSING_CHAR",`Missing space after : in ${a}`):i(I.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const D=C?e(n,C,I,i):I.found?t(n,I.end,E,null,I,i):null;D?J9(C)&&i(D.range,"BLOCK_IN_FLOW",Q9):I.comment&&(A.comment?A.comment+=`
`+I.comment:A.comment=I.comment);const O=new Ua(A,D);if(n.options.keepSourceTokens&&(O.srcToken=y),o){const M=u;w$e(n,M.items,A)&&i(T,"DUPLICATE_KEY","Map keys must be unique"),M.items.push(O)}else{const M=new zu(n.schema);M.flow=!0,M.items.push(O);const $=(D??A).range;M.range=[A.range[0],$[1],$[2]],u.items.push(M)}d=D?D.range[2]:I.end}}const f=o?"}":"]",[h,...p]=r.end;let m=d;if(h&&h.source===f)m=h.offset+h.source.length;else{const g=a[0].toUpperCase()+a.substring(1),y=c?`${g} must end with a ${f}`:`${g} in block collection must be sufficiently indented and end with a ${f}`;i(d,c?"MISSING_CHAR":"BAD_INDENT",y),h&&h.source.length!==1&&p.unshift(h)}if(p.length>0){const g=vk(p,m,n.options.strict,i);g.comment&&(u.comment?u.comment+=`
`+g.comment:u.comment=g.comment),u.range=[r.offset,m,g.offset]}else u.range=[r.offset,m,m];return u}function Z9(e,t,n,r,i,s){const o=n.type==="block-map"?iWt(e,t,n,r,s):n.type==="block-seq"?sWt(e,t,n,r,s):oWt(e,t,n,r,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function aWt(e,t,n,r,i){var f;const s=r.tag,o=s?t.directives.tagName(s.source,h=>i(s,"TAG_RESOLVE_FAILED",h)):null;if(n.type==="block-seq"){const{anchor:h,newlineAfterProp:p}=r,m=h&&s?h.offset>s.offset?h:s:h??s;m&&(!p||p.offset<m.offset)&&i(m,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===zu.tagName&&a==="map"||o===cb.tagName&&a==="seq")return Z9(e,t,n,i,o);let l=t.schema.tags.find(h=>h.tag===o&&h.collection===a);if(!l){const h=t.schema.knownTags[o];if(h&&h.collection===a)t.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h?i(s,"BAD_COLLECTION_TYPE",`${h.tag} used for ${a} collection, but expects ${h.collection??"scalar"}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Z9(e,t,n,i,o)}const u=Z9(e,t,n,i,o,l),c=((f=l.resolve)==null?void 0:f.call(l,u,h=>i(s,"TAG_RESOLVE_FAILED",h),t.options))??u,d=ns(c)?c:new In(c);return d.range=u.range,d.tag=o,l!=null&&l.format&&(d.format=l.format),d}function lWt(e,t,n){const r=t.offset,i=uWt(t,e.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const s=i.mode===">"?In.BLOCK_FOLDED:In.BLOCK_LITERAL,o=t.source?cWt(t.source):[];let a=o.length;for(let m=o.length-1;m>=0;--m){const g=o[m][1];if(g===""||g==="\r")a=m;else break}if(a===0){const m=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let g=r+i.length;return t.source&&(g+=t.source.length),{value:m,type:s,comment:i.comment,range:[r,g,g]}}let l=t.indent+i.indent,u=t.offset+i.length,c=0;for(let m=0;m<a;++m){const[g,y]=o[m];if(y===""||y==="\r")i.indent===0&&g.length>l&&(l=g.length);else{g.length<l&&n(u+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=g.length),c=m,l===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=g.length+y.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>l&&(a=m+1);let d="",f="",h=!1;for(let m=0;m<c;++m)d+=o[m][0].slice(l)+`
`;for(let m=c;m<a;++m){let[g,y]=o[m];u+=g.length+y.length+1;const v=y[y.length-1]==="\r";if(v&&(y=y.slice(0,-1)),y&&g.length<l){const E=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-y.length-(v?2:1),"BAD_INDENT",E),g=""}s===In.BLOCK_LITERAL?(d+=f+g.slice(l)+y,f=`
`):g.length>l||y[0]==="	"?(f===" "?f=`
`:!h&&f===`
`&&(f=`

`),d+=f+g.slice(l)+y,f=`
`,h=!0):y===""?f===`
`?d+=`
`:f=`
`:(d+=f+y,f=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)d+=`
`+o[m][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const p=r+i.length+t.source.length;return{value:d,type:s,comment:i.comment,range:[r,p,p]}}function uWt({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],s=i[0];let o=0,a="",l=-1;for(let f=1;f<i.length;++f){const h=i[f];if(!a&&(h==="-"||h==="+"))a=h;else{const p=Number(h);!o&&p?o=p:l===-1&&(l=e+f)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,c="",d=i.length;for(let f=1;f<t.length;++f){const h=t[f];switch(h.type){case"space":u=!0;case"newline":d+=h.source.length;break;case"comment":n&&!u&&r(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=h.source.length,c=h.source.substring(1);break;case"error":r(h,"UNEXPECTED_TOKEN",h.message),d+=h.source.length;break;default:{const p=`Unexpected token in block scalar header: ${h.type}`;r(h,"UNEXPECTED_TOKEN",p);const m=h.source;m&&typeof m=="string"&&(d+=m.length)}}}return{mode:s,indent:o,chomp:a,comment:c,length:d}}function cWt(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),s=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)s.push([t[o],t[o+1]]);return s}function dWt(e,t,n){const{offset:r,type:i,source:s,end:o}=e;let a,l;const u=(f,h,p)=>n(r+f,h,p);switch(i){case"scalar":a=In.PLAIN,l=fWt(s,u);break;case"single-quoted-scalar":a=In.QUOTE_SINGLE,l=hWt(s,u);break;case"double-quoted-scalar":a=In.QUOTE_DOUBLE,l=pWt(s,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const c=r+s.length,d=vk(o,c,t,n);return{value:l,type:a,comment:d.comment,range:[r,c,d.offset]}}function fWt(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),x$e(e)}function hWt(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),x$e(e.slice(1,-1)).replace(/''/g,"'")}function x$e(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],s=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(e),i+s+((r==null?void 0:r[1])??"")}function pWt(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:s,offset:o}=mWt(e,r);n+=s,r=o}else if(i==="\\"){let s=e[++r];const o=gWt[s];if(o)n+=o;else if(s===`
`)for(s=e[r+1];s===" "||s==="	";)s=e[++r+1];else if(s==="\r"&&e[r+1]===`
`)for(s=e[++r+1];s===" "||s==="	";)s=e[++r+1];else if(s==="x"||s==="u"||s==="U"){const a={x:2,u:4,U:8}[s];n+=yWt(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const s=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>s?e.slice(s,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function mWt(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const gWt={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function yWt(e,t,n,r){const i=e.substr(t,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function _$e(e,t,n,r){const{value:i,type:s,comment:o,range:a}=t.type==="block-scalar"?lWt(e,t,r):dWt(t,e.options.strict,r),l=n?e.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[ah]:l?u=vWt(e.schema,i,l,n,r):t.type==="scalar"?u=bWt(e,i,t,r):u=e.schema[ah];let c;try{const d=u.resolve(i,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);c=li(d)?d:new In(d)}catch(d){const f=d instanceof Error?d.message:String(d);r(n??t,"TAG_RESOLVE_FAILED",f),c=new In(i)}return c.range=a,c.source=i,s&&(c.type=s),l&&(c.tag=l),u.format&&(c.format=u.format),o&&(c.comment=o),c}function vWt(e,t,n,r,i){var a;if(n==="!")return e[ah];const s=[];for(const l of e.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)s.push(l);else return l;for(const l of s)if((a=l.test)!=null&&a.test(t))return l;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[ah])}function bWt({atKey:e,directives:t,schema:n},r,i,s){const o=n.tags.find(a=>{var l;return(a.default===!0||e&&a.default==="key")&&((l=a.test)==null?void 0:l.test(r))})||n[ah];if(n.compat){const a=n.compat.find(l=>{var u;return l.default&&((u=l.test)==null?void 0:u.test(r))})??n[ah];if(o.tag!==a.tag){const l=t.tagString(o.tag),u=t.tagString(a.tag),c=`Value may be parsed as either ${l} or ${u}`;s(i,"TAG_RESOLVE_FAILED",c,!0)}}return o}function wWt(e,t,n){if(t){n??(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const xWt={composeNode:E$e,composeEmptyNode:Tee};function E$e(e,t,n,r){const i=e.atKey,{spaceBefore:s,comment:o,anchor:a,tag:l}=n;let u,c=!0;switch(t.type){case"alias":u=_Wt(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=_$e(e,t,l,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=aWt(xWt,e,t,n,r),a&&(u.anchor=a.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),u=Tee(e,t.offset,void 0,null,n,r),c=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!li(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(u.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?u.comment=o:u.commentBefore=o),e.options.keepSourceTokens&&c&&(u.srcToken=t),u}function Tee(e,t,n,r,{spaceBefore:i,comment:s,anchor:o,tag:a,end:l},u){const c={type:"scalar",offset:wWt(t,n,r),indent:-1,source:""},d=_$e(e,c,a,u);return o&&(d.anchor=o.source.substring(1),d.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(d.spaceBefore=!0),s&&(d.comment=s,d.range[2]=l),d}function _Wt({options:e},{offset:t,source:n,end:r},i){const s=new pee(n.substring(1));s.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,a=vk(r,o,e.strict,i);return s.range=[t,o,a.offset],a.comment&&(s.comment=a.comment),s}function EWt(e,t,{offset:n,start:r,value:i,end:s},o){const a=Object.assign({_directives:t},e),l=new D5(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},c=c_(r,{indicator:"doc-start",next:i??(s==null?void 0:s[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});c.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!c.hasNewline&&o(c.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?E$e(u,i,c,o):Tee(u,c.end,r,null,c,o);const d=l.contents.range[2],f=vk(s,d,!1,o);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function NC(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function qme(e){var i;let t="",n=!1,r=!1;for(let s=0;s<e.length;++s){const o=e[s];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[s+1])==null?void 0:i[0])!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class CWt{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{const o=NC(n);s?this.warnings.push(new rWt(o,r,i)):this.errors.push(new AS(o,r,i))},this.directives=new ka({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=qme(this.prelude);if(r){const s=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!s)t.commentBefore=r;else if(Zi(s)&&!s.flow&&s.items.length>0){let o=s.items[0];ss(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:qme(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const s=NC(t);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=EWt(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new AS(NC(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new AS(NC(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=vk(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new AS(NC(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new D5(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const C$e="\uFEFF",S$e="",T$e="",uq="";function SWt(e){switch(e){case C$e:return"byte-order-mark";case S$e:return"doc-mode";case T$e:return"flow-error-end";case uq:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function $c(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Vme=new Set("0123456789ABCDEFabcdef"),TWt=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),xD=new Set(",[]{}"),AWt=new Set(` ,[]{}
\r	`),eB=e=>!e||AWt.has(e);class kWt{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&$c(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===C$e&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const s=t[r-1];if(s===" "||s==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const s=t[n-1];if(s===" "||s==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield S$e,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&$c(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!$c(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&$c(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(eB),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&$c(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield T$e,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(eB),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||$c(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>$c(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let s=this.pos;r=this.buffer[s];++s)switch(r){case" ":n+=1;break;case`
`:t=s,n=0;break;case"\r":{const o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const s=this.continueScalar(t+1);if(s===-1)break;t=this.buffer.indexOf(`
`,s)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let s=t-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);const a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>a)t=s;else break}while(!0);return yield uq,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const s=this.buffer[r+1];if($c(s)||t&&xD.has(s))break;n=r}else if($c(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||t&&xD.has(s))break;if(i===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&xD.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield uq,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(eB))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if($c(n)||t&&xD.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!$c(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(TWt.has(n))n=this.buffer[++t];else if(n==="%"&&Vme.has(this.buffer[t+1])&&Vme.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class IWt{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const s=n+r>>1;this.lineStarts[s]<t?n=s+1:r=s}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function u0(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Wme(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function A$e(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function _D(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function ew(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function Gme(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!u0(t.start,"explicit-key-ind")&&!u0(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,A$e(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class RWt{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new kWt,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=SWt(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Gme(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Wme(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{Wme(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=_D(this.peek(2)),r=ew(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,s=Array.isArray(i)?i[i.length-1]:void 0;(s==null?void 0:s.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],s=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent,s=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(s&&n.sep&&!n.value){const a=[];for(let l=0;l<n.sep.length;++l){const u=n.sep[l];switch(u.type){case"newline":a.push(l);break;case"space":break;case"comment":u.indent>t.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(u0(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(A$e(n.key)&&!u0(n.sep,"newline")){const a=ew(n.start),l=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:l,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(u0(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=ew(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?t.items.push({start:o,key:null,sep:[this.sourceToken]}):u0(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);s||n.value?(t.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(t);if(a){if(a.type==="block-seq"){if(!n.explicitKey&&n.sep&&!u0(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else i&&t.items.push({start:o});this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,s=Array.isArray(i)?i[i.length-1]:void 0;(s==null?void 0:s.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],s=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||u0(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=_D(r),s=ew(i);Gme(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:s,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=_D(t),r=ew(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=_D(t),r=ew(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function DWt(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new IWt||null,prettyErrors:t}}function PWt(e,t={}){const{lineCounter:n,prettyErrors:r}=DWt(t),i=new RWt(n==null?void 0:n.addNewLine),s=new CWt(t);let o=null;for(const a of s.compose(i.parse(e),!0,e.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new AS(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(Ume(e,n)),o.warnings.forEach(Ume(e,n))),o}const OWt="#/definitions/StudyConfig",NWt="http://json-schema.org/draft-07/schema#",$Wt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"numItems\\": 5 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"type":"string"},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"string"}},"required":["label","value"],"type":"object"},"StudyConfig":{"additionalProperties":false,"description":"The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\\n\\n```js { \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.1.1/src/parser/StudyConfigSchema.json\\", \\"studyMetadata\\": {  ... }, \\"uiConfig\\": {  ... }, \\"components\\": {  ... }, \\"sequence\\": {  ... } } ```\\n\\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\\n\\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"importedLibraries":{"description":"A list of libraries that are used in the study. This is used to import external libraries into the study. Library names are valid namespaces to be used later.","items":{"type":"string"},"type":"array"},"sequence":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"studyMetadata":{"$ref":"#/definitions/StudyMetadata","description":"The metadata for the study. This is used to identify the study and version in the data file."},"uiConfig":{"$ref":"#/definitions/UIConfig","description":"The UI configuration for the study. This is used to configure the UI of the app."}},"required":["$schema","studyMetadata","uiConfig","components","sequence"],"type":"object"},"StudyMetadata":{"additionalProperties":false,"description":"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\\n\\n```js \\"studyMetadata\\" : { \\"title\\": \\"My New Study\\", \\"version\\": \\"pilot\\", \\"authors\\": [  \\"Jane Doe\\",  \\"John Doe\\" ], \\"date\\": \\"2024-04-01\\", \\"description\\": \\"This study is meant to test your ability.\\", \\"organizations\\": [  \\"The reVISit Team\\",  \\"The Other Team\\" ] } ```","properties":{"authors":{"description":"The authors of your study.","items":{"type":"string"},"type":"array"},"date":{"description":"The date of your study, may be useful for the researcher.","type":"string"},"description":{"description":"The description of your study, shown on the landing page.","type":"string"},"organizations":{"description":"The organizations that are associated with your study.","items":{"type":"string"},"type":"array"},"title":{"description":"The title of your study, shown on the landing page.","type":"string"},"version":{"description":"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.","type":"string"}},"required":["title","version","authors","date","description","organizations"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"UIConfig":{"additionalProperties":false,"description":"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ \\"contactEmail\\": \\"contact@revisit.dev\\", \\"helpTextPath\\": \\"<study-name>/assets/help.md\\", \\"logoPath\\": \\"<study-name>/assets/logo.jpg\\", \\"withProgressBar\\": true, \\"autoDownloadStudy\\": true \\"autoDownloadTime\\": 5000, \\"studyEndMsg\\": \\"Thank you for completing this study. You\'re the best!\\", \\"withSidebar\\": true, \\"windowEventDebounceTime\\": 500, \\"urlParticipantIdParam\\": \\"PROLIFIC_ID\\", \\"numSequences\\": 500 } ``` In the above, the `<study-name>/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. Defaults to true.","type":"boolean"},"autoDownloadStudy":{"description":"Controls whether the study data is automatically downloaded at the end of the study.","type":"boolean"},"autoDownloadTime":{"description":"The time in milliseconds to wait before automatically downloading the study data.","type":"number"},"contactEmail":{"description":"The email address that used during the study if a participant clicks contact.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"logoPath":{"description":"The path to the logo image. This is displayed on the landing page and the header.","type":"string"},"minHeightSize":{"description":"The minimum screen height size for the study","type":"number"},"minWidthSize":{"description":"The minimum screen width size for the study","type":"number"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text to display on the next button.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. Defaults to false.","type":"boolean"},"numSequences":{"description":"The number of sequences to generate for the study. This is used to generate the random sequences for the study. Defaults to 1000.","type":"number"},"participantNameField":{"description":"The default name field for a participant. Directs revisit to use the task and response id as a name in UI elements. For example, if you wanted the response \'prolificId\' from the task \'introduction\' to be the name, this field would be \'introduction.prolificId\'","type":"string"},"previousButtonText":{"description":"The text that is displayed on the previous button.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. Defaults to false.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If true, will record audio on all components unless deactivated on individual components. Defaults to false.","type":"boolean"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"showTitle":{"description":"Controls whether the title should be hidden in the study.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. Defaults to 300.","type":"number"},"studyEndMsg":{"description":"The message to display when the study ends.","type":"string"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"timeoutReject":{"description":"Whether to redirect a timed out participant to a rejection page. This only works for components where the `nextButtonDisableTime` field is set.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"urlParticipantIdParam":{"description":"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered in the study.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question.","type":"boolean"}},"required":["logoPath","contactEmail","withProgressBar","withSidebar"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),MWt={$ref:OWt,$schema:NWt,definitions:$Wt},FWt="#/definitions/GlobalConfig",LWt="http://json-schema.org/draft-07/schema#",jWt={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},BWt={$ref:FWt,$schema:LWt,definitions:jWt},zWt="#/definitions/LibraryConfig",UWt="http://json-schema.org/draft-07/schema#",HWt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LibraryConfig":{"additionalProperties":false,"description":"LibraryConfig is used to define the properties of a library configuration. This is a JSON object with three main components: baseComponents, components, and the sequences. Libraries are useful for defining components and sequences of these components that are to be reused across multiple studies. We (the reVISit team) provide several libraries that can be used in your study configurations. Check the public/libraries folder in the reVISit-studies repository for available libraries. We also plan to accept community contributions for libraries. If you have a library that you think would be useful for others, please reach out to us. We would love to include it in our repository.\\n\\nBelow is the general template that should be followed when constructing a Library configuration file.\\n\\n```js {  \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.1.1/src/parser/LibraryConfigSchema.json\\",  \\"baseComponents\\": {    // BaseComponents here are defined exactly as is in the StudyConfig  },  \\"components\\": {    // Components here are defined exactly as is in the StudyConfig  },  \\"sequences\\": {   // Sequences here are defined as \\"key\\": \\"value\\" pairs where the key is the name of the sequence and the value is a ComponentBlock, just like in the StudyConfig  } } ```","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"additionalDescription":{"description":"Additional description of the library. It accepts markdown formatting.","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"description":{"description":"A description of the library.","type":"string"},"doi":{"description":"The DOI of the paper where the content of the library is based on.","type":"string"},"externalLink":{"description":"The external link to the paper/website where the content of the library is based on.","type":"string"},"reference":{"description":"The reference to the paper where the content of the library is based on.","type":"string"},"sequences":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"description":"The order of the components in the study. This might include some randomness.","type":"object"}},"required":["$schema","description","components","sequences"],"type":"object"},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"numItems\\": 5 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"type":"string"},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"string"}},"required":["label","value"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: {\\"width\\": 100} or {\\"width\\": \\"50%\\"}"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),qWt={$ref:zWt,$schema:UWt,definitions:HWt},k$e=new dee;k$e.addSchema(qWt);const VWt=k$e.getSchema("#/definitions/LibraryConfig");function I$e(e,t){return tc(e)?e:{...e,components:e.components.map(n=>typeof n=="object"?I$e(n,t):`$${t}.components.${n}`)}}function R$e(e,t,n=[]){return tc(e)?e:{...e,components:(e.components||[]).map(r=>{if(typeof r=="object")return R$e(r,t);const i=r.includes(".se.")?".se.":r.includes(".sequences.")?".sequences.":!1;if(typeof r=="string"&&r.startsWith("$")&&i){const[s,o]=r.split(i),a=s.slice(1);if(!t[a]){const c={message:`Library ${a} not found in imported libraries`,instancePath:"",params:{action:"check the library name"}};return n.push(c),r}let u=t[a].sequences[o];if(!u){const c={message:`Sequence ${o} not found in library ${s}`,instancePath:"",params:{action:"check the sequence name"}};return n.push(c),r}return u=I$e(u,a),u}return r})}}function WWt(e,t,n){Object.entries(n).forEach(([r,i])=>{Object.entries(i.components).forEach(([s,o])=>{var a;lM(o)&&!((a=i.baseComponents)!=null&&a[o.baseComponent])&&t.push({message:`Base component \`${o.baseComponent}\` is not defined in baseComponents object in library \`${r}\``,instancePath:`/importedLibraries/${r}/components/${s}`,params:{action:"add the base component to the baseComponents object"}})})})}function GWt(e,t){let n=!1,r;try{r=JSON.parse(e),n=VWt(r)}catch{n=!1}const i=[],s=[];return r?n||i.push({message:"Library config is not valid",instancePath:"",params:{action:"fix the errors in the library config"}}):i.push({message:`Could not find library \`${t}\``,instancePath:"/importedLibraries/",params:{action:"make sure the library is in the correct location"}}),{...r,errors:i,warnings:s}}async function YWt(e){const t=await(await fetch(`${hs}libraries/${e}/config.json`)).text();return GWt(t,e)}async function KWt(e,t,n){const r=e.map(async s=>{const o=await YWt(s);return o.errors&&t.push(...o.errors),o.warnings&&n.push(...o.warnings),[s,o]}),i=Object.fromEntries(await Promise.all(r));return Object.entries(i).forEach(([s,o])=>{o.components||delete i[s]}),e.forEach(s=>{i[s]&&(i[s].components=Object.fromEntries(Object.entries(i[s].components).map(([o,a])=>{if(lM(a)){const l=M2e({},i[s].baseComponents[a.baseComponent],a);return delete l.baseComponent,[[`$${s}.components.${o}`,l],[`$${s}.co.${o}`,l]]}return[[`$${s}.components.${o}`,a],[`$${s}.co.${o}`,a]]}).reduce((o,[a,l])=>(o.push(a,l),o),[])))}),i}const D$e=new dee;D$e.addSchema(BWt);const Yme=D$e.getSchema("#/definitions/GlobalConfig"),P$e=new dee;P$e.addSchema(MWt);const tB=P$e.getSchema("#/definitions/StudyConfig");function XWt(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function QWt(e){const t=JSON.parse(e),n=Yme(t),r=XWt(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...Yme.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function O$e(e,t,n=[]){if(!tc(e)){if(e.components.length===0){n.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"remove empty components block"}});return}e.id&&t.map((i,s)=>i===e.id?s:null).forEach(i=>{i!==null&&t.splice(i,1)}),e.components.forEach(r=>{typeof r=="string"?t.includes(r)&&t.map((s,o)=>s===r?o:null).forEach(s=>{s!==null&&t.splice(s,1)}):O$e(r,t,n)}),e.skip&&t.push(...e.skip.map(r=>r.to).filter(r=>r!=="end"))}}function JWt(e,t){const n=[],r=[];WWt(e,n,t),Object.entries(e.components).forEach(([o,a])=>{var l;lM(a)&&!((l=e.baseComponents)!=null&&l[a.baseComponent])&&n.push({message:`Base component \`${a.baseComponent}\` is not defined in baseComponents object`,instancePath:`/components/${o}`,params:{action:"add the base component to the baseComponents object"}})});const i=P2e(e.sequence);i.forEach(o=>{var a;e.components[o]||n.push({message:(a=e.baseComponents)!=null&&a[o]?`Component \`${o}\` is a base component and cannot be used in the sequence`:`Component \`${o}\` is not defined in components object`,instancePath:"/sequence/",params:{action:"add the component to the components object"}})}),Object.keys(e.components).filter(o=>!i.includes(o)&&!o.includes(".se.")&&!o.includes(".sequences.")&&!o.includes(".co.")&&!o.includes(".components.")).forEach(o=>{r.push({message:`Component \`${o}\` is defined in components object but not used deterministically in the sequence`,instancePath:"/components/",params:{action:"remove the component from the components object or add it to the sequence"}})});const s=[];return O$e(e.sequence,s),s.forEach(o=>{n.push({message:`Skip target \`${o}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"add the target to the sequence after the skip block"}})}),{errors:n,warnings:r}}async function Aee(e){let t=!1,n;try{n=JSON.parse(e),t=tB(n)}catch{try{n=PWt(e).toJSON(),t=tB(n)}catch(s){console.error("Error parsing study config file:",s),t=!1}}let r=tB.errors||[],i=[];if(t&&n){const s=n.importedLibraries||[],o=await KWt(s,r,i);Object.values(o).forEach(u=>{n.components={...n.components,...u.components},n.baseComponents={...n.baseComponents,...u.components}}),n.sequence=R$e(n.sequence,o,r);const{errors:a,warnings:l}=JWt(n,o);r=[...r,...a],i=[...i,...l]}else r=[...r,{message:"There was an issue validating your config file",instancePath:"root",params:{action:"fix the errors in your file or make sure the global config references the right file path"}}];return{...n,errors:r,warnings:i}}async function ZWt(e){const t=await(await fetch(`${hs}${e}`)).text();return await Aee(t)}async function kee(e,t){const n=t.configsList.find(r=>s1e(r)===e);if(n){const r=t.configs[n];return await ZWt(`${r.path}`)}return null}async function eGt(e){const t={},n=e.configsList.map(async i=>kee(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function tGt({globalConfig:e}){const t=gh(),[n,r]=R.useState(null),i=e.configsList.includes(t)||t==="__revisit-widget";R.useEffect(()=>{if(t!=="__revisit-widget")return kee(t,e).then(p=>{r(p)}),()=>{};if(e&&t){const p=m=>{m.data.type==="revisitWidget/CONFIG"&&Aee(m.data.payload).then(async g=>{r(g);const y=await Epe(g);window.parent.postMessage({type:"revisitWidget/SEQUENCE_ARRAY",payload:y},"*")})};return window.addEventListener("message",p),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",p)}}return()=>{}},[e,t]);const[s,o]=R.useState([]),[a,l]=R.useState(null),{storageEngine:u}=Wi(),[c]=ch(),d=R.useMemo(()=>c.get("participantId"),[c]);R.useEffect(()=>{async function p(){if(!u||!n||!t)return;await u.initializeStudyDb(t),await u.saveConfig(n),await u.getSequenceArray()||await u.setSequenceArray(await Epe(n));const g=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,y=Object.fromEntries(c.entries()),v=await fetch("https://api.ipify.org?format=json").catch(D=>""),w=v instanceof Response?await v.json():{ip:""},E={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:w.ip},C=await u.initializeParticipantSession(y,n,E,d||g),S=await u.getModes(t),T=await B7(JSON.stringify(n));let A=n;C.participantConfigHash!==T&&(A=(await u.getAllConfigsFromHash([C.participantConfigHash],t))[C.participantConfigHash]);const I=await Mbt(t,A,C.sequence,E,C.answers,S,C.participantId);l(I),o([{element:_.jsx(dqt,{}),children:[{path:"/",element:_.jsx(NNe,{to:Zr(0),replace:!0})},{path:"/:index/:funcIndex?",element:n.errors.length>0?_.jsxs(_.Fragment,{children:[_.jsx(Ii,{order:2,mb:8,children:"Error loading config"}),_.jsx(XD,{issues:n.errors,type:"error"})]}):_.jsx(YHt,{})}]}])}p()},[u,n,t,c,d]);const f=Mbe(s);let h=null;return i?s.length===0?h=_.jsx(Ju,{visible:!0}):h=f&&a?_.jsx(F2e.Provider,{value:a,children:_.jsx(hot,{store:a.store,children:f})}):_.jsx(Kp,{}):h=_.jsx(Kp,{}),h}function w3({studyIds:e}){const t=Ya(),{studyId:n}=ha(),r=fc(),i=e.map(o=>({value:o,label:o})).sort((o,a)=>o.label.localeCompare(a.label)),s=r.pathname.includes("analysis");return _.jsx(Gr.Header,{p:"md",children:_.jsxs(Rf,{mt:-7,align:"center",children:[_.jsx(Rf.Col,{span:6,children:_.jsxs(Nt,{align:"center",onClick:()=>t("/"),style:{cursor:"pointer"},children:[_.jsx(yg,{w:40,src:`${hs}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),_.jsx(Gu,{w:"md"}),_.jsx(Ii,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),_.jsx(Rf.Col,{span:6,children:_.jsxs(Nt,{justify:"flex-end",direction:"row",children:[s&&_.jsxs(_.Fragment,{children:[_.jsx(vg,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:o=>t(`/analysis/stats/${o}`),mr:16}),_.jsx(qt,{component:"a",href:`${hs}${n}`,target:"_blank",leftSection:_.jsx(Zbe,{}),mr:"sm",children:"Go to Study"})]}),_.jsx(n1e,{onClick:()=>t("/settings"),style:{cursor:"pointer",marginTop:s?6:void 0}})]})})]})})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function R0(e,t){return typeof e=="function"?e(t):e}function wu(e,t){return n=>{t.setState(r=>({...r,[e]:R0(n,r[e])}))}}function P5(e){return e instanceof Function}function nGt(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function N$e(e,t){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=t(s);o!=null&&o.length&&r(o)})};return r(e),n}function sn(e,t,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(s);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,h=(p,m)=>{for(p=String(p);p.length<m;)p=" "+p;return p};console.info(`%c ${h(d,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function on(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function rGt(e,t,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:sn(()=>[e,n,t,s],(o,a,l,u)=>({table:o,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),on(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(s,n,t,e)},{}),s}function iGt(e,t,n,r){var i,s;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(s=a.id)!=null?s:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let h=f;for(const m of l.split(".")){var p;h=(p=h)==null?void 0:p[m]}return h}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:sn(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},on(e.options,"debugColumns")),getLeafColumns:sn(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let p=d.columns.flatMap(m=>m.getLeafColumns());return f(p)}return[d]},on(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const Ko="debugHeaders";function Kme(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(s),o},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(s,e)}),s}const sGt={createTable:e=>{e.getHeaderGroups=sn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var s,o;const a=(s=r==null?void 0:r.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],l=(o=i==null?void 0:i.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return ED(t,[...a,...u,...l],e)},on(e.options,Ko)),e.getCenterHeaderGroups=sn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),ED(t,n,e,"center")),on(e.options,Ko)),e.getLeftHeaderGroups=sn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return ED(t,s,e,"left")},on(e.options,Ko)),e.getRightHeaderGroups=sn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return ED(t,s,e,"right")},on(e.options,Ko)),e.getFooterGroups=sn(()=>[e.getHeaderGroups()],t=>[...t].reverse(),on(e.options,Ko)),e.getLeftFooterGroups=sn(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),on(e.options,Ko)),e.getCenterFooterGroups=sn(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),on(e.options,Ko)),e.getRightFooterGroups=sn(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),on(e.options,Ko)),e.getFlatHeaders=sn(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),on(e.options,Ko)),e.getLeftFlatHeaders=sn(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),on(e.options,Ko)),e.getCenterFlatHeaders=sn(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),on(e.options,Ko)),e.getRightFlatHeaders=sn(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),on(e.options,Ko)),e.getCenterLeafHeaders=sn(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),on(e.options,Ko)),e.getLeftLeafHeaders=sn(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),on(e.options,Ko)),e.getRightLeafHeaders=sn(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),on(e.options,Ko)),e.getLeafHeaders=sn(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,s,o,a,l,u;return[...(i=(s=t[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},on(e.options,Ko))}};function ED(e,t,n,r){var i,s;let o=0;const a=function(f,h){h===void 0&&(h=1),o=Math.max(o,h),f.filter(p=>p.getIsVisible()).forEach(p=>{var m;(m=p.columns)!=null&&m.length&&a(p.columns,h+1)},0)};a(e);let l=[];const u=(f,h)=>{const p={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},m=[];f.forEach(g=>{const y=[...m].reverse()[0],v=g.column.depth===p.depth;let w,E=!1;if(v&&g.column.parent?w=g.column.parent:(w=g.column,E=!0),y&&(y==null?void 0:y.column)===w)y.subHeaders.push(g);else{const C=Kme(n,w,{id:[r,h,w.id,g==null?void 0:g.id].filter(Boolean).join("_"),isPlaceholder:E,placeholderId:E?`${m.filter(S=>S.column===w).length}`:void 0,depth:h,index:m.length});C.subHeaders.push(g),m.push(C)}p.headers.push(g),g.headerGroup=p}),l.push(p),h>0&&u(m,h-1)},c=t.map((f,h)=>Kme(n,f,{depth:o,index:h}));u(c,o-1),l.reverse();const d=f=>f.filter(p=>p.column.getIsVisible()).map(p=>{let m=0,g=0,y=[0];p.subHeaders&&p.subHeaders.length?(y=[],d(p.subHeaders).forEach(w=>{let{colSpan:E,rowSpan:C}=w;m+=E,y.push(C)})):m=1;const v=Math.min(...y);return g=g+v,p.colSpan=m,p.rowSpan=g,{colSpan:m,rowSpan:g}});return d((i=(s=l[0])==null?void 0:s.headers)!=null?i:[]),l}const gE=(e,t,n,r,i,s,o)=>{let a={id:t,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:s??[],getLeafRows:()=>N$e(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:sn(()=>[e.getAllLeafColumns()],l=>l.map(u=>rGt(e,a,u,u.id)),on(e.options,"debugRows")),_getAllCellsByColumnId:sn(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),on(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},oGt={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},$$e=(e,t,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};$$e.autoRemove=e=>gd(e);const M$e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};M$e.autoRemove=e=>gd(e);const F$e=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};F$e.autoRemove=e=>gd(e);const L$e=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};L$e.autoRemove=e=>gd(e)||!(e!=null&&e.length);const j$e=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});j$e.autoRemove=e=>gd(e)||!(e!=null&&e.length);const B$e=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});B$e.autoRemove=e=>gd(e)||!(e!=null&&e.length);const z$e=(e,t,n)=>e.getValue(t)===n;z$e.autoRemove=e=>gd(e);const U$e=(e,t,n)=>e.getValue(t)==n;U$e.autoRemove=e=>gd(e);const Iee=(e,t,n)=>{let[r,i]=n;const s=e.getValue(t);return s>=r&&s<=i};Iee.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};Iee.autoRemove=e=>gd(e)||gd(e[0])&&gd(e[1]);const xf={includesString:$$e,includesStringSensitive:M$e,equalsString:F$e,arrIncludes:L$e,arrIncludesAll:j$e,arrIncludesSome:B$e,equals:z$e,weakEquals:U$e,inNumberRange:Iee};function gd(e){return e==null||e===""}const aGt={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:wu("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?xf.includesString:typeof r=="number"?xf.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?xf.equals:Array.isArray(r)?xf.arrIncludes:xf.weakEquals},e.getFilterFn=()=>{var n,r;return P5(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:xf[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),s=r==null?void 0:r.find(c=>c.id===e.id),o=R0(n,s?s.value:void 0);if(Xme(i,o,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:o};if(s){var u;return(u=r==null?void 0:r.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var s;return(s=R0(t,i))==null?void 0:s.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(Xme(l,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Xme(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const lGt=(e,t,n)=>n.reduce((r,i)=>{const s=i.getValue(e);return r+(typeof s=="number"?s:0)},0),uGt=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},cGt=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},dGt=(e,t,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},fGt=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let s=i.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},hGt=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!nGt(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},pGt=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),mGt=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,gGt=(e,t)=>t.length,x3={sum:lGt,min:uGt,max:cGt,extent:dGt,mean:fGt,median:hGt,unique:pGt,uniqueCount:mGt,count:gGt},yGt={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:wu("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return x3.sum;if(Object.prototype.toString.call(r)==="[object Date]")return x3.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return P5(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:x3[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function vGt(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(o=>o.id===s)).filter(Boolean),...r]}const bGt={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:wu("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=sn(n=>[u2(t,n)],n=>n.findIndex(r=>r.id===e.id),on(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=u2(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=u2(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=sn(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let s=[];if(!(t!=null&&t.length))s=i;else{const o=[...t],a=[...i];for(;a.length&&o.length;){const l=o.shift(),u=a.findIndex(c=>c.id===l);u>-1&&s.push(a.splice(u,1)[0])}s=[...s,...a]}return vGt(s,n,r)},on(e.options,"debugTable"))}},nB=()=>({left:[],right:[]}),wGt={getInitialState:e=>({columnPinning:nB(),...e}),getDefaultOptions:e=>({onColumnPinningChange:wu("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var s,o;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i==null?void 0:i.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=sn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},on(t.options,"debugRows")),e.getLeftVisibleCells=sn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),on(t.options,"debugRows")),e.getRightVisibleCells=sn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),on(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?nB():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:nB())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=sn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),on(e.options,"debugColumns")),e.getRightLeafColumns=sn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),on(e.options,"debugColumns")),e.getCenterLeafColumns=sn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(s=>!i.includes(s.id))},on(e.options,"debugColumns"))}},CD={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},rB=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),xGt={getDefaultColumnDef:()=>CD,getInitialState:e=>({columnSizing:{},columnSizingInfo:rB(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:wu("columnSizing",e),onColumnSizingInfoChange:wu("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:CD.minSize,(r=s??e.columnDef.size)!=null?r:CD.size),(i=e.columnDef.maxSize)!=null?i:CD.maxSize)},e.getStart=sn(n=>[n,u2(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),on(t.options,"debugColumns")),e.getAfter=sn(n=>[n,u2(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),on(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),iB(s)&&s.touches&&s.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],l=iB(s)?Math.round(s.touches[0].clientX):s.clientX,u={},c=(y,v)=>{typeof v=="number"&&(t.setColumnSizingInfo(w=>{var E,C;const S=t.options.columnResizeDirection==="rtl"?-1:1,T=(v-((E=w==null?void 0:w.startOffset)!=null?E:0))*S,A=Math.max(T/((C=w==null?void 0:w.startSize)!=null?C:0),-.999999);return w.columnSizingStart.forEach(I=>{let[D,O]=I;u[D]=Math.round(Math.max(O+O*A,0)*100)/100}),{...w,deltaOffset:T,deltaPercentage:A}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(w=>({...w,...u})))},d=y=>c("move",y),f=y=>{c("end",y),t.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,p={moveHandler:y=>d(y.clientX),upHandler:y=>{h==null||h.removeEventListener("mousemove",p.moveHandler),h==null||h.removeEventListener("mouseup",p.upHandler),f(y.clientX)}},m={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),d(y.touches[0].clientX),!1),upHandler:y=>{var v;h==null||h.removeEventListener("touchmove",m.moveHandler),h==null||h.removeEventListener("touchend",m.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),f((v=y.touches[0])==null?void 0:v.clientX)}},g=_Gt()?{passive:!1}:!1;iB(s)?(h==null||h.addEventListener("touchmove",m.moveHandler,g),h==null||h.addEventListener("touchend",m.upHandler,g)):(h==null||h.addEventListener("mousemove",p.moveHandler,g),h==null||h.addEventListener("mouseup",p.upHandler,g)),t.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?rB():(n=e.initialState.columnSizingInfo)!=null?n:rB())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let SD=null;function _Gt(){if(typeof SD=="boolean")return SD;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return SD=e,SD}function iB(e){return e.type==="touchstart"}const EGt={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:wu("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=sn(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),on(t.options,"debugRows")),e.getVisibleCells=sn(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],on(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>sn(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),on(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function u2(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const CGt={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},SGt={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:wu("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>xf.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return P5(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:xf[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},TGt={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:wu("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,s;e.setExpanded(r?{}:(i=(s=e.initialState)==null?void 0:s.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[e.id]:!0};if(s&&!n){const{[e.id]:a,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},cq=0,dq=10,sB=()=>({pageIndex:cq,pageSize:dq}),AGt={getInitialState:e=>({...e,pagination:{...sB(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:wu("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=s=>R0(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?sB():(i=e.initialState.pagination)!=null?i:sB())},e.setPageIndex=r=>{e.setPagination(i=>{let s=R0(r,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},e.resetPageIndex=r=>{var i,s;e.setPageIndex(r?cq:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:cq)},e.resetPageSize=r=>{var i,s;e.setPageSize(r?dq:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:dq)},e.setPageSize=r=>{e.setPagination(i=>{const s=Math.max(1,R0(r,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},e.setPageCount=r=>e.setPagination(i=>{var s;let o=R0(r,(s=e.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=sn(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},on(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},oB=()=>({top:[],bottom:[]}),kGt={getInitialState:e=>({rowPinning:oB(),...e}),getDefaultOptions:e=>({onRowPinningChange:wu("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const s=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],o=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...o,e.id,...s]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(n==="top"){var h,p;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((p=l==null?void 0:l.bottom)!=null?p:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((c=l==null?void 0:l.bottom)!=null?c:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const s=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?oB():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:oB())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=sn(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),on(e.options,"debugRows")),e.getBottomRows=sn(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),on(e.options,"debugRows")),e.getCenterRows=sn(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(s=>!i.has(s.id))},on(e.options,"debugRows"))}},IGt={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:wu("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(s=>{fq(i,s.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=sn(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?aB(e,n):{rows:[],flatRows:[],rowsById:{}},on(e.options,"debugTable")),e.getFilteredSelectedRowModel=sn(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?aB(e,n):{rows:[],flatRows:[],rowsById:{}},on(e.options,"debugTable")),e.getGroupedSelectedRowModel=sn(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?aB(e,n):{rows:[],flatRows:[],rowsById:{}},on(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return s;const a={...s};return fq(a,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Ree(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return hq(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return hq(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},fq=(e,t,n,r,i)=>{var s;const o=i.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>fq(e,a.id,n,r,i))};function aB(e,t){const n=e.getState().rowSelection,r=[],i={},s=function(o,a){return o.map(l=>{var u;const c=Ree(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:s(l.subRows)}),c)return l}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:i}}function Ree(e,t){var n;return(n=t[e.id])!=null?n:!1}function hq(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return e.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(Ree(o,t)?s=!0:i=!1),o.subRows&&o.subRows.length)){const a=hq(o,t);a==="all"?s=!0:(a==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const pq=/([0-9]+)/gm,RGt=(e,t,n)=>H$e(cg(e.getValue(n)).toLowerCase(),cg(t.getValue(n)).toLowerCase()),DGt=(e,t,n)=>H$e(cg(e.getValue(n)),cg(t.getValue(n))),PGt=(e,t,n)=>Dee(cg(e.getValue(n)).toLowerCase(),cg(t.getValue(n)).toLowerCase()),OGt=(e,t,n)=>Dee(cg(e.getValue(n)),cg(t.getValue(n))),NGt=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},$Gt=(e,t,n)=>Dee(e.getValue(n),t.getValue(n));function Dee(e,t){return e===t?0:e>t?1:-1}function cg(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function H$e(e,t){const n=e.split(pq).filter(Boolean),r=t.split(pq).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),a=parseInt(s,10),l=[o,a].sort();if(isNaN(l[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const Yy={alphanumeric:RGt,alphanumericCaseSensitive:DGt,text:PGt,textCaseSensitive:OGt,datetime:NGt,basic:$Gt},MGt={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:wu("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return Yy.datetime;if(typeof s=="string"&&(r=!0,s.split(pq).length>1))return Yy.alphanumeric}return r?Yy.text:Yy.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return P5(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Yy[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(h=>h.id===e.id),l=o==null?void 0:o.findIndex(h=>h.id===e.id);let u=[],c,d=s?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&l!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(s||i||(c="remove")),c==="add"){var f;u=[...o,{id:e.id,desc:d}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(h=>h.id===e.id?{...h,desc:d}:h):c==="remove"?u=o.filter(h=>h.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const s=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},FGt=[sGt,EGt,bGt,wGt,oGt,aGt,CGt,SGt,MGt,yGt,TGt,AGt,kGt,IGt,xGt];function LGt(e){var t,n;const r=[...FGt,...(t=e._features)!=null?t:[]];let i={_features:r};const s=i._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),o=f=>i.options.mergeOptions?i.options.mergeOptions(s,f):{...s,...f};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const u=[];let c=!1;const d={_features:r,options:{...s,...e},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const h=R0(f,i.options);i.options=o(h)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,h,p)=>{var m;return(m=i.options.getRowId==null?void 0:i.options.getRowId(f,h,p))!=null?m:`${p?[p.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,h)=>{let p=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!p&&(p=i.getCoreRowModel().rowsById[f],!p))throw new Error;return p},_getDefaultColumnDef:sn(()=>[i.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:p=>{const m=p.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:p=>{var m,g;return(m=(g=p.renderValue())==null||g.toString==null?void 0:g.toString())!=null?m:null},...i._features.reduce((p,m)=>Object.assign(p,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},on(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:sn(()=>[i._getColumnDefs()],f=>{const h=function(p,m,g){return g===void 0&&(g=0),p.map(y=>{const v=iGt(i,y,g,m),w=y;return v.columns=w.columns?h(w.columns,v,g+1):[],v})};return h(f)},on(e,"debugColumns")),getAllFlatColumns:sn(()=>[i.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),on(e,"debugColumns")),_getAllFlatColumnsById:sn(()=>[i.getAllFlatColumns()],f=>f.reduce((h,p)=>(h[p.id]=p,h),{}),on(e,"debugColumns")),getAllLeafColumns:sn(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,h)=>{let p=f.flatMap(m=>m.getLeafColumns());return h(p)},on(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const h=i._features[f];h==null||h.createTable==null||h.createTable(i)}return i}function jGt(){return e=>sn(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const a=[];for(let u=0;u<i.length;u++){const c=gE(e,e._getRowId(i[u],u,o),i[u],u,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,s+1,c))}}return a};return n.rows=r(t),n},on(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function BGt(){return e=>sn(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:q$e(n),on(e.options,"debugTable"))}function q$e(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function zGt(){return(e,t)=>sn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return;const r=n.flatRows.flatMap(o=>{var a;return(a=o.getUniqueValues(t))!=null?a:[]}).map(Number).filter(o=>!Number.isNaN(o));if(!r.length)return;let i=r[0],s=r[r.length-1];for(const o of r)o<i?i=o:o>s&&(s=o);return[i,s]},on(e.options,"debugTable"))}function V$e(e,t,n){return n.options.filterFromLeafRows?UGt(e,t,n):HGt(e,t,n)}function UGt(e,t,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const p=gE(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(p.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&u<o){if(p.subRows=a(h.subRows,u+1),h=p,t(h)&&!p.subRows.length){c.push(h),s[h.id]=h,i.push(h);continue}if(t(h)||p.subRows.length){c.push(h),s[h.id]=h,i.push(h);continue}}else h=p,t(h)&&(c.push(h),s[h.id]=h,i.push(h))}return c};return{rows:a(e),flatRows:i,rowsById:s}}function HGt(e,t,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){let h=l[f];if(t(h)){var d;if((d=h.subRows)!=null&&d.length&&u<o){const m=gE(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);m.subRows=a(h.subRows,u+1),h=m}c.push(h),i.push(h),s[h.id]=h}}return c};return{rows:a(e),flatRows:i,rowsById:s}}function qGt(){return(e,t)=>sn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(a=>a.id).filter(a=>a!==t),i?"__global__":void 0].filter(Boolean),o=a=>{for(let l=0;l<s.length;l++)if(a.columnFilters[s[l]]===!1)return!1;return!0};return V$e(n.rows,o,e)},on(e.options,"debugTable"))}function VGt(){return(e,t)=>sn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let s=0;s<n.flatRows.length;s++){const o=n.flatRows[s].getUniqueValues(t);for(let a=0;a<o.length;a++){const l=o[a];if(r.has(l)){var i;r.set(l,((i=r.get(l))!=null?i:0)+1)}else r.set(l,1)}}return r},on(e.options,"debugTable"))}function WGt(){return e=>sn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],s=[];(n??[]).forEach(f=>{var h;const p=e.getColumn(f.id);if(!p)return;const m=p.getFilterFn();m&&i.push({id:f.id,filterFn:m,resolvedValue:(h=m.resolveFilterValue==null?void 0:m.resolveFilterValue(f.value))!=null?h:f.value})});const o=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(o.push("__global__"),l.forEach(f=>{var h;s.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let f=0;f<t.flatRows.length;f++){const h=t.flatRows[f];if(h.columnFilters={},i.length)for(let p=0;p<i.length;p++){u=i[p];const m=u.id;h.columnFilters[m]=u.filterFn(h,m,u.resolvedValue,g=>{h.columnFiltersMeta[m]=g})}if(s.length){for(let p=0;p<s.length;p++){c=s[p];const m=c.id;if(c.filterFn(h,m,c.resolvedValue,g=>{h.columnFiltersMeta[m]=g})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<o.length;h++)if(f.columnFilters[o[h]]===!1)return!1;return!0};return V$e(t.rows,d,e)},on(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function GGt(){return e=>sn(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,n)=>{if(!n.rows.length||!t.length)return n.rows.forEach(l=>{l.depth=0,l.parentId=void 0}),n;const r=t.filter(l=>e.getColumn(l)),i=[],s={},o=function(l,u,c){if(u===void 0&&(u=0),u>=r.length)return l.map(p=>(p.depth=u,i.push(p),s[p.id]=p,p.subRows&&(p.subRows=o(p.subRows,u+1,p.id)),p));const d=r[u],f=YGt(l,d);return Array.from(f.entries()).map((p,m)=>{let[g,y]=p,v=`${d}:${g}`;v=c?`${c}>${v}`:v;const w=o(y,u+1,v);w.forEach(S=>{S.parentId=v});const E=u?N$e(y,S=>S.subRows):y,C=gE(e,v,E[0].original,m,u,void 0,c);return Object.assign(C,{groupingColumnId:d,groupingValue:g,subRows:w,leafRows:E,getValue:S=>{if(r.includes(S)){if(C._valuesCache.hasOwnProperty(S))return C._valuesCache[S];if(y[0]){var T;C._valuesCache[S]=(T=y[0].getValue(S))!=null?T:void 0}return C._valuesCache[S]}if(C._groupingValuesCache.hasOwnProperty(S))return C._groupingValuesCache[S];const A=e.getColumn(S),I=A==null?void 0:A.getAggregationFn();if(I)return C._groupingValuesCache[S]=I(S,E,y),C._groupingValuesCache[S]}}),w.forEach(S=>{i.push(S),s[S.id]=S}),C})},a=o(n.rows,0);return a.forEach(l=>{i.push(l),s[l.id]=l}),{rows:a,flatRows:i,rowsById:s}},on(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})}))}function YGt(e,t){const n=new Map;return e.reduce((r,i)=>{const s=`${i.getGroupingValue(t)}`,o=r.get(s);return o?o.push(i):r.set(s,[i]),r},n)}function KGt(e){return t=>sn(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:a,rowsById:l}=r;const u=i*s,c=u+i;o=o.slice(u,c);let d;t.options.paginateExpandedRows?d={rows:o,flatRows:a,rowsById:l}:d=q$e({rows:o,flatRows:a,rowsById:l}),d.flatRows=[];const f=h=>{d.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return d.rows.forEach(f),d},on(t.options,"debugTable"))}function XGt(){return e=>sn(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],s=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),o={};s.forEach(l=>{const u=e.getColumn(l.id);u&&(o[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,d)=>{for(let h=0;h<s.length;h+=1){var f;const p=s[h],m=o[p.id],g=m.sortUndefined,y=(f=p==null?void 0:p.desc)!=null?f:!1;let v=0;if(g){const w=c.getValue(p.id),E=d.getValue(p.id),C=w===void 0,S=E===void 0;if(C||S){if(g==="first")return C?-1:1;if(g==="last")return C?1:-1;v=C&&S?0:C?g:-g}}if(v===0&&(v=m.sortingFn(c,d,p.id)),v!==0)return y&&(v*=-1),m.invertSorting&&(v*=-1),v}return c.index-d.index}),u.forEach(c=>{var d;i.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},on(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function QGt(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=R.useState(()=>({current:LGt(t)})),[r,i]=R.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:o=>{i(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}/**
   * match-sorter-utils
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */const W$e={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},JGt=Object.keys(W$e).join("|"),ZGt=new RegExp(JGt,"g");function eYt(e){return e.replace(ZGt,t=>W$e[t])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const Ia={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function tYt(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:Ia.MATCHES,!n.accessors){const o=Qme(e,t,n);return{rankedValue:e,rank:o,accessorIndex:-1,accessorThreshold:n.threshold,passed:o>=n.threshold}}const i=oYt(e,n.accessors),s={rankedValue:e,rank:Ia.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let o=0;o<i.length;o++){const a=i[o];let l=Qme(a.itemValue,t,n);const{minRanking:u,maxRanking:c,threshold:d=n.threshold}=a.attributes;l<u&&l>=Ia.MATCHES?l=u:l>c&&(l=c),l=Math.min(l,c),l>=d&&l>s.rank&&(s.rank=l,s.passed=!0,s.accessorIndex=o,s.accessorThreshold=d,s.rankedValue=a.itemValue)}return s}function Qme(e,t,n){return e=Jme(e,n),t=Jme(t,n),t.length>e.length?Ia.NO_MATCH:e===t?Ia.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?Ia.EQUAL:e.startsWith(t)?Ia.STARTS_WITH:e.includes(` ${t}`)?Ia.WORD_STARTS_WITH:e.includes(t)?Ia.CONTAINS:t.length===1?Ia.NO_MATCH:nYt(e).includes(t)?Ia.ACRONYM:rYt(e,t))}function nYt(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(s=>{t+=s.substr(0,1)})}),t}function rYt(e,t){let n=0,r=0;function i(l,u,c){for(let d=c,f=u.length;d<f;d++)if(u[d]===l)return n+=1,d+1;return-1}function s(l){const u=1/l,c=n/t.length;return Ia.MATCHES+c*u}const o=i(t[0],e,0);if(o<0)return Ia.NO_MATCH;r=o;for(let l=1,u=t.length;l<u;l++){const c=t[l];if(r=i(c,e,r),!(r>-1))return Ia.NO_MATCH}const a=r-o;return s(a)}function iYt(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function Jme(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=eYt(e)),e}function sYt(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function oYt(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const s=t[r],o=aYt(s),a=sYt(e,s);for(let l=0,u=a.length;l<u;l++)n.push({itemValue:a[l],attributes:o})}return n}const Zme={maxRanking:1/0,minRanking:-1/0};function aYt(e){return typeof e=="function"?Zme:{...Zme,...e}}function tw(e,t,n){let r=n.initialDeps??[],i;return()=>{var s,o,a,l;let u;n.key&&((s=n.debug)!=null&&s.call(n))&&(u=Date.now());const c=e();if(!(c.length!==r.length||c.some((h,p)=>r[p]!==h)))return i;r=c;let f;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(f=Date.now()),i=t(...c),n.key&&((a=n.debug)!=null&&a.call(n))){const h=Math.round((Date.now()-u)*100)/100,p=Math.round((Date.now()-f)*100)/100,m=p/16,g=(y,v)=>{for(y=String(y);y.length<v;)y=" "+y;return y};console.info(`%c ${g(p,5)} /${g(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,i),i}}function lB(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const lYt=(e,t)=>Math.abs(e-t)<1,uYt=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},cYt=e=>e,G$e=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},dYt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=o=>{const{width:a,height:l}=o;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=o[0];if(a!=null&&a.borderBoxSize){const l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(n.getBoundingClientRect())});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},e0e={passive:!0},fYt=typeof window>"u"?!0:"onscrollend"in window,hYt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const s=e.options.useScrollendEvent&&fYt?()=>{}:uYt(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:c,isRtl:d}=e.options;i=c?n.scrollLeft*(d&&-1||1):n.scrollTop,s(),t(i,u)},a=o(!0),l=o(!1);return l(),n.addEventListener("scroll",a,e0e),n.addEventListener("scrollend",l,e0e),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},pYt=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},mYt=(e,{adjustments:t=0,behavior:n},r)=>{var i,s;const o=e+t;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class gYt{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{this._measureElement(s.target,s)})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:cYt,rangeExtractor:G$e,onChange:()=>{},measureElement:pYt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=tw(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=tw(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=tw(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let c=l;c<n;c++){const d=s(c),f=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),h=f?f.end+this.options.gap:r+i,p=a.get(d),m=typeof p=="number"?p:this.options.estimateSize(c),g=h+m,y=f?f.lane:c%this.options.lanes;u[c]={index:c,start:h,size:m,end:g,key:d,lane:y}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=tw(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?yYt({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=tw(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,s)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=tw(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return lB(r[Y$e(0,r.length-1,i=>lB(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),s=this.getScrollOffset();r==="auto"&&n>=s+i&&(r="end"),r==="end"&&(n-=i);const o=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const a=i.start-this.options.scrollPaddingStart+(i.size-s)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(n,r);if(!s)return;const[o,a]=s;this._scrollToOffset(o,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=lB(this.getOffsetForIndex(n,a));lYt(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(s=>s.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Y$e=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,s=n(i);if(s<r)e=i+1;else if(s>r)t=i-1;else return i}return e>0?e-1:0};function yYt({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,s=Y$e(0,r,a=>e[a].start,n);let o=s;for(;o<r&&e[o].end<n+t;)o++;return{startIndex:s,endIndex:o}}const t0e=typeof document<"u"?R.useLayoutEffect:R.useEffect;function vYt(e){const t=R.useReducer(()=>({}),{})[1],n={...e,onChange:(i,s)=>{var o;s?PT.flushSync(t):t(),(o=e.onChange)==null||o.call(e,i,s)}},[r]=R.useState(()=>new gYt(n));return r.setOptions(n),t0e(()=>r._didMount(),[]),t0e(()=>r._willUpdate()),r}function K$e(e){return vYt({observeElementRect:dYt,observeElementOffset:hYt,scrollToFn:mYt,...e})}var _3={exports:{}},bYt=_3.exports,n0e;function wYt(){return n0e||(n0e=1,function(e,t){(function(n,r){e.exports=r()})(bYt,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var z=["th","st","nd","rd"],B=L%100;return"["+L+(z[(B-20)%10]||z[B]||z[0])+"]"}},w=function(L,z,B){var W=String(L);return!W||W.length>=z?L:""+Array(z+1-W.length).join(B)+L},E={s:w,z:function(L){var z=-L.utcOffset(),B=Math.abs(z),W=Math.floor(B/60),V=B%60;return(z<=0?"+":"-")+w(W,2,"0")+":"+w(V,2,"0")},m:function L(z,B){if(z.date()<B.date())return-L(B,z);var W=12*(B.year()-z.year())+(B.month()-z.month()),V=z.clone().add(W,d),X=B-V<0,U=z.clone().add(W+(X?-1:1),d);return+(-(W+(B-V)/(X?V-U:U-V))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:d,y:h,w:c,d:u,D:p,h:l,m:a,s:o,ms:s,Q:f}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},C="en",S={};S[C]=v;var T="$isDayjsObject",A=function(L){return L instanceof M||!(!L||!L[T])},I=function L(z,B,W){var V;if(!z)return C;if(typeof z=="string"){var X=z.toLowerCase();S[X]&&(V=X),B&&(S[X]=B,V=X);var U=z.split("-");if(!V&&U.length>1)return L(U[0])}else{var F=z.name;S[F]=z,V=F}return!W&&V&&(C=V),V||!W&&C},D=function(L,z){if(A(L))return L.clone();var B=typeof z=="object"?z:{};return B.date=L,B.args=arguments,new M(B)},O=E;O.l=I,O.i=A,O.w=function(L,z){return D(L,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var M=function(){function L(B){this.$L=I(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[T]=!0}var z=L.prototype;return z.parse=function(B){this.$d=function(W){var V=W.date,X=W.utc;if(V===null)return new Date(NaN);if(O.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var U=V.match(g);if(U){var F=U[2]-1||0,G=(U[7]||"0").substring(0,3);return X?new Date(Date.UTC(U[1],F,U[3]||1,U[4]||0,U[5]||0,U[6]||0,G)):new Date(U[1],F,U[3]||1,U[4]||0,U[5]||0,U[6]||0,G)}}return new Date(V)}(B),this.init()},z.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},z.$utils=function(){return O},z.isValid=function(){return this.$d.toString()!==m},z.isSame=function(B,W){var V=D(B);return this.startOf(W)<=V&&V<=this.endOf(W)},z.isAfter=function(B,W){return D(B)<this.startOf(W)},z.isBefore=function(B,W){return this.endOf(W)<D(B)},z.$g=function(B,W,V){return O.u(B)?this[W]:this.set(V,B)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(B,W){var V=this,X=!!O.u(W)||W,U=O.p(B),F=function(ne,fe){var ee=O.w(V.$u?Date.UTC(V.$y,fe,ne):new Date(V.$y,fe,ne),V);return X?ee:ee.endOf(u)},G=function(ne,fe){return O.w(V.toDate()[ne].apply(V.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(fe)),V)},q=this.$W,Y=this.$M,J=this.$D,te="set"+(this.$u?"UTC":"");switch(U){case h:return X?F(1,0):F(31,11);case d:return X?F(1,Y):F(0,Y+1);case c:var ue=this.$locale().weekStart||0,se=(q<ue?q+7:q)-ue;return F(X?J-se:J+(6-se),Y);case u:case p:return G(te+"Hours",0);case l:return G(te+"Minutes",1);case a:return G(te+"Seconds",2);case o:return G(te+"Milliseconds",3);default:return this.clone()}},z.endOf=function(B){return this.startOf(B,!1)},z.$set=function(B,W){var V,X=O.p(B),U="set"+(this.$u?"UTC":""),F=(V={},V[u]=U+"Date",V[p]=U+"Date",V[d]=U+"Month",V[h]=U+"FullYear",V[l]=U+"Hours",V[a]=U+"Minutes",V[o]=U+"Seconds",V[s]=U+"Milliseconds",V)[X],G=X===u?this.$D+(W-this.$W):W;if(X===d||X===h){var q=this.clone().set(p,1);q.$d[F](G),q.init(),this.$d=q.set(p,Math.min(this.$D,q.daysInMonth())).$d}else F&&this.$d[F](G);return this.init(),this},z.set=function(B,W){return this.clone().$set(B,W)},z.get=function(B){return this[O.p(B)]()},z.add=function(B,W){var V,X=this;B=Number(B);var U=O.p(W),F=function(Y){var J=D(X);return O.w(J.date(J.date()+Math.round(Y*B)),X)};if(U===d)return this.set(d,this.$M+B);if(U===h)return this.set(h,this.$y+B);if(U===u)return F(1);if(U===c)return F(7);var G=(V={},V[a]=r,V[l]=i,V[o]=n,V)[U]||1,q=this.$d.getTime()+B*G;return O.w(q,this)},z.subtract=function(B,W){return this.add(-1*B,W)},z.format=function(B){var W=this,V=this.$locale();if(!this.isValid())return V.invalidDate||m;var X=B||"YYYY-MM-DDTHH:mm:ssZ",U=O.z(this),F=this.$H,G=this.$m,q=this.$M,Y=V.weekdays,J=V.months,te=V.meridiem,ue=function(fe,ee,ie,he){return fe&&(fe[ee]||fe(W,X))||ie[ee].slice(0,he)},se=function(fe){return O.s(F%12||12,fe,"0")},ne=te||function(fe,ee,ie){var he=fe<12?"AM":"PM";return ie?he.toLowerCase():he};return X.replace(y,function(fe,ee){return ee||function(ie){switch(ie){case"YY":return String(W.$y).slice(-2);case"YYYY":return O.s(W.$y,4,"0");case"M":return q+1;case"MM":return O.s(q+1,2,"0");case"MMM":return ue(V.monthsShort,q,J,3);case"MMMM":return ue(J,q);case"D":return W.$D;case"DD":return O.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return ue(V.weekdaysMin,W.$W,Y,2);case"ddd":return ue(V.weekdaysShort,W.$W,Y,3);case"dddd":return Y[W.$W];case"H":return String(F);case"HH":return O.s(F,2,"0");case"h":return se(1);case"hh":return se(2);case"a":return ne(F,G,!0);case"A":return ne(F,G,!1);case"m":return String(G);case"mm":return O.s(G,2,"0");case"s":return String(W.$s);case"ss":return O.s(W.$s,2,"0");case"SSS":return O.s(W.$ms,3,"0");case"Z":return U}return null}(fe)||U.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(B,W,V){var X,U=this,F=O.p(W),G=D(B),q=(G.utcOffset()-this.utcOffset())*r,Y=this-G,J=function(){return O.m(U,G)};switch(F){case h:X=J()/12;break;case d:X=J();break;case f:X=J()/3;break;case c:X=(Y-q)/6048e5;break;case u:X=(Y-q)/864e5;break;case l:X=Y/i;break;case a:X=Y/r;break;case o:X=Y/n;break;default:X=Y}return V?X:O.a(X)},z.daysInMonth=function(){return this.endOf(d).$D},z.$locale=function(){return S[this.$L]},z.locale=function(B,W){if(!B)return this.$L;var V=this.clone(),X=I(B,W,!0);return X&&(V.$L=X),V},z.clone=function(){return O.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},L}(),$=M.prototype;return D.prototype=$,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",h],["$D",p]].forEach(function(L){$[L[1]]=function(z){return this.$g(z,L[0],L[1])}}),D.extend=function(L,z){return L.$i||(L(z,M,D),L.$i=!0),D},D.locale=I,D.isDayjs=A,D.unix=function(L){return D(1e3*L)},D.en=S[C],D.Ls=S,D.p={},D})}(_3)),_3.exports}var xYt=wYt();const Wt=ao(xYt);function _Yt({direction:e,levelIndex:t,rowIndex:n,cellIndex:r,size:i}){switch(e){case"up":return t===0&&n===0?null:n===0?{levelIndex:t-1,rowIndex:r<=i[t-1][i[t-1].length-1]-1?i[t-1].length-1:i[t-1].length-2,cellIndex:r}:{levelIndex:t,rowIndex:n-1,cellIndex:r};case"down":return n===i[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:r}:n===i[t].length-2&&r>=i[t][i[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:r}:{levelIndex:t,rowIndex:n+1,cellIndex:r};case"left":return t===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:t-1,rowIndex:i[t-1].length-1,cellIndex:i[t-1][i[t-1].length-1]-1}:r===0?{levelIndex:t,rowIndex:n-1,cellIndex:i[t][n-1]-1}:{levelIndex:t,rowIndex:n,cellIndex:r-1};case"right":return n===i[t].length-1&&r===i[t][n]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:r===i[t][n]-1?{levelIndex:t,rowIndex:n+1,cellIndex:0}:{levelIndex:t,rowIndex:n,cellIndex:r+1};default:return{levelIndex:t,rowIndex:n,cellIndex:r}}}function X$e({controlsRef:e,direction:t,levelIndex:n,rowIndex:r,cellIndex:i,size:s}){var l,u,c;const o=_Yt({direction:t,size:s,rowIndex:r,cellIndex:i,levelIndex:n});if(!o)return;const a=(c=(u=(l=e.current)==null?void 0:l[o.levelIndex])==null?void 0:u[o.rowIndex])==null?void 0:c[o.cellIndex];a&&(a.disabled||a.getAttribute("data-hidden")||a.getAttribute("data-outside")?X$e({controlsRef:e,direction:t,levelIndex:o.levelIndex,cellIndex:o.cellIndex,rowIndex:o.rowIndex,size:s}):a.focus())}function EYt(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function CYt(e){var t;return(t=e.current)==null?void 0:t.map(n=>n.map(r=>r.length))}function Pee({controlsRef:e,levelIndex:t,rowIndex:n,cellIndex:r,event:i}){const s=EYt(i.key);if(s){i.preventDefault();const o=CYt(e);X$e({controlsRef:e,direction:s,levelIndex:t,rowIndex:n,cellIndex:r,size:o})}}function SYt(e,t){if(!e||!t)return t;const n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),s=e.getMilliseconds(),o=new Date(t);return o.setHours(n),o.setMinutes(r),o.setSeconds(i),o.setMilliseconds(s),o}var E3={exports:{}},TYt=E3.exports,r0e;function AYt(){return r0e||(r0e=1,function(e,t){(function(n,r){e.exports=r()})(TYt,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,s,o){var a,l=function(f,h,p){p===void 0&&(p={});var m=new Date(f),g=function(y,v){v===void 0&&(v={});var w=v.timeZoneName||"short",E=y+"|"+w,C=r[E];return C||(C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:w}),r[E]=C),C}(h,p);return g.formatToParts(m)},u=function(f,h){for(var p=l(f,h),m=[],g=0;g<p.length;g+=1){var y=p[g],v=y.type,w=y.value,E=n[v];E>=0&&(m[E]=parseInt(w,10))}var C=m[3],S=C===24?0:C,T=m[0]+"-"+m[1]+"-"+m[2]+" "+S+":"+m[4]+":"+m[5]+":000",A=+f;return(o.utc(T).valueOf()-(A-=A%1e3))/6e4},c=s.prototype;c.tz=function(f,h){f===void 0&&(f=a);var p,m=this.utcOffset(),g=this.toDate(),y=g.toLocaleString("en-US",{timeZone:f}),v=Math.round((g-new Date(y))/1e3/60),w=15*-Math.round(g.getTimezoneOffset()/15)-v;if(!Number(w))p=this.utcOffset(0,h);else if(p=o(y,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(w,!0),h){var E=p.utcOffset();p=p.add(m-E,"minute")}return p.$x.$timezone=f,p},c.offsetName=function(f){var h=this.$x.$timezone||o.tz.guess(),p=l(this.valueOf(),h,{timeZoneName:f}).find(function(m){return m.type.toLowerCase()==="timezonename"});return p&&p.value};var d=c.startOf;c.startOf=function(f,h){if(!this.$x||!this.$x.$timezone)return d.call(this,f,h);var p=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(p,f,h).tz(this.$x.$timezone,!0)},o.tz=function(f,h,p){var m=p&&h,g=p||h||a,y=u(+o(),g);if(typeof f!="string")return o(f).tz(g);var v=function(S,T,A){var I=S-60*T*1e3,D=u(I,A);if(T===D)return[I,T];var O=u(I-=60*(D-T)*1e3,A);return D===O?[I,D]:[S-60*Math.min(D,O)*1e3,Math.max(D,O)]}(o.utc(f,m).valueOf(),y,g),w=v[0],E=v[1],C=o(w).utcOffset(E);return C.$x.$timezone=g,C},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(f){a=f}}})}(E3)),E3.exports}var kYt=AYt();const IYt=ao(kYt);var C3={exports:{}},RYt=C3.exports,i0e;function DYt(){return i0e||(i0e=1,function(e,t){(function(n,r){e.exports=r()})(RYt,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(m){var g={date:m,utc:!0,args:arguments};return new o(g)},l.utc=function(m){var g=a(this.toDate(),{locale:this.$L,utc:!0});return m?g.add(this.utcOffset(),n):g},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var c=l.init;l.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(m,g){var y=this.$utils().u;if(y(m))return this.$u?0:y(this.$offset)?d.call(this):this.$offset;if(typeof m=="string"&&(m=function(C){C===void 0&&(C="");var S=C.match(r);if(!S)return null;var T=(""+S[0]).match(i)||["-",0,0],A=T[0],I=60*+T[1]+ +T[2];return I===0?0:A==="+"?I:-I}(m),m===null))return this;var v=Math.abs(m)<=16?60*m:m,w=this;if(g)return w.$offset=v,w.$u=m===0,w;if(m!==0){var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(v+E,n)).$offset=v,w.$x.$localOffset=E}else w=this.utc();return w};var f=l.format;l.format=function(m){var g=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,g)},l.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=l.diff;l.diff=function(m,g,y){if(m&&this.$u===m.$u)return p.call(this,m,g,y);var v=this.local(),w=a(m).local();return p.call(v,w,g,y)}}})}(C3)),C3.exports}var PYt=DYt();const OYt=ao(PYt);Wt.extend(OYt);Wt.extend(IYt);function NYt(e,t){return t?Wt(e).tz(t).utcOffset()+e.getTimezoneOffset():0}const s0e=(e,t,n)=>{if(!e)return null;if(!t)return e;let r=NYt(e,t);return n==="remove"&&(r*=-1),Wt(e).add(r,"minutes").toDate()};function Sv(e,t,n,r){return r||!t?t:Array.isArray(t)?t.map(i=>s0e(i,n,e)):s0e(t,n,e)}const $Yt={locale:"en",timezone:null,firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},MYt=R.createContext($Yt);function bc(){const e=R.useContext(MYt),t=R.useCallback(o=>o||e.locale,[e.locale]),n=R.useCallback(o=>o||e.timezone||void 0,[e.timezone]),r=R.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),i=R.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),s=R.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getTimezone:n,getFirstDayOfWeek:r,getWeekendDays:i,getLabelSeparator:s}}function FYt(e,t){const n=bc(),r=i=>Sv("remove",i,n.getTimezone()).toISOString();if(t==="range"&&Array.isArray(e)){const[i,s]=e;return i?s?`${r(i)}  ${r(s)}`:`${r(i)} `:""}return t==="multiple"&&Array.isArray(e)?e.map(i=>i&&r(i)).filter(Boolean).join(", "):!Array.isArray(e)&&e?r(e):""}function Q$e({value:e,type:t,name:n,form:r}){return _.jsx("input",{type:"hidden",value:FYt(e,t),name:n,form:r})}Q$e.displayName="@mantine/dates/HiddenDatesInput";var J$e={day:"m_396ce5cb"};const LYt={},jYt=(e,{size:t})=>({day:{"--day-size":fn(t,"day-size")}}),Oee=We((e,t)=>{const n=Ne("Day",LYt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,date:u,disabled:c,__staticSelector:d,weekend:f,outside:h,selected:p,renderDay:m,inRange:g,firstInRange:y,lastInRange:v,hidden:w,static:E,highlightToday:C,...S}=n,T=St({name:d||"Day",classes:J$e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:jYt,rootSelector:"day"}),A=bc();return _.jsx(ts,{...T("day",{style:w?{display:"none"}:void 0}),component:E?"div":"button",ref:t,disabled:c,"data-today":Wt(u).isSame(Sv("add",new Date,A.getTimezone()),"day")||void 0,"data-hidden":w||void 0,"data-highlight-today":C||void 0,"data-disabled":c||void 0,"data-weekend":!c&&!h&&f||void 0,"data-outside":!c&&h||void 0,"data-selected":!c&&p||void 0,"data-in-range":g&&!c||void 0,"data-first-in-range":y&&!c||void 0,"data-last-in-range":v&&!c||void 0,"data-static":E||void 0,unstyled:a,...S,children:(m==null?void 0:m(u))||Wt(u).date()})});Oee.classes=J$e;Oee.displayName="@mantine/dates/Day";function BYt({locale:e,format:t="dd",firstDayOfWeek:n=1}){const r=Wt().day(n),i=[];for(let s=0;s<7;s+=1)typeof t=="string"?i.push(Wt(r).add(s,"days").locale(e).format(t)):i.push(t(Wt(r).add(s,"days").toDate()));return i}var Z$e={weekday:"m_18a3eca"};const zYt={},UYt=(e,{size:t})=>({weekdaysRow:{"--wr-fz":Ui(t),"--wr-spacing":es(t)}}),Nee=We((e,t)=>{const n=Ne("WeekdaysRow",zYt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,locale:u,firstDayOfWeek:c,weekdayFormat:d,cellComponent:f="th",__staticSelector:h,withWeekNumbers:p,...m}=n,g=St({name:h||"WeekdaysRow",classes:Z$e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:UYt,rootSelector:"weekdaysRow"}),y=bc(),v=BYt({locale:y.getLocale(u),format:d,firstDayOfWeek:y.getFirstDayOfWeek(c)}).map((w,E)=>_.jsx(f,{...g("weekday"),children:w},E));return _.jsxs(Se,{component:"tr",ref:t,...g("weekdaysRow"),...m,children:[p&&_.jsx(f,{...g("weekday"),children:"#"}),v]})});Nee.classes=Z$e;Nee.displayName="@mantine/dates/WeekdaysRow";function HYt(e,t=1){let n=Wt(e);const r=t===0?6:t-1;for(;n.day()!==r;)n=n.add(1,"day");return n.toDate()}function qYt(e,t=1){let n=Wt(e);for(;n.day()!==t;)n=n.subtract(1,"day");return n.toDate()}function VYt({month:e,firstDayOfWeek:t=1,consistentWeeks:n}){const r=Wt(e).subtract(Wt(e).date()-1,"day"),i=Wt(r.format("YYYY-M-D")),s=i.toDate(),o=i.add(+i.daysInMonth()-1,"day").toDate(),a=HYt(o,t),l=qYt(s,t),u=[];for(;l<=a;){const c=[];for(let d=0;d<7;d+=1)c.push(new Date(l)),l.setDate(l.getDate()+1);u.push(c)}if(n&&u.length<6){const c=u[u.length-1],d=c[c.length-1],f=new Date(d);for(f.setDate(f.getDate()+1);u.length<6;){const h=[];for(let p=0;p<7;p+=1)h.push(new Date(f)),f.setDate(f.getDate()+1);u.push(h)}}return u}function e4e(e,t){return t instanceof Date?Wt(e).isAfter(Wt(t).subtract(1,"day"),"day"):!0}function t4e(e,t){return t instanceof Date?Wt(e).isBefore(Wt(t).add(1,"day"),"day"):!0}function WYt(e,t,n,r,i,s,o){const a=e.flat().filter(c=>{var d;return t4e(c,n)&&e4e(c,t)&&!(i!=null&&i(c))&&!((d=r==null?void 0:r(c))!=null&&d.disabled)&&(!s||Wt(c).isSame(Wt(o),"month"))}),l=a.find(c=>{var d;return(d=r==null?void 0:r(c))==null?void 0:d.selected});if(l)return l;const u=a.find(c=>Wt().isSame(c,"date"));return u||a[0]}var S3={exports:{}},GYt=S3.exports,o0e;function YYt(){return o0e||(o0e=1,function(e,t){(function(n,r){e.exports=r()})(GYt,function(){var n="day";return function(r,i,s){var o=function(u){return u.add(4-u.isoWeekday(),n)},a=i.prototype;a.isoWeekYear=function(){return o(this).year()},a.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),n);var c,d,f,h,p=o(this),m=(c=this.isoWeekYear(),d=this.$u,f=(d?s.utc:s)().year(c).startOf("year"),h=4-f.isoWeekday(),f.isoWeekday()>4&&(h+=7),f.add(h,n));return p.diff(m,"week")+1},a.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=a.startOf;a.startOf=function(u,c){var d=this.$utils(),f=!!d.u(c)||c;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,c)}}})}(S3)),S3.exports}var KYt=YYt();const XYt=ao(KYt);Wt.extend(XYt);function QYt(e){const t=e.find(n=>Wt(n).day()===1);return Wt(t).isoWeek()}var n4e={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const JYt={withCellSpacing:!0},ZYt=(e,{size:t})=>({weekNumber:{"--wn-fz":Ui(t),"--wn-size":fn(t,"wn-size")}}),O5=We((e,t)=>{const n=Ne("Month",JYt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,locale:c,firstDayOfWeek:d,weekdayFormat:f,month:h,weekendDays:p,getDayProps:m,excludeDate:g,minDate:y,maxDate:v,renderDay:w,hideOutsideDates:E,hideWeekdays:C,getDayAriaLabel:S,static:T,__getDayRef:A,__onDayKeyDown:I,__onDayClick:D,__onDayMouseEnter:O,__preventFocus:M,__stopPropagation:$,withCellSpacing:L,size:z,highlightToday:B,withWeekNumbers:W,...V}=n,X=St({name:u||"Month",classes:n4e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:ZYt,rootSelector:"month"}),U=bc(),F=VYt({month:h,firstDayOfWeek:U.getFirstDayOfWeek(d),consistentWeeks:U.consistentWeeks}),G=WYt(F,y,v,m,g,E,h),{resolvedClassNames:q,resolvedStyles:Y}=uh({classNames:r,styles:o,props:n}),J=F.map((te,ue)=>{const se=te.map((ne,fe)=>{const ee=!Wt(ne).isSame(Wt(h),"month"),ie=(S==null?void 0:S(ne))||Wt(ne).locale(c||U.locale).format("D MMMM YYYY"),he=m==null?void 0:m(ne),ye=Wt(ne).isSame(G,"date");return _.jsx("td",{...X("monthCell"),"data-with-spacing":L||void 0,children:_.jsx(Oee,{__staticSelector:u||"Month",classNames:q,styles:Y,unstyled:a,"data-mantine-stop-propagation":$||void 0,highlightToday:B,renderDay:w,date:ne,size:z,weekend:U.getWeekendDays(p).includes(ne.getDay()),outside:ee,hidden:E?ee:!1,"aria-label":ie,static:T,disabled:(g==null?void 0:g(ne))||!t4e(ne,v)||!e4e(ne,y),ref:Ce=>A==null?void 0:A(ue,fe,Ce),...he,onKeyDown:Ce=>{var Re;(Re=he==null?void 0:he.onKeyDown)==null||Re.call(he,Ce),I==null||I(Ce,{rowIndex:ue,cellIndex:fe,date:ne})},onMouseEnter:Ce=>{var Re;(Re=he==null?void 0:he.onMouseEnter)==null||Re.call(he,Ce),O==null||O(Ce,ne)},onClick:Ce=>{var Re;(Re=he==null?void 0:he.onClick)==null||Re.call(he,Ce),D==null||D(Ce,ne)},onMouseDown:Ce=>{var Re;(Re=he==null?void 0:he.onMouseDown)==null||Re.call(he,Ce),M&&Ce.preventDefault()},tabIndex:M||!ye?-1:0})},ne.toString())});return _.jsxs("tr",{...X("monthRow"),children:[W&&_.jsx("td",{...X("weekNumber"),children:QYt(te)}),se]},ue)});return _.jsxs(Se,{component:"table",...X("month"),size:z,ref:t,...V,children:[!C&&_.jsx("thead",{...X("monthThead"),children:_.jsx(Nee,{__staticSelector:u||"Month",locale:c,firstDayOfWeek:d,weekdayFormat:f,size:z,classNames:q,styles:Y,unstyled:a,withWeekNumbers:W})}),_.jsx("tbody",{...X("monthTbody"),children:J})]})});O5.classes=n4e;O5.displayName="@mantine/dates/Month";var r4e={pickerControl:"m_dc6a3c71"};const eKt={},tKt=(e,{size:t})=>({pickerControl:{"--dpc-fz":Ui(t),"--dpc-size":fn(t,"dpc-size")}}),N5=We((e,t)=>{const n=Ne("PickerControl",eKt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,firstInRange:u,lastInRange:c,inRange:d,__staticSelector:f,selected:h,disabled:p,...m}=n,g=St({name:f||"PickerControl",classes:r4e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:tKt,rootSelector:"pickerControl"});return _.jsx(ts,{...g("pickerControl"),ref:t,unstyled:a,"data-picker-control":!0,"data-selected":h&&!p||void 0,"data-disabled":p||void 0,"data-in-range":d&&!p&&!h||void 0,"data-first-in-range":u&&!p||void 0,"data-last-in-range":c&&!p||void 0,disabled:p,...m})});N5.classes=r4e;N5.displayName="@mantine/dates/PickerControl";function i4e(e,t,n){return!t&&!n?!1:!!(t&&Wt(e).isBefore(t,"year")||n&&Wt(e).isAfter(n,"year"))}function nKt(e,t,n,r){const i=e.flat().filter(a=>{var l;return!i4e(a,t,n)&&!((l=r==null?void 0:r(a))!=null&&l.disabled)}),s=i.find(a=>{var l;return(l=r==null?void 0:r(a))==null?void 0:l.selected});if(s)return s;const o=i.find(a=>Wt().isSame(a,"year"));return o||i[0]}function s4e(e){const t=e.getFullYear(),n=t-t%10;let r=0;const i=[[],[],[],[]];for(let s=0;s<4;s+=1){const o=s===3?1:3;for(let a=0;a<o;a+=1)i[s].push(new Date(n+r,0)),r+=1}return i}var o4e={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const rKt={yearsListFormat:"YYYY",withCellSpacing:!0},$5=We((e,t)=>{const n=Ne("YearsList",rKt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,decade:u,yearsListFormat:c,locale:d,minDate:f,maxDate:h,getYearControlProps:p,__staticSelector:m,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:w,__preventFocus:E,__stopPropagation:C,withCellSpacing:S,size:T,...A}=n,I=St({name:m||"YearsList",classes:o4e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"yearsList"}),D=bc(),O=s4e(u),M=nKt(O,f,h,p),$=O.map((L,z)=>{const B=L.map((W,V)=>{const X=p==null?void 0:p(W),U=Wt(W).isSame(M,"year");return _.jsx("td",{...I("yearsListCell"),"data-with-spacing":S||void 0,children:_.jsx(N5,{...I("yearsListControl"),size:T,unstyled:a,"data-mantine-stop-propagation":C||void 0,disabled:i4e(W,f,h),ref:F=>g==null?void 0:g(z,V,F),...X,onKeyDown:F=>{var G;(G=X==null?void 0:X.onKeyDown)==null||G.call(X,F),y==null||y(F,{rowIndex:z,cellIndex:V,date:W})},onClick:F=>{var G;(G=X==null?void 0:X.onClick)==null||G.call(X,F),v==null||v(F,W)},onMouseEnter:F=>{var G;(G=X==null?void 0:X.onMouseEnter)==null||G.call(X,F),w==null||w(F,W)},onMouseDown:F=>{var G;(G=X==null?void 0:X.onMouseDown)==null||G.call(X,F),E&&F.preventDefault()},tabIndex:E||!U?-1:0,children:Wt(W).locale(D.getLocale(d)).format(c)})},V)});return _.jsx("tr",{...I("yearsListRow"),children:B},z)});return _.jsx(Se,{component:"table",ref:t,size:T,...I("yearsList"),...A,children:_.jsx("tbody",{children:$})})});$5.classes=o4e;$5.displayName="@mantine/dates/YearsList";function a4e(e,t,n){return!t&&!n?!1:!!(t&&Wt(e).isBefore(t,"month")||n&&Wt(e).isAfter(n,"month"))}function iKt(e,t,n,r){const i=e.flat().filter(a=>{var l;return!a4e(a,t,n)&&!((l=r==null?void 0:r(a))!=null&&l.disabled)}),s=i.find(a=>{var l;return(l=r==null?void 0:r(a))==null?void 0:l.selected});if(s)return s;const o=i.find(a=>Wt().isSame(a,"month"));return o||i[0]}function sKt(e){const t=Wt(e).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let s=0;s<3;s+=1)n[i].push(Wt(t).add(r,"months").toDate()),r+=1;return n}var l4e={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const oKt={monthsListFormat:"MMM",withCellSpacing:!0},M5=We((e,t)=>{const n=Ne("MonthsList",oKt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,year:c,monthsListFormat:d,locale:f,minDate:h,maxDate:p,getMonthControlProps:m,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:w,__preventFocus:E,__stopPropagation:C,withCellSpacing:S,size:T,...A}=n,I=St({name:u||"MonthsList",classes:l4e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"monthsList"}),D=bc(),O=sKt(c),M=iKt(O,h,p,m),$=O.map((L,z)=>{const B=L.map((W,V)=>{const X=m==null?void 0:m(W),U=Wt(W).isSame(M,"month");return _.jsx("td",{...I("monthsListCell"),"data-with-spacing":S||void 0,children:_.jsx(N5,{...I("monthsListControl"),size:T,unstyled:a,__staticSelector:u||"MonthsList","data-mantine-stop-propagation":C||void 0,disabled:a4e(W,h,p),ref:F=>g==null?void 0:g(z,V,F),...X,onKeyDown:F=>{var G;(G=X==null?void 0:X.onKeyDown)==null||G.call(X,F),y==null||y(F,{rowIndex:z,cellIndex:V,date:W})},onClick:F=>{var G;(G=X==null?void 0:X.onClick)==null||G.call(X,F),v==null||v(F,W)},onMouseEnter:F=>{var G;(G=X==null?void 0:X.onMouseEnter)==null||G.call(X,F),w==null||w(F,W)},onMouseDown:F=>{var G;(G=X==null?void 0:X.onMouseDown)==null||G.call(X,F),E&&F.preventDefault()},tabIndex:E||!U?-1:0,children:Wt(W).locale(D.getLocale(f)).format(d)})},V)});return _.jsx("tr",{...I("monthsListRow"),children:B},z)});return _.jsx(Se,{component:"table",ref:t,size:T,...I("monthsList"),...A,children:_.jsx("tbody",{children:$})})});M5.classes=l4e;M5.displayName="@mantine/dates/MonthsList";var u4e={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const aKt={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},lKt=(e,{size:t})=>({calendarHeader:{"--dch-control-size":fn(t,"dch-control-size"),"--dch-fz":Ui(t)}}),Hg=We((e,t)=>{const n=Ne("CalendarHeader",aKt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,nextIcon:u,previousIcon:c,nextLabel:d,previousLabel:f,onNext:h,onPrevious:p,onLevelClick:m,label:g,nextDisabled:y,previousDisabled:v,hasNextLevel:w,levelControlAriaLabel:E,withNext:C,withPrevious:S,__staticSelector:T,__preventFocus:A,__stopPropagation:I,...D}=n,O=St({name:T||"CalendarHeader",classes:u4e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:lKt,rootSelector:"calendarHeader"}),M=A?$=>$.preventDefault():void 0;return _.jsxs(Se,{...O("calendarHeader"),ref:t,...D,children:[S&&_.jsx(ts,{...O("calendarHeaderControl"),"data-direction":"previous","aria-label":f,onClick:p,unstyled:a,onMouseDown:M,disabled:v,"data-disabled":v||void 0,tabIndex:A||v?-1:0,"data-mantine-stop-propagation":I||void 0,children:c||_.jsx(yx,{...O("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),_.jsx(ts,{component:w?"button":"div",...O("calendarHeaderLevel"),onClick:w?m:void 0,unstyled:a,onMouseDown:w?M:void 0,disabled:!w,"data-static":!w||void 0,"aria-label":E,tabIndex:A||!w?-1:0,"data-mantine-stop-propagation":I||void 0,children:g}),C&&_.jsx(ts,{...O("calendarHeaderControl"),"data-direction":"next","aria-label":d,onClick:h,unstyled:a,onMouseDown:M,disabled:y,"data-disabled":y||void 0,tabIndex:A||y?-1:0,"data-mantine-stop-propagation":I||void 0,children:u||_.jsx(yx,{...O("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});Hg.classes=u4e;Hg.displayName="@mantine/dates/CalendarHeader";function uKt(e){const t=s4e(e);return[t[0][0],t[3][0]]}const cKt={decadeLabelFormat:"YYYY"},F5=We((e,t)=>{const n=Ne("DecadeLevel",cKt,e),{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:E,nextDisabled:C,previousDisabled:S,levelControlAriaLabel:T,withNext:A,withPrevious:I,decadeLabelFormat:D,classNames:O,styles:M,unstyled:$,__staticSelector:L,__stopPropagation:z,size:B,...W}=n,V=bc(),[X,U]=uKt(r),F={__staticSelector:L||"DecadeLevel",classNames:O,styles:M,unstyled:$,size:B},G=typeof C=="boolean"?C:o?!Wt(U).endOf("year").isBefore(o):!1,q=typeof S=="boolean"?S:s?!Wt(X).startOf("year").isAfter(s):!1,Y=(J,te)=>Wt(J).locale(i||V.locale).format(te);return _.jsxs(Se,{"data-decade-level":!0,size:B,ref:t,...W,children:[_.jsx(Hg,{label:typeof D=="function"?D(X,U):`${Y(X,D)}  ${Y(U,D)}`,__preventFocus:p,__stopPropagation:z,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:E,nextDisabled:G,previousDisabled:q,hasNextLevel:!1,levelControlAriaLabel:T,withNext:A,withPrevious:I,...F}),_.jsx($5,{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:p,__stopPropagation:z,withCellSpacing:h,...F})]})});F5.classes={...$5.classes,...Hg.classes};F5.displayName="@mantine/dates/DecadeLevel";const dKt={yearLabelFormat:"YYYY"},L5=We((e,t)=>{const n=Ne("YearLevel",dKt,e),{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:E,onLevelClick:C,nextDisabled:S,previousDisabled:T,hasNextLevel:A,levelControlAriaLabel:I,withNext:D,withPrevious:O,yearLabelFormat:M,__staticSelector:$,__stopPropagation:L,size:z,classNames:B,styles:W,unstyled:V,...X}=n,U=bc(),F={__staticSelector:$||"YearLevel",classNames:B,styles:W,unstyled:V,size:z},G=typeof S=="boolean"?S:o?!Wt(r).endOf("year").isBefore(o):!1,q=typeof T=="boolean"?T:s?!Wt(r).startOf("year").isAfter(s):!1;return _.jsxs(Se,{"data-year-level":!0,size:z,ref:t,...X,children:[_.jsx(Hg,{label:typeof M=="function"?M(r):Wt(r).locale(i||U.locale).format(M),__preventFocus:p,__stopPropagation:L,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:E,onLevelClick:C,nextDisabled:G,previousDisabled:q,hasNextLevel:A,levelControlAriaLabel:I,withNext:D,withPrevious:O,...F}),_.jsx(M5,{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:p,__stopPropagation:L,withCellSpacing:h,...F})]})});L5.classes={...Hg.classes,...M5.classes};L5.displayName="@mantine/dates/YearLevel";const fKt={monthLabelFormat:"MMMM YYYY"},j5=We((e,t)=>{const n=Ne("MonthLevel",fKt,e),{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:w,withCellSpacing:E,highlightToday:C,withWeekNumbers:S,__preventFocus:T,__stopPropagation:A,nextIcon:I,previousIcon:D,nextLabel:O,previousLabel:M,onNext:$,onPrevious:L,onLevelClick:z,nextDisabled:B,previousDisabled:W,hasNextLevel:V,levelControlAriaLabel:X,withNext:U,withPrevious:F,monthLabelFormat:G,classNames:q,styles:Y,unstyled:J,__staticSelector:te,size:ue,static:se,...ne}=n,fe=bc(),ee={__staticSelector:te||"MonthLevel",classNames:q,styles:Y,unstyled:J,size:ue},ie=typeof B=="boolean"?B:d?!Wt(r).endOf("month").isBefore(d):!1,he=typeof W=="boolean"?W:c?!Wt(r).startOf("month").isAfter(c):!1;return _.jsxs(Se,{"data-month-level":!0,size:ue,ref:t,...ne,children:[_.jsx(Hg,{label:typeof G=="function"?G(r):Wt(r).locale(i||fe.locale).format(G),__preventFocus:T,__stopPropagation:A,nextIcon:I,previousIcon:D,nextLabel:O,previousLabel:M,onNext:$,onPrevious:L,onLevelClick:z,nextDisabled:ie,previousDisabled:he,hasNextLevel:V,levelControlAriaLabel:X,withNext:U,withPrevious:F,...ee}),_.jsx(O5,{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:w,__preventFocus:T,__stopPropagation:A,static:se,withCellSpacing:E,highlightToday:C,withWeekNumbers:S,...ee})]})});j5.classes={...O5.classes,...Hg.classes};j5.displayName="@mantine/dates/MonthLevel";var c4e={levelsGroup:"m_30b26e33"};const hKt={},qg=We((e,t)=>{const n=Ne("LevelsGroup",hKt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,...c}=n,d=St({name:u||"LevelsGroup",classes:c4e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"levelsGroup"});return _.jsx(Se,{ref:t,...d("levelsGroup"),...c})});qg.classes=c4e;qg.displayName="@mantine/dates/LevelsGroup";const pKt={numberOfColumns:1},B5=We((e,t)=>{const n=Ne("DecadeLevelGroup",pKt,e),{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:w,previousDisabled:E,classNames:C,styles:S,unstyled:T,__staticSelector:A,__stopPropagation:I,numberOfColumns:D,levelControlAriaLabel:O,decadeLabelFormat:M,size:$,vars:L,...z}=n,B=R.useRef([]),W=Array(D).fill(0).map((V,X)=>{const U=Wt(r).add(X*10,"years").toDate();return _.jsx(F5,{size:$,yearsListFormat:a,decade:U,withNext:X===D-1,withPrevious:X===0,decadeLabelFormat:M,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(F,G)=>Pee({levelIndex:X,rowIndex:G.rowIndex,cellIndex:G.cellIndex,event:F,controlsRef:B}),__getControlRef:(F,G,q)=>{Array.isArray(B.current[X])||(B.current[X]=[]),Array.isArray(B.current[X][F])||(B.current[X][F]=[]),B.current[X][F][G]=q},levelControlAriaLabel:typeof O=="function"?O(U):O,locale:i,minDate:s,maxDate:o,__preventFocus:f,__stopPropagation:I,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:w,previousDisabled:E,getYearControlProps:l,__staticSelector:A||"DecadeLevelGroup",classNames:C,styles:S,unstyled:T,withCellSpacing:d},X)});return _.jsx(qg,{classNames:C,styles:S,__staticSelector:A||"DecadeLevelGroup",ref:t,size:$,unstyled:T,...z,children:W})});B5.classes={...qg.classes,...F5.classes};B5.displayName="@mantine/dates/DecadeLevelGroup";const mKt={numberOfColumns:1},z5=We((e,t)=>{const n=Ne("YearLevelGroup",mKt,e),{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:w,nextDisabled:E,previousDisabled:C,hasNextLevel:S,classNames:T,styles:A,unstyled:I,__staticSelector:D,__stopPropagation:O,numberOfColumns:M,levelControlAriaLabel:$,yearLabelFormat:L,size:z,vars:B,...W}=n,V=R.useRef([]),X=Array(M).fill(0).map((U,F)=>{const G=Wt(r).add(F,"years").toDate();return _.jsx(L5,{size:z,monthsListFormat:a,year:G,withNext:F===M-1,withPrevious:F===0,yearLabelFormat:L,__stopPropagation:O,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(q,Y)=>Pee({levelIndex:F,rowIndex:Y.rowIndex,cellIndex:Y.cellIndex,event:q,controlsRef:V}),__getControlRef:(q,Y,J)=>{Array.isArray(V.current[F])||(V.current[F]=[]),Array.isArray(V.current[F][q])||(V.current[F][q]=[]),V.current[F][q][Y]=J},levelControlAriaLabel:typeof $=="function"?$(G):$,locale:i,minDate:s,maxDate:o,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:w,nextDisabled:E,previousDisabled:C,hasNextLevel:S,getMonthControlProps:l,classNames:T,styles:A,unstyled:I,__staticSelector:D||"YearLevelGroup",withCellSpacing:d},F)});return _.jsx(qg,{classNames:T,styles:A,__staticSelector:D||"YearLevelGroup",ref:t,size:z,unstyled:I,...W,children:X})});z5.classes={...L5.classes,...qg.classes};z5.displayName="@mantine/dates/YearLevelGroup";const gKt={numberOfColumns:1},U5=We((e,t)=>{const n=Ne("MonthLevelGroup",gKt,e),{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__onDayClick:g,__onDayMouseEnter:y,withCellSpacing:v,highlightToday:w,withWeekNumbers:E,__preventFocus:C,nextIcon:S,previousIcon:T,nextLabel:A,previousLabel:I,onNext:D,onPrevious:O,onLevelClick:M,nextDisabled:$,previousDisabled:L,hasNextLevel:z,classNames:B,styles:W,unstyled:V,numberOfColumns:X,levelControlAriaLabel:U,monthLabelFormat:F,__staticSelector:G,__stopPropagation:q,size:Y,static:J,vars:te,...ue}=n,se=R.useRef([]),ne=Array(X).fill(0).map((fe,ee)=>{const ie=Wt(r).add(ee,"months").toDate();return _.jsx(j5,{month:ie,withNext:ee===X-1,withPrevious:ee===0,monthLabelFormat:F,__stopPropagation:q,__onDayClick:g,__onDayMouseEnter:y,__onDayKeyDown:(he,ye)=>Pee({levelIndex:ee,rowIndex:ye.rowIndex,cellIndex:ye.cellIndex,event:he,controlsRef:se}),__getDayRef:(he,ye,Ce)=>{Array.isArray(se.current[ee])||(se.current[ee]=[]),Array.isArray(se.current[ee][he])||(se.current[ee][he]=[]),se.current[ee][he][ye]=Ce},levelControlAriaLabel:typeof U=="function"?U(ie):U,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__preventFocus:C,nextIcon:S,previousIcon:T,nextLabel:A,previousLabel:I,onNext:D,onPrevious:O,onLevelClick:M,nextDisabled:$,previousDisabled:L,hasNextLevel:z,classNames:B,styles:W,unstyled:V,__staticSelector:G||"MonthLevelGroup",size:Y,static:J,withCellSpacing:v,highlightToday:w,withWeekNumbers:E},ee)});return _.jsx(qg,{classNames:B,styles:W,__staticSelector:G||"MonthLevelGroup",ref:t,size:Y,...ue,children:ne})});U5.classes={...qg.classes,...j5.classes};U5.displayName="@mantine/dates/MonthLevelGroup";const a0e=e=>e==="range"?[null,null]:e==="multiple"?[]:null;function mq({type:e,value:t,defaultValue:n,onChange:r,applyTimezone:i=!0}){const s=R.useRef(e),o=bc(),[a,l,u]=Oi({value:Sv("add",t,o.getTimezone(),!i),defaultValue:Sv("add",n,o.getTimezone(),!i),finalValue:a0e(e),onChange:d=>{r==null||r(Sv("remove",d,o.getTimezone(),!i))}});let c=a;return s.current!==e&&(s.current=e,t===void 0&&(c=n!==void 0?n:a0e(e),l(c))),[c,l,u]}function uB(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function yKt(e){return e===0?"month":e===1?"year":"decade"}function $C(e,t,n){return yKt(Yc(uB(e,0),uB(t,0),uB(n,2)))}const vKt={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},H5=We((e,t)=>{const n=Ne("Calendar",vKt,e),{vars:r,maxLevel:i,minLevel:s,defaultLevel:o,level:a,onLevelChange:l,date:u,defaultDate:c,onDateChange:d,numberOfColumns:f,columnsToScroll:h,ariaLabels:p,nextLabel:m,previousLabel:g,onYearSelect:y,onMonthSelect:v,onYearMouseEnter:w,onMonthMouseEnter:E,__updateDateOnYearSelect:C,__updateDateOnMonthSelect:S,firstDayOfWeek:T,weekdayFormat:A,weekendDays:I,getDayProps:D,excludeDate:O,renderDay:M,hideOutsideDates:$,hideWeekdays:L,getDayAriaLabel:z,monthLabelFormat:B,nextIcon:W,previousIcon:V,__onDayClick:X,__onDayMouseEnter:U,withCellSpacing:F,highlightToday:G,withWeekNumbers:q,monthsListFormat:Y,getMonthControlProps:J,yearLabelFormat:te,yearsListFormat:ue,getYearControlProps:se,decadeLabelFormat:ne,classNames:fe,styles:ee,unstyled:ie,minDate:he,maxDate:ye,locale:Ce,__staticSelector:Re,size:De,__preventFocus:be,__stopPropagation:je,onNextDecade:Qe,onPreviousDecade:it,onNextYear:Ke,onPreviousYear:Pe,onNextMonth:ze,onPreviousMonth:ot,static:xe,__timezoneApplied:Te,...nt}=n,{resolvedClassNames:ht,resolvedStyles:st}=uh({classNames:fe,styles:ee,props:n}),[Ot,Qt]=Oi({value:a?$C(a,s,i):void 0,defaultValue:o?$C(o,s,i):void 0,finalValue:$C(void 0,s,i),onChange:l}),[kn,Yn]=mq({type:"default",value:u,defaultValue:c,onChange:d,applyTimezone:!Te}),gn={__staticSelector:Re||"Calendar",styles:st,classNames:ht,unstyled:ie,size:De},Tn=bc(),er=h||f||1,Nn=new Date,Ni=he&&he>Nn?he:Nn,Kn=kn||Sv("add",Ni,Tn.getTimezone()),Or=()=>{const tr=Wt(Kn).add(er,"month").toDate();ze==null||ze(tr),Yn(tr)},Vr=()=>{const tr=Wt(Kn).subtract(er,"month").toDate();ot==null||ot(tr),Yn(tr)},Xn=()=>{const tr=Wt(Kn).add(er,"year").toDate();Ke==null||Ke(tr),Yn(tr)},Gi=()=>{const tr=Wt(Kn).subtract(er,"year").toDate();Pe==null||Pe(tr),Yn(tr)},zo=()=>{const tr=Wt(Kn).add(10*er,"year").toDate();Qe==null||Qe(tr),Yn(tr)},ys=()=>{const tr=Wt(Kn).subtract(10*er,"year").toDate();it==null||it(tr),Yn(tr)};return _.jsxs(Se,{ref:t,size:De,"data-calendar":!0,...nt,children:[Ot==="month"&&_.jsx(U5,{month:Kn,minDate:he,maxDate:ye,firstDayOfWeek:T,weekdayFormat:A,weekendDays:I,getDayProps:D,excludeDate:O,renderDay:M,hideOutsideDates:$,hideWeekdays:L,getDayAriaLabel:z,onNext:Or,onPrevious:Vr,hasNextLevel:i!=="month",onLevelClick:()=>Qt("year"),numberOfColumns:f,locale:Ce,levelControlAriaLabel:p==null?void 0:p.monthLevelControl,nextLabel:(p==null?void 0:p.nextMonth)??m,nextIcon:W,previousLabel:(p==null?void 0:p.previousMonth)??g,previousIcon:V,monthLabelFormat:B,__onDayClick:X,__onDayMouseEnter:U,__preventFocus:be,__stopPropagation:je,static:xe,withCellSpacing:F,highlightToday:G,withWeekNumbers:q,...gn}),Ot==="year"&&_.jsx(z5,{year:Kn,numberOfColumns:f,minDate:he,maxDate:ye,monthsListFormat:Y,getMonthControlProps:J,locale:Ce,onNext:Xn,onPrevious:Gi,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>Qt("decade"),levelControlAriaLabel:p==null?void 0:p.yearLevelControl,nextLabel:(p==null?void 0:p.nextYear)??m,nextIcon:W,previousLabel:(p==null?void 0:p.previousYear)??g,previousIcon:V,yearLabelFormat:te,__onControlMouseEnter:E,__onControlClick:(tr,_t)=>{S&&Yn(_t),Qt($C("month",s,i)),v==null||v(_t)},__preventFocus:be,__stopPropagation:je,withCellSpacing:F,...gn}),Ot==="decade"&&_.jsx(B5,{decade:Kn,minDate:he,maxDate:ye,yearsListFormat:ue,getYearControlProps:se,locale:Ce,onNext:zo,onPrevious:ys,numberOfColumns:f,nextLabel:(p==null?void 0:p.nextDecade)??m,nextIcon:W,previousLabel:(p==null?void 0:p.previousDecade)??g,previousIcon:V,decadeLabelFormat:ne,__onControlMouseEnter:w,__onControlClick:(tr,_t)=>{C&&Yn(_t),Qt($C("year",s,i)),y==null||y(_t)},__preventFocus:be,__stopPropagation:je,withCellSpacing:F,...gn})]})});H5.classes={...B5.classes,...z5.classes,...U5.classes};H5.displayName="@mantine/dates/Calendar";function bKt(e){const{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:s,nextIcon:o,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:p,previousLabel:m,onYearSelect:g,onMonthSelect:y,onYearMouseEnter:v,onMonthMouseEnter:w,onNextMonth:E,onPreviousMonth:C,onNextYear:S,onPreviousYear:T,onNextDecade:A,onPreviousDecade:I,withCellSpacing:D,highlightToday:O,__updateDateOnYearSelect:M,__updateDateOnMonthSelect:$,withWeekNumbers:L,firstDayOfWeek:z,weekdayFormat:B,weekendDays:W,getDayProps:V,excludeDate:X,renderDay:U,hideOutsideDates:F,hideWeekdays:G,getDayAriaLabel:q,monthLabelFormat:Y,monthsListFormat:J,getMonthControlProps:te,yearLabelFormat:ue,yearsListFormat:se,getYearControlProps:ne,decadeLabelFormat:fe,allowSingleDateInRange:ee,allowDeselect:ie,minDate:he,maxDate:ye,locale:Ce,...Re}=e;return{calendarProps:{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:s,nextIcon:o,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:p,previousLabel:m,onYearSelect:g,onMonthSelect:y,onYearMouseEnter:v,onMonthMouseEnter:w,onNextMonth:E,onPreviousMonth:C,onNextYear:S,onPreviousYear:T,onNextDecade:A,onPreviousDecade:I,withCellSpacing:D,highlightToday:O,__updateDateOnYearSelect:M,__updateDateOnMonthSelect:$,withWeekNumbers:L,firstDayOfWeek:z,weekdayFormat:B,weekendDays:W,getDayProps:V,excludeDate:X,renderDay:U,hideOutsideDates:F,hideWeekdays:G,getDayAriaLabel:q,monthLabelFormat:Y,monthsListFormat:J,getMonthControlProps:te,yearLabelFormat:ue,yearsListFormat:se,getYearControlProps:ne,decadeLabelFormat:fe,allowSingleDateInRange:ee,allowDeselect:ie,minDate:he,maxDate:ye,locale:Ce},others:Re}}function wKt(e,t){if(e===null)return null;const n=Sv("add",new Date(e),t);return Number.isNaN(n.getTime())||!e?null:n}function xKt({date:e,maxDate:t,minDate:n}){return!(e==null||Number.isNaN(e.getTime())||t&&Wt(e).isAfter(t,"date")||n&&Wt(e).isBefore(n,"date"))}const _Kt={valueFormat:"MMMM D, YYYY",fixOnBlur:!0,preserveTime:!0},$ee=We((e,t)=>{const n=Qye("DateInput",_Kt,e),{inputProps:r,wrapperProps:i,value:s,defaultValue:o,onChange:a,clearable:l,clearButtonProps:u,popoverProps:c,getDayProps:d,locale:f,valueFormat:h,dateParser:p,minDate:m,maxDate:g,fixOnBlur:y,onFocus:v,onBlur:w,onClick:E,readOnly:C,name:S,form:T,rightSection:A,unstyled:I,classNames:D,styles:O,allowDeselect:M,preserveTime:$,date:L,defaultDate:z,onDateChange:B,...W}=n,V=R.useRef(null),X=R.useRef(null),[U,F]=R.useState(!1),{calendarProps:G,others:q}=bKt(W),Y=bc(),te=p||(Ke=>{const Pe=Wt(Ke,h,Y.getLocale(f)).toDate();return Number.isNaN(Pe.getTime())?wKt(Ke,Y.getTimezone()):Pe}),ue=M!==void 0?M:l,se=Ke=>Ke?Wt(Ke).locale(Y.getLocale(f)).format(h):"",[ne,fe,ee]=mq({type:"default",value:s,defaultValue:o,onChange:a}),[ie,he]=mq({type:"default",value:L,defaultValue:o||z,onChange:B});R.useEffect(()=>{ee&&s!==null&&he(s)},[ee,s]);const[ye,Ce]=R.useState(se(ne));R.useEffect(()=>{Ce(se(ne))},[Y.getLocale(f)]);const Re=Ke=>{const Pe=Ke.currentTarget.value;if(Ce(Pe),F(!0),Pe.trim()===""&&l)fe(null);else{const ze=te(Pe);xKt({date:ze,minDate:m,maxDate:g})&&(fe(ze),he(ze))}},De=Ke=>{w==null||w(Ke),F(!1),y&&Ce(se(ne))},be=Ke=>{v==null||v(Ke),F(!0)},je=Ke=>{E==null||E(Ke),F(!0)},Qe=Ke=>({...d==null?void 0:d(Ke),selected:Wt(ne).isSame(Ke,"day"),onClick:Pe=>{var xe,Te;(Te=d==null?void 0:(xe=d(Ke)).onClick)==null||Te.call(xe,Pe);const ze=$?SYt(ne,Ke):Ke,ot=l&&ue&&Wt(ne).isSame(Ke,"day")?null:ze;fe(ot),!ee&&Ce(se(ot)),F(!1)}}),it=A||(l&&ne&&!C?_.jsx(Kf,{variant:"transparent",onMouseDown:Ke=>Ke.preventDefault(),tabIndex:-1,onClick:()=>{fe(null),!ee&&Ce(""),F(!1)},unstyled:I,size:r.size||"sm",...u}):null);return vd(()=>{ne!==void 0&&!U&&Ce(se(ne))},[ne]),$ge(()=>F(!1),void 0,[V.current,X.current]),_.jsxs(_.Fragment,{children:[_.jsx(Pr.Wrapper,{...i,__staticSelector:"DateInput",ref:V,children:_.jsxs(Di,{opened:U,trapFocus:!1,position:"bottom-start",disabled:C,withRoles:!1,unstyled:I,...c,children:[_.jsx(Di.Target,{children:_.jsx(Pr,{"data-dates-input":!0,"data-read-only":C||void 0,autoComplete:"off",ref:t,value:ye,onChange:Re,onBlur:De,onFocus:be,onClick:je,readOnly:C,rightSection:it,...r,...q,__staticSelector:"DateInput"})}),_.jsx(Di.Dropdown,{onMouseDown:Ke=>Ke.preventDefault(),"data-dates-dropdown":!0,ref:X,children:_.jsx(H5,{__staticSelector:"DateInput",__timezoneApplied:!0,...G,classNames:D,styles:O,unstyled:I,__preventFocus:!0,minDate:m,maxDate:g,locale:f,getDayProps:Qe,size:r.size,date:ie,onDateChange:he})})]})}),_.jsx(Q$e,{name:S,form:T,value:ne,type:"default"})]})});$ee.classes={...Pr.classes,...H5.classes};$ee.displayName="@mantine/dates/DateInput";function pn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var $u={root:"MRT_TableBody-module_root__kGhRy","root-grid":"MRT_TableBody-module_root-grid__WdOGg","root-no-rows":"MRT_TableBody-module_root-no-rows__iyi9K","root-virtualized":"MRT_TableBody-module_root-virtualized__TxPAi","empty-row-tr-grid":"MRT_TableBody-module_empty-row-tr-grid__LTgxw","empty-row-td-grid":"MRT_TableBody-module_empty-row-td-grid__pzlgG","empty-row-td-content":"MRT_TableBody-module_empty-row-td-content__Cc2XW",pinned:"MRT_TableBody-module_pinned__XHpcs"},cB={root:"MRT_TableBodyRow-module_root__2c3D4","root-grid":"MRT_TableBodyRow-module_root-grid__AwXTe","root-virtualized":"MRT_TableBodyRow-module_root-virtualized__zYgxq"},hf={root:"MRT_TableBodyCell-module_root__Wf-zi","root-grid":"MRT_TableBodyCell-module_root-grid__zIuC-","root-virtualized":"MRT_TableBodyCell-module_root-virtualized__jLl8R","root-data-col":"MRT_TableBodyCell-module_root-data-col__HHcxc","root-nowrap":"MRT_TableBodyCell-module_root-nowrap__-k1Jo","root-cursor-pointer":"MRT_TableBodyCell-module_root-cursor-pointer__4kw7J","root-editable-hover":"MRT_TableBodyCell-module_root-editable-hover__2DKSa","root-cell-hover-reveal":"MRT_TableBodyCell-module_root-cell-hover-reveal__T1fAH","cell-hover-reveal":"MRT_TableBodyCell-module_cell-hover-reveal__Q-1Xj",overflowing:"MRT_TableBodyCell-module_overflowing__QcXP4"};const Mt=(e,t)=>e instanceof Function?e(t):e,dB=["string","number"],EKt=["text","autocomplete"],l0e=({cell:e,renderedColumnIndex:t=0,renderedRowIndex:n=0,table:r})=>{var i,s;const{getState:o,options:{enableFilterMatchHighlighting:a,mantineHighlightProps:l}}=r,{column:u,row:c}=e,{columnDef:d}=u,{globalFilter:f,globalFilterFn:h}=o(),p=u.getFilterValue(),m=Mt(l,{cell:e,column:u,row:c,table:r});let g=e.getIsAggregated()&&d.AggregatedCell?d.AggregatedCell({cell:e,column:u,row:c,table:r}):c.getIsGrouped()&&!e.getIsGrouped()?null:e.getIsGrouped()&&d.GroupedCell?d.GroupedCell({cell:e,column:u,row:c,table:r}):void 0;const y=g!==void 0;if(y||(g=e.renderValue()),a&&d.enableFilterMatchHighlighting!==!1&&g&&dB.includes(typeof g)&&(p&&dB.includes(typeof p)&&EKt.includes(d.filterVariant)||f&&dB.includes(typeof f)&&u.getCanGlobalFilter())){let v=((s=(i=u.getFilterValue())!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:"").toString();(p?d._filterFn:h)==="fuzzy"&&(v=v.split(" ")),g=_.jsx(JV,Object.assign({color:"yellow.3",highlight:v},m,{children:g==null?void 0:g.toString()}))}return d.Cell&&!y&&(g=d.Cell({cell:e,column:u,renderedCellValue:g,renderedColumnIndex:t,renderedRowIndex:n,row:c,table:r})),g},yd=e=>e.replace(/[^a-zA-Z0-9]/g,"_"),CKt=e=>{var t,n;return typeof e.primaryShade=="number"?e.primaryShade:(n=(t=e.primaryShade)===null||t===void 0?void 0:t.dark)!==null&&n!==void 0?n:7},SKt=(e,t)=>e.colors[e.primaryColor][CKt(e)];function s$(e,t){const n=`data-${e}`;switch(typeof t){case"boolean":return t?{[n]:""}:null;case"number":return{[n]:`${t}`};case"string":return{[n]:t};default:return null}}var TKt={root:"MRT_CopyButton-module_root__mkXy4"};const AKt=e=>{var{cell:t,children:n,table:r}=e,i=pn(e,["cell","children","table"]);const{options:{localization:{clickToCopy:s,copiedToClipboard:o},mantineCopyButtonProps:a}}=r,{column:l,row:u}=t,{columnDef:c}=l,d={cell:t,column:l,row:u,table:r},f=Object.assign(Object.assign(Object.assign({},Mt(a,d)),Mt(c.mantineCopyButtonProps,d)),i);return _.jsx(kve,{value:t.getValue(),children:({copied:h,copy:p})=>{var m;return _.jsx(zt,{color:h?"green":void 0,label:(m=f==null?void 0:f.title)!==null&&m!==void 0?m:h?o:s,openDelay:1e3,withinPortal:!0,children:_.jsx(ts,Object.assign({},f,{className:kt("mrt-copy-button",TKt.root,f==null?void 0:f.className),onClick:g=>{g.stopPropagation(),p()},role:"presentation",title:void 0,children:n}))})}})},q5=e=>{var t,{cell:n,table:r}=e,i=pn(e,["cell","table"]);const{getState:s,options:{createDisplayMode:o,editDisplayMode:a,mantineEditSelectProps:l,mantineEditTextInputProps:u},refs:{editInputRefs:c},setCreatingRow:d,setEditingCell:f,setEditingRow:h}=r,{column:p,row:m}=n,{columnDef:g}=p,{creatingRow:y,editingRow:v}=s(),w=(y==null?void 0:y.id)===m.id,E=(v==null?void 0:v.id)===m.id,C=g.editVariant==="select",S=g.editVariant==="multi-select",[T,A]=R.useState(()=>n.getValue()),I={cell:n,column:p,row:m,table:r},D=Object.assign(Object.assign(Object.assign({},Mt(u,I)),Mt(g.mantineEditTextInputProps,I)),i),O=Object.assign(Object.assign(Object.assign({},Mt(l,I)),Mt(g.mantineEditSelectProps,I)),i),M=B=>{m._valuesCache[p.id]=B,w?d(m):E&&h(m)},$=B=>{var W;(W=D.onBlur)===null||W===void 0||W.call(D,B),M(T),f(null)},L=B=>{var W,V;(W=D.onKeyDown)===null||W===void 0||W.call(D,B),B.key==="Enter"&&((V=c.current[n.id])===null||V===void 0||V.blur())};if(g.Edit)return(t=g.Edit)===null||t===void 0?void 0:t.call(g,{cell:n,column:p,row:m,table:r});const z={disabled:Mt(g.enableEditing,m)===!1,label:["custom","modal"].includes(w?o:a)?p.columnDef.header:void 0,name:n.id,onClick:B=>{var W;B.stopPropagation(),(W=D==null?void 0:D.onClick)===null||W===void 0||W.call(D,B)},placeholder:["custom","modal"].includes(w?o:a)?void 0:g.header,value:T,variant:a==="table"?"unstyled":"default"};return C?_.jsx(vg,Object.assign({},z,{searchable:!0,value:T},O,{onBlur:$,onChange:(B,W)=>{var V,X;(X=(V=O).onChange)===null||X===void 0||X.call(V,B,W),A(B)},onClick:B=>{var W;B.stopPropagation(),(W=O==null?void 0:O.onClick)===null||W===void 0||W.call(O,B)},ref:B=>{B&&(c.current[n.id]=B,O.ref&&(O.ref.current=B))}})):S?_.jsx(BT,Object.assign({},z,{searchable:!0,value:T},O,{onBlur:$,onChange:B=>{var W,V;(V=(W=O).onChange)===null||V===void 0||V.call(W,T),A(B),document.activeElement!==c.current[n.id]&&M(B)},onClick:B=>{var W;B.stopPropagation(),(W=O==null?void 0:O.onClick)===null||W===void 0||W.call(O,B)},ref:B=>{B&&(c.current[n.id]=B,O.ref&&(O.ref.current=B))}})):_.jsx(Uu,Object.assign({},z,{onKeyDown:L,value:T??""},D,{onBlur:$,onChange:B=>{var W;(W=D.onChange)===null||W===void 0||W.call(D,B),A(B.target.value)},onClick:B=>{var W;B.stopPropagation(),(W=D==null?void 0:D.onClick)===null||W===void 0||W.call(D,B)},ref:B=>{B&&(c.current[n.id]=B,D.ref&&(D.ref.current=B))}}))},d4e=e=>{var t,n,r,i,s,{cell:o,numRows:a=1,renderedColumnIndex:l=0,renderedRowIndex:u=0,rowRef:c,table:d,virtualCell:f}=e,h=pn(e,["cell","numRows","renderedColumnIndex","renderedRowIndex","rowRef","table","virtualCell"]);const p=Ga(),{getState:m,options:{columnResizeDirection:g,columnResizeMode:y,createDisplayMode:v,editDisplayMode:w,enableClickToCopy:E,enableColumnOrdering:C,enableColumnPinning:S,enableEditing:T,enableGrouping:A,layoutMode:I,mantineSkeletonProps:D,mantineTableBodyCellProps:O},refs:{editInputRefs:M},setEditingCell:$,setHoveredColumn:L}=d,{columnSizingInfo:z,creatingRow:B,density:W,draggingColumn:V,editingCell:X,editingRow:U,hoveredColumn:F,isLoading:G,showSkeletons:q}=m(),{column:Y,row:J}=o,{columnDef:te}=Y,{columnDefType:ue}=te,se={cell:o,column:Y,renderedColumnIndex:l,renderedRowIndex:u,row:J,table:d},ne=Object.assign(Object.assign(Object.assign({},Mt(O,se)),Mt(te.mantineTableBodyCellProps,se)),h),fe=Mt(D,se),[ee,ie]=R.useState(100);R.useEffect(()=>{if(!G&&!q||ee!==100)return;const st=Y.getSize();ie(ue==="display"?st/2:Math.round(Math.random()*(st-st/3)+st/3))},[G,q]);const he={minWidth:`max(calc(var(--col-${yd(Y==null?void 0:Y.id)}-size) * 1px), ${(t=te.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--col-${yd(Y.id)}-size) * 1px)`};I==="grid"?he.flex=`${[0,!1].includes(te.grow)?0:`var(--col-${yd(Y.id)}-size)`} 0 auto`:I==="grid-no-grow"&&(he.flex=`${+(te.grow||0)} 0 auto`);const ye=(V==null?void 0:V.id)===Y.id,Ce=(F==null?void 0:F.id)===Y.id,Re=S&&te.columnDefType!=="group"&&Y.getIsPinned(),De=!o.getIsPlaceholder()&&Mt(T,J)&&Mt(te.enableEditing,J)!==!1,be=De&&!["custom","modal"].includes(w)&&(w==="table"||(U==null?void 0:U.id)===J.id||(X==null?void 0:X.id)===o.id)&&!J.getIsGrouped(),je=De&&v==="row"&&(B==null?void 0:B.id)===J.id,Qe=Mt(E,o)||Mt(te.enableClickToCopy,o)&&Mt(te.enableClickToCopy,o)!==!1,it=st=>{var Ot;(Ot=ne==null?void 0:ne.onDoubleClick)===null||Ot===void 0||Ot.call(ne,st),De&&w==="cell"&&($(o),setTimeout(()=>{var Qt;const kn=M.current[o.id];kn&&(kn.focus(),(Qt=kn.select)===null||Qt===void 0||Qt.call(kn))},100))},Ke=st=>{var Ot;(Ot=ne==null?void 0:ne.onDragEnter)===null||Ot===void 0||Ot.call(ne,st),A&&(F==null?void 0:F.id)==="drop-zone"&&L(null),C&&V&&L(te.enableColumnOrdering!==!1?Y:null)},Pe={cell:o,renderedColumnIndex:l,renderedRowIndex:u,table:d},ze=R.useRef(null),[ot,xe]=R.useState(!1),Te=()=>{if(!te.enableCellHoverReveal)return;const st=ze.current;if(st){const Ot=st.scrollWidth>st.clientWidth;xe(Ot)}},nt=()=>{te.enableCellHoverReveal&&xe(!1)},ht=()=>{var st,Ot,Qt;return o.getIsPlaceholder()?(Ot=(st=te.PlaceholderCell)===null||st===void 0?void 0:st.call(te,{cell:o,column:Y,row:J,table:d}))!==null&&Ot!==void 0?Ot:null:q!==!1&&(G||q)?_.jsx(CW,Object.assign({height:20,width:ee},fe)):ue==="display"&&(["mrt-row-expand","mrt-row-numbers","mrt-row-select"].includes(Y.id)||!J.getIsGrouped())?(Qt=te.Cell)===null||Qt===void 0?void 0:Qt.call(te,Object.assign({column:Y,renderedCellValue:o.renderValue(),row:J,rowRef:c},Pe)):je||be?_.jsx(q5,{cell:o,table:d}):Qe&&te.enableClickToCopy!==!1?_.jsx(AKt,{cell:o,table:d,children:_.jsx(l0e,Object.assign({},Pe))}):_.jsx(l0e,Object.assign({},Pe))};return _.jsx(WT,Object.assign({"data-column-pinned":Re||void 0,"data-dragging-column":ye||void 0,"data-first-right-pinned":Re==="right"&&Y.getIsFirstColumn(Re)||void 0,"data-hovered-column-target":Ce||void 0,"data-index":l,"data-last-left-pinned":Re==="left"&&Y.getIsLastColumn(Re)||void 0,"data-last-row":u===a-1||void 0,"data-resizing":y==="onChange"&&(z==null?void 0:z.isResizingColumn)===Y.id&&g||void 0},ne,{__vars:Object.assign({"--mrt-cell-align":(n=ne.align)!==null&&n!==void 0?n:p.dir==="rtl"?"right":"left","--mrt-table-cell-left":Re==="left"?`${Y.getStart(Re)}`:void 0,"--mrt-table-cell-right":Re==="right"?`${Y.getAfter(Re)}`:void 0},ne.__vars),className:kt(hf.root,(I==null?void 0:I.startsWith("grid"))&&hf["root-grid"],f&&hf["root-virtualized"],De&&w==="cell"&&hf["root-cursor-pointer"],De&&["cell","table"].includes(w??"")&&ue!=="display"&&hf["root-editable-hover"],ue==="data"&&hf["root-data-col"],W==="xs"&&hf["root-nowrap"],te.enableCellHoverReveal&&hf["root-cell-hover-reveal"],ne==null?void 0:ne.className),onDoubleClick:it,onDragEnter:Ke,onMouseEnter:Te,onMouseLeave:nt,style:st=>Object.assign(Object.assign({},he),Mt(ne.style,st)),children:_.jsx(_.Fragment,{children:(r=ne.children)!==null&&r!==void 0?r:te.enableCellHoverReveal?_.jsxs("div",{className:kt(te.enableCellHoverReveal&&!(je||be)&&hf["cell-hover-reveal"],ot&&hf.overflowing),ref:ze,children:[ht(),o.getIsGrouped()&&!te.GroupedCell&&_.jsxs(_.Fragment,{children:[" (",(i=J.subRows)===null||i===void 0?void 0:i.length,")"]})]}):_.jsxs(_.Fragment,{children:[ht(),o.getIsGrouped()&&!te.GroupedCell&&_.jsxs(_.Fragment,{children:[" (",(s=J.subRows)===null||s===void 0?void 0:s.length,")"]})]})})}))},kKt=R.memo(d4e,(e,t)=>t.cell===e.cell);var Cy={root:"MRT_TableDetailPanel-module_root__vQAlM","root-grid":"MRT_TableDetailPanel-module_root-grid__7UMC6","root-virtual-row":"MRT_TableDetailPanel-module_root-virtual-row__r-X4Z",inner:"MRT_TableDetailPanel-module_inner__o-Fk-","inner-grid":"MRT_TableDetailPanel-module_inner-grid__WLZgF","inner-expanded":"MRT_TableDetailPanel-module_inner-expanded__6tg9T","inner-virtual":"MRT_TableDetailPanel-module_inner-virtual__TItRy"};const IKt=e=>{var t,n,{parentRowRef:r,renderedRowIndex:i=0,row:s,rowVirtualizer:o,striped:a,table:l,virtualRow:u}=e,c=pn(e,["parentRowRef","renderedRowIndex","row","rowVirtualizer","striped","table","virtualRow"]);const{getState:d,getVisibleLeafColumns:f,options:{layoutMode:h,mantineDetailPanelProps:p,mantineTableBodyRowProps:m,renderDetailPanel:g}}=l,{isLoading:y}=d(),v=Mt(m,{isDetailPanel:!0,row:s,table:l}),w=Object.assign(Object.assign({},Mt(p,{row:s,table:l})),c),E=s.getAllCells().filter(S=>S.column.columnDef.columnDefType==="data").map(S=>_.jsx(q5,{cell:S,table:l},S.id)),C=!y&&s.getIsExpanded()&&(g==null?void 0:g({internalEditComponents:E,row:s,table:l}));return _.jsx(Cp,Object.assign({"data-index":g?i*2+1:i,"data-striped":a,ref:S=>{var T;S&&((T=o==null?void 0:o.measureElement)===null||T===void 0||T.call(o,S))}},v,{__vars:Object.assign({"--mrt-parent-row-height":u?`${(n=(t=r.current)===null||t===void 0?void 0:t.getBoundingClientRect())===null||n===void 0?void 0:n.height}px`:void 0,"--mrt-virtual-row-start":u?`${u.start}px`:void 0},v==null?void 0:v.__vars),className:kt("mantine-Table-tr-detail-panel",Cy.root,(h==null?void 0:h.startsWith("grid"))&&Cy["root-grid"],u&&Cy["root-virtual-row"],v==null?void 0:v.className),children:_.jsx(WT,Object.assign({colSpan:f().length,component:"td"},w,{__vars:{"--mrt-inner-width":`${l.getTotalSize()}px`},className:kt("mantine-Table-td-detail-panel",Cy.inner,(h==null?void 0:h.startsWith("grid"))&&Cy["inner-grid"],s.getIsExpanded()&&Cy["inner-expanded"],u&&Cy["inner-virtual"]),p:s.getIsExpanded()&&C?"md":0,children:o?s.getIsExpanded()&&C:_.jsx(im,{in:s.getIsExpanded(),children:C})}))}))},RKt=(e,t,n)=>{let r=0;return e.columnFiltersMeta[n]&&(r=iYt(e.columnFiltersMeta[n],t.columnFiltersMeta[n])),r===0?Yy.alphanumeric(e,t,n):r},DKt=Object.assign(Object.assign({},Yy),{fuzzy:RKt}),PKt=(e,t)=>Math.max(...Object.values(t.columnFiltersMeta).map(n=>n.rank))-Math.max(...Object.values(e.columnFiltersMeta).map(n=>n.rank)),f4e=(e,t)=>{const{getCenterRows:n,getPrePaginationRowModel:r,getRowModel:i,getState:s,getTopRows:o,options:{createDisplayMode:a,enablePagination:l,enableRowPinning:u,manualPagination:c,positionCreatingRow:d,rowPinningDisplayMode:f}}=e,{creatingRow:h,pagination:p}=s(),m=OKt(e);let g=[];if(!m)g=!u||f!=null&&f.includes("sticky")?t?r().rows:i().rows:n();else{if(g=r().rows.sort((y,v)=>PKt(y,v)),l&&!c&&!t){const y=p.pageIndex*p.pageSize;g=g.slice(y,y+p.pageSize)}u&&!(f!=null&&f.includes("sticky"))&&(g=g.filter(y=>!y.getIsPinned()))}if(u&&(f!=null&&f.includes("sticky"))){const y=g.filter(v=>v.getIsPinned()).map(v=>v.id);g=[...o().filter(v=>!y.includes(v.id)),...g]}if(d!==void 0&&h&&a==="row"){const y=isNaN(+d)?d==="top"?0:g.length:+d;g=[...g.slice(0,y),h,...g.slice(y)]}return g},h4e=e=>{const{getState:t,options:{enableGlobalFilterRankedResults:n,manualExpanding:r,manualFiltering:i,manualGrouping:s,manualSorting:o}}=e,{expanded:a,globalFilterFn:l}=t();return!r&&!i&&!s&&!o&&n&&l==="fuzzy"&&a!==!0&&!Object.values(a).some(Boolean)},OKt=e=>{const{globalFilter:t,sorting:n}=e.getState();return h4e(e)&&t&&!Object.values(n).some(Boolean)},o$=({row:e,table:t})=>{const{options:{enableRowSelection:n}}=t;return e.getIsSelected()||Mt(n,e)&&e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()},NKt=({renderedRowIndex:e=0,row:t,table:n})=>(r,i)=>{var s;const{getState:o,options:{enableBatchRowSelection:a,enableMultiRowSelection:l,enableRowPinning:u,manualPagination:c,rowPinningDisplayMode:d},refs:{lastSelectedRowId:f}}=n,{pagination:{pageIndex:h,pageSize:p}}=o(),m=c?0:p*h,g=o$({row:t,table:n});t.toggleSelected(i??!g);const y=new Set([t.id]);if(a&&l&&r.nativeEvent.shiftKey&&f.current!==null){const v=f4e(n,!0),w=v.findIndex(E=>E.id===f.current);if(w!==-1){const E=o$({row:v==null?void 0:v[w],table:n}),C=e+m,[S,T]=w<C?[w,C]:[C,w];if(g!==E)for(let A=S;A<=T;A++)v[A].toggleSelected(!g),y.add(v[A].id)}}f.current=t.id,t.getCanSelectSubRows()&&t.getIsAllSubRowsSelected()&&((s=t.subRows)===null||s===void 0||s.forEach(v=>v.toggleSelected(!1))),u&&(d!=null&&d.includes("select"))&&y.forEach(v=>{n.getRow(v).pin(g?!1:d!=null&&d.includes("bottom")?"bottom":"top")})},p4e=({table:e})=>(t,n,r)=>{const{options:{enableRowPinning:i,rowPinningDisplayMode:s,selectAllMode:o},refs:{lastSelectedRowId:a}}=e;o==="all"||r?e.toggleAllRowsSelected(n??t.target.checked):e.toggleAllPageRowsSelected(n??t.target.checked),i&&(s!=null&&s.includes("select"))&&e.setRowPinning({bottom:[],top:[]}),a.current=null},c2=e=>{var t,n,r,{children:i,columnVirtualizer:s,numRows:o,pinnedRowIds:a,renderedRowIndex:l=0,row:u,rowVirtualizer:c,table:d,tableProps:f,virtualRow:h}=e,p=pn(e,["children","columnVirtualizer","numRows","pinnedRowIds","renderedRowIndex","row","rowVirtualizer","table","tableProps","virtualRow"]);const{getState:m,options:{enableRowOrdering:g,enableRowPinning:y,enableStickyFooter:v,enableStickyHeader:w,layoutMode:E,mantineTableBodyRowProps:C,memoMode:S,renderDetailPanel:T,rowPinningDisplayMode:A},refs:{tableFooterRef:I,tableHeadRef:D},setHoveredRow:O}=d,{density:M,draggingColumn:$,draggingRow:L,editingCell:z,editingRow:B,hoveredRow:W,isFullScreen:V,rowPinning:X}=m(),U=u.getVisibleCells(),{virtualColumns:F,virtualPaddingLeft:G,virtualPaddingRight:q}=s??{},Y=o$({row:u,table:d}),J=y&&u.getIsPinned(),te=J&&(A==null?void 0:A.includes("sticky"))&&"sticky",ue=(L==null?void 0:L.id)===u.id,se=(W==null?void 0:W.id)===u.id,ne=Object.assign(Object.assign({},Mt(C,{renderedRowIndex:l,row:u,table:d})),p),[fe,ee]=R.useMemo(()=>!y||!te||!a||!u.getIsPinned()?[]:[[...a].reverse().indexOf(u.id),a.indexOf(u.id)],[a,X]),ie=(w||V)&&((t=D.current)===null||t===void 0?void 0:t.clientHeight)||0,he=v&&((n=I.current)===null||n===void 0?void 0:n.clientHeight)||0,ye=parseInt((r=ne==null?void 0:ne.style)===null||r===void 0?void 0:r.height,10)||(M==="xs"?37:M==="md"?53:69),Ce=be=>{g&&L&&O(u)},Re=R.useRef(null);let De=f.striped;return De&&(De===!0&&(De="odd"),De==="odd"&&l%2!==0&&(De=!1),De==="even"&&l%2===0&&(De=!1)),_.jsxs(_.Fragment,{children:[_.jsxs(Cp,Object.assign({"data-dragging-row":ue||void 0,"data-hovered-row-target":se||void 0,"data-index":T?l*2:l,"data-row-pinned":te||J||void 0,"data-selected":Y||void 0,"data-striped":De,onDragEnter:Ce,ref:be=>{be&&(Re.current=be,c==null||c.measureElement(be))}},ne,{__vars:Object.assign(Object.assign({},ne==null?void 0:ne.__vars),{"--mrt-pinned-row-bottom":!h&&fe!==void 0&&J?`${fe*ye+(v?he-1:0)}`:void 0,"--mrt-pinned-row-top":h?void 0:ee!==void 0&&J?`${ee*ye+(w||V?ie-1:0)}`:void 0,"--mrt-virtual-row-start":h?`${h.start}`:void 0}),className:kt(cB.root,(E==null?void 0:E.startsWith("grid"))&&cB["root-grid"],h&&cB["root-virtualized"],ne==null?void 0:ne.className),children:[G?_.jsx(Se,{component:"td",display:"flex",w:G}):null,i||(F??u.getVisibleCells()).map((be,je)=>{let Qe=be;s&&(je=be.index,Qe=U[je]);const it={cell:Qe,numRows:o,renderedColumnIndex:je,renderedRowIndex:l,rowRef:Re,table:d,virtualCell:s?be:void 0};return S==="cells"&&Qe.column.columnDef.columnDefType==="data"&&!$&&!L&&(z==null?void 0:z.id)!==Qe.id&&(B==null?void 0:B.id)!==u.id?_.jsx(kKt,Object.assign({},it),Qe.id):_.jsx(d4e,Object.assign({},it),Qe.id)}),q?_.jsx(Se,{component:"td",display:"flex",w:q}):null]})),T&&!u.getIsGrouped()&&_.jsx(IKt,{parentRowRef:Re,renderedRowIndex:l,row:u,rowVirtualizer:c,striped:De,table:d,virtualRow:h})]})},fB=R.memo(c2,(e,t)=>e.row===t.row);var MC={root:"MRT_ExpandButton-module_root__IFYio","root-ltr":"MRT_ExpandButton-module_root-ltr__FHNnp",chevron:"MRT_ExpandButton-module_chevron__XzC5P",right:"MRT_ExpandButton-module_right__-pC-A",up:"MRT_ExpandButton-module_up__TZGBo","root-rtl":"MRT_ExpandButton-module_root-rtl__zoudS"};const gq=e=>{var t,n,{row:r,table:i}=e,s=pn(e,["row","table"]);const o=Ga(),{options:{icons:{IconChevronDown:a},localization:l,mantineExpandButtonProps:u,positionExpandColumn:c,renderDetailPanel:d}}=i,f=Object.assign(Object.assign({},Mt(u,{row:r,table:i})),s),h=r.getAllCells().filter(w=>w.column.columnDef.columnDefType==="data").map(w=>_.jsx(q5,{cell:w,table:i},w.id)),p=r.getCanExpand(),m=r.getIsExpanded(),g=!!(d!=null&&d({internalEditComponents:h,row:r,table:i})),y=w=>{var E;w.stopPropagation(),r.toggleExpanded(),(E=f==null?void 0:f.onClick)===null||E===void 0||E.call(f,w)},v=o.dir==="rtl"||c==="last";return _.jsx(zt,{disabled:!p&&!g,label:(t=f==null?void 0:f.title)!==null&&t!==void 0?t:m?l.collapse:l.expand,openDelay:1e3,withinPortal:!0,children:_.jsx(Jn,Object.assign({"aria-label":l.expand,color:"gray",disabled:!p&&!g,variant:"subtle"},f,{__vars:{"--mrt-row-depth":`${r.depth}`},className:kt("mrt-expand-button",MC.root,MC[`root-${v?"rtl":"ltr"}`],f==null?void 0:f.className),onClick:y,title:void 0,children:(n=f==null?void 0:f.children)!==null&&n!==void 0?n:_.jsx(a,{className:kt("mrt-expand-button-chevron",MC.chevron,!p&&!d?MC.right:m?MC.up:void 0)})}))})},$Kt=e=>{var t,n,{table:r,tableProps:i}=e,s=pn(e,["table","tableProps"]);const{getState:o,options:{layoutMode:a,localization:l,renderDetailPanel:u,renderEmptyRowsFallback:c},refs:{tablePaperRef:d}}=r,{columnFilters:f,globalFilter:h}=o(),p=R.useMemo(()=>gE(r,"mrt-row-empty",{},0,0),[]),m=Object.assign(Object.assign({},s),{renderedRowIndex:0,row:p,virtualRow:void 0});return _.jsxs(c2,Object.assign({className:kt("mrt-table-body-row",(a==null?void 0:a.startsWith("grid"))&&$u["empty-row-tr-grid"]),table:r,tableProps:i},m,{children:[u&&_.jsx(WT,{className:kt("mrt-table-body-cell",(a==null?void 0:a.startsWith("grid"))&&$u["empty-row-td-grid"]),colSpan:1,children:_.jsx(gq,{row:p,table:r})}),_.jsx("td",{className:kt("mrt-table-body-cell",(a==null?void 0:a.startsWith("grid"))&&$u["empty-row-td-grid"]),colSpan:r.getVisibleLeafColumns().length,children:(t=c==null?void 0:c({table:r}))!==null&&t!==void 0?t:_.jsx(tt,{__vars:{"--mrt-paper-width":`${(n=d.current)===null||n===void 0?void 0:n.clientWidth}`},className:kt($u["empty-row-td-content"]),children:h||f.length?l.noResultsFound:l.noRecordsToDisplay})})]}))},MKt=e=>{const{getRowModel:t,getState:n,options:{data:r,enableGlobalFilterRankedResults:i,positionCreatingRow:s}}=e,{creatingRow:o,expanded:a,globalFilter:l,pagination:u,rowPinning:c,sorting:d}=n();return R.useMemo(()=>f4e(e),[o,r,i,a,t().rows,l,u.pageIndex,u.pageSize,s,c,d])},m4e=(e,t)=>{const n=G$e(e);return t===void 0||(t>=0&&t<Math.max(e.startIndex-e.overscan,0)&&n.unshift(t),t>=0&&t>e.endIndex+e.overscan&&n.push(t)),n},FKt=(e,t)=>{var n;const{getRowModel:r,getState:i,options:{enableRowVirtualization:s,renderDetailPanel:o,rowVirtualizerInstanceRef:a,rowVirtualizerOptions:l},refs:{tableContainerRef:u}}=e,{density:c,draggingRow:d,expanded:f}=i();if(!s)return;const h=Mt(l,{table:e}),p=(n=t==null?void 0:t.length)!==null&&n!==void 0?n:r().rows.length,m=c==="xs"?42.7:c==="md"?54.7:70.7,g=K$e(Object.assign({count:o?p*2:p,estimateSize:y=>o&&y%2===1?f===!0?100:0:m,getScrollElement:()=>u.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?y=>y==null?void 0:y.getBoundingClientRect().height:void 0,overscan:4,rangeExtractor:R.useCallback(y=>{var v;return m4e(y,(v=d==null?void 0:d.index)!==null&&v!==void 0?v:0)},[d])},h));return g.virtualRows=g.getVirtualItems(),a&&(a.current=g),g},g4e=e=>{var t,n,r,{columnVirtualizer:i,table:s,tableProps:o}=e,a=pn(e,["columnVirtualizer","table","tableProps"]);const{getBottomRows:l,getIsSomeRowsPinned:u,getRowModel:c,getState:d,getTopRows:f,options:{enableStickyFooter:h,enableStickyHeader:p,layoutMode:m,mantineTableBodyProps:g,memoMode:y,renderDetailPanel:v,rowPinningDisplayMode:w},refs:{tableFooterRef:E,tableHeadRef:C}}=s,{isFullScreen:S,rowPinning:T}=d(),A=Object.assign(Object.assign({},Mt(g,{table:s})),a),I=(p||S)&&((t=C.current)===null||t===void 0?void 0:t.clientHeight)||0,D=h&&((n=E.current)===null||n===void 0?void 0:n.clientHeight)||0,O=R.useMemo(()=>{var B,W;return!(!((B=T.bottom)===null||B===void 0)&&B.length)&&!(!((W=T.top)===null||W===void 0)&&W.length)?[]:c().rows.filter(V=>V.getIsPinned()).map(V=>V.id)},[T,c().rows]),M=MKt(s),$=FKt(s,M),{virtualRows:L}=$??{},z={columnVirtualizer:i,numRows:M.length,table:s,tableProps:o};return _.jsxs(_.Fragment,{children:[!(w!=null&&w.includes("sticky"))&&u("top")&&_.jsx(DS,Object.assign({},A,{__vars:Object.assign({"--mrt-table-head-height":`${I}`},A==null?void 0:A.__vars),className:kt($u.pinned,(m==null?void 0:m.startsWith("grid"))&&$u["root-grid"],A==null?void 0:A.className),children:f().map((B,W)=>{const V=Object.assign(Object.assign({},z),{renderedRowIndex:W,row:B});return y==="rows"?_.jsx(fB,Object.assign({},V),B.id):_.jsx(c2,Object.assign({},V),B.id)})})),_.jsx(DS,Object.assign({},A,{__vars:Object.assign({"--mrt-table-body-height":$?`${$.getTotalSize()}px`:void 0},A==null?void 0:A.__vars),className:kt($u.root,(m==null?void 0:m.startsWith("grid"))&&$u["root-grid"],!M.length&&$u["root-no-rows"],$&&$u["root-virtualized"],A==null?void 0:A.className),children:(r=A==null?void 0:A.children)!==null&&r!==void 0?r:M.length?_.jsx(_.Fragment,{children:(L??M).map((B,W)=>{if($)if(v){if(B.index%2===1)return null;W=B.index/2}else W=B.index;const V=$?M[W]:B,X=Object.assign(Object.assign({},z),{pinnedRowIds:O,renderedRowIndex:W,row:V,rowVirtualizer:$,virtualRow:$?B:void 0}),U=`${V.id}-${V.index}`;return y==="rows"?_.jsx(fB,Object.assign({},X),U):_.jsx(c2,Object.assign({},X),U)})}):_.jsx($Kt,Object.assign({},z))})),!(w!=null&&w.includes("sticky"))&&u("bottom")&&_.jsx(DS,Object.assign({},A,{__vars:Object.assign({"--mrt-table-footer-height":`${D}`},A==null?void 0:A.__vars),className:kt($u.pinned,(m==null?void 0:m.startsWith("grid"))&&$u["root-grid"],A==null?void 0:A.className),children:l().map((B,W)=>{const V=Object.assign(Object.assign({},z),{renderedRowIndex:W,row:B});return y==="rows"?_.jsx(fB,Object.assign({},V),B.id):_.jsx(c2,Object.assign({},V),B.id)})}))]})},LKt=R.memo(g4e,(e,t)=>e.table.options.data===t.table.options.data);var jKt={"grab-icon":"MRT_GrabHandleButton-module_grab-icon__mQimy"};const Mee=({actionIconProps:e,onDragEnd:t,onDragStart:n,table:{options:{icons:{IconGripHorizontal:r},localization:{move:i}}}})=>{var s,o;return _.jsx(zt,{label:(s=e==null?void 0:e.title)!==null&&s!==void 0?s:i,openDelay:1e3,withinPortal:!0,children:_.jsx(Jn,Object.assign({"aria-label":(o=e==null?void 0:e.title)!==null&&o!==void 0?o:i,draggable:!0},e,{className:kt("mrt-grab-handle-button",jKt["grab-icon"],e==null?void 0:e.className),color:"gray",onClick:a=>{var l;a.stopPropagation(),(l=e==null?void 0:e.onClick)===null||l===void 0||l.call(e,a)},onDragEnd:t,onDragStart:n,size:"sm",title:void 0,variant:"transparent",children:_.jsx(r,{size:"100%"})}))})},BKt=e=>{var{row:t,rowRef:n,table:r}=e,i=pn(e,["row","rowRef","table"]);const{options:{mantineRowDragHandleProps:s}}=r,o=Object.assign(Object.assign({},Mt(s,{row:t,table:r})),i),a=u=>{var c;(c=o==null?void 0:o.onDragStart)===null||c===void 0||c.call(o,u),u.dataTransfer.setDragImage(n.current,0,0),r.setDraggingRow(t)},l=u=>{var c;(c=o==null?void 0:o.onDragEnd)===null||c===void 0||c.call(o,u),r.setDraggingRow(null),r.setHoveredRow(null)};return _.jsx(Mee,{actionIconProps:o,onDragEnd:l,onDragStart:a,table:r})},hB=e=>{var{pinningPosition:t,row:n,table:r}=e,i=pn(e,["pinningPosition","row","table"]);const{options:{icons:{IconPinned:s,IconX:o},localization:a,rowPinningDisplayMode:l}}=r,u=n.getIsPinned(),[c,d]=R.useState(!1),f=h=>{d(!1),h.stopPropagation(),n.pin(u?!1:t)};return _.jsx(zt,{label:u?a.unpin:a.pin,openDelay:1e3,opened:c,children:_.jsx(Jn,Object.assign({"aria-label":a.pin,color:"gray",onClick:f,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),size:"xs",style:{height:"24px",width:"24px"},variant:"subtle"},i,{children:u?_.jsx(o,{}):_.jsx(s,{fontSize:"small",style:{transform:`rotate(${l==="sticky"?135:t==="top"?180:0}deg)`}})}))})},zKt=e=>{var{row:t,table:n}=e,r=pn(e,["row","table"]);const{getState:i,options:{enableRowPinning:s,rowPinningDisplayMode:o}}=n,{density:a}=i();if(!Mt(s,t))return null;const u=Object.assign({row:t,table:n},r);return o==="top-and-bottom"&&!t.getIsPinned()?_.jsxs(Se,{style:{display:"flex",flexDirection:a==="xs"?"row":"column"},children:[_.jsx(hB,Object.assign({pinningPosition:"top"},u)),_.jsx(hB,Object.assign({pinningPosition:"bottom"},u))]}):_.jsx(hB,Object.assign({pinningPosition:o==="bottom"?"bottom":"top"},u))};var pB={root:"MRT_ColumnPinningButtons-module_root__scTtW",left:"MRT_ColumnPinningButtons-module_left__W6Aog",right:"MRT_ColumnPinningButtons-module_right__7AJE3"};const UKt=({column:e,table:t})=>{const{options:{icons:{IconPinned:n,IconPinnedOff:r},localization:i}}=t;return _.jsx(Nt,{className:kt("mrt-column-pinning-buttons",pB.root),children:e.getIsPinned()?_.jsx(zt,{label:i.unpin,withinPortal:!0,children:_.jsx(Jn,{color:"gray",onClick:()=>e.pin(!1),size:"md",variant:"subtle",children:_.jsx(r,{})})}):_.jsxs(_.Fragment,{children:[_.jsx(zt,{label:i.pinToLeft,withinPortal:!0,children:_.jsx(Jn,{color:"gray",onClick:()=>e.pin("left"),size:"md",variant:"subtle",children:_.jsx(n,{className:pB.left})})}),_.jsx(zt,{label:i.pinToRight,withinPortal:!0,children:_.jsx(Jn,{color:"gray",onClick:()=>e.pin("right"),size:"md",variant:"subtle",children:_.jsx(n,{className:pB.right})})})]})})};var HKt={root:"MRT_EditActionButtons-module_root__BfxVZ"};const y4e=e=>{var{row:t,table:n,variant:r="icon"}=e,i=pn(e,["row","table","variant"]);const{getState:s,options:{icons:{IconCircleX:o,IconDeviceFloppy:a},localization:l,onCreatingRowCancel:u,onCreatingRowSave:c,onEditingRowCancel:d,onEditingRowSave:f},refs:{editInputRefs:h},setCreatingRow:p,setEditingRow:m}=n,{creatingRow:g,editingRow:y,isSaving:v}=s(),w=(g==null?void 0:g.id)===t.id,E=(y==null?void 0:y.id)===t.id,C=()=>{w?(u==null||u({row:t,table:n}),p(null)):E&&(d==null||d({row:t,table:n}),m(null)),t._valuesCache={}},S=()=>{var T;(T=Object.values(h==null?void 0:h.current).filter(A=>{var I,D;return t.id===((D=(I=A==null?void 0:A.name)===null||I===void 0?void 0:I.split("_"))===null||D===void 0?void 0:D[0])}))===null||T===void 0||T.forEach(A=>{A.value!==void 0&&Object.hasOwn(t==null?void 0:t._valuesCache,A.name)&&(t._valuesCache[A.name]=A.value)}),w?c==null||c({exitCreatingMode:()=>p(null),row:t,table:n,values:t._valuesCache}):E&&(f==null||f({exitEditingMode:()=>m(null),row:t,table:n,values:t==null?void 0:t._valuesCache}))};return _.jsx(Se,Object.assign({className:kt("mrt-edit-action-buttons",HKt.root),onClick:T=>T.stopPropagation()},i,{children:r==="icon"?_.jsxs(_.Fragment,{children:[_.jsx(zt,{label:l.cancel,withinPortal:!0,children:_.jsx(Jn,{"aria-label":l.cancel,color:"red",onClick:C,variant:"subtle",children:_.jsx(o,{})})}),_.jsx(zt,{label:l.save,withinPortal:!0,children:_.jsx(Jn,{"aria-label":l.save,color:"blue",loading:v,onClick:S,variant:"subtle",children:_.jsx(a,{})})})]}):_.jsxs(_.Fragment,{children:[_.jsx(qt,{onClick:C,variant:"subtle",children:l.cancel}),_.jsx(qt,{loading:v,onClick:S,variant:"filled",children:l.save})]})}))};var TD={root:"MRT_ExpandAllButton-module_root__gkBZD",chevron:"MRT_ExpandAllButton-module_chevron__Iep0j",up:"MRT_ExpandAllButton-module_up__Xth3U",right:"MRT_ExpandAllButton-module_right__bS4L-"};const qKt=e=>{var t,n,{table:r}=e,i=pn(e,["table"]);const{getCanSomeRowsExpand:s,getIsAllRowsExpanded:o,getIsSomeRowsExpanded:a,getState:l,options:{icons:{IconChevronsDown:u},localization:c,mantineExpandAllButtonProps:d,renderDetailPanel:f},toggleAllRowsExpanded:h}=r,{density:p,isLoading:m}=l(),g=Object.assign(Object.assign({},Mt(d,{table:r})),i),y=o();return _.jsx(zt,{label:((t=g==null?void 0:g.title)!==null&&t!==void 0?t:y)?c.collapseAll:c.expandAll,openDelay:1e3,withinPortal:!0,children:_.jsx(Jn,Object.assign({"aria-label":c.expandAll,color:"gray",variant:"subtle"},g,{className:kt("mrt-expand-all-button",TD.root,g==null?void 0:g.className,p),disabled:m||!f&&!s(),onClick:()=>h(!y),title:void 0,children:(n=g==null?void 0:g.children)!==null&&n!==void 0?n:_.jsx(u,{className:kt(TD.chevron,y?TD.up:a()?TD.right:void 0)})}))})};var u0e={root:"MRT_ShowHideColumnsMenu-module_root__2UWak",content:"MRT_ShowHideColumnsMenu-module_content__ehkWQ"},nw={root:"MRT_ShowHideColumnsMenuItems-module_root__wYgv-",menu:"MRT_ShowHideColumnsMenuItems-module_menu__CeATR",grab:"MRT_ShowHideColumnsMenuItems-module_grab__a-d-y",pin:"MRT_ShowHideColumnsMenuItems-module_pin__P437b",switch:"MRT_ShowHideColumnsMenuItems-module_switch__tMsdt",header:"MRT_ShowHideColumnsMenuItems-module_header__xVkKb"};const cx=e=>{var t,n,r,i;return(i=(t=e.id)!==null&&t!==void 0?t:(r=(n=e.accessorKey)===null||n===void 0?void 0:n.toString)===null||r===void 0?void 0:r.call(n))!==null&&i!==void 0?i:e.header},a$=e=>{const t=[],n=r=>{r.forEach(i=>{i.columns?n(i.columns):t.push(i)})};return n(e),t},v4e=({columnDefs:e,tableOptions:t})=>{const{aggregationFns:n={},defaultDisplayColumn:r,filterFns:i={},sortingFns:s={},state:{columnFilterFns:o={}}={}}=t;return e.map(a=>{var l,u;if(a.id||(a.id=cx(a)),a.columnDefType||(a.columnDefType="data"),!((l=a.columns)===null||l===void 0)&&l.length)a.columnDefType="group",a.columns=v4e({columnDefs:a.columns,tableOptions:t});else if(a.columnDefType==="data"){if(Array.isArray(a.aggregationFn)){const c=a.aggregationFn;a.aggregationFn=(d,f,h)=>c.map(p=>{var m;return(m=n[p])===null||m===void 0?void 0:m.call(n,d,f,h)})}Object.keys(i).includes(o[a.id])&&(a.filterFn=(u=i[o[a.id]])!==null&&u!==void 0?u:i.fuzzy,a._filterFn=o[a.id]),Object.keys(s).includes(a.sortingFn)&&(a.sortingFn=s[a.sortingFn])}else a.columnDefType==="display"&&(a=Object.assign(Object.assign({},r),a));return a})},b4e=(e,t,n)=>{e.getCanPin()&&e.pin(t.getIsPinned());const r=[...n];return r.splice(r.indexOf(t.id),0,r.splice(r.indexOf(e.id),1)[0]),r},VKt=e=>{const{filterVariant:t}=e;return t==="multi-select"?"arrIncludesSome":t!=null&&t.includes("range")?"betweenInclusive":["checkbox","date","select"].includes(t||"")?"equals":"fuzzy"},w4e=({allColumns:e,column:t,hoveredColumn:n,setHoveredColumn:r,table:i})=>{var s;const o=Vi(),{getState:a,options:{enableColumnOrdering:l,enableColumnPinning:u,enableHiding:c,localization:d},setColumnOrder:f}=i,{columnOrder:h}=a(),{columnDef:p}=t,{columnDefType:m}=p,g=m!=="group"&&t.getIsVisible()||m==="group"&&t.getLeafColumns().some(A=>A.getIsVisible()),y=A=>{var I,D;m==="group"?(D=(I=A==null?void 0:A.columns)===null||I===void 0?void 0:I.forEach)===null||D===void 0||D.call(I,O=>{O.toggleVisibility(!g)}):A.toggleVisibility()},v=R.useRef(null),[w,E]=R.useState(!1),C=A=>{E(!0),A.dataTransfer.setDragImage(v.current,0,0)},S=A=>{E(!1),r(null),n&&f(b4e(t,n,h))},T=A=>{!w&&p.enableColumnOrdering!==!1&&r(t)};return!p.header||p.visibleInShowHideMenu===!1?null:_.jsxs(_.Fragment,{children:[_.jsx(mn.Item,Object.assign({className:nw.root,component:"span",onDragEnter:T,ref:v,style:{"--_column-depth":`${(t.depth+.5)*2}rem`,"--_hover-color":SKt(o)}},s$("dragging",w),s$("order-hovered",(n==null?void 0:n.id)===t.id),{children:_.jsxs(Se,{className:nw.menu,children:[m!=="group"&&l&&!e.some(A=>A.columnDef.columnDefType==="group")&&(p.enableColumnOrdering!==!1?_.jsx(Mee,{onDragEnd:S,onDragStart:C,table:i}):_.jsx(Se,{className:nw.grab})),u&&(t.getCanPin()?_.jsx(UKt,{column:t,table:i}):_.jsx(Se,{className:nw.pin})),c?_.jsx(zt,{label:d.toggleVisibility,openDelay:1e3,withinPortal:!0,children:_.jsx(D0,{checked:g,className:nw.switch,disabled:!t.getCanHide(),label:p.header,onChange:()=>y(t)})}):_.jsx(tt,{className:nw.header,children:p.header})]})})),(s=t.columns)===null||s===void 0?void 0:s.map((A,I)=>_.jsx(w4e,{allColumns:e,column:A,hoveredColumn:n,setHoveredColumn:r,table:i},`${I}-${A.id}`))]})};function Xb({header:e,id:t,size:n,tableOptions:r}){const{defaultDisplayColumn:i,displayColumnDefOptions:s,localization:o}=r;return Object.assign(Object.assign(Object.assign(Object.assign({},i),{header:e?o[e]:"",size:n}),s==null?void 0:s[t]),{id:t})}const x4e=e=>{const{enableRowPinning:t,rowPinningDisplayMode:n}=e;return!!(t&&!(n!=null&&n.startsWith("select")))},_4e=e=>{const{enableRowDragging:t,enableRowOrdering:n}=e;return!!(t||n)},Fee=e=>{const{enableExpanding:t,enableGrouping:n,renderDetailPanel:r,state:{grouping:i}}=e;return!!(t||n&&(i!=null&&i.length)||r)},Lee=e=>{const{createDisplayMode:t,editDisplayMode:n,enableEditing:r,enableRowActions:i,state:{creatingRow:s}}=e;return!!(i||s&&t==="row"||r&&["modal","row"].includes(n??""))},E4e=e=>!!e.enableRowSelection,C4e=e=>!!e.enableRowNumbers,S4e=e=>e.layoutMode==="grid-no-grow",WKt=e=>[x4e(e)&&"mrt-row-pin",_4e(e)&&"mrt-row-drag",e.positionActionsColumn==="first"&&Lee(e)&&"mrt-row-actions",e.positionExpandColumn==="first"&&Fee(e)&&"mrt-row-expand",E4e(e)&&"mrt-row-select",C4e(e)&&"mrt-row-numbers"].filter(Boolean),GKt=e=>[e.positionActionsColumn==="last"&&Lee(e)&&"mrt-row-actions",e.positionExpandColumn==="last"&&Fee(e)&&"mrt-row-expand",S4e(e)&&"mrt-row-spacer"].filter(Boolean),jee=(e,t=!1)=>{const{state:{columnOrder:n=[]}}=e,r=WKt(e),i=GKt(e),s=a$(e.columns).map(a=>cx(a));let o=t?s:Array.from(new Set([...n,...s]));return o=o.filter(a=>!r.includes(a)&&!i.includes(a)),[...r,...o,...i]},YKt=({table:e})=>{const{getAllColumns:t,getAllLeafColumns:n,getCenterLeafColumns:r,getIsAllColumnsVisible:i,getIsSomeColumnsPinned:s,getIsSomeColumnsVisible:o,getLeftLeafColumns:a,getRightLeafColumns:l,getState:u,options:{enableColumnOrdering:c,enableColumnPinning:d,enableHiding:f,localization:h}}=e,{columnOrder:p,columnPinning:m}=u(),g=E=>{n().filter(C=>C.columnDef.enableHiding!==!1).forEach(C=>C.toggleVisibility(E))},y=R.useMemo(()=>{const E=t();return p.length>0&&!E.some(C=>C.columnDef.columnDefType==="group")?[...a(),...Array.from(new Set(p)).map(C=>r().find(S=>(S==null?void 0:S.id)===C)),...l()].filter(Boolean):E},[p,m,t(),r(),a(),l()]),[v,w]=R.useState(null);return _.jsxs(mn.Dropdown,{className:kt("mrt-show-hide-columns-menu",u0e.root),children:[_.jsxs(Nt,{className:u0e.content,children:[f&&_.jsx(qt,{disabled:!o(),onClick:()=>g(!1),variant:"subtle",children:h.hideAll}),c&&_.jsx(qt,{onClick:()=>e.setColumnOrder(jee(e.options,!0)),variant:"subtle",children:h.resetOrder}),d&&_.jsx(qt,{disabled:!s(),onClick:()=>e.resetColumnPinning(!0),variant:"subtle",children:h.unpinAll}),f&&_.jsx(qt,{disabled:i(),onClick:()=>g(!0),variant:"subtle",children:h.showAll})]}),_.jsx(mn.Divider,{}),y.map((E,C)=>_.jsx(w4e,{allColumns:y,column:E,hoveredColumn:v,setHoveredColumn:w,table:e},`${C}-${E.id}`))]})},KKt=e=>{var{table:t,title:n}=e,r=pn(e,["table","title"]);const{icons:{IconColumns:i},localization:{showHideColumns:s}}=t.options;return _.jsxs(mn,{closeOnItemClick:!1,withinPortal:!0,children:[_.jsx(zt,{label:n??s,withinPortal:!0,children:_.jsx(mn.Target,{children:_.jsx(Jn,Object.assign({"aria-label":n??s,color:"gray",size:"lg",variant:"subtle"},r,{children:_.jsx(i,{})}))})}),_.jsx(YKt,{table:t})]})},XKt={md:"xs",xl:"md",xs:"xl"},QKt=e=>{var{table:{getState:t,options:{icons:{IconBaselineDensityLarge:n,IconBaselineDensityMedium:r,IconBaselineDensitySmall:i},localization:{toggleDensity:s}},setDensity:o},title:a}=e,l=pn(e,["table","title"]);const{density:u}=t();return _.jsx(zt,{label:a??s,withinPortal:!0,children:_.jsx(Jn,Object.assign({"aria-label":a??s,color:"gray",onClick:()=>o(c=>XKt[c]),size:"lg",variant:"subtle"},l,{children:u==="xs"?_.jsx(i,{}):u==="md"?_.jsx(r,{}):_.jsx(n,{})}))})},JKt=e=>{var{table:{getState:t,options:{icons:{IconFilter:n,IconFilterOff:r},localization:{showHideFilters:i}},setShowColumnFilters:s},title:o}=e,a=pn(e,["table","title"]);const{showColumnFilters:l}=t();return _.jsx(zt,{label:o??i,withinPortal:!0,children:_.jsx(Jn,Object.assign({"aria-label":o??i,color:"gray",onClick:()=>s(u=>!u),size:"lg",variant:"subtle"},a,{children:l?_.jsx(r,{}):_.jsx(n,{})}))})},ZKt=e=>{var{table:{getState:t,options:{icons:{IconMaximize:n,IconMinimize:r},localization:{toggleFullScreen:i}},setIsFullScreen:s},title:o}=e,a=pn(e,["table","title"]);const{isFullScreen:l}=t(),[u,c]=R.useState(!1),d=()=>{c(!1),s(f=>!f)};return _.jsx(zt,{label:o??i,opened:u,withinPortal:!0,children:_.jsx(Jn,Object.assign({"aria-label":o??i,color:"gray",onClick:d,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),size:"lg",variant:"subtle"},a,{children:l?_.jsx(r,{}):_.jsx(n,{})}))})},eXt=e=>{var{table:{getState:t,options:{icons:{IconSearch:n,IconSearchOff:r},localization:{showHideSearch:i}},refs:{searchInputRef:s},setShowGlobalFilter:o},title:a}=e,l=pn(e,["table","title"]);const{globalFilter:u,showGlobalFilter:c}=t(),d=()=>{o(!c),setTimeout(()=>{var f;return(f=s.current)===null||f===void 0?void 0:f.focus()},100)};return _.jsx(zt,{label:a??i,withinPortal:!0,children:_.jsx(Jn,Object.assign({"aria-label":a??i,color:"gray",disabled:!!u,onClick:d,size:"lg",variant:"subtle"},l,{children:c?_.jsx(r,{}):_.jsx(n,{})}))})},tXt=e=>{var{handleEdit:t,row:n,table:r}=e,i=pn(e,["handleEdit","row","table"]);const{options:{editDisplayMode:s,enableEditing:o,icons:{IconDots:a,IconEdit:l},localization:u,positionActionsColumn:c,renderRowActionMenuItems:d}}=r;return _.jsxs(mn,{closeOnItemClick:!0,position:c==="first"?"bottom-start":c==="last"?"bottom-end":void 0,withinPortal:!0,children:[_.jsx(zt,{label:u.rowActions,openDelay:1e3,withinPortal:!0,children:_.jsx(mn.Target,{children:_.jsx(Jn,Object.assign({"aria-label":u.rowActions,color:"gray",onClick:f=>f.stopPropagation(),size:"sm",variant:"subtle"},i,{children:_.jsx(a,{})}))})}),_.jsxs(mn.Dropdown,{onClick:f=>f.stopPropagation(),children:[o&&s!=="table"&&_.jsx(mn.Item,{leftSection:_.jsx(l,{}),onClick:t,children:u.edit}),d==null?void 0:d({row:n,table:r})]})]})},nXt=({cell:e,row:t,table:n})=>{const{getState:r,options:{createDisplayMode:i,editDisplayMode:s,enableEditing:o,icons:{IconEdit:a},localization:{edit:l},renderRowActionMenuItems:u,renderRowActions:c},setEditingRow:d}=n,{creatingRow:f,editingRow:h}=r(),p=(f==null?void 0:f.id)===t.id,m=(h==null?void 0:h.id)===t.id,g=v=>{v.stopPropagation(),d(Object.assign({},t))},y=p&&i==="row"||m&&s==="row";return _.jsx(_.Fragment,{children:c&&!y?c({cell:e,row:t,table:n}):y?_.jsx(y4e,{row:t,table:n}):!u&&Mt(o,t)?_.jsx(zt,{label:l,openDelay:1e3,position:"right",withinPortal:!0,children:_.jsx(Jn,{"aria-label":l,color:"gray",disabled:!!h&&h.id!==t.id,onClick:g,size:"md",variant:"subtle",children:_.jsx(a,{})})}):u?_.jsx(tXt,{handleEdit:g,row:t,table:n}):null})};var mB={root:"MRT_TableFooter-module_root__-JXpw",grid:"MRT_TableFooter-module_grid__J3Ga-",sticky:"MRT_TableFooter-module_sticky__GcoK6"},c0e={root:"MRT_TableFooterRow-module_root__EuoPr","layout-mode-grid":"MRT_TableFooterRow-module_layout-mode-grid__dUEMF"},gB={root:"MRT_TableFooterCell-module_root__d8Scs",grid:"MRT_TableFooterCell-module_grid__H9jLk",group:"MRT_TableFooterCell-module_group__l3-p-"};const rXt=e=>{var t,n,r,i,s,{footer:o,renderedColumnIndex:a,table:l}=e,u=pn(e,["footer","renderedColumnIndex","table"]);const c=Ga(),{options:{enableColumnPinning:d,layoutMode:f,mantineTableFooterCellProps:h}}=l,{column:p}=o,{columnDef:m}=p,{columnDefType:g}=m,y=d&&m.columnDefType!=="group"&&p.getIsPinned(),v={column:p,table:l},w=Object.assign(Object.assign(Object.assign({},Mt(h,v)),Mt(m.mantineTableFooterCellProps,v)),u),E={minWidth:`max(calc(var(--header-${yd(o==null?void 0:o.id)}-size) * 1px), ${(t=m.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${yd(o.id)}-size) * 1px)`};return f==="grid"?E.flex=`${[0,!1].includes(m.grow)?0:`var(--header-${yd(o.id)}-size)`} 0 auto`:f==="grid-no-grow"&&(E.flex=`${+(m.grow||0)} 0 auto`),_.jsx(bx,Object.assign({colSpan:o.colSpan,"data-column-pinned":y||void 0,"data-first-right-pinned":y==="right"&&p.getIsFirstColumn(y)||void 0,"data-index":a,"data-last-left-pinned":y==="left"&&p.getIsLastColumn(y)||void 0},w,{__vars:Object.assign({"--mrt-cell-align":(n=w.align)!==null&&n!==void 0?n:g==="group"?"center":c.dir==="rtl"?"right":"left","--mrt-table-cell-left":y==="left"?`${p.getStart(y)}`:void 0,"--mrt-table-cell-right":y==="right"?`${p.getAfter(y)}`:void 0},w==null?void 0:w.__vars),className:kt(gB.root,(f==null?void 0:f.startsWith("grid"))&&gB.grid,g==="group"&&gB.group,w==null?void 0:w.className),style:C=>Object.assign(Object.assign({},E),Mt(w.style,C)),children:(r=w.children)!==null&&r!==void 0?r:o.isPlaceholder?null:(s=(i=Mt(m.Footer,{column:p,footer:o,table:l}))!==null&&i!==void 0?i:m.footer)!==null&&s!==void 0?s:null}))},iXt=e=>{var t,{columnVirtualizer:n,footerGroup:r,table:i}=e,s=pn(e,["columnVirtualizer","footerGroup","table"]);const{options:{layoutMode:o,mantineTableFooterRowProps:a}}=i,{virtualColumns:l,virtualPaddingLeft:u,virtualPaddingRight:c}=n??{};if(!(!((t=r.headers)===null||t===void 0)&&t.some(f=>typeof f.column.columnDef.footer=="string"&&!!f.column.columnDef.footer||f.column.columnDef.Footer)))return null;const d=Object.assign(Object.assign({},Mt(a,{footerGroup:r,table:i})),s);return _.jsxs(Cp,Object.assign({className:kt(c0e.root,(o==null?void 0:o.startsWith("grid"))&&c0e["layout-mode-grid"])},d,{children:[u?_.jsx(Se,{component:"th",display:"flex",w:u}):null,(l??r.headers).map((f,h)=>{let p=f;return n&&(h=f.index,p=r.headers[h]),_.jsx(rXt,{footer:p,renderedColumnIndex:h,table:i},p.id)}),c?_.jsx(Se,{component:"th",display:"flex",w:c}):null]}))},sXt=e=>{var{columnVirtualizer:t,table:n}=e,r=pn(e,["columnVirtualizer","table"]);const{getFooterGroups:i,getState:s,options:{enableStickyFooter:o,layoutMode:a,mantineTableFooterProps:l},refs:{tableFooterRef:u}}=n,{isFullScreen:c}=s(),d=Object.assign(Object.assign({},Mt(l,{table:n})),r),f=(c||o)&&o!==!1;return _.jsx(DW,Object.assign({},d,{className:kt(mB.root,d==null?void 0:d.className,f&&mB.sticky,(a==null?void 0:a.startsWith("grid"))&&mB.grid),ref:h=>{u.current=h,d!=null&&d.ref&&(d.ref.current=h)},children:i().map(h=>_.jsx(iXt,{columnVirtualizer:t,footerGroup:h,table:n},h.id))}))};var Km={root:"MRT_TableHead-module_root__j9NkO","root-grid":"MRT_TableHead-module_root-grid__c3aGl","root-table-row-group":"MRT_TableHead-module_root-table-row-group__d9FO4","root-sticky":"MRT_TableHead-module_root-sticky__0kuDE","banner-tr":"MRT_TableHead-module_banner-tr__EhT-x","banner-th":"MRT_TableHead-module_banner-th__KwM5a",grid:"MRT_TableHead-module_grid__OJ-td"},yB={root:"MRT_TableHeadRow-module_root__hUKv4","layout-mode-grid":"MRT_TableHeadRow-module_layout-mode-grid__4ZGri",sticky:"MRT_TableHeadRow-module_sticky__Ej7Ax"},xo={root:"MRT_TableHeadCell-module_root__6y50a","root-grid":"MRT_TableHeadCell-module_root-grid__bAf1d","root-virtualized":"MRT_TableHeadCell-module_root-virtualized__CWLit","root-no-select":"MRT_TableHeadCell-module_root-no-select__BEOVU",content:"MRT_TableHeadCell-module_content__-pzSK","content-spaced":"MRT_TableHeadCell-module_content-spaced__S85Aa","content-center":"MRT_TableHeadCell-module_content-center__c-17L","content-right":"MRT_TableHeadCell-module_content-right__NSRZU","content-wrapper":"MRT_TableHeadCell-module_content-wrapper__py6aJ","content-wrapper-hidden-overflow":"MRT_TableHeadCell-module_content-wrapper-hidden-overflow__QY40r","content-wrapper-nowrap":"MRT_TableHeadCell-module_content-wrapper-nowrap__-4aIg",labels:"MRT_TableHeadCell-module_labels__oiMSr","labels-right":"MRT_TableHeadCell-module_labels-right__6ZJp-","labels-center":"MRT_TableHeadCell-module_labels-center__MM9q8","labels-sortable":"MRT_TableHeadCell-module_labels-sortable__tyuLr","labels-data":"MRT_TableHeadCell-module_labels-data__PvFGO","content-actions":"MRT_TableHeadCell-module_content-actions__utxbm"},oXt={"filter-mode-label":"MRT_TableHeadCellFilterContainer-module_filter-mode-label__8reK-"};const T4e=(e,t,n,r)=>{const i=tYt(e.getValue(t),n,{threshold:Ia.MATCHES});return r(i),i.passed};T4e.autoRemove=e=>!e;const A4e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().includes(n.toString().toLowerCase().trim())};A4e.autoRemove=e=>!e;const k4e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().startsWith(n.toString().toLowerCase().trim())};k4e.autoRemove=e=>!e;const I4e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().endsWith(n.toString().toLowerCase().trim())};I4e.autoRemove=e=>!e;const V5=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())===(n==null?void 0:n.toString().toLowerCase().trim())};V5.autoRemove=e=>!e;const R4e=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())!==n.toString().toLowerCase().trim()};R4e.autoRemove=e=>!e;const W5=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)>+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())>(n==null?void 0:n.toString().toLowerCase().trim())};W5.autoRemove=e=>!e;const Bee=(e,t,n)=>V5(e,t,n)||W5(e,t,n);Bee.autoRemove=e=>!e;const G5=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)<+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())<(n==null?void 0:n.toString().toLowerCase().trim())};G5.autoRemove=e=>!e;const zee=(e,t,n)=>V5(e,t,n)||G5(e,t,n);zee.autoRemove=e=>!e;const D4e=(e,t,n)=>(["",void 0].includes(n[0])||W5(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||G5(e,t,n[1]));D4e.autoRemove=e=>!e;const P4e=(e,t,n)=>(["",void 0].includes(n[0])||Bee(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||zee(e,t,n[1]));P4e.autoRemove=e=>!e;const O4e=(e,t,n)=>{var r;return!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};O4e.autoRemove=e=>!e;const N4e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};N4e.autoRemove=e=>!e;const aXt=Object.assign(Object.assign({},xf),{between:D4e,betweenInclusive:P4e,contains:A4e,empty:O4e,endsWith:I4e,equals:V5,fuzzy:T4e,greaterThan:W5,greaterThanOrEqualTo:Bee,lessThan:G5,lessThanOrEqualTo:zee,notEmpty:N4e,notEquals:R4e,startsWith:k4e});function Uee(e,t){var n;if(!t)return"";const r=`filter${t[0].toUpperCase()}${t.slice(1)}`;return(n=e[r])!==null&&n!==void 0?n:""}var lXt={root:"MRT_FilterCheckBox-module_root__59h9r"};const uXt=e=>{var t,n,r,{column:i,table:s}=e,o=pn(e,["column","table"]);const{getState:a,options:{localization:l,mantineFilterCheckboxProps:u}}=s,{density:c}=a(),{columnDef:d}=i,f={column:i,table:s},h=Object.assign(Object.assign(Object.assign({},Mt(u,f)),Mt(d.mantineFilterCheckboxProps,f)),o),p=(t=l.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",d.header),m=i.getFilterValue();return _.jsx(zt,{label:(n=h==null?void 0:h.title)!==null&&n!==void 0?n:p,openDelay:1e3,withinPortal:!0,children:_.jsx(Ro,Object.assign({checked:m==="true",className:kt("mrt-filter-checkbox",lXt.root),indeterminate:m===void 0,label:(r=h.title)!==null&&r!==void 0?r:p,size:c==="xs"?"sm":"md"},h,{onChange:g=>{var y;i.setFilterValue(i.getFilterValue()===void 0?"true":i.getFilterValue()==="true"?"false":void 0),(y=h==null?void 0:h.onChange)===null||y===void 0||y.call(h,g)},onClick:g=>{var y;g.stopPropagation(),(y=h==null?void 0:h.onClick)===null||y===void 0||y.call(h,g)},title:void 0}))})};var cXt={root:"MRT_FilterRangeFields-module_root__KfCcg"},FC={root:"MRT_FilterTextInput-module_root__Ss8Ql","date-filter":"MRT_FilterTextInput-module_date-filter__jOBLB","range-filter":"MRT_FilterTextInput-module_range-filter__JQHAL","not-filter-chip":"MRT_FilterTextInput-module_not-filter-chip__u8b1y","filter-chip-badge":"MRT_FilterTextInput-module_filter-chip-badge__Sel2k"};const yq=e=>{var t,n,r,i,s,o,a,l,{header:u,rangeFilterIndex:c,table:d}=e,f=pn(e,["header","rangeFilterIndex","table"]);const{options:{columnFilterDisplayMode:h,columnFilterModeOptions:p,icons:{IconX:m},localization:g,mantineFilterAutocompleteProps:y,mantineFilterDateInputProps:v,mantineFilterMultiSelectProps:w={clearable:!0},mantineFilterSelectProps:E,mantineFilterTextInputProps:C,manualFiltering:S},refs:{filterInputRefs:T},setColumnFilterFns:A}=d,{column:I}=u,{columnDef:D}=I,O={column:I,rangeFilterIndex:c,table:d},M=Object.assign(Object.assign(Object.assign({},Mt(C,O)),Mt(D.mantineFilterTextInputProps,O)),f),$=Object.assign(Object.assign({},Mt(E,O)),Mt(D.mantineFilterSelectProps,O)),L=Object.assign(Object.assign({},Mt(w,O)),Mt(D.mantineFilterMultiSelectProps,O)),z=Object.assign(Object.assign({},Mt(v,O)),Mt(D.mantineFilterDateInputProps,O)),B=Object.assign(Object.assign({},Mt(y,O)),Mt(D.mantineFilterAutocompleteProps,O)),W=D.filterVariant==="range"||D.filterVariant==="date-range"||c!==void 0,V=D.filterVariant==="select",X=D.filterVariant==="multi-select",U=D.filterVariant==="date"||D.filterVariant==="date-range",F=D.filterVariant==="autocomplete",G=(t=D==null?void 0:D.columnFilterModeOptions)!==null&&t!==void 0?t:p,q=D._filterFn,Y=["empty","notEmpty"].includes(q)?Uee(g,q):"",J=W?c===0?g.min:c===1?g.max:"":(n=M==null?void 0:M.placeholder)!==null&&n!==void 0?n:(r=g.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(D.header)),te=I.getFacetedUniqueValues(),ue=R.useMemo(()=>{var be,je,Qe;return((Qe=(je=(be=B==null?void 0:B.data)!==null&&be!==void 0?be:$==null?void 0:$.data)!==null&&je!==void 0?je:L==null?void 0:L.data)!==null&&Qe!==void 0?Qe:(F||V||X)&&te?Array.from(te.keys()).filter(it=>it!==null).sort((it,Ke)=>it.localeCompare(Ke)):[]).filter(it=>it!=null)},[B==null?void 0:B.data,te,F,X,V,L==null?void 0:L.data,$==null?void 0:$.data]),se=R.useRef(!1),[ne,fe]=R.useState(()=>{var be,je;return X?I.getFilterValue()||[]:W?((be=I.getFilterValue())===null||be===void 0?void 0:be[c])||"":(je=I.getFilterValue())!==null&&je!==void 0?je:""}),[ee]=Mge(ne,S?400:200);R.useEffect(()=>{se.current&&(W?I.setFilterValue(be=>{const je=Array.isArray(be)?be:["",""];return je[c]=ee,je}):I.setFilterValue(ee??void 0))},[ee]),R.useEffect(()=>{if(!se.current){se.current=!0;return}const be=I.getFilterValue();be===void 0?ie():fe(W&&c!==void 0?(be??["",""])[c]:be??"")},[I.getFilterValue()]);const ie=()=>{X?(fe([]),I.setFilterValue([])):W?(fe(""),I.setFilterValue(be=>{const je=Array.isArray(be)?be:["",""];return je[c]=void 0,je})):V?(fe(null),I.setFilterValue(null)):(fe(""),I.setFilterValue(void 0))},he=()=>{X?(fe([]),I.setFilterValue([])):(fe(""),I.setFilterValue(void 0)),A(be=>{var je;return Object.assign(Object.assign({},be),{[u.id]:(je=G==null?void 0:G[0])!==null&&je!==void 0?je:"fuzzy"})})},ye={"aria-label":J,className:kt("mrt-filter-text-input",FC.root,U?FC["date-filter"]:W?FC["range-filter"]:!Y&&FC["not-filter-chip"]),disabled:!!Y,onChange:fe,onClick:be=>be.stopPropagation(),placeholder:J,style:Object.assign({},X?L==null?void 0:L.style:V?$==null?void 0:$.style:U?z==null?void 0:z.style:M==null?void 0:M.style),title:J,value:X&&!Array.isArray(ne)?[]:ne,variant:"unstyled"},{className:Ce}=ye,Re=pn(ye,["className"]),De=ne?_.jsx(Jn,{"aria-label":g.clearFilter,color:"var(--mantine-color-gray-7)",onClick:ie,size:"sm",title:(i=g.clearFilter)!==null&&i!==void 0?i:"",variant:"transparent",children:_.jsx(m,{})}):null;return D.Filter?_.jsx(_.Fragment,{children:(s=D.Filter)===null||s===void 0?void 0:s.call(D,{column:I,header:u,rangeFilterIndex:c,table:d})}):Y?_.jsx(Se,{style:Re.style,children:_.jsx(nu,{className:FC["filter-chip-badge"],onClick:he,rightSection:De,size:"lg",children:Y})}):X?_.jsx(BT,Object.assign({},Re,{searchable:!0},L,{className:kt(Ce,L.className),data:ue,onChange:be=>fe(be),ref:be=>{be&&(T.current[`${I.id}-${c??0}`]=be,L.ref&&(L.ref.current=be))},rightSection:!((o=ne==null?void 0:ne.toString())===null||o===void 0)&&o.length&&(L!=null&&L.clearable)?De:void 0,style:Re.style})):V?_.jsx(vg,Object.assign({},Re,{clearable:!0,searchable:!0},$,{className:kt(Ce,$.className),clearButtonProps:{size:"md"},data:ue,ref:be=>{be&&(T.current[`${I.id}-${c??0}`]=be,$.ref&&($.ref.current=be))},style:Re.style})):U?_.jsx($ee,Object.assign({},Re,{allowDeselect:!0,clearable:!0,popoverProps:{withinPortal:h!=="popover"}},z,{className:kt(Ce,z.className),onChange:be=>Re.onChange(be===null?"":be),ref:be=>{be&&(T.current[`${I.id}-${c??0}`]=be,z.ref&&(z.ref.current=be))},style:Re.style})):F?_.jsx(HV,Object.assign({},Re,{onChange:be=>fe(be),rightSection:!((a=ne==null?void 0:ne.toString())===null||a===void 0)&&a.length?De:void 0},B,{className:kt(Ce,B.className),data:ue,ref:be=>{be&&(T.current[`${I.id}-${c??0}`]=be,B.ref&&(B.ref.current=be))},style:Re.style})):_.jsx(Uu,Object.assign({},Re,{onChange:be=>fe(be.target.value),rightSection:!((l=ne==null?void 0:ne.toString())===null||l===void 0)&&l.length?De:void 0},M,{className:kt(Ce,M.className),mt:0,ref:be=>{be&&(T.current[`${I.id}-${c??0}`]=be,M.ref&&(M.ref.current=be))},style:Re.style}))},dXt=e=>{var{header:t,table:n}=e,r=pn(e,["header","table"]);return _.jsxs(Se,Object.assign({},r,{className:kt("mrt-filter-range-fields",cXt.root,r.className),children:[_.jsx(yq,{header:t,rangeFilterIndex:0,table:n}),_.jsx(yq,{header:t,rangeFilterIndex:1,table:n})]}))};var fXt={root:"MRT_FilterRangeSlider-module_root__uwYEk"};const hXt=e=>{var t,{header:n,table:r}=e,i=pn(e,["header","table"]);const{options:{mantineFilterRangeSliderProps:s},refs:{filterInputRefs:o}}=r,{column:a}=n,{columnDef:l}=a,u={column:a,table:r},c=Object.assign(Object.assign(Object.assign({},Mt(s,u)),Mt(l.mantineFilterRangeSliderProps,u)),i);let[d,f]=c.min!==void 0&&c.max!==void 0?[c.min,c.max]:(t=a.getFacetedMinMaxValues())!==null&&t!==void 0?t:[0,1];Array.isArray(d)&&(d=d[0]),Array.isArray(f)&&(f=f[0]),d===null&&(d=0),f===null&&(f=1);const[h,p]=R.useState([d,f]),m=a.getFilterValue(),g=R.useRef(!1);return R.useEffect(()=>{g.current&&(m===void 0?p([d,f]):Array.isArray(m)&&p(m)),g.current=!0},[m,d,f]),_.jsx(AW,Object.assign({className:kt("mrt-filter-range-slider",fXt.root),max:f,min:d,onChange:y=>{p(y)},onChangeEnd:y=>{Array.isArray(y)&&(y[0]<=d&&y[1]>=f?a.setFilterValue(void 0):a.setFilterValue(y))},value:h},c,{ref:y=>{y&&(o.current[`${a.id}-0`]=y,c!=null&&c.ref&&(c.ref=y))}}))};var pXt={symbol:"MRT_FilterOptionMenu-module_symbol__a1Bsy"};const mXt=e=>[{divider:!1,label:e.filterFuzzy,option:"fuzzy",symbol:""},{divider:!1,label:e.filterContains,option:"contains",symbol:"*"},{divider:!1,label:e.filterStartsWith,option:"startsWith",symbol:"a"},{divider:!0,label:e.filterEndsWith,option:"endsWith",symbol:"z"},{divider:!1,label:e.filterEquals,option:"equals",symbol:"="},{divider:!0,label:e.filterNotEquals,option:"notEquals",symbol:""},{divider:!1,label:e.filterBetween,option:"between",symbol:""},{divider:!0,label:e.filterBetweenInclusive,option:"betweenInclusive",symbol:""},{divider:!1,label:e.filterGreaterThan,option:"greaterThan",symbol:">"},{divider:!1,label:e.filterGreaterThanOrEqualTo,option:"greaterThanOrEqualTo",symbol:""},{divider:!1,label:e.filterLessThan,option:"lessThan",symbol:"<"},{divider:!0,label:e.filterLessThanOrEqualTo,option:"lessThanOrEqualTo",symbol:""},{divider:!1,label:e.filterEmpty,option:"empty",symbol:""},{divider:!1,label:e.filterNotEmpty,option:"notEmpty",symbol:"!"}],AD=["between","betweenInclusive","inNumberRange"],vB=["empty","notEmpty"],gXt=["arrIncludesSome","arrIncludesAll","arrIncludes"],d0e=["range-slider","date-range","range"],$4e=({header:e,onSelect:t,table:n})=>{var r,i,s,o;const{getState:a,options:{columnFilterModeOptions:l,globalFilterModeOptions:u,localization:c,renderColumnFilterModeMenuItems:d,renderGlobalFilterModeMenuItems:f},setColumnFilterFns:h,setGlobalFilterFn:p}=n,{globalFilterFn:m}=a(),{column:g}=e??{},{columnDef:y}=g??{},v=g==null?void 0:g.getFilterValue();let w=(r=y==null?void 0:y.columnFilterModeOptions)!==null&&r!==void 0?r:l;d0e.includes(y==null?void 0:y.filterVariant)&&(w=[...AD,...w??[]].filter(T=>AD.includes(T)));const E=R.useMemo(()=>mXt(c).filter(T=>y?w===void 0||(w==null?void 0:w.includes(T.option)):(!u||u.includes(T.option))&&["contains","fuzzy","startsWith"].includes(T.option)),[]),C=T=>{var A;const I=(A=y==null?void 0:y._filterFn)!==null&&A!==void 0?A:"";!e||!g?p(T):T!==I&&(h(D=>Object.assign(Object.assign({},D),{[e.id]:T})),vB.includes(T)?v!==" "&&!vB.includes(I)?g.setFilterValue(" "):v&&g.setFilterValue(v):(y==null?void 0:y.filterVariant)==="multi-select"||gXt.includes(T)?v instanceof String||v!=null&&v.length?g.setFilterValue([]):v&&g.setFilterValue(v):d0e.includes(y==null?void 0:y.filterVariant)||AD.includes(T)?!Array.isArray(v)||!(v!=null&&v.every(D=>D===""))&&!AD.includes(I)?g.setFilterValue(["",""]):g.setFilterValue(v):Array.isArray(v)?g.setFilterValue(""):v===" "&&vB.includes(I)?g.setFilterValue(void 0):g.setFilterValue(v)),t==null||t()},S=e&&y?y._filterFn:m;return _.jsx(mn.Dropdown,{children:(o=e&&g&&y?(s=(i=y.renderColumnFilterModeMenuItems)===null||i===void 0?void 0:i.call(y,{column:g,internalFilterOptions:E,onSelectFilterMode:C,table:n}))!==null&&s!==void 0?s:d==null?void 0:d({column:g,internalFilterOptions:E,onSelectFilterMode:C,table:n}):f==null?void 0:f({internalFilterOptions:E,onSelectFilterMode:C,table:n}))!==null&&o!==void 0?o:E.map(({divider:T,label:A,option:I,symbol:D},O)=>_.jsxs(R.Fragment,{children:[_.jsx(mn.Item,{color:I===S?"blue":void 0,leftSection:_.jsx("span",{className:pXt.symbol,children:D}),onClick:()=>C(I),value:I,children:A}),T&&_.jsx(mn.Divider,{})]},O))})},M4e=e=>{var t,n,{header:r,table:i}=e,s=pn(e,["header","table"]);const{getState:o,options:{columnFilterDisplayMode:a,columnFilterModeOptions:l,enableColumnFilterModes:u,icons:{IconFilterCog:c},localization:d},refs:{filterInputRefs:f}}=i,{showColumnFilters:h}=o(),{column:p}=r,{columnDef:m}=p,g=m._filterFn,y=(t=m==null?void 0:m.columnFilterModeOptions)!==null&&t!==void 0?t:l,v=u&&m.enableColumnFilterModes!==!1&&(y===void 0||!!(y!=null&&y.length));return _.jsx(im,{in:h||a==="popover",children:_.jsxs(Nt,Object.assign({direction:"column"},s,{children:[_.jsxs(Nt,{align:"flex-end",children:[m.filterVariant==="checkbox"?_.jsx(uXt,{column:p,table:i}):m.filterVariant==="range-slider"?_.jsx(hXt,{header:r,table:i}):["date-range","range"].includes((n=m.filterVariant)!==null&&n!==void 0?n:"")||["between","betweenInclusive","inNumberRange"].includes(m._filterFn)?_.jsx(dXt,{header:r,table:i}):_.jsx(yq,{header:r,table:i}),v&&_.jsxs(mn,{withinPortal:a!=="popover",children:[_.jsx(zt,{label:d.changeFilterMode,position:"bottom-start",withinPortal:!0,children:_.jsx(mn.Target,{children:_.jsx(Jn,{"aria-label":d.changeFilterMode,color:"gray",size:"md",variant:"subtle",children:_.jsx(c,{})})})}),_.jsx($4e,{header:r,onSelect:()=>setTimeout(()=>{var w;return(w=f.current[`${p.id}-0`])===null||w===void 0?void 0:w.focus()},100),table:i})]})]}),v?_.jsx(tt,{c:"dimmed",className:oXt["filter-mode-label"],component:"label",children:d.filterMode.replace("{filterType}",Uee(d,g))}):null]}))})};var yXt={root:"MRT_TableHeadCellFilterLabel-module_root__Rur2R"};const vXt=e=>{var t,n,r,{header:i,table:s}=e,o=pn(e,["header","table"]);const{options:{columnFilterDisplayMode:a,icons:{IconFilter:l},localization:u},refs:{filterInputRefs:c},setShowColumnFilters:d}=s,{column:f}=i,{columnDef:h}=f,p=f.getFilterValue(),[m,g]=R.useState(!1),y=Array.isArray(p)&&p.some(Boolean)||!!p&&!Array.isArray(p),v=h.filterVariant==="range"||h.filterVariant==="date-range"||["between","betweenInclusive","inNumberRange"].includes(h._filterFn),w=h._filterFn,E=h.filterTooltipValueFn||(S=>S),C=a==="popover"&&!y?(t=u.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",String(h.header)):u.filteringByColumn.replace("{column}",String(h.header)).replace("{filterType}",Uee(u,w)).replace("{filterValue}",`"${Array.isArray(f.getFilterValue())?f.getFilterValue().map(S=>E(S)).join(`" ${v?u.and:u.or} "`):E(f.getFilterValue())}"`).replace('" "',"");return _.jsx(_.Fragment,{children:_.jsxs(Di,{keepMounted:h.filterVariant==="range-slider",onChange:g,onClose:()=>g(!1),opened:m,position:"top",shadow:"xl",width:360,withinPortal:!0,children:[_.jsx(lc,{mounted:a==="popover"||!!f.getFilterValue()&&!v||v&&(!!(!((n=f.getFilterValue())===null||n===void 0)&&n[0])||!!(!((r=f.getFilterValue())===null||r===void 0)&&r[1])),transition:"scale",children:()=>_.jsx(Di.Target,{children:_.jsx(zt,{disabled:m,label:C,multiline:!0,w:C.length>40?300:void 0,withinPortal:!0,children:_.jsx(Jn,Object.assign({className:kt("mrt-table-head-cell-filter-label-icon",yXt.root),size:18},s$("active",y),{onClick:S=>{S.stopPropagation(),a==="popover"?g(T=>!T):d(!0),setTimeout(()=>{const T=c.current[`${f.id}-0`];T==null||T.focus(),T==null||T.select()},100)}},o,{children:_.jsx(l,{size:"100%"})}))})})}),a==="popover"&&_.jsx(Di.Dropdown,{onClick:S=>S.stopPropagation(),onKeyDown:S=>S.key==="Enter"&&g(!1),onMouseDown:S=>S.stopPropagation(),children:_.jsx(M4e,{header:i,table:s})})]})})},bXt=e=>{var{column:t,table:n,tableHeadCellRef:r}=e,i=pn(e,["column","table","tableHeadCellRef"]);const{getState:s,options:{enableColumnOrdering:o,mantineColumnDragHandleProps:a},setColumnOrder:l,setDraggingColumn:u,setHoveredColumn:c}=n,{columnDef:d}=t,{columnOrder:f,draggingColumn:h,hoveredColumn:p}=s(),m={column:t,table:n},g=Object.assign(Object.assign(Object.assign({},Mt(a,m)),Mt(d.mantineColumnDragHandleProps,m)),i),y=w=>{var E;(E=g==null?void 0:g.onDragStart)===null||E===void 0||E.call(g,w),u(t),w.dataTransfer.setDragImage(r.current,0,0)},v=w=>{var E;(E=g==null?void 0:g.onDragEnd)===null||E===void 0||E.call(g,w),(p==null?void 0:p.id)==="drop-zone"?t.toggleGrouping():o&&p&&(p==null?void 0:p.id)!==(h==null?void 0:h.id)&&l(b4e(t,p,f)),u(null),c(null)};return _.jsx(Mee,{actionIconProps:g,onDragEnd:v,onDragStart:y,table:n})};var bB={root:"MRT_TableHeadCellResizeHandle-module_root__paufe","root-ltr":"MRT_TableHeadCellResizeHandle-module_root-ltr__652AZ","root-rtl":"MRT_TableHeadCellResizeHandle-module_root-rtl__5VlSo","root-hide":"MRT_TableHeadCellResizeHandle-module_root-hide__-ILlD"};const wXt=e=>{var t,{header:n,table:r}=e,i=pn(e,["header","table"]);const{getState:s,options:{columnResizeDirection:o,columnResizeMode:a},setColumnSizingInfo:l}=r,{density:u}=s(),{column:c}=n,d=n.getResizeHandler(),f=c.getIsResizing()&&a==="onEnd"?`translateX(${(o==="rtl"?-1:1)*((t=s().columnSizingInfo.deltaOffset)!==null&&t!==void 0?t:0)}px)`:void 0;return _.jsx(Se,Object.assign({onDoubleClick:()=>{l(h=>Object.assign(Object.assign({},h),{isResizingColumn:!1})),c.resetSize()},onMouseDown:d,onTouchStart:d,role:"separator"},i,{__vars:Object.assign({"--mrt-transform":f},i.__vars),className:kt("mrt-table-head-cell-resize-handle",bB.root,bB[`root-${o}`],!n.subHeaders.length&&a==="onChange"&&bB["root-hide"],u,i.className)}))};var f0e={"sort-icon":"MRT_TableHeadCellSortLabel-module_sort-icon__zs1xA","multi-sort-indicator":"MRT_TableHeadCellSortLabel-module_multi-sort-indicator__MGBj2"};const xXt=e=>{var{header:t,table:n}=e,r=pn(e,["header","table"]);const{getState:i,options:{icons:{IconArrowsSort:s,IconSortAscending:o,IconSortDescending:a},localization:l}}=n,u=t.column,{columnDef:c}=u,{sorting:d}=i(),f=u.getIsSorted(),h=u.getSortIndex(),p=f?f==="desc"?l.sortedByColumnDesc.replace("{column}",c.header):l.sortedByColumnAsc.replace("{column}",c.header):u.getNextSortingOrder()==="desc"?l.sortByColumnDesc.replace("{column}",c.header):l.sortByColumnAsc.replace("{column}",c.header),m=_.jsx(Jn,Object.assign({"aria-label":p},s$("sorted",f),r,{className:kt("mrt-table-head-sort-button",f0e["sort-icon"],r.className),children:f==="desc"?_.jsx(a,{size:"100%"}):f==="asc"?_.jsx(o,{size:"100%"}):_.jsx(s,{size:"100%"})}));return _.jsx(zt,{label:p,openDelay:1e3,withinPortal:!0,children:d.length<2||h===-1?m:_.jsx(ZV,{className:kt("mrt-table-head-multi-sort-indicator",f0e["multi-sort-indicator"]),inline:!0,label:h+1,offset:4,children:m})})};var h0e={left:"MRT_ColumnActionMenu-module_left__cfNmY",right:"MRT_ColumnActionMenu-module_right__-nK56"};const _Xt=e=>{var t,n,r,i,s,o,a,l,u,c,{header:d,table:f}=e,h=pn(e,["header","table"]);const{getState:p,options:{columnFilterDisplayMode:m,enableColumnFilters:g,enableColumnPinning:y,enableColumnResizing:v,enableGrouping:w,enableHiding:E,enableSorting:C,enableSortingRemoval:S,icons:{IconArrowAutofitContent:T,IconBoxMultiple:A,IconClearAll:I,IconColumns:D,IconDotsVertical:O,IconEyeOff:M,IconFilter:$,IconFilterOff:L,IconPinned:z,IconPinnedOff:B,IconSortAscending:W,IconSortDescending:V},localization:X,mantineColumnActionsButtonProps:U,renderColumnActionsMenuItems:F},refs:{filterInputRefs:G},setColumnOrder:q,setColumnSizingInfo:Y,setShowColumnFilters:J,toggleAllColumnsVisible:te}=f,{column:ue}=d,{columnDef:se}=ue,{columnSizing:ne,columnVisibility:fe}=p(),ee={column:ue,table:f},ie=Object.assign(Object.assign({},Mt(U,ee)),Mt(se.mantineColumnActionsButtonProps,ee)),he=()=>{ue.clearSorting()},ye=()=>{ue.toggleSorting(!1)},Ce=()=>{ue.toggleSorting(!0)},Re=()=>{Y(ze=>Object.assign(Object.assign({},ze),{isResizingColumn:!1})),ue.resetSize()},De=()=>{ue.toggleVisibility(!1)},be=ze=>{ue.pin(ze)},je=()=>{ue.toggleGrouping(),q(ze=>["mrt-row-expand",...ze])},Qe=()=>{ue.setFilterValue("")},it=()=>{J(!0),setTimeout(()=>{var ze;return(ze=G.current[`${ue.id}-0`])===null||ze===void 0?void 0:ze.focus()},100)},Ke=()=>{te(!0)},Pe=_.jsxs(_.Fragment,{children:[C&&ue.getCanSort()&&_.jsxs(_.Fragment,{children:[S!==!1&&_.jsx(mn.Item,{disabled:!ue.getIsSorted(),leftSection:_.jsx(I,{}),onClick:he,children:X.clearSort}),_.jsx(mn.Item,{disabled:ue.getIsSorted()==="asc",leftSection:_.jsx(W,{}),onClick:ye,children:(t=X.sortByColumnAsc)===null||t===void 0?void 0:t.replace("{column}",String(se.header))}),_.jsx(mn.Item,{disabled:ue.getIsSorted()==="desc",leftSection:_.jsx(V,{}),onClick:Ce,children:(n=X.sortByColumnDesc)===null||n===void 0?void 0:n.replace("{column}",String(se.header))}),(g||w||E)&&_.jsx(mn.Divider,{},3)]}),g&&m!=="popover"&&ue.getCanFilter()&&_.jsxs(_.Fragment,{children:[_.jsx(mn.Item,{disabled:!ue.getFilterValue(),leftSection:_.jsx(L,{}),onClick:Qe,children:X.clearFilter}),_.jsx(mn.Item,{leftSection:_.jsx($,{}),onClick:it,children:(r=X.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(se.header))}),(w||E)&&_.jsx(mn.Divider,{},2)]}),w&&ue.getCanGroup()&&_.jsxs(_.Fragment,{children:[_.jsx(mn.Item,{leftSection:_.jsx(A,{}),onClick:je,children:(i=X[ue.getIsGrouped()?"ungroupByColumn":"groupByColumn"])===null||i===void 0?void 0:i.replace("{column}",String(se.header))}),y&&_.jsx(mn.Divider,{})]}),y&&ue.getCanPin()&&_.jsxs(_.Fragment,{children:[_.jsx(mn.Item,{disabled:ue.getIsPinned()==="left"||!ue.getCanPin(),leftSection:_.jsx(z,{className:h0e.left}),onClick:()=>be("left"),children:X.pinToLeft}),_.jsx(mn.Item,{disabled:ue.getIsPinned()==="right"||!ue.getCanPin(),leftSection:_.jsx(z,{className:h0e.right}),onClick:()=>be("right"),children:X.pinToRight}),_.jsx(mn.Item,{disabled:!ue.getIsPinned(),leftSection:_.jsx(B,{}),onClick:()=>be(!1),children:X.unpin}),E&&_.jsx(mn.Divider,{})]}),v&&ue.getCanResize()&&_.jsx(mn.Item,{disabled:!ne[ue.id],leftSection:_.jsx(T,{}),onClick:Re,children:X.resetColumnSize},0),E&&_.jsxs(_.Fragment,{children:[_.jsx(mn.Item,{disabled:!ue.getCanHide(),leftSection:_.jsx(M,{}),onClick:De,children:(s=X.hideColumn)===null||s===void 0?void 0:s.replace("{column}",String(se.header))},0),_.jsx(mn.Item,{disabled:!Object.values(fe).filter(ze=>!ze).length,leftSection:_.jsx(D,{}),onClick:Ke,children:(o=X.showAllColumns)===null||o===void 0?void 0:o.replace("{column}",String(se.header))},1)]})]});return _.jsxs(mn,Object.assign({closeOnItemClick:!0,position:"bottom-start",withinPortal:!0},h,{children:[_.jsx(zt,{label:(a=ie==null?void 0:ie.title)!==null&&a!==void 0?a:X.columnActions,openDelay:1e3,withinPortal:!0,children:_.jsx(mn.Target,{children:_.jsx(Jn,Object.assign({"aria-label":X.columnActions,color:"gray",size:"sm",variant:"subtle"},ie,{children:_.jsx(O,{size:"100%"})}))})}),_.jsx(mn.Dropdown,{children:(c=(u=(l=se.renderColumnActionsMenuItems)===null||l===void 0?void 0:l.call(se,{column:ue,internalColumnMenuItems:Pe,table:f}))!==null&&u!==void 0?u:F==null?void 0:F({column:ue,internalColumnMenuItems:Pe,table:f}))!==null&&c!==void 0?c:Pe})]}))},EXt=e=>{var t,n,r,i,s,o,{columnVirtualizer:a,header:l,renderedHeaderIndex:u=0,table:c}=e,d=pn(e,["columnVirtualizer","header","renderedHeaderIndex","table"]);const f=Ga(),{getState:h,options:{columnFilterDisplayMode:p,columnResizeDirection:m,columnResizeMode:g,enableColumnActions:y,enableColumnDragging:v,enableColumnOrdering:w,enableColumnPinning:E,enableGrouping:C,enableHeaderActionsHoverReveal:S,enableMultiSort:T,layoutMode:A,mantineTableHeadCellProps:I},refs:{tableHeadCellRefs:D},setHoveredColumn:O}=c,{columnSizingInfo:M,draggingColumn:$,grouping:L,hoveredColumn:z}=h(),{column:B}=l,{columnDef:W}=B,{columnDefType:V}=W,X={column:B,table:c},U=Object.assign(Object.assign(Object.assign({},Mt(I,X)),Mt(W.mantineTableHeadCellProps,X)),d),F={minWidth:`max(calc(var(--header-${yd(l==null?void 0:l.id)}-size) * 1px), ${(t=W.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${yd(l.id)}-size) * 1px)`};A==="grid"?F.flex=`${[0,!1].includes(W.grow)?0:`var(--header-${yd(l.id)}-size)`} 0 auto`:A==="grid-no-grow"&&(F.flex=`${+(W.grow||0)} 0 auto`);const G=E&&W.columnDefType!=="group"&&B.getIsPinned(),q=($==null?void 0:$.id)===B.id,Y=(z==null?void 0:z.id)===B.id,{hovered:J,ref:te}=J5e(),[ue,se]=R.useState(!1),ne=(y||W.enableColumnActions)&&W.enableColumnActions!==!1,fe=!S||ue||J&&!c.getVisibleFlatColumns().find(Ce=>Ce.getIsResizing()),ee=v!==!1&&W.enableColumnDragging!==!1&&(v||w&&W.enableColumnOrdering!==!1||C&&W.enableGrouping!==!1&&!L.includes(B.id))&&fe,ie=R.useMemo(()=>{let Ce=0;return B.getCanSort()&&Ce++,fe&&(Ce+=1.75),ee&&(Ce+=1.25),Ce},[fe,ee]),he=Ce=>{C&&(z==null?void 0:z.id)==="drop-zone"&&O(null),w&&$&&V!=="group"&&O(W.enableColumnOrdering!==!1?B:null)},ye=(W==null?void 0:W.Header)instanceof Function?(n=W==null?void 0:W.Header)===null||n===void 0?void 0:n.call(W,{column:B,header:l,table:c}):(r=W==null?void 0:W.Header)!==null&&r!==void 0?r:W.header;return _.jsxs(bx,Object.assign({colSpan:l.colSpan,"data-column-pinned":G||void 0,"data-dragging-column":q||void 0,"data-first-right-pinned":G==="right"&&B.getIsFirstColumn(G)||void 0,"data-hovered-column-target":Y||void 0,"data-index":u,"data-last-left-pinned":G==="left"&&B.getIsLastColumn(G)||void 0,"data-resizing":g==="onChange"&&(M==null?void 0:M.isResizingColumn)===B.id&&m||void 0},U,{__vars:{"--mrt-table-cell-left":G==="left"?`${B.getStart(G)}`:void 0,"--mrt-table-cell-right":G==="right"?`${B.getAfter(G)}`:void 0},align:V==="group"?"center":f.dir==="rtl"?"right":"left",className:kt(xo.root,(A==null?void 0:A.startsWith("grid"))&&xo["root-grid"],T&&B.getCanSort()&&xo["root-no-select"],a&&xo["root-virtualized"],U==null?void 0:U.className),onDragEnter:he,ref:Ce=>{var Re;Ce&&(D.current[B.id]=Ce,te.current=Ce,V!=="group"&&((Re=a==null?void 0:a.measureElement)===null||Re===void 0||Re.call(a,Ce)))},style:Ce=>Object.assign(Object.assign({},F),Mt(U==null?void 0:U.style,Ce)),children:[l.isPlaceholder?null:(i=U.children)!==null&&i!==void 0?i:_.jsxs(Nt,{className:kt("mrt-table-head-cell-content",xo.content,(V==="group"||(U==null?void 0:U.align)==="center")&&xo["content-center"],(U==null?void 0:U.align)==="right"&&xo["content-right"],B.getCanResize()&&xo["content-spaced"]),children:[_.jsxs(Nt,{__vars:{"--mrt-table-head-cell-labels-padding-left":`${ie}`},className:kt("mrt-table-head-cell-labels",xo.labels,B.getCanSort()&&V!=="group"&&xo["labels-sortable"],(U==null?void 0:U.align)==="right"?xo["labels-right"]:(U==null?void 0:U.align)==="center"&&xo["labels-center"],V==="data"&&xo["labels-data"]),onClick:B.getToggleSortingHandler(),children:[_.jsx(Nt,{className:kt("mrt-table-head-cell-content-wrapper",xo["content-wrapper"],V==="data"&&xo["content-wrapper-hidden-overflow"],((o=(s=W.header)===null||s===void 0?void 0:s.length)!==null&&o!==void 0?o:0)<20&&xo["content-wrapper-nowrap"]),children:ye}),B.getCanFilter()&&(B.getIsFiltered()||fe)&&_.jsx(vXt,{header:l,table:c}),B.getCanSort()&&(B.getIsSorted()||fe)&&_.jsx(xXt,{header:l,table:c})]}),V!=="group"&&_.jsxs(Nt,{className:kt("mrt-table-head-cell-content-actions",xo["content-actions"]),children:[ee&&_.jsx(bXt,{column:B,table:c,tableHeadCellRef:{current:D.current[B.id]}}),ne&&fe&&_.jsx(_Xt,{header:l,onChange:se,opened:ue,table:c})]}),B.getCanResize()&&_.jsx(wXt,{header:l,table:c})]}),p==="subheader"&&B.getCanFilter()&&_.jsx(M4e,{header:l,table:c})]}))},CXt=e=>{var{columnVirtualizer:t,headerGroup:n,table:r}=e,i=pn(e,["columnVirtualizer","headerGroup","table"]);const{getState:s,options:{enableStickyHeader:o,layoutMode:a,mantineTableHeadRowProps:l}}=r,{isFullScreen:u}=s(),{virtualColumns:c,virtualPaddingLeft:d,virtualPaddingRight:f}=t??{},h=Object.assign(Object.assign({},Mt(l,{headerGroup:n,table:r})),i);return _.jsxs(Cp,Object.assign({},h,{className:kt(yB.root,(o||u)&&yB.sticky,(a==null?void 0:a.startsWith("grid"))&&yB["layout-mode-grid"],h==null?void 0:h.className),children:[d?_.jsx(Se,{component:"th",display:"flex",w:d}):null,(c??n.headers).map((p,m)=>{let g=p;return t&&(m=p.index,g=n.headers[m]),_.jsx(EXt,{columnVirtualizer:t,header:g,renderedHeaderIndex:m,table:r},g.id)}),f?_.jsx(Se,{component:"th",display:"flex",w:f}):null]}))};var rw={alert:"MRT_ToolbarAlertBanner-module_alert__PAhUK","alert-stacked":"MRT_ToolbarAlertBanner-module_alert-stacked__HR7Nq","alert-bottom":"MRT_ToolbarAlertBanner-module_alert-bottom__u9L-S","alert-badge":"MRT_ToolbarAlertBanner-module_alert-badge__GwDmX","toolbar-alert":"MRT_ToolbarAlertBanner-module_toolbar-alert__3sJGU","head-overlay":"MRT_ToolbarAlertBanner-module_head-overlay__Hw7jK"};const vq=e=>{var t,{renderedRowIndex:n=0,row:r,table:i}=e,s=pn(e,["renderedRowIndex","row","table"]);const{getState:o,options:{enableMultiRowSelection:a,localization:l,mantineSelectAllCheckboxProps:u,mantineSelectCheckboxProps:c,selectAllMode:d,selectDisplayMode:f}}=i,{density:h,isLoading:p}=o(),m=!r,g=m?d==="page"?i.getIsAllPageRowsSelected():i.getIsAllRowsSelected():void 0,y=m?g:o$({row:r,table:i}),v=Object.assign(Object.assign({},m?Mt(u,{table:i}):Mt(c,{row:r,table:i})),s),w=r?NKt({renderedRowIndex:n,row:r,table:i}):void 0,E=p4e({table:i}),C=Object.assign(Object.assign({"aria-label":m?l.toggleSelectAll:l.toggleSelectRow,checked:y,disabled:p||r&&!r.getCanSelect()||(r==null?void 0:r.id)==="mrt-row-create",onChange:S=>{S.stopPropagation(),m?E(S):w(S)},size:h==="xs"?"sm":"md"},v),{onClick:S=>{var T;S.stopPropagation(),(T=v==null?void 0:v.onClick)===null||T===void 0||T.call(v,S)},title:void 0});return _.jsx(zt,{label:(t=v==null?void 0:v.title)!==null&&t!==void 0?t:m?l.toggleSelectAll:l.toggleSelectRow,openDelay:1e3,withinPortal:!0,children:_.jsx("span",{children:f==="switch"?_.jsx(D0,Object.assign({},C)):f==="radio"||a===!1?_.jsx(ru,Object.assign({},C)):_.jsx(Ro,Object.assign({indeterminate:!y&&m?i.getIsSomeRowsSelected():(r==null?void 0:r.getIsSomeSelected())&&r.getCanSelectSubRows()},C))})})},Hee=e=>{var t,n,r,{stackAlertBanner:i,table:s}=e,o=pn(e,["stackAlertBanner","table"]);const{getFilteredSelectedRowModel:a,getPrePaginationRowModel:l,getState:u,options:{enableRowSelection:c,enableSelectAll:d,icons:{IconX:f},localization:h,mantineToolbarAlertBannerBadgeProps:p,mantineToolbarAlertBannerProps:m,manualPagination:g,positionToolbarAlertBanner:y,renderToolbarAlertBannerContent:v,rowCount:w}}=s,{density:E,grouping:C,rowSelection:S,showAlertBanner:T}=u(),A=Object.assign(Object.assign({},Mt(m,{table:s})),o),I=Mt(p,{table:s}),D=w??l().flatRows.length,O=R.useMemo(()=>g?Object.values(S).filter(Boolean).length:a().rows.length,[S,D,g]),M=O?_.jsxs(Nt,{align:"center",gap:"sm",children:[(n=(t=h.selectedCountOfRowCountRowsSelected)===null||t===void 0?void 0:t.replace("{selectedCount}",O.toString()))===null||n===void 0?void 0:n.replace("{rowCount}",D.toString()),_.jsx(qt,{onClick:L=>p4e({table:s})(L,!1,!0),size:"compact-xs",variant:"subtle",children:h.clearSelection})]}):null,$=C.length>0?_.jsxs(Nt,{children:[h.groupedBy," ",C.map((L,z)=>_.jsxs(R.Fragment,{children:[z>0?h.thenBy:"",_.jsxs(nu,Object.assign({className:rw["alert-badge"],rightSection:_.jsx(Jn,{color:"white",onClick:()=>s.getColumn(L).toggleGrouping(),size:"xs",variant:"subtle",children:_.jsx(f,{style:{transform:"scale(0.8)"}})}),variant:"filled"},I,{children:[s.getColumn(L).columnDef.header," "]}))]},`${z}-${L}`))]}):null;return _.jsx(im,{in:T||!!M||!!$,transitionDuration:i?200:0,children:_.jsx($f,Object.assign({color:"blue",icon:!1},A,{className:kt(rw.alert,i&&!y&&rw["alert-stacked"],!i&&y==="bottom"&&rw["alert-bottom"],A==null?void 0:A.className),children:(r=v==null?void 0:v({groupedAlert:$,selectedAlert:M,table:s}))!==null&&r!==void 0?r:_.jsxs(Nt,{className:kt(rw["toolbar-alert"],y==="head-overlay"&&rw["head-overlay"],E),children:[c&&d&&y==="head-overlay"&&_.jsx(vq,{table:s}),_.jsxs(fs,{children:[A==null?void 0:A.children,M,$]})]})}))})},SXt=e=>{var{columnVirtualizer:t,table:n}=e,r=pn(e,["columnVirtualizer","table"]);const{getHeaderGroups:i,getSelectedRowModel:s,getState:o,options:{enableStickyHeader:a,layoutMode:l,mantineTableHeadProps:u,positionToolbarAlertBanner:c},refs:{tableHeadRef:d}}=n,{isFullScreen:f,showAlertBanner:h}=o(),p=Object.assign(Object.assign({},Mt(u,{table:n})),r),m=a||f;return _.jsx(RW,Object.assign({},p,{className:kt(Km.root,l!=null&&l.startsWith("grid")?Km["root-grid"]:Km["root-table-row-group"],m&&Km["root-sticky"],p==null?void 0:p.className),pos:m&&(l!=null&&l.startsWith("grid"))?"sticky":"relative",ref:g=>{d.current=g,p!=null&&p.ref&&(p.ref.current=g)},children:c==="head-overlay"&&(h||s().rows.length>0)?_.jsx(Cp,{className:kt(Km["banner-tr"],(l==null?void 0:l.startsWith("grid"))&&Km.grid),children:_.jsx(bx,{className:kt(Km["banner-th"],(l==null?void 0:l.startsWith("grid"))&&Km.grid),colSpan:n.getVisibleLeafColumns().length,children:_.jsx(Hee,{table:n})})}):i().map(g=>_.jsx(CXt,{columnVirtualizer:t,headerGroup:g,table:n},g.id))}))};var p0e={root:"MRT_GlobalFilterTextInput-module_root__Xmcpv",collapse:"MRT_GlobalFilterTextInput-module_collapse__v311d"};const wB=e=>{var{table:t}=e,n=pn(e,["table"]);const{getState:r,options:{enableGlobalFilterModes:i,icons:{IconSearch:s,IconX:o},localization:a,mantineSearchTextInputProps:l,manualFiltering:u,positionGlobalFilter:c},refs:{searchInputRef:d},setGlobalFilter:f}=t,{globalFilter:h,showGlobalFilter:p}=r(),m=Object.assign(Object.assign({},Mt(l,{table:t})),n),g=R.useRef(!1),[y,v]=R.useState(h??""),[w]=Mge(y,u?500:250);R.useEffect(()=>{f(w||void 0)},[w]);const E=()=>{v(""),f(void 0)};return R.useEffect(()=>{g.current&&(h===void 0?E():v(h)),g.current=!0},[h]),_.jsxs(im,{className:p0e.collapse,in:p,children:[i&&_.jsxs(mn,{withinPortal:!0,children:[_.jsx(mn.Target,{children:_.jsx(Jn,{"aria-label":a.changeSearchMode,color:"gray",size:"sm",variant:"transparent",children:_.jsx(s,{})})}),_.jsx($4e,{onSelect:E,table:t})]}),_.jsx(Uu,Object.assign({leftSection:!i&&_.jsx(s,{}),mt:0,mx:c!=="left"?"mx":void 0,onChange:C=>v(C.target.value),placeholder:a.search,rightSection:y?_.jsx(Jn,{"aria-label":a.clearSearch,color:"gray",disabled:!(y!=null&&y.length),onClick:E,size:"sm",variant:"transparent",children:_.jsx(zt,{label:a.clearSearch,withinPortal:!0,children:_.jsx(o,{})})}):null,value:y??"",variant:"filled"},m,{className:kt("mrt-global-filter-text-input",p0e.root,m==null?void 0:m.className),ref:C=>{C&&(d.current=C,m!=null&&m.ref&&(m.ref=C))}}))]})},TXt=(e,t,n=-1,r=0,i,s)=>gE(e,"mrt-row-create",Object.assign({},...a$(e.options.columns).map(o=>({[cx(o)]:""}))),n,r,i,s),AXt=e=>Object.assign({Cell:({cell:t,row:n,table:r})=>_.jsx(nXt,{cell:t,row:n,table:r})},Xb({header:"actions",id:"mrt-row-actions",size:70,tableOptions:e})),kXt=e=>Object.assign({Cell:({row:t,rowRef:n,table:r})=>_.jsx(BKt,{row:t,rowRef:n,table:r}),grow:!1},Xb({header:"move",id:"mrt-row-drag",size:60,tableOptions:e})),IXt=e=>{var t;const{defaultColumn:n,enableExpandAll:r,groupedColumnMode:i,positionExpandColumn:s,renderDetailPanel:o,state:{grouping:a}}=e,l=s==="last"?{align:"right"}:void 0;return Object.assign({Cell:({cell:u,column:c,row:d,table:f})=>{var h,p,m;const g={row:d,table:f},y=(h=d.subRows)===null||h===void 0?void 0:h.length;return e.groupedColumnMode==="remove"&&d.groupingColumnId?_.jsxs(Nt,{align:"center",gap:"0.25rem",children:[_.jsx(gq,Object.assign({},g)),_.jsx(zt,{label:f.getColumn(d.groupingColumnId).columnDef.header,openDelay:1e3,position:"right",children:_.jsx("span",{children:d.groupingValue})}),!!y&&_.jsxs("span",{children:["(",y,")"]})]}):_.jsxs(_.Fragment,{children:[_.jsx(gq,Object.assign({},g)),(m=(p=c.columnDef).GroupedCell)===null||m===void 0?void 0:m.call(p,{cell:u,column:c,row:d,table:f})]})},Header:r?({table:u})=>{var c;return _.jsxs(Nt,{align:"center",children:[_.jsx(qKt,{table:u}),i==="remove"&&((c=a==null?void 0:a.map(d=>u.getColumn(d).columnDef.header))===null||c===void 0?void 0:c.join(", "))]})}:void 0,mantineTableBodyCellProps:l,mantineTableHeadCellProps:l},Xb({header:"expand",id:"mrt-row-expand",size:i==="remove"?(t=n==null?void 0:n.size)!==null&&t!==void 0?t:180:o?r?60:70:100,tableOptions:e}))},RXt=e=>{const{localization:t,rowNumberDisplayMode:n}=e,{pagination:{pageIndex:r,pageSize:i}}=e.state;return Object.assign({Cell:({renderedRowIndex:s=0,row:o})=>{var a;return((a=n==="static"?s+i*r:o.index)!==null&&a!==void 0?a:0)+1},grow:!1,Header:()=>t.rowNumber},Xb({header:"rowNumbers",id:"mrt-row-numbers",size:50,tableOptions:e}))},DXt=e=>Object.assign({Cell:({row:t,table:n})=>_.jsx(zKt,{row:t,table:n}),grow:!1},Xb({header:"pin",id:"mrt-row-pin",size:60,tableOptions:e})),PXt=e=>{const{enableMultiRowSelection:t,enableSelectAll:n}=e;return Object.assign({Cell:({renderedRowIndex:r,row:i,table:s})=>_.jsx(vq,{renderedRowIndex:r,row:i,table:s}),grow:!1,Header:n&&t?({table:r})=>_.jsx(vq,{table:r}):void 0},Xb({header:"select",id:"mrt-row-select",size:n?60:70,tableOptions:e}))},OXt=Object.assign({},x3),NXt={IconArrowAutofitContent:MVe,IconArrowsSort:LVe,IconBaselineDensityLarge:BVe,IconBaselineDensityMedium:zVe,IconBaselineDensitySmall:UVe,IconBoxMultiple:HVe,IconChevronDown:Wbe,IconChevronLeft:KVe,IconChevronLeftPipe:YVe,IconChevronRight:QVe,IconChevronRightPipe:XVe,IconChevronsDown:JVe,IconCircleX:ZVe,IconClearAll:eWe,IconColumns:nWe,IconDeviceFloppy:iWe,IconDots:Kbe,IconDotsVertical:Ybe,IconEdit:oWe,IconEyeOff:lWe,IconFilter:dWe,IconFilterCog:uWe,IconFilterOff:cWe,IconGripHorizontal:fWe,IconMaximize:yWe,IconMinimize:vWe,IconPinned:EWe,IconPinnedOff:_We,IconSearch:kWe,IconSearchOff:AWe,IconSortAscending:RWe,IconSortDescending:DWe,IconX:Av},$Xt={actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSelection:"Clear selection",clearSort:"Clear sort",clickToCopy:"Click to copy",copy:"Copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pin:"Pin",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all"},MXt={filterVariant:"text",maxSize:1e3,minSize:40,size:180},F4e={columnDefType:"display",enableClickToCopy:!1,enableColumnActions:!1,enableColumnDragging:!1,enableColumnFilter:!1,enableColumnOrdering:!1,enableEditing:!1,enableGlobalFilter:!1,enableGrouping:!1,enableHiding:!1,enableResizing:!1,enableSorting:!1},FXt=e=>{var t,{aggregationFns:n,autoResetExpanded:r=!1,columnFilterDisplayMode:i="subheader",columnResizeDirection:s,columnResizeMode:o="onChange",createDisplayMode:a="modal",defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c="modal",enableBatchRowSelection:d=!0,enableBottomToolbar:f=!0,enableColumnActions:h=!0,enableColumnFilters:p=!0,enableColumnOrdering:m=!1,enableColumnPinning:g=!1,enableColumnResizing:y=!1,enableColumnVirtualization:v,enableDensityToggle:w=!0,enableExpandAll:E=!0,enableExpanding:C,enableFacetedValues:S=!1,enableFilterMatchHighlighting:T=!0,enableFilters:A=!0,enableFullScreenToggle:I=!0,enableGlobalFilter:D=!0,enableGlobalFilterRankedResults:O=!0,enableGrouping:M=!1,enableHeaderActionsHoverReveal:$=!1,enableHiding:L=!0,enableMultiRowSelection:z=!0,enableMultiSort:B=!0,enablePagination:W=!0,enableRowPinning:V=!1,enableRowSelection:X=!1,enableRowVirtualization:U,enableSelectAll:F=!0,enableSorting:G=!0,enableStickyHeader:q=!1,enableTableFooter:Y=!0,enableTableHead:J=!0,enableToolbarInternalActions:te=!0,enableTopToolbar:ue=!0,filterFns:se,icons:ne,layoutMode:fe,localization:ee,manualFiltering:ie,manualGrouping:he,manualPagination:ye,manualSorting:Ce,paginationDisplayMode:Re="default",positionActionsColumn:De="first",positionCreatingRow:be="top",positionExpandColumn:je="first",positionGlobalFilter:Qe="right",positionPagination:it="bottom",positionToolbarAlertBanner:Ke="top",positionToolbarDropZone:Pe="top",rowNumberDisplayMode:ze="static",rowPinningDisplayMode:ot="sticky",selectAllMode:xe="page",sortingFns:Te}=e,nt=pn(e,["aggregationFns","autoResetExpanded","columnFilterDisplayMode","columnResizeDirection","columnResizeMode","createDisplayMode","defaultColumn","defaultDisplayColumn","editDisplayMode","enableBatchRowSelection","enableBottomToolbar","enableColumnActions","enableColumnFilters","enableColumnOrdering","enableColumnPinning","enableColumnResizing","enableColumnVirtualization","enableDensityToggle","enableExpandAll","enableExpanding","enableFacetedValues","enableFilterMatchHighlighting","enableFilters","enableFullScreenToggle","enableGlobalFilter","enableGlobalFilterRankedResults","enableGrouping","enableHeaderActionsHoverReveal","enableHiding","enableMultiRowSelection","enableMultiSort","enablePagination","enableRowPinning","enableRowSelection","enableRowVirtualization","enableSelectAll","enableSorting","enableStickyHeader","enableTableFooter","enableTableHead","enableToolbarInternalActions","enableTopToolbar","filterFns","icons","layoutMode","localization","manualFiltering","manualGrouping","manualPagination","manualSorting","paginationDisplayMode","positionActionsColumn","positionCreatingRow","positionExpandColumn","positionGlobalFilter","positionPagination","positionToolbarAlertBanner","positionToolbarDropZone","rowNumberDisplayMode","rowPinningDisplayMode","selectAllMode","sortingFns"]);const ht=Ga();return ne=R.useMemo(()=>Object.assign(Object.assign({},NXt),ne),[ne]),ee=R.useMemo(()=>Object.assign(Object.assign({},$Xt),ee),[ee]),n=R.useMemo(()=>Object.assign(Object.assign({},OXt),n),[]),se=R.useMemo(()=>Object.assign(Object.assign({},aXt),se),[]),Te=R.useMemo(()=>Object.assign(Object.assign({},DKt),Te),[]),l=R.useMemo(()=>Object.assign(Object.assign({},MXt),l),[l]),u=R.useMemo(()=>Object.assign(Object.assign({},F4e),u),[u]),[v,U]=R.useMemo(()=>[v,U],[]),s||(s=ht.dir||"ltr"),fe=fe||(y?"grid-no-grow":"semantic"),fe==="semantic"&&(U||v)&&(fe="grid"),U&&(q=!0),W===!1&&ye===void 0&&(ye=!0),!((t=nt.data)===null||t===void 0)&&t.length||(ie=!0,he=!0,ye=!0,Ce=!0),Object.assign({aggregationFns:n,autoResetExpanded:r,columnFilterDisplayMode:i,columnResizeDirection:s,columnResizeMode:o,createDisplayMode:a,defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c,enableBatchRowSelection:d,enableBottomToolbar:f,enableColumnActions:h,enableColumnFilters:p,enableColumnOrdering:m,enableColumnPinning:g,enableColumnResizing:y,enableColumnVirtualization:v,enableDensityToggle:w,enableExpandAll:E,enableExpanding:C,enableFacetedValues:S,enableFilterMatchHighlighting:T,enableFilters:A,enableFullScreenToggle:I,enableGlobalFilter:D,enableGlobalFilterRankedResults:O,enableGrouping:M,enableHeaderActionsHoverReveal:$,enableHiding:L,enableMultiRowSelection:z,enableMultiSort:B,enablePagination:W,enableRowPinning:V,enableRowSelection:X,enableRowVirtualization:U,enableSelectAll:F,enableSorting:G,enableStickyHeader:q,enableTableFooter:Y,enableTableHead:J,enableToolbarInternalActions:te,enableTopToolbar:ue,filterFns:se,getCoreRowModel:jGt(),getExpandedRowModel:C||M?BGt():void 0,getFacetedMinMaxValues:S?zGt():void 0,getFacetedRowModel:S?qGt():void 0,getFacetedUniqueValues:S?VGt():void 0,getFilteredRowModel:p||D||A?WGt():void 0,getGroupedRowModel:M?GGt():void 0,getPaginationRowModel:W?KGt():void 0,getSortedRowModel:G?XGt():void 0,getSubRows:st=>st==null?void 0:st.subRows,icons:ne,layoutMode:fe,localization:ee,manualFiltering:ie,manualGrouping:he,manualPagination:ye,manualSorting:Ce,paginationDisplayMode:Re,positionActionsColumn:De,positionCreatingRow:be,positionExpandColumn:je,positionGlobalFilter:Qe,positionPagination:it,positionToolbarAlertBanner:Ke,positionToolbarDropZone:Pe,rowNumberDisplayMode:ze,rowPinningDisplayMode:ot,selectAllMode:xe,sortingFns:Te},nt)},xB={children:null,style:{minWidth:0,padding:0,width:0}},LXt=e=>Object.assign(Object.assign(Object.assign(Object.assign({},Xb({id:"mrt-row-spacer",size:0,tableOptions:e})),{grow:!0}),F4e),{mantineTableBodyCellProps:xB,mantineTableFooterCellProps:xB,mantineTableHeadCellProps:xB}),jXt=e=>{const{getIsSomeRowsPinned:t,getPrePaginationRowModel:n,getState:r,options:{enablePagination:i,enableRowPinning:s,rowCount:o}}=e,{columnOrder:a,density:l,globalFilter:u,isFullScreen:c,isLoading:d,pagination:f,showSkeletons:h,sorting:p}=r(),m=e.options.columns.length,g=o??n().rows.length,y=R.useReducer(()=>({}),{})[1],v=R.useRef(),w=R.useRef();R.useEffect(()=>{typeof window<"u"&&(v.current=document.body.style.height)},[]),R.useEffect(()=>{if(typeof window<"u")if(c)w.current=document.body.getBoundingClientRect().top,document.body.style.height="100dvh";else{if(document.body.style.height=v.current,!w.current)return;window.scrollTo({behavior:"instant",top:-1*w.current})}},[c]),R.useEffect(()=>{m!==a.length&&e.setColumnOrder(jee(e.options))},[m]),R.useEffect(()=>{if(!i||d||h)return;const{pageIndex:C,pageSize:S}=f,T=C*S;T>=g&&T>0&&e.setPageIndex(Math.ceil(g/S)-1)},[g]);const E=R.useRef(p);R.useEffect(()=>{p.length&&(E.current=p)},[p]),R.useEffect(()=>{h4e(e)&&(u?e.setSorting([]):e.setSorting(()=>E.current||[]))},[u]),R.useEffect(()=>{s&&t()&&setTimeout(()=>{y()},150)},[l])},BXt=e=>{var t,n,r,i,s,o,a,l,u,c,d,f,h,p,m,g,y,v,w,E,C,S,T,A,I,D,O,M,$,L,z,B,W;const V=R.useRef(null),X=R.useRef(null),U=R.useRef({}),F=R.useRef({}),G=R.useRef(null),q=R.useRef(null),Y=R.useRef({}),J=R.useRef(null),te=R.useRef(null),ue=R.useRef(null),se=R.useRef(null),ne=R.useMemo(()=>{var sr,En,Ar;const Jr=(sr=e.initialState)!==null&&sr!==void 0?sr:{};return Jr.columnOrder=(En=Jr.columnOrder)!==null&&En!==void 0?En:jee(Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.initialState),e.state)})),Jr.globalFilterFn=(Ar=e.globalFilterFn)!==null&&Ar!==void 0?Ar:"fuzzy",Jr},[]);e.initialState=ne;const[fe,ee]=R.useState((t=ne.creatingRow)!==null&&t!==void 0?t:null),[ie,he]=R.useState(()=>Object.assign({},...a$(e.columns).map(sr=>{var En,Ar,Jr,_i;return{[cx(sr)]:sr.filterFn instanceof Function?(En=sr.filterFn.name)!==null&&En!==void 0?En:"custom":(_i=(Ar=sr.filterFn)!==null&&Ar!==void 0?Ar:(Jr=ne==null?void 0:ne.columnFilterFns)===null||Jr===void 0?void 0:Jr[cx(sr)])!==null&&_i!==void 0?_i:VKt(sr)}}))),[ye,Ce]=R.useState((n=ne.columnOrder)!==null&&n!==void 0?n:[]),[Re,De]=R.useState((r=ne.columnSizingInfo)!==null&&r!==void 0?r:{}),[be,je]=R.useState((i=ne==null?void 0:ne.density)!==null&&i!==void 0?i:"md"),[Qe,it]=R.useState((s=ne.draggingColumn)!==null&&s!==void 0?s:null),[Ke,Pe]=R.useState((o=ne.draggingRow)!==null&&o!==void 0?o:null),[ze,ot]=R.useState((a=ne.editingCell)!==null&&a!==void 0?a:null),[xe,Te]=R.useState((l=ne.editingRow)!==null&&l!==void 0?l:null),[nt,ht]=R.useState((u=ne.globalFilterFn)!==null&&u!==void 0?u:"fuzzy"),[st,Ot]=R.useState((c=ne.grouping)!==null&&c!==void 0?c:[]),[Qt,kn]=R.useState((d=ne.hoveredColumn)!==null&&d!==void 0?d:null),[Yn,gn]=R.useState((f=ne.hoveredRow)!==null&&f!==void 0?f:null),[Tn,er]=R.useState((h=ne==null?void 0:ne.isFullScreen)!==null&&h!==void 0?h:!1),[Nn,Ni]=R.useState((p=ne==null?void 0:ne.pagination)!==null&&p!==void 0?p:{pageIndex:0,pageSize:10}),[Kn,Or]=R.useState((m=ne==null?void 0:ne.showAlertBanner)!==null&&m!==void 0?m:!1),[Vr,Xn]=R.useState((g=ne==null?void 0:ne.showColumnFilters)!==null&&g!==void 0?g:!1),[Gi,zo]=R.useState((y=ne==null?void 0:ne.showGlobalFilter)!==null&&y!==void 0?y:!1),[ys,tr]=R.useState((v=ne==null?void 0:ne.showToolbarDropZone)!==null&&v!==void 0?v:!1);e.state=Object.assign({columnFilterFns:ie,columnOrder:ye,columnSizingInfo:Re,creatingRow:fe,density:be,draggingColumn:Qe,draggingRow:Ke,editingCell:ze,editingRow:xe,globalFilterFn:nt,grouping:st,hoveredColumn:Qt,hoveredRow:Yn,isFullScreen:Tn,pagination:Nn,showAlertBanner:Kn,showColumnFilters:Vr,showGlobalFilter:Gi,showToolbarDropZone:ys},e.state);const _t=e,Fr=R.useRef([]);_t.columns=_t.state.columnSizingInfo.isResizingColumn||_t.state.draggingColumn||_t.state.draggingRow?Fr.current:v4e({columnDefs:[...[x4e(_t)&&DXt(_t),_4e(_t)&&kXt(_t),Lee(_t)&&AXt(_t),Fee(_t)&&IXt(_t),E4e(_t)&&PXt(_t),C4e(_t)&&RXt(_t)].filter(Boolean),..._t.columns,...[S4e(_t)&&LXt(_t)].filter(Boolean)],tableOptions:_t}),Fr.current=_t.columns,_t.data=R.useMemo(()=>(_t.state.isLoading||_t.state.showSkeletons)&&!_t.data.length?[...Array(Math.min(_t.state.pagination.pageSize,20)).fill(null)].map(()=>Object.assign({},...a$(_t.columns).map(sr=>({[cx(sr)]:null})))):_t.data,[_t.data,_t.state.isLoading,_t.state.showSkeletons]);const hn=QGt(Object.assign(Object.assign({onColumnOrderChange:Ce,onColumnSizingInfoChange:De,onGroupingChange:Ot,onPaginationChange:Ni},_t),{globalFilterFn:(w=_t.filterFns)===null||w===void 0?void 0:w[nt??"fuzzy"]}));return hn.refs={bottomToolbarRef:X,editInputRefs:U,filterInputRefs:F,lastSelectedRowId:V,searchInputRef:G,tableContainerRef:q,tableFooterRef:se,tableHeadCellRefs:Y,tableHeadRef:ue,tablePaperRef:J,topToolbarRef:te},hn.setCreatingRow=sr=>{let En=sr;sr===!0&&(En=TXt(hn)),_t!=null&&_t.onCreatingRowChange?_t.onCreatingRowChange(En):ee(En)},hn.setColumnFilterFns=(E=_t.onColumnFilterFnsChange)!==null&&E!==void 0?E:he,hn.setDensity=(C=_t.onDensityChange)!==null&&C!==void 0?C:je,hn.setDraggingColumn=(S=_t.onDraggingColumnChange)!==null&&S!==void 0?S:it,hn.setDraggingRow=(T=_t.onDraggingRowChange)!==null&&T!==void 0?T:Pe,hn.setEditingCell=(A=_t.onEditingCellChange)!==null&&A!==void 0?A:ot,hn.setEditingRow=(I=_t.onEditingRowChange)!==null&&I!==void 0?I:Te,hn.setGlobalFilterFn=(D=_t.onGlobalFilterFnChange)!==null&&D!==void 0?D:ht,hn.setHoveredColumn=(O=_t.onHoveredColumnChange)!==null&&O!==void 0?O:kn,hn.setHoveredRow=(M=_t.onHoveredRowChange)!==null&&M!==void 0?M:gn,hn.setIsFullScreen=($=_t.onIsFullScreenChange)!==null&&$!==void 0?$:er,hn.setShowAlertBanner=(L=_t.onShowAlertBannerChange)!==null&&L!==void 0?L:Or,hn.setShowColumnFilters=(z=_t.onShowColumnFiltersChange)!==null&&z!==void 0?z:Xn,hn.setShowGlobalFilter=(B=_t.onShowGlobalFilterChange)!==null&&B!==void 0?B:zo,hn.setShowToolbarDropZone=(W=_t.onShowToolbarDropZoneChange)!==null&&W!==void 0?W:tr,jXt(hn),hn},L4e=e=>BXt(FXt(e));var zXt={root:"MRT_TablePaper-module_root__q0v5L"},_B={root:"MRT_TableContainer-module_root__JIsGB","root-sticky":"MRT_TableContainer-module_root-sticky__uC4qx","root-fullscreen":"MRT_TableContainer-module_root-fullscreen__aM8Jg"},m0e={root:"MRT_Table-module_root__ms2uS","root-grid":"MRT_Table-module_root-grid__2Pynz"};const UXt=e=>{var t,n,r,i;const{getLeftLeafColumns:s,getRightLeafColumns:o,getState:a,getVisibleLeafColumns:l,options:{columnVirtualizerInstanceRef:u,columnVirtualizerOptions:c,enableColumnPinning:d,enableColumnVirtualization:f},refs:{tableContainerRef:h}}=e,{columnPinning:p,draggingColumn:m}=a();if(!f)return;const g=Mt(c,{table:e}),y=l(),[v,w]=R.useMemo(()=>d?[s().map(D=>D.getPinnedIndex()),o().map(D=>y.length-D.getPinnedIndex()-1).sort((D,O)=>D-O)]:[[],[]],[y.length,p,d]),E=v.length,C=w.length,S=R.useMemo(()=>m!=null&&m.id?y.findIndex(D=>D.id===(m==null?void 0:m.id)):void 0,[m==null?void 0:m.id]),T=K$e(Object.assign({count:y.length,estimateSize:D=>y[D].getSize(),getScrollElement:()=>h.current,horizontal:!0,overscan:3,rangeExtractor:R.useCallback(D=>{const O=m4e(D,S);return!E&&!C?O:[...new Set([...v,...O,...w])]},[v,w,S])},g)),A=T.getVirtualItems();T.virtualColumns=A;const I=A.length;if(I){const D=T.getTotalSize(),O=((t=A[E])===null||t===void 0?void 0:t.start)||0,M=((n=A[v.length-1])===null||n===void 0?void 0:n.end)||0,$=((r=A[I-C])===null||r===void 0?void 0:r.start)||0,L=((i=A[I-C-1])===null||i===void 0?void 0:i.end)||0;T.virtualPaddingLeft=O-M,T.virtualPaddingRight=D-L-(C?D-$:0)}return u&&(u.current=T),T},HXt=e=>{var{table:t}=e,n=pn(e,["table"]);const{getFlatHeaders:r,getState:i,options:{columns:s,enableTableFooter:o,enableTableHead:a,layoutMode:l,mantineTableProps:u,memoMode:c}}=t,{columnSizing:d,columnSizingInfo:f,columnVisibility:h,density:p}=i(),m=Object.assign(Object.assign({highlightOnHover:!0,horizontalSpacing:p,verticalSpacing:p},Mt(u,{table:t})),n),g=R.useMemo(()=>{const C=r(),S={};for(let T=0;T<C.length;T++){const A=C[T],I=A.getSize();S[`--header-${yd(A.id)}-size`]=I,S[`--col-${yd(A.column.id)}-size`]=I}return S},[s,d,f,h]),v={columnVirtualizer:UXt(t),table:t},{colorScheme:w}=XFe(),{stripedColor:E}=m;return _.jsxs(Vn,Object.assign({className:kt("mrt-table",m0e.root,(l==null?void 0:l.startsWith("grid"))&&m0e["root-grid"],m.className)},m,{__vars:Object.assign(Object.assign(Object.assign({},g),{"--mrt-striped-row-background-color":E,"--mrt-striped-row-hover-background-color":E?w==="dark"?KFe(E,.08):HC(E,.12):void 0}),m.__vars),children:[a&&_.jsx(SXt,Object.assign({},v)),c==="table-body"||f.isResizingColumn?_.jsx(LKt,Object.assign({},v,{tableProps:m})):_.jsx(g4e,Object.assign({},v,{tableProps:m})),o&&_.jsx(sXt,Object.assign({},v))]}))},qXt=e=>{var t,{open:n,table:r}=e,i=pn(e,["open","table"]);const{getState:s,options:{mantineCreateRowModalProps:o,mantineEditRowModalProps:a,onCreatingRowCancel:l,onEditingRowCancel:u,renderCreateRowModalContent:c,renderEditRowModalContent:d},setCreatingRow:f,setEditingRow:h}=r,{creatingRow:p,editingRow:m}=s(),g=p??m,y={row:g,table:r},v=Object.assign(Object.assign(Object.assign({},Mt(a,y)),p&&Mt(o,y)),i),w=g.getAllCells().filter(C=>C.column.columnDef.columnDefType==="data").map(C=>_.jsx(q5,{cell:C,table:r},C.id)),E=()=>{var C;p?(l==null||l({row:g,table:r}),f(null)):(u==null||u({row:g,table:r}),h(null)),g._valuesCache={},(C=v.onClose)===null||C===void 0||C.call(v)};return R.createElement(pi,Object.assign({opened:n,withCloseButton:!1},v,{key:g.id,onClose:E}),(t=p&&(c==null?void 0:c({internalEditComponents:w,row:g,table:r}))||(d==null?void 0:d({internalEditComponents:w,row:g,table:r})))!==null&&t!==void 0?t:_.jsxs(_.Fragment,{children:[_.jsx("form",{onSubmit:C=>C.preventDefault(),children:_.jsx(fs,{gap:"lg",pb:24,pt:16,children:w})}),_.jsx(Nt,{justify:"flex-end",children:_.jsx(y4e,{row:g,table:r,variant:"text"})})]}))},VXt=typeof window<"u"?R.useLayoutEffect:R.useEffect,WXt=e=>{var{table:t}=e,n=pn(e,["table"]);const{getState:r,options:{createDisplayMode:i,editDisplayMode:s,enableStickyHeader:o,mantineLoadingOverlayProps:a,mantineTableContainerProps:l},refs:{bottomToolbarRef:u,tableContainerRef:c,topToolbarRef:d}}=t,{creatingRow:f,editingRow:h,isFullScreen:p,isLoading:m,showLoadingOverlay:g}=r(),[y,v]=R.useState(0),w=Object.assign(Object.assign({},Mt(l,{table:t})),n),E=Mt(a,{table:t});VXt(()=>{var T,A,I,D;const O=typeof document<"u"&&(A=(T=d.current)===null||T===void 0?void 0:T.offsetHeight)!==null&&A!==void 0?A:0,M=typeof document<"u"&&(D=(I=u==null?void 0:u.current)===null||I===void 0?void 0:I.offsetHeight)!==null&&D!==void 0?D:0;v(O+M)});const C=i==="modal"&&f,S=s==="modal"&&h;return _.jsxs(Se,Object.assign({},w,{__vars:Object.assign({"--mrt-top-toolbar-height":`${y}`},w==null?void 0:w.__vars),className:kt("mrt-table-container",_B.root,o&&_B["root-sticky"],p&&_B["root-fullscreen"],w==null?void 0:w.className),ref:T=>{T&&(c.current=T,w!=null&&w.ref&&(w.ref.current=T))},children:[_.jsx(Ju,Object.assign({visible:m||g,zIndex:2},E)),_.jsx(HXt,{table:t}),(C||S)&&_.jsx(qXt,{open:!0,table:t})]}))};var j4e={"common-toolbar-styles":"common-styles-module_common-toolbar-styles__DnjR8"},LC={root:"MRT_BottomToolbar-module_root__VDeWo","root-fullscreen":"MRT_BottomToolbar-module_root-fullscreen__esE15","custom-toolbar-container":"MRT_BottomToolbar-module_custom-toolbar-container__XcDRF","paginator-container":"MRT_BottomToolbar-module_paginator-container__A3eWY","paginator-container-alert-banner":"MRT_BottomToolbar-module_paginator-container-alert-banner__gyqtO"},g0e={collapse:"MRT_ProgressBar-module_collapse__rOLJH","collapse-top":"MRT_ProgressBar-module_collapse-top__oCi0h"};const B4e=e=>{var{isTopToolbar:t,table:n}=e,r=pn(e,["isTopToolbar","table"]);const{getState:i,options:{mantineProgressProps:s}}=n,{isSaving:o,showProgressBars:a}=i(),l=Object.assign(Object.assign({},Mt(s,{isTopToolbar:t,table:n})),r);return _.jsx(im,{className:kt(g0e.collapse,t&&g0e["collapse-top"]),in:o||a,children:_.jsx(vb,Object.assign({animated:!0,"aria-busy":"true","aria-label":"Loading",radius:0,value:100},l))})};var EB={root:"MRT_TablePagination-module_root__yZ8pm",pagesize:"MRT_TablePagination-module_pagesize__-vmTn","with-top-margin":"MRT_TablePagination-module_with-top-margin__aM5-m"};const y0e=[5,10,15,20,25,30,50,100].map(e=>e.toString()),z4e=e=>{var t,{position:n="bottom",table:r}=e,i=pn(e,["position","table"]);const{getPrePaginationRowModel:s,getState:o,options:{enableToolbarInternalActions:a,icons:{IconChevronLeft:l,IconChevronLeftPipe:u,IconChevronRight:c,IconChevronRightPipe:d},localization:f,mantinePaginationProps:h,paginationDisplayMode:p,rowCount:m},setPageIndex:g,setPageSize:y}=r,{pagination:{pageIndex:v=0,pageSize:w=10},showGlobalFilter:E}=o(),C=Object.assign(Object.assign({},Mt(h,{table:r})),i),S=m??s().rows.length,T=Math.ceil(S/w),A=T>2,I=v*w,D=Math.min(v*w+w,S),O=C??{},{rowsPerPageOptions:M=y0e,showRowsPerPage:$=!0,withEdges:L=A}=O,z=pn(O,["rowsPerPageOptions","showRowsPerPage","withEdges"]),B=n==="top"&&a&&!E;return _.jsxs(Se,{className:kt("mrt-table-pagination",EB.root,B&&EB["with-top-margin"]),children:[(C==null?void 0:C.showRowsPerPage)!==!1&&_.jsxs(Pi,{gap:"xs",children:[_.jsx(tt,{id:"rpp-label",children:f.rowsPerPage}),_.jsx(vg,{allowDeselect:!1,"aria-labelledby":"rpp-label",className:EB.pagesize,data:(t=C==null?void 0:C.rowsPerPageOptions)!==null&&t!==void 0?t:y0e,onChange:W=>y(+W),value:w.toString()})]}),p==="pages"?_.jsx($d,Object.assign({firstIcon:u,lastIcon:d,nextIcon:c,onChange:W=>g(W-1),previousIcon:l,total:T,value:v+1,withEdges:L},z)):p==="default"?_.jsxs(_.Fragment,{children:[_.jsx(tt,{children:`${D===0?0:(I+1).toLocaleString()}-${D.toLocaleString()} ${f.of} ${S.toLocaleString()}`}),_.jsxs(Pi,{gap:6,children:[L&&_.jsx(Jn,{"aria-label":f.goToFirstPage,color:"gray",disabled:v<=0,onClick:()=>g(0),variant:"subtle",children:_.jsx(u,{})}),_.jsx(Jn,{"aria-label":f.goToPreviousPage,color:"gray",disabled:v<=0,onClick:()=>g(v-1),variant:"subtle",children:_.jsx(l,{})}),_.jsx(Jn,{"aria-label":f.goToNextPage,color:"gray",disabled:D>=S,onClick:()=>g(v+1),variant:"subtle",children:_.jsx(c,{})}),L&&_.jsx(Jn,{"aria-label":f.goToLastPage,color:"gray",disabled:D>=S,onClick:()=>g(T-1),variant:"subtle",children:_.jsx(d,{})})]})]}):null]})};var v0e={root:"MRT_ToolbarDropZone-module_root__eGTXb",hovered:"MRT_ToolbarDropZone-module_hovered__g7PeJ"};const U4e=e=>{var{table:t}=e,n=pn(e,["table"]);const{getState:r,options:{enableGrouping:i,localization:s},setHoveredColumn:o,setShowToolbarDropZone:a}=t,{draggingColumn:l,grouping:u,hoveredColumn:c,showToolbarDropZone:d}=r(),f=h=>{o({id:"drop-zone"})};return R.useEffect(()=>{var h;((h=t.options.state)===null||h===void 0?void 0:h.showToolbarDropZone)!==void 0&&a(!!i&&!!l&&l.columnDef.enableGrouping!==!1&&!u.includes(l.id))},[i,l,u]),_.jsx(lc,{mounted:d,transition:"fade",children:()=>{var h,p;return _.jsx(Nt,Object.assign({className:kt("mrt-toolbar-dropzone",v0e.root,(c==null?void 0:c.id)==="drop-zone"&&v0e.hovered),onDragEnter:f},n,{children:_.jsx(tt,{children:s.dropToGroupBy.replace("{column}",(p=(h=l==null?void 0:l.columnDef)===null||h===void 0?void 0:h.header)!==null&&p!==void 0?p:"")})}))}})},GXt=e=>{var{table:t}=e,n=pn(e,["table"]);const{getState:r,options:{enablePagination:i,mantineBottomToolbarProps:s,positionPagination:o,positionToolbarAlertBanner:a,positionToolbarDropZone:l,renderBottomToolbarCustomActions:u},refs:{bottomToolbarRef:c}}=t,{isFullScreen:d}=r(),f=b2("(max-width: 720px)"),h=Object.assign(Object.assign({},Mt(s,{table:t})),n),p=f||!!u;return _.jsxs(Se,Object.assign({},h,{className:kt("mrt-bottom-toolbar",LC.root,j4e["common-toolbar-styles"],d&&LC["root-fullscreen"],h==null?void 0:h.className),ref:m=>{m&&(c.current=m,h!=null&&h.ref&&(h.ref.current=m))},children:[_.jsx(B4e,{isTopToolbar:!1,table:t}),a==="bottom"&&_.jsx(Hee,{stackAlertBanner:p,table:t}),["both","bottom"].includes(l??"")&&_.jsx(U4e,{table:t}),_.jsxs(Se,{className:LC["custom-toolbar-container"],children:[u?u({table:t}):_.jsx("span",{}),_.jsx(Se,{className:kt(LC["paginator-container"],p&&LC["paginator-container-alert-banner"]),children:i&&["both","bottom"].includes(o??"")&&_.jsx(z4e,{position:"bottom",table:t})})]})]}))};var kD={root:"MRT_TopToolbar-module_root__r4-V9","root-fullscreen":"MRT_TopToolbar-module_root-fullscreen__3itT8","actions-container":"MRT_TopToolbar-module_actions-container__-uL0u","actions-container-stack-alert":"MRT_TopToolbar-module_actions-container-stack-alert__OYDL6"},YXt={root:"MRT_ToolbarInternalButtons-module_root__NKoUG"};const KXt=e=>{var t,{table:n}=e,r=pn(e,["table"]);const{options:{columnFilterDisplayMode:i,enableColumnFilters:s,enableColumnOrdering:o,enableColumnPinning:a,enableDensityToggle:l,enableFilters:u,enableFullScreenToggle:c,enableGlobalFilter:d,enableHiding:f,initialState:h,renderToolbarInternalActions:p}}=n;return _.jsx(Nt,Object.assign({},r,{className:kt("mrt-toolbar-internal-buttons",YXt.root,r==null?void 0:r.className),children:(t=p==null?void 0:p({table:n}))!==null&&t!==void 0?t:_.jsxs(_.Fragment,{children:[u&&d&&!(h!=null&&h.showGlobalFilter)&&_.jsx(eXt,{table:n}),u&&s&&i!=="popover"&&_.jsx(JKt,{table:n}),(f||o||a)&&_.jsx(KKt,{table:n}),l&&_.jsx(QKt,{table:n}),c&&_.jsx(ZKt,{table:n})]})}))},XXt=e=>{var t,{table:n}=e,r=pn(e,["table"]);const{getState:i,options:{enableGlobalFilter:s,enablePagination:o,enableToolbarInternalActions:a,mantineTopToolbarProps:l,positionGlobalFilter:u,positionPagination:c,positionToolbarAlertBanner:d,positionToolbarDropZone:f,renderTopToolbarCustomActions:h},refs:{topToolbarRef:p}}=n,{isFullScreen:m,showGlobalFilter:g}=i(),y=b2("(max-width:720px)"),v=b2("(max-width:1024px)"),w=Object.assign(Object.assign({},Mt(l,{table:n})),r),E=y||!!h||g&&v,C={style:v?void 0:{zIndex:3},table:n};return _.jsxs(Se,Object.assign({},w,{className:kt(j4e["common-toolbar-styles"],kD.root,m&&kD["root-fullscreen"],w==null?void 0:w.className),ref:S=>{S&&(p.current=S,w!=null&&w.ref&&(w.ref.current=S))},children:[d==="top"&&_.jsx(Hee,{stackAlertBanner:E,table:n}),["both","top"].includes(f??"")&&_.jsx(U4e,{table:n}),_.jsxs(Nt,{className:kt(kD["actions-container"],E&&kD["actions-container-stack-alert"]),children:[s&&u==="left"&&_.jsx(wB,Object.assign({},C)),(t=h==null?void 0:h({table:n}))!==null&&t!==void 0?t:_.jsx("span",{}),a?_.jsxs(Nt,{justify:"end",wrap:"wrap-reverse",children:[s&&u==="right"&&_.jsx(wB,Object.assign({},C)),_.jsx(KXt,{table:n})]}):s&&u==="right"&&_.jsx(wB,Object.assign({},C))]}),o&&["both","top"].includes(c??"")&&_.jsx(Nt,{justify:"end",children:_.jsx(z4e,{position:"top",table:n})}),_.jsx(B4e,{isTopToolbar:!0,table:n})]}))},QXt=e=>{var t,n,{table:r}=e,i=pn(e,["table"]);const{getState:s,options:{enableBottomToolbar:o,enableTopToolbar:a,mantinePaperProps:l,renderBottomToolbar:u,renderTopToolbar:c},refs:{tablePaperRef:d}}=r,{isFullScreen:f}=s(),h=Object.assign(Object.assign({},Mt(l,{table:r})),i);return _.jsxs(pb,Object.assign({shadow:"xs",withBorder:!0},h,{className:kt("mrt-table-paper",zXt.root,f&&"mrt-table-paper-fullscreen",h==null?void 0:h.className),ref:p=>{d.current=p,h!=null&&h.ref&&(h.ref.current=p)},style:p=>Object.assign(Object.assign({zIndex:f?200:void 0},Mt(h==null?void 0:h.style,p)),f?{border:0,borderRadius:0,bottom:0,height:"100vh",left:0,margin:0,maxHeight:"100vh",maxWidth:"100vw",padding:0,position:"fixed",right:0,top:0,width:"100vw"}:null),children:[a&&((t=Mt(c,{table:r}))!==null&&t!==void 0?t:_.jsx(XXt,{table:r})),_.jsx(WXt,{table:r}),o&&((n=Mt(u,{table:r}))!==null&&n!==void 0?n:_.jsx(GXt,{table:r}))]}))},JXt=e=>e.table!==void 0,ZXt=e=>{let t;return JXt(e)?t=e.table:t=L4e(e),_.jsx(QXt,{table:t})};function eQt(e,t){if(!e)return null;if(t!=null&&t.uiConfig&&t.uiConfig.participantNameField){const[n,r]=t.uiConfig.participantNameField.split("."),i=Object.keys(e.answers).find(s=>s.startsWith(n));if(i)return`${e.answers[i].answer[r]}`}return null}function tQt({xScale:e,height:t,labelHeight:n=0,scaleStart:r}){return _.jsx("g",{children:_.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(r)+2,x2:e(r)+2,y1:t-45-n,y2:t-25})})}function nQt(){return R.useCallback((e,t,n)=>{const r=e.split("_").map(s=>Zr(+s)).join("/"),i=`${n}/${r}?participantId=${t}`;window.open(`${hs}${i}`,"_blank")},[])}const ID=3,iw=25,RD=25,DD=20,b0e=1,CB=15;function rQt({xScale:e,name:t,height:n,labelHeight:r=0,isCorrect:i,hasCorrect:s,scaleStart:o,scaleEnd:a,incomplete:l,trialOrder:u,participantId:c,studyId:d}){const[f,h]=R.useState(!1),[p,{width:m}]=RT(),g=nQt();return _.jsxs("g",{onClick:()=>g(u,c,d),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{cursor:"pointer"},children:[_.jsx("rect",{opacity:1,fill:f?"cornflowerblue":l?"#e9ecef":"lightgray",x:e(o)+b0e,width:e(a)-e(o)-b0e*2,y:n-iw,height:iw}),_.jsx("rect",{rx:3,opacity:1,x:e(o)-ID,width:m+ID*2+(s?CB:0),y:n-iw-RD-r,height:DD,fill:"whitesmoke"}),_.jsx("line",{stroke:"black",strokeWidth:1,x1:e(o)-ID,x2:m+e(o)+ID+(s?CB:0),y1:n-iw-RD+DD-r,y2:n-iw-RD+DD-r}),_.jsx("foreignObject",{x:e(o),width:m+(s?CB:0),y:n-iw-RD-r,height:DD,children:_.jsx(xd,{style:{width:"fit-content"},children:_.jsxs(Pi,{wrap:"nowrap",gap:2,children:[_.jsx(tt,{lineClamp:1,ref:p,mx:0,style:{width:"fit-content",fontWeight:600},size:"12px",children:t}),l?_.jsx(e1e,{color:"orange",size:"14"}):s?i?_.jsx(T2,{color:"var(--mantine-color-green-6)",style:{marginTop:2,strokeWidth:4},size:"14"}):_.jsx(Av,{color:"var(--mantine-color-red-6)",style:{marginTop:2,strokeWidth:4},size:14}):""]})})})]})}const SB=25,w0e=8,jC={left:20,top:20,right:20,bottom:20},iQt=(e,t)=>{const n=e[1].trialOrder.split("_"),r=t[1].trialOrder.split("_");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]};function sQt({participantData:e,width:t,studyId:n,studyConfig:r,maxLength:i}){const s=R.useMemo(()=>{const d=Object.entries(e.answers||{}).filter(f=>f[1].startTime===0);return(Object.entries(e.answers).length-d.length)/Object.entries(e.answers).length},[e.answers]),o=R.useMemo(()=>{const d=Object.values(e.answers||{}).filter(p=>p.startTime).map(p=>[p.startTime,p.endTime]).flat(),f=klt(d);return G2([jC.left,t*s-(s!==1?0:jC.right)]).domain([f[0],i?f[0]+i:f[1]]).clamp(!0)},[i,e.answers,s,t]),a=R.useMemo(()=>G2([t*s,t-jC.right]).domain([0,Object.entries(e.answers||{}).filter(f=>f[1].startTime===0).length]).clamp(!0),[e.answers,s,t]),l=R.useMemo(()=>{const d=Object.entries(e.answers||{}).filter(p=>!!p[1].startTime).sort((p,m)=>p[1].startTime-m[1].startTime);let f=0,h=0;return d.forEach((p,m)=>{const[g,y]=p,v=m>0?d[m-f-1]:null;v&&v[0].length*(w0e+1)+o(v[1].startTime)>o(y.startTime)?f+=1:f=0,f>h&&(h=f)}),(h+1)*SB+jC.top+jC.bottom},[e.answers,o]),u=R.useMemo(()=>{let d=0;const f=Object.entries(e.answers||{}).filter(g=>g[1].startTime===0).sort(iQt),p=[...Object.entries(e.answers||{}).filter(g=>!!g[1].startTime).sort((g,y)=>g[1].startTime-y[1].startTime),...f];return p.map((g,y)=>{const v=g[1].startTime===0?a:o,[w,E]=g,C=y>0?p[y-d-1]:null,S=C&&C[1].startTime?o:a,T=C?C[1].startTime?C[1].startTime:f.indexOf(C):0,A=E.startTime?E.startTime:f.indexOf(g),I=E.endTime>0?E.endTime:f.indexOf(g)+1;C&&C[0].length*(w0e+1)+S(T)>v(A)?d+=1:d=0;const D=w.split("_"),O=D.slice(0,D.length-1).join("_"),M=r==null?void 0:r.components[O];let $=!0,L=!1;return M&&M.correctAnswer?(M.correctAnswer.forEach(z=>{const{id:B,answer:W}=z;(!M||!M.correctAnswer||E.answer[B]!==W)&&($=!1)}),L=!0):L=!1,{line:_.jsx(tQt,{labelHeight:d*SB,height:l,xScale:v,scaleStart:A},w),label:_.jsx(zt,{withinPortal:!0,position:"bottom-start",px:4,py:0,withArrow:!0,label:_.jsx(fs,{gap:0,children:Object.entries(E.answer).map(z=>{var X,U;const[B,W]=z,V=(U=(X=M==null?void 0:M.correctAnswer)==null?void 0:X.find(F=>F.id===B))==null?void 0:U.answer;return _.jsx(tt,{children:`${B}: ${W} ${V?`[${V}]`:""}`},B)})}),children:_.jsx("g",{children:_.jsx(rQt,{incomplete:E.startTime===0,isCorrect:$,hasCorrect:L,labelHeight:d*SB,height:l,name:w,xScale:v,scaleStart:A,scaleEnd:I,trialOrder:E.trialOrder,participantId:e.participantId,studyId:n},w)})},`${w}-tooltip`)}})},[e.answers,e.participantId,a,o,r==null?void 0:r.components,l,n]),c=R.useMemo(()=>Object.entries(e.answers||{}).sort((f,h)=>f[1].startTime-h[1].startTime).map(f=>{const[h,p]=f,m=[];let g=[-1,-1],y="visible";if(p.windowEvents)for(let v=0;v<p.windowEvents.length;v+=1)p.windowEvents[v][1]==="visibility"&&(p.windowEvents[v][2]==="hidden"&&y==="visible"?(g=[p.windowEvents[v][0],-1],y="hidden"):p.windowEvents[v][2]==="visible"&&y==="hidden"&&(g[1]=p.windowEvents[v][0],m.push(g),g=[-1,-1],y="visible"));return m.map((v,w)=>_.jsx(zt,{withinPortal:!0,label:"Browsed away",children:_.jsx("rect",{x:o(v[0]),width:o(v[1])-o(v[0]),y:l-5,height:10})},w))}),[o,l,e.answers]);return _.jsx(xd,{children:_.jsx(fs,{gap:15,style:{width:"100%"},children:_.jsxs("svg",{style:{width:t,height:l,overflow:"visible"},children:[u.map(d=>d.line),u.map(d=>d.label),c]})})})}function oQt({metaData:e}){return _.jsx(Vn.Td,{children:_.jsx(kW,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:_.jsxs(fs,{gap:"xs",children:[_.jsxs(Se,{children:[_.jsx("strong",{children:"Resolution:"})," ",JSON.stringify(e==null?void 0:e.resolution,null,2)]}),_.jsxs(Se,{children:[_.jsx("strong",{children:"User Agent:"})," ",e==null?void 0:e.userAgent]}),_.jsxs(Se,{children:[_.jsx("strong",{children:"IP:"})," ",e==null?void 0:e.ip]}),_.jsxs(Se,{children:[_.jsx("strong",{children:"Language:"})," ",e==null?void 0:e.language]})]})})})}function aQt(e){return e.valueOf()===0||Number.isNaN(e.valueOf())?_.jsx(tt,{size:"sm",c:"dimmed",children:"None"}):e.toLocaleDateString([],{hour:"2-digit",minute:"2-digit"})}function lQt({visibleParticipants:e,studyConfig:t,refresh:n,width:r}){const{storageEngine:i}=Wi(),{studyId:s}=ha(),{user:o}=N_(),[a,l]=R.useState({}),u=R.useCallback(async(y,v)=>{if(i&&s)if(o.isAdmin){const w=v===""?"Rejected by admin":v;await i.rejectParticipant(y,w,s),await n()}else console.warn("You are not authorized to perform this action.")},[n,i,s,o.isAdmin]),[c,d]=R.useState(!1),[f,h]=R.useState(""),p=R.useCallback(async()=>{d(!1);const y=Object.keys(a).filter(v=>a[v]).map(async v=>await u(v,f));await Promise.all(y),l({}),await n()},[a,n,u,f]),m=R.useMemo(()=>[{accessorFn:y=>{const v=Object.entries(y.answers||{}).filter(w=>w[1].startTime===0);return{percent:(Object.entries(y.answers).length-v.length)/(_d(y.sequence).length-1),completed:y.completed,rejected:y.rejected}},header:"Status",size:50,Cell:({cell:y})=>{const v=y.getValue();return v.completed?_.jsx(Pi,{align:"center",justify:"center",w:"100%",children:_.jsx(zt,{label:"Completed",children:_.jsx(T2,{size:30,color:"teal",style:{marginBottom:-3}})})}):v.rejected?_.jsxs(fs,{align:"center",justify:"center",gap:4,w:"100%",children:[_.jsx(zt,{label:"Rejected",children:_.jsx(Av,{size:30,color:"red",style:{marginBottom:-3}})}),_.jsx(tt,{size:"xs",c:"dimmed",ta:"center",children:v.rejected.reason})]}):_.jsx(Pi,{align:"center",justify:"center",w:"100%",children:_.jsx(zt,{label:"In Progress",children:_.jsx(_W,{size:30,thickness:4,sections:[{value:v.percent*100,color:"blue"}]})})})}},{accessorKey:"participantIndex",header:"#",size:50},{accessorKey:"participantId",header:"ID"},...t.uiConfig.participantNameField?[{accessorFn:y=>eQt(y,t),header:"Name"}]:[],{accessorFn:y=>new Date(Math.max(...Object.values(y.answers).filter(v=>v.endTime>0).map(v=>v.endTime))-Math.min(...Object.values(y.answers).filter(v=>v.startTime>0).map(v=>v.startTime))),header:"Duration",Cell:({cell:y})=>Number.isNaN(y.getValue())?"Incomplete":_.jsx(nu,{variant:"light",size:"lg",color:"gray",leftSection:_.jsx(hWe,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:`${rq(+y.getValue())||"N/A"}`})},{accessorFn:y=>new Date(Math.min(...Object.values(y.answers).filter(v=>v.startTime>0).map(v=>v.startTime))),Cell:({cell:y})=>aQt(y.getValue()),header:"Start Time"},{accessorFn:y=>Object.values(y.answers).filter(v=>v.correctAnswer.length>0&&v.endTime>0).map(v=>X1t(v.answer,v.correctAnswer)),header:"Correct Answers",Cell:({cell:y})=>_.jsxs(_.Fragment,{children:[_.jsx(nu,{variant:"light",size:"lg",color:"green",leftSection:_.jsx(T2,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:y.getValue().filter(v=>v).length}),_.jsx(nu,{variant:"light",size:"lg",color:"red",leftSection:_.jsx(Av,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:y.getValue().length-y.getValue().filter(v=>v).length})]})},{accessorKey:"metadata",header:"Metadata",Cell:({cell:y})=>_.jsx(oQt,{metaData:y.getValue()})}],[t]),g=L4e({columns:m,data:e,enableColumnResizing:!0,columnResizeMode:"onEnd",enableRowSelection:!0,getRowId:y=>y.participantId,onRowSelectionChange:l,manualPagination:!0,state:{rowSelection:a},paginationDisplayMode:"pages",enablePagination:!1,enableRowVirtualization:!0,mantinePaperProps:{style:{maxHeight:"100%",display:"flex",flexDirection:"column"}},layoutMode:"grid",renderDetailPanel:({row:y})=>{const v=y.original;return _.jsx(sQt,{maxLength:void 0,studyConfig:t,studyId:s||"",participantData:v,width:r-60})},defaultColumn:{minSize:20,maxSize:1e3,size:180},enableDensityToggle:!1,positionToolbarAlertBanner:"none",renderTopToolbarCustomActions:()=>_.jsxs(_.Fragment,{children:[_.jsx(Nt,{justify:"space-between",mb:8,p:8,children:_.jsx(Pi,{children:_.jsxs(qt,{disabled:Object.keys(a).length===0||!o.isAdmin,onClick:()=>d(!0),color:"red",children:["Reject Participants (",Object.keys(a).length,")"]})})}),_.jsxs(pi,{opened:c,onClose:()=>d(!1),title:_.jsxs(tt,{children:["Reject Participants (",Object.keys(a).length,")"]}),children:[_.jsx(Uu,{label:"Please enter the reason for rejection.",onChange:y=>h(y.target.value)}),_.jsxs(Nt,{mt:"sm",justify:"right",children:[_.jsx(qt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{d(!1),h("")},children:"Cancel"}),_.jsx(qt,{color:"red",onClick:()=>p(),children:"Reject Participants"})]})]})]})});return e.length>0?_.jsx(ZXt,{table:g}):_.jsxs(_.Fragment,{children:[_.jsx(Gu,{h:"xl"}),_.jsx(Nt,{justify:"center",align:"center",children:_.jsx(tt,{children:"No data available"})})]})}function H4e({visibleParticipants:e,studyId:t,gap:n,fileName:r}){const[i,{open:s,close:o}]=Nq(!1),[a,l]=R.useState([]),u=async()=>typeof e=="function"?await e():e,c=async()=>{const f=await u(),h=r?`${r}.json`:`${t}_all.json`;eK(JSON.stringify(f,null,2),h)},d=async()=>{const f=await u();l(f),s()};return _.jsxs(_.Fragment,{children:[_.jsxs(Pi,{style:{gap:n},children:[_.jsx(zt,{label:"Download all participants data as JSON",children:_.jsx(qt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:c,px:4,children:_.jsx(rWe,{})})}),_.jsx(zt,{label:"Download all participants data as a tidy CSV",children:_.jsx(qt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:d,px:4,children:_.jsx(r1e,{})})})]}),i&&a.length>0&&_.jsx(dxt,{opened:i,close:o,filename:r?`${r}_tidy.csv`:`${t}_all_tidy.csv`,data:a,studyId:t})]})}function uQt({studyId:e,refresh:t}){const[n,r]=R.useState(!1),[i,s]=R.useState(!1),[o,a]=R.useState(!1),[l,u]=R.useState(!1),[c,d]=R.useState(""),[f,h]=R.useState({}),[p,m]=R.useState(""),[g,y]=R.useState(""),[v,w]=R.useState(!1),[E,C]=R.useState(!1),{storageEngine:S}=Wi(),T=R.useCallback(async()=>{if(!S)return;C(!0);const X=await S.getSnapshots(e);h(X),C(!1)},[S,e]);if(R.useEffect(()=>{T()},[T]),!S)return null;const A=async X=>{var F;w(!0);let U;switch(X.type){case"create":U=await S.createSnapshot(e,X.archive);break;case"rename":U=await S.renameSnapshot(X.snapshot,X.newName,e);break;case"restore":U=await S.restoreSnapshot(e,X.snapshot);break;case"deleteSnapshot":U=await S.removeSnapshotOrLive(X.snapshot,e);break;case"deleteLive":U=await S.removeSnapshotOrLive(e,e);break;default:throw w(!1),new Error("Unknown action")}U.status==="SUCCESS"?(await T(),w(!1),await t(),(F=U.notifications)==null||F.forEach(G=>J2(G))):(w(!1),J2({title:U.error.title,message:U.error.message,color:"red"}))},I=()=>A({type:"create",archive:!1}),D=()=>{m(""),r(!1),A({type:"create",archive:!0})},O=()=>{a(!1),A({type:"rename",snapshot:c,newName:g})},M=X=>A({type:"restore",snapshot:X}),$=()=>{m(""),s(!1),A({type:"deleteSnapshot",snapshot:c})},L=()=>{m(""),u(!1),A({type:"deleteLive"})},z=()=>Nie({title:"Create a Snapshot",children:_.jsx(tt,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>I()}),B=X=>Nie({title:"Restore Snapshot",children:_.jsx(tt,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>M(X)}),W=X=>{const U=/-snapshot-(.+)$/,F=X.match(U);return F&&F[1]?F[1].replace("T"," "):null},V=async X=>{const U=X.slice(X.indexOf("-")+1);return await S.getAllParticipantsData(U)};return _.jsxs(_.Fragment,{children:[_.jsx(Ju,{visible:v}),_.jsxs(Nt,{justify:"space-between",align:"center",children:[_.jsxs(Se,{style:{width:"70%"},children:[_.jsx(Ii,{order:5,children:"Create a Snapshot"}),_.jsxs(tt,{children:["This will create a snapshot of the live"," ",_.jsx(tt,{span:!0,fw:700,children:e})," ","database. It will"," ",_.jsx(tt,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),_.jsx(zt,{label:"Create a snapshot",children:_.jsx(qt,{onClick:z,children:"Snapshot"})})]}),_.jsx(Gu,{h:"lg"}),_.jsxs(Nt,{justify:"space-between",align:"center",children:[_.jsxs(Se,{style:{width:"70%"},children:[_.jsx(Ii,{order:5,children:"Archive Data"}),_.jsxs(tt,{children:["This will create a snapshot of the live"," ",_.jsx(tt,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),_.jsx(zt,{label:"Snapshot and Delete Data",children:_.jsx(qt,{color:"red",onClick:()=>r(!0),children:"Archive"})})]}),_.jsx(Gu,{h:"lg"}),_.jsxs(Nt,{justify:"space-between",align:"center",children:[_.jsxs(Se,{style:{width:"70%"},children:[_.jsx(Ii,{order:5,children:"Delete Data"}),_.jsxs(tt,{children:["This will delete the live"," ",_.jsx(tt,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),_.jsx(zt,{label:"Delete Data",children:_.jsx(qt,{color:"red",onClick:()=>u(!0),children:"Delete"})})]}),_.jsx(Gu,{h:"xl"}),_.jsxs(Nt,{direction:"column",children:[_.jsx(Nt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:"xs",pb:"sm",children:_.jsx(Ii,{order:5,children:"Snapshots"})}),_.jsxs(Se,{style:{position:"relative"},children:[_.jsx(Ju,{visible:E}),Object.keys(f).length>0?_.jsxs(Vn,{children:[_.jsx(Vn.Thead,{children:_.jsxs(Vn.Tr,{children:[_.jsx(Vn.Th,{children:"Snapshot Name"}),_.jsx(Vn.Th,{children:"Date Created"}),_.jsx(Vn.Th,{children:"Actions"})]})}),_.jsx(Vn.Tbody,{children:Object.entries(f).map(([X,U])=>_.jsxs(Vn.Tr,{children:[_.jsx(Vn.Td,{children:U.name}),_.jsx(Vn.Td,{children:W(X)}),_.jsx(Vn.Td,{children:_.jsxs(Nt,{children:[_.jsx(zt,{label:"Rename",children:_.jsx(qt,{color:"green",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{a(!0),d(X)},children:_.jsx(xWe,{})})}),_.jsx(zt,{label:"Restore Snapshot",children:_.jsx(qt,{color:"blue",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{B(X)},children:_.jsx(SWe,{})})}),_.jsx(zt,{label:"Delete Snapshot",children:_.jsx(qt,{color:"red",px:4,variant:"light",style:{margin:"0px 10px 0px 5px"},onClick:()=>{s(!0),d(X)},children:_.jsx(i1e,{})})}),_.jsx(H4e,{visibleParticipants:()=>V(X),studyId:e,gap:"10px",fileName:U.name})]})})]},X))})]}):_.jsx(tt,{children:"No snapshots."})]})]}),_.jsxs(pi,{opened:n,onClose:()=>{r(!1),m("")},title:_.jsx(tt,{children:"Archive Data"}),children:[_.jsx(tt,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),_.jsx(Uu,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:X=>m(X.target.value)}),_.jsxs(Nt,{mt:"sm",justify:"right",children:[_.jsx(qt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),m("")},children:"Cancel"}),_.jsx(qt,{color:"red",onClick:D,disabled:p!==e,children:"Archive"})]})]}),_.jsxs(pi,{opened:i,onClose:()=>{s(!1),m("")},title:_.jsx(tt,{children:"Delete Snapshot"}),children:[_.jsxs(tt,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",_.jsx(tt,{span:!0,fw:700,children:"irreversible"}),"."]}),_.jsx(Uu,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:X=>m(X.target.value)}),_.jsxs(Nt,{mt:"sm",justify:"right",children:[_.jsx(qt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{s(!1),m("")},children:"Cancel"}),_.jsx(qt,{color:"red",onClick:$,disabled:p!==e,children:"Delete"})]})]}),_.jsxs(pi,{opened:o,onClose:()=>{a(!1),y("")},title:_.jsx(tt,{children:"Rename Snapshot"}),children:[_.jsx(Uu,{label:"Enter the new name of the snapshot.",placeholder:c,onChange:X=>y(X.target.value)}),_.jsxs(Nt,{mt:"sm",justify:"right",children:[_.jsx(qt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),y("")},children:"Cancel"}),_.jsx(qt,{color:"green",onClick:O,disabled:!g||g.length===0,children:"Rename"})]})]}),_.jsxs(pi,{opened:l,onClose:()=>{u(!1),m("")},title:_.jsx(tt,{children:"Delete Live Data"}),children:[_.jsxs(tt,{mb:"sm",children:["This will permanently delete the live"," ",_.jsx(tt,{span:!0,fw:700,children:e})," ","data. This action is"," ",_.jsx(tt,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),_.jsx(Uu,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:X=>m(X.target.value)}),_.jsxs(Nt,{mt:"sm",justify:"right",children:[_.jsx(qt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{u(!1),m("")},children:"Cancel"}),_.jsx(qt,{color:"red",onClick:L,disabled:p!==e,children:"Delete"})]})]})]})}function cQt({studyId:e}){const{storageEngine:t}=Wi(),[n,r]=R.useState(!1),[i,s]=R.useState(!1),[o,a]=R.useState(!1),[l,u]=R.useState(!1);R.useEffect(()=>{(async()=>{if(t){const f=await t.getModes(e);s(f.dataCollectionEnabled),a(f.studyNavigatorEnabled),u(f.analyticsInterfacePubliclyAccessible),r(!0)}})()},[t,e]);const c=async(d,f)=>{t&&(await t.setMode(e,d,f),d==="dataCollectionEnabled"?s(f):d==="studyNavigatorEnabled"?a(f):d==="analyticsInterfacePubliclyAccessible"&&u(f))};return n&&_.jsxs(fs,{children:[_.jsx(D0,{label:"Data Collection Enabled",checked:i,onChange:d=>c("dataCollectionEnabled",d.currentTarget.checked)}),_.jsx(D0,{label:"Study Navigator Enabled",checked:o,onChange:d=>c("studyNavigatorEnabled",d.currentTarget.checked)}),_.jsx(D0,{label:"Analytics Interface Publicly Accessible",checked:l,onChange:d=>c("analyticsInterfacePubliclyAccessible",d.currentTarget.checked)})]})}function dQt({studyId:e,refresh:t}){return _.jsx(gg,{children:_.jsxs(ta,{multiple:!0,variant:"contained",children:[_.jsxs(ta.Item,{value:"ReVISit Modes",children:[_.jsx(ta.Control,{children:_.jsx(Ii,{order:5,children:"ReVISit Modes"})}),_.jsx(ta.Panel,{children:_.jsx(cQt,{studyId:e})})]},"modes"),_.jsxs(ta.Item,{value:"Data Management",children:[_.jsx(ta.Control,{children:_.jsx(Ii,{order:5,children:"Data Management"})}),_.jsx(ta.Panel,{children:_.jsx(uQt,{studyId:e,refresh:t})})]},"dataManagement")]})})}function fQt({response:e,participantData:t,trialId:n,trialConfig:r}){const[i,{toggle:s}]=Nq(!0),[o,a]=RT(),l=R.useMemo(()=>e.type==="metadata"?[]:t.map(f=>Object.entries(f.answers).filter(([h])=>h.slice(0,h.lastIndexOf("_"))===n)).map(f=>f.map(([,h])=>h.answer)).flat(),[t,e.type,n]),u=R.useMemo(()=>{var f;return e.type==="metadata"||(f=r.correctAnswer)==null?void 0:f.find(h=>h.id===e.id)},[e.id,e.type,r.correctAnswer]),c=R.useMemo(()=>{const d={height:"container",width:"container"};if(e.type==="shortText"||e.type==="longText")return{};if(e.type==="metadata"){const h=t.map(m=>Object.entries(m.answers).filter(([g])=>g.slice(0,g.lastIndexOf("_"))===n)).map(m=>m.filter(([g,y])=>y.endTime!==-1).map(([g,y])=>(y.endTime-y.startTime)/1e3)).flat();return{...d,data:{values:h},mark:"bar",encoding:{x:{field:"data",bin:!0,type:"quantitative",title:"Time (s)"},y:{aggregate:"count",type:"quantitative",title:"Count"}}}}const f={params:[{name:"correctAnswer",value:u==null?void 0:u.answer},{name:"variable",value:e.id}],transform:[{calculate:"datum[variable] === correctAnswer ? 'correct' : 'incorrect'",as:"result"},{calculate:"if(datum.result === 'correct', 0, if(datum.result === 'incorrect', 1, 2))",as:"order"}],color:{field:"result",type:"nominal",scale:{domain:["correct","incorrect"],range:["#69DB7C","#ADB5BD"]}},order:{field:"order"}};if(e.type==="numerical"||e.type==="slider"||e.type==="likert"){let h,p;return e.type==="numerical"&&(h=e.min,p=e.max),e.type==="slider"&&(h=Math.min(...e.options.map(g=>g.value)),p=Math.max(...e.options.map(g=>g.value))),e.type==="likert"&&(h=1,p=e.numItems),{...d,data:{values:l},mark:"bar",params:u!==void 0?f.params:void 0,transform:[{bin:e.type==="likert"?{step:1}:{maxbins:10},field:e.id,as:"bins"},...u!==void 0?f.transform:[]],encoding:{x:{field:"bins",scale:h!==void 0&&p!==void 0?{domain:[h,p]}:void 0,type:"quantitative",title:"Answer"},x2:{field:"bins_end"},y:{aggregate:"count",type:"quantitative",title:"Count",stack:!0},color:u!==void 0?f.color:void 0,order:u!==void 0?f.order:void 0}}}if(e.type==="radio"||e.type==="dropdown"||e.type==="checkbox")return{...d,data:{values:l},mark:"bar",params:u!==void 0?f.params:void 0,transform:u!==void 0?f.transform:void 0,encoding:{x:{field:e.id,type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:u!==void 0?f.color:void 0}}},[t,l,e.id,e.max,e.min,e.numItems,e.options,e.type,n,u]);return _.jsxs(pb,{p:"lg",withBorder:!0,ref:o,children:[_.jsxs(Nt,{direction:"row",justify:"space-between",onClick:s,children:[_.jsxs(Nt,{align:"center",children:[e.type==="metadata"&&_.jsx(tWe,{size:20}),e.type==="numerical"&&_.jsx(bWe,{size:20}),(e.type==="shortText"||e.type==="longText")&&_.jsx(WVe,{size:20}),e.type==="likert"&&_.jsx(Kbe,{size:20}),e.type==="dropdown"&&_.jsx(IWe,{size:20}),e.type==="slider"&&_.jsx(NVe,{size:20}),e.type==="radio"&&_.jsx(CWe,{size:20}),e.type==="checkbox"&&_.jsx(PWe,{size:20}),e.type==="reactive"&&_.jsx(pWe,{size:20}),_.jsx(Ii,{order:5,ml:4,children:e.id})]}),_.jsx(Wbe,{style:{rotate:i?"180deg":"none",transition:"rotate 200ms"}})]}),_.jsxs(im,{in:i,mah:400,children:[_.jsx(Se,{style:{top:0,position:"sticky",backgroundColor:"white",zIndex:2},py:"md",children:_.jsx(b_,{})}),_.jsxs(EW,{cols:2,h:360,children:[_.jsx(Fp,{mih:200,children:e.type!=="metadata"&&e.type!=="shortText"&&e.type!=="longText"&&e.type!=="reactive"?_.jsx(ape,{spec:c,actions:!1,height:270,width:a.width/2-60-(u===void 0?0:60),padding:0,style:{justifySelf:"center"},renderer:"svg"}):_.jsxs(Nt,{direction:"column",gap:"xs",style:{overflowX:"clip"},children:[e.type==="metadata"&&_.jsx(Cf,{block:!0,children:`${JSON.stringify(r,null,2)}`}),e.type!=="metadata"&&_.jsxs(_.Fragment,{children:[_.jsx(tt,{fw:700,children:"Response Values: "}),l.map((d,f)=>_.jsx(Nt,{align:"center",gap:"xs",children:_.jsx(tt,{children:d[e.id]})},f))]})]})}),_.jsx(Fp,{mih:200,children:e.type==="metadata"?_.jsx(ape,{spec:c,actions:!1,width:a.width/2-60,height:270,padding:0,style:{justifySelf:"center"}}):_.jsxs(_.Fragment,{children:[_.jsx(tt,{fw:700,children:"Response Specification: "}),_.jsx(Cf,{block:!0,children:JSON.stringify(e,null,2)}),_.jsx("br",{}),u&&_.jsxs(_.Fragment,{children:[_.jsx(tt,{fw:700,children:"Correct Answer: "}),_.jsx(Cf,{block:!0,children:JSON.stringify(u,null,2)})]})]})})]})]})]})}function hQt({participantData:e,studyConfig:t,trialId:n}){const r=n&&n!=="end"&&Yu(t.components[n],t),i=R.useMemo(()=>[{id:"Config and Timing",type:"metadata"},...r?r.response:[]],[r]);return r?_.jsx(Nt,{w:"100%",direction:"column",gap:"xs",children:i.map(s=>_.jsx(fQt,{response:s,participantData:e,trialId:n,trialConfig:r},s.id))}):_.jsx(Nt,{justify:"center",align:"center",pt:"lg",pb:"md",w:"100%",children:_.jsx(tt,{children:n!=="end"?"No trial selected":"The end component has no data."})})}function pQt({studyConfig:e,visibleParticipants:t}){const n=R.useMemo(()=>{let i=structuredClone(e.sequence);return i=YY(i,"root"),i.components.push("end"),i},[e.sequence]),{trialId:r}=ha();return _.jsx(pb,{shadow:"sm",p:"md",withBorder:!0,children:t.length===0?_.jsx(Nt,{justify:"center",align:"center",pt:"lg",pb:"md",children:_.jsx(tt,{children:"No data available."})}):_.jsxs(Nt,{direction:"row",children:[_.jsx(Se,{w:340,children:_.jsx(e$,{configSequence:n,participantSequence:n,fullSequence:n,participantView:!1,studyConfig:e,analysisNavigation:!0})}),_.jsx(b_,{orientation:"vertical",mx:"md"}),_.jsx(hQt,{participantData:t,studyConfig:e,trialId:r})]})})}const mQt=37;function gQt(e,t){const n=Object.values(e.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort(),r=Object.values(t.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort();return n.length===0||r.length===0?n.length>0?-1:r.length>0?1:t.participantIndex-e.participantIndex:r[0]-n[0]}function yQt(e,t,n){return!e||!t||!n?Promise.resolve([]):(t==null||t.initializeStudyDb(n),t.getAllParticipantsData(n))}function vQt({globalConfig:e}){const{studyId:t}=ha(),[n,r]=R.useState(void 0),[i,s]=R.useState(["completed","inprogress","rejected"]),{storageEngine:o}=Wi(),a=Ya(),{analysisTab:l}=ha(),{user:u}=N_(),[c,{width:d}]=RT(),{value:f,execute:h,status:p}=ZY(yQt,[n,o,t]),m=R.useMemo(()=>{if(!f)return[];const g=Object.values(f),y=i.includes("completed")?g.filter(E=>!E.rejected&&E.completed):[],v=i.includes("inprogress")?g.filter(E=>!E.rejected&&!E.completed):[],w=i.includes("rejected")?g.filter(E=>E.rejected):[];return[...y,...v,...w].sort(gQt)},[f,i]);return R.useEffect(()=>{if(!t)return()=>{};if(t==="__revisit-widget"){const g=async y=>{if(y.data.type==="revisitWidget/CONFIG"&&o){const v=await Aee(y.data.payload);r(v)}};return window.addEventListener("message",g),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",g)}}return kee(t,e).then(g=>{g&&r(g)}),()=>{}},[t,e,o]),_.jsxs(_.Fragment,{children:[_.jsx(w3,{studyIds:e.configsList}),_.jsx(Gr.Main,{style:{height:"100dvh"},children:_.jsxs(fs,{ref:c,style:{height:"100%",maxHeight:"100dvh",overflow:"hidden"},justify:"space-between",children:[_.jsxs(Nt,{direction:"row",align:"center",justify:"space-between",children:[_.jsxs(Nt,{direction:"row",align:"center",children:[_.jsx(Ii,{order:5,mr:"sm",children:t}),_.jsx(H4e,{visibleParticipants:m,studyId:t||""})]}),_.jsxs(Nt,{direction:"row",align:"center",children:[_.jsx(tt,{mt:-2,size:"sm",children:"Participants: "}),_.jsx(Ro.Group,{value:i,onChange:g=>s(g),mb:"xs",mt:8,ml:"xs",children:_.jsxs(Pi,{children:[_.jsx(Ro,{value:"completed",label:"Completed"}),_.jsx(Ro,{value:"inprogress",label:"In Progress"}),_.jsx(Ro,{value:"rejected",label:"Rejected"})]})})]})]}),_.jsx(Ju,{visible:p==="pending"}),p==="success"?_.jsxs(mr,{style:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},keepMounted:!1,variant:"outline",value:l,onChange:g=>a(`/analysis/stats/${t}/${g}`),children:[_.jsxs(mr.List,{children:[_.jsx(mr.Tab,{value:"table",leftSection:_.jsx(OWe,{size:16}),children:"Participant View"}),_.jsx(mr.Tab,{value:"stats",leftSection:_.jsx(GVe,{size:16}),children:"Trial Stats"}),_.jsx(mr.Tab,{value:"manage",leftSection:_.jsx(n1e,{size:16}),disabled:!u.isAdmin,children:"Manage"})]}),_.jsx(mr.Panel,{style:{height:`calc(100% - ${mQt}px)`},value:"table",pt:"xs",children:n&&_.jsx(lQt,{width:d,visibleParticipants:m,studyConfig:n,refresh:()=>h(n,o,t)})}),_.jsx(mr.Panel,{value:"stats",pt:"xs",children:n&&_.jsx(pQt,{studyConfig:n,visibleParticipants:m})}),_.jsx(mr.Panel,{value:"manage",pt:"xs",children:t&&u.isAdmin?_.jsx(dQt,{studyId:t,refresh:()=>h(n,o,t)}):_.jsx(gg,{mt:20,children:_.jsx($f,{title:"Unauthorized Access",variant:"light",color:"red",icon:_.jsx(XW,{}),children:"You are not authorized to manage the data for this study."})})})]}):null]})})]})}function x0e({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:s}=N_(),{storageEngine:o}=Wi(),[a,l]=R.useState(!1),u=ha();return R.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&u[t]){const d=await n(u[t]);d&&l(d)}else l(!0);if(a)try{r&&await i(r)||s()}catch(d){s(),console.warn(d)}})()},[r.isAdmin,a]),r.determiningStatus||!o?_.jsx(Ju,{visible:r.determiningStatus||!(o!=null&&o.getEngine())}):a&&!r.isAdmin&&!r.determiningStatus?_.jsx(VW,{to:"/login"}):_.jsx(_.Fragment,{children:e})}async function q4e(e,t){if(e&&Fu(e)){t(!0);const n=new lp,r=j7();try{await sst(r,n,jxe)}catch(i){J2({title:"Error",message:i.message,color:"red"})}finally{t(!1)}return r.currentUser}return null}function bQt(){const{user:e}=N_(),[t,n]=R.useState(!1),{storageEngine:r}=Wi();return R.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&J2({title:"Unauthorized",message:"You are not authorized to use this application.",color:"red"})},[e.adminVerification]),!e.determiningStatus&&e.isAdmin?_.jsx(VW,{to:"/"}):_.jsx(gg,{children:_.jsx(yb,{padding:"lg",children:_.jsxs(Nt,{align:"center",direction:"column",justify:"center",children:[_.jsx(yg,{maw:200,mt:50,mb:100,src:`${hs}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),_.jsxs(_.Fragment,{children:[_.jsx(tt,{mb:20,children:"To access admin settings, please sign in using your Google account."}),_.jsx(qt,{onClick:()=>q4e(r,n),leftSection:_.jsx(NWe,{}),variant:"filled",children:"Sign In With Google"})]}),_.jsx(Ju,{visible:t})]})})})}function wQt(){const{user:e,triggerAuth:t,logout:n}=N_(),{storageEngine:r}=Wi(),[i,s]=R.useState(!1),[o,a]=R.useState([]),[l,u]=R.useState(!1),[c,d]=R.useState(!1),[f,h]=R.useState(!1),[p,m]=R.useState(!1),[g,y]=R.useState(!1),[v,w]=R.useState(""),[E,C]=R.useState(null),S=q2e({initialValues:{email:""},validate:{email:vwt("Invalid email")}});R.useEffect(()=>{(async()=>{if(u(!0),r&&Fu(r)){const L=await(r==null?void 0:r.getUserManagementData("authentication"));s((L==null?void 0:L.isEnabled)||!1);const z=await(r==null?void 0:r.getUserManagementData("adminUsers"));z&&z.adminUsersList&&a(z==null?void 0:z.adminUsersList.map(B=>B.email))}else s(!1);u(!1)})()},[r]);const T=async()=>{if(u(!0),r&&Fu(r)){const $=await q4e(r,u);$&&$.email?(C({email:$.email,uid:$.uid}),m(!0)):y(!0)}u(!1)},A=async $=>{u(!0),r&&Fu(r)&&$&&(await r.changeAuth(!0),await r.addAdminUser($),a([$.email]),s(!0),t()),m(!1),u(!1)},I=async()=>{if(u(!0),r&&Fu(r)){await r.addAdminUser({email:S.values.email,uid:null});const $=await r.getUserManagementData("adminUsers");a(($==null?void 0:$.adminUsersList.map(L=>L.email))||[])}u(!1),d(!1),S.setValues({email:""})},D=$=>{h(!0),w($)},O=async()=>{if(u(!0),r&&Fu(r)){await r.removeAdminUser(v);const $=await r.getUserManagementData("adminUsers");a(($==null?void 0:$.adminUsersList.map(L=>L.email))||[])}h(!1),u(!1)},M=R.useMemo(()=>r&&Fu(r),[r]);return _.jsxs(_.Fragment,{children:[_.jsx(gg,{children:_.jsxs(yb,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[_.jsx(Ii,{mb:20,order:3,children:"Authentication"}),i?_.jsx(Nt,{children:_.jsx(tt,{children:"Authentication is enabled."})}):_.jsxs(Nt,{justify:"space-between",children:[_.jsx(Se,{children:_.jsx(tt,{children:"Authentication is currently disabled."})}),_.jsx(zt,{label:"You can only enable auth when using Firebase",disabled:M,children:_.jsx(qt,{onClick:$=>M?T():$.preventDefault(),color:"green","data-disabled":M?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),i?_.jsxs(Nt,{mt:40,direction:"column",children:[_.jsxs(Nt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[_.jsx(Ii,{order:6,children:"Enabled Users"}),_.jsx(QW,{style:{cursor:"pointer"},onClick:()=>d(!0)})]}),o.length>0?o.map($=>{var L;return _.jsxs(Nt,{justify:"space-between",mb:10,children:[_.jsx(tt,{children:$}),$===((L=e.user)==null?void 0:L.email)?_.jsx(tt,{color:"blue",size:"xs",children:"You"}):_.jsx(Jn,{variant:"subtle",onClick:()=>D($),children:_.jsx(i1e,{color:"red"})})]},$)}):null,_.jsx(Nt,{direction:"row",justify:"left",children:_.jsx(qt,{onClick:()=>n(),mt:20,children:"Log out"})})]}):null]})}),_.jsx(pi,{opened:c,onClose:()=>d(!1),title:"Add Admin User",children:_.jsxs(Se,{component:"form",onSubmit:S.onSubmit(()=>I()),children:[_.jsx(Uu,{leftSection:_.jsx(jVe,{}),placeholder:"User Gmail Account",...S.getInputProps("email")}),_.jsxs(Nt,{mt:30,justify:"right",children:[_.jsx(qt,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),_.jsx(qt,{type:"submit",children:"Save"})]})]})}),_.jsxs(pi,{opened:f,size:"large",onClose:()=>h(!1),title:_.jsxs(tt,{fw:700,children:["Remove",v,"?"]}),children:[_.jsxs(tt,{mt:40,children:["Are you sure you want to remove",_.jsx("b",{children:v})," ","as an administrator?"]}),_.jsxs(Nt,{mt:40,justify:"right",children:[_.jsx(qt,{mr:5,variant:"subtle",color:"red",onClick:()=>h(!1),children:"Cancel"}),_.jsx(qt,{onClick:()=>O(),children:"Yes, I'm sure."})]})]}),_.jsxs(pi,{opened:p,size:"md",onClose:()=>m(!1),title:_.jsx(tt,{fw:700,children:"Enable Authentication?"}),children:[_.jsxs(tt,{mt:40,children:["User"," ",_.jsx("b",{children:E==null?void 0:E.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),_.jsxs(Nt,{mt:40,justify:"right",children:[_.jsx(qt,{mr:5,variant:"subtle",color:"red",onClick:()=>m(!1),children:"Cancel"}),_.jsx(qt,{onClick:()=>A(E),children:"Yes, I'm sure."})]})]}),_.jsxs(pi,{opened:g,size:"md",onClose:()=>y(!1),title:_.jsx(tt,{fw:700,children:"An Error Occurred."}),children:[_.jsxs(tt,{mt:40,children:["An error has occurred when trying to enable authentication. Please consult the"," ",_.jsx("a",{href:"https://revisit.dev/docs/data-and-deployment/authentication-authorization/adding-removing-ui/",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),_.jsx(Nt,{mt:40,justify:"right",children:_.jsx(qt,{mr:5,onClick:()=>y(!1),children:"Okay"})})]}),_.jsx(Ju,{visible:l})]})}var TB={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var _0e;function xQt(){return _0e||(_0e=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var d=typeof aS=="function"&&aS;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[u].exports}for(var a=typeof aS=="function"&&aS,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,u=new o(p),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=p,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var f,h=[];function p(){f=!0;for(var g,y,v=h.length;v;){for(y=h,h=[],g=-1;++g<v;)y[g]();v=h.length}f=!1}r.exports=m;function m(g){h.push(g)===1&&!f&&a()}}).call(this,typeof Rs<"u"?Rs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,C!==o&&m(this,C)}d.prototype.catch=function(C){return this.then(null,C)},d.prototype.then=function(C,S){if(typeof C!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var T=new this.constructor(o);if(this.state!==c){var A=this.state===u?C:S;h(T,A,this.outcome)}else this.queue.push(new f(T,C,S));return T};function f(C,S,T){this.promise=C,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(C){a.resolve(this.promise,C)},f.prototype.otherCallFulfilled=function(C){h(this.promise,this.onFulfilled,C)},f.prototype.callRejected=function(C){a.reject(this.promise,C)},f.prototype.otherCallRejected=function(C){h(this.promise,this.onRejected,C)};function h(C,S,T){s(function(){var A;try{A=S(T)}catch(I){return a.reject(C,I)}A===C?a.reject(C,new TypeError("Cannot resolve promise with itself")):a.resolve(C,A)})}a.resolve=function(C,S){var T=g(p,S);if(T.status==="error")return a.reject(C,T.value);var A=T.value;if(A)m(C,A);else{C.state=u,C.outcome=S;for(var I=-1,D=C.queue.length;++I<D;)C.queue[I].callFulfilled(S)}return C},a.reject=function(C,S){C.state=l,C.outcome=S;for(var T=-1,A=C.queue.length;++T<A;)C.queue[T].callRejected(S);return C};function p(C){var S=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof S=="function")return function(){S.apply(C,arguments)}}function m(C,S){var T=!1;function A(M){T||(T=!0,a.reject(C,M))}function I(M){T||(T=!0,a.resolve(C,M))}function D(){S(I,A)}var O=g(D);O.status==="error"&&A(O.value)}function g(C,S){var T={};try{T.value=C(S),T.status="success"}catch(A){T.status="error",T.value=A}return T}d.resolve=y;function y(C){return C instanceof this?C:a.resolve(new this(o),C)}d.reject=v;function v(C){var S=new this(o);return a.reject(S,C)}d.all=w;function w(C){var S=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=C.length,A=!1;if(!T)return this.resolve([]);for(var I=new Array(T),D=0,O=-1,M=new this(o);++O<T;)$(C[O],O);return M;function $(L,z){S.resolve(L).then(B,function(W){A||(A=!0,a.reject(M,W))});function B(W){I[z]=W,++D===T&&!A&&(A=!0,a.resolve(M,I))}}}d.race=E;function E(C){var S=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=C.length,A=!1;if(!T)return this.resolve([]);for(var I=-1,D=new this(o);++I<T;)O(C[I]);return D;function O(M){S.resolve(M).then(function($){A||(A=!0,a.resolve(D,$))},function($){A||(A=!0,a.reject(D,$))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Rs<"u"?Rs:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe};function o(oe,we){if(!(oe instanceof we))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var oe=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),we=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!oe||we)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(oe,we){oe=oe||[],we=we||{};try{return new Blob(oe,we)}catch(Ae){if(Ae.name!=="TypeError")throw Ae;for(var de=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ke=new de,Oe=0;Oe<oe.length;Oe+=1)ke.append(oe[Oe]);return ke.getBlob(we.type)}}typeof Promise>"u"&&n(3);var d=Promise;function f(oe,we){we&&oe.then(function(de){we(null,de)},function(de){we(de)})}function h(oe,we,de){typeof we=="function"&&oe.then(we),typeof de=="function"&&oe.catch(de)}function p(oe){return typeof oe!="string"&&(console.warn(oe+" used as a key, but it is not a string."),oe=String(oe)),oe}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},w=Object.prototype.toString,E="readonly",C="readwrite";function S(oe){for(var we=oe.length,de=new ArrayBuffer(we),ke=new Uint8Array(de),Oe=0;Oe<we;Oe++)ke[Oe]=oe.charCodeAt(Oe);return de}function T(oe){return new d(function(we){var de=oe.transaction(g,C),ke=c([""]);de.objectStore(g).put(ke,"key"),de.onabort=function(Oe){Oe.preventDefault(),Oe.stopPropagation(),we(!1)},de.oncomplete=function(){var Oe=navigator.userAgent.match(/Chrome\/(\d+)/),Ae=navigator.userAgent.match(/Edge\//);we(Ae||!Oe||parseInt(Oe[1],10)>=43)}}).catch(function(){return!1})}function A(oe){return typeof y=="boolean"?d.resolve(y):T(oe).then(function(we){return y=we,y})}function I(oe){var we=v[oe.name],de={};de.promise=new d(function(ke,Oe){de.resolve=ke,de.reject=Oe}),we.deferredOperations.push(de),we.dbReady?we.dbReady=we.dbReady.then(function(){return de.promise}):we.dbReady=de.promise}function D(oe){var we=v[oe.name],de=we.deferredOperations.pop();if(de)return de.resolve(),de.promise}function O(oe,we){var de=v[oe.name],ke=de.deferredOperations.pop();if(ke)return ke.reject(we),ke.promise}function M(oe,we){return new d(function(de,ke){if(v[oe.name]=v[oe.name]||G(),oe.db)if(we)I(oe),oe.db.close();else return de(oe.db);var Oe=[oe.name];we&&Oe.push(oe.version);var Ae=l.open.apply(l,Oe);we&&(Ae.onupgradeneeded=function(Je){var at=Ae.result;try{at.createObjectStore(oe.storeName),Je.oldVersion<=1&&at.createObjectStore(g)}catch(ut){if(ut.name==="ConstraintError")console.warn('The database "'+oe.name+'" has been upgraded from version '+Je.oldVersion+" to version "+Je.newVersion+', but the storage "'+oe.storeName+'" already exists.');else throw ut}}),Ae.onerror=function(Je){Je.preventDefault(),ke(Ae.error)},Ae.onsuccess=function(){var Je=Ae.result;Je.onversionchange=function(at){at.target.close()},de(Je),D(oe)}})}function $(oe){return M(oe,!1)}function L(oe){return M(oe,!0)}function z(oe,we){if(!oe.db)return!0;var de=!oe.db.objectStoreNames.contains(oe.storeName),ke=oe.version<oe.db.version,Oe=oe.version>oe.db.version;if(ke&&(oe.version!==we&&console.warn('The database "'+oe.name+`" can't be downgraded from version `+oe.db.version+" to version "+oe.version+"."),oe.version=oe.db.version),Oe||de){if(de){var Ae=oe.db.version+1;Ae>oe.version&&(oe.version=Ae)}return!0}return!1}function B(oe){return new d(function(we,de){var ke=new FileReader;ke.onerror=de,ke.onloadend=function(Oe){var Ae=btoa(Oe.target.result||"");we({__local_forage_encoded_blob:!0,data:Ae,type:oe.type})},ke.readAsBinaryString(oe)})}function W(oe){var we=S(atob(oe.data));return c([we],{type:oe.type})}function V(oe){return oe&&oe.__local_forage_encoded_blob}function X(oe){var we=this,de=we._initReady().then(function(){var ke=v[we._dbInfo.name];if(ke&&ke.dbReady)return ke.dbReady});return h(de,oe,oe),de}function U(oe){I(oe);for(var we=v[oe.name],de=we.forages,ke=0;ke<de.length;ke++){var Oe=de[ke];Oe._dbInfo.db&&(Oe._dbInfo.db.close(),Oe._dbInfo.db=null)}return oe.db=null,$(oe).then(function(Ae){return oe.db=Ae,z(oe)?L(oe):Ae}).then(function(Ae){oe.db=we.db=Ae;for(var Je=0;Je<de.length;Je++)de[Je]._dbInfo.db=Ae}).catch(function(Ae){throw O(oe,Ae),Ae})}function F(oe,we,de,ke){ke===void 0&&(ke=1);try{var Oe=oe.db.transaction(oe.storeName,we);de(null,Oe)}catch(Ae){if(ke>0&&(!oe.db||Ae.name==="InvalidStateError"||Ae.name==="NotFoundError"))return d.resolve().then(function(){if(!oe.db||Ae.name==="NotFoundError"&&!oe.db.objectStoreNames.contains(oe.storeName)&&oe.version<=oe.db.version)return oe.db&&(oe.version=oe.db.version+1),L(oe)}).then(function(){return U(oe).then(function(){F(oe,we,de,ke-1)})}).catch(de);de(Ae)}}function G(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function q(oe){var we=this,de={db:null};if(oe)for(var ke in oe)de[ke]=oe[ke];var Oe=v[de.name];Oe||(Oe=G(),v[de.name]=Oe),Oe.forages.push(we),we._initReady||(we._initReady=we.ready,we.ready=X);var Ae=[];function Je(){return d.resolve()}for(var at=0;at<Oe.forages.length;at++){var ut=Oe.forages[at];ut!==we&&Ae.push(ut._initReady().catch(Je))}var lt=Oe.forages.slice(0);return d.all(Ae).then(function(){return de.db=Oe.db,$(de)}).then(function(bt){return de.db=bt,z(de,we._defaultConfig.version)?L(de):bt}).then(function(bt){de.db=Oe.db=bt,we._dbInfo=de;for(var jt=0;jt<lt.length;jt++){var yn=lt[jt];yn!==we&&(yn._dbInfo.db=de.db,yn._dbInfo.version=de.version)}})}function Y(oe,we){var de=this;oe=p(oe);var ke=new d(function(Oe,Ae){de.ready().then(function(){F(de._dbInfo,E,function(Je,at){if(Je)return Ae(Je);try{var ut=at.objectStore(de._dbInfo.storeName),lt=ut.get(oe);lt.onsuccess=function(){var bt=lt.result;bt===void 0&&(bt=null),V(bt)&&(bt=W(bt)),Oe(bt)},lt.onerror=function(){Ae(lt.error)}}catch(bt){Ae(bt)}})}).catch(Ae)});return f(ke,we),ke}function J(oe,we){var de=this,ke=new d(function(Oe,Ae){de.ready().then(function(){F(de._dbInfo,E,function(Je,at){if(Je)return Ae(Je);try{var ut=at.objectStore(de._dbInfo.storeName),lt=ut.openCursor(),bt=1;lt.onsuccess=function(){var jt=lt.result;if(jt){var yn=jt.value;V(yn)&&(yn=W(yn));var Jt=oe(yn,jt.key,bt++);Jt!==void 0?Oe(Jt):jt.continue()}else Oe()},lt.onerror=function(){Ae(lt.error)}}catch(jt){Ae(jt)}})}).catch(Ae)});return f(ke,we),ke}function te(oe,we,de){var ke=this;oe=p(oe);var Oe=new d(function(Ae,Je){var at;ke.ready().then(function(){return at=ke._dbInfo,w.call(we)==="[object Blob]"?A(at.db).then(function(ut){return ut?we:B(we)}):we}).then(function(ut){F(ke._dbInfo,C,function(lt,bt){if(lt)return Je(lt);try{var jt=bt.objectStore(ke._dbInfo.storeName);ut===null&&(ut=void 0);var yn=jt.put(ut,oe);bt.oncomplete=function(){ut===void 0&&(ut=null),Ae(ut)},bt.onabort=bt.onerror=function(){var Jt=yn.error?yn.error:yn.transaction.error;Je(Jt)}}catch(Jt){Je(Jt)}})}).catch(Je)});return f(Oe,de),Oe}function ue(oe,we){var de=this;oe=p(oe);var ke=new d(function(Oe,Ae){de.ready().then(function(){F(de._dbInfo,C,function(Je,at){if(Je)return Ae(Je);try{var ut=at.objectStore(de._dbInfo.storeName),lt=ut.delete(oe);at.oncomplete=function(){Oe()},at.onerror=function(){Ae(lt.error)},at.onabort=function(){var bt=lt.error?lt.error:lt.transaction.error;Ae(bt)}}catch(bt){Ae(bt)}})}).catch(Ae)});return f(ke,we),ke}function se(oe){var we=this,de=new d(function(ke,Oe){we.ready().then(function(){F(we._dbInfo,C,function(Ae,Je){if(Ae)return Oe(Ae);try{var at=Je.objectStore(we._dbInfo.storeName),ut=at.clear();Je.oncomplete=function(){ke()},Je.onabort=Je.onerror=function(){var lt=ut.error?ut.error:ut.transaction.error;Oe(lt)}}catch(lt){Oe(lt)}})}).catch(Oe)});return f(de,oe),de}function ne(oe){var we=this,de=new d(function(ke,Oe){we.ready().then(function(){F(we._dbInfo,E,function(Ae,Je){if(Ae)return Oe(Ae);try{var at=Je.objectStore(we._dbInfo.storeName),ut=at.count();ut.onsuccess=function(){ke(ut.result)},ut.onerror=function(){Oe(ut.error)}}catch(lt){Oe(lt)}})}).catch(Oe)});return f(de,oe),de}function fe(oe,we){var de=this,ke=new d(function(Oe,Ae){if(oe<0){Oe(null);return}de.ready().then(function(){F(de._dbInfo,E,function(Je,at){if(Je)return Ae(Je);try{var ut=at.objectStore(de._dbInfo.storeName),lt=!1,bt=ut.openKeyCursor();bt.onsuccess=function(){var jt=bt.result;if(!jt){Oe(null);return}oe===0||lt?Oe(jt.key):(lt=!0,jt.advance(oe))},bt.onerror=function(){Ae(bt.error)}}catch(jt){Ae(jt)}})}).catch(Ae)});return f(ke,we),ke}function ee(oe){var we=this,de=new d(function(ke,Oe){we.ready().then(function(){F(we._dbInfo,E,function(Ae,Je){if(Ae)return Oe(Ae);try{var at=Je.objectStore(we._dbInfo.storeName),ut=at.openKeyCursor(),lt=[];ut.onsuccess=function(){var bt=ut.result;if(!bt){ke(lt);return}lt.push(bt.key),bt.continue()},ut.onerror=function(){Oe(ut.error)}}catch(bt){Oe(bt)}})}).catch(Oe)});return f(de,oe),de}function ie(oe,we){we=m.apply(this,arguments);var de=this.config();oe=typeof oe!="function"&&oe||{},oe.name||(oe.name=oe.name||de.name,oe.storeName=oe.storeName||de.storeName);var ke=this,Oe;if(!oe.name)Oe=d.reject("Invalid arguments");else{var Ae=oe.name===de.name&&ke._dbInfo.db,Je=Ae?d.resolve(ke._dbInfo.db):$(oe).then(function(at){var ut=v[oe.name],lt=ut.forages;ut.db=at;for(var bt=0;bt<lt.length;bt++)lt[bt]._dbInfo.db=at;return at});oe.storeName?Oe=Je.then(function(at){if(at.objectStoreNames.contains(oe.storeName)){var ut=at.version+1;I(oe);var lt=v[oe.name],bt=lt.forages;at.close();for(var jt=0;jt<bt.length;jt++){var yn=bt[jt];yn._dbInfo.db=null,yn._dbInfo.version=ut}var Jt=new d(function($n,en){var br=l.open(oe.name,ut);br.onerror=function(_s){var Za=br.result;Za.close(),en(_s)},br.onupgradeneeded=function(){var _s=br.result;_s.deleteObjectStore(oe.storeName)},br.onsuccess=function(){var _s=br.result;_s.close(),$n(_s)}});return Jt.then(function($n){lt.db=$n;for(var en=0;en<bt.length;en++){var br=bt[en];br._dbInfo.db=$n,D(br._dbInfo)}}).catch(function($n){throw(O(oe,$n)||d.resolve()).catch(function(){}),$n})}}):Oe=Je.then(function(at){I(oe);var ut=v[oe.name],lt=ut.forages;at.close();for(var bt=0;bt<lt.length;bt++){var jt=lt[bt];jt._dbInfo.db=null}var yn=new d(function(Jt,$n){var en=l.deleteDatabase(oe.name);en.onerror=function(){var br=en.result;br&&br.close(),$n(en.error)},en.onblocked=function(){console.warn('dropInstance blocked for database "'+oe.name+'" until all open connections are closed')},en.onsuccess=function(){var br=en.result;br&&br.close(),Jt(br)}});return yn.then(function(Jt){ut.db=Jt;for(var $n=0;$n<lt.length;$n++){var en=lt[$n];D(en._dbInfo)}}).catch(function(Jt){throw(O(oe,Jt)||d.resolve()).catch(function(){}),Jt})})}return f(Oe,we),Oe}var he={_driver:"asyncStorage",_initStorage:q,_support:u(),iterate:J,getItem:Y,setItem:te,removeItem:ue,clear:se,length:ne,key:fe,keys:ee,dropInstance:ie};function ye(){return typeof openDatabase=="function"}var Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Re="~~local_forage_type~",De=/^~~local_forage_type~([^~]+)~/,be="__lfsc__:",je=be.length,Qe="arbf",it="blob",Ke="si08",Pe="ui08",ze="uic8",ot="si16",xe="si32",Te="ur16",nt="ui32",ht="fl32",st="fl64",Ot=je+Qe.length,Qt=Object.prototype.toString;function kn(oe){var we=oe.length*.75,de=oe.length,ke,Oe=0,Ae,Je,at,ut;oe[oe.length-1]==="="&&(we--,oe[oe.length-2]==="="&&we--);var lt=new ArrayBuffer(we),bt=new Uint8Array(lt);for(ke=0;ke<de;ke+=4)Ae=Ce.indexOf(oe[ke]),Je=Ce.indexOf(oe[ke+1]),at=Ce.indexOf(oe[ke+2]),ut=Ce.indexOf(oe[ke+3]),bt[Oe++]=Ae<<2|Je>>4,bt[Oe++]=(Je&15)<<4|at>>2,bt[Oe++]=(at&3)<<6|ut&63;return lt}function Yn(oe){var we=new Uint8Array(oe),de="",ke;for(ke=0;ke<we.length;ke+=3)de+=Ce[we[ke]>>2],de+=Ce[(we[ke]&3)<<4|we[ke+1]>>4],de+=Ce[(we[ke+1]&15)<<2|we[ke+2]>>6],de+=Ce[we[ke+2]&63];return we.length%3===2?de=de.substring(0,de.length-1)+"=":we.length%3===1&&(de=de.substring(0,de.length-2)+"=="),de}function gn(oe,we){var de="";if(oe&&(de=Qt.call(oe)),oe&&(de==="[object ArrayBuffer]"||oe.buffer&&Qt.call(oe.buffer)==="[object ArrayBuffer]")){var ke,Oe=be;oe instanceof ArrayBuffer?(ke=oe,Oe+=Qe):(ke=oe.buffer,de==="[object Int8Array]"?Oe+=Ke:de==="[object Uint8Array]"?Oe+=Pe:de==="[object Uint8ClampedArray]"?Oe+=ze:de==="[object Int16Array]"?Oe+=ot:de==="[object Uint16Array]"?Oe+=Te:de==="[object Int32Array]"?Oe+=xe:de==="[object Uint32Array]"?Oe+=nt:de==="[object Float32Array]"?Oe+=ht:de==="[object Float64Array]"?Oe+=st:we(new Error("Failed to get type for BinaryArray"))),we(Oe+Yn(ke))}else if(de==="[object Blob]"){var Ae=new FileReader;Ae.onload=function(){var Je=Re+oe.type+"~"+Yn(this.result);we(be+it+Je)},Ae.readAsArrayBuffer(oe)}else try{we(JSON.stringify(oe))}catch(Je){console.error("Couldn't convert value into a JSON string: ",oe),we(null,Je)}}function Tn(oe){if(oe.substring(0,je)!==be)return JSON.parse(oe);var we=oe.substring(Ot),de=oe.substring(je,Ot),ke;if(de===it&&De.test(we)){var Oe=we.match(De);ke=Oe[1],we=we.substring(Oe[0].length)}var Ae=kn(we);switch(de){case Qe:return Ae;case it:return c([Ae],{type:ke});case Ke:return new Int8Array(Ae);case Pe:return new Uint8Array(Ae);case ze:return new Uint8ClampedArray(Ae);case ot:return new Int16Array(Ae);case Te:return new Uint16Array(Ae);case xe:return new Int32Array(Ae);case nt:return new Uint32Array(Ae);case ht:return new Float32Array(Ae);case st:return new Float64Array(Ae);default:throw new Error("Unkown type: "+de)}}var er={serialize:gn,deserialize:Tn,stringToBuffer:kn,bufferToString:Yn};function Nn(oe,we,de,ke){oe.executeSql("CREATE TABLE IF NOT EXISTS "+we.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],de,ke)}function Ni(oe){var we=this,de={db:null};if(oe)for(var ke in oe)de[ke]=typeof oe[ke]!="string"?oe[ke].toString():oe[ke];var Oe=new d(function(Ae,Je){try{de.db=openDatabase(de.name,String(de.version),de.description,de.size)}catch(at){return Je(at)}de.db.transaction(function(at){Nn(at,de,function(){we._dbInfo=de,Ae()},function(ut,lt){Je(lt)})},Je)});return de.serializer=er,Oe}function Kn(oe,we,de,ke,Oe,Ae){oe.executeSql(de,ke,Oe,function(Je,at){at.code===at.SYNTAX_ERR?Je.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[we.storeName],function(ut,lt){lt.rows.length?Ae(ut,at):Nn(ut,we,function(){ut.executeSql(de,ke,Oe,Ae)},Ae)},Ae):Ae(Je,at)},Ae)}function Or(oe,we){var de=this;oe=p(oe);var ke=new d(function(Oe,Ae){de.ready().then(function(){var Je=de._dbInfo;Je.db.transaction(function(at){Kn(at,Je,"SELECT * FROM "+Je.storeName+" WHERE key = ? LIMIT 1",[oe],function(ut,lt){var bt=lt.rows.length?lt.rows.item(0).value:null;bt&&(bt=Je.serializer.deserialize(bt)),Oe(bt)},function(ut,lt){Ae(lt)})})}).catch(Ae)});return f(ke,we),ke}function Vr(oe,we){var de=this,ke=new d(function(Oe,Ae){de.ready().then(function(){var Je=de._dbInfo;Je.db.transaction(function(at){Kn(at,Je,"SELECT * FROM "+Je.storeName,[],function(ut,lt){for(var bt=lt.rows,jt=bt.length,yn=0;yn<jt;yn++){var Jt=bt.item(yn),$n=Jt.value;if($n&&($n=Je.serializer.deserialize($n)),$n=oe($n,Jt.key,yn+1),$n!==void 0){Oe($n);return}}Oe()},function(ut,lt){Ae(lt)})})}).catch(Ae)});return f(ke,we),ke}function Xn(oe,we,de,ke){var Oe=this;oe=p(oe);var Ae=new d(function(Je,at){Oe.ready().then(function(){we===void 0&&(we=null);var ut=we,lt=Oe._dbInfo;lt.serializer.serialize(we,function(bt,jt){jt?at(jt):lt.db.transaction(function(yn){Kn(yn,lt,"INSERT OR REPLACE INTO "+lt.storeName+" (key, value) VALUES (?, ?)",[oe,bt],function(){Je(ut)},function(Jt,$n){at($n)})},function(yn){if(yn.code===yn.QUOTA_ERR){if(ke>0){Je(Xn.apply(Oe,[oe,ut,de,ke-1]));return}at(yn)}})})}).catch(at)});return f(Ae,de),Ae}function Gi(oe,we,de){return Xn.apply(this,[oe,we,de,1])}function zo(oe,we){var de=this;oe=p(oe);var ke=new d(function(Oe,Ae){de.ready().then(function(){var Je=de._dbInfo;Je.db.transaction(function(at){Kn(at,Je,"DELETE FROM "+Je.storeName+" WHERE key = ?",[oe],function(){Oe()},function(ut,lt){Ae(lt)})})}).catch(Ae)});return f(ke,we),ke}function ys(oe){var we=this,de=new d(function(ke,Oe){we.ready().then(function(){var Ae=we._dbInfo;Ae.db.transaction(function(Je){Kn(Je,Ae,"DELETE FROM "+Ae.storeName,[],function(){ke()},function(at,ut){Oe(ut)})})}).catch(Oe)});return f(de,oe),de}function tr(oe){var we=this,de=new d(function(ke,Oe){we.ready().then(function(){var Ae=we._dbInfo;Ae.db.transaction(function(Je){Kn(Je,Ae,"SELECT COUNT(key) as c FROM "+Ae.storeName,[],function(at,ut){var lt=ut.rows.item(0).c;ke(lt)},function(at,ut){Oe(ut)})})}).catch(Oe)});return f(de,oe),de}function _t(oe,we){var de=this,ke=new d(function(Oe,Ae){de.ready().then(function(){var Je=de._dbInfo;Je.db.transaction(function(at){Kn(at,Je,"SELECT key FROM "+Je.storeName+" WHERE id = ? LIMIT 1",[oe+1],function(ut,lt){var bt=lt.rows.length?lt.rows.item(0).key:null;Oe(bt)},function(ut,lt){Ae(lt)})})}).catch(Ae)});return f(ke,we),ke}function Fr(oe){var we=this,de=new d(function(ke,Oe){we.ready().then(function(){var Ae=we._dbInfo;Ae.db.transaction(function(Je){Kn(Je,Ae,"SELECT key FROM "+Ae.storeName,[],function(at,ut){for(var lt=[],bt=0;bt<ut.rows.length;bt++)lt.push(ut.rows.item(bt).key);ke(lt)},function(at,ut){Oe(ut)})})}).catch(Oe)});return f(de,oe),de}function hn(oe){return new d(function(we,de){oe.transaction(function(ke){ke.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Oe,Ae){for(var Je=[],at=0;at<Ae.rows.length;at++)Je.push(Ae.rows.item(at).name);we({db:oe,storeNames:Je})},function(Oe,Ae){de(Ae)})},function(ke){de(ke)})})}function sr(oe,we){we=m.apply(this,arguments);var de=this.config();oe=typeof oe!="function"&&oe||{},oe.name||(oe.name=oe.name||de.name,oe.storeName=oe.storeName||de.storeName);var ke=this,Oe;return oe.name?Oe=new d(function(Ae){var Je;oe.name===de.name?Je=ke._dbInfo.db:Je=openDatabase(oe.name,"","",0),oe.storeName?Ae({db:Je,storeNames:[oe.storeName]}):Ae(hn(Je))}).then(function(Ae){return new d(function(Je,at){Ae.db.transaction(function(ut){function lt(Jt){return new d(function($n,en){ut.executeSql("DROP TABLE IF EXISTS "+Jt,[],function(){$n()},function(br,_s){en(_s)})})}for(var bt=[],jt=0,yn=Ae.storeNames.length;jt<yn;jt++)bt.push(lt(Ae.storeNames[jt]));d.all(bt).then(function(){Je()}).catch(function(Jt){at(Jt)})},function(ut){at(ut)})})}):Oe=d.reject("Invalid arguments"),f(Oe,we),Oe}var En={_driver:"webSQLStorage",_initStorage:Ni,_support:ye(),iterate:Vr,getItem:Or,setItem:Gi,removeItem:zo,clear:ys,length:tr,key:_t,keys:Fr,dropInstance:sr};function Ar(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Jr(oe,we){var de=oe.name+"/";return oe.storeName!==we.storeName&&(de+=oe.storeName+"/"),de}function _i(){var oe="_localforage_support_test";try{return localStorage.setItem(oe,!0),localStorage.removeItem(oe),!1}catch{return!0}}function ho(){return!_i()||localStorage.length>0}function Fl(oe){var we=this,de={};if(oe)for(var ke in oe)de[ke]=oe[ke];return de.keyPrefix=Jr(oe,we._defaultConfig),ho()?(we._dbInfo=de,de.serializer=er,d.resolve()):d.reject()}function Rh(oe){var we=this,de=we.ready().then(function(){for(var ke=we._dbInfo.keyPrefix,Oe=localStorage.length-1;Oe>=0;Oe--){var Ae=localStorage.key(Oe);Ae.indexOf(ke)===0&&localStorage.removeItem(Ae)}});return f(de,oe),de}function fr(oe,we){var de=this;oe=p(oe);var ke=de.ready().then(function(){var Oe=de._dbInfo,Ae=localStorage.getItem(Oe.keyPrefix+oe);return Ae&&(Ae=Oe.serializer.deserialize(Ae)),Ae});return f(ke,we),ke}function wc(oe,we){var de=this,ke=de.ready().then(function(){for(var Oe=de._dbInfo,Ae=Oe.keyPrefix,Je=Ae.length,at=localStorage.length,ut=1,lt=0;lt<at;lt++){var bt=localStorage.key(lt);if(bt.indexOf(Ae)===0){var jt=localStorage.getItem(bt);if(jt&&(jt=Oe.serializer.deserialize(jt)),jt=oe(jt,bt.substring(Je),ut++),jt!==void 0)return jt}}});return f(ke,we),ke}function Ei(oe,we){var de=this,ke=de.ready().then(function(){var Oe=de._dbInfo,Ae;try{Ae=localStorage.key(oe)}catch{Ae=null}return Ae&&(Ae=Ae.substring(Oe.keyPrefix.length)),Ae});return f(ke,we),ke}function Ja(oe){var we=this,de=we.ready().then(function(){for(var ke=we._dbInfo,Oe=localStorage.length,Ae=[],Je=0;Je<Oe;Je++){var at=localStorage.key(Je);at.indexOf(ke.keyPrefix)===0&&Ae.push(at.substring(ke.keyPrefix.length))}return Ae});return f(de,oe),de}function po(oe){var we=this,de=we.keys().then(function(ke){return ke.length});return f(de,oe),de}function _m(oe,we){var de=this;oe=p(oe);var ke=de.ready().then(function(){var Oe=de._dbInfo;localStorage.removeItem(Oe.keyPrefix+oe)});return f(ke,we),ke}function Dh(oe,we,de){var ke=this;oe=p(oe);var Oe=ke.ready().then(function(){we===void 0&&(we=null);var Ae=we;return new d(function(Je,at){var ut=ke._dbInfo;ut.serializer.serialize(we,function(lt,bt){if(bt)at(bt);else try{localStorage.setItem(ut.keyPrefix+oe,lt),Je(Ae)}catch(jt){(jt.name==="QuotaExceededError"||jt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&at(jt),at(jt)}})})});return f(Oe,de),Oe}function Jd(oe,we){if(we=m.apply(this,arguments),oe=typeof oe!="function"&&oe||{},!oe.name){var de=this.config();oe.name=oe.name||de.name,oe.storeName=oe.storeName||de.storeName}var ke=this,Oe;return oe.name?Oe=new d(function(Ae){oe.storeName?Ae(Jr(oe,ke._defaultConfig)):Ae(oe.name+"/")}).then(function(Ae){for(var Je=localStorage.length-1;Je>=0;Je--){var at=localStorage.key(Je);at.indexOf(Ae)===0&&localStorage.removeItem(at)}}):Oe=d.reject("Invalid arguments"),f(Oe,we),Oe}var Zd={_driver:"localStorageWrapper",_initStorage:Fl,_support:Ar(),iterate:wc,getItem:fr,setItem:Dh,removeItem:_m,clear:Rh,length:po,key:Ei,keys:Ja,dropInstance:Jd},xc=function(we,de){return we===de||typeof we=="number"&&typeof de=="number"&&isNaN(we)&&isNaN(de)},Em=function(we,de){for(var ke=we.length,Oe=0;Oe<ke;){if(xc(we[Oe],de))return!0;Oe++}return!1},_c=Array.isArray||function(oe){return Object.prototype.toString.call(oe)==="[object Array]"},Qn={},Ph={},vs={INDEXEDDB:he,WEBSQL:En,LOCALSTORAGE:Zd},Ll=[vs.INDEXEDDB._driver,vs.WEBSQL._driver,vs.LOCALSTORAGE._driver],bs=["dropInstance"],Ec=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(bs),Cm={description:"",driver:Ll.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function _u(oe,we){oe[we]=function(){var de=arguments;return oe.ready().then(function(){return oe[we].apply(oe,de)})}}function ws(){for(var oe=1;oe<arguments.length;oe++){var we=arguments[oe];if(we)for(var de in we)we.hasOwnProperty(de)&&(_c(we[de])?arguments[0][de]=we[de].slice():arguments[0][de]=we[de])}return arguments[0]}var Sm=function(){function oe(we){o(this,oe);for(var de in vs)if(vs.hasOwnProperty(de)){var ke=vs[de],Oe=ke._driver;this[de]=Oe,Qn[Oe]||this.defineDriver(ke)}this._defaultConfig=ws({},Cm),this._config=ws({},this._defaultConfig,we),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return oe.prototype.config=function(de){if((typeof de>"u"?"undefined":s(de))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ke in de){if(ke==="storeName"&&(de[ke]=de[ke].replace(/\W/g,"_")),ke==="version"&&typeof de[ke]!="number")return new Error("Database version must be a number.");this._config[ke]=de[ke]}return"driver"in de&&de.driver?this.setDriver(this._config.driver):!0}else return typeof de=="string"?this._config[de]:this._config},oe.prototype.defineDriver=function(de,ke,Oe){var Ae=new d(function(Je,at){try{var ut=de._driver,lt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!de._driver){at(lt);return}for(var bt=Ec.concat("_initStorage"),jt=0,yn=bt.length;jt<yn;jt++){var Jt=bt[jt],$n=!Em(bs,Jt);if(($n||de[Jt])&&typeof de[Jt]!="function"){at(lt);return}}var en=function(){for(var Za=function(mo){return function(){var Ci=new Error("Method "+mo+" is not implemented by the current driver"),Ls=d.reject(Ci);return f(Ls,arguments[arguments.length-1]),Ls}},Eu=0,Tm=bs.length;Eu<Tm;Eu++){var ef=bs[Eu];de[ef]||(de[ef]=Za(ef))}};en();var br=function(Za){Qn[ut]&&console.info("Redefining LocalForage driver: "+ut),Qn[ut]=de,Ph[ut]=Za,Je()};"_support"in de?de._support&&typeof de._support=="function"?de._support().then(br,at):br(!!de._support):br(!0)}catch(_s){at(_s)}});return h(Ae,ke,Oe),Ae},oe.prototype.driver=function(){return this._driver||null},oe.prototype.getDriver=function(de,ke,Oe){var Ae=Qn[de]?d.resolve(Qn[de]):d.reject(new Error("Driver not found."));return h(Ae,ke,Oe),Ae},oe.prototype.getSerializer=function(de){var ke=d.resolve(er);return h(ke,de),ke},oe.prototype.ready=function(de){var ke=this,Oe=ke._driverSet.then(function(){return ke._ready===null&&(ke._ready=ke._initDriver()),ke._ready});return h(Oe,de,de),Oe},oe.prototype.setDriver=function(de,ke,Oe){var Ae=this;_c(de)||(de=[de]);var Je=this._getSupportedDrivers(de);function at(){Ae._config.driver=Ae.driver()}function ut(jt){return Ae._extend(jt),at(),Ae._ready=Ae._initStorage(Ae._config),Ae._ready}function lt(jt){return function(){var yn=0;function Jt(){for(;yn<jt.length;){var $n=jt[yn];return yn++,Ae._dbInfo=null,Ae._ready=null,Ae.getDriver($n).then(ut).catch(Jt)}at();var en=new Error("No available storage method found.");return Ae._driverSet=d.reject(en),Ae._driverSet}return Jt()}}var bt=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=bt.then(function(){var jt=Je[0];return Ae._dbInfo=null,Ae._ready=null,Ae.getDriver(jt).then(function(yn){Ae._driver=yn._driver,at(),Ae._wrapLibraryMethodsWithReady(),Ae._initDriver=lt(Je)})}).catch(function(){at();var jt=new Error("No available storage method found.");return Ae._driverSet=d.reject(jt),Ae._driverSet}),h(this._driverSet,ke,Oe),this._driverSet},oe.prototype.supports=function(de){return!!Ph[de]},oe.prototype._extend=function(de){ws(this,de)},oe.prototype._getSupportedDrivers=function(de){for(var ke=[],Oe=0,Ae=de.length;Oe<Ae;Oe++){var Je=de[Oe];this.supports(Je)&&ke.push(Je)}return ke},oe.prototype._wrapLibraryMethodsWithReady=function(){for(var de=0,ke=Ec.length;de<ke;de++)_u(this,Ec[de])},oe.prototype.createInstance=function(de){return new oe(de)},oe}(),xs=new Sm;r.exports=xs},{3:3}]},{},[4])(4)})}(TB)),TB.exports}var _Qt=xQt();const V4e=ao(_Qt),Eo=[];for(let e=0;e<256;++e)Eo.push((e+256).toString(16).slice(1));function EQt(e,t=0){return(Eo[e[t+0]]+Eo[e[t+1]]+Eo[e[t+2]]+Eo[e[t+3]]+"-"+Eo[e[t+4]]+Eo[e[t+5]]+"-"+Eo[e[t+6]]+Eo[e[t+7]]+"-"+Eo[e[t+8]]+Eo[e[t+9]]+"-"+Eo[e[t+10]]+Eo[e[t+11]]+Eo[e[t+12]]+Eo[e[t+13]]+Eo[e[t+14]]+Eo[e[t+15]]).toLowerCase()}let AB;const CQt=new Uint8Array(16);function SQt(){if(!AB){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");AB=crypto.getRandomValues.bind(crypto)}return AB(CQt)}const TQt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),E0e={randomUUID:TQt};function AQt(e,t,n){var i;if(E0e.randomUUID&&!e)return E0e.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??SQt();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,EQt(r)}var kB,C0e;function kQt(){if(C0e)return kB;C0e=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=typeof Rs=="object"&&Rs&&Rs.Object===Object&&Rs,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(S,T,A){var I,D,O,M,$,L,z=0,B=!1,W=!1,V=!0;if(typeof S!="function")throw new TypeError(e);T=C(T)||0,v(A)&&(B=!!A.leading,W="maxWait"in A,O=W?h(C(A.maxWait)||0,T):O,V="trailing"in A?!!A.trailing:V);function X(se){var ne=I,fe=D;return I=D=void 0,z=se,M=S.apply(fe,ne),M}function U(se){return z=se,$=setTimeout(q,T),B?X(se):M}function F(se){var ne=se-L,fe=se-z,ee=T-ne;return W?p(ee,O-fe):ee}function G(se){var ne=se-L,fe=se-z;return L===void 0||ne>=T||ne<0||W&&fe>=O}function q(){var se=m();if(G(se))return Y(se);$=setTimeout(q,F(se))}function Y(se){return $=void 0,V&&I?X(se):(I=D=void 0,M)}function J(){$!==void 0&&clearTimeout($),z=0,I=L=D=$=void 0}function te(){return $===void 0?M:Y(m())}function ue(){var se=m(),ne=G(se);if(I=arguments,D=this,L=se,ne){if($===void 0)return U(L);if(W)return $=setTimeout(q,T),X(L)}return $===void 0&&($=setTimeout(q,T)),M}return ue.cancel=J,ue.flush=te,ue}function y(S,T,A){var I=!0,D=!0;if(typeof S!="function")throw new TypeError(e);return v(A)&&(I="leading"in A?!!A.leading:I,D="trailing"in A?!!A.trailing:D),g(S,T,{leading:I,maxWait:T,trailing:D})}function v(S){var T=typeof S;return!!S&&(T=="object"||T=="function")}function w(S){return!!S&&typeof S=="object"}function E(S){return typeof S=="symbol"||w(S)&&f.call(S)==n}function C(S){if(typeof S=="number")return S;if(E(S))return t;if(v(S)){var T=typeof S.valueOf=="function"?S.valueOf():S;S=v(T)?T+"":T}if(typeof S!="string")return S===0?S:+S;S=S.replace(r,"");var A=s.test(S);return A||o.test(S)?a(S.slice(2),A?2:8):i.test(S)?t:+S}return kB=y,kB}var IQt=kQt();const S0e=ao(IQt);class W4e{constructor(t,n){ul(this,"engine");ul(this,"testing");ul(this,"cloudEngine",!1);ul(this,"connected",!1);ul(this,"localForage",V4e.createInstance({name:"revisit"}));ul(this,"collectionPrefix","prod-");ul(this,"studyId");ul(this,"currentParticipantId");ul(this,"participantData");ul(this,"__throttleVerifyStudyDatabase",S0e(async()=>{await this._verifyStudyDatabase()},1e4));ul(this,"__throttleSaveAnswers",S0e(async()=>{await this._saveAnswers()},3e3));this.engine=t,this.testing=n}isConnected(){return this.connected}getEngine(){return this.engine}isCloudEngine(){return this.cloudEngine}async verifyStudyDatabase(){return await this.__throttleVerifyStudyDatabase()}async saveConfig(t){const n=await this._getCurrentConfigHash(),r=await B7(JSON.stringify(t));if(await this._pushToStorage(`configs/${r}`,"config",t),await this._cacheStorageObject(`configs/${r}`,"config"),n&&n!==r){try{await this._deleteFromStorage("","sequenceArray")}catch{}await this.clearCurrentParticipantId()}await this._setCurrentConfigHash(r)}async getAllConfigsFromHash(t,n){const r=t.map(async s=>[s,await this._getFromStorage(`configs/${s}`,"config",n)]),i=await Promise.all(r);return Object.fromEntries(i)}async getCurrentParticipantId(t){if(t)return this.currentParticipantId=t,t;if(this.currentParticipantId)return this.currentParticipantId;if(!this.studyId)throw new Error("Study ID is not set");const n=await this.localForage.getItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`);return n?(this.currentParticipantId=n,n):(this.currentParticipantId=AQt(),await this.localForage.setItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`,this.currentParticipantId),this.currentParticipantId)}async clearCurrentParticipantId(){if(this.currentParticipantId=void 0,!this.studyId)throw new Error("Study ID is not set");return await this.localForage.removeItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`)}async _getSequence(){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");let t=await this._getAllSequenceAssignments(this.studyId);const n=await this.getModes(this.studyId),r=t.filter(u=>u.rejected&&!u.claimed);if(r.length>0){const u=r[0],c=u.timestamp;if(n.dataCollectionEnabled){const d={participantId:this.currentParticipantId,timestamp:c,rejected:!1,claimed:!1,completed:null,createdTime:new Date().getTime()};await this._claimSequenceAssignment(u.participantId,u),await this._createSequenceAssignment(this.currentParticipantId,d,!1)}}else if(n.dataCollectionEnabled){const u=new Date().getTime(),c={participantId:this.currentParticipantId,timestamp:u,rejected:!1,claimed:!1,completed:null,createdTime:u};await this._createSequenceAssignment(this.currentParticipantId,c,!0)}t=await this._getAllSequenceAssignments(this.studyId);const i=await this.getSequenceArray();if(!i)throw new Error("Latin square not initialized");const s=t.filter(u=>!u.rejected).findIndex(u=>u.participantId===this.currentParticipantId)%i.length;if(i.length===0)throw new Error("Something really bad happened with sequence assignment");if(s===-1)return{currentRow:i[Math.floor(Math.random()*i.length)],creationIndex:1};const o=i[s];if(!o)throw new Error("Latin square is empty");const l=t.sort((u,c)=>u.createdTime-c.createdTime).findIndex(u=>u.participantId===this.currentParticipantId)+1;return{currentRow:o,creationIndex:l}}async initializeParticipantSession(t,n,r,i){if(await this.verifyStudyDatabase(),await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this._getFromStorage(`participants/${this.currentParticipantId}`,"participantData");if(this.studyId===void 0)throw new Error("Study ID is not set");const o=await this.getModes(this.studyId);if($I(s))return this.participantData=s,s;const a=await B7(JSON.stringify(n)),{currentRow:l,creationIndex:u}=await this._getSequence();return this.participantData={participantId:this.currentParticipantId,participantConfigHash:a,sequence:l,participantIndex:u,answers:{},searchParams:t,metadata:r,completed:!1,rejected:!1,participantTags:[]},o.dataCollectionEnabled&&await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getAllParticipantIds(t){const n=this.studyId||t;if(n===void 0)throw new Error("Study ID is not set");return(await this._getAllSequenceAssignments(n)).map(i=>i.participantId)}async getParticipantData(t){if(await this.verifyStudyDatabase(),this.currentParticipantId===null&&!t)throw new Error("Participant not initialized");const n=await this._getFromStorage(`participants/${t||this.currentParticipantId}`,"participantData");return $I(n)?n:null}async getParticipantTags(){await this.verifyStudyDatabase();const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");return t.participantTags}async addParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=[...new Set([...this.participantData.participantTags,...t])],await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async removeParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=this.participantData.participantTags.filter(n=>!t.includes(n)),await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async rejectParticipant(t,n,r){const i=await this._getFromStorage(`participants/${t}`,"participantData",r);try{if(!i||!$I(i)||i.rejected)return;i.rejected={reason:n,timestamp:new Date().getTime()},await this._pushToStorage(`participants/${t}`,"participantData",i),await this._rejectParticipantRealtime(t)}catch(s){console.warn("Error rejecting participant:",s)}}async rejectCurrentParticipant(t){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.rejectParticipant(this.currentParticipantId,t)}async getAllParticipantsData(t){const n=await this.getAllParticipantIds(t),r=[],i=n.map(async s=>{const o=await this._getFromStorage(`participants/${s}`,"participantData",t);$I(o)&&r.push(o)});return await Promise.all(i),r}async getParticipantsStatusCounts(t){const n=await this._getAllSequenceAssignments(t),r=n.filter(l=>l.completed&&!l.rejected).length,i=n.filter(l=>l.rejected).length,s=n.length-r-i,o=n.length>0?n[0].timestamp:null,a=n.length>0?n.at(-1).timestamp:null;return{completed:r,rejected:i,inProgress:s,minTime:o,maxTime:a}}async _saveAnswers(){if(await this.verifyStudyDatabase(),!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async saveAnswers(t){if(!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");this.participantData={...this.participantData,answers:t},await this.__throttleSaveAnswers(t)}async verifyCompletion(){var s;if(await this.verifyStudyDatabase(),!this.studyId)throw new Error("Study not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");if(t.completed)return!0;const n=await this.getModes(this.studyId),r=Object.values(t.answers).map(o=>o.endTime).reduce((o,a)=>Math.max(o,a),0),i=Object.values(((s=this.participantData)==null?void 0:s.answers)||{}).map(o=>o.endTime).reduce((o,a)=>Math.max(o,a),0);return this.participantData&&r===i?(this.participantData.completed=!0,n.dataCollectionEnabled&&(await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),await this._cacheStorageObject(`participants/${this.currentParticipantId}`,"participantData"),await this._completeCurrentParticipantRealtime()),!0):!1}async getAudio(t,n){const r=await this._getAudioUrl(t,n);return r?new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{const a=o.response,l=URL.createObjectURL(a);s(l)},o.open("GET",r),o.send()}):null}async saveAudio(t,n){let r=null;const i=async s=>{r||(r=setTimeout(async()=>{await this._pushToStorage(`audio/${this.currentParticipantId}`,n,s.data),await this._cacheStorageObject(`audio/${this.currentParticipantId}`,n)},500))};t.addEventListener("dataavailable",i),t.requestData()}async getSequenceArray(){await this.verifyStudyDatabase();const t=await this._getFromStorage("","sequenceArray");return Array.isArray(t)?t:null}async setSequenceArray(t){await this.verifyStudyDatabase(),await this._pushToStorage("","sequenceArray",t)}async __testingReset(){this.currentParticipantId=void 0,this.participantData=void 0,this.localForage.setItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`,void 0)}async createSnapshot(t,n){const r=`${this.collectionPrefix}${t}`;if(!await this._directoryExists(`${r}/participants`))return console.warn(`Source directory ${r} does not exist.`),{status:"FAILED",error:{message:"There is currently no data in your study. A snapshot could not be created.",title:"Failed to Create Snapshot."}};const i=new Date,s=i.getUTCFullYear(),o=(i.getUTCMonth()+1).toString().padStart(2,"0"),a=i.getUTCDate().toString().padStart(2,"0"),l=i.getUTCHours().toString().padStart(2,"0"),u=i.getUTCMinutes().toString().padStart(2,"0"),c=i.getUTCSeconds().toString().padStart(2,"0"),d=`${s}-${o}-${a}T${l}:${u}:${c}`,f=`${this.collectionPrefix}${t}-snapshot-${d}`;this.getEngine()==="localStorage"?await this._copyDirectory(`${r}/`,`${f}/`):(await this._copyDirectory(`${r}/configs`,`${f}/configs`),await this._copyDirectory(`${r}/participants`,`${f}/participants`),await this._copyDirectory(`${r}/audio`,`${f}/audio`),await this._copyDirectory(r,f),await this._copyRealtimeData(r,f)),await this._addDirectoryNameToSnapshots(f,t);const h=[];if(n){const p=await this.removeSnapshotOrLive(r,t);p.status==="FAILED"?h.push({title:p.error.title,message:p.error.message,color:"red"}):h.push({title:"Success!",message:"Successfully deleted live data.",color:"green"})}return h.push({message:"Successfully created snapshot",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:h}}async removeSnapshotOrLive(t,n){const r=t.startsWith(this.collectionPrefix)?t:`${this.collectionPrefix}${t}`;try{return this.getEngine()==="localStorage"?await this._deleteDirectory(`${r}/`):(await this._deleteDirectory(`${r}/configs`),await this._deleteDirectory(`${r}/participants`),await this._deleteDirectory(`${r}/audio`),await this._deleteDirectory(r),await this._deleteRealtimeData(r)),await this._removeDirectoryNameFromSnapshots(r,n),{status:"SUCCESS",notifications:[{message:"Successfully deleted snapshot or live data.",title:"Success!",color:"green"}]}}catch{return{status:"FAILED",error:{title:"Failed to delete live data or snapshot",message:"There was an unspecified error when trying to remove a snapshot or live data."}}}}async restoreSnapshot(t,n){const r=`${this.collectionPrefix}${t}`,i=[];try{const s=await this.createSnapshot(t,!0);return s.status==="FAILED"?(console.warn("No live data to capture."),i.push({title:s.error.title,message:s.error.message,color:"yellow"})):i.push({title:"Success!",message:"Successfully created snapshot of live data.",color:"green"}),await this._copyDirectory(`${n}/configs`,`${r}/configs`),await this._copyDirectory(`${n}/participants`,`${r}/participants`),await this._copyDirectory(`${n}/audio`,`${r}/audio`),await this._copyDirectory(n,r),await this._copyRealtimeData(n,r),i.push({message:"Successfully restored snapshot to live data.",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:i}}catch(s){return console.error("Error trying to delete a snapshot",s),{status:"FAILED",error:{title:"Failed to restore a snapshot fully.",message:"There was an unspecified error when trying to restore this snapshot."}}}}async renameSnapshot(t,n,r){try{return await this._changeDirectoryNameInSnapshots(t,n,r),{status:"SUCCESS",notifications:[{message:"Successfully renamed snapshot.",title:"Success!",color:"green"}]}}catch(i){return console.error("Error renaming collection in metadata",i),{status:"FAILED",error:{title:"Failed to Rename Snapshot.",message:"There was an error when trying to rename the snapshot."}}}}}class RQt extends W4e{constructor(n=!1){super("localStorage",n);ul(this,"studyDatabase",V4e.createInstance({name:"revisit"}))}async _getFromStorage(n,r,i){const s=`${this.collectionPrefix}${i||this.studyId}/${n}_${r}`;return await this.studyDatabase.getItem(s)}async _pushToStorage(n,r,i){await this.verifyStudyDatabase();const s=`${this.collectionPrefix}${this.studyId}/${n}_${r}`;await this.studyDatabase.setItem(s,i)}async _deleteFromStorage(n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${this.studyId}/${n}_${r}`;await this.studyDatabase.removeItem(i)}async _cacheStorageObject(){}async _verifyStudyDatabase(){if(!this.studyDatabase||!this.studyId)throw new Error("Study database not initialized")}async _getCurrentConfigHash(){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/configHash`;return await this.studyDatabase.getItem(n)||null}async _setCurrentConfigHash(n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/configHash`;await this.studyDatabase.setItem(r,n)}async _getAllSequenceAssignments(n){const r=`${this.collectionPrefix}${n}/sequenceAssignment`,i=await this.studyDatabase.getItem(r);return i?Object.values(i).sort((s,o)=>s.timestamp-o.timestamp):[]}async _createSequenceAssignment(n,r){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const i=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,s=await this.studyDatabase.getItem(i)||{};s[n]=r,await this.studyDatabase.setItem(i,s)}async _completeCurrentParticipantRealtime(){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");const n=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,r=await this.studyDatabase.getItem(n)||{};if(r[this.currentParticipantId])r[this.currentParticipantId]={...r[this.currentParticipantId],completed:new Date().getTime()};else throw new Error("Participant sequence assignment not found");await this.studyDatabase.setItem(n,r)}async _rejectParticipantRealtime(n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{},s=i[n],o=Object.values(i).find(a=>a.claimed&&a.timestamp===s.timestamp);if(s&&o){o.claimed=!1,o.rejected=!0,await this.studyDatabase.setItem(r,i),i[n]={...s,timestamp:new Date().getTime(),rejected:!0},await this.studyDatabase.setItem(r,i);return}s&&(s.rejected=!0,await this.studyDatabase.setItem(r,i))}async _claimSequenceAssignment(n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,s=await this.studyDatabase.getItem(i)||{};if(s[n])s[n]={...r,claimed:!0},await this.studyDatabase.setItem(i,s);else throw new Error(`Sequence assignment for participant ${n} not found`)}async initializeStudyDb(n){this.studyId=n}async connect(){this.connected=!0}async getModes(n){const r=`${this.collectionPrefix}${n}/modes`,i=await this.studyDatabase.getItem(r);if(i)return i;const s={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return this.studyDatabase.setItem(r,s),s}async setMode(n,r,i){const s=`${this.collectionPrefix}${n}/modes`,o=await this.studyDatabase.getItem(s);if(!o)throw new Error("Modes not initialized");o[r]=i,this.studyDatabase.setItem(s,o)}async _getAudioUrl(n,r){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const i=await this._getFromStorage(`audio/${r||this.currentParticipantId}`,n);if(!i)throw new Error(`Audio for task ${n} and participant ${r||this.currentParticipantId} not found`);return URL.createObjectURL(i)}async _testingReset(n){if(!n)throw new Error("Study ID is required for reset");const i=(await this.studyDatabase.keys()).filter(s=>s.startsWith(`${this.collectionPrefix}${n}/`));await Promise.all(i.map(s=>this.studyDatabase.removeItem(s))),await super.__testingReset()}async getSnapshots(n){const r=`${this.collectionPrefix}${n}/snapshots`;return await this.studyDatabase.getItem(r)||{}}async _directoryExists(n){return(await this.studyDatabase.keys()).some(i=>i.startsWith(n))}async _copyDirectory(n,r){const o=(await this.studyDatabase.keys()).filter(a=>a.startsWith(n)).map(async a=>{if(a.endsWith("/snapshots")||a.endsWith("modes")||a.endsWith("configHash")||a.endsWith("currentParticipantId"))return;const l=await this.studyDatabase.getItem(a),u=a.replace(n,r);await this.studyDatabase.setItem(u,l)});await Promise.all(o)}async _deleteDirectory(n){const s=(await this.studyDatabase.keys()).filter(o=>o.startsWith(n)&&!o.includes("snapshots")).map(o=>this.studyDatabase.removeItem(o));await Promise.all(s)}async _copyRealtimeData(n,r){await this._copyDirectory(n,r)}async _deleteRealtimeData(n){await this._deleteDirectory(n)}async _addDirectoryNameToSnapshots(n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${r}/snapshots`,s=await this.studyDatabase.getItem(i)||{};s[n]||(s[n]={name:n},await this.studyDatabase.setItem(i,s))}async _removeDirectoryNameFromSnapshots(n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${r}/snapshots`,s=await this.studyDatabase.getItem(i)||{};s[n]&&(delete s[n],await this.studyDatabase.setItem(i,s))}async _changeDirectoryNameInSnapshots(n,r,i){await this.verifyStudyDatabase();const s=`${this.collectionPrefix}${i}/snapshots`,o=await this.studyDatabase.getItem(s)||{};if(o[n])o[n]={name:r},await this.studyDatabase.setItem(s,o);else throw new Error(`Snapshot with name ${n} does not exist`)}}var IB,T0e;function Y5(){if(T0e)return IB;T0e=1;var e=L2e;function t(o,a){var l,u="",c=0,d=!0,f=0,h;function p(){return h=o.charAt(f),f++,h}for(p(),h==="-"&&(u="-",p());h>="0"&&h<="9";)d&&(h=="0"?c++:d=!1),u+=h,p();if(d&&c--,h===".")for(u+=".";p()&&h>="0"&&h<="9";)u+=h;if(h==="e"||h==="E")for(u+=h,p(),(h==="-"||h==="+")&&(u+=h,p());h>="0"&&h<="9";)u+=h,p();for(;h&&h<=" ";)p();if(a&&(h===","||h==="}"||h==="]"||h==="#"||h==="/"&&(o[f]==="/"||o[f]==="*"))&&(h=0),l=+u,!(h||c||!isFinite(l)))return l}function n(o,a){return Object.defineProperty&&Object.defineProperty(o,"__COMMENTS__",{enumerable:!1,writable:!0}),o.__COMMENTS__=a||{}}function r(o){Object.defineProperty(o,"__COMMENTS__",{value:void 0})}function i(o){return o.__COMMENTS__}function s(o){if(!o)return"";var a=o.split(`
`),l,u,c,d;for(c=0;c<a.length;c++)for(l=a[c],d=l.length,u=0;u<d;u++){var f=l[u];if(f==="#")break;if(f==="/"&&(l[u+1]==="/"||l[u+1]==="*")){l[u+1]==="*"&&(c=a.length);break}else if(f>" "){a[c]="# "+l;break}}return a.join(`
`)}return IB={EOL:e.EOL||`
`,tryParseNumber:t,createComment:n,removeComment:r,getComment:i,forceComment:s},IB}var RB,A0e;function DQt(){return A0e||(A0e=1,RB="3.2.1"),RB}var DB,k0e;function qee(){if(k0e)return DB;k0e=1;function e(a,l){if(Object.prototype.toString.apply(a)!=="[object Array]"){if(a)throw new Error("dsf option must contain an array!");return n}else if(a.length===0)return n;var u=[];function c(d){return{}.toString.call(d)==="[object Function]"}return a.forEach(function(d){if(!d.name||!c(d.parse)||!c(d.stringify))throw new Error("extension does not match the DSF interface");u.push(function(){try{if(l=="parse")return d.parse.apply(null,arguments);if(l=="stringify"){var f=d.stringify.apply(null,arguments);if(f!==void 0&&(typeof f!="string"||f.length===0||f[0]==='"'||[].some.call(f,function(h){return r(h)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+f);return f}else throw new Error("Invalid type")}catch(h){throw new Error("DSF-"+d.name+" failed; "+h.message)}})}),t.bind(null,u)}function t(a,l){if(a)for(var u=0;u<a.length;u++){var c=a[u](l);if(c!==void 0)return c}}function n(){}function r(a){return a==="{"||a==="}"||a==="["||a==="]"||a===","}function i(){return{name:"math",parse:function(a){switch(a){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(a){if(typeof a=="number"){if(1/a===-1/0)return"-0";if(a===1/0)return"Inf";if(a===-1/0)return"-Inf";if(isNaN(a))return"NaN"}}}}i.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function s(a){var l=a&&a.out;return{name:"hex",parse:function(u){if(/^0x[0-9A-Fa-f]+$/.test(u))return parseInt(u,16)},stringify:function(u){if(l&&Number.isInteger(u))return"0x"+u.toString(16)}}}s.description="parse hexadecimal numbers prefixed with 0x";function o(){return{name:"date",parse:function(a){if(/^\d{4}-\d{2}-\d{2}$/.test(a)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(a)){var l=Date.parse(a);if(!isNaN(l))return new Date(l)}},stringify:function(a){if(Object.prototype.toString.call(a)==="[object Date]"){var l=a.toISOString();return l.indexOf("T00:00:00.000Z",l.length-14)!==-1?l.substr(0,10):l}}}}return o.description="support ISO dates",DB={loadDsf:e,std:{math:i,hex:s,date:o}},DB}var PB,I0e;function PQt(){return I0e||(I0e=1,PB=function(e,t){var n=Y5(),r=qee(),i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){s=0,o=" "}function d(L){return L==="{"||L==="}"||L==="["||L==="]"||L===","||L===":"}function f(L){var z,B=0,W=1;for(z=s-1;z>0&&i[z]!==`
`;z--,B++);for(;z>0;z--)i[z]===`
`&&W++;throw new Error(L+" at line "+W+","+B+" >>>"+i.substr(s-B,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(L){return i.charAt(s+L)}function m(L){for(var z="",B=o;h();){if(o===B)return h(),L&&B==="'"&&o==="'"&&z.length===0?(h(),g()):z;if(o==="\\")if(h(),o==="u"){for(var W=0,V=0;V<4;V++){h();var X=o.charCodeAt(0),U;o>="0"&&o<="9"?U=X-48:o>="a"&&o<="f"?U=X-97+10:o>="A"&&o<="F"?U=X-65+10:f("Bad \\u char "+o),W=W*16+U}z+=String.fromCharCode(W)}else if(typeof a[o]=="string")z+=a[o];else break;else o===`
`||o==="\r"?f("Bad string containing newline"):z+=o}f("Bad string")}function g(){for(var L="",z=0,B=0;;){var W=p(-B-5);if(!W||W===`
`)break;B++}function V(){for(var X=B;o&&o<=" "&&o!==`
`&&X-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),V());;){if(!o)f("Bad multiline string");else if(o==="'"){if(z++,h(),z===3)return L.slice(-1)===`
`&&(L=L.slice(0,-1)),L;continue}else for(;z>0;)L+="'",z--;o===`
`?(L+=`
`,h(),V()):(o!=="\r"&&(L+=o),h())}}function y(){if(o==='"'||o==="'")return m(!1);for(var L="",z=s,B=-1;;){if(o===":")return L?B>=0&&B!==L.length&&(s=z+B,f("Found whitespace in your key name (use quotes to include)")):f("Found ':' but no key name (for an empty key name use quotes)"),L;o<=" "?o?B<0&&(B=L.length):f("Found EOF while looking for a key name (check your syntax)"):d(o)?f("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):L+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function w(){var L=o;for(d(o)&&f("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var z=o==="\r"||o===`
`||o==="";if(z||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var B=L[0];switch(B){case"f":if(L.trim()==="false")return!1;break;case"n":if(L.trim()==="null")return null;break;case"t":if(L.trim()==="true")return!0;break;default:if(B==="-"||B>="0"&&B<="9"){var W=n.tryParseNumber(L);if(W!==void 0)return W}}if(z){L=L.trim();var V=u(L);return V!==void 0?V:L}}L+=o}}function E(L,z){var B;for(L--,B=s-2;B>L&&i[B]<=" "&&i[B]!==`
`;B--);i[B]===`
`&&B--,i[B]==="\r"&&B--;var W=i.substr(L,B-L+1);for(B=0;B<W.length;B++)if(W[B]>" "){var V=W.indexOf(`
`);if(V>=0){var X=[W.substr(0,V),W.substr(V+1)];return z&&X[0].trim().length===0&&X.shift(),X}else return[W]}return[]}function C(L){function z(W,V){var X,U,F,G;switch(typeof W){case"string":W.indexOf(V)>=0&&(G=W);break;case"object":if(Object.prototype.toString.apply(W)==="[object Array]")for(X=0,F=W.length;X<F;X++)G=z(W[X],V)||G;else for(U in W)Object.prototype.hasOwnProperty.call(W,U)&&(G=z(W[U],V)||G)}return G}function B(W){var V=z(L,W);return V?"found '"+W+`' in a string value, your mistake could be with:
  > `+V+`
  (unquoted strings contain everything up to the next line!)`:""}return B("}")||B("]")}function S(){var L=[],z,B,W;try{if(l&&(z=n.createComment(L,{a:[]})),h(),B=s,v(),z&&(W=E(B,!0).join(`
`)),o==="]")return h(),z&&(z.e=[W]),L;for(;o;){if(L.push(A()),B=s,v(),o===","&&(h(),B=s,v()),z){var V=E(B);z.a.push([W||"",V[0]||""]),W=V[1]}if(o==="]")return h(),z&&(z.a[z.a.length-1][1]+=W||""),L;v()}f("End of input while parsing an array (missing ']')")}catch(X){throw X.hint=X.hint||C(L),X}}function T(L){var z="",B={},W,V,X;try{if(l&&(W=n.createComment(B,{c:{},o:[]})),L?V=1:(h(),V=s),v(),W&&(X=E(V,!0).join(`
`)),o==="}"&&!L)return W&&(W.e=[X]),h(),B;for(;o;){if(z=y(),v(),o!==":"&&f("Expected ':' instead of '"+o+"'"),h(),B[z]=A(),V=s,v(),o===","&&(h(),V=s,v()),W){var U=E(V);W.c[z]=[X||"",U[0]||""],X=U[1],W.o.push(z)}if(o==="}"&&!L)return h(),W&&(W.c[z][1]+=X||""),B;v()}if(L)return B;f("End of input while parsing an object (missing '}')")}catch(F){throw F.hint=F.hint||C(B),F}}function A(){switch(v(),o){case"{":return T();case"[":return S();case"'":case'"':return m(!0);default:return w()}}function I(L,z){var B=s;if(v(),o&&f("Syntax error, found trailing characters"),l){var W=z.join(`
`),V=E(B).join(`
`);if(V||W){var X=n.createComment(L,n.getComment(L));X.r=[W,V]}}return L}function D(){v();var L=l?E(1):null;switch(o){case"{":return I(T(),L);case"[":return I(S(),L);default:return I(A(),L)}}function O(){v();var L=l?E(1):null;switch(o){case"{":return I(T(),L);case"[":return I(S(),L)}try{return I(T(!0),L)}catch(z){c();try{return I(A(),L)}catch{throw z}}}if(typeof e!="string")throw new Error("source is not a string");var M=null,$=!0;return t&&typeof t=="object"&&(l=t.keepWsc,M=t.dsf,$=t.legacyRoot!==!1),u=r.loadDsf(M,"parse"),i=e,c(),$?O():D()}),PB}var OB,R0e;function OQt(){return R0e||(R0e=1,OB=function(e,t){var n=Y5(),r=qee(),i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,l=!1,u=!1,c=!1,d=0,f=1,h="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?f=0:f=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var y,v=Object.keys(i);for(y=v.length-1;y>=0;y--){var w=v[y];g[w].push(i[w][0].length,i[w][1].length)}}var E,C="---\u2028--\uFEFF-",S=new RegExp('[\\\\\\"\0-'+C+"]","g"),T=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+C+"]","g"),A=new RegExp("'''|^[\\s]+$|[\0-"+(f===2?"	":"\b")+"\v\f-"+C+"]","g"),I=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),D={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},O=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,M="",$=0;function L(G,q){return $+=G[0].length+G[1].length-G[2]-G[3],G[0]+q+G[1]}function z(G){return G.replace(S,function(q){var Y=D[q];return typeof Y=="string"?L(g.esc,Y):L(g.uni,("0000"+q.charCodeAt(0).toString(16)).slice(-4))})}function B(G,q,Y,J){return G?(T.lastIndex=0,I.lastIndex=0,c||Y||T.test(G)||n.tryParseNumber(G,!0)!==void 0||I.test(G)?(S.lastIndex=0,A.lastIndex=0,S.test(G)?!A.test(G)&&!J&&f?W(G,q):L(g.qstr,z(G)):L(g.qstr,G)):L(g.str,G)):L(g.qstr,"")}function W(G,q){var Y,J=G.replace(/\r/g,"").split(`
`);if(q+=o,J.length===1)return L(g.mstr,J[0]);var te=s+q+g.mstr[0];for(Y=0;Y<J.length;Y++)te+=s,J[Y]&&(te+=q+J[Y]);return te+s+q+g.mstr[1]}function V(G){return G?u||O.test(G)?(S.lastIndex=0,L(g.qkey,S.test(G)?z(G):G)):L(g.key,G):'""'}function X(G,q,Y,J){function te(gn){return gn&&gn[gn[0]==="\r"?1:0]===`
`}function ue(gn){return gn&&!te(gn)}function se(gn,Tn,er){if(!gn)return"";gn=n.forceComment(gn);var Nn,Ni=gn.length;for(Nn=0;Nn<Ni&&gn[Nn]<=" ";Nn++);return er&&Nn>0&&(gn=gn.substr(Nn)),Nn<Ni?Tn+L(g.rem,gn):gn}var ne=E(G);if(ne!==void 0)return L(g.dsf,ne);switch(typeof G){case"string":return B(G,M,q,J);case"number":return isFinite(G)?L(g.num,String(G)):L(g.lit,"null");case"boolean":return L(g.lit,String(G));case"object":if(!G)return L(g.lit,"null");var fe;a&&(fe=n.getComment(G));var ee=Object.prototype.toString.apply(G)==="[object Array]",ie=M;M+=o;var he=s+ie,ye=s+M,Ce=Y||l?"":he,Re=[],De,be=d?[]:null,je=c,Qe=f,it=h?"":g.com[0],Ke=0,Pe,ze,ot,xe,Te,nt,ht,st,Ot;if(ee){for(Pe=0,ze=G.length;Pe<ze;Pe++){if(De=Pe<ze-1,fe?(nt=fe.a[Pe]||[],ht=ue(nt[1]),Re.push(se(nt[0],`
`)+ye),be&&(nt[0]||nt[1]||ht)&&(be=null)):Re.push(ye),$=0,xe=G[Pe],Re.push(X(xe,fe?ht:!1,!0)+(De?h:"")),be){switch(typeof xe){case"string":$=0,c=!0,f=0,be.push(X(xe,!1,!0)+(De?g.com[0]:"")),c=je,f=Qe;break;case"object":if(xe){be=null;break}default:be.push(Re[Re.length-1]+(De?it:""));break}De&&($+=g.com[0].length-g.com[2]),Ke+=$}fe&&nt[1]&&Re.push(se(nt[1],ht?" ":`
`,ht))}ze===0?fe&&fe.e&&Re.push(se(fe.e[0],`
`)+he):Re.push(he),Re.length===0?st=L(g.arr,""):(st=Ce+L(g.arr,Re.join("")),be&&(Ot=be.join(" "),Ot.length-Ke<=d&&(st=L(g.arr,Ot))))}else{var Qt=fe?fe.o.slice():[],kn=[];for(ot in G)Object.prototype.hasOwnProperty.call(G,ot)&&Qt.indexOf(ot)<0&&kn.push(ot);m&&kn.sort();var Yn=Qt.concat(kn);for(Pe=0,ze=Yn.length;Pe<ze;Pe++)if(De=Pe<ze-1,ot=Yn[Pe],fe?(nt=fe.c[ot]||[],ht=ue(nt[1]),Re.push(se(nt[0],`
`)+ye),be&&(nt[0]||nt[1]||ht)&&(be=null)):Re.push(ye),$=0,xe=G[ot],Te=X(xe,fe&&ht),Re.push(V(ot)+g.col[0]+(te(Te)?"":" ")+Te+(De?h:"")),fe&&nt[1]&&Re.push(se(nt[1],ht?" ":`
`,ht)),be){switch(typeof xe){case"string":$=0,c=!0,f=0,Te=X(xe,!1),c=je,f=Qe,be.push(V(ot)+g.col[0]+" "+Te+(De?g.com[0]:""));break;case"object":if(xe){be=null;break}default:be.push(Re[Re.length-1]+(De?it:""));break}$+=g.col[0].length-g.col[2],De&&($+=g.com[0].length-g.com[2]),Ke+=$}ze===0?fe&&fe.e&&Re.push(se(fe.e[0],`
`)+he):Re.push(he),Re.length===0?st=L(g.obj,""):(st=Ce+L(g.obj,Re.join("")),be&&(Ot=be.join(" "),Ot.length-Ke<=d&&(st=L(g.obj,Ot))))}return M=ie,st}}E=r.loadDsf(p,"stringify");var U="",F=a?F=(n.getComment(e)||{}).r:null;return F&&F[0]&&(U=F[0]+`
`),U+=X(e,null,!0,!0),F&&(U+=F[1]||""),U}),OB}var NB,D0e;function NQt(){if(D0e)return NB;D0e=1;var e=Y5();function t(c,d,f){var h;return c&&(h={b:c}),d&&((h=h||{}).a=d),f&&((h=h||{}).x=f),h}function n(c,d){if(!(c===null||typeof c!="object")){var f=e.getComment(c);f&&e.removeComment(c);var h,p,m,g;if(Object.prototype.toString.apply(c)==="[object Array]"){for(g={a:{}},h=0,p=c.length;h<p;h++)s(g.a,h,f.a[h],n(c[h]))&&(m=!0);!m&&f.e&&(g.e=t(f.e[0],f.e[1]),m=!0)}else{g={s:{}};var y,v=Object.keys(c);for(f&&f.o?(y=[],f.o.concat(v).forEach(function(E){Object.prototype.hasOwnProperty.call(c,E)&&y.indexOf(E)<0&&y.push(E)})):y=v,g.o=y,h=0,p=y.length;h<p;h++){var w=y[h];s(g.s,w,f.c[w],n(c[w]))&&(m=!0)}!m&&f.e&&(g.e=t(f.e[0],f.e[1]),m=!0)}return d&&f&&f.r&&(g.r=t(f.r[0],f.r[1])),m?g:void 0}}function r(){var c="";return[].forEach.call(arguments,function(d){d&&d.trim()!==""&&(c&&(c+="; "),c+=d.trim())}),c}function i(c,d){var f=[];if(l(c,d,f,[]),f.length>0){var h=u(d,null,1);h+=`
# Orphaned comments:
`,f.forEach(function(p){h+=("# "+p.path.join("/")+": "+r(p.b,p.a,p.e)).replace(`
`,"\\n ")+`
`}),u(d,h,1)}}function s(c,d,f,h){var p=t(f?f[0]:void 0,f?f[1]:void 0,h);return p&&(c[d]=p),p}function o(c,d){var f=t(d.b,d.a);return f.path=c,f}function a(c,d,f){if(c){var h,p;if(c.a)for(h=0,p=c.a.length;h<p;h++){var m=f.slice().concat([h]),g=c.a[h];g&&(d.push(o(m,g)),a(g.x,d,m))}else c.o&&c.o.forEach(function(y){var v=f.slice().concat([y]),w=c.s[y];w&&(d.push(o(v,w)),a(w.x,d,v))});c.e&&d.push(o(f,c.e))}}function l(c,d,f,h){if(c){if(d===null||typeof d!="object"){a(c,f,h);return}var p,m=e.createComment(d);if(h.length===0&&c.r&&(m.r=[c.r.b,c.r.a]),Object.prototype.toString.apply(d)==="[object Array]"){m.a=[];var g=c.a||{};for(var y in g)if(g.hasOwnProperty(y)){p=parseInt(y);var v=c.a[y];if(v){var w=h.slice().concat([p]);p<d.length?(m.a[p]=[v.b,v.a],l(v.x,d[p],f,w)):(f.push(o(w,v)),a(v.x,f,w))}}p===0&&c.e&&(m.e=[c.e.b,c.e.a])}else m.c={},m.o=[],(c.o||[]).forEach(function(E){var C=h.slice().concat([E]),S=c.s[E];Object.prototype.hasOwnProperty.call(d,E)?(m.o.push(E),S&&(m.c[E]=[S.b,S.a],l(S.x,d[E],f,C))):S&&(f.push(o(C,S)),a(S.x,f,C))}),c.e&&(m.e=[c.e.b,c.e.a])}}function u(c,d,f){var h=e.createComment(c,e.getComment(c));return h.r||(h.r=["",""]),(d||d==="")&&(h.r[f]=e.forceComment(d)),h.r[f]||""}return NB={extract:function(c){return n(c,!0)},merge:i,header:function(c,d){return u(c,d,0)},footer:function(c,d){return u(c,d,1)}},NB}/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var $B,P0e;function $Qt(){if(P0e)return $B;P0e=1;var e=Y5(),t=DQt(),n=PQt(),r=OQt(),i=NQt(),s=qee();return $B={parse:n,stringify:r,endOfLine:function(){return e.EOL},setEndOfLine:function(o){(o===`
`||o===`\r
`)&&(e.EOL=o)},version:t,rt:{parse:function(o,a){return(a=a||{}).keepWsc=!0,n(o,a)},stringify:function(o,a){return(a=a||{}).keepWsc=!0,r(o,a)}},comments:i,dsf:s.std},$B}$Qt();var MQt="firebase",FQt="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dd(MQt,FQt,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4e="firebasestorage.googleapis.com",LQt="storageBucket",jQt=2*60*1e3,BQt=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg=class Y4e extends hh{constructor(t,n,r=0){super(MB(t),`Firebase Storage: ${n} (${MB(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Y4e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return MB(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var lh;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lh||(lh={}));function MB(e){return"storage/"+e}function zQt(){const e="An unknown error occurred, please check the error payload for server response.";return new Vg(lh.UNKNOWN,e)}function UQt(){return new Vg(lh.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HQt(){return new Vg(lh.CANCELED,"User canceled the upload/download.")}function qQt(e){return new Vg(lh.INVALID_URL,"Invalid URL '"+e+"'.")}function VQt(e){return new Vg(lh.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function O0e(e){return new Vg(lh.INVALID_ARGUMENT,e)}function K4e(){return new Vg(lh.APP_DELETED,"The Firebase app was deleted.")}function WQt(e){return new Vg(lh.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ad.makeFromUrl(t,n)}catch{return new ad(t,"")}if(r.path==="")return r;throw VQt(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===G4e?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const C=w[E],S=C.regex.exec(t);if(S){const T=S[C.indices.bucket];let A=S[C.indices.path];A||(A=""),r=new ad(T,A),C.postModify(r);break}}if(r==null)throw qQt(t);return r}}class GQt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQt(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(h,l())},g)}function f(){s&&clearTimeout(s)}function h(g,...y){if(u){f();return}if(g){f(),c.call(null,g,...y);return}if(l()||o){f(),c.call(null,g,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let p=!1;function m(g){p||(p=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function KQt(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQt(e){return e!==void 0}function N0e(e,t,n,r){if(r<t)throw O0e(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw O0e(`Invalid value for '${e}'. Expected ${n} or less.`)}function QQt(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var l$;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(l$||(l$={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQt(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQt{constructor(t,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new PD(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===l$.NO_ERROR,l=s.getStatus();if(!a||JQt(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===l$.ABORT;r(!1,new PD(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new PD(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());XQt(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=zQt();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?K4e():HQt();o(l)}else{const l=UQt();o(l)}};this.canceled_?n(!1,new PD(!1,null,!0)):this.backoffId_=YQt(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&KQt(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class PD{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function eJt(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function tJt(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function nJt(e,t){t&&(e["X-Firebase-GMPID"]=t)}function rJt(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function iJt(e,t,n,r,i,s,o=!0){const a=QQt(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return nJt(u,t),eJt(u,n),tJt(u,s),rJt(u,r),new ZQt(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sJt(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function oJt(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(t,n){this._service=t,n instanceof ad?this._location=n:this._location=ad.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new u$(t,n)}get root(){const t=new ad(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oJt(this._location.path)}get storage(){return this._service}get parent(){const t=sJt(this._location.path);if(t===null)return null;const n=new ad(this._location.bucket,t);return new u$(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw WQt(t)}}function $0e(e,t){const n=t==null?void 0:t[LQt];return n==null?null:ad.makeFromBucketSpec(n,e)}class aJt{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=G4e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jQt,this._maxUploadRetryTime=BQt,this._requests=new Set,i!=null?this._bucket=ad.makeFromBucketSpec(i,this._host):this._bucket=$0e(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ad.makeFromBucketSpec(this._url,t):this._bucket=$0e(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){N0e("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){N0e("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new u$(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new GQt(K4e());{const o=iJt(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const M0e="@firebase/storage",F0e="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJt="storage";function uJt(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new aJt(n,r,i,t,Cb)}function cJt(){Up(new Xf(lJt,uJt,"PUBLIC").setMultipleInstances(!0)),dd(M0e,F0e,""),dd(M0e,F0e,"esm2017")}cJt();var L0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X4e;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,A){function I(){}I.prototype=A.prototype,T.D=A.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(D,O,M){for(var $=Array(arguments.length-2),L=2;L<arguments.length;L++)$[L-2]=arguments[L];return A.prototype[O].apply(D,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,A,I){I||(I=0);var D=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)D[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;16>O;++O)D[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=T.g[0],I=T.g[1],O=T.g[2];var M=T.g[3],$=A+(M^I&(O^M))+D[0]+3614090360&4294967295;A=I+($<<7&4294967295|$>>>25),$=M+(O^A&(I^O))+D[1]+3905402710&4294967295,M=A+($<<12&4294967295|$>>>20),$=O+(I^M&(A^I))+D[2]+606105819&4294967295,O=M+($<<17&4294967295|$>>>15),$=I+(A^O&(M^A))+D[3]+3250441966&4294967295,I=O+($<<22&4294967295|$>>>10),$=A+(M^I&(O^M))+D[4]+4118548399&4294967295,A=I+($<<7&4294967295|$>>>25),$=M+(O^A&(I^O))+D[5]+1200080426&4294967295,M=A+($<<12&4294967295|$>>>20),$=O+(I^M&(A^I))+D[6]+2821735955&4294967295,O=M+($<<17&4294967295|$>>>15),$=I+(A^O&(M^A))+D[7]+4249261313&4294967295,I=O+($<<22&4294967295|$>>>10),$=A+(M^I&(O^M))+D[8]+1770035416&4294967295,A=I+($<<7&4294967295|$>>>25),$=M+(O^A&(I^O))+D[9]+2336552879&4294967295,M=A+($<<12&4294967295|$>>>20),$=O+(I^M&(A^I))+D[10]+4294925233&4294967295,O=M+($<<17&4294967295|$>>>15),$=I+(A^O&(M^A))+D[11]+2304563134&4294967295,I=O+($<<22&4294967295|$>>>10),$=A+(M^I&(O^M))+D[12]+1804603682&4294967295,A=I+($<<7&4294967295|$>>>25),$=M+(O^A&(I^O))+D[13]+4254626195&4294967295,M=A+($<<12&4294967295|$>>>20),$=O+(I^M&(A^I))+D[14]+2792965006&4294967295,O=M+($<<17&4294967295|$>>>15),$=I+(A^O&(M^A))+D[15]+1236535329&4294967295,I=O+($<<22&4294967295|$>>>10),$=A+(O^M&(I^O))+D[1]+4129170786&4294967295,A=I+($<<5&4294967295|$>>>27),$=M+(I^O&(A^I))+D[6]+3225465664&4294967295,M=A+($<<9&4294967295|$>>>23),$=O+(A^I&(M^A))+D[11]+643717713&4294967295,O=M+($<<14&4294967295|$>>>18),$=I+(M^A&(O^M))+D[0]+3921069994&4294967295,I=O+($<<20&4294967295|$>>>12),$=A+(O^M&(I^O))+D[5]+3593408605&4294967295,A=I+($<<5&4294967295|$>>>27),$=M+(I^O&(A^I))+D[10]+38016083&4294967295,M=A+($<<9&4294967295|$>>>23),$=O+(A^I&(M^A))+D[15]+3634488961&4294967295,O=M+($<<14&4294967295|$>>>18),$=I+(M^A&(O^M))+D[4]+3889429448&4294967295,I=O+($<<20&4294967295|$>>>12),$=A+(O^M&(I^O))+D[9]+568446438&4294967295,A=I+($<<5&4294967295|$>>>27),$=M+(I^O&(A^I))+D[14]+3275163606&4294967295,M=A+($<<9&4294967295|$>>>23),$=O+(A^I&(M^A))+D[3]+4107603335&4294967295,O=M+($<<14&4294967295|$>>>18),$=I+(M^A&(O^M))+D[8]+1163531501&4294967295,I=O+($<<20&4294967295|$>>>12),$=A+(O^M&(I^O))+D[13]+2850285829&4294967295,A=I+($<<5&4294967295|$>>>27),$=M+(I^O&(A^I))+D[2]+4243563512&4294967295,M=A+($<<9&4294967295|$>>>23),$=O+(A^I&(M^A))+D[7]+1735328473&4294967295,O=M+($<<14&4294967295|$>>>18),$=I+(M^A&(O^M))+D[12]+2368359562&4294967295,I=O+($<<20&4294967295|$>>>12),$=A+(I^O^M)+D[5]+4294588738&4294967295,A=I+($<<4&4294967295|$>>>28),$=M+(A^I^O)+D[8]+2272392833&4294967295,M=A+($<<11&4294967295|$>>>21),$=O+(M^A^I)+D[11]+1839030562&4294967295,O=M+($<<16&4294967295|$>>>16),$=I+(O^M^A)+D[14]+4259657740&4294967295,I=O+($<<23&4294967295|$>>>9),$=A+(I^O^M)+D[1]+2763975236&4294967295,A=I+($<<4&4294967295|$>>>28),$=M+(A^I^O)+D[4]+1272893353&4294967295,M=A+($<<11&4294967295|$>>>21),$=O+(M^A^I)+D[7]+4139469664&4294967295,O=M+($<<16&4294967295|$>>>16),$=I+(O^M^A)+D[10]+3200236656&4294967295,I=O+($<<23&4294967295|$>>>9),$=A+(I^O^M)+D[13]+681279174&4294967295,A=I+($<<4&4294967295|$>>>28),$=M+(A^I^O)+D[0]+3936430074&4294967295,M=A+($<<11&4294967295|$>>>21),$=O+(M^A^I)+D[3]+3572445317&4294967295,O=M+($<<16&4294967295|$>>>16),$=I+(O^M^A)+D[6]+76029189&4294967295,I=O+($<<23&4294967295|$>>>9),$=A+(I^O^M)+D[9]+3654602809&4294967295,A=I+($<<4&4294967295|$>>>28),$=M+(A^I^O)+D[12]+3873151461&4294967295,M=A+($<<11&4294967295|$>>>21),$=O+(M^A^I)+D[15]+530742520&4294967295,O=M+($<<16&4294967295|$>>>16),$=I+(O^M^A)+D[2]+3299628645&4294967295,I=O+($<<23&4294967295|$>>>9),$=A+(O^(I|~M))+D[0]+4096336452&4294967295,A=I+($<<6&4294967295|$>>>26),$=M+(I^(A|~O))+D[7]+1126891415&4294967295,M=A+($<<10&4294967295|$>>>22),$=O+(A^(M|~I))+D[14]+2878612391&4294967295,O=M+($<<15&4294967295|$>>>17),$=I+(M^(O|~A))+D[5]+4237533241&4294967295,I=O+($<<21&4294967295|$>>>11),$=A+(O^(I|~M))+D[12]+1700485571&4294967295,A=I+($<<6&4294967295|$>>>26),$=M+(I^(A|~O))+D[3]+2399980690&4294967295,M=A+($<<10&4294967295|$>>>22),$=O+(A^(M|~I))+D[10]+4293915773&4294967295,O=M+($<<15&4294967295|$>>>17),$=I+(M^(O|~A))+D[1]+2240044497&4294967295,I=O+($<<21&4294967295|$>>>11),$=A+(O^(I|~M))+D[8]+1873313359&4294967295,A=I+($<<6&4294967295|$>>>26),$=M+(I^(A|~O))+D[15]+4264355552&4294967295,M=A+($<<10&4294967295|$>>>22),$=O+(A^(M|~I))+D[6]+2734768916&4294967295,O=M+($<<15&4294967295|$>>>17),$=I+(M^(O|~A))+D[13]+1309151649&4294967295,I=O+($<<21&4294967295|$>>>11),$=A+(O^(I|~M))+D[4]+4149444226&4294967295,A=I+($<<6&4294967295|$>>>26),$=M+(I^(A|~O))+D[11]+3174756917&4294967295,M=A+($<<10&4294967295|$>>>22),$=O+(A^(M|~I))+D[2]+718787259&4294967295,O=M+($<<15&4294967295|$>>>17),$=I+(M^(O|~A))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(O+($<<21&4294967295|$>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,A){A===void 0&&(A=T.length);for(var I=A-this.blockSize,D=this.B,O=this.h,M=0;M<A;){if(O==0)for(;M<=I;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<A;)if(D[O++]=T.charCodeAt(M++),O==this.blockSize){i(this,D),O=0;break}}else for(;M<A;)if(D[O++]=T[M++],O==this.blockSize){i(this,D),O=0;break}}this.h=O,this.o+=A},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;var I=8*this.o;for(A=T.length-8;A<T.length;++A)T[A]=I&255,I/=256;for(this.u(T),T=Array(16),A=I=0;4>A;++A)for(var D=0;32>D;D+=8)T[I++]=this.g[A]>>>D&255;return T};function s(T,A){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=A(T)}function o(T,A){this.h=A;for(var I=[],D=!0,O=T.length-1;0<=O;O--){var M=T[O]|0;D&&M==A||(I[O]=M,D=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?s(T,function(A){return new o([A|0],0>A?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return g(u(-T));for(var A=[],I=1,D=0;T>=I;D++)A[D]=T/I|0,I*=4294967296;return new o(A,0)}function c(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return g(c(T.substring(1),A));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(A,8)),D=d,O=0;O<T.length;O+=8){var M=Math.min(8,T.length-O),$=parseInt(T.substring(O,O+M),A);8>M?(M=u(Math.pow(A,M)),D=D.j(M).add(u($))):(D=D.j(I),D=D.add(u($)))}return D}var d=l(0),f=l(1),h=l(16777216);e=o.prototype,e.m=function(){if(m(this))return-g(this).m();for(var T=0,A=1,I=0;I<this.g.length;I++){var D=this.i(I);T+=(0<=D?D:4294967296+D)*A,A*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(p(this))return"0";if(m(this))return"-"+g(this).toString(T);for(var A=u(Math.pow(T,6)),I=this,D="";;){var O=E(I,A).g;I=y(I,O.j(A));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=O,p(I))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function p(T){if(T.h!=0)return!1;for(var A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:p(T)?0:1};function g(T){for(var A=T.g.length,I=[],D=0;D<A;D++)I[D]=~T.g[D];return new o(I,~T.h).add(f)}e.abs=function(){return m(this)?g(this):this},e.add=function(T){for(var A=Math.max(this.g.length,T.g.length),I=[],D=0,O=0;O<=A;O++){var M=D+(this.i(O)&65535)+(T.i(O)&65535),$=(M>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);D=$>>>16,M&=65535,$&=65535,I[O]=$<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function y(T,A){return T.add(g(A))}e.j=function(T){if(p(this)||p(T))return d;if(m(this))return m(T)?g(this).j(g(T)):g(g(this).j(T));if(m(T))return g(this.j(g(T)));if(0>this.l(h)&&0>T.l(h))return u(this.m()*T.m());for(var A=this.g.length+T.g.length,I=[],D=0;D<2*A;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<T.g.length;O++){var M=this.i(D)>>>16,$=this.i(D)&65535,L=T.i(O)>>>16,z=T.i(O)&65535;I[2*D+2*O]+=$*z,v(I,2*D+2*O),I[2*D+2*O+1]+=M*z,v(I,2*D+2*O+1),I[2*D+2*O+1]+=$*L,v(I,2*D+2*O+1),I[2*D+2*O+2]+=M*L,v(I,2*D+2*O+2)}for(D=0;D<A;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=A;D<2*A;D++)I[D]=0;return new o(I,0)};function v(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function w(T,A){this.g=T,this.h=A}function E(T,A){if(p(A))throw Error("division by zero");if(p(T))return new w(d,d);if(m(T))return A=E(g(T),A),new w(g(A.g),g(A.h));if(m(A))return A=E(T,g(A)),new w(g(A.g),A.h);if(30<T.g.length){if(m(T)||m(A))throw Error("slowDivide_ only works with positive integers.");for(var I=f,D=A;0>=D.l(T);)I=C(I),D=C(D);var O=S(I,1),M=S(D,1);for(D=S(D,2),I=S(I,2);!p(D);){var $=M.add(D);0>=$.l(T)&&(O=O.add(I),M=$),D=S(D,1),I=S(I,1)}return A=y(T,O.j(A)),new w(O,A)}for(O=d;0<=T.l(A);){for(I=Math.max(1,Math.floor(T.m()/A.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=u(I),$=M.j(A);m($)||0<$.l(T);)I-=D,M=u(I),$=M.j(A);p(M)&&(M=f),O=O.add(M),T=y(T,$)}return new w(O,T)}e.A=function(T){return E(this,T).h},e.and=function(T){for(var A=Math.max(this.g.length,T.g.length),I=[],D=0;D<A;D++)I[D]=this.i(D)&T.i(D);return new o(I,this.h&T.h)},e.or=function(T){for(var A=Math.max(this.g.length,T.g.length),I=[],D=0;D<A;D++)I[D]=this.i(D)|T.i(D);return new o(I,this.h|T.h)},e.xor=function(T){for(var A=Math.max(this.g.length,T.g.length),I=[],D=0;D<A;D++)I[D]=this.i(D)^T.i(D);return new o(I,this.h^T.h)};function C(T){for(var A=T.g.length+1,I=[],D=0;D<A;D++)I[D]=T.i(D)<<1|T.i(D-1)>>>31;return new o(I,T.h)}function S(T,A){var I=A>>5;A%=32;for(var D=T.g.length-I,O=[],M=0;M<D;M++)O[M]=0<A?T.i(M+I)>>>A|T.i(M+I+1)<<32-A:T.i(M+I);return new o(O,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,X4e=o}).apply(typeof L0e<"u"?L0e:typeof self<"u"?self:typeof window<"u"?window:{});var OD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(P,K,Z){return P==Array.prototype||P==Object.prototype||(P[K]=Z.value),P};function n(P){P=[typeof globalThis=="object"&&globalThis,P,typeof window=="object"&&window,typeof self=="object"&&self,typeof OD=="object"&&OD];for(var K=0;K<P.length;++K){var Z=P[K];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var r=n(this);function i(P,K){if(K)e:{var Z=r;P=P.split(".");for(var le=0;le<P.length-1;le++){var $e=P[le];if(!($e in Z))break e;Z=Z[$e]}P=P[P.length-1],le=Z[P],K=K(le),K!=le&&K!=null&&t(Z,P,{configurable:!0,writable:!0,value:K})}}function s(P,K){P instanceof String&&(P+="");var Z=0,le=!1,$e={next:function(){if(!le&&Z<P.length){var Ve=Z++;return{value:K(Ve,P[Ve]),done:!1}}return le=!0,{done:!0,value:void 0}}};return $e[Symbol.iterator]=function(){return $e},$e}i("Array.prototype.values",function(P){return P||function(){return s(this,function(K,Z){return Z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(P){var K=typeof P;return K=K!="object"?K:P?Array.isArray(P)?"array":K:"null",K=="array"||K=="object"&&typeof P.length=="number"}function u(P){var K=typeof P;return K=="object"&&P!=null||K=="function"}function c(P,K,Z){return P.call.apply(P.bind,arguments)}function d(P,K,Z){if(!P)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var $e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($e,le),P.apply(K,$e)}}return function(){return P.apply(K,arguments)}}function f(P,K,Z){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function h(P,K){var Z=Array.prototype.slice.call(arguments,1);return function(){var le=Z.slice();return le.push.apply(le,arguments),P.apply(this,le)}}function p(P,K){function Z(){}Z.prototype=K.prototype,P.aa=K.prototype,P.prototype=new Z,P.prototype.constructor=P,P.Qb=function(le,$e,Ve){for(var Tt=Array(arguments.length-2),Lr=2;Lr<arguments.length;Lr++)Tt[Lr-2]=arguments[Lr];return K.prototype[$e].apply(le,Tt)}}function m(P){const K=P.length;if(0<K){const Z=Array(K);for(let le=0;le<K;le++)Z[le]=P[le];return Z}return[]}function g(P,K){for(let Z=1;Z<arguments.length;Z++){const le=arguments[Z];if(l(le)){const $e=P.length||0,Ve=le.length||0;P.length=$e+Ve;for(let Tt=0;Tt<Ve;Tt++)P[$e+Tt]=le[Tt]}else P.push(le)}}class y{constructor(K,Z){this.i=K,this.j=Z,this.h=0,this.g=null}get(){let K;return 0<this.h?(this.h--,K=this.g,this.g=K.next,K.next=null):K=this.i(),K}}function v(P){return/^[\s\xa0]*$/.test(P)}function w(){var P=a.navigator;return P&&(P=P.userAgent)?P:""}function E(P){return E[" "](P),P}E[" "]=function(){};var C=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function S(P,K,Z){for(const le in P)K.call(Z,P[le],le,P)}function T(P,K){for(const Z in P)K.call(void 0,P[Z],Z,P)}function A(P){const K={};for(const Z in P)K[Z]=P[Z];return K}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(P,K){let Z,le;for(let $e=1;$e<arguments.length;$e++){le=arguments[$e];for(Z in le)P[Z]=le[Z];for(let Ve=0;Ve<I.length;Ve++)Z=I[Ve],Object.prototype.hasOwnProperty.call(le,Z)&&(P[Z]=le[Z])}}function O(P){var K=1;P=P.split(":");const Z=[];for(;0<K&&P.length;)Z.push(P.shift()),K--;return P.length&&Z.push(P.join(":")),Z}function M(P){a.setTimeout(()=>{throw P},0)}function $(){var P=X;let K=null;return P.g&&(K=P.g,P.g=P.g.next,P.g||(P.h=null),K.next=null),K}class L{constructor(){this.h=this.g=null}add(K,Z){const le=z.get();le.set(K,Z),this.h?this.h.next=le:this.g=le,this.h=le}}var z=new y(()=>new B,P=>P.reset());class B{constructor(){this.next=this.g=this.h=null}set(K,Z){this.h=K,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let W,V=!1,X=new L,U=()=>{const P=a.Promise.resolve(void 0);W=()=>{P.then(F)}};var F=()=>{for(var P;P=$();){try{P.h.call(P.g)}catch(Z){M(Z)}var K=z;K.j(P),100>K.h&&(K.h++,P.next=K.g,K.g=P)}V=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(P,K){this.type=P,this.g=this.target=K,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var P=!1,K=Object.defineProperty({},"passive",{get:function(){P=!0}});try{const Z=()=>{};a.addEventListener("test",Z,K),a.removeEventListener("test",Z,K)}catch{}return P}();function J(P,K){if(q.call(this,P?P.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,P){var Z=this.type=P.type,le=P.changedTouches&&P.changedTouches.length?P.changedTouches[0]:null;if(this.target=P.target||P.srcElement,this.g=K,K=P.relatedTarget){if(C){e:{try{E(K.nodeName);var $e=!0;break e}catch{}$e=!1}$e||(K=null)}}else Z=="mouseover"?K=P.fromElement:Z=="mouseout"&&(K=P.toElement);this.relatedTarget=K,le?(this.clientX=le.clientX!==void 0?le.clientX:le.pageX,this.clientY=le.clientY!==void 0?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0),this.button=P.button,this.key=P.key||"",this.ctrlKey=P.ctrlKey,this.altKey=P.altKey,this.shiftKey=P.shiftKey,this.metaKey=P.metaKey,this.pointerId=P.pointerId||0,this.pointerType=typeof P.pointerType=="string"?P.pointerType:te[P.pointerType]||"",this.state=P.state,this.i=P,P.defaultPrevented&&J.aa.h.call(this)}}p(J,q);var te={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var P=this.i;P.preventDefault?P.preventDefault():P.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),se=0;function ne(P,K,Z,le,$e){this.listener=P,this.proxy=null,this.src=K,this.type=Z,this.capture=!!le,this.ha=$e,this.key=++se,this.da=this.fa=!1}function fe(P){P.da=!0,P.listener=null,P.proxy=null,P.src=null,P.ha=null}function ee(P){this.src=P,this.g={},this.h=0}ee.prototype.add=function(P,K,Z,le,$e){var Ve=P.toString();P=this.g[Ve],P||(P=this.g[Ve]=[],this.h++);var Tt=he(P,K,le,$e);return-1<Tt?(K=P[Tt],Z||(K.fa=!1)):(K=new ne(K,this.src,Ve,!!le,$e),K.fa=Z,P.push(K)),K};function ie(P,K){var Z=K.type;if(Z in P.g){var le=P.g[Z],$e=Array.prototype.indexOf.call(le,K,void 0),Ve;(Ve=0<=$e)&&Array.prototype.splice.call(le,$e,1),Ve&&(fe(K),P.g[Z].length==0&&(delete P.g[Z],P.h--))}}function he(P,K,Z,le){for(var $e=0;$e<P.length;++$e){var Ve=P[$e];if(!Ve.da&&Ve.listener==K&&Ve.capture==!!Z&&Ve.ha==le)return $e}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),Ce={};function Re(P,K,Z,le,$e){if(Array.isArray(K)){for(var Ve=0;Ve<K.length;Ve++)Re(P,K[Ve],Z,le,$e);return null}return Z=ot(Z),P&&P[ue]?P.K(K,Z,u(le)?!!le.capture:!1,$e):De(P,K,Z,!1,le,$e)}function De(P,K,Z,le,$e,Ve){if(!K)throw Error("Invalid event type");var Tt=u($e)?!!$e.capture:!!$e,Lr=Pe(P);if(Lr||(P[ye]=Lr=new ee(P)),Z=Lr.add(K,Z,le,Tt,Ve),Z.proxy)return Z;if(le=be(),Z.proxy=le,le.src=P,le.listener=Z,P.addEventListener)Y||($e=Tt),$e===void 0&&($e=!1),P.addEventListener(K.toString(),le,$e);else if(P.attachEvent)P.attachEvent(it(K.toString()),le);else if(P.addListener&&P.removeListener)P.addListener(le);else throw Error("addEventListener and attachEvent are unavailable.");return Z}function be(){function P(Z){return K.call(P.src,P.listener,Z)}const K=Ke;return P}function je(P,K,Z,le,$e){if(Array.isArray(K))for(var Ve=0;Ve<K.length;Ve++)je(P,K[Ve],Z,le,$e);else le=u(le)?!!le.capture:!!le,Z=ot(Z),P&&P[ue]?(P=P.i,K=String(K).toString(),K in P.g&&(Ve=P.g[K],Z=he(Ve,Z,le,$e),-1<Z&&(fe(Ve[Z]),Array.prototype.splice.call(Ve,Z,1),Ve.length==0&&(delete P.g[K],P.h--)))):P&&(P=Pe(P))&&(K=P.g[K.toString()],P=-1,K&&(P=he(K,Z,le,$e)),(Z=-1<P?K[P]:null)&&Qe(Z))}function Qe(P){if(typeof P!="number"&&P&&!P.da){var K=P.src;if(K&&K[ue])ie(K.i,P);else{var Z=P.type,le=P.proxy;K.removeEventListener?K.removeEventListener(Z,le,P.capture):K.detachEvent?K.detachEvent(it(Z),le):K.addListener&&K.removeListener&&K.removeListener(le),(Z=Pe(K))?(ie(Z,P),Z.h==0&&(Z.src=null,K[ye]=null)):fe(P)}}}function it(P){return P in Ce?Ce[P]:Ce[P]="on"+P}function Ke(P,K){if(P.da)P=!0;else{K=new J(K,this);var Z=P.listener,le=P.ha||P.src;P.fa&&Qe(P),P=Z.call(le,K)}return P}function Pe(P){return P=P[ye],P instanceof ee?P:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(P){return typeof P=="function"?P:(P[ze]||(P[ze]=function(K){return P.handleEvent(K)}),P[ze])}function xe(){G.call(this),this.i=new ee(this),this.M=this,this.F=null}p(xe,G),xe.prototype[ue]=!0,xe.prototype.removeEventListener=function(P,K,Z,le){je(this,P,K,Z,le)};function Te(P,K){var Z,le=P.F;if(le)for(Z=[];le;le=le.F)Z.push(le);if(P=P.M,le=K.type||K,typeof K=="string")K=new q(K,P);else if(K instanceof q)K.target=K.target||P;else{var $e=K;K=new q(le,P),D(K,$e)}if($e=!0,Z)for(var Ve=Z.length-1;0<=Ve;Ve--){var Tt=K.g=Z[Ve];$e=nt(Tt,le,!0,K)&&$e}if(Tt=K.g=P,$e=nt(Tt,le,!0,K)&&$e,$e=nt(Tt,le,!1,K)&&$e,Z)for(Ve=0;Ve<Z.length;Ve++)Tt=K.g=Z[Ve],$e=nt(Tt,le,!1,K)&&$e}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var P=this.i,K;for(K in P.g){for(var Z=P.g[K],le=0;le<Z.length;le++)fe(Z[le]);delete P.g[K],P.h--}}this.F=null},xe.prototype.K=function(P,K,Z,le){return this.i.add(String(P),K,!1,Z,le)},xe.prototype.L=function(P,K,Z,le){return this.i.add(String(P),K,!0,Z,le)};function nt(P,K,Z,le){if(K=P.i.g[String(K)],!K)return!0;K=K.concat();for(var $e=!0,Ve=0;Ve<K.length;++Ve){var Tt=K[Ve];if(Tt&&!Tt.da&&Tt.capture==Z){var Lr=Tt.listener,Cs=Tt.ha||Tt.src;Tt.fa&&ie(P.i,Tt),$e=Lr.call(Cs,le)!==!1&&$e}}return $e&&!le.defaultPrevented}function ht(P,K,Z){if(typeof P=="function")Z&&(P=f(P,Z));else if(P&&typeof P.handleEvent=="function")P=f(P.handleEvent,P);else throw Error("Invalid listener argument");return 2147483647<Number(K)?-1:a.setTimeout(P,K||0)}function st(P){P.g=ht(()=>{P.g=null,P.i&&(P.i=!1,st(P))},P.l);const K=P.h;P.h=null,P.m.apply(null,K)}class Ot extends G{constructor(K,Z){super(),this.m=K,this.l=Z,this.h=null,this.i=!1,this.g=null}j(K){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(P){G.call(this),this.h=P,this.g={}}p(Qt,G);var kn=[];function Yn(P){S(P.g,function(K,Z){this.g.hasOwnProperty(Z)&&Qe(K)},P),P.g={}}Qt.prototype.N=function(){Qt.aa.N.call(this),Yn(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=a.JSON.stringify,Tn=a.JSON.parse,er=class{stringify(P){return a.JSON.stringify(P,void 0)}parse(P){return a.JSON.parse(P,void 0)}};function Nn(){}Nn.prototype.h=null;function Ni(P){return P.h||(P.h=P.i())}function Kn(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){q.call(this,"d")}p(Vr,q);function Xn(){q.call(this,"c")}p(Xn,q);var Gi={},zo=null;function ys(){return zo=zo||new xe}Gi.La="serverreachability";function tr(P){q.call(this,Gi.La,P)}p(tr,q);function _t(P){const K=ys();Te(K,new tr(K))}Gi.STAT_EVENT="statevent";function Fr(P,K){q.call(this,Gi.STAT_EVENT,P),this.stat=K}p(Fr,q);function hn(P){const K=ys();Te(K,new Fr(K,P))}Gi.Ma="timingevent";function sr(P,K){q.call(this,Gi.Ma,P),this.size=K}p(sr,q);function En(P,K){if(typeof P!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){P()},K)}function Ar(){this.g=!0}Ar.prototype.xa=function(){this.g=!1};function Jr(P,K,Z,le,$e,Ve){P.info(function(){if(P.g)if(Ve)for(var Tt="",Lr=Ve.split("&"),Cs=0;Cs<Lr.length;Cs++){var ar=Lr[Cs].split("=");if(1<ar.length){var js=ar[0];ar=ar[1];var Bs=js.split("_");Tt=2<=Bs.length&&Bs[1]=="type"?Tt+(js+"="+ar+"&"):Tt+(js+"=redacted&")}}else Tt=null;else Tt=Ve;return"XMLHTTP REQ ("+le+") [attempt "+$e+"]: "+K+`
`+Z+`
`+Tt})}function _i(P,K,Z,le,$e,Ve,Tt){P.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+$e+"]: "+K+`
`+Z+`
`+Ve+" "+Tt})}function ho(P,K,Z,le){P.info(function(){return"XMLHTTP TEXT ("+K+"): "+Rh(P,Z)+(le?" "+le:"")})}function Fl(P,K){P.info(function(){return"TIMEOUT: "+K})}Ar.prototype.info=function(){};function Rh(P,K){if(!P.g)return K;if(!K)return null;try{var Z=JSON.parse(K);if(Z){for(P=0;P<Z.length;P++)if(Array.isArray(Z[P])){var le=Z[P];if(!(2>le.length)){var $e=le[1];if(Array.isArray($e)&&!(1>$e.length)){var Ve=$e[0];if(Ve!="noop"&&Ve!="stop"&&Ve!="close")for(var Tt=1;Tt<$e.length;Tt++)$e[Tt]=""}}}}return gn(Z)}catch{return K}}var fr={NO_ERROR:0,TIMEOUT:8},wc={},Ei;function Ja(){}p(Ja,Nn),Ja.prototype.g=function(){return new XMLHttpRequest},Ja.prototype.i=function(){return{}},Ei=new Ja;function po(P,K,Z,le){this.j=P,this.i=K,this.l=Z,this.R=le||1,this.U=new Qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _m}function _m(){this.i=null,this.g="",this.h=!1}var Dh={},Jd={};function Zd(P,K,Z){P.L=1,P.v=$n(lt(K)),P.m=Z,P.P=!0,xc(P,null)}function xc(P,K){P.F=Date.now(),Qn(P),P.A=lt(P.v);var Z=P.A,le=P.R;Array.isArray(le)||(le=[String(le)]),tf(Z.i,"t",le),P.C=0,Z=P.j.J,P.h=new _m,P.g=Sk(P.j,Z?K:null,!P.m),0<P.O&&(P.M=new Ot(f(P.Y,P,P.g),P.O)),K=P.U,Z=P.g,le=P.ca;var $e="readystatechange";Array.isArray($e)||($e&&(kn[0]=$e.toString()),$e=kn);for(var Ve=0;Ve<$e.length;Ve++){var Tt=Re(Z,$e[Ve],le||K.handleEvent,!1,K.h||K);if(!Tt)break;K.g[Tt.key]=Tt}K=P.H?A(P.H):{},P.m?(P.u||(P.u="POST"),K["Content-Type"]="application/x-www-form-urlencoded",P.g.ea(P.A,P.u,P.m,K)):(P.u="GET",P.g.ea(P.A,P.u,null,K)),_t(),Jr(P.i,P.u,P.A,P.l,P.R,P.m)}po.prototype.ca=function(P){P=P.target;const K=this.M;K&&ri(P)==3?K.j():this.Y(P)},po.prototype.Y=function(P){try{if(P==this.g)e:{const Bs=ri(this.g);var K=this.g.Ba();const sf=this.g.Z();if(!(3>Bs)&&(Bs!=3||this.g&&(this.h.h||this.g.oa()||Es(this.g)))){this.J||Bs!=4||K==7||(K==8||0>=sf?_t(3):_t(2)),vs(this);var Z=this.g.Z();this.X=Z;t:if(Em(this)){var le=Es(this.g);P="";var $e=le.length,Ve=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),Ll(this);var Tt="";break t}this.h.i=new a.TextDecoder}for(K=0;K<$e;K++)this.h.h=!0,P+=this.h.i.decode(le[K],{stream:!(Ve&&K==$e-1)});le.length=0,this.h.g+=P,this.C=0,Tt=this.h.g}else Tt=this.g.oa();if(this.o=Z==200,_i(this.i,this.u,this.A,this.l,this.R,Bs,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var Lr,Cs=this.g;if((Lr=Cs.g?Cs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Lr)){var ar=Lr;break t}}ar=null}if(Z=ar)ho(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ec(this,Z);else{this.o=!1,this.s=3,hn(12),bs(this),Ll(this);break e}}if(this.P){Z=!0;let go;for(;!this.J&&this.C<Tt.length;)if(go=_c(this,Tt),go==Jd){Bs==4&&(this.s=4,hn(14),Z=!1),ho(this.i,this.l,null,"[Incomplete Response]");break}else if(go==Dh){this.s=4,hn(15),ho(this.i,this.l,Tt,"[Invalid Chunk]"),Z=!1;break}else ho(this.i,this.l,go,null),Ec(this,go);if(Em(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bs!=4||Tt.length!=0||this.h.h||(this.s=1,hn(16),Z=!1),this.o=this.o&&Z,!Z)ho(this.i,this.l,Tt,"[Invalid Chunked Response]"),bs(this),Ll(this);else if(0<Tt.length&&!this.W){this.W=!0;var js=this.j;js.g==this&&js.ba&&!js.M&&(js.j.info("Great, no buffering proxy detected. Bytes received: "+Tt.length),vE(js),js.M=!0,hn(11))}}else ho(this.i,this.l,Tt,null),Ec(this,Tt);Bs==4&&bs(this),this.o&&!this.J&&(Bs==4?i1(this.j,this):(this.o=!1,Qn(this)))}else Su(this.g),Z==400&&0<Tt.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),bs(this),Ll(this)}}}catch{}finally{}};function Em(P){return P.g?P.u=="GET"&&P.L!=2&&P.j.Ca:!1}function _c(P,K){var Z=P.C,le=K.indexOf(`
`,Z);return le==-1?Jd:(Z=Number(K.substring(Z,le)),isNaN(Z)?Dh:(le+=1,le+Z>K.length?Jd:(K=K.slice(le,le+Z),P.C=le+Z,K)))}po.prototype.cancel=function(){this.J=!0,bs(this)};function Qn(P){P.S=Date.now()+P.I,Ph(P,P.I)}function Ph(P,K){if(P.B!=null)throw Error("WatchDog timer not null");P.B=En(f(P.ba,P),K)}function vs(P){P.B&&(a.clearTimeout(P.B),P.B=null)}po.prototype.ba=function(){this.B=null;const P=Date.now();0<=P-this.S?(Fl(this.i,this.A),this.L!=2&&(_t(),hn(17)),bs(this),this.s=2,Ll(this)):Ph(this,this.S-P)};function Ll(P){P.j.G==0||P.J||i1(P.j,P)}function bs(P){vs(P);var K=P.M;K&&typeof K.ma=="function"&&K.ma(),P.M=null,Yn(P.U),P.g&&(K=P.g,P.g=null,K.abort(),K.ma())}function Ec(P,K){try{var Z=P.j;if(Z.G!=0&&(Z.g==P||xs(Z.h,P))){if(!P.K&&xs(Z.h,P)&&Z.G==3){try{var le=Z.Da.g.parse(K)}catch{le=null}if(Array.isArray(le)&&le.length==3){var $e=le;if($e[0]==0){e:if(!Z.u){if(Z.g)if(Z.g.F+3e3<P.F)r1(Z),Tc(Z);else break e;n1(Z),hn(18)}}else Z.za=$e[1],0<Z.za-Z.T&&37500>$e[2]&&Z.F&&Z.v==0&&!Z.C&&(Z.C=En(f(Z.Za,Z),6e3));if(1>=Sm(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else $h(Z,11)}else if((P.K||Z.g==P)&&r1(Z),!v(K))for($e=Z.Da.g.parse(K),K=0;K<$e.length;K++){let ar=$e[K];if(Z.T=ar[0],ar=ar[1],Z.G==2)if(ar[0]=="c"){Z.K=ar[1],Z.ia=ar[2];const js=ar[3];js!=null&&(Z.la=js,Z.j.info("VER="+Z.la));const Bs=ar[4];Bs!=null&&(Z.Aa=Bs,Z.j.info("SVER="+Z.Aa));const sf=ar[5];sf!=null&&typeof sf=="number"&&0<sf&&(le=1.5*sf,Z.L=le,Z.j.info("backChannelRequestTimeoutMs_="+le)),le=Z;const go=P.g;if(go){const s1=go.g?go.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(s1){var Ve=le.h;Ve.g||s1.indexOf("spdy")==-1&&s1.indexOf("quic")==-1&&s1.indexOf("h2")==-1||(Ve.j=Ve.l,Ve.g=new Set,Ve.h&&(oe(Ve,Ve.h),Ve.h=null))}if(le.D){const o1=go.g?go.g.getResponseHeader("X-HTTP-Session-Id"):null;o1&&(le.ya=o1,Jt(le.I,le.D,o1))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-P.F,Z.j.info("Handshake RTT: "+Z.R+"ms")),le=Z;var Tt=P;if(le.qa=Ck(le,le.J?le.ia:null,le.W),Tt.K){we(le.h,Tt);var Lr=Tt,Cs=le.L;Cs&&(Lr.I=Cs),Lr.B&&(vs(Lr),Qn(Lr)),le.g=Tt}else Yg(le);0<Z.i.length&&rf(Z)}else ar[0]!="stop"&&ar[0]!="close"||$h(Z,7);else Z.G==3&&(ar[0]=="stop"||ar[0]=="close"?ar[0]=="stop"?$h(Z,7):us(Z):ar[0]!="noop"&&Z.l&&Z.l.ta(ar),Z.v=0)}}_t(4)}catch{}}var Cm=class{constructor(P,K){this.g=P,this.map=K}};function _u(P){this.l=P||10,a.PerformanceNavigationTiming?(P=a.performance.getEntriesByType("navigation"),P=0<P.length&&(P[0].nextHopProtocol=="hq"||P[0].nextHopProtocol=="h2")):P=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=P?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ws(P){return P.h?!0:P.g?P.g.size>=P.j:!1}function Sm(P){return P.h?1:P.g?P.g.size:0}function xs(P,K){return P.h?P.h==K:P.g?P.g.has(K):!1}function oe(P,K){P.g?P.g.add(K):P.h=K}function we(P,K){P.h&&P.h==K?P.h=null:P.g&&P.g.has(K)&&P.g.delete(K)}_u.prototype.cancel=function(){if(this.i=de(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const P of this.g.values())P.cancel();this.g.clear()}};function de(P){if(P.h!=null)return P.i.concat(P.h.D);if(P.g!=null&&P.g.size!==0){let K=P.i;for(const Z of P.g.values())K=K.concat(Z.D);return K}return m(P.i)}function ke(P){if(P.V&&typeof P.V=="function")return P.V();if(typeof Map<"u"&&P instanceof Map||typeof Set<"u"&&P instanceof Set)return Array.from(P.values());if(typeof P=="string")return P.split("");if(l(P)){for(var K=[],Z=P.length,le=0;le<Z;le++)K.push(P[le]);return K}K=[],Z=0;for(le in P)K[Z++]=P[le];return K}function Oe(P){if(P.na&&typeof P.na=="function")return P.na();if(!P.V||typeof P.V!="function"){if(typeof Map<"u"&&P instanceof Map)return Array.from(P.keys());if(!(typeof Set<"u"&&P instanceof Set)){if(l(P)||typeof P=="string"){var K=[];P=P.length;for(var Z=0;Z<P;Z++)K.push(Z);return K}K=[],Z=0;for(const le in P)K[Z++]=le;return K}}}function Ae(P,K){if(P.forEach&&typeof P.forEach=="function")P.forEach(K,void 0);else if(l(P)||typeof P=="string")Array.prototype.forEach.call(P,K,void 0);else for(var Z=Oe(P),le=ke(P),$e=le.length,Ve=0;Ve<$e;Ve++)K.call(void 0,le[Ve],Z&&Z[Ve],P)}var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(P,K){if(P){P=P.split("&");for(var Z=0;Z<P.length;Z++){var le=P[Z].indexOf("="),$e=null;if(0<=le){var Ve=P[Z].substring(0,le);$e=P[Z].substring(le+1)}else Ve=P[Z];K(Ve,$e?decodeURIComponent($e.replace(/\+/g," ")):"")}}}function ut(P){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,P instanceof ut){this.h=P.h,bt(this,P.j),this.o=P.o,this.g=P.g,jt(this,P.s),this.l=P.l;var K=P.i,Z=new mo;Z.i=K.i,K.g&&(Z.g=new Map(K.g),Z.h=K.h),yn(this,Z),this.m=P.m}else P&&(K=String(P).match(Je))?(this.h=!1,bt(this,K[1]||"",!0),this.o=en(K[2]||""),this.g=en(K[3]||"",!0),jt(this,K[4]),this.l=en(K[5]||"",!0),yn(this,K[6]||"",!0),this.m=en(K[7]||"")):(this.h=!1,this.i=new mo(null,this.h))}ut.prototype.toString=function(){var P=[],K=this.j;K&&P.push(br(K,Za,!0),":");var Z=this.g;return(Z||K=="file")&&(P.push("//"),(K=this.o)&&P.push(br(K,Za,!0),"@"),P.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Z=this.s,Z!=null&&P.push(":",String(Z))),(Z=this.l)&&(this.g&&Z.charAt(0)!="/"&&P.push("/"),P.push(br(Z,Z.charAt(0)=="/"?Tm:Eu,!0))),(Z=this.i.toString())&&P.push("?",Z),(Z=this.m)&&P.push("#",br(Z,Am)),P.join("")};function lt(P){return new ut(P)}function bt(P,K,Z){P.j=Z?en(K,!0):K,P.j&&(P.j=P.j.replace(/:$/,""))}function jt(P,K){if(K){if(K=Number(K),isNaN(K)||0>K)throw Error("Bad port number "+K);P.s=K}else P.s=null}function yn(P,K,Z){K instanceof mo?(P.i=K,el(P.i,P.h)):(Z||(K=br(K,ef)),P.i=new mo(K,P.h))}function Jt(P,K,Z){P.i.set(K,Z)}function $n(P){return Jt(P,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),P}function en(P,K){return P?K?decodeURI(P.replace(/%25/g,"%2525")):decodeURIComponent(P):""}function br(P,K,Z){return typeof P=="string"?(P=encodeURI(P).replace(K,_s),Z&&(P=P.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P):null}function _s(P){return P=P.charCodeAt(0),"%"+(P>>4&15).toString(16)+(P&15).toString(16)}var Za=/[#\/\?@]/g,Eu=/[#\?:]/g,Tm=/[#\?]/g,ef=/[#\?@]/g,Am=/#/g;function mo(P,K){this.h=this.g=null,this.i=P||null,this.j=!!K}function Ci(P){P.g||(P.g=new Map,P.h=0,P.i&&at(P.i,function(K,Z){P.add(decodeURIComponent(K.replace(/\+/g," ")),Z)}))}e=mo.prototype,e.add=function(P,K){Ci(this),this.i=null,P=wa(this,P);var Z=this.g.get(P);return Z||this.g.set(P,Z=[]),Z.push(K),this.h+=1,this};function Ls(P,K){Ci(P),K=wa(P,K),P.g.has(K)&&(P.i=null,P.h-=P.g.get(K).length,P.g.delete(K))}function ba(P,K){return Ci(P),K=wa(P,K),P.g.has(K)}e.forEach=function(P,K){Ci(this),this.g.forEach(function(Z,le){Z.forEach(function($e){P.call(K,$e,le,this)},this)},this)},e.na=function(){Ci(this);const P=Array.from(this.g.values()),K=Array.from(this.g.keys()),Z=[];for(let le=0;le<K.length;le++){const $e=P[le];for(let Ve=0;Ve<$e.length;Ve++)Z.push(K[le])}return Z},e.V=function(P){Ci(this);let K=[];if(typeof P=="string")ba(this,P)&&(K=K.concat(this.g.get(wa(this,P))));else{P=Array.from(this.g.values());for(let Z=0;Z<P.length;Z++)K=K.concat(P[Z])}return K},e.set=function(P,K){return Ci(this),this.i=null,P=wa(this,P),ba(this,P)&&(this.h-=this.g.get(P).length),this.g.set(P,[K]),this.h+=1,this},e.get=function(P,K){return P?(P=this.V(P),0<P.length?String(P[0]):K):K};function tf(P,K,Z){Ls(P,K),0<Z.length&&(P.i=null,P.g.set(wa(P,K),m(Z)),P.h+=Z.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const P=[],K=Array.from(this.g.keys());for(var Z=0;Z<K.length;Z++){var le=K[Z];const Ve=encodeURIComponent(String(le)),Tt=this.V(le);for(le=0;le<Tt.length;le++){var $e=Ve;Tt[le]!==""&&($e+="="+encodeURIComponent(String(Tt[le]))),P.push($e)}}return this.i=P.join("&")};function wa(P,K){return K=String(K),P.j&&(K=K.toLowerCase()),K}function el(P,K){K&&!P.j&&(Ci(P),P.i=null,P.g.forEach(function(Z,le){var $e=le.toLowerCase();le!=$e&&(Ls(this,le),tf(this,$e,Z))},P)),P.j=K}function Jb(P,K){const Z=new Ar;if(a.Image){const le=new Image;le.onload=h(ls,Z,"TestLoadImage: loaded",!0,K,le),le.onerror=h(ls,Z,"TestLoadImage: error",!1,K,le),le.onabort=h(ls,Z,"TestLoadImage: abort",!1,K,le),le.ontimeout=h(ls,Z,"TestLoadImage: timeout",!1,K,le),a.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=P}else K(!1)}function Cu(P,K){const Z=new Ar,le=new AbortController,$e=setTimeout(()=>{le.abort(),ls(Z,"TestPingServer: timeout",!1,K)},1e4);fetch(P,{signal:le.signal}).then(Ve=>{clearTimeout($e),Ve.ok?ls(Z,"TestPingServer: ok",!0,K):ls(Z,"TestPingServer: server error",!1,K)}).catch(()=>{clearTimeout($e),ls(Z,"TestPingServer: error",!1,K)})}function ls(P,K,Z,le,$e){try{$e&&($e.onload=null,$e.onerror=null,$e.onabort=null,$e.ontimeout=null),le(Z)}catch{}}function yE(){this.g=new er}function Gg(P,K,Z){const le=Z||"";try{Ae(P,function($e,Ve){let Tt=$e;u($e)&&(Tt=gn($e)),K.push(le+Ve+"="+encodeURIComponent(Tt))})}catch($e){throw K.push(le+"type="+encodeURIComponent("_badmap")),$e}}function Cc(P){this.l=P.Ub||null,this.j=P.eb||!1}p(Cc,Nn),Cc.prototype.g=function(){return new nf(this.l,this.j)},Cc.prototype.i=function(P){return function(){return P}}({});function nf(P,K){xe.call(this),this.D=P,this.o=K,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(nf,xe),e=nf.prototype,e.open=function(P,K){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=P,this.A=K,this.readyState=1,tl(this)},e.send=function(P){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const K={headers:this.u,method:this.B,credentials:this.m,cache:void 0};P&&(K.body=P),(this.D||a).fetch(new Request(this.A,K)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jl(this)),this.readyState=0},e.Sa=function(P){if(this.g&&(this.l=P,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=P.headers,this.readyState=2,tl(this)),this.g&&(this.readyState=3,tl(this),this.g)))if(this.responseType==="arraybuffer")P.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in P){if(this.j=P.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zb(this)}else P.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zb(P){P.j.read().then(P.Pa.bind(P)).catch(P.ga.bind(P))}e.Pa=function(P){if(this.g){if(this.o&&P.value)this.response.push(P.value);else if(!this.o){var K=P.value?P.value:new Uint8Array(0);(K=this.v.decode(K,{stream:!P.done}))&&(this.response=this.responseText+=K)}P.done?jl(this):tl(this),this.readyState==3&&Zb(this)}},e.Ra=function(P){this.g&&(this.response=this.responseText=P,jl(this))},e.Qa=function(P){this.g&&(this.response=P,jl(this))},e.ga=function(){this.g&&jl(this)};function jl(P){P.readyState=4,P.l=null,P.j=null,P.v=null,tl(P)}e.setRequestHeader=function(P,K){this.u.append(P,K)},e.getResponseHeader=function(P){return this.h&&this.h.get(P.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const P=[],K=this.h.entries();for(var Z=K.next();!Z.done;)Z=Z.value,P.push(Z[0]+": "+Z[1]),Z=K.next();return P.join(`\r
`)};function tl(P){P.onreadystatechange&&P.onreadystatechange.call(P)}Object.defineProperty(nf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(P){this.m=P?"include":"same-origin"}});function Sc(P){let K="";return S(P,function(Z,le){K+=le,K+=":",K+=Z,K+=`\r
`}),K}function pe(P,K,Z){e:{for(le in Z){var le=!1;break e}le=!0}le||(Z=Sc(Z),typeof P=="string"?Z!=null&&encodeURIComponent(String(Z)):Jt(P,K,Z))}function _e(P){xe.call(this),this.headers=new Map,this.o=P||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(_e,xe);var He=/^https?$/i,Ut=["POST","PUT"];e=_e.prototype,e.Ha=function(P){this.J=P},e.ea=function(P,K,Z,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+P);K=K?K.toUpperCase():"GET",this.D=P,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ei.g(),this.v=this.o?Ni(this.o):Ni(Ei),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(K,String(P),!0),this.B=!1}catch(Ve){Dn(this,Ve);return}if(P=Z||"",Z=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var $e in le)Z.set($e,le[$e]);else if(typeof le.keys=="function"&&typeof le.get=="function")for(const Ve of le.keys())Z.set(Ve,le.get(Ve));else throw Error("Unknown input type for opt_headers: "+String(le));le=Array.from(Z.keys()).find(Ve=>Ve.toLowerCase()=="content-type"),$e=a.FormData&&P instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ut,K,void 0))||le||$e||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ve,Tt]of Z)this.g.setRequestHeader(Ve,Tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kr(this),this.u=!0,this.g.send(P),this.u=!1}catch(Ve){Dn(this,Ve)}};function Dn(P,K){P.h=!1,P.g&&(P.j=!0,P.g.abort(),P.j=!1),P.l=K,P.m=5,or(P),Cn(P)}function or(P){P.A||(P.A=!0,Te(P,"complete"),Te(P,"error"))}e.abort=function(P){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=P||7,Te(this,"complete"),Te(this,"abort"),Cn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cn(this,!0)),_e.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Nr(this):this.bb())},e.bb=function(){Nr(this)};function Nr(P){if(P.h&&typeof o<"u"&&(!P.v[1]||ri(P)!=4||P.Z()!=2)){if(P.u&&ri(P)==4)ht(P.Ea,0,P);else if(Te(P,"readystatechange"),ri(P)==4){P.h=!1;try{const Tt=P.Z();e:switch(Tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var K=!0;break e;default:K=!1}var Z;if(!(Z=K)){var le;if(le=Tt===0){var $e=String(P.D).match(Je)[1]||null;!$e&&a.self&&a.self.location&&($e=a.self.location.protocol.slice(0,-1)),le=!He.test($e?$e.toLowerCase():"")}Z=le}if(Z)Te(P,"complete"),Te(P,"success");else{P.m=6;try{var Ve=2<ri(P)?P.g.statusText:""}catch{Ve=""}P.l=Ve+" ["+P.Z()+"]",or(P)}}finally{Cn(P)}}}}function Cn(P,K){if(P.g){kr(P);const Z=P.g,le=P.v[0]?()=>{}:null;P.g=null,P.v=null,K||Te(P,"ready");try{Z.onreadystatechange=le}catch{}}}function kr(P){P.I&&(a.clearTimeout(P.I),P.I=null)}e.isActive=function(){return!!this.g};function ri(P){return P.g?P.g.readyState:0}e.Z=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(P){if(this.g){var K=this.g.responseText;return P&&K.indexOf(P)==0&&(K=K.substring(P.length)),Tn(K)}};function Es(P){try{if(!P.g)return null;if("response"in P.g)return P.g.response;switch(P.H){case"":case"text":return P.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in P.g)return P.g.mozResponseArrayBuffer}return null}catch{return null}}function Su(P){const K={};P=(P.g&&2<=ri(P)&&P.g.getAllResponseHeaders()||"").split(`\r
`);for(let le=0;le<P.length;le++){if(v(P[le]))continue;var Z=O(P[le]);const $e=Z[0];if(Z=Z[1],typeof Z!="string")continue;Z=Z.trim();const Ve=K[$e]||[];K[$e]=Ve,Ve.push(Z)}T(K,function(le){return le.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nl(P,K,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[P]||K}function Oh(P){this.Aa=0,this.i=[],this.j=new Ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nl("failFast",!1,P),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nl("baseRetryDelayMs",5e3,P),this.cb=nl("retryDelaySeedMs",1e4,P),this.Wa=nl("forwardChannelMaxRetries",2,P),this.wa=nl("forwardChannelRequestTimeoutMs",2e4,P),this.pa=P&&P.xmlHttpFactory||void 0,this.Xa=P&&P.Tb||void 0,this.Ca=P&&P.useFetchStreams||!1,this.L=void 0,this.J=P&&P.supportsCrossDomainXhr||!1,this.K="",this.h=new _u(P&&P.concurrentRequestLimit),this.Da=new yE,this.P=P&&P.fastHandshake||!1,this.O=P&&P.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=P&&P.Rb||!1,P&&P.xa&&this.j.xa(),P&&P.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&P&&P.detectBufferingProxy||!1,this.ja=void 0,P&&P.longPollingTimeout&&0<P.longPollingTimeout&&(this.ja=P.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Oh.prototype,e.la=8,e.G=1,e.connect=function(P,K,Z,le){hn(0),this.W=P,this.H=K||{},Z&&le!==void 0&&(this.H.OSID=Z,this.H.OAID=le),this.F=this.X,this.I=Ck(this,null,this.W),rf(this)};function us(P){if(e1(P),P.G==3){var K=P.U++,Z=lt(P.I);if(Jt(Z,"SID",P.K),Jt(Z,"RID",K),Jt(Z,"TYPE","terminate"),Nh(P,Z),K=new po(P,P.j,K),K.L=2,K.v=$n(lt(Z)),Z=!1,a.navigator&&a.navigator.sendBeacon)try{Z=a.navigator.sendBeacon(K.v.toString(),"")}catch{}!Z&&a.Image&&(new Image().src=K.v,Z=!0),Z||(K.g=Sk(K.j,null),K.g.ea(K.v)),K.F=Date.now(),Qn(K)}Ek(P)}function Tc(P){P.g&&(vE(P),P.g.cancel(),P.g=null)}function e1(P){Tc(P),P.u&&(a.clearTimeout(P.u),P.u=null),r1(P),P.h.cancel(),P.s&&(typeof P.s=="number"&&a.clearTimeout(P.s),P.s=null)}function rf(P){if(!ws(P.h)&&!P.s){P.s=!0;var K=P.Ga;W||U(),V||(W(),V=!0),X.add(K,P),P.B=0}}function Q5(P,K){return Sm(P.h)>=P.h.j-(P.s?1:0)?!1:P.s?(P.i=K.D.concat(P.i),!0):P.G==1||P.G==2||P.B>=(P.Va?0:P.Wa)?!1:(P.s=En(f(P.Ga,P,K),_k(P,P.B)),P.B++,!0)}e.Ga=function(P){if(this.s)if(this.s=null,this.G==1){if(!P){this.U=Math.floor(1e5*Math.random()),P=this.U++;const $e=new po(this,this.j,P);let Ve=this.o;if(this.S&&(Ve?(Ve=A(Ve),D(Ve,this.S)):Ve=this.S),this.m!==null||this.O||($e.H=Ve,Ve=null),this.P)e:{for(var K=0,Z=0;Z<this.i.length;Z++){t:{var le=this.i[Z];if("__data__"in le.map&&(le=le.map.__data__,typeof le=="string")){le=le.length;break t}le=void 0}if(le===void 0)break;if(K+=le,4096<K){K=Z;break e}if(K===4096||Z===this.i.length-1){K=Z+1;break e}}K=1e3}else K=1e3;K=km(this,$e,K),Z=lt(this.I),Jt(Z,"RID",P),Jt(Z,"CVER",22),this.D&&Jt(Z,"X-HTTP-Session-Id",this.D),Nh(this,Z),Ve&&(this.O?K="headers="+encodeURIComponent(String(Sc(Ve)))+"&"+K:this.m&&pe(Z,this.m,Ve)),oe(this.h,$e),this.Ua&&Jt(Z,"TYPE","init"),this.P?(Jt(Z,"$req",K),Jt(Z,"SID","null"),$e.T=!0,Zd($e,Z,null)):Zd($e,Z,K),this.G=2}}else this.G==3&&(P?t1(this,P):this.i.length==0||ws(this.h)||t1(this))};function t1(P,K){var Z;K?Z=K.l:Z=P.U++;const le=lt(P.I);Jt(le,"SID",P.K),Jt(le,"RID",Z),Jt(le,"AID",P.T),Nh(P,le),P.m&&P.o&&pe(le,P.m,P.o),Z=new po(P,P.j,Z,P.B+1),P.m===null&&(Z.H=P.o),K&&(P.i=K.D.concat(P.i)),K=km(P,Z,1e3),Z.I=Math.round(.5*P.wa)+Math.round(.5*P.wa*Math.random()),oe(P.h,Z),Zd(Z,le,K)}function Nh(P,K){P.H&&S(P.H,function(Z,le){Jt(K,le,Z)}),P.l&&Ae({},function(Z,le){Jt(K,le,Z)})}function km(P,K,Z){Z=Math.min(P.i.length,Z);var le=P.l?f(P.l.Na,P.l,P):null;e:{var $e=P.i;let Ve=-1;for(;;){const Tt=["count="+Z];Ve==-1?0<Z?(Ve=$e[0].g,Tt.push("ofs="+Ve)):Ve=0:Tt.push("ofs="+Ve);let Lr=!0;for(let Cs=0;Cs<Z;Cs++){let ar=$e[Cs].g;const js=$e[Cs].map;if(ar-=Ve,0>ar)Ve=Math.max(0,$e[Cs].g-100),Lr=!1;else try{Gg(js,Tt,"req"+ar+"_")}catch{le&&le(js)}}if(Lr){le=Tt.join("&");break e}}}return P=P.i.splice(0,Z),K.D=P,le}function Yg(P){if(!P.g&&!P.u){P.Y=1;var K=P.Fa;W||U(),V||(W(),V=!0),X.add(K,P),P.v=0}}function n1(P){return P.g||P.u||3<=P.v?!1:(P.Y++,P.u=En(f(P.Fa,P),_k(P,P.v)),P.v++,!0)}e.Fa=function(){if(this.u=null,xk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var P=2*this.R;this.j.info("BP detection timer enabled: "+P),this.A=En(f(this.ab,this),P)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Tc(this),xk(this))};function vE(P){P.A!=null&&(a.clearTimeout(P.A),P.A=null)}function xk(P){P.g=new po(P,P.j,"rpc",P.Y),P.m===null&&(P.g.H=P.o),P.g.O=0;var K=lt(P.qa);Jt(K,"RID","rpc"),Jt(K,"SID",P.K),Jt(K,"AID",P.T),Jt(K,"CI",P.F?"0":"1"),!P.F&&P.ja&&Jt(K,"TO",P.ja),Jt(K,"TYPE","xmlhttp"),Nh(P,K),P.m&&P.o&&pe(K,P.m,P.o),P.L&&(P.g.I=P.L);var Z=P.g;P=P.ia,Z.L=1,Z.v=$n(lt(K)),Z.m=null,Z.P=!0,xc(Z,P)}e.Za=function(){this.C!=null&&(this.C=null,Tc(this),n1(this),hn(19))};function r1(P){P.C!=null&&(a.clearTimeout(P.C),P.C=null)}function i1(P,K){var Z=null;if(P.g==K){r1(P),vE(P),P.g=null;var le=2}else if(xs(P.h,K))Z=K.D,we(P.h,K),le=1;else return;if(P.G!=0){if(K.o)if(le==1){Z=K.m?K.m.length:0,K=Date.now()-K.F;var $e=P.B;le=ys(),Te(le,new sr(le,Z)),rf(P)}else Yg(P);else if($e=K.s,$e==3||$e==0&&0<K.X||!(le==1&&Q5(P,K)||le==2&&n1(P)))switch(Z&&0<Z.length&&(K=P.h,K.i=K.i.concat(Z)),$e){case 1:$h(P,5);break;case 4:$h(P,10);break;case 3:$h(P,6);break;default:$h(P,2)}}}function _k(P,K){let Z=P.Ta+Math.floor(Math.random()*P.cb);return P.isActive()||(Z*=2),Z*K}function $h(P,K){if(P.j.info("Error code "+K),K==2){var Z=f(P.fb,P),le=P.Xa;const $e=!le;le=new ut(le||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bt(le,"https"),$n(le),$e?Jb(le.toString(),Z):Cu(le.toString(),Z)}else hn(2);P.G=0,P.l&&P.l.sa(K),Ek(P),e1(P)}e.fb=function(P){P?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function Ek(P){if(P.G=0,P.ka=[],P.l){const K=de(P.h);(K.length!=0||P.i.length!=0)&&(g(P.ka,K),g(P.ka,P.i),P.h.i.length=0,m(P.i),P.i.length=0),P.l.ra()}}function Ck(P,K,Z){var le=Z instanceof ut?lt(Z):new ut(Z);if(le.g!="")K&&(le.g=K+"."+le.g),jt(le,le.s);else{var $e=a.location;le=$e.protocol,K=K?K+"."+$e.hostname:$e.hostname,$e=+$e.port;var Ve=new ut(null);le&&bt(Ve,le),K&&(Ve.g=K),$e&&jt(Ve,$e),Z&&(Ve.l=Z),le=Ve}return Z=P.D,K=P.ya,Z&&K&&Jt(le,Z,K),Jt(le,"VER",P.la),Nh(P,le),le}function Sk(P,K,Z){if(K&&!P.J)throw Error("Can't create secondary domain capable XhrIo object.");return K=P.Ca&&!P.pa?new _e(new Cc({eb:Z})):new _e(P.pa),K.Ha(P.J),K}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function bE(){}e=bE.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function rl(P,K){xe.call(this),this.g=new Oh(K),this.l=P,this.h=K&&K.messageUrlParams||null,P=K&&K.messageHeaders||null,K&&K.clientProtocolHeaderRequired&&(P?P["X-Client-Protocol"]="webchannel":P={"X-Client-Protocol":"webchannel"}),this.g.o=P,P=K&&K.initMessageHeaders||null,K&&K.messageContentType&&(P?P["X-WebChannel-Content-Type"]=K.messageContentType:P={"X-WebChannel-Content-Type":K.messageContentType}),K&&K.va&&(P?P["X-WebChannel-Client-Profile"]=K.va:P={"X-WebChannel-Client-Profile":K.va}),this.g.S=P,(P=K&&K.Sb)&&!v(P)&&(this.g.m=P),this.v=K&&K.supportsCrossDomainXhr||!1,this.u=K&&K.sendRawJson||!1,(K=K&&K.httpSessionIdParam)&&!v(K)&&(this.g.D=K,P=this.h,P!==null&&K in P&&(P=this.h,K in P&&delete P[K])),this.j=new Im(this)}p(rl,xe),rl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rl.prototype.close=function(){us(this.g)},rl.prototype.o=function(P){var K=this.g;if(typeof P=="string"){var Z={};Z.__data__=P,P=Z}else this.u&&(Z={},Z.__data__=gn(P),P=Z);K.i.push(new Cm(K.Ya++,P)),K.G==3&&rf(K)},rl.prototype.N=function(){this.g.l=null,delete this.j,us(this.g),delete this.g,rl.aa.N.call(this)};function Tk(P){Vr.call(this),P.__headers__&&(this.headers=P.__headers__,this.statusCode=P.__status__,delete P.__headers__,delete P.__status__);var K=P.__sm__;if(K){e:{for(const Z in K){P=Z;break e}P=void 0}(this.i=P)&&(P=this.i,K=K!==null&&P in K?K[P]:void 0),this.data=K}else this.data=P}p(Tk,Vr);function Ak(){Xn.call(this),this.status=1}p(Ak,Xn);function Im(P){this.g=P}p(Im,bE),Im.prototype.ua=function(){Te(this.g,"a")},Im.prototype.ta=function(P){Te(this.g,new Tk(P))},Im.prototype.sa=function(P){Te(this.g,new Ak)},Im.prototype.ra=function(){Te(this.g,"b")},rl.prototype.send=rl.prototype.o,rl.prototype.open=rl.prototype.m,rl.prototype.close=rl.prototype.close,fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,wc.COMPLETE="complete",Kn.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",xe.prototype.listen=xe.prototype.K,_e.prototype.listenOnce=_e.prototype.L,_e.prototype.getLastError=_e.prototype.Ka,_e.prototype.getLastErrorCode=_e.prototype.Ba,_e.prototype.getStatus=_e.prototype.Z,_e.prototype.getResponseJson=_e.prototype.Oa,_e.prototype.getResponseText=_e.prototype.oa,_e.prototype.send=_e.prototype.ea,_e.prototype.setWithCredentials=_e.prototype.Ha}).apply(typeof OD<"u"?OD:typeof self<"u"?self:typeof window<"u"?window:{});const j0e="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yl.UNAUTHENTICATED=new Yl(null),Yl.GOOGLE_CREDENTIALS=new Yl("google-credentials-uid"),Yl.FIRST_PARTY=new Yl("first-party-uid"),Yl.MOCK_USER=new Yl("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K5="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=new _4("@firebase/firestore");function ld(e,...t){if(c$.logLevel<=zr.DEBUG){const n=t.map(J4e);c$.debug(`Firestore (${K5}): ${e}`,...n)}}function Q4e(e,...t){if(c$.logLevel<=zr.ERROR){const n=t.map(J4e);c$.error(`Firestore (${K5}): ${e}`,...n)}}function J4e(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4e(e="Unexpected state"){const t=`FIRESTORE (${K5}) INTERNAL ASSERTION FAILED: `+e;throw Q4e(t),new Error(t)}function d2(e,t){e||Z4e()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ed extends hh{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJt{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fJt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Yl.UNAUTHENTICATED))}shutdown(){}}class hJt{constructor(t){this.t=t,this.currentUser=Yl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){d2(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new f2;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new f2,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ld("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ld("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new f2)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ld("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(d2(typeof r.accessToken=="string"),new dJt(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return d2(t===null||typeof t=="string"),new Yl(t)}}class pJt{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Yl.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mJt{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new pJt(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Yl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gJt{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yJt{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){d2(this.o===void 0);const r=s=>{s.error!=null&&ld("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ld("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{ld("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ld("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(d2(typeof n.token=="string"),this.R=n.token,new gJt(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vJt(e){return e.name==="IndexedDbTransactionError"}class d${constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new d$("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof d$&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B0e,lr;(lr=B0e||(B0e={}))[lr.OK=0]="OK",lr[lr.CANCELLED=1]="CANCELLED",lr[lr.UNKNOWN=2]="UNKNOWN",lr[lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lr[lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lr[lr.NOT_FOUND=5]="NOT_FOUND",lr[lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",lr[lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",lr[lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",lr[lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lr[lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lr[lr.ABORTED=10]="ABORTED",lr[lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",lr[lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",lr[lr.INTERNAL=13]="INTERNAL",lr[lr.UNAVAILABLE=14]="UNAVAILABLE",lr[lr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new X4e([4294967295,4294967295],0);function FB(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJt{constructor(t,n,r=1e3,i=1.5,s=6e4){this.li=t,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&ld("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new f2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Vee(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ed(Zc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var z0e,U0e;(U0e=z0e||(z0e={})).na="default",U0e.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJt(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0e=new Map;function xJt(e,t,n,r){if(t===!0&&r===!0)throw new ed(Zc.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0e{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ed(Zc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ed(Zc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xJt("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wJt((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ed(Zc.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ed(Zc.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ed(Zc.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _Jt{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0e({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ed(Zc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ed(Zc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0e(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fJt;switch(r.type){case"firstParty":return new mJt(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ed(Zc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=H0e.get(n);r&&(ld("ComponentProvider","Removing Datastore"),H0e.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0e{constructor(t=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new bJt(this,"async_queue_retry"),this.fu=()=>{const r=FB();r&&ld("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=t;const n=FB();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.du){this.du=!0,this.Vu=t||!1;const n=FB();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.du)return new Promise(()=>{});const n=new f2;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!vJt(t))throw t;ld("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const n=this.gu.then(()=>(this.Ru=!0,t().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Q4e("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(t,n,r){this.pu(),this.mu.indexOf(t)>-1&&(n=0);const i=Vee.createAndSchedule(this,t,n,r,s=>this.Su(s));return this.Eu.push(i),i}pu(){this.Au&&Z4e()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const n of this.Eu)if(n.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const n=this.Eu.indexOf(t);this.Eu.splice(n,1)}}class EJt extends _Jt{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new V0e,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new V0e(t),this._firestoreClient=void 0,await t}}}(function(t,n=!0){(function(i){K5=i})(Cb),Up(new Xf("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new EJt(new hJt(r.getProvider("auth-internal")),new yJt(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ed(Zc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new d$(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dd(j0e,"4.7.6",t),dd(j0e,"4.7.6","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJt=new Map,SJt={activated:!1,tokenObservers:[]};function Dd(e){return CJt.get(e)||Object.assign({},SJt)}const W0e={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJt{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new R7,this.pending.promise.catch(n=>{}),await AJt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new R7,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function AJt(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},f$=new P_("appCheck","AppCheck",kJt);function eMe(e){if(!Dd(e).activated)throw f$.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJt="firebase-app-check-database",RJt=1,bq="firebase-app-check-store";let ND=null;function DJt(){return ND||(ND=new Promise((e,t)=>{try{const n=indexedDB.open(IJt,RJt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(f$.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(bq,{keyPath:"compositeKey"})}}}catch(n){t(f$.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),ND)}function PJt(e,t){return OJt(NJt(e),t)}async function OJt(e,t){const r=(await DJt()).transaction(bq,"readwrite"),s=r.objectStore(bq).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(f$.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function NJt(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=new _4("@firebase/app-check");function G0e(e,t){return nxe()?PJt(e,t).catch(n=>{wq.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Jt={error:"UNKNOWN_ERROR"};function MJt(e){return bG.encodeString(JSON.stringify(e),!1)}async function xq(e,t=!1){const n=e.app;eMe(n);const r=Dd(n);let i=r.token,s;if(i&&!kS(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(kS(l)?i=l:await G0e(n,void 0))}if(!t&&i&&kS(i))return{token:i.token};let o=!1;try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Dd(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?wq.warn(l.message):wq.error(l),s=l}let a;return i?s?kS(i)?a={token:i.token,internalError:s}:a=K0e(s):(a={token:i.token},r.token=i,await G0e(n,i)):a=K0e(s),o&&BJt(n,a),a}async function FJt(e){const t=e.app;eMe(t);const{provider:n}=Dd(t);{const{token:r}=await n.getToken();return{token:r}}}function LJt(e,t,n,r){const{app:i}=e,s=Dd(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&kS(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Y0e(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Y0e(e))}function tMe(e,t){const n=Dd(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Y0e(e){const{app:t}=e,n=Dd(t);let r=n.tokenRefresher;r||(r=jJt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function jJt(e){const{app:t}=e;return new TJt(async()=>{const n=Dd(t);let r;if(n.token?r=await xq(e,!0):r=await xq(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Dd(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},W0e.RETRIAL_MIN_WAIT,W0e.RETRIAL_MAX_WAIT)}function BJt(e,t){const n=Dd(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function kS(e){return e.expireTimeMillis-Date.now()>0}function K0e(e){return{token:MJt($Jt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Dd(this.app);for(const n of t)tMe(this.app,n.next);return Promise.resolve()}}function UJt(e,t){return new zJt(e,t)}function HJt(e){return{getToken:t=>xq(e,t),getLimitedUseToken:()=>FJt(e),addTokenListener:t=>LJt(e,"INTERNAL",t),removeTokenListener:t=>tMe(e.app,t)}}const qJt="@firebase/app-check",VJt="0.8.11",WJt="app-check",X0e="app-check-internal";function GJt(){Up(new Xf(WJt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return UJt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(X0e).initialize()})),Up(new Xf(X0e,e=>{const t=e.getProvider("app-check").getImmediate();return HJt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),dd(qJt,VJt)}GJt();const YJt=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zv(async()=>{const{default:r}=await Promise.resolve().then(()=>bk);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Wee extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class KJt extends Wee{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Q0e extends Wee{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class J0e extends Wee{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _q;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_q||(_q={}));var XJt=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class QJt{constructor(t,{headers:n={},customFetch:r,region:i=_q.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=YJt(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return XJt(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(m=>{throw new KJt(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Q0e(d);if(!d.ok)throw new J0e(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof J0e||i instanceof Q0e?i.context:void 0}}})}}var qs={},sw={},ow={},aw={},lw={},uw={},JJt=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},d_=JJt();const ZJt=d_.fetch,nMe=d_.fetch.bind(d_),rMe=d_.Headers,eZt=d_.Request,tZt=d_.Response,bk=Object.freeze(Object.defineProperty({__proto__:null,Headers:rMe,Request:eZt,Response:tZt,default:nMe,fetch:ZJt},Symbol.toStringTag,{value:"Module"})),nZt=Cge(bk);var $D={},Z0e;function iMe(){if(Z0e)return $D;Z0e=1,Object.defineProperty($D,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return $D.default=e,$D}var ege;function sMe(){if(ege)return uw;ege=1;var e=uw&&uw.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(uw,"__esModule",{value:!0});const t=e(nZt),n=e(iMe());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f;let h=null,p=null,m=null,g=u.status,y=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=C:p=JSON.parse(C))}const w=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),E=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&E&&E.length>1&&(m=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await u.text();try{h=JSON.parse(w),Array.isArray(h)&&u.status===404&&(p=[],h=null,g=200,y="OK")}catch{u.status===404&&w===""?(g=204,y="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,g=200,y="OK"),h&&this.shouldThrowOnError)throw new n.default(h)}return{error:h,data:p,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,f;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return uw.default=r,uw}var tge;function oMe(){if(tge)return lw;tge=1;var e=lw&&lw.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lw,"__esModule",{value:!0});const t=e(sMe());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return lw.default=n,lw}var nge;function Gee(){if(nge)return aw;nge=1;var e=aw&&aw.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(aw,"__esModule",{value:!0});const t=e(oMe());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return aw.default=n,aw}var rge;function aMe(){if(rge)return ow;rge=1;var e=ow&&ow.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ow,"__esModule",{value:!0});const t=e(Gee());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ow.default=n,ow}var BC={},zC={},ige;function rZt(){return ige||(ige=1,Object.defineProperty(zC,"__esModule",{value:!0}),zC.version=void 0,zC.version="0.0.0-automated"),zC}var sge;function iZt(){if(sge)return BC;sge=1,Object.defineProperty(BC,"__esModule",{value:!0}),BC.DEFAULT_HEADERS=void 0;const e=rZt();return BC.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},BC}var oge;function sZt(){if(oge)return sw;oge=1;var e=sw&&sw.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(sw,"__esModule",{value:!0});const t=e(aMe()),n=e(Gee()),r=iZt();class i{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let d;const f=new URL(`${this.url}/rpc/${o}`);let h;l||u?(d=l?"HEAD":"GET",Object.entries(a).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{f.searchParams.append(m,g)})):(d="POST",h=a);const p=Object.assign({},this.headers);return c&&(p.Prefer=`count=${c}`),new n.default({method:d,url:f,headers:p,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return sw.default=i,sw}var age;function oZt(){if(age)return qs;age=1;var e=qs&&qs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(qs,"__esModule",{value:!0}),qs.PostgrestError=qs.PostgrestBuilder=qs.PostgrestTransformBuilder=qs.PostgrestFilterBuilder=qs.PostgrestQueryBuilder=qs.PostgrestClient=void 0;const t=e(sZt());qs.PostgrestClient=t.default;const n=e(aMe());qs.PostgrestQueryBuilder=n.default;const r=e(Gee());qs.PostgrestFilterBuilder=r.default;const i=e(oMe());qs.PostgrestTransformBuilder=i.default;const s=e(sMe());qs.PostgrestBuilder=s.default;const o=e(iMe());return qs.PostgrestError=o.default,qs.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},qs}var aZt=oZt();const lZt=ao(aZt),{PostgrestClient:uZt,PostgrestQueryBuilder:Ztn,PostgrestFilterBuilder:enn,PostgrestTransformBuilder:tnn,PostgrestBuilder:nnn,PostgrestError:rnn}=lZt;function cZt(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const dZt=cZt(),fZt="2.11.15",hZt=`realtime-js/${fZt}`,pZt="1.0.0",lMe=1e4,mZt=1e3;var h2;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(h2||(h2={}));var Xo;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xo||(Xo={}));var qc;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qc||(qc={}));var Eq;(function(e){e.websocket="websocket"})(Eq||(Eq={}));var Ky;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ky||(Ky={}));class gZt{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class uMe{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var si;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(si||(si={}));const lge=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=yZt(o,e,t,i),s),{})},yZt=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?cMe(s,o):Cq(o)},cMe=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return xZt(t,n)}switch(e){case si.bool:return vZt(t);case si.float4:case si.float8:case si.int2:case si.int4:case si.int8:case si.numeric:case si.oid:return bZt(t);case si.json:case si.jsonb:return wZt(t);case si.timestamp:return _Zt(t);case si.abstime:case si.date:case si.daterange:case si.int4range:case si.int8range:case si.money:case si.reltime:case si.text:case si.time:case si.timestamptz:case si.timetz:case si.tsrange:case si.tstzrange:return Cq(t);default:return Cq(t)}},Cq=e=>e,vZt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bZt=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wZt=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},xZt=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>cMe(t,a))}return e},_Zt=e=>typeof e=="string"?e.replace(" ","T"):e,dMe=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class LB{constructor(t,n,r={},i=lMe){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var uge;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uge||(uge={}));class p2{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=p2.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=p2.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=p2.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(g=>g.presence_ref),h=d.map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0),m=d.filter(g=>f.indexOf(g.presence_ref)<0);p.length>0&&(a[u]=p),m.length>0&&(l[u]=m)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cge;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cge||(cge={}));var dge;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dge||(dge={}));var np;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(np||(np={}));class Yee{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Xo.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new LB(this,qc.join,this.params,this.timeout),this.rejoinTimer=new uMe(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xo.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xo.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Xo.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xo.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qc.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new p2(this),this.broadcastEndpointURL=dMe(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Xo.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(np.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(np.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){t==null||t(np.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,p=[];for(let m=0;m<h;m++){const g=f[m],{filter:{event:y,schema:v,table:w,filter:E}}=g,C=c&&c[m];if(C&&C.event===y&&C.schema===v&&C.table===w&&C.filter===E)p.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=Xo.errored,t==null||t(np.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(np.SUBSCRIBED);return}}).receive("error",c=>{this.state=Xo.errored,t==null||t(np.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(np.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xo.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qc.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new LB(this,qc.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new LB(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=qc;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,m,g;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(m=h.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(h=>{var p,m,g,y,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const E=h.id,C=(p=h.filter)===null||p===void 0?void 0:p.event;return E&&((m=n.ids)===null||m===void 0?void 0:m.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const E=(v=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return E==="*"||E===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:m,table:g,commit_timestamp:y,type:v,errors:w}=p;f=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===Xo.closed}_isJoined(){return this.state===Xo.joined}_isJoining(){return this.state===Xo.joining}_isLeaving(){return this.state===Xo.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Yee.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qc.close,{},t)}_onError(t){this._on(qc.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xo.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=lge(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=lge(t.columns,t.old_record)),n}}const fge=()=>{},EZt=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CZt{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lMe,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fge,this.ref=0,this.logger=fge,this.conn=null,this.sendBuffer=[],this.serializer=new gZt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>zv(async()=>{const{default:l}=await import("./index-C1S7Jhv7.js");return{default:l}},[]).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Eq.websocket}`,this.httpEndpoint=dMe(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new uMe(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=dZt),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pZt}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case h2.connecting:return Ky.Connecting;case h2.open:return Ky.Open;case h2.closing:return Ky.Closing;default:return Ky.Closed}}isConnected(){return this.connectionState()===Ky.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Yee(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:hZt};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(qc.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(mZt,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(qc.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([EZt],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Kee extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ys(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class SZt extends Kee{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sq extends Kee{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var TZt=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const fMe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zv(async()=>{const{default:r}=await Promise.resolve().then(()=>bk);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},AZt=()=>TZt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zv(()=>Promise.resolve().then(()=>bk),void 0)).Response:Response}),Tq=e=>{if(Array.isArray(e))return e.map(n=>Tq(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Tq(r)}),t};var Qb=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const jB=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kZt=(e,t,n)=>Qb(void 0,void 0,void 0,function*(){const r=yield AZt();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new SZt(jB(i),e.status||500))}).catch(i=>{t(new Sq(jB(i),i))}):t(new Sq(jB(e),e))}),IZt=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function wk(e,t,n,r,i,s){return Qb(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,IZt(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>kZt(l,a,r))})})}function h$(e,t,n,r){return Qb(this,void 0,void 0,function*(){return wk(e,"GET",t,n,r)})}function c0(e,t,n,r,i){return Qb(this,void 0,void 0,function*(){return wk(e,"POST",t,r,i,n)})}function RZt(e,t,n,r,i){return Qb(this,void 0,void 0,function*(){return wk(e,"PUT",t,r,i,n)})}function DZt(e,t,n,r){return Qb(this,void 0,void 0,function*(){return wk(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hMe(e,t,n,r,i){return Qb(this,void 0,void 0,function*(){return wk(e,"DELETE",t,r,i,n)})}var fl=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const PZt={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hge={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class OZt{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=fMe(i)}uploadOrUpdate(t,n,r,i){return fl(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},hge),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(Ys(s))return{data:null,error:s};throw s}})}upload(t,n,r){return fl(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return fl(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:hge.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ys(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return fl(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield c0(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Kee("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Ys(r))return{data:null,error:r};throw r}})}update(t,n,r){return fl(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return fl(this,void 0,void 0,function*(){try{return{data:yield c0(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ys(i))return{data:null,error:i};throw i}})}copy(t,n,r){return fl(this,void 0,void 0,function*(){try{return{data:{path:(yield c0(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ys(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return fl(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield c0(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ys(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return fl(this,void 0,void 0,function*(){try{const i=yield c0(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ys(i))return{data:null,error:i};throw i}})}download(t,n){return fl(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield h$(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ys(a))return{data:null,error:a};throw a}})}info(t){return fl(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield h$(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Tq(r),error:null}}catch(r){if(Ys(r))return{data:null,error:r};throw r}})}exists(t){return fl(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield DZt(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ys(r)&&r instanceof Sq){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return fl(this,void 0,void 0,function*(){try{return{data:yield hMe(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ys(n))return{data:null,error:n};throw n}})}list(t,n,r){return fl(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},PZt),n),{prefix:t||""});return{data:yield c0(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ys(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const NZt="2.7.1",$Zt={"X-Client-Info":`storage-js/${NZt}`};var cw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class MZt{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},$Zt),n),this.fetch=fMe(r)}listBuckets(){return cw(this,void 0,void 0,function*(){try{return{data:yield h$(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ys(t))return{data:null,error:t};throw t}})}getBucket(t){return cw(this,void 0,void 0,function*(){try{return{data:yield h$(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ys(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return cw(this,void 0,void 0,function*(){try{return{data:yield c0(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ys(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return cw(this,void 0,void 0,function*(){try{return{data:yield RZt(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ys(r))return{data:null,error:r};throw r}})}emptyBucket(t){return cw(this,void 0,void 0,function*(){try{return{data:yield c0(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ys(n))return{data:null,error:n};throw n}})}deleteBucket(t){return cw(this,void 0,void 0,function*(){try{return{data:yield hMe(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ys(n))return{data:null,error:n};throw n}})}}class FZt extends MZt{constructor(t,n={},r){super(t,n,r)}from(t){return new OZt(this.url,this.headers,t,this.fetch)}}const LZt="2.50.3";let IS="";typeof Deno<"u"?IS="deno":typeof document<"u"?IS="web":typeof navigator<"u"&&navigator.product==="ReactNative"?IS="react-native":IS="node";const jZt={"X-Client-Info":`supabase-js-${IS}/${LZt}`},BZt={headers:jZt},zZt={schema:"public"},UZt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HZt={};var qZt=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const VZt=e=>{let t;return e?t=e:typeof fetch>"u"?t=nMe:t=fetch,(...n)=>t(...n)},WZt=()=>typeof Headers>"u"?rMe:Headers,GZt=(e,t,n)=>{const r=VZt(n),i=WZt();return(s,o)=>qZt(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var YZt=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function KZt(e){return e.endsWith("/")?e:e+"/"}function XZt(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>YZt(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const pMe="2.70.0",xw=30*1e3,Aq=3,BB=Aq*xw,QZt="http://localhost:9999",JZt="supabase.auth.token",ZZt={"X-Client-Info":`gotrue-js/${pMe}`},kq="X-Supabase-Api-Version",mMe={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},een=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ten=6e5;class Xee extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function On(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nen extends Xee{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ren(e){return On(e)&&e.name==="AuthApiError"}class gMe extends Xee{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wg extends Xee{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class t0 extends Wg{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ien(e){return On(e)&&e.name==="AuthSessionMissingError"}class MD extends Wg{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class FD extends Wg{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class LD extends Wg{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sen(e){return On(e)&&e.name==="AuthImplicitGrantRedirectError"}class pge extends Wg{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Iq extends Wg{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zB(e){return On(e)&&e.name==="AuthRetryableFetchError"}class mge extends Wg{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class m2 extends Wg{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const p$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gge=` 	
\r=`.split(""),oen=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gge.length;t+=1)e[gge[t].charCodeAt(0)]=-2;for(let t=0;t<p$.length;t+=1)e[p$[t].charCodeAt(0)]=t;return e})();function yge(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(p$[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(p$[r]),t.queuedBits-=6}}function yMe(e,t,n){const r=oen[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vge(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{uen(o,r,n)};for(let o=0;o<e.length;o+=1)yMe(e.charCodeAt(o),i,s);return t.join("")}function aen(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function len(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}aen(r,t)}}function uen(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function cen(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)yMe(e.charCodeAt(i),n,r);return new Uint8Array(t)}function den(e){const t=[];return len(e,n=>t.push(n)),new Uint8Array(t)}function fen(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>yge(i,n,r)),yge(null,n,r),t.join("")}function hen(e){return Math.round(Date.now()/1e3)+e}function pen(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lc=()=>typeof window<"u"&&typeof document<"u",Sy={tested:!1,writable:!1},g2=()=>{if(!Lc())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sy.tested)return Sy.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sy.tested=!0,Sy.writable=!0}catch{Sy.tested=!0,Sy.writable=!1}return Sy.writable};function men(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const vMe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zv(async()=>{const{default:r}=await Promise.resolve().then(()=>bk);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},gen=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bMe=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},jD=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},BD=async(e,t)=>{await e.removeItem(t)};class X5{constructor(){this.promise=new X5.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}X5.promiseConstructor=Promise;function UB(e){const t=e.split(".");if(t.length!==3)throw new m2("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!een.test(t[r]))throw new m2("JWT not in base64url format");return{header:JSON.parse(vge(t[0])),payload:JSON.parse(vge(t[1])),signature:cen(t[2]),raw:{header:t[0],payload:t[1]}}}async function yen(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ven(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function ben(e){return("0"+e.toString(16)).substr(-2)}function wen(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,ben).join("")}async function xen(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function _en(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await xen(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dw(e,t,n=!1){const r=wen();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await bMe(e,`${t}-code-verifier`,i);const s=await _en(r);return[s,r===s?"plain":"s256"]}const Een=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cen(e){const t=e.headers.get(kq);if(!t||!t.match(Een))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Sen(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ten(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Aen=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fw(e){if(!Aen.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ken=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ly=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ien=[502,503,504];async function bge(e){var t;if(!gen(e))throw new Iq(Ly(e),0);if(Ien.includes(e.status))throw new Iq(Ly(e),e.status);let n;try{n=await e.json()}catch(s){throw new gMe(Ly(s),s)}let r;const i=Cen(e);if(i&&i.getTime()>=mMe["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new mge(Ly(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new t0}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new mge(Ly(n),e.status,n.weak_password.reasons);throw new nen(Ly(n),e.status||500,r)}const Ren=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function qn(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[kq]||(s[kq]=mMe["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Den(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Den(e,t,n,r,i,s){const o=Ren(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Iq(Ly(l),0)}if(a.ok||await bge(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await bge(l)}}function Jh(e){var t;let n=null;$en(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=hen(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function wge(e){const t=Jh(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function b0(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Pen(e){return{data:e,error:null}}function Oen(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=ken(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Nen(e){return e}function $en(e){return e.access_token&&e.refresh_token&&e.expires_in}const HB=["global","local","others"];var Men=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Fen{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=vMe(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=HB[0]){if(HB.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${HB.join(", ")}`);try{return await qn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await qn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:b0})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Men(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await qn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Oen,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(On(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await qn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:b0})}catch(n){if(On(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await qn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Nen});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(On(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){fw(t);try{return await qn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:b0})}catch(n){if(On(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){fw(t);try{return await qn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:b0})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){fw(t);try{return await qn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:b0})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){fw(t.userId);try{const{data:n,error:r}=await qn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(On(n))return{data:null,error:n};throw n}}async _deleteFactor(t){fw(t.userId),fw(t.id);try{return{data:await qn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}}const Len={getItem:e=>g2()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{g2()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{g2()&&globalThis.localStorage.removeItem(e)}};function xge(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function jen(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hw={debug:!!(globalThis&&g2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wMe extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ben extends wMe{}async function zen(e,t,n){hw.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),hw.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){hw.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{hw.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw hw.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ben(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hw.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}jen();const Uen={url:QZt,storageKey:JZt,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZZt,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _ge(e,t,n){return await n()}class kT{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kT.nextInstanceID,kT.nextInstanceID+=1,this.instanceID>0&&Lc()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Uen),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Fen({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vMe(i.fetch),this.lock=i.lock||_ge,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Lc()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zen:this.lock=_ge,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:g2()?this.storage=Len:(this.memoryStorage={},this.storage=xge(this.memoryStorage)):(this.memoryStorage={},this.storage=xge(this.memoryStorage)),Lc()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pMe}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=men(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Lc()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),sen(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return On(n)?{error:n}:{error:new gMe("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await qn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jh}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(On(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await dw(this.storage,this.storageKey)),s=await qn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:Jh})}else if("phone"in t){const{phone:c,password:d,options:f}=t;s=await qn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jh})}else throw new FD("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(On(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await qn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wge})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await qn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wge})}else throw new FD("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new MD}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(On(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,u,c,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:v,options:w}=t;let E;if(Lc())if(typeof y=="object")E=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))E=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const C=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const S=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),v?{statement:v}:null));let T;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")T=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)T=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)p=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),m=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${C.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const S=await E.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:g,error:y}=await qn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:fen(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Jh});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new MD}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(On(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const n=await jD(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await qn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Jh});if(await BD(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new MD}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(On(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await qn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jh}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new MD}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(On(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await dw(this.storage,this.storageKey));const{error:d}=await qn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await qn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new FD("You must provide either an email or phone number.")}catch(a){if(On(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await qn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Jh});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(On(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await dw(this.storage,this.storageKey)),await qn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Pen})}catch(s){if(On(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new t0;const{error:i}=await qn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(On(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await qn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await qn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new FD("You must provide either an email or phone number and a type")}catch(n){if(On(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await jD(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<BB:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:b0}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new t0}:await qn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:b0})})}catch(n){if(On(n))return ien(n)&&(await this._removeSession(),await BD(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new t0;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await dw(this.storage,this.storageKey));const{data:u,error:c}=await qn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:b0});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new t0;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=UB(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(On(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new t0;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(On(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Lc())throw new LD("No browser detected.");if(t.error||t.error_description||t.error_code)throw new LD(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pge("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new LD("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pge("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new LD("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=xw&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const p=f-d;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,c);const{data:m,error:g}=await this._getUser(s);if(g)throw g;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(On(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await jD(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(ren(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await BD(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=pen(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await dw(this.storage,this.storageKey,!0));try{return await qn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(On(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:f}=s;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await qn(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Lc()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(On(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await qn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(On(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ven(async i=>(i>0&&await yen(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await qn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jh})),(i,s)=>{const o=200*Math.pow(2,i);return s&&zB(s)&&Date.now()+o-r<xw})}catch(r){if(this._debug(n,"error",r),On(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Lc()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await jD(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<BB;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${BB}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),zB(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new t0;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new X5;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new t0;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),On(s)){const o={session:null,error:s};return zB(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bMe(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await BD(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lc()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xw);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/xw);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xw}ms, refresh threshold is ${Aq} ticks`),i<=Aq&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wMe)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lc()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await dw(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await qn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(On(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await qn(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(On(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await qn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(On(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await qn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(On(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=UB(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+ten>Date.now()))return r;const{data:i,error:s}=await qn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new m2("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===t),!r)throw new m2("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};r=h.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=UB(r);if(Sen(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:s,header:i,signature:o},error:null}}const u=Ten(i.alg),c=await this.fetchJwk(i.kid,n),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,den(`${a}.${l}`)))throw new m2("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}}kT.nextInstanceID=0;const Hen=kT;class qen extends Hen{constructor(t){super(t)}}var Ven=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Wen{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=KZt(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:zZt,realtime:HZt,auth:Object.assign(Object.assign({},UZt),{storageKey:u}),global:BZt},d=XZt(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=GZt(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new uZt(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new QJt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new FZt(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Ven(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qen({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new CZt(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gen=(e,t,n)=>new Wen(e,t,n);class Yen extends W4e{constructor(n=!1){super("supabase",n);ul(this,"supabase",Gen("https://olmo.datsi.fi.upm.es/revisitDB","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE"))}async _getFromStorage(n,r,i){const{data:s,error:o}=await this.supabase.storage.from("revisit").download(`${this.collectionPrefix}${i||this.studyId}/${n}_${r}`);if(o)return{};const a=this.testing?new Blob([s],{type:"application/json"}):s;try{const l=await a.text();return JSON.parse(l)}catch{return a}}async _pushToStorage(n,r,i){await this.verifyStudyDatabase();let s=new Blob;i instanceof Blob?s=this.testing?Buffer.from(JSON.stringify(i)):i:s=new Blob([JSON.stringify(i)],{type:"application/json"});const{error:o}=await this.supabase.storage.from("revisit").upload(`${this.collectionPrefix}${this.studyId}/${n}_${r}`,s,{upsert:!0});if(o)throw new Error("Failed to upload to Supabase")}async _deleteFromStorage(n,r){await this.verifyStudyDatabase();const{error:i}=await this.supabase.storage.from("revisit").remove([`${this.collectionPrefix}${this.studyId}/${n}_${r}`]);if(i)throw new Error("Failed to delete from Supabase")}async _cacheStorageObject(n,r){await this.verifyStudyDatabase();const{data:i,error:s}=await this.supabase.storage.from("revisit").download(`${this.collectionPrefix}${this.studyId}/${n}_${r}`);if(s||!i)throw new Error("Failed to download object for cache update");const{error:o}=await this.supabase.storage.from("revisit").upload(`${this.collectionPrefix}${this.studyId}/${n}_${r}`,i,{upsert:!0,cacheControl:"31536000"});if(o)throw new Error("Failed to update cache header for Supabase object")}async _verifyStudyDatabase(){const{error:n}=await this.supabase.from("revisit").select("*").eq("studyId",`${this.collectionPrefix}${this.studyId}`);if(n||!this.studyId)throw new Error("Study database not initialized or does not exist")}async _getCurrentConfigHash(){var r;await this.verifyStudyDatabase();const{data:n}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId","currentConfigHash").single();return((r=n==null?void 0:n.data)==null?void 0:r.configHash)||null}async _setCurrentConfigHash(n){await this.verifyStudyDatabase(),await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${this.studyId}`,docId:"currentConfigHash",data:{configHash:n}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId","currentConfigHash")}async _getAllSequenceAssignments(n){const{data:r,error:i}=await this.supabase.from("revisit").select("data, createdAt").eq("studyId",`${this.collectionPrefix}${n}`).like("docId","sequenceAssignment_%");if(i)throw new Error("Failed to get sequence assignments");return r.map(s=>({...s.data,timestamp:s.data.withServerTimestamp?new Date(s.createdAt).getTime():s.data.timestamp,createdTime:new Date(s.createdAt).getTime()})).sort((s,o)=>s.timestamp-o.timestamp)}async _createSequenceAssignment(n,r,i=!1){if(await this.verifyStudyDatabase(),!this.studyId)throw new Error("Study ID is not set");await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${this.studyId}`,docId:`sequenceAssignment_${n}`,data:{...r,withServerTimestamp:i}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",`sequenceAssignment_${n}`)}async _completeCurrentParticipantRealtime(){if(await this.verifyStudyDatabase(),!this.currentParticipantId)throw new Error("Participant not initialized");if(!this.studyId)throw new Error("Study ID is not set");const{data:n,error:r}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",`sequenceAssignment_${this.currentParticipantId}`).single();if(r||!n)throw new Error("Failed to retrieve sequence assignment for current participant");const i=`sequenceAssignment_${this.currentParticipantId}`;await this.supabase.from("revisit").update({data:{...n.data,completed:new Date().getTime()}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",i)}async _rejectParticipantRealtime(n){if(await this.verifyStudyDatabase(),!this.currentParticipantId)throw new Error("Participant not initialized");if(!this.studyId)throw new Error("Study ID is not set");const r=`sequenceAssignment_${n}`,{data:i,error:s}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",r).single();if(s||!i)throw new Error("Failed to retrieve sequence assignment for current participant");await this.supabase.from("revisit").update({data:{...i.data,rejected:!0,timestamp:new Date().getTime()}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",r);const{data:o,error:a}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("data->timestamp",i.data.timestamp).single();if(a||!o)throw new Error("Failed to retrieve claimed sequence assignment for rejection");await this.supabase.from("revisit").update({data:{...o.data,claimed:!1}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",`sequenceAssignment_${o.data.participantId}`)}async _claimSequenceAssignment(n,r){if(await this.verifyStudyDatabase(),!this.currentParticipantId)throw new Error("Participant not initialized");if(!this.studyId)throw new Error("Study ID is not set");const i=`sequenceAssignment_${n}`;await this.supabase.from("revisit").update({data:{...r,claimed:!0}}).eq("studyId",`${this.collectionPrefix}${this.studyId}`).eq("docId",i)}async initializeStudyDb(n){const{error:r}=await this.supabase.auth.signInAnonymously(),{error:i}=await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${n}`,docId:"connect",data:{}});this.studyId=n,(r||i&&i.code!=="23505")&&console.error("Error initializing study DB:",r||i)}async connect(){return new Promise((n,r)=>{this.supabase?(this.connected=!0,n()):r(new Error("Failed to connect to Supabase"))})}async getModes(n){const{data:r,error:i}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${n}`).eq("docId","metadata");if(i)throw new Error("Failed to get modes");if(r.length>0){const o=r[0].data;if(o)return o}const s={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${n}`,docId:"metadata",data:s}).eq("studyId",`${this.collectionPrefix}${n}`).eq("docId","metadata"),s}async setMode(n,r,i){const s=await this.getModes(n);s[r]=i,await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${n}`,docId:"metadata",data:s}).eq("studyId",`${this.collectionPrefix}${n}`).eq("docId","metadata")}async _getAudioUrl(n,r){await this.verifyStudyDatabase();const i=r||this.currentParticipantId;if(!i)throw new Error("Participant not initialized");const s=await this._getFromStorage(`/audio/${i}`,n);return s?URL.createObjectURL(s):null}async _testingReset(n){const{error:r}=await this.supabase.from("revisit").delete().eq("studyId",`${this.collectionPrefix}${n}`);if(r)throw new Error("Failed to reset study database");const{data:i,error:s}=await this.supabase.schema("storage").from("objects").select("name").eq("bucket_id","revisit").like("name",`${this.collectionPrefix}${n}%`);if(s)throw new Error("Failed to retrieve file paths for reset");if(i&&i.length>0){const{error:o}=await this.supabase.storage.from("revisit").remove(i.map(a=>a.name));if(o)throw new Error("Failed to delete files from storage during reset")}await super.__testingReset()}async getSnapshots(n){const{data:r,error:i}=await this.supabase.from("revisit").select("data").eq("studyId",`${this.collectionPrefix}${n}`).eq("docId","snapshots").single();return i?{}:(r==null?void 0:r.data)||{}}async _directoryExists(n){const{data:r,error:i}=await this.supabase.storage.from("revisit").list(n,{limit:1});return i?(console.error("Error checking directory existence:",i),!1):r.length>0}async _copyDirectory(n,r){const{data:i,error:s}=await this.supabase.storage.from("revisit").list(n);if(s)throw console.error("Error listing directory contents:",s),new Error("Failed to copy directory");const o=i.map(async a=>{const{data:l,error:u}=await this.supabase.storage.from("revisit").download(`${n}/${a.name}`);if(u)return;const{error:c}=await this.supabase.storage.from("revisit").upload(`${r}/${a.name}`,l,{upsert:!0});c&&console.error(`Error uploading file to ${r}/${a.name}:`,c)});await Promise.all(o)}async _deleteDirectory(n){const{data:r,error:i}=await this.supabase.storage.from("revisit").list(n);if(i)throw console.error("Error listing directory contents:",i),new Error("Failed to delete directory");if(r.length===0)return;const s=r.map(a=>`${n}/${a.name}`),{error:o}=await this.supabase.storage.from("revisit").remove(s);if(o)throw new Error("Failed to delete directory")}async _copyRealtimeData(n,r){const{data:i,error:s}=await this.supabase.from("revisit").select("createdAt, studyId, docId, data").eq("studyId",n).like("docId","sequenceAssignment_%");if(s)throw new Error("Failed to copy realtime data");const o=i.map(l=>({...l,studyId:r})),{error:a}=await this.supabase.from("revisit").upsert(o);a&&console.error("Error uploading realtime data for:",a)}async _deleteRealtimeData(n){const{error:r}=await this.supabase.from("revisit").delete().eq("studyId",n).like("docId","sequenceAssignment_%");if(r)throw new Error("Failed to delete realtime data")}async _addDirectoryNameToSnapshots(n,r){const i=await this.getSnapshots(r);i[n]||(i[n]={name:n},await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${r}`,docId:"snapshots",data:i}))}async _removeDirectoryNameFromSnapshots(n,r){const i=await this.getSnapshots(r);i[n]&&(delete i[n],await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${r}`,docId:"snapshots",data:i}))}async _changeDirectoryNameInSnapshots(n,r,i){const s=await this.getSnapshots(i);s[n]&&(s[n]={name:r},await this.supabase.from("revisit").upsert({studyId:`${this.collectionPrefix}${i}`,docId:"snapshots",data:s}))}}async function Ken(){let e,t=!1;{const n=new Yen;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new RQt;await n.connect(),e=n}return e}function UC({title:e}){const t=fc();return R.useEffect(()=>{document.title=e},[t,e]),null}async function Xen(){const t=await(await fetch(`${hs}global.json`)).text();return QWt(t)}function Qen(){const[e,t]=R.useState(null),[n,r]=R.useState({});R.useEffect(()=>{async function a(){e&&r(await eGt(e))}a()},[e]),R.useEffect(()=>{e||Xen().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:s}=Wi();R.useEffect(()=>{if(i!==void 0)return;async function a(){const l=await Ken();s(l)}a()},[s,i]);const o=async a=>i&&Fu(i)?!(await i.getModes(a)).analyticsInterfacePubliclyAccessible:!1;return e?_.jsx(yVe,{basename:hs,children:_.jsx(Xst,{children:_.jsx(PVe,{children:_.jsxs(Wqe,{children:[_.jsx(ky,{path:"/",element:_.jsxs(_.Fragment,{children:[_.jsx(UC,{title:"ReVISit | Home"}),_.jsxs(Gr,{padding:"md",header:{height:70},children:[_.jsx(w3,{studyIds:e.configsList}),_.jsx(Jst,{globalConfig:e,studyConfigs:n})]})]})}),_.jsx(ky,{path:"/:studyId/*",element:_.jsxs(_.Fragment,{children:[_.jsx(UC,{title:"ReVISit | Study"}),_.jsx(tGt,{globalConfig:e})]})}),_.jsx(ky,{path:"/analysis/stats/:studyId/:analysisTab/:trialId?",element:_.jsxs(_.Fragment,{children:[_.jsx(UC,{title:"ReVISit | Analysis"}),_.jsx(x0e,{paramToCheck:"studyId",paramCallback:o,children:_.jsx(Gr,{padding:"md",header:{height:70},children:_.jsx(vQt,{globalConfig:e})})})]})}),_.jsx(ky,{path:"/analysis/stats/:studyId",element:_.jsx(NNe,{to:"./table",replace:!0})}),_.jsx(ky,{path:"/settings",element:_.jsxs(x0e,{children:[_.jsx(UC,{title:"ReVISit | Settings"}),_.jsxs(Gr,{padding:"md",header:{height:70},children:[_.jsx(w3,{studyIds:e.configsList}),_.jsx(Gr.Main,{children:_.jsx(wQt,{})})]})]})}),_.jsx(ky,{path:"/login",element:_.jsxs(_.Fragment,{children:[_.jsx(UC,{title:"ReVISit | Login"}),_.jsxs(Gr,{padding:"md",header:{height:70},children:[_.jsx(w3,{studyIds:e.configsList}),_.jsx(Gr.Main,{children:_.jsx(bQt,{})})]})]})})]})})})}):null}M6e.createRoot(document.getElementById("root")).render(_.jsx(Ir.StrictMode,{children:_.jsx(tqe,{children:_.jsxs(Yge,{children:[_.jsx(cm,{}),_.jsx(Qen,{})]})})}));export{ao as a,Cge as g,jbt as z};
